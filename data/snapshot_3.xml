<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="3">
  <HTTPTask id="107" hostname="omniconv" path="/omni/common/docNumberSearch.htm" url="http://omniconv/omni/common/docNumberSearch.htm" ip="10.37.149.132" port="80" connectionId="6" origin="Primary" frame="1" startDateTime="2018-08-14T12:16:12.222-07:00" startTime="102707390" endTime="102707421">
    <HTTPRequest method="POST">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9odG1sLCBhcHBsaWNhdGlvbi94aHRtbCt4bWwsIGltYWdlL2p4ciwgKi8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvaW5kZXguanNw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVk</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Mjg=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlsY2pIdk5SSkNBL1ZFNk5oWkdkaEZBd05aQUpyZnNwNmg5cnZjWEJJdFBuSzB0K0V4V0hYb1l0MUxhRzdlYlQyOWpDT2RiMHFNY1hMRXhpMGkrSDV1K3hLQ0lTQXI2SklKNHQvZ2REUFZWbExiaDN3RW1VRnU2NkNKbTBtR3A3UXVqNzFvTE5aQ0VMWXBadEpDRCsvTlFQT3JTbm8xNVVRSFRld0FpQ09YSHF3b29uanBMREt6dDQ1THFLenNUSVBTOERVeDBHRi8vVmdBb1ZmTlZPQXVmc3JnZFZYekZWcHlSdFh3Z3p1U1BSZzRtbVBNbmh2QnZGdS9VWEZ4RXU4U01ubk1RV0pEdTZGNHJGd2NBYUdoOXZkUUdyYmhnU1QyMmdxMjZPcDcycGlYNWZiazR4Q2laMmdqemloN012TUFmWHBUYUJ3dlU5eVpYZnNSci95dHlwaERXNXVueURiZSt4RFlLelBaN2NJODhOaURuN0NUZTB2WDRuSEY0N21WblpNLzRLdU9aekk1YlVhS1Jmc0xadm1DcjQ2c0p2SHc1MEdlUlJ2MHdMYk9zSldjeDB5clBkUXhmZHJPQ2RNc3k5SUloNVlwODE1VGduMzdyTnozcFJiNkdQT1lkbWR0SG1XUEhMWW9TRWE4QW5aTWF6dUR5MlpTNm5WSnJyS1VWMXZSVVpZcFFuaEl1NjdqQmtHekR2YVVKNHZmUFNQa0E2RHlqV2VzR2NTLzhYQko2Zz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>UE9TVCAvb21uaS9jb21tb24vZG9jTnVtYmVyU2VhcmNoLmh0bSBIVFRQLzEuMQ0KQWNjZXB0OiB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3hodG1sK3htbCwgaW1hZ2UvanhyLCAqLyoNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2luZGV4LmpzcA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZA0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KQ29udGVudC1MZW5ndGg6IDI4DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlsY2pIdk5SSkNBL1ZFNk5oWkdkaEZBd05aQUpyZnNwNmg5cnZjWEJJdFBuSzB0K0V4V0hYb1l0MUxhRzdlYlQyOWpDT2RiMHFNY1hMRXhpMGkrSDV1K3hLQ0lTQXI2SklKNHQvZ2REUFZWbExiaDN3RW1VRnU2NkNKbTBtR3A3UXVqNzFvTE5aQ0VMWXBadEpDRCsvTlFQT3JTbm8xNVVRSFRld0FpQ09YSHF3b29uanBMREt6dDQ1THFLenNUSVBTOERVeDBHRi8vVmdBb1ZmTlZPQXVmc3JnZFZYekZWcHlSdFh3Z3p1U1BSZzRtbVBNbmh2QnZGdS9VWEZ4RXU4U01ubk1RV0pEdTZGNHJGd2NBYUdoOXZkUUdyYmhnU1QyMmdxMjZPcDcycGlYNWZiazR4Q2laMmdqemloN012TUFmWHBUYUJ3dlU5eVpYZnNSci95dHlwaERXNXVueURiZSt4RFlLelBaN2NJODhOaURuN0NUZTB2WDRuSEY0N21WblpNLzRLdU9aekk1YlVhS1Jmc0xadm1DcjQ2c0p2SHc1MEdlUlJ2MHdMYk9zSldjeDB5clBkUXhmZHJPQ2RNc3k5SUloNVlwODE1VGduMzdyTnozcFJiNkdQT1lkbWR0SG1XUEhMWW9TRWE4QW5aTWF6dUR5MlpTNm5WSnJyS1VWMXZSVVpZcFFuaEl1NjdqQmtHekR2YVVKNHZmUFNQa0E2RHlqV2VzR2NTLzhYQko2Zz09DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZG9jU2VhcmNoTnVtYmVyPTg4ODkxMiZnbz1Hbw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Cache-Control" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGUsbm8tc3RvcmU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Pragma" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Language" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Location" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Persistent-Auth" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZmFsc2U=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU5YkM0bTIwVzFhTGZXS2tEMnlsKzRtdG82NjRsbjlPUFk5RzJJQVlHREZBaSs5TTltamhFNlRmSCthbkU0MWRlZHpaaFR5RkZTUWpKSzVKTEU4THIzaVc1a1lzSG9oWWJKQWp3UTg0ek1GRzBlZXNlVVkzTGdrVW9NKzFaMVNuQzlleVBia2UyK2oxQ1J4aDJadms9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzAyIEZvdW5kDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZSxuby1zdG9yZQ0KUHJhZ21hOiBuby1jYWNoZQ0KQ29udGVudC1MZW5ndGg6IDANCkNvbnRlbnQtTGFuZ3VhZ2U6IGVuLVVTDQpFeHBpcmVzOiBUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVA0KTG9jYXRpb246IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KU2VydmVyOiBXZWJTcGhlcmUgQXBwbGljYXRpb24gU2VydmVyLzcuMA0KUGVyc2lzdGVudC1BdXRoOiBmYWxzZQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdTliQzRtMjBXMWFMZldLa0QyeWwrNG10bzY2NGxuOU9QWTlHMklBWUdERkFpKzlNOW1qaEU2VGZIK2FuRTQxZGVkelpoVHlGRlNRakpLNUpMRThMcjNpVzVrWXNIb2hZYkpBandRODR6TUZHMGVlc2VVWTNMZ2tVb00rMVoxU25DOWV5UGJrZTIrajFDUnhoMlp2az0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102707406" offset="0" length="655" />
      </TcpPackets>
    </HTTPResponse>
    <HTTPTask id="109" hostname="omniconv" path="/omni/advcor/csPln/offenderCasePlan.htm" url="http://omniconv/omni/advcor/csPln/offenderCasePlan.htm" ip="10.37.149.132" port="80" connectionId="6" origin="Redirection" startDateTime="2018-08-14T12:16:12.237-07:00" startTime="102707421" endTime="102707437">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Accept" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9odG1sLCBhcHBsaWNhdGlvbi94aHRtbCt4bWwsIGltYWdlL2p4ciwgKi8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovL29tbmljb252L29tbmkvaW5kZXguanNw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Host" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>b21uaWNvbnY=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cache-Control" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bm8tY2FjaGU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cookie" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Authorization" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlhMXljNGo4bEJTTkFvOVJteFA5ZHlweHlDR01KQTZTQnlYam9GWStGbFV1Z0dEcGtHQ0xDcDF5V29oZWI2em42TGdKQUlyTWFkRFdKZyswZklqZVhLRjFaclgySjZtb1ZBMkU4TU9GTFdOMzh5aXY1MENVZ0pWaThXS1FqMmVydDNJTkRFNlVxMFBBOFI4UHVNNmtsbG5qejNKbngzOFVnR25IaWt3dlQ5cUFZdTg3dnJKQzROdDVrSlVhRGZoclY2UmFnNHFMNHFyeENsVkI1ZVd2VlhGcTZsWlJiRVpSb205Mi9aYmFiY0tXbjhoeVFVSjhOQ2pRckJEWjdhWkdWQlBjSFlTUE1Pdk1FN2tSWkhjektLZ2VDcDd1NTlMYWpXczU5dzdpMFYxNEdUZHpkdnVoejNVR0JORnJxSG9RemtsdEhmZDZyN3lIYzNDSkswOXZGamJiSGZSNnV2Vzh2bXN0UktwNERKZXVSK0IzK3FPV01PZ0RyTklpTjlVRklhYWwwYmJaMWFpcnQyK0VsNEVCMlhHWU5SYXJLdElJM2dGWWJ6M1BVeHJXSnErMlg1WXV0eDcwU2dNWUlNdWFxb0pmVG1EdWVJSWZNR3JXejBVTmkzOTh6ZHNhUFllWFVjTmxXV2p3clZCalZxbit6NE5UWHVwbHVYN3EwL0I0b2N4b2FTc21sek9kb3FaT2FoK05iNVFLVzU1VVJZc2xZUXJVbEE2VG5YT2hpTkhjbFcwUT09</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bSBIVFRQLzEuMQ0KQWNjZXB0OiB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3hodG1sK3htbCwgaW1hZ2UvanhyLCAqLyoNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2luZGV4LmpzcA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlhMXljNGo4bEJTTkFvOVJteFA5ZHlweHlDR01KQTZTQnlYam9GWStGbFV1Z0dEcGtHQ0xDcDF5V29oZWI2em42TGdKQUlyTWFkRFdKZyswZklqZVhLRjFaclgySjZtb1ZBMkU4TU9GTFdOMzh5aXY1MENVZ0pWaThXS1FqMmVydDNJTkRFNlVxMFBBOFI4UHVNNmtsbG5qejNKbngzOFVnR25IaWt3dlQ5cUFZdTg3dnJKQzROdDVrSlVhRGZoclY2UmFnNHFMNHFyeENsVkI1ZVd2VlhGcTZsWlJiRVpSb205Mi9aYmFiY0tXbjhoeVFVSjhOQ2pRckJEWjdhWkdWQlBjSFlTUE1Pdk1FN2tSWkhjektLZ2VDcDd1NTlMYWpXczU5dzdpMFYxNEdUZHpkdnVoejNVR0JORnJxSG9RemtsdEhmZDZyN3lIYzNDSkswOXZGamJiSGZSNnV2Vzh2bXN0UktwNERKZXVSK0IzK3FPV01PZ0RyTklpTjlVRklhYWwwYmJaMWFpcnQyK0VsNEVCMlhHWU5SYXJLdElJM2dGWWJ6M1BVeHJXSnErMlg1WXV0eDcwU2dNWUlNdWFxb0pmVG1EdWVJSWZNR3JXejBVTmkzOTh6ZHNhUFllWFVjTmxXV2p3clZCalZxbit6NE5UWHVwbHVYN3EwL0I0b2N4b2FTc21sek9kb3FaT2FoK05iNVFLVzU1VVJZc2xZUXJVbEE2VG5YT2hpTkhjbFcwUT09DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name="JSESSIONID" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Cache-Control" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bm8tY2FjaGUsbm8tc3RvcmU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Pragma" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bm8tY2FjaGU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9odG1sO2NoYXJzZXQ9VVRGLTg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Language" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Expires" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Server" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Server" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Persistent-Auth" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZmFsc2U=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-Powered-By" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QVNQLk5FVA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="WWW-Authenticate" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUrc0pkR1lmS1gzSU1jYk41SkdxN3MveXJHQUpHL05IQ3NRNVlzNGt1OEFmY2ZsUDZJTHNGeldMNFo2YTFzVjJsbE5wdGZSejJxbXRMT3dBY1hNQXJkSm9EcXJEeHBMb2tCZFpqY1pQM1h6Z2lsM1licEg5MmwrYWdCa05NeW53ZU9jWEJSNDRuRTRRWmJkZ0QxWXc9</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Date" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Y2xvc2U=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZSxuby1zdG9yZQ0KUHJhZ21hOiBuby1jYWNoZQ0KQ29udGVudC1UeXBlOiB0ZXh0L2h0bWw7Y2hhcnNldD1VVEYtOA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KQ29udGVudC1MYW5ndWFnZTogZW4tVVMNCkV4cGlyZXM6IFRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClNlcnZlcjogV2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjANClBlcnNpc3RlbnQtQXV0aDogZmFsc2UNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUrc0pkR1lmS1gzSU1jYk41SkdxN3MveXJHQUpHL05IQ3NRNVlzNGt1OEFmY2ZsUDZJTHNGeldMNFo2YTFzVjJsbE5wdGZSejJxbXRMT3dBY1hNQXJkSm9EcXJEeHBMb2tCZFpqY1pQM1h6Z2lsM1licEg5MmwrYWdCa05NeW53ZU9jWEJSNDRuRTRRWmJkZ0QxWXc9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KQ29ubmVjdGlvbjogY2xvc2UNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+DQoNCjwhRE9DVFlQRSBodG1sIFBVQkxJQyAiLS8vVzNDLy9EVEQgWEhUTUwgMS4wIFRyYW5zaXRpb25hbC8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9UUi94aHRtbDEvRFREL3hodG1sMS10cmFuc2l0aW9uYWwuZHRkIj4NCjxodG1sIGxhbmc9ImVuLVVTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+DQoNCgk8IS0tIEhlYWRlciBwb3J0aW9uOiBCRUdJTiAtLT4NCgk8aGVhZD4NCg0KCQk8IS0tIFNldCB0aGUgbWV0YSBwYXJhbWV0ZXJzIGZvciB0aGlzIHBhZ2UgLS0+DQoJCQ0KCQk8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDtjaGFyc2V0PVVURi04IiAvPg0KCQk8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVN0eWxlLVR5cGUiIGNvbnRlbnQ9InRleHQvY3NzIiAvPg0KDQoJCTwhLS0gSW5jbHVkZSBjb21tb24gSlNQIGZpbGVzIGZvciBPTU5JIC0tPg0KCQkNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoJCQ0KDQoNCgkJCQk8IS0tIEdsb2JhbCBib2R5IHN0eWxlIGRlY2xhcmF0aW9ucyAtLT4NCgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL09NTklTdGF0aWMvdGhlbWVzL29tbmkvZ2xvYmFsLWJvZHktc3R5bGVzLmNzcyIgLz4NCg0KCQk8IS0tIEdsb2JhbCBlcnJvciBzdHlsZSBkZWNsYXJhdGlvbnMgLS0+DQoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1lcnJvci1zdHlsZXMuY3NzIiAvPg0KDQoJCTwhLS0gR2xvYmFsIGh5cGVybGluayBzdHlsZSBkZWNsYXJhdGlvbnMgLS0+DQoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1saW5rLXN0eWxlcy5jc3MiIC8+DQoNCgkJPCEtLSBHbG9iYWwgbGF5ZXIgc3R5bGUgZGVjbGFyYXRpb25zIC0tPg0KCQk8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIvT01OSVN0YXRpYy90aGVtZXMvb21uaS9nbG9iYWwtbGF5ZXItc3R5bGVzLmNzcyIgLz4NCg0KCQk8IS0tIEdsb2JhbCBsYXlvdXQgZGVjbGFyYXRpb25zIC0tPg0KCQk8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIvT01OSVN0YXRpYy90aGVtZXMvb21uaS9nbG9iYWwtbGF5b3V0LXN0eWxlcy5jc3MiIC8+DQoNCgkJPCEtLSBHbG9iYWwgbWVudSBzdHlsZSBkZWNsYXJhdGlvbnMgLS0+DQoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1tZW51LXN0eWxlcy5jc3MiIC8+DQoNCgkJPCEtLSBHbG9iYWwgcHJpbnQgc3R5bGUgZGVjbGFyYXRpb25zIC0tPg0KCQk8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIvT01OSVN0YXRpYy90aGVtZXMvb21uaS9nbG9iYWwtcHJpbnQtc3R5bGVzLmNzcyIgbWVkaWE9InByaW50IiAvPg0KDQoJDQoJCTwhLS0gQ29tbW9uIHNjcmlwdHMgdXNlZCBpbiBPTU5JIC0tPg0KCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvT01OSVN0YXRpYy9zY3JpcHRzL2NvbW1vbi1zY3JpcHRzLmpzIj48L3NjcmlwdD4NCg0KCQk8IS0tIENvbW1vbiBkZWZlcnJlZCBzY3JpcHRzIHVzZWQgaW4gT01OSSAtLT4NCiAgICAgICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIGRlZmVyPSJkZWZlciIgc3JjPSIvT01OSVN0YXRpYy9zY3JpcHRzL2NvbW1vbi1kZWZlcnJlZC1zY3JpcHRzLmpzIj48L3NjcmlwdD4NCiAgICAgICAgDQogICAgICAgIDwhLS0gQ29tbW9uIGpxdWVyeSBzY3JpcHRzIHVzZWQgaW4gT01OSSAtLT4NCiAgICAgICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL09NTklTdGF0aWMvc2NyaXB0cy9qcXVlcnkvanF1ZXJ5LTEuOS4xLm1pbi5qcyI+PC9zY3JpcHQ+DQogICAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS1leHRlbnNpb24tMS45LjEuanMiPjwvc2NyaXB0Pg0KICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvT01OSVN0YXRpYy9zY3JpcHRzL2pxdWVyeS9qcXVlcnktdWkuanMiPjwvc2NyaXB0Pg0KICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvT01OSVN0YXRpYy9zY3JpcHRzL2pxdWVyeS9qcXVlcnktdWktZXh0ZW5zaW9uLmpzIj48L3NjcmlwdD4NCgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL09NTklTdGF0aWMvc2NyaXB0cy9qcXVlcnkvanF1ZXJ5LXVpLmNzcyIgLz4NCg0KICAgICAgICA8IS0tIGR3ciBzY3JpcHRzIHVzZWQgaW4gT01OSSAtLT4NCiAgICAgICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL29tbmkvZHdyL2VuZ2luZS5qcyI+PC9zY3JpcHQ+DQoJCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9vbW5pL2R3ci91dGlsLmpzIj48L3NjcmlwdD4gICAgDQoJCQ0KICAgICAgICA8IS0tIENvbW1vbiBzZXNzaW9uIHN0b3JhZ2Ugc2NyaXB0cyB1c2VkIGluIE9NTkkgLS0+DQogICAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9PTU5JU3RhdGljL3NjcmlwdHMvY29tbW9uLXNlc3Npb24tc3RvcmFnZS5qcyI+PC9zY3JpcHQ+DQogICAgICAgIA0KDQoNCg0KDQoNCg0KCQk8IS0tICRsYXllcm5hbWUgaXMgc2V0IHRvICJpZC1tYWluLXJpZ2h0IiBieSBkZWZhdWx0OiBvdmVycmlkZSBpZiBuZWNjZXNzYXJ5IC0tPg0KCQkNCg0KCQk8IS0tIFBhZ2Utc3BlY2lmaWMgaGVhZCBjb250ZW50OiBCRUdJTiAtLT4NCgkJDQoJCQ0KCQkNCgkJPCEtLSBEZWZpbmUgdGhlIHRpdGxlIGZvciB0aGlzIHBhZ2UgLS0+DQoJCTx0aXRsZT5PTU5JOiBPZmZlbmRlciBDYXNlIFBsYW48L3RpdGxlPg0KCQkNCgkJDQoJCQ0KCQkNCg0KCQk8IS0tIEluY2x1ZGUgYW55IGdsb2JhbCBlbGVtZW50cyAtLT4NCgkJDQoNCgkJPCEtLSBTcGVjaWZ5IHNjcmlwdHMgdXNlZCBpbiB0aGlzIHBhZ2UgLS0+DQoJCQ0KCQkNCjwhLS0gSGVhZGVyIC8gQ2FsZW5kYXIgKEphdmFTY3JpcHQpOiBCRUdJTiAtLT4NCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iL09NTklTdGF0aWMvdGhlbWVzL2NhbGVuZGFyL2NhbGVuZGFyLmNzcyIgIHR5cGU9InRleHQvY3NzIiAvPg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL09NTklTdGF0aWMvc2NyaXB0cy9jYWxlbmRhci5qcyI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvT01OSVN0YXRpYy9zY3JpcHRzL2NhbGVuZGFyLWVuLmpzIj48L3NjcmlwdD4NCjwhLS0gSGVhZGVyIC8gQ2FsZW5kYXIgKEphdmFTY3JpcHQpOiBFTkQgLS0+DQoNCgkJPCEtLSBIZWFkZXIgLyBDb2xsYXBzaWJsZSAoSmF2YVNjcmlwdCk6IEJFR0lOIC0tPg0KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvT01OSVN0YXRpYy90aGVtZXMvY29sbGFwc2libGUuY3NzIiAgdHlwZT0idGV4dC9jc3MiIC8+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvT01OSVN0YXRpYy9zY3JpcHRzL2NvbGxhcHNpYmxlLmpzIj48L3NjcmlwdD4NCjwhLS0gSGVhZGVyIC8gQ29sbGFwc2libGUgKEphdmFTY3JpcHQpOiBFTkQgLS0+DQoNCgkJPCEtLSBIZWFkZXIgLyBEaXNwbGF5VGFnIChKYXZhU2NyaXB0KTogQkVHSU4gLS0+DQo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii9PTU5JU3RhdGljL3RoZW1lcy9kaXNwbGF5dGFnLmNzcyIgIHR5cGU9InRleHQvY3NzIiAvPg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL09NTklTdGF0aWMvc2NyaXB0cy9kaXNwbGF5dGFnLmpzIj48L3NjcmlwdD4NCjwhLS0gSGVhZGVyIC8gRGlzcGxheVRhZyAoSmF2YVNjcmlwdCk6IEVORCAtLT4NCg0KCQk8bGluayB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL09NTklTdGF0aWMvdGhlbWVzL2pxdWVyeS1waWNrbGlzdC5jc3MiIHJlbD0ic3R5bGVzaGVldCIgLz4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS1waWNrbGlzdC5qcyI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvT01OSVN0YXRpYy9zY3JpcHRzL2pxdWVyeS9qcXVlcnkuc2Nyb2xsVG8uanMiPjwvc2NyaXB0Pg0KDQoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iL09NTklTdGF0aWMvdGhlbWVzL3Zpc2pzL3Zpcy5jc3MiICB0eXBlPSJ0ZXh0L2NzcyIgLz4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9PTU5JU3RhdGljL3NjcmlwdHMvdmlzLmpzIj48L3NjcmlwdD4NCgkJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL09NTklTdGF0aWMvc2NyaXB0cy9zcGVsbGNoZWNrLmpzIj48L3NjcmlwdD4JCQ0KCQk8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPScvb21uaS9kd3IvaW50ZXJmYWNlL25lZWRzR29hbHNNYW5hZ2VyLmpzJz48L3NjcmlwdD4JDQoJCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9PTU5JU3RhdGljL3NjcmlwdHMvYWR2Y29yL25lZWRzR29hbHMuanMiPjwvc2NyaXB0Pg0KCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQoJCS8vPCFbQ0RBVEFbDQoNCgkJLy8gQSBnbG9iYWwgdmFyaWFibGUgdG8gdHJhY2sgd2hpY2ggc2VjdGlvbi9zdWJzZWN0aW9uIHdhcyBsYXN0IGV4cGFuZGVkIG9yIHdob3NlIGNvbnRlbnQgd2FzIGNsaWNrZWQgb24uDQoJCS8vICAgVGhpcyBpcyBhIHwgc2VwYXJhdGVkIGxpc3Qgb2YgdGFyZ2V0cyB3aGVyZSBzdWJzZXF1ZW50IGVsZW1lbnRzIGFyZSByZWZlcmVuY2VzIGluc2lkZSBzZWN0aW9ucyBhbmQgc3Vic2VjdGlvbnMNCgkJdmFyIGxhc3RBY2Nlc3NlZDsNCgkJdmFyIHdpbmRvd19sb2NhdGlvbl9oYXNoID0gJyc7DQoJCQ0KCQkvLyBTaW1pbGlhciB0byBpbml0KCksIGV4Y2VwdCB0aGF0IHRoaXMgcmVhZHkgZnVuY3Rpb24gaXMgY2FsbGVkICpiZWZvcmUqIHRoZSBwYWdlIGlzIHJlbmRlcmVkLg0KCQkkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7CQkNCg0KCQkJLy8gc2hvdWxkIG5ldmVyIGZvY3VzIGhlcmUuICBPbmx5IGZvY3VzIGlmIHdlIGFyZW4ndCBjb21pbmcgaGVyZSBmcm9tIGFub3RoZXIgcGFnZSAodGhlcmUgaXNuJ3QgaGFzaGVzIGluIHRoZSB1cmwpDQoJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb2Nfbm8nKS5mb2N1cygpOy8vQ1EzMjMwNg0KCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG9jX25vJykuc2VsZWN0KCk7Ly9DUTMyMzA2DQoJCQkJCQkJDQoJCQkvLyBSZWdpc3RlciBjbGljayBldmVudHMgdG8gdGhlIENvbGxhcHNlIEFsbCBsaW5rcw0KCQkJJCgnYS5jb2xsYXBzZUFsbCcpLmFkZENsYXNzKCdjbHMtbGluaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHsNCgkJCQlpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHsNCgkJCQkJJCgnLmNvbGxhcHNpYmxlIC5jb2xsYXBzaWJsZS1oZWFkZXInKS5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJCQkJJCh0aGlzKS50cmlnZ2VyKCdoZWFkZXI6Y29sbGFwc2UnKTsNCgkJCQkJfSk7DQoJCQkJCSQoJ2h0bWwsYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3AgOiAwIH0pOw0KCQkJCX0NCgkJCX0pOw0KCQkNCgkJCS8vIFJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIgdG8gdHJpZ2dlciB3aGVuICphbGwqIGFqYXggcmVxdWVzdHMgaGF2ZSBiZWVuIHByb2Nlc3NlZC4NCgkJCS8vICAgU2Nyb2xsIHRvIHRoZSBzZWN0aW9uIG9mIGludGVyZXN0IHdoZW4gdGhlIHBhZ2UgZmluaXNoZXMgbG9hZGluZy4gDQoJCQlpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT09ICcjXycpIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyc7DQoJCQl3aW5kb3dfbG9jYXRpb25faGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoOw0KCQkJaWYgKHdpbmRvd19sb2NhdGlvbl9oYXNoICE9PSAnJykgew0KCQkJCXdpbmRvd19sb2NhdGlvbl9oYXNoID0gd2luZG93X2xvY2F0aW9uX2hhc2gucmVwbGFjZSgnIycsICcnKTsNCgkJCX0NCgkJCWVsc2Ugew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb2Nfbm8nKS5mb2N1cygpOy8vQ1EzMjMwNg0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb2Nfbm8nKS5zZWxlY3QoKTsvL0NRMzIzMDYNCgkJCX0NCgkJCS8vIEFmdGVyIGxvYWRpbmcgdGhlIG9mZmVuZGVyIGhlYWRlciwgbG9hZCB0aGUgZmlyc3Qgc2VjdGlvbiByZWZlcmVuY2VkIGluIHRoZSBoYXNoIChpZiBleGlzdGluZykNCgkJCSQoZG9jdW1lbnQpLmFqYXhTdG9wKGZ1bmN0aW9uKCkgewkNCgkJCQlsb2FkTmV4dEhhc2hTZWN0aW9uKCk7DQoJCQkJDQoJCQkJLy8gZGVyZWdpc3RlciB0aGlzIGV2ZW50ICh3ZSBvbmx5IHdhbnQgaXQgdG8gZmlyZSBvbiBpbml0aWFsIHJlbmRlcmluZykNCgkJCQkkKGRvY3VtZW50KS5vZmYoJ2FqYXhTdG9wJyk7DQoJCQkJJCgiI21haW5DYXNlUGxhblNlY3Rpb24iKS5zaG93KCk7DQoJCQl9KTsNCgkJCQ0KCQkJLy8gSWYgdGhlcmUgYXJlIG5vIGFjdGl2ZSBhamF4IHJlcXVlc3RzLCBzaG93IHRoZSBtYWluIENhc2UgUGxhbiBzZWN0aW9uDQoJCQlpZiAoJC5hY3RpdmUgPT0gMCkgew0KCQkJCSQoIiNtYWluQ2FzZVBsYW5TZWN0aW9uIikuc2hvdygpOw0KCQkJfQ0KCQkJCQ0KCQkJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkgeyAgICANCiAgICAgICAJCQkkKCcjY250Y1ByZFJzbHRzU3BhbicpLm9uKCdyZWZyZXNoJywgZnVuY3Rpb24oKSB7ICAgICAgIA0KICAgICAgICAgICAgICAJCXZhciBlZGl0aW5nQ250YyA9IGZhbHNlOw0KCSAgICAgICAgICAgICAgCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0aW5nQ250YycpKSB7DQoJICAgICAgICAgICAgICAgIAllZGl0aW5nQ250YyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0aW5nQ250YycpLnZhbHVlOw0KCSAgICAgICAgICAgICAgCX0NCiAgICAgICAgICAgICAgCQkkKHRoaXMpLmxvYWQoJy9vbW5pL2FkdmNvci9jbnRjL2NvbnRhY3RzLmh0bT9iYW5uZXJWaWV3PXRydWUmZWRpdGluZz0nK2VkaXRpbmdDbnRjLCBmdW5jdGlvbiggcmVzcG9uc2UsIHN0YXR1cywgeGhyICkgew0KICAgICAgICAgICAgICAgICAgICAJJCh0aGlzKS5odG1sKCByZXNwb25zZSApOw0KICAgICAgICAgICAgICAJCX0pOw0KICAgICAgIAkJCX0pOw0KICAgICAgIAkJCSQoJyNjbnRjUHJkUnNsdHNTcGFuJykudHJpZ2dlcigncmVmcmVzaCcpOw0KCQkJCX0pOw0KCQkJLy8gQWRkIGEgcmVmcmVzaCB0cmlnZ2VyIGZvciB0aGUgQ2FzZSBNYW5hZ2VtZW50IGZsYWcgdGhhdCBjYW4gYmUgY2FsbGVkIGF0IHdpbGwuDQogICAgICAgCQkkKCIjY21fc2VjdGlvbiAuZmxhZzpmaXJzdCIpLm9uKCdyZWZyZXNoJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgIHZhciBzcGFuID0gJCh0aGlzKTsNCiAgICAgICAgICAgICAgbmVlZHNHb2Fsc01hbmFnZXIuZ2V0Q2FzZU1hbmFnZW1lbnRGbGFnKCI4ODg5MTIiLCB7DQogICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oZmxhZykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHsgc3Bhbi5hZGRDbGFzcygnZmxhZy1pY29uJyk7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyBzcGFuLnJlbW92ZUNsYXNzKCdmbGFnLWljb24nKTsgfQ0KICAgICAgICAgICAgICAgICAgICAgfSwgYXN5bmM6dHJ1ZQ0KICAgICAgICAgICAgICAJfSk7DQogICAgICAgCQl9KTsgICAgICAgICAgICAgICAgICANCiAgICAgICAJCSQoJyNjbV9zZWN0aW9uIC5mbGFnOmZpcnN0JykudHJpZ2dlcigncmVmcmVzaCcpOw0KCQkJfSk7DQoNCgkJDQoJCS8vIExvYWRzIHRoZSBmaXJzdCBleHBhbmRhYmxlIHNlY3Rpb24gaWRlbnRpZmllZCBpbiB0aGUgaGFzaCBzdHJpbmcNCgkJZnVuY3Rpb24gbG9hZE5leHRIYXNoU2VjdGlvbigpIHsNCgkJCWlmICh3aW5kb3dfbG9jYXRpb25faGFzaCAhPT0gJycpIHsNCgkJCQl2YXIgYW5jaG9ycyA9IHdpbmRvd19sb2NhdGlvbl9oYXNoLnNwbGl0KCd8Jyk7DQoJCQkJaWYgKGFuY2hvcnMubGVuZ3RoID4gMSkgew0KCQkJCQl3aW5kb3dfbG9jYXRpb25faGFzaCA9IHdpbmRvd19sb2NhdGlvbl9oYXNoLnN1YnN0cmluZyh3aW5kb3dfbG9jYXRpb25faGFzaC5pbmRleE9mKCd8JykrMSwgd2luZG93X2xvY2F0aW9uX2hhc2gubGVuZ3RoKTsNCgkJCQl9DQoJCQkJZWxzZSB7DQoJCQkJCXdpbmRvd19sb2NhdGlvbl9oYXNoID0gJyc7DQoJCQkJfQ0KCQkJCQ0KCQkJCSQoIiMiK2FuY2hvcnNbMF0rIiA+IC5jb2xsYXBzaWJsZS1oZWFkZXIiKS50cmlnZ2VyKCdoZWFkZXI6ZXhwYW5kJyk7DQoJCQl9DQoJCX0NCgkJDQoJCWZ1bmN0aW9uIHJldHVyblRvVG9wKGVsZW0pIHsNCgkJCXZhciBoZWFkZXIgPSAkKGVsZW0pLnBhcmVudHMoJy5jb2xsYXBzaWJsZScpLmZpcnN0KCkuZmluZCgnLmNvbGxhcHNpYmxlLWhlYWRlcicpOw0KCQkJJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBoZWFkZXIub2Zmc2V0KCkudG9wfSk7DQoJCX0NCgkJDQoJCS8vIEEgY2FsbGJhY2sgZnVuY3Rpb24gdHJpZ2dlcmVkIHdoZW5ldmVyIGEgY29sbGFwc2libGUgc2VjdGlvbiBpcyBleHBhbmRlZC4NCgkJLy8gICBUaGlzIG1ldGhvZCByZWdpc3RlcnMgdGhlIHNlY3Rpb24gYXMgdGhlICJsYXN0QWNjZXNzZWQiDQoJCWZ1bmN0aW9uIG9uQWZ0ZXJFeHBhbmQoKSB7DQoJCQlzZXRMYXN0QWNjZXNzZWQodGhpcyk7DQoJCQkNCgkJIAkkKHRoaXMpLm5leHQoKS5vZmYoJ2NsaWNrJyk7DQoJCSAJJCh0aGlzKS5uZXh0KCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHsgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IHNldExhc3RBY2Nlc3NlZCh0aGlzKTsgfSk7DQoJCSAJDQoJCQkvLyBSZS1lbmFibGUgdGhlIENvbGxhcHNlIEFsbCBsaW5rcw0KCQkJJCgnYS5jb2xsYXBzZUFsbCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJDQoJCQlsb2FkTmV4dEhhc2hTZWN0aW9uKCk7DQoJCX0NCgkJDQoJCS8vIEEgY2FsbGJhY2sgZnVuY3Rpb24gdHJpZ2dlcmVkIHdoZW5ldmVyIGEgY29sbGFwc2libGUgc2VjdGlvbiBpcyBjb2xsYXBzZWQuDQoJCS8vICAgVGhpcyBtZXRob2QgZGVyZWdpc3RlcnMgdGhlIHNlY3Rpb24gYXMgdGhlICJsYXN0QWNjZXNzZWQiIGFuZCBjb2xsYXBzZXMgYWxsIGNoaWxkIHNlY3Rpb25zDQoJCWZ1bmN0aW9uIG9uQWZ0ZXJDb2xsYXBzZSgpIHsNCgkJCS8vIGNsZWFyIGxhc3RBY2Nlc3NlZCANCgkJCWxhc3RBY2Nlc3NlZCA9ICJfIjsNCgkJCQ0KCQkJY29sbGFwc2VTdWJTZWN0aW9ucygkKHRoaXMpKTsNCgkJCQ0KCQkJLy8gRGlzYWJsZSB0aGUgQ29sbGFwc2UgQWxsIGxpbmtzIGlmIGFsbCBzZWN0aW9ucyBhcmUgY29sbGFwc2VkLg0KCQkJaWYgKCQoJy5jb2xsYXBzaWJsZSAuY29sbGFwc2libGUtaGVhZGVyJykuZmlsdGVyKGZ1bmN0aW9uKCkge3JldHVybiAkKHRoaXMpLmRhdGEoJ3N0YXRlJykgPT0gJ2V4cGFuZGVkJzt9KS5sZW5ndGggPT0gMCkgewkJCQkNCgkJCQkkKCdhLmNvbGxhcHNlQWxsJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQl9DQoJCX0NCgkJDQoJCWZ1bmN0aW9uIGNvbGxhcHNlU3ViU2VjdGlvbnMoaGVhZGVyKSB7DQoJCQkvLyBjb2xsYXBzZSBhbGwgY2hpbGQgc2VjdGlvbnMNCgkJCWhlYWRlci5uZXh0KCkuZmluZCgnLmNvbGxhcHNpYmxlLWhlYWRlcicpLmVhY2goZnVuY3Rpb24oKSB7DQoJCQkJJCh0aGlzKS50cmlnZ2VyKCdoZWFkZXI6Y29sbGFwc2UnKTsNCgkJCX0pOw0KCQl9DQoJCQ0KCQkvLyByZWdpc3RlciBvbmJlZm9yZXVubG9hZCBldmVudCB0byBzYXZlIHNjcmVlbiBiZWZvcmUgd2UgbGVhdmUgdGhlIHBhZ2UuDQoJCSQod2luZG93KS5iaW5kKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbigpIHsNCgkJCS8vIHNhdmUgc2NyZWVuIHN0YXRlDQoJCQkkKCIjbGFzdEFjY2Vzc2VkIikudmFsKGxhc3RBY2Nlc3NlZCk7DQoJCQkkKCIjc3VibWl0QWN0aW9uIikudmFsKCJzYXZlU3RhdGUiKTsNCgkJCXZhciBmb3JtID0gJCgiI29jcEZvcm0iKTsNCgkJCSQucG9zdChmb3JtWzBdLmFjdGlvbiwgZm9ybS5zZXJpYWxpemUoKSk7CQ0KCQl9KTsNCgkJDQoJCS8vIE92ZXJyaWRlIGdsb2JhbCBmdW5jdGlvbiAtIHJlaW1wbGVtZW50IHdpdGhvdXQgZ2xvYmFsIHZhcmlhYmxlcy4NCgkJLy8gQ2hlY2sgYWxsIGlzRGlydHkgdmFyaWFibGVzIG9uIGFsbCBmb3Jtcywgbm90IGp1c3Qgb25lIHZhcmlhYmxlIG9uIG9uZSBmb3JtLg0KCQlmdW5jdGlvbiBjaGVja0Zvcm1DaGFuZ2VkKCkgew0KCQkJdmFyIGlzRGlydHkgPSBmYWxzZTsNCgkJCSQoImlucHV0W25hbWU9J2lzRGlydHknXSIpLmVhY2goZnVuY3Rpb24oKSB7DQoJCQkJaWYgKHRoaXMudmFsdWUgPT09ICd0cnVlJykgaXNEaXJ0eSA9IHRydWU7DQoJCQl9KTsNCgkJCWlmIChpc0RpcnR5KSB7DQoJCQkJcmV0dXJuIHdpbmRvdy5jb25maXJtKGdldElzRGlydHlDb25maXJtTWVzc2FnZSgpKTsgDQoJCQl9DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfQ0KCQ0KCQl2YXIgZm9ybV9zdWJtaXR0aW5nID0gZmFsc2U7CQ0KCQlmdW5jdGlvbiBhamF4UG9zdChpbnB1dEVsZW0pIHsNCgkJDQoJCQlpZiAoZm9ybV9zdWJtaXR0aW5nKSByZXR1cm4gZmFsc2U7DQoJCQkJZm9ybV9zdWJtaXR0aW5nID0gdHJ1ZTsgDQoJCQkJDQoJCQkvLyBpZGVudGlmeSB0aGUgZm9ybSBjb250YWluaW5nIHRoaXMgaW5wdXQgZWxlbWVudCANCgkJCXZhciBmb3JtID0gJChpbnB1dEVsZW0pLmNsb3Nlc3QoImZvcm0iKTsNCgkJCXZhciBkYXRhID0gZm9ybS5zZXJpYWxpemUoKTsNCgkJCWRhdGEgPSBkYXRhICsgIiYiICsgaW5wdXRFbGVtLm5hbWUgKyAiPSIgKyBpbnB1dEVsZW0udmFsdWU7DQoNCgkJCS8vIGRpc2FibGUgYnV0dG9ucyB3aXRoaW4gdGhpcyBmb3JtDQoJCQlmb3JtLmZpbmQoImlucHV0W3R5cGU9J2J1dHRvbiddIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTsNCg0KCQkJJC5hamF4KHsNCgkJCQl0eXBlIDogIlBPU1QiLA0KCQkJCXVybCA6IGZvcm1bMF0uYWN0aW9uLA0KCQkJCWRhdGEgOiBkYXRhLA0KCQkJCXN1Y2Nlc3MgOiBmdW5jdGlvbihyZXN1bHQpIHsNCgkJCQkJLy8gcmVwbGFjZSBzZWN0aW9uIGNvbnRlbnQgd2l0aCByZXN1bHRzDQoJCQkJCXZhciBjb250ZW50ID0gZm9ybS5jbG9zZXN0KCJkaXZbZGF0YS11cmxdIik7DQoJCQkJCWNvbnRlbnQuZW1wdHkoKS5hcHBlbmQocmVzdWx0KTsNCgkJCQkJDQoJCQkJCWZvcm1fc3VibWl0dGluZyA9IGZhbHNlOw0KCQkJCX0NCgkJCX0pOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoJCQ0KCQkvLyBTZXRzIHRoZSBsYXN0IGFjY2Vzc2VkIHNlY3Rpb24gYW5kIHN1YnNlY3Rpb24gaW4gYSB8IHNlcGFyYXRlZCBsaXN0Lg0KCQlmdW5jdGlvbiBzZXRMYXN0QWNjZXNzZWQoZWxlbSkgew0KCQkJbGFzdEFjY2Vzc2VkID0gJyc7DQoJCQkkKGVsZW0pLnBhcmVudHMoJy5jb2xsYXBzaWJsZScpLmVhY2goZnVuY3Rpb24gKCkgew0KCQkJCWxhc3RBY2Nlc3NlZCA9ICQodGhpcykuYXR0cignaWQnKSsnfCcrbGFzdEFjY2Vzc2VkOw0KCQkJfSk7DQoJCQkvLyByZW1vdmUgbGFzdCB8DQoJCQlsYXN0QWNjZXNzZWQgPSBsYXN0QWNjZXNzZWQuc3Vic3RyaW5nKDAsIGxhc3RBY2Nlc3NlZC5sZW5ndGgtMSk7DQoJCX0NCg0KCQkvL11dPg0KCQk8L3NjcmlwdD4NCg0KCQk8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgkJCQ0KCQkuY29sbGFwc2libGUtaGVhZGVyIHNwYW4gew0KCQkJZm9udC1zaXplOiA4cHQ7DQoJCQljb2xvcjogZ3JheTsNCgkJCWZvbnQtd2VpZ2h0OiBub3JtYWw7DQoJCX0NCgkJCQ0KCQlhLnJldHVyblRvVG9wIHsNCgkJCWZsb2F0OiByaWdodDsNCgkJfQ0KCQkNCgkJLmNvbGxhcHNlQWxsIHsNCgkJCWZsb2F0OiByaWdodDsNCgkJCWZvbnQtc2l6ZTogOHB0Ow0KCQl9DQoJCWZpZWxkc2V0IHsNCgkJCXBhZGRpbmc6IDBweDsNCgkJfQ0KCQkubWFpbi1yaWdodC1oZWFkZXIgLmNscy1saW5rLCAubWFpbi1yaWdodC1oZWFkZXIgLmNscy1saW5rLmRpc2FibGVkIHsNCgkJCWZvbnQtc2l6ZTogOHB0Ow0KCQkJZm9udC13ZWlnaHQ6IG5vcm1hbDsNCgkJfQ0KCQl0YWJsZSB0ZCwgdGFibGUgdGggew0KCQkJdmVydGljYWwtYWxpZ246IHRvcDsNCgkJCXdoaXRlLXNwYWNlOiBub3dyYXA7DQoJCX0NCgkJdGFibGUjY29fY29udGFjdHNPdmVycmlkZSB0ZCwgdGFibGUjY29fY29udGFjdHNPdmVycmlkZSB0aCB7DQoJCQl2ZXJ0aWNhbC1hbGlnbjogdG9wOw0KCQkJd2hpdGUtc3BhY2U6IG5vcm1hbDsNCgkJfQ0KCQkuZmxhZyB7DQoJCQliYWNrZ3JvdW5kLXBvc2l0aW9uOiBsZWZ0IGNlbnRlcjsNCgkJICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQoJCSAgICBmbG9hdDogcmlnaHQ7DQoJCSAgICBoZWlnaHQ6IDE1cHg7DQoJCSAgICB3aWR0aDogMTVweDsNCgkJICAgIHBhZGRpbmctcmlnaHQ6IDVweDsNCgkJfQ0KCQkuZmxhZy1pY29uIHsNCgkJCWJhY2tncm91bmQtaW1hZ2U6IHVybCgiL09NTklTdGF0aWMvaW1hZ2VzL2ljb25zL3JlZC1mbGFnLmdpZiIpOw0KCQl9DQoJCS5tYWluLXJpZ2h0LWhlYWRlci1vdmVydmlldy1leHBhbmRlZDpob3ZlciwgLm1haW4tcmlnaHQtaGVhZGVyLW92ZXJ2aWV3LWNvbGxhcHNlZDpob3ZlcnsNCgkJCWJhY2tncm91bmQtY29sb3I6ICNCOEI4ODU7DQoJCX0NCgkJYS5jbHMtbGluay5kaXNhYmxlZCB7DQoJCQljb2xvcjogZ3JheTsNCgkJCWN1cnNvcjogZGVmYXVsdDsNCgkJfQ0KCQlhLmNscy1saW5rLmRpc2FibGVkOmhvdmVyIHsNCgkJCWNvbG9yOiBncmF5Ow0KCQkJdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQoJCX0NCgkJaW5wdXRbdHlwZT0nc3VibWl0J11bZGlzYWJsZWRdIHsNCgkJICAgIGNvbG9yOiBncmF5dGV4dDsNCgkJfQ0KCQl0ZXh0YXJlYVtyZWFkb25seV17DQoJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZDRkMGM4Ow0KCQl9DQoJCQ0KCQl0YWJsZSNjbl9hZGRDbnRjVGJsIHRkIHsNCgkJCXBhZGRpbmctcmlnaHQ6IDEwcHg7DQoJCX0NCgkJDQoJCSNjbV9uZ19hY19mb3JtIC5waWNrTGlzdF9saXN0IHsNCgkJCWhlaWdodDogNTVweDsNCgkJCXdpZHRoOiAyMzBweDsNCgkJfQ0KCQkjY21fbmdfYWNfZm9ybSAucGlja0xpc3RfY29udHJvbHNDb250YWluZXIgew0KCQkJbWFyZ2luLXRvcDogMjVweDsNCgkJfQ0KCQkjY21fbmdfYWNfZm9ybSAucGlja0xpc3RfY29udHJvbHNDb250YWluZXIgYnV0dG9uIHsNCgkJCWhlaWdodDogMjVweDsNCgkJfQ0KCQkjY21fbmdfYXNtbnREbW5zLmRpc3BsYXlUYWcgPiB0Ym9keSA+IHRyID4gdGQgew0KCQkJdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCgkJCWJhY2tncm91bmQtY29sb3I6ICNERURFOEI7DQoJCX0NCgkJI2NtX25nX2FzbW50RG1ucy5kaXNwbGF5VGFnID4gdGhlYWQgPiB0ciA+IHRoIHsNCgkJCWJhY2tncm91bmQtY29sb3I6ICNCOEI4ODU7DQoJCX0NCgkJLnNwaW5uZXItaWNvbjIgew0KCQkJYmFja2dyb3VuZC1pbWFnZTogdXJsKCIvT01OSVN0YXRpYy9pbWFnZXMvaWNvbnMvd2FpdC1kZWRlOGIuZ2lmIik7DQoJCQliYWNrZ3JvdW5kLXNpemU6IDE2cHg7DQoJCQliYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KCQkJcGFkZGluZzogNXB4IDEycHggMHB4IDhweDsNCgkJfQ0KCQkjY21fbmdfYWRfZnMgZmllbGRzZXQgew0KCQkJbWFyZ2luLWxlZnQ6IDBweDsNCgkJCW1hcmdpbi1yaWdodDogMHB4Ow0KCQl9DQoJCQ0KCQkuZG9tYWluTmVlZEx2bFRibCB7IG1hcmdpbjogYXV0bzsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgfQ0KCQkuZG9tYWluTmVlZEx2bFRibCB0aCwgLmRvbWFpbk5lZWRMdmxUYmwgdGQ6Zmlyc3QtY2hpbGQgeyBib3JkZXI6IHRoaW4gc29saWQgYmxhY2s7IHBhZGRpbmc6IDVweDsgdGV4dC1hbGlnbjogY2VudGVyOyBmb250LXdlaWdodDogYm9sZDsgfQ0KCQkuZG9tYWluTmVlZEx2bFRibCB0ZCB7IGJvcmRlcjogdGhpbiBzb2xpZCBncmV5OyBwYWRkaW5nOiA1cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQ0KCQkNCgkJI2NtX25nX2FkX2Zvcm0gc2VsZWN0OmRpc2FibGVkIHsNCgkJCWNvbG9yOiAjNjY2NjY2Ow0KCQkJYmFja2dyb3VuZC1jb2xvcjogI0Q0RDBDODsNCgkJfQ0KCQkNCgkJI2NtX25nX3BwX2VudGl0eV9mcyB0YWJsZSB0ZCB7DQoJCQlwYWRkaW5nOiAycHg7DQoJCX0NCgkJPC9zdHlsZT4NCgkJDQoJCQ0KCQk8IS0tIFBhZ2Utc3BlY2lmaWMgaGVhZCBjb250ZW50OiBFTkQgLS0+DQoNCgk8L2hlYWQ+DQoJPCEtLSBIZWFkZXIgcG9ydGlvbjogRU5EIC0tPg0KDQoJPCEtLSBCb2R5IHBvcnRpb246IEJFR0lOLS0+DQoJDQoJPGJvZHk+IA0KCQ0KDQoJCTwhLS0gSGVhZGVyIGNvbnRlbnQgcGFuZTogQkVHSU4gLS0+DQoJCTxkaXYgaWQ9ImlkLW1haW4taGVhZGVyIj4NCg0KCQkJPCEtLSBBcHBsaWNhdGlvbiBoZWFkZXI6IEJFR0lOIC0tPg0KCQkJDQo8IS0tIEhlYWRlciAvIEdsb2JhbDogQkVHSU4gLS0+DQoNCgk8IS0tIEdsb2JhbCBoZWFkZXIgaW1hZ2VzOiBCRUdJTiAtLT4NCgk8ZGl2IGlkPSJpZC1tYWluLWhlYWRlci1hLTEiPg0KCQk8aW1nIHNyYz0iL09NTklTdGF0aWMvaW1hZ2VzL2xvZ28tZG9jLmdpZiIgYWx0PSJEZXBhcnRtZW50IE9mIENvcnJlY3Rpb25zIGxvZ28iIHdpZHRoPSIxNjEiIGhlaWdodD0iMzgiIC8+DQoJPC9kaXY+DQoJDQoJDQoJDQoJCQ0KCQk8ZGl2IGlkPSJpZC1tYWluLWhlYWRlci1hLTIiPg0KCQkqKioqKipURVNULUNPTlYqKioqKio8YnIvPg0KCQkJPGltZyBzcmM9Ii9PTU5JU3RhdGljL2ltYWdlcy9sb2dvLW9tbmkuZ2lmIiBhbHQ9Ik9mZmVuZGVyIE1hbmFnZW1lbnQgTmV0d29yayBJbmZvcm1hdGlvbiBsb2dvIiB3aWR0aD0iMzE2IiBoZWlnaHQ9IjI1IiAvPg0KCQk8L2Rpdj4NCgkJDQoJCQ0KCQ0KCTwhLS0gR2xvYmFsIGhlYWRlciBpbWFnZXM6IEVORCAtLT4NCg0KCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCgkvLzwhW0NEQVRBWw0KCS8vICBmdW5jdGlvbiBmb3Igc3VwcHJlc3NpbmcgZm9ybSBzdWJtaXNzaW9uIGlmIGVudGVyIGlzIHByZXNzZWQNCgkvLyAgd2hlbiBjdXJzb3IgaW4gYSBpbnB1dCB0eXBlPSJ0ZXh0Ig0KICAgICAgICAgIGZ1bmN0aW9uIGtpbGxFbnRlckFmdGVyRmlyc3QoZXZ0KQ0KICAgICAgICAgIHsNCiAgICAgICAgICAgICBpZihldnQua2V5Q29kZSA9PSAxMyB8fCBldnQud2hpY2ggPT0gMTMpew0KICAgICAgICAgIAkJLy9PTU5JMDAwMTYyNzkgR0xPQkFMIC0gRW50ZXJpbmcgYSBET0MgTnVtYmVyIGluIHRoZSBET0NOTyBib3ggYW5kIGhpdHRpbmcgRU5URVIgQnlwYXNzZXMgU2NyZWVuIFdhcm5pbmcNCiAgICAgICAgICAJCWlmKCFoYXNGb3JtQ2hhbmdlZChjdXJyZW50T21uaUZvcm0pKSB7DQoJICAgICAgICAgIAkJcmV0dXJuIHRydWU7DQogICAgICAgICAgCQl9IGVsc2Ugew0KICAgICAgICAgIAkJCWlmKGNoZWNrRm9ybUNoYW5nZWQoKSkgew0KCQkJCQkJZGlzYWJsZVN1Ym1pdEJ1dHRvbnMoJ2RvY051bWJlclNlYXJjaEZvcm0nKTsNCgkJCQkJCWRvY3VtZW50LmZvcm1zWydkb2NOdW1iZXJTZWFyY2hGb3JtJ10uc3VibWl0KCk7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG9jX25vJykuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIik7DQoJCSAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCgkJCQkJfSBlbHNlIHsNCgkJCSAgICAgIAkJcmV0dXJuIGZhbHNlOw0KICAgICAgICAgIAkJCX0NCiAgICAgICAgICAJCX0NCiAgICAgICAgICAgCX0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgICBmdW5jdGlvbiBkaXNhYmxlU3VibWl0QnV0dG9uKGZvcm1OYW1lKSB7DQogICAgICAgIAl2YXIgZWxlbSA9IG51bGw7DQogICAgICAgIAlkb2N1bWVudC5mb3Jtc1snZG9jTnVtYmVyU2VhcmNoRm9ybSddLnN1Ym1pdCgpOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb2Nfbm8nKS5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTsNCg0KICAgICAgICAgICAgICAgIGZvciAoIGo9MDtqPCBkb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV0uZWxlbWVudHMubGVuZ3RoOyBqKysgKSB7DQogICAgICAgICAgICAgICAgICAgIAllbGVtID0gZG9jdW1lbnQuZm9ybXNbZm9ybU5hbWVdLmVsZW1lbnRzW2pdOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtLnR5cGUgJiYgKGVsZW0udHlwZSA9PSAnc3VibWl0JyB8fCBlbGVtLnR5cGUgPT0gJ3Jlc2V0JyB8fCBlbGVtLnR5cGUgPT0gJ2J1dHRvbicpKSB7DQoJICAgIAkgICAgICAgICAgICAgICAgZWxlbS5vbmNsaWNrID0gdm9pZEFjdGlvbjsNCgkgICAgCSAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLmNvbG9yPScjY2NjYzk5JzsNCgkgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgfQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcigpIHsNCg0KICAgICAgICAgIAlpZighaGFzRm9ybUNoYW5nZWQoY3VycmVudE9tbmlGb3JtKSkgew0KDQogICAgICAgICAgCQlyZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAJfSBlbHNlIHsNCiAgICAgICAgICAJCWlmKGNoZWNrRm9ybUNoYW5nZWQoKSkgew0KICAgICAgICAgIAkJICAgICAgZGlzYWJsZVN1Ym1pdEJ1dHRvbnMoJ2RvY051bWJlclNlYXJjaEZvcm0nLGZhbHNlKTsNCgkJCSAgICAgIHJldHVybiB0cnVlOw0KCQkJfSBlbHNlIHsNCgkJCSAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAJCX0NCiAgICAgICAgICAJfQ0KDQogICAgICAgICAgfQ0KCS8vXV0+DQoJPC9zY3JpcHQ+DQoJPCEtLSBHbG9iYWwgRE9DIG51bWJlcjogQkVHSU4gLS0+DQoJDQoJDQoJPGRpdiBpZD0iaWQtbWFpbi1oZWFkZXItYS0zIj4NCgkJPGZvcm0gaWQ9ImRvY051bWJlclNlYXJjaEZvcm0iIG1ldGhvZD0icG9zdCIgYWN0aW9uPSIvb21uaS9jb21tb24vZG9jTnVtYmVyU2VhcmNoLmh0bSIgb25zdWJtaXQ9InJldHVybiBvblN1Ym1pdEhhbmRsZXIoKTsiPg0KCQkJPHRhYmxlIGNsYXNzPSJjbHMtZG9jLXF1aWNrLWp1bXAiPg0KCQkJCTx0cj4NCgkJCQkJPHRkIGNsYXNzPSJjbHMtbm93cmFwIj4NCgkJCQkJCTxsYWJlbCBjbGFzcz0iZm9ybS1lbGVtZW50IiBmb3I9ImRvY19ubyI+IERPQyBOby46PC9sYWJlbD4NCgkJCQkJCTwhLS0gZml4IGZvciBDUTE0OTAwIC0gYWRkIHRhYiBpbmRleCB0byB0aGUgZG9jIG51bWJlciBib3ggLS0+DQoJCQkJCQk8aW5wdXQgY2xhc3M9ImZvcm0tZWxlbWVudCIgbmFtZT0iZG9jU2VhcmNoTnVtYmVyIiB0eXBlPSJ0ZXh0IiBpZD0iZG9jX25vIiB0YWJpbmRleD0iMSIgc2l6ZT0iMTIiIG1heGxlbmd0aD0iNyIgIG9ua2V5cHJlc3M9InJldHVybiBraWxsRW50ZXJBZnRlckZpcnN0KGV2ZW50KTsiIHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0IiB2YWx1ZT0iODg4OTEyIiAvPg0KCQkJCQkJPGlucHV0IGNsYXNzPSJmb3JtLWVsZW1lbnQiIG5hbWU9ImdvIiBpZD0iZ28iIHR5cGU9InN1Ym1pdCIgdmFsdWU9IkdvIiAgdGFiaW5kZXg9IjIiLz48IS0tIEZpeCBmb3IgOTc0NiAtLT4NCgkJCQkJPC90ZD4NCgkJCQk8L3RyPg0KCQkJPC90YWJsZT4NCgkJPC9mb3JtPg0KCTwvZGl2Pg0KCQ0KCTwhLS0gR2xvYmFsIERPQyBudW1iZXI6IEVORCAtLT4NCg0KDQo8IS0tIEdsb2JhbCBzZWxlY3RlZCBET0M6IEJFR0lOIC0tPg0KDQoJDQoJPGRpdiBpZD0iaWQtbWFpbi1oZWFkZXItYi0yIj4NCgkJDQoJCQkNCgkJCQkNCgkJCQkJDQoJCQkJCQk8ZGl2IGlkPSJzZWxlY3RlZERvY05vIj4NCgkJCQkJCVNlbGVjdGVkIERPQyBOby46ICA4ODg5MTIgVEFCTEVSLCBQYXRyaWNrIFJveQ0KCQkJCQkJPC9kaXY+DQoJCQkJCQ0KCQkJCQkNCgkJCQkNCgkJCQ0KCQkJDQoJCQ0KCQkNCgk8L2Rpdj4NCg0KPCEtLSBHbG9iYWwgc2VsZWN0ZWQgRE9DOiBFTkQgLS0+DQoNCg0KCTwhLS0gR2xvYmFsIHRvcCB0YWJzOiBCRUdJTiAtLT4NCg0KCTwhLS0gTWVudSB0b29sdGlwczogQkVHSU4gLS0+DQoJPGRpdiBpZD0iaWQtdG9vbHRpcC1vZmZlbmRlciI+U2luZ2xlIG9mZmVuZGVyIHNwZWNpZmljIGluZm9ybWF0aW9uIHJlZ2FyZGluZyB0aGVpciBvdmVyYWxsIGNhc2UgcGxhbi48L2Rpdj4NCgk8ZGl2IGlkPSJpZC10b29sdGlwLWFzc2lnbm1lbnRzIj5WaWV3IGFuZCB3b3JrIHdpdGggY2FzZWxvYWQgc3BlY2lmaWMsIE5vdGlmaWNhdGlvbnMgYW5kIENoZWNrIERhdGVzLiBDcmVhdGUgYSBHcm91cCBDaHJvbm8uPC9kaXY+DQoJPGRpdiBpZD0iaWQtdG9vbHRpcC1mYWNpbGl0eSI+RmFjaWxpdHkgbWFpbnRlbmFuY2UgZnVuY3Rpb25zLjwvZGl2Pg0KCTxkaXYgaWQ9ImlkLXRvb2x0aXAtc2VhcmNoIj5TZWFyY2ggZm9yIG9mZmVuZGVycyBieSBuYW1lIG9yIG90aGVyIHNlYXJjaCBjcml0ZXJpYS4gU2VhcmNoIENocm9ub3MsIENoZWNrIERhdGVzLCBhbmQgTm90aWZpY2F0aW9ucy4gTG9jYXRlIHN0YWZmIC8gcG9zaXRpb24gYW5kIGZhY2lsaXR5IGluZm9ybWF0aW9uLjwvZGl2Pg0KCTxkaXYgaWQ9ImlkLXRvb2x0aXAtYWRtaW5pc3RyYXRpb24iPkNyZWF0ZSBhbmQgbWFpbnRhaW4gc3RhZmYgYW5kIHBvc2l0aW9uIGluZm9ybWF0aW9uLiBDcmVhdGUgYW5kIG1haW50YWluIGZhY2lsaXR5IGluZm9ybWF0aW9uLiBNYWludGFpbiBjb2RlIHRhYmxlcyBhbmQgc2VjdXJpdHkgYXV0aG9yaXphdGlvbnMuPC9kaXY+DQoJPGRpdiBpZD0iaWQtdG9vbHRpcC1wbGFucyI+TWFuYWdlIHRoZSBvZmZlbmRlcidzIHBsYW5zLjwvZGl2Pg0KCTxkaXYgaWQ9ImlkLXRvb2x0aXAtaGVhbHRoU2VydmljZXMiPlZpZXcgYW5kIHdvcmsgd2l0aCBoZWFsdGggc2VydmljZXMgZm9yIG9mZmVuZGVycy48L2Rpdj4NCgk8ZGl2IGlkPSJpZC10b29sdGlwLXByb2dyYW1zIj5NYW5hZ2UgdGhlIG9mZmVuZGVyJ3MgcHJvZ3JhbXMuPC9kaXY+DQoJPCEtLSBNZW51IHRvb2x0aXBzOiBFTkQgLS0+DQoNCgk8IS0tIE1lbnUgdGFiczogQkVHSU4gLS0+DQoJPGRpdiBpZD0iaWQtbWFpbi1oZWFkZXItYi0xIj4NCgkJDQoJCTxhIGhyZWY9Ii9vbW5pL2luZGV4LmpzcCIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyIgY2xhc3M9ImNscy1tYWluLXRhYnMiIG9ubW91c2VvdmVyPSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1ob21lJywnJywnc2hvdycpIiBvbm1vdXNlb3V0PSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1ob21lJywnJywnaGlkZScpIj5Ib21lPC9hPg0KCQkNCgkJDQoJCQk8YSBocmVmPSIvb21uaS9hc3NpZ25tZW50cy9pbmRleC5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiIGNsYXNzPSJjbHMtbWFpbi10YWJzIiBvbm1vdXNlb3Zlcj0iTU1fc2hvd0hpZGVMYXllcnMoJ2lkLXRvb2x0aXAtYXNzaWdubWVudHMnLCcnLCdzaG93JykiIG9ubW91c2VvdXQ9Ik1NX3Nob3dIaWRlTGF5ZXJzKCdpZC10b29sdGlwLWFzc2lnbm1lbnRzJywnJywnaGlkZScpIj5Bc3NpZ25tZW50czwvYT4NCgkJDQoJCQ0KCQkNCgkJCTxhIGhyZWY9Ii9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyIgY2xhc3M9ImNscy1tYWluLXRhYnMtb24iIG9ubW91c2VvdmVyPSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1vZmZlbmRlcicsJycsJ3Nob3cnKSIgb25tb3VzZW91dD0iTU1fc2hvd0hpZGVMYXllcnMoJ2lkLXRvb2x0aXAtb2ZmZW5kZXInLCcnLCdoaWRlJykiPk9mZmVuZGVyPC9hPg0KCQkNCgkJDQoJCQ0KCQkJDQoJCQkNCgkJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQkNCgkJCQ0KCQkJDQoJCQkJDQoJCQkJDQoJCQkJCTxhIGhyZWY9Ii9vbW5pL21lZC9zY2hlZC9zY2hlZHVsZXJRdWV1ZS5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiIGNsYXNzPSJjbHMtbWFpbi10YWJzIiBvbm1vdXNlb3Zlcj0iTU1fc2hvd0hpZGVMYXllcnMoJ2lkLXRvb2x0aXAtaGVhbHRoU2VydmljZXMnLCcnLCdzaG93JykiIG9ubW91c2VvdXQ9Ik1NX3Nob3dIaWRlTGF5ZXJzKCdpZC10b29sdGlwLWhlYWx0aFNlcnZpY2VzJywnJywnaGlkZScpIj5IZWFsdGggU2VydmljZXM8L2E+DQoJCQkJDQoJCQkJDQoJCQkNCgkJDQoJCQ0KCQkNCgkJCQ0KCQkJCTxhIGhyZWY9Ii9vbW5pL21lbnUvcGxhbnMuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7IiBjbGFzcz0iY2xzLW1haW4tdGFicyIgb25tb3VzZW92ZXI9Ik1NX3Nob3dIaWRlTGF5ZXJzKCdpZC10b29sdGlwLXBsYW5zJywnJywnc2hvdycpIiBvbm1vdXNlb3V0PSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1wbGFucycsJycsJ2hpZGUnKSI+UGxhbnM8L2E+DQoJCQkNCgkJDQoJCQ0KCQkNCgkJCQ0KCQkJCTxhIGhyZWY9Ii9vbW5pL21lbnUvcHJvZ3JhbXMuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7IiBjbGFzcz0iY2xzLW1haW4tdGFicyIgb25tb3VzZW92ZXI9Ik1NX3Nob3dIaWRlTGF5ZXJzKCdpZC10b29sdGlwLXByb2dyYW1zJywnJywnc2hvdycpIiBvbm1vdXNlb3V0PSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1wcm9ncmFtcycsJycsJ2hpZGUnKSI+UHJvZ3JhbXM8L2E+DQoJCQkNCgkJDQoJCQ0KCQk8IS0tIEZvciBDUSMgMTUxMjAgY3JlYXRlIG5ldyBhdXRob3JpdHkgLS0+DQoJCQ0KCQkJPGEgaHJlZj0iL29tbmkvcmVjb3Jkcy9mYWNpbGl0eS9mYWNpbGl0eU1vZGlmeURlbGV0ZUZpZWxkLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyIgY2xhc3M9ImNscy1tYWluLXRhYnMiIG9ubW91c2VvdmVyPSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1mYWNpbGl0eScsJycsJ3Nob3cnKSIgb25tb3VzZW91dD0iTU1fc2hvd0hpZGVMYXllcnMoJ2lkLXRvb2x0aXAtZmFjaWxpdHknLCcnLCdoaWRlJykiPkZhY2lsaXR5PC9hPg0KCQkNCgkJDQoJCQ0KCQkJPGEgaHJlZj0iL29tbmkvcmVjb3Jkcy9vZmZlbmRlci9vZmZlbmRlclNlYXJjaFF1aWNrLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyIgY2xhc3M9ImNscy1tYWluLXRhYnMiIG9ubW91c2VvdmVyPSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1zZWFyY2gnLCcnLCdzaG93JykiIG9ubW91c2VvdXQ9Ik1NX3Nob3dIaWRlTGF5ZXJzKCdpZC10b29sdGlwLXNlYXJjaCcsJycsJ2hpZGUnKSI+U2VhcmNoPC9hPg0KCQkNCgkJDQoJCQ0KCQkJPGEgaHJlZj0iL29tbmkvbWVudS9wcmVhLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyIgY2xhc3M9ImNscy1tYWluLXRhYnMiIG9ubW91c2VvdmVyPSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1wcmVhJywnJywnc2hvdycpIiBvbm1vdXNlb3V0PSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1wcmVhJywnJywnaGlkZScpIj5QUkVBPC9hPg0KCQkNCgkJDQoJCTxhIGhyZWY9Ii9vbW5pL21lbnUvYWRtaW5pc3RyYXRpb24uaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7IiBjbGFzcz0iY2xzLW1haW4tdGFicyIgb25tb3VzZW92ZXI9Ik1NX3Nob3dIaWRlTGF5ZXJzKCdpZC10b29sdGlwLWFkbWluaXN0cmF0aW9uJywnJywnc2hvdycpIiBvbm1vdXNlb3V0PSJNTV9zaG93SGlkZUxheWVycygnaWQtdG9vbHRpcC1hZG1pbmlzdHJhdGlvbicsJycsJ2hpZGUnKSI+QWRtaW5pc3RyYXRpb248L2E+DQoJPC9kaXY+DQoJPCEtLSBNZW51IHRhYnM6IEVORCAtLT4NCg0KCTwhLS0gR2xvYmFsIHRvcCB0YWJzOiBFTkQgLS0+DQoNCg0KPCEtLSBIZWFkZXIgLyBHbG9iYWw6IEVORCAtLT4NCg0KCQkJPCEtLSBBcHBsaWNhdGlvbiBoZWFkZXI6IEVORCAtLT4NCg0KCQkJPCEtLSBCcmVhZGNydW1iIHRyYWlsIGFyZWE6IEJFR0lOIC0tPg0KCQkJPGRpdiBpZD0iaWQtbWFpbi1oZWFkZXItYy0xIj4mbmJzcDs8L2Rpdj4NCgkJCTxkaXYgaWQ9ImlkLW1haW4taGVhZGVyLWQtMSI+DQoJCQkNCgkJCTxkaXYgaWQ9ImJyZWFkQ3J1bWIiPjxhIGhyZWY9Ii9vbW5pL2luZGV4LmpzcCIgY2xhc3M9ImNscy1saW5rIiBvbmNsaWNrPSJyZXR1cm4gY2hlY2tGb3JtQ2hhbmdlZCgpOyI+SG9tZTwvYT4gJmd0OyBPZmZlbmRlcjwvZGl2Pg0KCQkJDQoJCQk8L2Rpdj4NCgkJCTwhLS0gQnJlYWRjcnVtYiB0cmFpbCBhcmVhOiBFTkQgLS0+DQoNCgkJCTwhLS0gTW9zdCByZWNlbnQgc2VhcmNoICYgbG9nZ2VkLWluIHVzZXIgYXJlYTogQkVHSU4gLS0+DQoJCQkNCgkJCTxkaXYgaWQ9ImlkLW1haW4taGVhZGVyLWQtMiI+DQoJCQkJDQoNCgk8IS0tIEdsb2JhbCB1c2VyIG1lbnU6IEVORCAtLT4NCgkNCgkNCgkNCgkNCgkNCgkJPGEgaHJlZj0iaHR0cDovL2hlbHBzaXRlc2RlbW8vb21uaS8iIGNsYXNzPSJjbHMtbGluay1oZWxwIiByZWw9ImV4dGVybmFsIiBvbmNsaWNrPSJ3aW5kb3cub3Blbih0aGlzLmhyZWYsICdIZWxwV2luZG93Jyk7IHJldHVybiBmYWxzZTsiICBvbmtleXByZXNzPSJ3aW5kb3cub3Blbih0aGlzLmhyZWYpOyByZXR1cm4gZmFsc2U7Ij5IZWxwPC9hPg0KCQ0KCSZuYnNwOw0KCTxzcGFuIGlkPSJpZC1sb2dnZWQtaW4iPkxvZ2dlZCBpbiBhcyA8c3Ryb25nPk5hdGhhbiBGcmFuY288L3N0cm9uZz48L3NwYW4+DQoJPCEtLSBHbG9iYWwgdXNlciBtZW51OiBFTkQgLS0+DQoNCgkJCTwvZGl2Pg0KCQkJDQoJCQk8IS0tIE1vc3QgcmVjZW50IHNlYXJjaCAmIGxvZ2dlZC1pbiB1c2VyIGFyZWE6IEVORCAtLT4NCg0KCQk8L2Rpdj4NCgkJPCEtLSBIZWFkZXIgY29udGVudCBwYW5lOiBFTkQgLS0+DQoNCgkJPCEtLSBMZWZ0IGNvbnRlbnQgcGFuZTogQkVHSU4gLS0+DQoJCQ0KCQk8ZGl2IGlkPSJtZW51LWJsb2NrLWV4cGFuZGVkIiBzdHlsZT0iZGlzcGxheTppbmxpbmU7IG1hcmdpbjo1cHg7IHBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OjE1NXB4OyB0b3A6MTAwcHg7IHotaW5kZXg6MTsiPg0KCQk8YSBocmVmPSIiIG9uY2xpY2s9ImhpZGVFbGVtZW50KCdpZC1tYWluLWxlZnQnKTtoaWRlRWxlbWVudCgnbWVudS1ibG9jay1leHBhbmRlZCcpO3Nob3dFbGVtZW50KCdtZW51LWJsb2NrLWNvbGxhcHNlZCcpO3Jlc2V0TWFyZ2luTGVmdCgnaWQtbWFpbi1yaWdodCcsICcyNXB4Jyk7cmV0dXJuKGZhbHNlKTsiID4NCgkJPGltZyBzdHlsZT0iYm9yZGVyLXdpZHRoOiAwcHg7IiANCgkJICAgICAgaGVpZ2h0PSIxNSIgYWx0PSJIaWRlIE1lbnUiIA0KCQkgICAgICBzcmM9Ii9PTU5JU3RhdGljL2ltYWdlcy9idXR0b25zL2J1dHRvbi1taW51cy5naWYiIC8+PC9hPg0KCQk8L2Rpdj4NCgkJPGRpdiBpZD0ibWVudS1ibG9jay1jb2xsYXBzZWQiIHN0eWxlPSJkaXNwbGF5Om5vbmU7IG1hcmdpbjo1cHg7IHBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OjBweDsgdG9wOjEwMHB4OyB6LWluZGV4OjE7Ij4NCgkJPGEgaHJlZj0iIiBvbmNsaWNrPSJzaG93RWxlbWVudCgnaWQtbWFpbi1sZWZ0Jyk7c2hvd0VsZW1lbnQoJ21lbnUtYmxvY2stZXhwYW5kZWQnKTtoaWRlRWxlbWVudCgnbWVudS1ibG9jay1jb2xsYXBzZWQnKTtyZXNldE1hcmdpbkxlZnQoJ2lkLW1haW4tcmlnaHQnLCAnMTkwcHgnKTtyZXR1cm4oZmFsc2UpOyIgPg0KCQk8aW1nIHN0eWxlPSJib3JkZXItd2lkdGg6IDBweDsiIA0KCQkgICAgICBoZWlnaHQ9IjE1IiBhbHQ9IlNob3cgTWVudSIgDQoJCSAgICAgIHNyYz0iL09NTklTdGF0aWMvaW1hZ2VzL2J1dHRvbnMvYnV0dG9uLXBsdXMuZ2lmIiAvPjwvYT4NCgkJPC9kaXY+CQkNCgkJDQoJCTxkaXYgaWQ9ImlkLW1haW4tbGVmdCI+DQoJCQkNCg0KDQoNCg0KDQoNCg0KPCEtLSBMZWZ0IC8gTWVudSAvIE9mZmVuZGVyOiBCRUdJTiAtLT4NCjx1bCBjbGFzcz0iY2xzLW1lbnUtbGVmdCI+DQoJPGxpIGNsYXNzPSJjbHMtbWVudS1sZWZ0LWhlYWRlciI+T2ZmZW5kZXIgTWVudTwvbGk+DQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL3JlY29yZHMvb2ZmZW5kZXIvaW5tYXRlU3RhdHVzL2lubWF0ZVN0YXR1cy5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPkdlbmVyYWwgU3RhdHVzPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KCQkNCgkJCTxsaT48YSBocmVmPSIvb21uaS9yZWNvcmRzL29mZmVuZGVyL3BlcnNvbmFsQ2hhcmFjdGVyaXN0aWNzL29mZmVuZGVyU3VtbWFyeS5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPlBlcnNvbmFsIENoYXJhY3RlcmlzdGljczwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvcmVjb3Jkcy9vZmZlbmRlci9yZWdpc3Rlck9mZmVuZGVyL3JlZ2lzdGVyT2ZmZW5kZXIuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5SZWdpc3RlciBPZmZlbmRlcjwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQkNCgkJCQk8bGk+PGEgaHJlZj0iL29tbmkvc3N0YS92aWV3SlNQcmlzb24uaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5TZW50ZW5jZSBJbmZvcm1hdGlvbjwvYT48L2xpPg0KCQkJDQoJCQ0KCQ0KCQ0KCQkNCgkJCTxsaT48YSBocmVmPSIvb21uaS9yZWNvcmRzL29mZmVuZGVyL3JlbGVhc2VOb3RpZmljYXRpb25TdGF0dXMvcmVsZWFzZU5vdGlmaWNhdGlvbi5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPlJlbGVhc2UgTm90aWZpY2F0aW9uIFN0YXR1czwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQkNCgkJCQk8bGk+PGEgaHJlZj0iL29tbmkvdncvY3JlYXRlVndOb3RpZmljYXRpb24uaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5WaWN0aW0vV2l0bmVzcyBOb3RpZmljYXRpb248L2E+PC9saT4NCgkJCQ0KCQkNCgkNCgkNCgkJPGxpPjxhIGhyZWY9Ii9vbW5pL2RldGFpbmVlL3ZpZXdXYXJyYW50cy5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPldhcnJhbnQgRGV0YWluZXIgU3RhdHVzPC9hPjwvbGk+DQoJDQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL2dyaWV2YW5jZS92aWV3R3JpZXZhbmNlU3RhdHVzTGlzdC5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPkdyaWV2YW5jZTwvYT48L2xpPg0KCQkNCgkNCgk8bGkgY2xhc3M9ImNscy1tZW51LWxlZnQtaW5hY3RpdmUiPg0KCQk8aHIgLz4NCgk8L2xpPg0KCQ0KCQkNCgkJCTxsaT48YSBocmVmPSIvb21uaS9yZWNvcmRzL29mZmVuZGVyL2luZGV4Lmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+Q2hyb25vbG9naWNhbCBFdmVudHMgLyBOb3RpZmljYXRpb25zIC8gQ2hlY2tkYXRlczwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvYWR2Y29yL2JodnIvYmVoYXZpb3JPYnNlcnZhdGlvblN1bW1hcnkuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5CZWhhdmlvciBPYnNlcnZhdGlvbjwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvY21mbS9zdXBlcnZpc2lvbkFjdGl2aXR5UmVjb3JkLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+U3VwZXJ2aXNpb24gQWN0aXZpdGllczwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQkNCgkJCQk8bGk+PGEgaHJlZj0iL29tbmkvZmllbGRoZWFyaW5ncy9jcmVhdGVIZWFyaW5nLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+Q3JlYXRlIEhlYXJpbmc8L2E+PC9saT4NCgkJCQ0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvZmQvdmlld1Zpb2xhdGlvblN1bW1hcnkuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5GaWVsZCBEaXNjaXBsaW5lPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KCQkNCgkJCQ0KCQkJCTxsaT48YSBocmVmPSIvb21uaS9pc3JiL3ZpZXdJc3JiQWN0aW9uc0xpc3QuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5JU1JCIEFjdGlvbnM8L2E+PC9saT4NCgkJCQ0KCQ0KCQ0KDQoJDQoJDQoJCQkNCgkJCSAgICAgICAgDQoJCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL3ZpcC92aW9sYXRvclN1bW1hcnkuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5WaW9sYXRvciBNYW5hZ2VtZW50PC9hPjwvbGk+DQoJCQkJICAgIA0KCQkgCQ0KCSAgDQoJDQoJPGxpIGNsYXNzPSJjbHMtbWVudS1sZWZ0LWluYWN0aXZlIj4gDQoJCTxociAvPg0KCTwvbGk+DQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL3BtYmNtL2JlZEFzc2lnbi5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPkFzc2lnbiBCZWQgJmFtcDsgQ291bnNlbG9yPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KCQkNCgkJCTxsaT48YSBocmVmPSIvb21uaS9wZC92aWV3SW5mcmFjdGlvblN1bW1hcnkuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5Qcmlzb24gRGlzY2lwbGluZTwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvcG1iY20vZXh0bXYvZXh0ZXJuYWxNb3ZlbWVudHMuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5Qcmlzb24gTW92ZW1lbnRzPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KCQkNCgkJCTxsaT48YSBocmVmPSIvb21uaS9tZW51L29mZmVuZGVyLXNjcmVlbmluZ1Jlc3RyaWN0aW9uLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+U2NyZWVuaW5nICZhbXA7IFJlc3RyaWN0aW9uPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KCQ0KCQkNCgkJCTxsaT48YSBocmVmPSIvb21uaS9zdGcvc3RnT2ZmZW5kZXJJbmZvLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+U2VjdXJpdHkgVGhyZWF0IEdyb3VwPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KDQoJDQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL3NlZ21hbi92aWV3U2VnbWFuQXV0aFN1bW1hcnkuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5TZWdyZWdhdGlvbiBNYW5hZ2VtZW50PC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KDQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL3BtYmNtL3RyYW5zZmVyL3RyYW5zZmVyT3JkZXJTdW1tYXJ5Lmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+VHJhbnNmZXIgT3JkZXJzPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KCQkNCgkJCQ0KCQkJCQ0KCQkJCQk8bGk+PGEgaHJlZj0iL29tbmkvdncvY3JlYXRlVmljdGltV2l0bmVzcy5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPlZpY3RpbS9XaXRuZXNzPC9hPjwvbGk+DQoJCQkJDQoJCQkJDQoJCQkNCgkJDQoJDQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL2Nvcy9jb3NMZm9JbmZvcm1hdGlvbi5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPkNPUy9MRk8gSW5mb3JtYXRpb248L2E+PC9saT4NCgkJDQoJDQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL2Nvcy9jb3NUcmFuc2FjdGlvbnMuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5DT1MgVHJhbnNhY3Rpb25zPC9hPjwvbGk+DQoJCQ0KCQ0KCQ0KCQkNCgkJCTxsaT48YSBocmVmPSIvb21uaS9jb3MvY29zUGF5bWVudEFkanVzdG1lbnRzLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+Q09TIFBheW1lbnQgQWRqdXN0bWVudHM8L2E+PC9saT4NCgkJDQoJDQoJDQoJCQ0KCQkJPGxpPjxhIGhyZWY9Ii9vbW5pL2Nvcy9jb3NTdXNwZW5zZUFkanVzdG1lbnQuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5DT1MgU3VzcGVuc2UgQWRqdXN0bWVudDwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvY29zL2ludGVyc3RhdGVBcHBsaWNhdGlvblRyYW5zYWN0aW9uLmh0bSIgb25jbGljaz0icmV0dXJuIHByb2Nlc3NPbW5pTGlua0NsaWNrKHRoaXMpOyI+SW50ZXJzdGF0ZSBBcHBsaWNhdGlvbiBUcmFuc2FjdGlvbjwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvY29zL3ZpZXdJbnRlcnN0YXRlQXBwbGljYXRpb25UcmFuc2FjdGlvbi5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPlZpZXcgSW50ZXJzdGF0ZSBBcHBsaWNhdGlvbiBUcmFuc2FjdGlvbjwvYT48L2xpPg0KCQkNCgkNCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvZGF0L3ZpZXdEQVQuaHRtIiBvbmNsaWNrPSJyZXR1cm4gcHJvY2Vzc09tbmlMaW5rQ2xpY2sodGhpcyk7Ij5EcnVnL0FsY29ob2wgVGVzdHM8L2E+PC9saT4NCgkJDQoJDQoJPGxpIGNsYXNzPSJjbHMtbWVudS1sZWZ0LWluYWN0aXZlIj4NCgkJPGhyIC8+DQoJPC9saT4NCgkNCgkJDQoJCQk8bGk+PGEgaHJlZj0iL29tbmkvc3N0YS9yZXBvcnRzL29mZmVuZGVyUmVwb3J0cy5odG0iIG9uY2xpY2s9InJldHVybiBwcm9jZXNzT21uaUxpbmtDbGljayh0aGlzKTsiPk9mZmVuZGVyIFJlcG9ydHM8L2E+PC9saT4NCgkJDQoJDQo8L3VsPg0KCQ0KCTwhLS0gTGVmdCBMaW5rIE1lbnUgU3RhcnQgLS0+DQoJDQoJPHVsIGNsYXNzPSJjbHMtbWVudS1sZWZ0Ij4NCgkJPGxpIGNsYXNzPSJjbHMtbWVudS1sZWZ0LWhlYWRlciI+TGlua3M8L2xpPg0KCQk8bGk+PGEgdGFyZ2V0PSJfbmV3IiBjbGFzcz0iLmNscy1saW5rIiBocmVmPSJodHRwczovL09uQmFzZVFVQUwvQXBwTmV0L2RvY3BvcC9kb2Nwb3AuYXNweD9jbGllbnR0eXBlPWh0bWwmY3FpZD0xMDImS1QxMDJfMF8wXzA9ODg4OTEyIj5PbkJhc2U8L2E+PC9saT4NCgkJPGxpPjxhIHRhcmdldD0iX25ldyIgY2xhc3M9Ii5jbHMtbGluayIgaHJlZj0iaHR0cDovL2NlY29ubmVjdGNvbnYvY2VmaWVsZC8iPkNlRmllbGQ8L2E+PC9saT4NCg0KCQk8bGk+PGEgdGFyZ2V0PSJfbmV3IiBjbGFzcz0iLmNscy1saW5rIiBocmVmPSJodHRwOi8vY2Vwcmlzb25jb252LyI+Q2VQcmlzb248L2E+PC9saT4NCg0KCQkNCgkJPGxpPjxhIHRhcmdldD0iX25ldyIgY2xhc3M9Ii5jbHMtbGluayIgcmVsPSJleHRlcm5hbCIgaHJlZj0iaHR0cDovL2luc2lkZWRvYy9wb2xpY2llcy8iPlBvbGljaWVzPC9hPjwvbGk+DQoJCTxsaT48YSB0YXJnZXQ9Il9uZXciIGNsYXNzPSIuY2xzLWxpbmsiIGhyZWY9Imh0dHA6Ly9yZXBvcnR3aXphcmR0ZXN0L1BhZ2VzL01lbnUuYXNweCI+UmVwb3J0IFdpemFyZDwvYT48L2xpPg0KCTwvdWw+DQo8IS0tIExlZnQgLyBNZW51IC8gT2ZmZW5kZXI6IEVORCAtLT4NCg0KDQoJCQkNCjwhLS0gTGVmdCAvIE9mZmVuZGVyIEluZm9ybWF0aW9uOiBCRUdJTiAtLT4NCg0KCQ0KCQ0KCQ0KCQ0KCQ0KCQ0KDQoJDQoJDQoJDQoJDQoJDQoNCgk8ZGl2IGlkPSJpZC1tZW51LWxlZnQtaGVhZGVyIj4NCgkJUGVyc29uYWwgQ2hhcmFjdGVyaXN0aWNzDQoJPC9kaXY+DQoJPGRpdiBpZD0iaWQtbWVudS1sZWZ0Ij4NCgkJPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjIiIGNlbGxzcGFjaW5nPSIwIiB3aWR0aD0iMTAwJSI+DQoJCQk8dHI+PHRkIGNvbHNwYW49IjIiIGNsYXNzPSJjbHMtbGFiZWwiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7IiB3aWR0aD0iNjBweCI+DQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQo8IS0tIFNldCBkZWZhdWx0IG9wdGlvbnMgLS0+DQoNCgkNCg0KDQoNCg0KDQo8c3BhbiAgY2xhc3M9ImNscy1sYWJlbCIgPg0KCQ0KCU5hbWUNCjwvc3Bhbj48L3RkPjwvdHI+DQoJCQk8dHI+DQoJCQkJPHRkIGNvbHNwYW49IjIiIGNsYXNzPSJjbHMtdmFsdWUiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHBhZGRpbmctYm90dG9tOiA1cHg7Ij4NCgkJCQkNCgkJCQlUQUJMRVIsDQoJCQkJUGF0cmljaw0KCQkJCVJveQ0KCQkJCQkJDQoJCQkJDQoJCQkJCQ0KCQkJCTwvdGQ+DQoJCQk8L3RyPg0KCQkJDQoJCQk8dHI+PHRkIGNvbHNwYW49IjIiPg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPCEtLSBTZXQgZGVmYXVsdCBvcHRpb25zIC0tPg0KDQoJDQoNCg0KDQoNCg0KPHNwYW4gIGNsYXNzPSJjbHMtbGFiZWwiID4NCgkNCglBZGRyZXNzDQo8L3NwYW4+PC90ZD48L3RyPg0KCQkJPHRyPg0KCQkJCTx0ZCBjb2xzcGFuPSIyIiBzdHlsZT0icGFkZGluZy1ib3R0b206IDVweDsiPg0KCQkJCTwhLS0gQ1EgMzI3NjEgLS0+DQoJCQkJCTkxNyBGUlVJVFZBTEUgQkxWRCAjMjUgICAgICAgIDxici8+DQoJCQkJCQ0KCQkJCQlZYWtpbWEmbmJzcDtXQTxici8+DQoJCQkJCVVuaXRlZCBTdGF0ZXM8YnIvPg0KCQkJCQk5ODkwMg0KCQkJCTwvdGQ+DQoJCQk8L3RyPg0KCQkJPHRyPjx0ZCBjb2xzcGFuPSIyIj4NCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCjwhLS0gU2V0IGRlZmF1bHQgb3B0aW9ucyAtLT4NCg0KCQ0KDQoNCg0KDQoNCjxzcGFuICBjbGFzcz0iY2xzLWxhYmVsIiA+DQoJDQoJUGhvbmUgTnVtYmVyDQo8L3NwYW4+PC90ZD48L3RyPg0KCQkJPHRyPjx0ZCBjb2xzcGFuPSIyIiBzdHlsZT0icGFkZGluZy1ib3R0b206IDVweDsiPig1MDkpIDQ1Mi01OTUyPC90ZD48L3RyPg0KCQkJPHRyPg0KCQkJCTx0ZCBjbGFzcz0iY2xzLWxhYmVsIiBzdHlsZT0idmVydGljYWwtYWxpZ246dG9wOyI+DQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQo8IS0tIFNldCBkZWZhdWx0IG9wdGlvbnMgLS0+DQoNCgkNCg0KDQoNCg0KDQo8c3BhbiAgY2xhc3M9ImNscy1sYWJlbCIgPg0KCQ0KCVNTTg0KPC9zcGFuPjwvdGQ+DQoJCQkJPHRkIGNsYXNzPSJjbHMtdmFsdWUiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7d2hpdGUtc3BhY2U6IG5vcm1hbDsiPg0KCQkJCQ0KCQkJCTUwOC0xNy0yNzIwDQoJCQkJDQoJCQkJPC90ZD4NCgkJCTwvdHI+DQoJCQk8dHI+DQoJCQkJPHRkIGNsYXNzPSJjbHMtbGFiZWwiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7Ij4NCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCjwhLS0gU2V0IGRlZmF1bHQgb3B0aW9ucyAtLT4NCg0KCQ0KDQoNCg0KDQoNCjxzcGFuICBjbGFzcz0iY2xzLWxhYmVsIiA+DQoJDQoJRE9DIE51bWJlcg0KPC9zcGFuPjwvdGQ+DQoJCQkJPHRkIGNsYXNzPSJjbHMtdmFsdWUiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7Ij44ODg5MTI8L3RkPg0KCQkJPC90cj4NCgkJCTx0cj4NCgkJCQk8dGQgY2xhc3M9ImNscy1sYWJlbCIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDsiPg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPCEtLSBTZXQgZGVmYXVsdCBvcHRpb25zIC0tPg0KDQoJDQoNCg0KDQoNCg0KPHNwYW4gIGNsYXNzPSJjbHMtbGFiZWwiID4NCgkNCglGQkkgTnVtYmVyDQo8L3NwYW4+PC90ZD4NCgkJCQk8dGQgY2xhc3M9ImNscy12YWx1ZSIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDt3aGl0ZS1zcGFjZTogbm9ybWFsOyI+MzkzODBLQzYgPC90ZD4NCgkJCTwvdHI+DQoJCQk8dHI+DQoJCQkJPHRkIGNsYXNzPSJjbHMtbGFiZWwiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7Ij4NCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCjwhLS0gU2V0IGRlZmF1bHQgb3B0aW9ucyAtLT4NCg0KCQ0KDQoNCg0KDQoNCjxzcGFuICBjbGFzcz0iY2xzLWxhYmVsIiA+DQoJDQoJV0FTSUQgTnVtYmVyDQo8L3NwYW4+PC90ZD4NCgkJCQk8dGQgY2xhc3M9ImNscy12YWx1ZSIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDt3aGl0ZS1zcGFjZTogbm9ybWFsOyI+V0EyMjk2NzEzNzwvdGQ+DQoJCQk8L3RyPg0KCQkJPHRyPg0KCQkJCTx0ZCBjbGFzcz0iY2xzLWxhYmVsIiBzdHlsZT0idmVydGljYWwtYWxpZ246dG9wOyI+DQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQo8IS0tIFNldCBkZWZhdWx0IG9wdGlvbnMgLS0+DQoNCgkNCg0KDQoNCg0KDQo8c3BhbiAgY2xhc3M9ImNscy1sYWJlbCIgPg0KCQ0KCURPQg0KPC9zcGFuPjwvdGQ+DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJPHRkIGNsYXNzPSJjbHMtdmFsdWUiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7d2hpdGUtc3BhY2U6IG5vcm1hbDsiPkRlY2VtYmVyIDgsIDE5ODY8L3RkPg0KCQkJCQ0KCQkJCQ0KCQkJPC90cj4NCgkJCTx0cj4NCgkJCQk8dGQgY2xhc3M9ImNscy1sYWJlbCIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDsiPg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPCEtLSBTZXQgZGVmYXVsdCBvcHRpb25zIC0tPg0KDQoJDQoNCg0KDQoNCg0KPHNwYW4gIGNsYXNzPSJjbHMtbGFiZWwiID4NCgkNCglBZ2UNCjwvc3Bhbj48L3RkPg0KCQkJCTx0ZCBjbGFzcz0iY2xzLXZhbHVlIiBzdHlsZT0idmVydGljYWwtYWxpZ246dG9wOyI+MzEgeXJzPC90ZD4NCgkJCTwvdHI+DQoJCQk8dHI+DQoJCQkJPHRkIGNsYXNzPSJjbHMtbGFiZWwiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7Ij4NCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCjwhLS0gU2V0IGRlZmF1bHQgb3B0aW9ucyAtLT4NCg0KCQ0KDQoNCg0KDQoNCjxzcGFuICBjbGFzcz0iY2xzLWxhYmVsIiA+DQoJDQoJUmFjZQ0KPC9zcGFuPjwvdGQ+DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJCTx0ZCBjbGFzcz0iY2xzLXZhbHVlIiBzdHlsZT0idmVydGljYWwtYWxpZ246dG9wO3doaXRlLXNwYWNlOiBub3JtYWw7Ij5XaGl0ZTwvdGQ+DQoJCQkJDQoJCQkgICAgDQoJCQk8L3RyPg0KCQkJPHRyPg0KCQkJCTx0ZCBjbGFzcz0iY2xzLWxhYmVsIiBzdHlsZT0idmVydGljYWwtYWxpZ246dG9wOyI+DQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQo8IS0tIFNldCBkZWZhdWx0IG9wdGlvbnMgLS0+DQoNCgkNCg0KDQoNCg0KDQo8c3BhbiAgY2xhc3M9ImNscy1sYWJlbCIgPg0KCQ0KCUhlaWdodA0KPC9zcGFuPjwvdGQ+DQoJCQkJPHRkIGNsYXNzPSJjbHMtdmFsdWUiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7Ij42IGZ0LiAyIEluLjwvdGQ+DQoJCQk8L3RyPg0KCQkJPHRyPg0KCQkJCTx0ZCBjbGFzcz0iY2xzLWxhYmVsIiBzdHlsZT0idmVydGljYWwtYWxpZ246dG9wOyI+DQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQo8IS0tIFNldCBkZWZhdWx0IG9wdGlvbnMgLS0+DQoNCgkNCg0KDQoNCg0KDQo8c3BhbiAgY2xhc3M9ImNscy1sYWJlbCIgPg0KCQ0KCVdlaWdodA0KPC9zcGFuPjwvdGQ+DQoJCQkJPHRkIGNsYXNzPSJjbHMtdmFsdWUiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7Ij4xOTYgbGJzPC90ZD4NCgkJCTwvdHI+DQoJCQk8dHI+DQoNCgkJCQk8dGQgY2xhc3M9ImNscy1sYWJlbCIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDsiPg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPCEtLSBTZXQgZGVmYXVsdCBvcHRpb25zIC0tPg0KDQoJDQoNCg0KDQoNCg0KPHNwYW4gIGNsYXNzPSJjbHMtbGFiZWwiID4NCgkNCglFeWUgQ29sb3INCjwvc3Bhbj48L3RkPg0KCQkJCQ0KCQkJCQ0KCQkJCQ0KCQkJCQk8dGQgY2xhc3M9ImNscy12YWx1ZSIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDsiPkJyb3duPC90ZD4NCgkJCQkNCgkJCQkNCg0KCQkJPC90cj4NCgkJCTx0cj4NCgkJCQk8dGQgY2xhc3M9ImNscy1sYWJlbCIgc3R5bGU9InZlcnRpY2FsLWFsaWduOnRvcDsiPg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPCEtLSBTZXQgZGVmYXVsdCBvcHRpb25zIC0tPg0KDQoJDQoNCg0KDQoNCg0KPHNwYW4gIGNsYXNzPSJjbHMtbGFiZWwiID4NCgkNCglIYWlyIENvbG9yDQo8L3NwYW4+PC90ZD4NCgkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkJPHRkIGNsYXNzPSJjbHMtdmFsdWUiIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7Ij5Ccm93bjwvdGQ+DQoJCQkJCQ0KCQkJCQ0KCQkJPC90cj4NCgkJCTx0cj4NCgkJCQk8dGQ+Jm5ic3A7PC90ZD4NCgkJCTwvdHI+DQoJCTwvdGFibGU+DQoJPC9kaXY+DQoNCjwhLS0gTGVmdCAvIE9mZmVuZGVyIEluZm9ybWF0aW9uOiBFTkQgLS0+DQoJCTwvZGl2Pg0KCQkNCgkJPCEtLSBMZWZ0IGNvbnRlbnQgcGFuZTogRU5EIC0tPg0KDQoJCTwhLS0gUmlnaHQgY29udGVudCBwYW5lOiBCRUdJTiAtLT4NCgkJPGRpdiBpZD0iaWQtbWFpbi1yaWdodCI+DQoNCgkJCTwhLS0gQXV0b3NhdmUgbWVzc2FnZSBhcmVhOiBCRUdJTiAtLT4NCgkJCQ0KCQkJDQoJCQkNCgkJCTwhLS0gQXV0b3NhdmUgbWVzc2FnZSBhcmVhOiBFTkQgLS0+DQoNCgkJCTwhLS0gQWxlcnQgbWVzc2FnZSBhcmVhOiBCRUdJTiAtLT4NCgkJCQ0KCQkJDQoJCQkNCgkJCTwhLS0gQWxlcnQgbWVzc2FnZSBhcmVhOiBFTkQgLS0+DQoNCgkJCTwhLS0gTWFpbiBjb250ZW50IGFyZWE6IEJFR0lOIC0tPg0KCQkJDQoJCQk8IS0tIE1haW4gY29udGVudCBnb2VzIGhlcmUgLS0+DQoJCQk8ZGl2IHN0eWxlPSJtaW4td2lkdGg6IDEwNDVweDsiPg0KCQkJDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQo8ZGl2IGlkPSJoZHJfb2ZmZW5kZXJDUEhlYWRlciI+DQoJPGZvcm0gaWQ9Imhkcl9mb3JtIiBhY3Rpb249IiIgPg0KCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iIiBuYW1lPSJwZXJzQ2FsbGJhY2siLz4NCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9InRydWUiIG5hbWU9InBlcnNDaGVja0lzRGlydHkiLz4NCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IiIgbmFtZT0iaW5jdHZDYWxsYmFjayIvPg0KCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0idHJ1ZSIgbmFtZT0iaW5jdHZDaGVja0lzRGlydHkiLz4NCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IiQoJyNzY19zZWN0aW9uJykudHJpZ2dlcignaGVhZGVyOmV4cGFuZCcpOyByZXR1cm4gZmFsc2U7IiBuYW1lPSJjY09uQ2xpY2siLz4NCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IiQoJyNzY19zZWN0aW9uJykudHJpZ2dlcignaGVhZGVyOmV4cGFuZCcpOyByZXR1cm4gZmFsc2U7IiBuYW1lPSJ3YU9uQ2xpY2siLz4NCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IiQoJyNzY19zZWN0aW9uJykudHJpZ2dlcignaGVhZGVyOmV4cGFuZCcpOyByZXR1cm4gZmFsc2U7IiBuYW1lPSJzY09uQ2xpY2siLz4NCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9ImZhbHNlIiBuYW1lPSJyZWFkT25seSIvPg0KCQkNCgkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IiIgbmFtZT0iaXNQcmludCIvPg0KCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iIiBuYW1lPSJucnR2SHN0cnlQYWdlIi8+DQoJPC9mb3JtPg0KPC9kaXY+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQoJLy88IVtDREFUQVsNCgkkLmFqYXgoew0KCQl1cmw6Jy9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNQSGVhZGVyLmh0bScsIA0KCQlkYXRhOiQoIiNoZHJfZm9ybSIpLnNlcmlhbGl6ZSgpLA0KCQlhc3luYzogZmFsc2UNCgl9KS5kb25lKGZ1bmN0aW9uKGh0bWwpIHsNCgkJJCgiI2hkcl9vZmZlbmRlckNQSGVhZGVyIikuZW1wdHkoKS5hcHBlbmQoaHRtbCk7CQkJCQ0KCX0pOw0KCS8vXV0+DQo8L3NjcmlwdD4NCg0KCQkJDQoJCQk8Zm9ybSBpZD0ib2NwRm9ybSIgYWN0aW9uPSJvZmZlbmRlckNhc2VQbGFuLmh0bSIgbWV0aG9kPSJwb3N0Ij4NCgkJCQk8aW5wdXQgaWQ9Imxhc3RBY2Nlc3NlZCIgbmFtZT0ibGFzdEFjY2Vzc2VkIiB0eXBlPSJoaWRkZW4iIHZhbHVlPSIiLz4NCgkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0ic3VibWl0QWN0aW9uIiBuYW1lPSJzdWJtaXRBY3Rpb24iIC8+DQoJCQk8L2Zvcm0+DQoJCQkNCgkJCTxkaXYgaWQ9Im1haW5DYXNlUGxhblNlY3Rpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQoJCQkJDQoJCQkJIA0KCQkJCTxhIGNsYXNzPSJjb2xsYXBzZUFsbCBkaXNhYmxlZCIgc3R5bGU9ImRpc3BsYXk6ICI+Q29sbGFwc2UgQWxsPC9hPjxici8+DQoNCgkJCQkNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KCQ0KDQo8ZGl2IGlkPSJjbV9zZWN0aW9uIj4NCgk8aDMgY2xhc3M9IiI+Q2FzZSBNYW5hZ2VtZW50PHNwYW4gY2xhc3M9J2ZsYWcnPjwvc3Bhbj48L2gzPg0KCTxkaXYgY2xhc3M9Im1haW4tY29udGVudHMiIGRhdGEtdXJsPSJjYXNlTWdtdC5odG0iID48L2Rpdj4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsgDQogICAkKCIjIiArIGVzYygiY21fc2VjdGlvbiIpKS5jb2xsYXBzaWJsZSh7IA0KICAgICAgaW5pdDogZnVuY3Rpb24oKSB7ICQodGhpcykuZmluZCgiLmNvbGxhcHNpYmxlLWhlYWRlciIpLmRhdGEoInN0YXRlIiwgImNvbGxhcHNlZCIpOyB9LA0KICAgICAgICANCiAgICAgIGFmdGVyRXhwYW5kOiBvbkFmdGVyRXhwYW5kLCAgDQogICAgICBhZnRlckNvbGxhcHNlOiBvbkFmdGVyQ29sbGFwc2UsDQogICAgICB0aXRsZTI6ICcnLA0KICAgICAgc2Nyb2xsVG9CYW5uZXI6IHRydWUsDQogICAgICBjYWNoZWQ6IHRydWUNCiAgIH0pOw0KfSk7DQovL11dPg0KPC9zY3JpcHQ+DQoNCgkJCQkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkJDQoJCQkJDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCjxkaXYgaWQ9ImNuX3NlY3Rpb24iPg0KCTxoMyBjbGFzcz0iIj5Db250YWN0czwvaDM+DQoJPGRpdiBjbGFzcz0ibWFpbi1jb250ZW50cyIgZGF0YS11cmw9Ii4uL2NudGMvY29udGFjdHMuaHRtIiA+PC9kaXY+DQo8L2Rpdj4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCi8vPCFbQ0RBVEFbDQokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7IA0KICAgJCgiIyIgKyBlc2MoImNuX3NlY3Rpb24iKSkuY29sbGFwc2libGUoeyANCiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkgeyAkKHRoaXMpLmZpbmQoIi5jb2xsYXBzaWJsZS1oZWFkZXIiKS5kYXRhKCJzdGF0ZSIsICJjb2xsYXBzZWQiKTsgfSwNCiAgICAgICAgDQogICAgICBhZnRlckV4cGFuZDogb25BZnRlckV4cGFuZCwgIA0KICAgICAgYWZ0ZXJDb2xsYXBzZTogb25BZnRlckNvbGxhcHNlLA0KICAgICAgdGl0bGUyOiAnPHNwYW4gc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6OTUlIiBpZD0iY250Y1ByZFJzbHRzU3BhbiI+PC9zcGFuPicsDQogICAgICBzY3JvbGxUb0Jhbm5lcjogdHJ1ZSwNCiAgICAgIGNhY2hlZDogZmFsc2UNCiAgIH0pOw0KfSk7DQovL11dPg0KPC9zY3JpcHQ+DQoJCQkJDQoJCQkJDQoJCQkJCQ0KCQkJCQkJDQoJCQkJCQkJDQoJCQkJCQkJDQoJCQkJDQoJCQkJDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCjxkaXYgaWQ9ImNoX3NlY3Rpb24iPg0KCTxoMyBjbGFzcz0iIj5DcmltaW5hbCBIaXN0b3J5PC9oMz4NCgk8ZGl2IGNsYXNzPSJtYWluLWNvbnRlbnRzIiBkYXRhLXVybD0iLi4vY2NyL2NjckhlYWRlckJhbm5lci5odG0iID48L2Rpdj4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsgDQogICAkKCIjIiArIGVzYygiY2hfc2VjdGlvbiIpKS5jb2xsYXBzaWJsZSh7IA0KICAgICAgaW5pdDogZnVuY3Rpb24oKSB7ICQodGhpcykuZmluZCgiLmNvbGxhcHNpYmxlLWhlYWRlciIpLmRhdGEoInN0YXRlIiwgImNvbGxhcHNlZCIpOyB9LA0KICAgICAgICANCiAgICAgIGFmdGVyRXhwYW5kOiBvbkFmdGVyRXhwYW5kLCAgDQogICAgICBhZnRlckNvbGxhcHNlOiBvbkFmdGVyQ29sbGFwc2UsDQogICAgICB0aXRsZTI6ICcnLA0KICAgICAgc2Nyb2xsVG9CYW5uZXI6IHRydWUsDQogICAgICBjYWNoZWQ6IGZhbHNlDQogICB9KTsNCn0pOw0KLy9dXT4NCjwvc2NyaXB0Pg0KCQkJCQkNCgkJCQ0KCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJCQkNCgkJCQkNCgkJCQkNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KCQ0KDQo8ZGl2IGlkPSJhc19zZWN0aW9uIj4NCgk8aDMgY2xhc3M9IiI+QXNzZXNzbWVudHM8L2gzPg0KCTxkaXYgY2xhc3M9Im1haW4tY29udGVudHMiIGRhdGEtdXJsPSIuLi9yaXNrQXNzbW50cy9hc3Nlc3NtZW50cy5odG0iID48L2Rpdj4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsgDQogICAkKCIjIiArIGVzYygiYXNfc2VjdGlvbiIpKS5jb2xsYXBzaWJsZSh7IA0KICAgICAgaW5pdDogZnVuY3Rpb24oKSB7ICQodGhpcykuZmluZCgiLmNvbGxhcHNpYmxlLWhlYWRlciIpLmRhdGEoInN0YXRlIiwgImNvbGxhcHNlZCIpOyB9LA0KICAgICAgICANCiAgICAgIGFmdGVyRXhwYW5kOiBvbkFmdGVyRXhwYW5kLCAgDQogICAgICBhZnRlckNvbGxhcHNlOiBvbkFmdGVyQ29sbGFwc2UsDQogICAgICB0aXRsZTI6ICcnLA0KICAgICAgc2Nyb2xsVG9CYW5uZXI6IHRydWUsDQogICAgICBjYWNoZWQ6IHRydWUNCiAgIH0pOw0KfSk7DQovL11dPg0KPC9zY3JpcHQ+DQoJCQkJDQoJCQkJDQoJCQkJDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCgkNCg0KPGRpdiBpZD0ic2Nfc2VjdGlvbiI+DQoJPGgzIGNsYXNzPSIiPlNhZmV0eSBDb25jZXJuczxzcGFuIGNsYXNzPSJmbGFnICI+PC9zcGFuPjwvaDM+DQoJPGRpdiBjbGFzcz0ibWFpbi1jb250ZW50cyIgZGF0YS11cmw9InNhZmV0eUNvbmNlcm5zLmh0bSIgPjwvZGl2Pg0KPC9kaXY+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQovLzwhW0NEQVRBWw0KJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkgeyANCiAgICQoIiMiICsgZXNjKCJzY19zZWN0aW9uIikpLmNvbGxhcHNpYmxlKHsgDQogICAgICBpbml0OiBmdW5jdGlvbigpIHsgJCh0aGlzKS5maW5kKCIuY29sbGFwc2libGUtaGVhZGVyIikuZGF0YSgic3RhdGUiLCAiY29sbGFwc2VkIik7IH0sDQogICAgICAgIA0KICAgICAgYWZ0ZXJFeHBhbmQ6IG9uQWZ0ZXJFeHBhbmQsICANCiAgICAgIGFmdGVyQ29sbGFwc2U6IG9uQWZ0ZXJDb2xsYXBzZSwNCiAgICAgIHRpdGxlMjogJycsDQogICAgICBzY3JvbGxUb0Jhbm5lcjogdHJ1ZSwNCiAgICAgIGNhY2hlZDogdHJ1ZQ0KICAgfSk7DQp9KTsNCi8vXV0+DQo8L3NjcmlwdD4NCgkJCQkJDQoJCQkJDQoJCQkJDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCgkNCg0KPGRpdiBpZD0iYmhfc2VjdGlvbiI+DQoJPGgzIGNsYXNzPSIiPkJlaGF2aW9yPHNwYW4gY2xhc3M9ImZsYWcgIj48L3NwYW4+PC9oMz4NCgk8ZGl2IGNsYXNzPSJtYWluLWNvbnRlbnRzIiBkYXRhLXVybD0iYmVoYXZpb3IuaHRtIiA+PC9kaXY+DQo8L2Rpdj4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCi8vPCFbQ0RBVEFbDQokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7IA0KICAgJCgiIyIgKyBlc2MoImJoX3NlY3Rpb24iKSkuY29sbGFwc2libGUoeyANCiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkgeyAkKHRoaXMpLmZpbmQoIi5jb2xsYXBzaWJsZS1oZWFkZXIiKS5kYXRhKCJzdGF0ZSIsICJjb2xsYXBzZWQiKTsgfSwNCiAgICAgICAgDQogICAgICBhZnRlckV4cGFuZDogb25BZnRlckV4cGFuZCwgIA0KICAgICAgYWZ0ZXJDb2xsYXBzZTogb25BZnRlckNvbGxhcHNlLA0KICAgICAgdGl0bGUyOiAnJywNCiAgICAgIHNjcm9sbFRvQmFubmVyOiB0cnVlLA0KICAgICAgY2FjaGVkOiB0cnVlDQogICB9KTsNCn0pOw0KLy9dXT4NCjwvc2NyaXB0Pg0KCQkJCQ0KCQkJCQ0KCQkJCQ0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KCQ0KDQoNCgkNCg0KPGRpdiBpZD0iY3Rfc2VjdGlvbiI+DQoJPGgzIGNsYXNzPSJkaXNhYmxlZCI+Q3VzdG9keS9UcmFuc2ZlcnMNCgkJCQkJDQoJCQkJCQkmbmJzcDsmbmJzcDs8c3BhbiBzdHlsZT0ibGVmdDo3JTsiPg0KDQoNCg0KDQoNCg0KDQoNCjwhLS0gU2V0IGRlZmF1bHQgb3B0aW9ucyAtLT4NCg0KCQ0KDQoNCjxhIGhyZWY9Ii9vbW5pL2NmcC9pbmRleC5odG0iIGNsYXNzPSJjbHMtbGluayIgb25jbGljaz0iaWYgKGhhc0Rpc2FibGVkQ2xhc3ModGhpcykpIHJldHVybiBmYWxzZTsgIj5DdXN0b2R5IEZhY2lsaXR5IFBsYW48L2E+DQo8L3NwYW4+DQoJCQkJCQ0KCQkJCQkNCgkJCQkJCTxzcGFuIHN0eWxlPSJyaWdodDo3JTtwb3NpdGlvbjogYWJzb2x1dGU7Ij4NCg0KDQoNCg0KDQoNCg0KDQo8IS0tIFNldCBkZWZhdWx0IG9wdGlvbnMgLS0+DQoNCgkNCg0KDQo8YSBocmVmPSIvb21uaS92aXAvdmlvbGF0b3JTdW1tYXJ5Lmh0bSIgY2xhc3M9ImNscy1saW5rIiBvbmNsaWNrPSJpZiAoaGFzRGlzYWJsZWRDbGFzcyh0aGlzKSkgcmV0dXJuIGZhbHNlOyAiPlZpb2xhdG9yIE1hbmFnZW1lbnQ8L2E+DQo8L3NwYW4+PC9oMz4NCgk8ZGl2IGNsYXNzPSJtYWluLWNvbnRlbnRzIiAgPjwvZGl2Pg0KPC9kaXY+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQovLzwhW0NEQVRBWw0KJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkgeyANCiAgICQoIiMiICsgZXNjKCJjdF9zZWN0aW9uIikpLmNvbGxhcHNpYmxlKHsgDQogICAgICBpbml0OiBmdW5jdGlvbigpIHsgJCh0aGlzKS5maW5kKCIuY29sbGFwc2libGUtaGVhZGVyIikuZGF0YSgic3RhdGUiLCAiY29sbGFwc2VkIik7IH0sDQogICAgICAgIA0KICAgICAgICANCiAgICAgIA0KICAgICAgdGl0bGUyOiAnJywNCiAgICAgIHNjcm9sbFRvQmFubmVyOiBmYWxzZSwNCiAgICAgIGNhY2hlZDogdHJ1ZQ0KICAgfSk7DQp9KTsNCi8vXV0+DQo8L3NjcmlwdD4NCgkJCQkNCgkJCQkNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCgkNCg0KDQoJDQoNCjxkaXYgaWQ9InJlX3NlY3Rpb24iPg0KCTxoMyBjbGFzcz0iZGlzYWJsZWQiPlJlZW50cnk8L2gzPg0KCTxkaXYgY2xhc3M9Im1haW4tY29udGVudHMiICA+PC9kaXY+DQo8L2Rpdj4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCi8vPCFbQ0RBVEFbDQokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7IA0KICAgJCgiIyIgKyBlc2MoInJlX3NlY3Rpb24iKSkuY29sbGFwc2libGUoeyANCiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkgeyAkKHRoaXMpLmZpbmQoIi5jb2xsYXBzaWJsZS1oZWFkZXIiKS5kYXRhKCJzdGF0ZSIsICJjb2xsYXBzZWQiKTsgfSwNCiAgICAgICAgDQogICAgICAgIA0KICAgICAgDQogICAgICB0aXRsZTI6ICcnLA0KICAgICAgc2Nyb2xsVG9CYW5uZXI6IGZhbHNlLA0KICAgICAgY2FjaGVkOiB0cnVlDQogICB9KTsNCn0pOw0KLy9dXT4NCjwvc2NyaXB0Pg0KCQkJCQ0KCQkJCQ0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KCQ0KDQoNCgkNCg0KPGRpdiBpZD0icnBfc2VjdGlvbiI+DQoJPGgzIGNsYXNzPSJkaXNhYmxlZCI+UmVwb3J0czwvaDM+DQoJPGRpdiBjbGFzcz0ibWFpbi1jb250ZW50cyIgID48L2Rpdj4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsgDQogICAkKCIjIiArIGVzYygicnBfc2VjdGlvbiIpKS5jb2xsYXBzaWJsZSh7IA0KICAgICAgaW5pdDogZnVuY3Rpb24oKSB7ICQodGhpcykuZmluZCgiLmNvbGxhcHNpYmxlLWhlYWRlciIpLmRhdGEoInN0YXRlIiwgImNvbGxhcHNlZCIpOyB9LA0KICAgICAgICANCiAgICAgICAgDQogICAgICANCiAgICAgIHRpdGxlMjogJycsDQogICAgICBzY3JvbGxUb0Jhbm5lcjogZmFsc2UsDQogICAgICBjYWNoZWQ6IHRydWUNCiAgIH0pOw0KfSk7DQovL11dPg0KPC9zY3JpcHQ+DQoJCQkJDQoJCQkJDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoJDQoNCg0KCQ0KDQo8ZGl2IGlkPSJjZV9zZWN0aW9uIj4NCgk8aDMgY2xhc3M9ImRpc2FibGVkIj5DaHJvbm9sb2dpY2FsIEV2ZW50czwvaDM+DQoJPGRpdiBjbGFzcz0ibWFpbi1jb250ZW50cyIgID48L2Rpdj4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsgDQogICAkKCIjIiArIGVzYygiY2Vfc2VjdGlvbiIpKS5jb2xsYXBzaWJsZSh7IA0KICAgICAgaW5pdDogZnVuY3Rpb24oKSB7ICQodGhpcykuZmluZCgiLmNvbGxhcHNpYmxlLWhlYWRlciIpLmRhdGEoInN0YXRlIiwgImNvbGxhcHNlZCIpOyB9LA0KICAgICAgICANCiAgICAgICAgDQogICAgICANCiAgICAgIHRpdGxlMjogJycsDQogICAgICBzY3JvbGxUb0Jhbm5lcjogZmFsc2UsDQogICAgICBjYWNoZWQ6IHRydWUNCiAgIH0pOw0KfSk7DQovL11dPg0KPC9zY3JpcHQ+DQoJCQkJCQkNCgkJCQkNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPGRpdiBpZD0ic2Ffc2VjdGlvbiI+DQoJPGgzIGNsYXNzPSIiPlN1cGVydmlzb3IgQXBwcm92YWxzPC9oMz4NCgk8ZGl2IGNsYXNzPSJtYWluLWNvbnRlbnRzIiBkYXRhLXVybD0ic3VwZXJ2aXNvckFwcHJvdmFscy5odG0iID48L2Rpdj4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsgDQogICAkKCIjIiArIGVzYygic2Ffc2VjdGlvbiIpKS5jb2xsYXBzaWJsZSh7IA0KICAgICAgaW5pdDogZnVuY3Rpb24oKSB7ICQodGhpcykuZmluZCgiLmNvbGxhcHNpYmxlLWhlYWRlciIpLmRhdGEoInN0YXRlIiwgImNvbGxhcHNlZCIpOyB9LA0KICAgICAgICANCiAgICAgIGFmdGVyRXhwYW5kOiBvbkFmdGVyRXhwYW5kLCAgDQogICAgICBhZnRlckNvbGxhcHNlOiBvbkFmdGVyQ29sbGFwc2UsDQogICAgICB0aXRsZTI6ICcnLA0KICAgICAgc2Nyb2xsVG9CYW5uZXI6IHRydWUsDQogICAgICBjYWNoZWQ6IGZhbHNlDQogICB9KTsNCn0pOw0KLy9dXT4NCjwvc2NyaXB0Pg0KCQkJCQ0KCQkJCTxhIGNsYXNzPSJjb2xsYXBzZUFsbCBkaXNhYmxlZCI+Q29sbGFwc2UgQWxsPC9hPjxici8+DQoJCQkNCgkJCQk8ZGl2IHN0eWxlPSJoZWlnaHQ6IDEwMDBweDsiIC8+DQoJCQk8L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJDQoJCQkNCgkJCQ0KCQkJPCEtLSBNYWluIGNvbnRlbnQgYXJlYTogRU5EIC0tPg0KDQoJCTwvZGl2Pg0KCQk8IS0tIFJpZ2h0IGNvbnRlbnQgcGFuZTogRU5EIC0tPg0KDQoJPC9ib2R5Pg0KCTwhLS0gQm9keSBwb3J0aW9uOiBFTkQgLS0+DQoNCjwvaHRtbD4NCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="102707437" offset="0" length="672" />
          <PacketInfo time="102707453" offset="672" length="11955" />
        </TcpPackets>
      </HTTPResponse>
      <HTTPTask id="113" hostname="omniconv" path="/OMNIStatic/themes/omni/global-body-styles.css" url="http://omniconv/OMNIStatic/themes/omni/global-body-styles.css" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707453" endTime="102707468">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>RnJpLCAyOSBKdW4gMjAxOCAxNToyMTo1MCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjBmYmJjZTZiY2ZkNDE6MCI=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFTVmNTeFRveUNIaDJhTnVJS0NGRW5USUMyOTBIU01DSkRhM0RTN21ucnBZRHcvcmM5UW9RQjZaUmxOamR0Y09sT2pvb3doVUVDTmNTSmZhNlNyVGlKb0k0b25hZHRUMWhtd1hRZHB5S3hOTnhIbmM5NkdMN3BqOG5IaTN0NUJ0djVNZ0NWcmRiWTYrNFIvenB5a3Nna09LSnAwQlo1Nm90VDRuRVJ4KzRUV2RTVnh3Zjc4MjlSVzZ2MlFnc1hLNVlkYTR3Z054SWZZN2hzL3NRNWFwblhZNGtJV1IydEM5WDBpSTVSTnY3QnZ2ZVh1NytNM1R5MWpmTk82K2RaMjZKejhaeWtZYTJvbmFHODJWeHhkNndlQXBRMGNkUGIwZkJ6TGVnbk9NOGdrdjVJRXpkcDkvVWo2YUwrcjJ2R215ZlRrRU9ZdDFYdW1QaExYWUc0YVdFelRzVTJITXdGNkM4TDAzWWwxWUtJMlhDQVJQZDNnYzVRc3I0aVZHZDhoSy85dUNXWm9uRjMwMFI2UTBCZHl6Rll0SDFSVjFxdDFpS09uNndXZWFyd2pEZmQ1NVdqRWx5Zm9JalVXQjVudXNYZFZOSWgwUGJJeU00MXY4bzlVNlNnR2llYWpheHlCS3MyL2VsWHFNQkprd203R0JtV2R1dnNTZjRubEVRTWZHQUVRdjdWWGp4WTJvRlZLcFRFQkJYWHRMcSt3VEIrS0p6dTB4eWxYdGNMSUlFRnVzQ0E0dz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1ib2R5LXN0eWxlcy5jc3MgSFRUUC8xLjENCkFjY2VwdDogdGV4dC9jc3MsICovKg0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCklmLU1vZGlmaWVkLVNpbmNlOiBGcmksIDI5IEp1biAyMDE4IDE1OjIxOjUwIEdNVA0KSWYtTm9uZS1NYXRjaDogIjBmYmJjZTZiY2ZkNDE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFhU1ZjU3hUb3lDSGgyYU51SUtDRkVuVElDMjkwSFNNQ0pEYTNEUzdtbnJwWUR3L3JjOVFvUUI2WlJsTmpkdGNPbE9qb293aFVFQ05jU0pmYTZTclRpSm9JNG9uYWR0VDFobXdYUWRweUt4Tk54SG5jOTZHTDdwajhuSGkzdDVCdHY1TWdDVnJkYlk2KzRSL3pweWtzZ2tPS0pwMEJaNTZvdFQ0bkVSeCs0VFdkU1Z4d2Y3ODI5Ulc2djJRZ3NYSzVZZGE0d2dOeElmWTdocy9zUTVhcG5YWTRrSVdSMnRDOVgwaUk1Uk52N0J2dmVYdTcrTTNUeTFqZk5PNitkWjI2Sno4WnlrWWEyb25hRzgyVnh4ZDZ3ZUFwUTBjZFBiMGZCekxlZ25PTThna3Y1SUV6ZHA5L1VqNmFMK3IydkdteWZUa0VPWXQxWHVtUGhMWFlHNGFXRXpUc1UySE13RjZDOEwwM1lsMVlLSTJYQ0FSUGQzZ2M1UXNyNGlWR2Q4aEsvOXVDV1pvbkYzMDBSNlEwQmR5ekZZdEgxUlYxcXQxaUtPbjZ3V2VhcndqRGZkNTVXakVseWZvSWpVV0I1bnVzWGRWTkloMFBiSXlNNDF2OG85VTZTZ0dpZWFqYXh5QktzMi9lbFhxTUJKa3dtN0dCbVdkdXZzU2Y0bmxFUU1mR0FFUXY3VlhqeFkyb0ZWS3BURUJCWFh0THErd1RCK0tKenUweHlsWHRjTElJRUZ1c0NBNHc9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>RnJpLCAyOSBKdW4gMjAxOCAxNToyMTo1MCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjBmYmJjZTZiY2ZkNDE6MCI=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVGNW4vZmVUbEFYeXFmMmJJSnB2WjVlc1NpWG5IZDdMWUttUVRjYlZSM3RHc3dIVTd4VjlWeXVOUWw4STI0RisrRXlmMTN1YmgvaGppSjRyKy9ic3M1eTk5RFhOaWR3b2RYUlNqU2ZOWEdkdUVYUHZuVkUwZ3U3Qy9BcVphUFVwYlZlVzJSbWZBUXFtTEkzNHYwK2s9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogRnJpLCAyOSBKdW4gMjAxOCAxNToyMTo1MCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMGZiYmNlNmJjZmQ0MTowIg0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdUY1bi9mZVRsQVh5cWYyYklKcHZaNWVzU2lYbkhkN0xZS21RVGNiVlIzdEdzd0hVN3hWOVZ5dU5RbDhJMjRGKytFeWYxM3ViaC9oamlKNHIrL2JzczV5OTlEWE5pZHdvZFhSU2pTZk5YR2R1RVhQdm5WRTBndTdDL0FxWmFQVXBiVmVXMlJtZkFRcW1MSTM0djAraz0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707453" offset="0" length="487" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="115" hostname="omniconv" path="/OMNIStatic/themes/omni/global-error-styles.css" url="http://omniconv/OMNIStatic/themes/omni/global-error-styles.css" ip="10.37.149.132" port="80" connectionId="5" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707453" endTime="102707484">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlkTHBlTE4xcU5TWERwb1ByMEc4cXo0QnZHRFlSWVFBZHcvZEZ2cWVQc0lRMCt4Qk9KWnlWUGVoUEFIdFhaWEplaCt0K1krbmcwSU9mK29kYmlPNXFEU0hueHBvcDc0MWJWOXVzRzlwRE5MZ1NkdFMxam13L1JtbTdORG16OVRRcElPRnhaWTF6Q0VyMzB3NEhNS2hKd2JSTXMrU2o5d012dCs4VUl3YjJIdEc0aU9iOEJpc21aK2hWV1ZEem9XOVc5OGhmQlBhcFZESVFmcWJhS2s5dkFwNVFRemN0T0dZNkJTcFVYRFVpYTNkRW5BZFV2TFZ3OU9DZkl0RjlKVzl6SUY1RCtMd2pUZklHK1FtWkJuQ2czMkdKUGdvZmViSHQyc084SmVMVXpXd2xyd243aGl6dnNFVVl0SnVvcGV2ZXhWdEU1ekh5VnJnRDc4MGdhZURWbG9RSnZyclFGVDdZZCtnbmlhVGN3NHpTMW9mQi9MQUYzdC93aW5EUlEvWHBXbkM5UVZ3TEtYbmdPN085cmMzS2VEcFRxcElwQ2tUMkZNSm01VzBNZlo4NzNtdmJnYmVkSWtuZ0J3ckVHYnVBQUdjQjN1ZmVDM3lFcUtvcWJFZnhMV21iZTFRUTVtcHgvMmRPZkhaeUZlSCtQNjVlMDNNTmNPeVZjY1RFMnQrbFJvdTdCVjRraFhjVzlqZCsyL2lsWkcydXdGMFJRSUtiU01menk4UWo0dm9XVHhTbnVDQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1lcnJvci1zdHlsZXMuY3NzIEhUVFAvMS4xDQpBY2NlcHQ6IHRleHQvY3NzLCAqLyoNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwNWFjYzZkZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlkTHBlTE4xcU5TWERwb1ByMEc4cXo0QnZHRFlSWVFBZHcvZEZ2cWVQc0lRMCt4Qk9KWnlWUGVoUEFIdFhaWEplaCt0K1krbmcwSU9mK29kYmlPNXFEU0hueHBvcDc0MWJWOXVzRzlwRE5MZ1NkdFMxam13L1JtbTdORG16OVRRcElPRnhaWTF6Q0VyMzB3NEhNS2hKd2JSTXMrU2o5d012dCs4VUl3YjJIdEc0aU9iOEJpc21aK2hWV1ZEem9XOVc5OGhmQlBhcFZESVFmcWJhS2s5dkFwNVFRemN0T0dZNkJTcFVYRFVpYTNkRW5BZFV2TFZ3OU9DZkl0RjlKVzl6SUY1RCtMd2pUZklHK1FtWkJuQ2czMkdKUGdvZmViSHQyc084SmVMVXpXd2xyd243aGl6dnNFVVl0SnVvcGV2ZXhWdEU1ekh5VnJnRDc4MGdhZURWbG9RSnZyclFGVDdZZCtnbmlhVGN3NHpTMW9mQi9MQUYzdC93aW5EUlEvWHBXbkM5UVZ3TEtYbmdPN085cmMzS2VEcFRxcElwQ2tUMkZNSm01VzBNZlo4NzNtdmJnYmVkSWtuZ0J3ckVHYnVBQUdjQjN1ZmVDM3lFcUtvcWJFZnhMV21iZTFRUTVtcHgvMmRPZkhaeUZlSCtQNjVlMDNNTmNPeVZjY1RFMnQrbFJvdTdCVjRraFhjVzlqZCsyL2lsWkcydXdGMFJRSUtiU01menk4UWo0dm9XVHhTbnVDQT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVmVmRwcEU5UnVPRTR5Uk9wWjVpTi8xcjR2blR3TlhRYWV1RU9URDJidlNjNElTdmRUV0dSZUVXdjE1THlDbTF4Y01DZk9YOWVtZ3UvQkJ3dWVxOU9ycGhEamYwYkRubDYrclFWR01nSkcxTFgyZHZkZDBXOWhWUy8wWHJ5NENkS1ZTMzYzS3dQRFp3UDVCd2F0VkE9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVmVmRwcEU5UnVPRTR5Uk9wWjVpTi8xcjR2blR3TlhRYWV1RU9URDJidlNjNElTdmRUV0dSZUVXdjE1THlDbTF4Y01DZk9YOWVtZ3UvQkJ3dWVxOU9ycGhEamYwYkRubDYrclFWR01nSkcxTFgyZHZkZDBXOWhWUy8wWHJ5NENkS1ZTMzYzS3dQRFp3UDVCd2F0VkE9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707468" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="117" hostname="omniconv" path="/OMNIStatic/themes/omni/global-link-styles.css" url="http://omniconv/OMNIStatic/themes/omni/global-link-styles.css" ip="10.37.149.132" port="80" connectionId="8" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707468" endTime="102707484">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJSL2tsK0ZqWkM2Q01UY21mQkdYMDRJczg0RmxJUzVsMGpnMkQrNUVxUGo1L1NiSmNDT1RwelFXNitOTlBvVXArU0Jqc3grTUI5K0l1RkN5U2MzTERCYllTWmN0SUdCSGJDcG1pYjNuRDhLa05xMjQ1NTdONWRFZUZKZEtMdXN1WWQ5TjJaVWF6UmU0QWhVRFRNM01sb3dPdmlJZGthWXBsQmZuaStVbTdMdHloZGNuU2lyd0NaaVBlYVVRelZRdU0zSmdsRkJDUDUybjYyazRpSGlWdWtDUThFZEl2WEREajNlbVZoWkhLcXlVTGhuRnZMOTJReWY1MHFLRXpBUGl4VW84SDdid0ZjMUFUMExYaHZ0RW5pZEM4MysyYmtpTlhuc01qTjNidDBFb1ZTcTgrd3FwMWd5dUZMWFNyN3VwK0crYmxQMXNLV2U4bEN3RloxSS90bHNhNTNYY2tvc2JKaXhiVm1xWnlXa3dRRTMvc2wzYzRDN3gzTnM5Z3lwelc2WGp3R25Salg2REcvcGlVOXhCRzE0cVFnWjMrQm56R1I1OEM2MFk4RU5HRU52UkpObm51L1k2SDBNUEVFL2JQY25vK2Jjem1POGVVOEw1UERPUnlyM1RXWnNKbU9rbWEydnIyenIxWEtYQWxGODZZWEZ6SERxdTF3WU90MmZUYUxmejZBYVFOVElyRlRlYkl1a2M5SHVEbXZ6eVdOVkhqVU1hUURKVEN6QWF3aTBBTHd5QT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1saW5rLXN0eWxlcy5jc3MgSFRUUC8xLjENCkFjY2VwdDogdGV4dC9jc3MsICovKg0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCklmLU1vZGlmaWVkLVNpbmNlOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KSWYtTm9uZS1NYXRjaDogIjA1YWNjNmRkYThlZDMxOjAiDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYlIva2wrRmpaQzZDTVRjbWZCR1gwNElzODRGbElTNWwwamcyRCs1RXFQajUvU2JKY0NPVHB6UVc2K05OUG9VcCtTQmpzeCtNQjkrSXVGQ3lTYzNMREJiWVNaY3RJR0JIYkNwbWliM25EOEtrTnEyNDU1N041ZEVlRkpkS0x1c3VZZDlOMlpVYXpSZTRBaFVEVE0zTWxvd092aUlka2FZcGxCZm5pK1VtN0x0eWhkY25TaXJ3Q1ppUGVhVVF6VlF1TTNKZ2xGQkNQNTJuNjJrNGlIaVZ1a0NROEVkSXZYRERqM2VtVmhaSEtxeVVMaG5Gdkw5MlF5ZjUwcUtFekFQaXhVbzhIN2J3RmMxQVQwTFhodnRFbmlkQzgzKzJia2lOWG5zTWpOM2J0MEVvVlNxOCt3cXAxZ3l1RkxYU3I3dXArRytibFAxc0tXZThsQ3dGWjFJL3Rsc2E1M1hja29zYkppeGJWbXFaeVdrd1FFMy9zbDNjNEM3eDNOczlneXB6VzZYandHblJqWDZERy9waVU5eEJHMTRxUWdaMytCbnpHUjU4QzYwWThFTkdFTnZSSk5ubnUvWTZIME1QRUUvYlBjbm8rYmN6bU84ZVU4TDVQRE9SeXIzVFdac0ptT2ttYTJ2cjJ6cjFYS1hBbEY4NllYRnpIRHF1MXdZT3QyZlRhTGZ6NkFhUU5USXJGVGViSXVrYzlIdURtdnp5V05WSGpVTWFRREpUQ3pBYXdpMEFMd3lBPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU2SFcwQjFSRE1odks3TUMxVWRtendkSFJZbVFUeHIxa2ozQmpRZExYMitNM2pDanNtdTlRRlREcGIvNVlOYmNFbEt5VW9BcllLOENoM1Y5YTFkbTJiV3ZBa09yNExaVTVYTUd5TkgxNm5CbkR6MVY2OHNTZitiOVI4RTh4dHJnN1R5c2YwZHdhb05ieVJWQjh6d009</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU2SFcwQjFSRE1odks3TUMxVWRtendkSFJZbVFUeHIxa2ozQmpRZExYMitNM2pDanNtdTlRRlREcGIvNVlOYmNFbEt5VW9BcllLOENoM1Y5YTFkbTJiV3ZBa09yNExaVTVYTUd5TkgxNm5CbkR6MVY2OHNTZitiOVI4RTh4dHJnN1R5c2YwZHdhb05ieVJWQjh6d009DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707484" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="119" hostname="omniconv" path="/OMNIStatic/themes/omni/global-layer-styles.css" url="http://omniconv/OMNIStatic/themes/omni/global-layer-styles.css" ip="10.37.149.132" port="80" connectionId="9" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707468" endTime="102707484">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVluamhMaE84Y0RsTXE4bWR1ZHV3Z2pKVG9GL3BrM0RkU2FXUjNWcjlCcFhydUlLbWo1VC8rYUJjSzMxci85U1IzU292UVd5TllkdG9TTGRhQUlKR3ZzYlNNUkpsb3dTMlFJVWtJOEdDM2xWMnpOZWt6Uy9IVndpRmFXVk1CZitiSlBMb3hxVjJiQ3VhaFlYRlJjNGEyZVBTYnE3ZU44Y1M5S0U4UlVZVWVxZ3FMVnBTRmVrU0taTXJkR3h4V1g5U3JOVldSdWFmTnBxT29xV251Q1BiSVplWUovNy9lVmlkc00rZ08vcFJ3TWxyR3Jrc1NqZWZCTzBNcm5LdE4xanllK01jWklRRUgzUXZNdk1QTWFuSnh3ODRwVjVMYStPdkhRYzRjWHRnZktiUlFWNFJCM3B3aEVEclZUWk1ZbElscTlXKzk3Q3JIOW9MZUw1R2wyZklHUytzQ0o1ZHZIaWdJRzZhWG9MekRvS3lUR2IwalJxbmZlVkUwQVZYdzVBNFRXYTdSck5hQjQ0alVRdFlLem1BZ1FCUTIzWlp4MG5tTGxxOHZhOXN4aW82MGVsck05MU5MWUdTclpCWitvczVPL2JpR25aTWoweStvdXZLRm0zdFowellkckZWdHdXaW84VGJ5eDhwWHVOU0JqRlZhRk9rdDdQdTZKQzdNV1BGVzBDdXVTU1d2Zm1WYm5CdjlKUEZRTDdVempKVUdFbjlKSFBsdWovcysvYkkyT0k3RTdnUT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1sYXllci1zdHlsZXMuY3NzIEhUVFAvMS4xDQpBY2NlcHQ6IHRleHQvY3NzLCAqLyoNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwNWFjYzZkZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVluamhMaE84Y0RsTXE4bWR1ZHV3Z2pKVG9GL3BrM0RkU2FXUjNWcjlCcFhydUlLbWo1VC8rYUJjSzMxci85U1IzU292UVd5TllkdG9TTGRhQUlKR3ZzYlNNUkpsb3dTMlFJVWtJOEdDM2xWMnpOZWt6Uy9IVndpRmFXVk1CZitiSlBMb3hxVjJiQ3VhaFlYRlJjNGEyZVBTYnE3ZU44Y1M5S0U4UlVZVWVxZ3FMVnBTRmVrU0taTXJkR3h4V1g5U3JOVldSdWFmTnBxT29xV251Q1BiSVplWUovNy9lVmlkc00rZ08vcFJ3TWxyR3Jrc1NqZWZCTzBNcm5LdE4xanllK01jWklRRUgzUXZNdk1QTWFuSnh3ODRwVjVMYStPdkhRYzRjWHRnZktiUlFWNFJCM3B3aEVEclZUWk1ZbElscTlXKzk3Q3JIOW9MZUw1R2wyZklHUytzQ0o1ZHZIaWdJRzZhWG9MekRvS3lUR2IwalJxbmZlVkUwQVZYdzVBNFRXYTdSck5hQjQ0alVRdFlLem1BZ1FCUTIzWlp4MG5tTGxxOHZhOXN4aW82MGVsck05MU5MWUdTclpCWitvczVPL2JpR25aTWoweStvdXZLRm0zdFowellkckZWdHdXaW84VGJ5eDhwWHVOU0JqRlZhRk9rdDdQdTZKQzdNV1BGVzBDdXVTU1d2Zm1WYm5CdjlKUEZRTDdVempKVUdFbjlKSFBsdWovcysvYkkyT0k3RTdnUT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV2dktEUW52NlpVbUdQUDRJUmhXN0JKcFU5WFhSeUZ6d0VWTENRekhuVDc3V0JVd2tOVjhZTXV2emRZRmx3ZS9uTGtOQUZoSnZPOEs1ZFlQc2NTSXJ2MGc4NXJVa1pmcGxCeGFNZDBPbXdobWxhM0MyODg2dTBneHExZ2NqTlBSYWdRam1LZk5mMk91ejNBd3VkRzg9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV2dktEUW52NlpVbUdQUDRJUmhXN0JKcFU5WFhSeUZ6d0VWTENRekhuVDc3V0JVd2tOVjhZTXV2emRZRmx3ZS9uTGtOQUZoSnZPOEs1ZFlQc2NTSXJ2MGc4NXJVa1pmcGxCeGFNZDBPbXdobWxhM0MyODg2dTBneHExZ2NqTlBSYWdRam1LZk5mMk91ejNBd3VkRzg9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707484" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="122" hostname="omniconv" path="/OMNIStatic/themes/omni/global-layout-styles.css" url="http://omniconv/OMNIStatic/themes/omni/global-layout-styles.css" ip="10.37.149.132" port="80" connectionId="10" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707468" endTime="102707484">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlxNXk1VzJVZGpieDl0cUtFbDVlVVVPT3kyQ1NINU1NSExBUndKdHd1eUJlOW1oMm5sQWpkdXNQUDBHZnVGZWY3TU5Tcy9DVGhqNi9sQ1hER1JNclFzQm1sVE55TU5mdEZ2L1pQNzBBLzR0VGk5RUtuK1ZVVHB3VnBicmQ5c2dMNC9HNisvUjlPRWFYWE1XRFFJL3piK3JLL245NDJSSlp3WG90M2s0QklBZkRXZ2RCWUd0d2ZvSTFKOU5tUTFCOVlXNjRwTEtPcDZjOHYwTU00MjYzM2FvL0dpdnQ1TE8rUUhyQTFObFhVRkNyK1ZBYXpwMGY4YUQzR1ZDZms1YXN3U3Qrdm52SUxabUNoaWFPbnBkZVRPa1JVMXgzQnZiRjBjZHN0TkNDOGRxSjFnVGxjVlovcTFUcGtxSW1xU2ZTQmhXS3lWU0J0aEtiK1F6TEwwclRRSGNxM253eXlvZk1teXhLR2xRcDhaeVhrVktYck55NHBsRURMU1RwUkxGTlFmTW9xc21aS0UwdEpqWWdmVFFXTHZ2NXppeWFSYVhxd2xMUHI4MXdkWjhnVHNhYWVTSy9oaWlqalVueDFycWRIMmhjMC9aMU44SFozZUowczBjLzJtRHB1RFZnN0x0ZTVCWlJ5TE82clB4M1BFSklpbVNHNUFCUEU4ZURjN25ZQWNYak5JZEh5b3JFVUpqd0YrV0xkclhjNXpxMUxPeWp6MktlQ3pVZ1h4Y3JoN2xORTR1Zz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1sYXlvdXQtc3R5bGVzLmNzcyBIVFRQLzEuMQ0KQWNjZXB0OiB0ZXh0L2NzcywgKi8qDQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTIgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDVhY2M2ZGRhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFZcTV5NVcyVWRqYng5dHFLRWw1ZVVVT095MkNTSDVNTUhMQVJ3SnR3dXlCZTltaDJubEFqZHVzUFAwR2Z1RmVmN01OU3MvQ1RoajYvbENYREdSTXJRc0JtbFROeU1OZnRGdi9aUDcwQS80dFRpOUVLbitWVVRwd1ZwYnJkOXNnTDQvRzYrL1I5T0VhWFhNV0RRSS96YitySy9uOTQyUkpad1hvdDNrNEJJQWZEV2dkQllHdHdmb0kxSjlObVExQjlZVzY0cExLT3A2Yzh2ME1NNDI2MzNhby9HaXZ0NUxPK1FIckExTmxYVUZDcitWQWF6cDBmOGFEM0dWQ2ZrNWFzd1N0K3ZudklMWm1DaGlhT25wZGVUT2tSVTF4M0J2YkYwY2RzdE5DQzhkcUoxZ1RsY1ZaL3ExVHBrcUltcVNmU0JoV0t5VlNCdGhLYitRekxMMHJUUUhjcTNud3l5b2ZNbXl4S0dsUXA4WnlYa1ZLWHJOeTRwbEVETFNUcFJMRk5RZk1vcXNtWktFMHRKallnZlRRV0x2djV6aXlhUmFYcXdsTFByODF3ZFo4Z1RzYWFlU0svaGlpampVbngxcnFkSDJoYzAvWjFOOEhaM2VKMHMwYy8ybURwdURWZzdMdGU1QlpSeUxPNnJQeDNQRUpJaW1TRzVBQlBFOGVEYzduWUFjWGpOSWRIeW9yRVVKandGK1dMZHJYYzV6cTFMT3lqejJLZUN6VWdYeGNyaDdsTkU0dWc9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVIbHVmNllMTHhFVHA3ZkpoN3JUMERwdXQ0NjQ1T083WUlLN0J4OXJkM2NONWtXYmRBTjJXNW13YmNPeG5KYlhkV2dJTTNQSVZ5Y3dPQXBqY2Z5T2dCRGFmdXZVWG1ydzdDMWUzNm1nL1YvOWRXZXlpYVhuODhzK05VWUs5Q2lRK2c5VFJSTkxFcHBiL0ZmakJxMUk9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVIbHVmNllMTHhFVHA3ZkpoN3JUMERwdXQ0NjQ1T083WUlLN0J4OXJkM2NONWtXYmRBTjJXNW13YmNPeG5KYlhkV2dJTTNQSVZ5Y3dPQXBqY2Z5T2dCRGFmdXZVWG1ydzdDMWUzNm1nL1YvOWRXZXlpYVhuODhzK05VWUs5Q2lRK2c5VFJSTkxFcHBiL0ZmakJxMUk9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707484" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="124" hostname="omniconv" path="/OMNIStatic/themes/omni/global-menu-styles.css" url="http://omniconv/OMNIStatic/themes/omni/global-menu-styles.css" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707484" endTime="102707500">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlDaUFNeXZLYU5MT1BXeG00U2ZiVmlTR1duSFVZaFVhVzM3bHJzNmFZUG1SKy9NRlpMWm9USmlwV3FmRzExaWF2bG9BakR5eXZxSDd4ZlNpWUxUVVhPMEZOamtjc0pxek9VNEFXNmhIL2xwV1pCY0t0bm85am5BTE1JclYvWkR3UkV5aTlqN1hTZHFwUWtUbjE3TTQyWXNnYUdKOFNySnlnVytRVVBNR3VERmRSNGg0cDRsYlNqRjR6U0RheUZOZ2JVbXNlYk5hbVYyOUc5UVQyM0thT0l0dWM0YjJocytoVUVWUElZRnBET09Sb1JOeGNYd1RPRkJQeElKNnBMTElZRlllcnZydVB5U2VyYXRZTDhOV1V6emNVZTJKbTJENlc1NUdraHJpT1RGZ3VSUnpRbVR0MGZaOUljYUVHWk9GYzRRWUNzeEZnellPSTNLMlJJd0pHUnlBd3NNdlpCTVFnUFRJUTcvRW9yWHRnTU84SXZsRzk4OE5TdGpjTFhRVVVIT1RjY2RJK2Z5cXp6cGw2WE5VSlV1bTh4RWpKUzdmdHF2OFpmZ29xZGxpREdNTnNPWjRmbDFnYmxjcWl4SFFlUGlBVjNsR2dhdUt4RndaSjRiTmhoM2FaaEhuQ25ucU9ZbVN6YWI0OEVmYllFZXp2WDFoNkpiWnp6SEEvczEzb2xwck5FRXl5Z3Y2T0VYN1I5NTBJdTh0aWR0cEhEcC9LTitZSDVRQ2F6WHVEb3picDBadz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1tZW51LXN0eWxlcy5jc3MgSFRUUC8xLjENCkFjY2VwdDogdGV4dC9jc3MsICovKg0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCklmLU1vZGlmaWVkLVNpbmNlOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KSWYtTm9uZS1NYXRjaDogIjA1YWNjNmRkYThlZDMxOjAiDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhWUNpQU15dkthTkxPUFd4bTRTZmJWaVNHV25IVVloVWFXMzdscnM2YVlQbVIrL01GWkxab1RKaXBXcWZHMTFpYXZsb0FqRHl5dnFIN3hmU2lZTFRVWE8wRk5qa2NzSnF6T1U0QVc2aEgvbHBXWkJjS3RubzlqbkFMTUlyVi9aRHdSRXlpOWo3WFNkcXBRa1RuMTdNNDJZc2dhR0o4U3JKeWdXK1FVUE1HdURGZFI0aDRwNGxiU2pGNHpTRGF5Rk5nYlVtc2ViTmFtVjI5RzlRVDIzS2FPSXR1YzRiMmhzK2hVRVZQSVlGcERPT1JvUk54Y1h3VE9GQlB4SUo2cExMSVlGWWVydnJ1UHlTZXJhdFlMOE5XVXp6Y1VlMkptMkQ2VzU1R2tocmlPVEZndVJSelFtVHQwZlo5SWNhRUdaT0ZjNFFZQ3N4Rmd6WU9JM0syUkl3SkdSeUF3c012WkJNUWdQVElRNy9Fb3JYdGdNTzhJdmxHOTg4TlN0amNMWFFVVUhPVGNjZEkrZnlxenpwbDZYTlVKVXVtOHhFakpTN2Z0cXY4WmZnb3FkbGlER01Oc09aNGZsMWdibGNxaXhIUWVQaUFWM2xHZ2F1S3hGd1pKNGJOaGgzYVpoSG5Dbm5xT1ltU3phYjQ4RWZiWUVlenZYMWg2SmJaenpIQS9zMTNvbHByTkVFeXlndjZPRVg3Ujk1MEl1OHRpZHRwSERwL0tOK1lINVFDYXpYdURvemJwMFp3PT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVOQXhJeGtneEpNOVhMbDFoUzVNVjBTR2ErczBuT0RHNDZhVGpCZ0NxeUpyWUU1R3dqeUNxSGpCSFB3b1RqK1NON3lEeEVDNEtVNjE4Snl4MHplanhmcjJTWXhvNnIvd0N1RGlJR1dzL0JoY1ptZXd3THRxMHB5YUFjSHlSaklLd1hQWXN0dVUvUjA2VlFsMmFFUFU9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVOQXhJeGtneEpNOVhMbDFoUzVNVjBTR2ErczBuT0RHNDZhVGpCZ0NxeUpyWUU1R3dqeUNxSGpCSFB3b1RqK1NON3lEeEVDNEtVNjE4Snl4MHplanhmcjJTWXhvNnIvd0N1RGlJR1dzL0JoY1ptZXd3THRxMHB5YUFjSHlSaklLd1hQWXN0dVUvUjA2VlFsMmFFUFU9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707500" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="126" hostname="omniconv" path="/OMNIStatic/themes/omni/global-print-styles.css" url="http://omniconv/OMNIStatic/themes/omni/global-print-styles.css" ip="10.37.149.132" port="80" connectionId="5" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707484" endTime="102707500">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVp2WkJPZG9lMW0zcHVnRU9iVWo2dDFOdFYvUllLMXd5em9lWUdHYndKc2hZdStNb285VU83azliY25lbHYwbjFsL3B6Vm5JaVZGc20ySEpVM1hhNkJvMFo0TXFLSWlJbWxDNlVPaVZtWTZQenZMNW9MTk16VWcvV3VsMWZFVU96VlIrcy9OdktHY0pVblhwbnBjcS9ienhZOWN3eXMwVm5QSlFSdkNYeXlqanNxai9BVkJJNlZNS0hQUnh1bWJMdVg5bGZwMDJsZTlXZXhQcEk5bjRDREhlSTV1dzlsbTVpR0kzSFRQQUhhZWdNMEc3c3c4STc5cloxZUJqcnJRWlpvSWN0K3A4V2NobUt6ZFRrejR1UGZqZlVVQTRQaDlPNEFzWjJyYk9VRVRZTU92MlcxNkZEUCt6eEVpeHQ4OElwRUF6dzF4cm0wK014cDlsOWZYV2NUcE9kcmpoUEo5U1YrZzF4OXI4TXI3Z1d2elh1Q2c1a09zWkZSWkdFMmY4dlpqNWxLL0g2Kzh2dUVoZ1RleDFNNXU1SWNrd2xJcFB2cjBtQXJnR25xd0VRNXVXRFMrM0Y5cXA1cW9YN3pxSVVsUFV1RnJJU3hhMlc2TDZON0NKTVlzUkd0NUdpUHVjN2s1Qko5S1JQT0ljOHNwK2s5N29WcEZaZHhiSGxMTjZiZGN0eVMwTW5rWXNGMkhSa3RPdVd6WkdnaXNVYmFjRk5NVU5uOFZweTlQWktpNVJxTm43UT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9vbW5pL2dsb2JhbC1wcmludC1zdHlsZXMuY3NzIEhUVFAvMS4xDQpBY2NlcHQ6IHRleHQvY3NzLCAqLyoNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwNWFjYzZkZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVp2WkJPZG9lMW0zcHVnRU9iVWo2dDFOdFYvUllLMXd5em9lWUdHYndKc2hZdStNb285VU83azliY25lbHYwbjFsL3B6Vm5JaVZGc20ySEpVM1hhNkJvMFo0TXFLSWlJbWxDNlVPaVZtWTZQenZMNW9MTk16VWcvV3VsMWZFVU96VlIrcy9OdktHY0pVblhwbnBjcS9ienhZOWN3eXMwVm5QSlFSdkNYeXlqanNxai9BVkJJNlZNS0hQUnh1bWJMdVg5bGZwMDJsZTlXZXhQcEk5bjRDREhlSTV1dzlsbTVpR0kzSFRQQUhhZWdNMEc3c3c4STc5cloxZUJqcnJRWlpvSWN0K3A4V2NobUt6ZFRrejR1UGZqZlVVQTRQaDlPNEFzWjJyYk9VRVRZTU92MlcxNkZEUCt6eEVpeHQ4OElwRUF6dzF4cm0wK014cDlsOWZYV2NUcE9kcmpoUEo5U1YrZzF4OXI4TXI3Z1d2elh1Q2c1a09zWkZSWkdFMmY4dlpqNWxLL0g2Kzh2dUVoZ1RleDFNNXU1SWNrd2xJcFB2cjBtQXJnR25xd0VRNXVXRFMrM0Y5cXA1cW9YN3pxSVVsUFV1RnJJU3hhMlc2TDZON0NKTVlzUkd0NUdpUHVjN2s1Qko5S1JQT0ljOHNwK2s5N29WcEZaZHhiSGxMTjZiZGN0eVMwTW5rWXNGMkhSa3RPdVd6WkdnaXNVYmFjRk5NVU5uOFZweTlQWktpNVJxTm43UT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVsSzY1ZkZYVExvbFZmRzMyOTJoaFlxWHZFbU5pK28veStVSldnWnA2a0NnalQ3bmRFRW4rc0dYVUxmRmNtbWQrNTMxcmIxMk0yZm5OT3hxNFRTMU4vSDcyczVsRUF1Ty9IODVVeTN3OC92UjhtUWlrTWJaQytFQlBmZnM1QWJ2ZDcyQnJGaEVPcy9lTGdMdlI0cU09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVsSzY1ZkZYVExvbFZmRzMyOTJoaFlxWHZFbU5pK28veStVSldnWnA2a0NnalQ3bmRFRW4rc0dYVUxmRmNtbWQrNTMxcmIxMk0yZm5OT3hxNFRTMU4vSDcyczVsRUF1Ty9IODVVeTN3OC92UjhtUWlrTWJaQytFQlBmZnM1QWJ2ZDcyQnJGaEVPcy9lTGdMdlI0cU09DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707500" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="128" hostname="omniconv" path="/OMNIStatic/scripts/jquery/jquery-ui.css" url="http://omniconv/OMNIStatic/scripts/jquery/jquery-ui.css" ip="10.37.149.132" port="80" connectionId="8" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707500" endTime="102707515">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFMS1luY3hCZWJ3R0pRNlFpQkUrbkNiRkJxS3dJdU5XSHRabGNPRmFIWHFXaDhJSFhXMkRZZlBMcXRTSGNWUWpFOWNtckVGVlEvOEhTVEpxbjRhL0kvZlFKWERvUVhMUkxRYjhudmwwSERoWVF2dFdvWFJuejJ4V1Q1ckNhMHdQcHlOaEI2S2hBOWFxcFVrcGJOSldUV3J4bW9nbVR0SDB5M2NnY2p4Um1ObGpvRGFXeFVZbWY0VURSS3FSR0VZdHVnN0x5aWJDMUY2cVF5VXI1T202ck85RkxIcVhheDdmb2pJRHhTekhFM0E0VWw1RGN2b0JHcjcvRHRaNmxNOFdNUytxY2tFKzFncktqUTkwblNjY3dnNGlJbUMxUUJIUldGb3JUaEhacXFIMFp6TG1EbnBQZ0thU1dxRy9sWnlpWDUveFJTNjhNaXk0aTluM2FXNFNIbG9pcnlvbzhxamRzVmkxK3l3QVJ3d0JoK0F4MVhwdUhVOUJVTFdYTUQxSWVaU3JGOW5DRFZaUzBsN3Zud0pqcFNrR1l3NHNzZGhKd2JuU2ZnWFdrWUU3a2dvb3ZVdFVnNGs1OTdvU0plMWdkcldKaU5wbmEwOUVmTVhwNUZlaEdTK3l5L3kybmdkZzZSZjJQVjM3elJMdFN0b3l3eG9BVVVvQzNROFZubWFvZjhtWm9rWEJxa1NpbXFWWGJ2TFdsNU1JbzBqQUUzNjFCSk5wVllrZEZ5c0ltdmU3NWhTQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS11aS5jc3MgSFRUUC8xLjENCkFjY2VwdDogdGV4dC9jc3MsICovKg0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCklmLU1vZGlmaWVkLVNpbmNlOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KSWYtTm9uZS1NYXRjaDogIjA1YWNjNmRkYThlZDMxOjAiDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYUxLWW5jeEJlYndHSlE2UWlCRStuQ2JGQnFLd0l1TldIdFpsY09GYUhYcVdoOElIWFcyRFlmUExxdFNIY1ZRakU5Y21yRUZWUS84SFNUSnFuNGEvSS9mUUpYRG9RWExSTFFiOG52bDBIRGhZUXZ0V29YUm56MnhXVDVyQ2Ewd1BweU5oQjZLaEE5YXFwVWtwYk5KV1RXcnhtb2dtVHRIMHkzY2djanhSbU5sam9EYVd4VVltZjRVRFJLcVJHRVl0dWc3THlpYkMxRjZxUXlVcjVPbTZyTzlGTEhxWGF4N2ZvaklEeFN6SEUzQTRVbDVEY3ZvQkdyNy9EdFo2bE04V01TK3Fja0UrMWdyS2pROTBuU2Njd2c0aUltQzFRQkhSV0ZvclRoSFpxcUgwWnpMbURucFBnS2FTV3FHL2xaeWlYNS94UlM2OE1peTRpOW4zYVc0U0hsb2lyeW9vOHFqZHNWaTEreXdBUnd3QmgrQXgxWHB1SFU5QlVMV1hNRDFJZVpTckY5bkNEVlpTMGw3dm53SmpwU2tHWXc0c3NkaEp3Ym5TZmdYV2tZRTdrZ29vdlV0VWc0azU5N29TSmUxZ2RyV0ppTnBuYTA5RWZNWHA1RmVoR1MreXkveTJuZ2RnNlJmMlBWMzd6Ukx0U3RveXd4b0FVVW9DM1E4Vm5tYW9mOG1ab2tYQnFrU2ltcVZYYnZMV2w1TUlvMGpBRTM2MUJKTnBWWWtkRnlzSW12ZTc1aFNBPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVVa1RRb2hQOXFoUEFBeGxKT3craExqTzk1elRWTFVSUGFWNmk3bnpaMkh3OWxoMzNtbmQvWGxrUXgwMzFjU1FQcTVJQ0xyQWU5ZzBTamJHWVpDRWxJamxESGMxKy9meU5VQVM4Q1lPSlA5ZkVBZFlxYmh1REZxNWZLYkl2U0ZSY2M5anpEVkNuNDZlcmRJZDBNaTQ9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVVa1RRb2hQOXFoUEFBeGxKT3craExqTzk1elRWTFVSUGFWNmk3bnpaMkh3OWxoMzNtbmQvWGxrUXgwMzFjU1FQcTVJQ0xyQWU5ZzBTamJHWVpDRWxJamxESGMxKy9meU5VQVM4Q1lPSlA5ZkVBZFlxYmh1REZxNWZLYkl2U0ZSY2M5anpEVkNuNDZlcmRJZDBNaTQ9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707515" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="131" hostname="omniconv" path="/OMNIStatic/themes/displaytag.css" url="http://omniconv/OMNIStatic/themes/displaytag.css" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.315-07:00" startTime="102707500" endTime="102707515">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWIzVzBZZW1vM3BwVVpRL3d5YU4zTUFpcEhXanczbHE1ZWhIRnR5cTlwUFU0WVVPcW92WE13ZG9oeWNjam9XdnordHBzY3U0c0Q3ekRjUE9aOHBvOGdhSjFUU0pScUgwNXZCMEMvZlZhN3VvbzZVei80UnhhdThsamM0aElSRFRibno3Ti9LUEJHN284VURjY1pjckZtNUFRNGRuUnpIclFTc0RkcjBOK1pxeXZpQkkrQW94OHJNQk1TMDk4blRzMEVmcTNJTG44QlpvcnF2dTBVdmo1akZudWk1RGM5K0ltZUdIWEFqbDdGc1k5VXhITCtld2dNUGNTNWh4T2NpYnJMN01DNUQ2WGtvZnUwUmI3d3VtTFR0S0M0a2pWemw5cnJISHJwWGNJYUIyYlFkSjNyMGd3TThrM2R1RVZycHhJanYzNmpnTXpkQm9PaFY3YkNxd00yQ1hyM3ZiMUVXZkgyNDkrSEdIdkRVaTZqU2ZiazcrZGJPdUtVT2tsY2QvQzBKd1ZIYU5MSm94OW5kL1EvaXM3QVpRTjBXTUFiUCsrcHlqOGE2bmZQWHJzV00wcU1iaFFIQkc4MWJFTlFVdkQwc2lSM2U2M2dzZ0ptMXhQM09BSFRQY0RDVHJFS2NETUExdDBMS1ZaYk9EcFhlRWhzL2t0TndXQThnc3hWWVl6Tis2QmRqMlNnQWQvaThCSzhkRW83WXYrMHYycjNNbThmbnNwVldFbFVXa29rOFFKSk1mQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9kaXNwbGF5dGFnLmNzcyBIVFRQLzEuMQ0KQWNjZXB0OiB0ZXh0L2NzcywgKi8qDQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWIzVzBZZW1vM3BwVVpRL3d5YU4zTUFpcEhXanczbHE1ZWhIRnR5cTlwUFU0WVVPcW92WE13ZG9oeWNjam9XdnordHBzY3U0c0Q3ekRjUE9aOHBvOGdhSjFUU0pScUgwNXZCMEMvZlZhN3VvbzZVei80UnhhdThsamM0aElSRFRibno3Ti9LUEJHN284VURjY1pjckZtNUFRNGRuUnpIclFTc0RkcjBOK1pxeXZpQkkrQW94OHJNQk1TMDk4blRzMEVmcTNJTG44QlpvcnF2dTBVdmo1akZudWk1RGM5K0ltZUdIWEFqbDdGc1k5VXhITCtld2dNUGNTNWh4T2NpYnJMN01DNUQ2WGtvZnUwUmI3d3VtTFR0S0M0a2pWemw5cnJISHJwWGNJYUIyYlFkSjNyMGd3TThrM2R1RVZycHhJanYzNmpnTXpkQm9PaFY3YkNxd00yQ1hyM3ZiMUVXZkgyNDkrSEdIdkRVaTZqU2ZiazcrZGJPdUtVT2tsY2QvQzBKd1ZIYU5MSm94OW5kL1EvaXM3QVpRTjBXTUFiUCsrcHlqOGE2bmZQWHJzV00wcU1iaFFIQkc4MWJFTlFVdkQwc2lSM2U2M2dzZ0ptMXhQM09BSFRQY0RDVHJFS2NETUExdDBMS1ZaYk9EcFhlRWhzL2t0TndXQThnc3hWWVl6Tis2QmRqMlNnQWQvaThCSzhkRW83WXYrMHYycjNNbThmbnNwVldFbFVXa29rOFFKSk1mQT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3M=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnViL28xUEk1M3RIOU1mY0xvMjUzYTU3Z09QcXpscElvQTUySEtMNHlsUnJTNE93QVFqMERqcWxydmVxaFlqK3pYRUVHbEtDQXNxSk5oN2haUlIzdm5WelJpUHJ0cjE0WCtXL3BROXMyVVRVWjNEdnAzYjFJZjY0aTZEMU9ES3hWUGhXbExqVzR6Mmw5OVA4UW8rd0U9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Mjkz</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IHRleHQvY3NzDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpMYXN0LU1vZGlmaWVkOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6ICIwNWFjYzZkZGE4ZWQzMTowIg0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvNy41DQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNCldXVy1BdXRoZW50aWNhdGU6IE5lZ290aWF0ZSBvWUcyTUlHem9BTUtBUUNoQ3dZSktvWklndmNTQVFJQ29vR2VCSUdiWUlHWUJna3Foa2lHOXhJQkFnSUNBRytCaURDQmhhQURBZ0VGb1FNQ0FRK2llVEIzb0FNQ0FSS2ljQVJ1Yi9vMVBJNTN0SDlNZmNMbzI1M2E1N2dPUHF6bHBJb0E1MkhLTDR5bFJyUzRPd0FRajBEanFscnZlcWhZait6WEVFR2xLQ0FzcUpOaDdoWlJSM3ZuVnpSaVBydHIxNFgrVy9wUTlzMlVUVVozRHZwM2IxSWY2NGk2RDFPREt4VlBoV2xMalc0ejJsOTlQOFFvK3dFPQ0KRGF0ZTogVHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQNCkNvbnRlbnQtTGVuZ3RoOiAyOTMNCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGFibGUuZGlzcGxheVRhZyB0aC5zb3J0ZWQgc3Bhbix0aC5zb3J0YWJsZSBzcGFuIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiByaWdodDsNCgliYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KCXBhZGRpbmctcmlnaHQ6IDEycHg7DQp9CQkNCg0KdGFibGUuZGlzcGxheVRhZyB0aC5zb3J0YWJsZSBzcGFuIHsNCgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uL2ltYWdlcy9pY29ucy9hcnJvd19vZmYucG5nJyk7DQp9CQ0KCQ0KdGFibGUuZGlzcGxheVRhZyB0aC5vcmRlcjEgc3BhbiB7DQoJYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi9pbWFnZXMvaWNvbnMvYXJyb3dfdXAucG5nJyk7DQp9CQ0KCQ0KdGFibGUuZGlzcGxheVRhZyB0aC5vcmRlcjIgc3BhbiB7DQoJYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi9pbWFnZXMvaWNvbnMvYXJyb3dfZG93bi5wbmcnKTsNCn0NCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707515" offset="0" length="863" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="133" hostname="omniconv" path="/OMNIStatic/themes/jquery-picklist.css" url="http://omniconv/OMNIStatic/themes/jquery-picklist.css" ip="10.37.149.132" port="80" connectionId="5" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.331-07:00" startTime="102707515" endTime="102707515">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFWLzdZeUY0L2ZrQm92L0pUWGtVdlNxVjFzblZkQkh1UDJuc3diTlNjb3NXdEhPanpLQm9wOFdTN0NMN3FaZWhMcUJOT3grcEZlL2k1dVRQcEs0Nm9BSUlvZzRFYitxMFFBamFHN0pDaFpkVVJ0OUU0cVY2dUxIWUQyOUhkbDZrSmMxd3hqODZ3eTE1dlh1YlkvaGF5VGMzYU5yaDVJNC8ya2pmanpiNUN6R0tORVFYNFFsY0QzdWUzdCt6eXVPc3NRT0JSMjYwZ0VzYnN2b3plZEFZWlpLRUhpbDNnSld5d1h5U2crSHllUjV0eVRuZHNGMGk3SjNCdGMxVGxXUUFmS0xhU2dvTnovRlRTNFc2ZmZEWHEzeGw4aVExUEFuakZkYlVnOFl3cE54OWNuWDVnVjhGZVV4dWpmMXkvOEx3NUVmVlJZWW5JSytZY20xMDlZb21HaWp6QytqTzdoSHR4L0lJditjQVFBWC9TVXp5bXc3UzI2ZVZjMkVhWWZ2NFlSWXY1MUs2OEdPSmlnV2RXcVJ4bUFxQk1kOVM3ZGJnZmZvNnE4U2RrYWVhb1ZZRFBQb2F6V09YR3ZPaW1PbURQdDMzbFQ2VUROMi83S3VvM01zNzRXdjg1anpHNkVaQUIxdkpqWFhoMnBhZWhpMmhQSzN3NHM5TXVHMU9ZRk9ndXR4amtBeUpGWHpIUnRWNkVFbXVxZTlqMDRwMzZGc0VCOGxYcFBZVHZsaUNGZ3pMRERSdz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9qcXVlcnktcGlja2xpc3QuY3NzIEhUVFAvMS4xDQpBY2NlcHQ6IHRleHQvY3NzLCAqLyoNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYVYvN1l5RjQvZmtCb3YvSlRYa1V2U3FWMXNuVmRCSHVQMm5zd2JOU2Nvc1d0SE9qektCb3A4V1M3Q0w3cVplaExxQk5PeCtwRmUvaTV1VFBwSzQ2b0FJSW9nNEViK3EwUUFqYUc3SkNoWmRVUnQ5RTRxVjZ1TEhZRDI5SGRsNmtKYzF3eGo4Nnd5MTV2WHViWS9oYXlUYzNhTnJoNUk0LzJramZqemI1Q3pHS05FUVg0UWxjRDN1ZTN0K3p5dU9zc1FPQlIyNjBnRXNic3ZvemVkQVlaWktFSGlsM2dKV3l3WHlTZytIeWVSNXR5VG5kc0YwaTdKM0J0YzFUbFdRQWZLTGFTZ29Oei9GVFM0VzZmZkRYcTN4bDhpUTFQQW5qRmRiVWc4WXdwTng5Y25YNWdWOEZlVXh1amYxeS84THc1RWZWUllZbklLK1ljbTEwOVlvbUdpanpDK2pPN2hIdHgvSUl2K2NBUUFYL1NVenltdzdTMjZlVmMyRWFZZnY0WVJZdjUxSzY4R09KaWdXZFdxUnhtQXFCTWQ5UzdkYmdmZm82cThTZGthZWFvVllEUFBvYXpXT1hHdk9pbU9tRFB0MzNsVDZVRE4yLzdLdW8zTXM3NFd2ODVqekc2RVpBQjF2SmpYWGgycGFlaGkyaFBLM3c0czlNdUcxT1lGT2d1dHhqa0F5SkZYekhSdFY2RUVtdXFlOWowNHAzNkZzRUI4bFhwUFlUdmxpQ0ZnekxERFJ3PT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3M=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVtbmlhRXBTOFBLYWp0WEZVbTFKOVVBSFA5cjc2V1JPZW0wVVdJZ24rSGRqSnNVV1Arb0YyRFVNcG83TDNCcHNRaGFUMzJqRVJucXV0SFZ4QXBMRm8zOG8rMm9Zc1JyemR1dG8vN0Rkd3lLcFpCZ1pnRUVaZmVweXlKS2dPTnUxTE84K2V6M3NDd1k3N0RqZnNDekE9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Njgy</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IHRleHQvY3NzDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpMYXN0LU1vZGlmaWVkOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6ICIwNWFjYzZkZGE4ZWQzMTowIg0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvNy41DQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNCldXVy1BdXRoZW50aWNhdGU6IE5lZ290aWF0ZSBvWUcyTUlHem9BTUtBUUNoQ3dZSktvWklndmNTQVFJQ29vR2VCSUdiWUlHWUJna3Foa2lHOXhJQkFnSUNBRytCaURDQmhhQURBZ0VGb1FNQ0FRK2llVEIzb0FNQ0FSS2ljQVJ1bW5pYUVwUzhQS2FqdFhGVW0xSjlVQUhQOXI3NldST2VtMFVXSWduK0hkakpzVVdQK29GMkRVTXBvN0wzQnBzUWhhVDMyakVSbnF1dEhWeEFwTEZvMzhvKzJvWXNScnpkdXRvLzdEZHd5S3BaQmdaZ0VFWmZlcHl5SktnT051MUxPOCtlejNzQ3dZNzdEamZzQ3pBPQ0KRGF0ZTogVHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQNCkNvbnRlbnQtTGVuZ3RoOiA2ODINCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LnBpY2tMaXN0X2FkZEFsbCB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCgiL09NTklTdGF0aWMvaW1hZ2VzL2J1dHRvbnMvYnV0dG9uLWFkZC1hbGwtdG8tcmlnaHQuZ2lmIik7IH0KLnBpY2tMaXN0X2FkZCB7CWJhY2tncm91bmQtaW1hZ2U6IHVybCgiL09NTklTdGF0aWMvaW1hZ2VzL2J1dHRvbnMvYnV0dG9uLWFkZC10by1yaWdodC5naWYiKTsgfQoucGlja0xpc3RfYWRkOmRpc2FibGVkIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIvT01OSVN0YXRpYy9pbWFnZXMvYnV0dG9ucy9idXR0b24tYWRkLXRvLXJpZ2h0LWRpc2FibGVkLnBuZyIpOyB9Ci5waWNrTGlzdF9yZW1vdmUgeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIi9PTU5JU3RhdGljL2ltYWdlcy9idXR0b25zL2J1dHRvbi1yZW1vdmUtZnJvbS1yaWdodC5naWYiKTsgfQoucGlja0xpc3RfcmVtb3ZlOmRpc2FibGVkIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIvT01OSVN0YXRpYy9pbWFnZXMvYnV0dG9ucy9idXR0b24tcmVtb3ZlLWZyb20tcmlnaHQtZGlzYWJsZWQucG5nIik7IH0KLnBpY2tMaXN0X3JlbW92ZUFsbCB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCgiL09NTklTdGF0aWMvaW1hZ2VzL2J1dHRvbnMvYnV0dG9uLXJlbW92ZS1hbGwtZnJvbS1yaWdodC5naWYiKTsgfQoKLnBpY2tMaXN0X3NvdXJjZUxpc3RDb250YWluZXIsIC5waWNrTGlzdF9jb250cm9sc0NvbnRhaW5lciwgLnBpY2tMaXN0X3RhcmdldExpc3RDb250YWluZXIgeyAKCWZsb2F0OiBsZWZ0OyBtYXJnaW46IDAuMjVlbTsKfQoucGlja0xpc3RfY29udHJvbHNDb250YWluZXIgeyAKCXRleHQtYWxpZ246IGNlbnRlcjsgCgltYXJnaW4tdG9wOiAxNDVweDsKfQoucGlja0xpc3RfY29udHJvbHNDb250YWluZXIgYnV0dG9uIHsgCglkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMCU7IHRleHQtYWxpZ246IGNlbnRlcjsgCgl3aWR0aDogODVweDsKCWhlaWdodDogMzRweDsKCWJvcmRlcjogbm9uZTsKCWJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CgliYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKfQoucGlja0xpc3RfbGlzdCB7IAoJbGlzdC1zdHlsZS10eXBlOiBub25lOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IAoJZmxvYXQ6IGxlZnQ7IAoJd2lkdGg6IDMwMHB4OyAKCWhlaWdodDogMzAwcHg7IAoJYm9yZGVyOiAxcHggaW5zZXQgI2VlZTsgCglvdmVyZmxvdy15OiBhdXRvOyAKCWN1cnNvcjogZGVmYXVsdDsgCgljb2xvcjogIzY2NjY2NjsKCWJhY2tncm91bmQ6IHdoaXRlOwoJb3V0bGluZTogbm9uZTsKfQoucGlja0xpc3Rfc2VsZWN0ZWRMaXN0SXRlbSB7IAoJYmFja2dyb3VuZC1jb2xvcjogI2EzYzhmNTsgCn0KLnBpY2tMaXN0X2xpc3RMYWJlbCB7Cgljb2xvcjogIzY2NjY2NjsKCXRleHQtYWxpZ246IGNlbnRlcjsgCn0KLnBpY2tMaXN0X2NsZWFyIHsgCgljbGVhcjogYm90aDsgCn0KLnBpY2tMaXN0X2xpc3QgLnVpLXNlbGVjdGVlIHsgYmFja2dyb3VuZDogaW5oZXJpdDsgY29sb3I6ICM2NjY2NjY7IH0KLnBpY2tMaXN0X2xpc3QgLnVpLXNlbGVjdGluZywgLnBpY2tMaXN0X2xpc3QgLnVpLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogI2EzYzhmNTsgY29sb3I6IHdoaXRlOyB9Ci5waWNrTGlzdF9lcnJvciB7IAoJYmFja2dyb3VuZC1jb2xvcjogI2ZmZmYwMDsgCn0=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707515" offset="0" length="1252" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="135" hostname="omniconv" path="/OMNIStatic/themes/calendar/calendar.css" url="http://omniconv/OMNIStatic/themes/calendar/calendar.css" ip="10.37.149.132" port="80" connectionId="9" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.347-07:00" startTime="102707500" endTime="102707531">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFwVnloRzc5MWhBcUxLdWcxcUVBMkw2TytBUjN3eVRwK2hrOEF4Wjhxdzc1RDNKTVlwQldveU5uei8zUWRBbDhXNjR4dTQvTjhtbXhJblhFN3VTbmdHTzhNcTh4NVFVZzZpalBaT0ZlK1JUQllkNzBNTGt5c212Zi9FUExTUG93dlJKeWZHNU5wZVVUTFpwbW1Fb2cvWGhuOW81czVBSWdHNHdpRituYk13VHd1c3ZyallWZ3lzVTNSSElKZ0wrYkxhTEt6OVFZZ0hFOGRoNjZkVnFoZG9IZXFIWk51cjJrb1lQY1I3NmgyakhJQVFHRXZJQW96TWhtZkk3OE1wZTVQSXVESVFvNXNSc3JGeDlZZERYVGFxUlJKREpVcm1ieFRaTEFBcXlLK2oyQ1dTS2hkRXNLeHB2clJzRHJ6VnZXSkRRWjIvaGxSeENVdzg1U3d2YndzaEtYeWt0S3dOaEZrVy9wZ1VTUnN0SytyQWVUNUlqWjJHMy9YeHM5V3A4ZW4xbGxiZkF1eFN0VjdBWGlJckJRY3VxNmlKQll0VXF0eTBZRlhLcEtLZ3FjVmlXNjlVN0tmV1dFcWk0L1QxbzdBbEp3SDdRbWgyRmcrQWlFUW9TYzlYMTJpd2h2NjRwZzNHK0NjQkRhTnRDZ016NWQ4aDJleXdUblJrbmVzKy9tM3NTa2NGR1U2aWkvdUI5cVN2bm9MbmhNWHJJbmlZc3JzdVAzcno3Ui9sbGxaODBwUmNPZz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9jYWxlbmRhci9jYWxlbmRhci5jc3MgSFRUUC8xLjENCkFjY2VwdDogdGV4dC9jc3MsICovKg0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFhcFZ5aEc3OTFoQXFMS3VnMXFFQTJMNk8rQVIzd3lUcCtoazhBeFo4cXc3NUQzSk1ZcEJXb3lObnovM1FkQWw4VzY0eHU0L044bW14SW5YRTd1U25nR084TXE4eDVRVWc2aWpQWk9GZStSVEJZZDcwTUxreXNtdmYvRVBMU1Bvd3ZSSnlmRzVOcGVVVExacG1tRW9nL1hobjlvNXM1QUlnRzR3aUYrbmJNd1R3dXN2cmpZVmd5c1UzUkhJSmdMK2JMYUxLejlRWWdIRThkaDY2ZFZxaGRvSGVxSFpOdXIya29ZUGNSNzZoMmpISUFRR0V2SUFvek1obWZJNzhNcGU1UEl1RElRbzVzUnNyRng5WWREWFRhcVJSSkRKVXJtYnhUWkxBQXF5SytqMkNXU0toZEVzS3hwdnJSc0RyelZ2V0pEUVoyL2hsUnhDVXc4NVN3dmJ3c2hLWHlrdEt3TmhGa1cvcGdVU1JzdEsrckFlVDVJaloyRzMvWHhzOVdwOGVuMWxsYmZBdXhTdFY3QVhpSXJCUWN1cTZpSkJZdFVxdHkwWUZYS3BLS2dxY1ZpVzY5VTdLZldXRXFpNC9UMW83QWxKd0g3UW1oMkZnK0FpRVFvU2M5WDEyaXdodjY0cGczRytDY0JEYU50Q2dNejVkOGgyZXl3VG5Sa25lcysvbTNzU2tjRkdVNmlpL3VCOXFTdm5vTG5oTVhySW5pWXNyc3VQM3J6N1IvbGxsWjgwcFJjT2c9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3M=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV1K2RwM0VRSEVTb2pPSEdjbjVPdGlJSkdoQVBwczdmTDZBOFBlL2EzTWVKdm85K0VPdmJSRnBTZHFhTkRNWEJQbGRYc0lPaS8wbFNpM0lDZHdwUGN5Zjhyd3dSeVJVQWdFbnBQTHE2a3VkSWxiSzYvRm45UUxPKzE1QVB4eUorZnRYVEw4RHlxL3ZYL2hZcTRmWkE9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MTgzNQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IHRleHQvY3NzDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpMYXN0LU1vZGlmaWVkOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6ICIwNWFjYzZkZGE4ZWQzMTowIg0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvNy41DQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNCldXVy1BdXRoZW50aWNhdGU6IE5lZ290aWF0ZSBvWUcyTUlHem9BTUtBUUNoQ3dZSktvWklndmNTQVFJQ29vR2VCSUdiWUlHWUJna3Foa2lHOXhJQkFnSUNBRytCaURDQmhhQURBZ0VGb1FNQ0FRK2llVEIzb0FNQ0FSS2ljQVJ1dStkcDNFUUhFU29qT0hHY241T3RpSUpHaEFQcHM3Zkw2QThQZS9hM01lSnZvOStFT3ZiUkZwU2RxYU5ETVhCUGxkWHNJT2kvMGxTaTNJQ2R3cFBjeWY4cnd3UnlSVUFnRW5wUExxNmt1ZElsYks2L0ZuOVFMTysxNUFQeHlKK2Z0WFRMOER5cS92WC9oWXE0ZlpBPQ0KRGF0ZTogVHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQNCkNvbnRlbnQtTGVuZ3RoOiAxODM1DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyogVGhlIG1haW4gY2FsZW5kYXIgd2lkZ2V0LglESVYgY29udGFpbmluZyBhIHRhYmxlLiAqLwoKLmNhbGVuZGFyIHsKCXBvc2l0aW9uOnJlbGF0aXZlOwoJZGlzcGxheTpub25lOwoJYm9yZGVyLXRvcDoycHggc29saWQgI2ZmZjsKCWJvcmRlci1yaWdodDoycHggc29saWQgIzAwMDsKCWJvcmRlci1ib3R0b206MnB4IHNvbGlkICMwMDA7Cglib3JkZXItbGVmdDoycHggc29saWQgI2ZmZjsKCWZvbnQtc2l6ZToxMXB4OwoJY29sb3I6IzAwMDsKCWN1cnNvcjpkZWZhdWx0OwoJYmFja2dyb3VuZDojZDRjOGQwOwoJZm9udC1mYW1pbHk6dGFob21hLHZlcmRhbmEsc2Fucy1zZXJpZjsKCXotaW5kZXg6MjAwOwp9CgouY2FsZW5kYXIgdGFibGUgewoJYm9yZGVyLXRvcDoxcHggc29saWQgIzAwMDsKCWJvcmRlci1yaWdodDoxcHggc29saWQgI2ZmZjsKCWJvcmRlci1ib3R0b206MXB4IHNvbGlkICNmZmY7Cglib3JkZXItbGVmdDoxcHggc29saWQgIzAwMDsKCWZvbnQtc2l6ZToxMXB4OwoJY29sb3I6IzAwMDsKCWN1cnNvcjpkZWZhdWx0OwoJYmFja2dyb3VuZDojZDRjOGQwOwoJZm9udC1mYW1pbHk6dGFob21hLHZlcmRhbmEsc2Fucy1zZXJpZjsKfQoKLyogSGVhZGVyIHBhcnQgLS0gY29udGFpbnMgbmF2aWdhdGlvbiBidXR0b25zIGFuZCBkYXkgbmFtZXMuICovCgouY2FsZW5kYXIgLmJ1dHRvbiB7IC8qICI8PCIsICI8IiwgIj4iLCAiPj4iIGJ1dHRvbnMgaGF2ZSB0aGlzIGNsYXNzICovCgl0ZXh0LWFsaWduOmNlbnRlcjsKCXBhZGRpbmc6MXB4OwoJYm9yZGVyLXRvcDoxcHggc29saWQgI2ZmZjsKCWJvcmRlci1yaWdodDoxcHggc29saWQgIzAwMDsKCWJvcmRlci1ib3R0b206MXB4IHNvbGlkICMwMDA7Cglib3JkZXItbGVmdDoxcHggc29saWQgI2ZmZjsKfQoKLmNhbGVuZGFyIC5uYXYgewoJYmFja2dyb3VuZDp0cmFuc3BhcmVudCB1cmwoLi4vLi4vaW1hZ2VzL2ljb25zL2NhbGVuZGFyLW1lbnVhcnJvdy5naWYpIG5vLXJlcGVhdCAxMDAlIDEwMCU7Cn0KCi5jYWxlbmRhciB0aGVhZCAudGl0bGUgeyAvKiBUaGlzIGhvbGRzIHRoZSBjdXJyZW50ICJtb250aCwgeWVhciIgKi8KCWZvbnQtd2VpZ2h0OmJvbGQ7CglwYWRkaW5nOjFweDsKCWJvcmRlcjoxcHggc29saWQgIzAwMDsKCWJhY2tncm91bmQ6Izg0Nzg4MDsKCWNvbG9yOiNmZmY7Cgl0ZXh0LWFsaWduOmNlbnRlcjsKfQoKLmNhbGVuZGFyIHRoZWFkIC5oZWFkcm93IHsgLyogUm93IDxUUj4gY29udGFpbmluZyBuYXZpZ2F0aW9uIGJ1dHRvbnMgKi8KfQoKLmNhbGVuZGFyIHRoZWFkIC5kYXluYW1lcyB7IC8qIFJvdyA8VFI+IGNvbnRhaW5pbmcgdGhlIGRheSBuYW1lcyAqLwp9CgouY2FsZW5kYXIgdGhlYWQgLm5hbWUgeyAvKiBDZWxscyA8VEQ+IGNvbnRhaW5pbmcgdGhlIGRheSBuYW1lcyAqLwoJYm9yZGVyLWJvdHRvbToxcHggc29saWQgIzAwMDsKCXBhZGRpbmc6MnB4OwoJdGV4dC1hbGlnbjpjZW50ZXI7CgliYWNrZ3JvdW5kOiNmNGU4ZjA7Cn0KCi5jYWxlbmRhciB0aGVhZCAud2Vla2VuZCB7IC8qIEhvdyBhIHdlZWtlbmQgZGF5IG5hbWUgc2hvd3MgaW4gaGVhZGVyICovCgljb2xvcjojZjAwOwp9CgouY2FsZW5kYXIgdGhlYWQgLmhpbGl0ZSB7IC8qIEhvdyBkbyB0aGUgYnV0dG9ucyBpbiBoZWFkZXIgYXBwZWFyIHdoZW4gaG92ZXIgKi8KCWJvcmRlci10b3A6MnB4IHNvbGlkICNmZmY7Cglib3JkZXItcmlnaHQ6MnB4IHNvbGlkICMwMDA7Cglib3JkZXItYm90dG9tOjJweCBzb2xpZCAjMDAwOwoJYm9yZGVyLWxlZnQ6MnB4IHNvbGlkICNmZmY7CglwYWRkaW5nOjBweDsKCWJhY2tncm91bmQtY29sb3I6I2U0ZDhlMDsKfQoKLmNhbGVuZGFyIHRoZWFkIC5hY3RpdmUgeyAvKiBBY3RpdmUgKHByZXNzZWQpIGJ1dHRvbnMgaW4gaGVhZGVyICovCglwYWRkaW5nOjJweCAwcHggMHB4IDJweDsKCWJvcmRlci10b3A6MXB4IHNvbGlkICMwMDA7Cglib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNmZmY7Cglib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZmZmOwoJYm9yZGVyLWxlZnQ6MXB4IHNvbGlkICMwMDA7CgliYWNrZ3JvdW5kLWNvbG9yOiNjNGI4YzA7Cn0KCi8qIFRoZSBib2R5IHBhcnQgLS0gY29udGFpbnMgYWxsIHRoZSBkYXlzIGluIG1vbnRoLiAqLwoKLmNhbGVuZGFyIHRib2R5IC5kYXkgeyAvKiBDZWxscyA8VEQ+IGNvbnRhaW5pbmcgbW9udGggZGF5cyBkYXRlcyAqLwoJd2lkdGg6MmVtOwoJdGV4dC1hbGlnbjpyaWdodDsKCXBhZGRpbmc6MnB4IDRweCAycHggMnB4Owp9Ci5jYWxlbmRhciB0Ym9keSAuZGF5Lm90aGVybW9udGggewoJZm9udC1zaXplOjgwJTsKCWNvbG9yOiNhYWE7Cn0KLmNhbGVuZGFyIHRib2R5IC5kYXkub3RoZXJtb250aC5vd2Vla2VuZCB7Cgljb2xvcjojZmFhOwp9CgouY2FsZW5kYXIgdGFibGUgLnduIHsKCXBhZGRpbmc6MnB4IDNweCAycHggMnB4OwoJYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMDAwOwoJYmFja2dyb3VuZDojZjRlOGYwOwp9CgouY2FsZW5kYXIgdGJvZHkgLnJvd2hpbGl0ZSB0ZCB7CgliYWNrZ3JvdW5kOiNlNGQ4ZTA7Cn0KCi5jYWxlbmRhciB0Ym9keSAucm93aGlsaXRlIHRkLnduIHsKCWJhY2tncm91bmQ6I2Q0YzhkMDsKfQoKLmNhbGVuZGFyIHRib2R5IHRkLmhpbGl0ZSB7IC8qIEhvdmVyZWQgY2VsbHMgPFREPiAqLwoJcGFkZGluZzoxcHggM3B4IDFweCAxcHg7Cglib3JkZXItdG9wOjFweCBzb2xpZCAjZmZmOwoJYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMDAwOwoJYm9yZGVyLWJvdHRvbToxcHggc29saWQgIzAwMDsKCWJvcmRlci1sZWZ0OjFweCBzb2xpZCAjZmZmOwp9CgouY2FsZW5kYXIgdGJvZHkgdGQuYWN0aXZlIHsgLyogQWN0aXZlIChwcmVzc2VkKSBjZWxscyA8VEQ+ICovCglwYWRkaW5nOjJweCAycHggMHB4IDJweDsKCWJvcmRlci10b3A6MXB4IHNvbGlkICMwMDA7Cglib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNmZmY7Cglib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZmZmOwoJYm9yZGVyLWxlZnQ6MXB4IHNvbGlkICMwMDA7Cn0KCi5jYWxlbmRhciB0Ym9keSB0ZC5zZWxlY3RlZCB7IC8qIENlbGwgc2hvd2luZyBzZWxlY3RlZCBkYXRlICovCglmb250LXdlaWdodDpib2xkOwoJYm9yZGVyLXRvcDoxcHggc29saWQgIzAwMDsKCWJvcmRlci1yaWdodDoxcHggc29saWQgI2ZmZjsKCWJvcmRlci1ib3R0b206MXB4IHNvbGlkICNmZmY7Cglib3JkZXItbGVmdDoxcHggc29saWQgIzAwMDsKCXBhZGRpbmc6MnB4IDJweCAwcHggMnB4OwoJYmFja2dyb3VuZDojZTRkOGUwOwp9CgouY2FsZW5kYXIgdGJvZHkgdGQud2Vla2VuZCB7IC8qIENlbGxzIHNob3dpbmcgd2Vla2VuZCBkYXlzICovCgljb2xvcjojZjAwOwp9CgouY2FsZW5kYXIgdGJvZHkgdGQudG9kYXkgeyAvKiBDZWxsIHNob3dpbmcgdG9kYXkgZGF0ZSAqLwoJZm9udC13ZWlnaHQ6Ym9sZDsKCWNvbG9yOiMwMGY7Cn0KCi5jYWxlbmRhciB0Ym9keSAuZGlzYWJsZWQgeyBjb2xvcjojOTk5OyB9CgouY2FsZW5kYXIgdGJvZHkgLmVtcHR5Y2VsbCB7IC8qIEVtcHR5IGNlbGxzICh0aGUgYmVzdCBpcyB0byBoaWRlIHRoZW0pICovCgl2aXNpYmlsaXR5OmhpZGRlbjsKfQoKLmNhbGVuZGFyIHRib2R5IC5lbXB0eXJvdyB7IC8qIEVtcHR5IHJvdyAoc29tZSBtb250aHMgbmVlZCBsZXNzIHRoYW4gNiByb3dzKSAqLwoJZGlzcGxheTpub25lOwp9CgovKiBUaGUgZm9vdGVyIHBhcnQgLS0gc3RhdHVzIGJhciBhbmQgIkNsb3NlIiBidXR0b24gKi8KCi5jYWxlbmRhciB0Zm9vdCAuZm9vdHJvdyB7IC8qIFRoZSA8VFI+IGluIGZvb3RlciAob25seSBvbmUgcmlnaHQgbm93KSAqLwp9CgouY2FsZW5kYXIgdGZvb3QgLnR0aXAgeyAvKiBUb29sdGlwIChzdGF0dXMgYmFyKSBjZWxsIDxURD4gKi8KCWJhY2tncm91bmQ6I2Y0ZThmMDsKCXBhZGRpbmc6MXB4OwoJYm9yZGVyOjFweCBzb2xpZCAjMDAwOwoJYmFja2dyb3VuZDojODQ3ODgwOwoJY29sb3I6I2ZmZjsKCXRleHQtYWxpZ246Y2VudGVyOwp9CgouY2FsZW5kYXIgdGZvb3QgLmhpbGl0ZSB7IC8qIEhvdmVyIHN0eWxlIGZvciBidXR0b25zIGluIGZvb3RlciAqLwoJYm9yZGVyLXRvcDoxcHggc29saWQgI2ZmZjsKCWJvcmRlci1yaWdodDoxcHggc29saWQgIzAwMDsKCWJvcmRlci1ib3R0b206MXB4IHNvbGlkICMwMDA7Cglib3JkZXItbGVmdDoxcHggc29saWQgI2ZmZjsKCXBhZGRpbmc6MXB4OwoJYmFja2dyb3VuZDojZTRkOGUwOwp9CgouY2FsZW5kYXIgdGZvb3QgLmFjdGl2ZSB7IC8qIEFjdGl2ZSAocHJlc3NlZCkgc3R5bGUgZm9yIGJ1dHRvbnMgaW4gZm9vdGVyICovCglwYWRkaW5nOjJweCAwcHggMHB4IDJweDsKCWJvcmRlci10b3A6MXB4IHNvbGlkICMwMDA7Cglib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNmZmY7Cglib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZmZmOwoJYm9yZGVyLWxlZnQ6MXB4IHNvbGlkICMwMDA7Cn0KCi8qIENvbWJvIGJveGVzIChtZW51cyB0aGF0IGRpc3BsYXkgbW9udGhzL3llYXJzIGZvciBkaXJlY3Qgc2VsZWN0aW9uKSAqLwoKLmNhbGVuZGFyIC5jb21ibyB7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCWRpc3BsYXk6bm9uZTsKCXdpZHRoOjRlbTsKCXRvcDowcHg7CglsZWZ0OjBweDsKCWN1cnNvcjpkZWZhdWx0OwoJYm9yZGVyLXRvcDoxcHggc29saWQgI2ZmZjsKCWJvcmRlci1yaWdodDoxcHggc29saWQgIzAwMDsKCWJvcmRlci1ib3R0b206MXB4IHNvbGlkICMwMDA7Cglib3JkZXItbGVmdDoxcHggc29saWQgI2ZmZjsKCWJhY2tncm91bmQ6I2U0ZDhlMDsKCWZvbnQtc2l6ZTo5MCU7CglwYWRkaW5nOjFweDsKfQoKLmNhbGVuZGFyIC5jb21ibyAubGFiZWwsIC5jYWxlbmRhciAuY29tYm8gLmxhYmVsLUlFZml4IHsKCXRleHQtYWxpZ246Y2VudGVyOwoJcGFkZGluZzoxcHg7Cn0KCi5jYWxlbmRhciAuY29tYm8gLmxhYmVsLUlFZml4IHsKCXdpZHRoOjRlbTsKfQoKLmNhbGVuZGFyIC5jb21ibyAuYWN0aXZlIHsKCWJhY2tncm91bmQ6I2Q0YzhkMDsKCXBhZGRpbmc6MHB4OwoJYm9yZGVyLXRvcDoxcHggc29saWQgIzAwMDsKCWJvcmRlci1yaWdodDoxcHggc29saWQgI2ZmZjsKCWJvcmRlci1ib3R0b206MXB4IHNvbGlkICNmZmY7Cglib3JkZXItbGVmdDoxcHggc29saWQgIzAwMDsKfQoKLmNhbGVuZGFyIC5jb21ibyAuaGlsaXRlIHsKCWJhY2tncm91bmQ6IzQwODsKCWNvbG9yOiNmZWE7Cn0KCi5jYWxlbmRhciB0ZC50aW1lIHsKCWJvcmRlci10b3A6MXB4IHNvbGlkICMwMDA7CglwYWRkaW5nOjFweCAwcHg7Cgl0ZXh0LWFsaWduOmNlbnRlcjsKCWJhY2tncm91bmQtY29sb3I6I2Y0ZjBlODsKfQoKLmNhbGVuZGFyIHRkLnRpbWUgLmhvdXIsIC5jYWxlbmRhciB0ZC50aW1lIC5taW51dGUsIC5jYWxlbmRhciB0ZC50aW1lIC5hbXBtIHsKCXBhZGRpbmc6MHB4IDNweCAwcHggNHB4OwoJYm9yZGVyOjFweCBzb2xpZCAjODg5OwoJZm9udC13ZWlnaHQ6Ym9sZDsKCWJhY2tncm91bmQtY29sb3I6I2ZmZjsKfQoKLmNhbGVuZGFyIHRkLnRpbWUgLmFtcG0gewoJdGV4dC1hbGlnbjpjZW50ZXI7Cn0KCi5jYWxlbmRhciB0ZC50aW1lIC5jb2xvbiB7CglwYWRkaW5nOjBweCAycHggMHB4IDNweDsKCWZvbnQtd2VpZ2h0OmJvbGQ7Cn0KCi5jYWxlbmRhciB0ZC50aW1lIHNwYW4uaGlsaXRlIHsKCWJvcmRlci1jb2xvcjojMDAwOwoJYmFja2dyb3VuZC1jb2xvcjojNzY2OwoJY29sb3I6I2ZmZjsKfQoKLmNhbGVuZGFyIHRkLnRpbWUgc3Bhbi5hY3RpdmUgewoJYm9yZGVyLWNvbG9yOiNmMDA7CgliYWNrZ3JvdW5kLWNvbG9yOiMwMDA7Cgljb2xvcjojMGYwOwp9</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707531" offset="0" length="2406" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="137" hostname="omniconv" path="/OMNIStatic/themes/collapsible.css" url="http://omniconv/OMNIStatic/themes/collapsible.css" ip="10.37.149.132" port="80" connectionId="10" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.362-07:00" startTime="102707515" endTime="102707531">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVppRjhibTJoTmRpVXlvdnNQMk9QWUpSREpGSVh3QWJDQjNQOWFrQ0hITUhRNGpnVXhZdWlRcThZcWdqRDF1WXI0WVZySlFJL0lveEY4WUc4S29XTGV1SUJHTVA3aC9NQ2RldVdRd3I1UzM0MEU2Nlo5K3RxeXhVVGw4ajQ0NXhsRmd2enBEZnV6Y20weG9qSzlCcGhMakxDcUx2elhRSlR5Z1cycTFSd2tYSjR0eDhkdDVxTzg0MjQxMk1uaW1JcUIzQzQ0S0wvR01yUDk5MVVqcWZXa3YwTWx4OU9kT3R4SlBTQnhGVFJQQmFmWEVsODlpRXhhZFlOMXVDdGFpSWRPUDlKNkxvbzBiTnZRNnNKZW9RZ0VXdWlPTkxlTjNBRzFLcUlmb1dGTDB3QkkxLzFWdDJma244Y3JuU3ErczdBWFZHOHlsUlRLWW9FZmU3ZFVCcHZPZjlseHdYYzR3L3BzRW5hdTVma2JWOENZdVN0Q1NDSzZQbnBKWUR0ZWx2aUVNSFFjQkwvUlh3TUYwcUhvWU1IMEc0TmZUNmhBbmlBLzhWcDdld0w3eXQ1ZkhWYVVReExVKzhVajQyUmFRMzN1RmdvdmFzVWhjRW5wSjJFMnZuTFhheXM4SmdxYmtmbW54T0czZlNxWVBUTUNGVzkzRHp3NU4vN2JzUXMrZ0NEM1dzM0I2bXM2dEdxZFhUY0RWWk13TXlYZ1EzTkRoYmRwYUNYMTZFbDdFQ20rRy9rU2tsdz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy9jb2xsYXBzaWJsZS5jc3MgSFRUUC8xLjENCkFjY2VwdDogdGV4dC9jc3MsICovKg0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFaaUY4Ym0yaE5kaVV5b3ZzUDJPUFlKUkRKRklYd0FiQ0IzUDlha0NISE1IUTRqZ1V4WXVpUXE4WXFnakQxdVlyNFlWckpRSS9Jb3hGOFlHOEtvV0xldUlCR01QN2gvTUNkZXVXUXdyNVMzNDBFNjZaOSt0cXl4VVRsOGo0NDV4bEZndnpwRGZ1emNtMHhvaks5QnBoTGpMQ3FMdnpYUUpUeWdXMnExUndrWEo0dHg4ZHQ1cU84NDI0MTJNbmltSXFCM0M0NEtML0dNclA5OTFVanFmV2t2ME1seDlPZE90eEpQU0J4RlRSUEJhZlhFbDg5aUV4YWRZTjF1Q3RhaUlkT1A5SjZMb28wYk52UTZzSmVvUWdFV3VpT05MZU4zQUcxS3FJZm9XRkwwd0JJMS8xVnQyZmtuOGNyblNxK3M3QVhWRzh5bFJUS1lvRWZlN2RVQnB2T2Y5bHh3WGM0dy9wc0VuYXU1ZmtiVjhDWXVTdENTQ0s2UG5wSllEdGVsdmlFTUhRY0JML1JYd01GMHFIb1lNSDBHNE5mVDZoQW5pQS84VnA3ZXdMN3l0NWZIVmFVUXhMVSs4VWo0MlJhUTMzdUZnb3Zhc1VoY0VucEoyRTJ2bkxYYXlzOEpncWJrZm1ueE9HM2ZTcVlQVE1DRlc5M0R6dzVOLzdic1FzK2dDRDNXczNCNm1zNnRHcWRYVGNEVlpNd015WGdRM05EaGJkcGFDWDE2RWw3RUNtK0cva1NrbHc9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3M=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVleUhyZVZlaE5GTWNhRm1RS09IcHNRNkVrd3pieVdDdldPVG44THZkK25YME1iZi9jUTFvUVkyc3VvMzNTSkpqNEV3Nk5kaUtReXVRbXRIVHRtaXZCbURXTlBCTWN3Z1J1TGpYcDhXUUFlcGhhYndQTnlSQjQ4Y1N1SUVGN3lsQWdVOFFPZDQ5THQ4U1JqMEtuaVE9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>NDgw</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IHRleHQvY3NzDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpMYXN0LU1vZGlmaWVkOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6ICIwNWFjYzZkZGE4ZWQzMTowIg0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvNy41DQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNCldXVy1BdXRoZW50aWNhdGU6IE5lZ290aWF0ZSBvWUcyTUlHem9BTUtBUUNoQ3dZSktvWklndmNTQVFJQ29vR2VCSUdiWUlHWUJna3Foa2lHOXhJQkFnSUNBRytCaURDQmhhQURBZ0VGb1FNQ0FRK2llVEIzb0FNQ0FSS2ljQVJ1ZXlIcmVWZWhORk1jYUZtUUtPSHBzUTZFa3d6YnlXQ3ZXT1RuOEx2ZCtuWDBNYmYvY1Exb1FZMnN1bzMzU0pKajRFdzZOZGlLUXl1UW10SFR0bWl2Qm1EV05QQk1jd2dSdUxqWHA4V1FBZXBoYWJ3UE55UkI0OGNTdUlFRjd5bEFnVThRT2Q0OUx0OFNSajBLbmlRPQ0KRGF0ZTogVHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQNCkNvbnRlbnQtTGVuZ3RoOiA0ODANCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>DQouY29sbGFwc2libGUtaGVhZGVyIHsNCglwYWRkaW5nOiA0cHggNXB4Ow0KfQ0KDQouY29sbGFwc2libGUtaGVhZGVyLWljb24sIC5jb2xsYXBzaWJsZS1pY29uIHsNCgloZWlnaHQ6IDE1cHg7DQoJd2lkdGg6IDE1cHg7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgY2VudGVyOw0KCWJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQoJZmxvYXQ6IHJpZ2h0Ow0KCWN1cnNvcjogcG9pbnRlcjsNCn0NCg0KLmNvbGxhcHNpYmxlLWhlYWRlci1pY29uLW1pbnVzLCAuY29sbGFwc2libGUtaWNvbi5leHBhbmRlZCB7DQoJYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi9pbWFnZXMvYnV0dG9ucy9idXR0b24tbWludXMtMTVwdC5naWYnKTsNCn0NCg0KLmNvbGxhcHNpYmxlLWhlYWRlci1pY29uLXBsdXMsIC5jb2xsYXBzaWJsZS1pY29uLmNvbGxhcHNlZCB7DQoJYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi9pbWFnZXMvYnV0dG9ucy9idXR0b24tcGx1cy0xNXB0LmdpZicpOw0KfQ0KDQouY29sbGFwc2libGUtaGVhZGVyLWhvdmVyIHsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjQjhCODg1Ow0KfQ0KDQouY29sbGFwc2libGUgaDMuZGlzYWJsZWQgew0KCWJhY2tncm91bmQtY29sb3I6ICNERURBRDI7DQp9DQoNCi5jb2xsYXBzaWJsZS1oZWFkZXItaWNvbi5kaXNhYmxlZCwgDQouY29sbGFwc2libGUtaWNvbi5leHBhbmRlZC5kaXNhYmxlZCwgDQouY29sbGFwc2libGUtaWNvbi5jb2xsYXBzZWQuZGlzYWJsZWQgew0KCWJhY2tncm91bmQtaW1hZ2U6IHVybCgnLi4vaW1hZ2VzL2J1dHRvbnMvYnV0dG9uLXBsdXMtZ3JheS5naWYnKTsNCgljdXJzb3I6IGF1dG87DQp9DQoNCi5jb2xsYXBzaWJsZSAuZGlzYWJsZWQgLmNvbGxhcHNpYmxlLWhlYWRlci1pY29uLW1pbnVzIHsNCgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uL2ltYWdlcy9idXR0b25zL2J1dHRvbi1taW51cy1ncmF5LmdpZicpOw0KfQ0KDQouY29sbGFwc2libGUgLmRpc2FibGVkIC5jb2xsYXBzaWJsZS1oZWFkZXItaWNvbi1wbHVzIHsNCgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uL2ltYWdlcy9idXR0b25zL2J1dHRvbi1wbHVzLWdyYXkuZ2lmJyk7DQp9DQoNCi5jb2xsYXBzaWJsZS1oZWFkZXItc3Bpbm5lciB7DQoJZmxvYXQ6IHJpZ2h0Ow0KCW1hcmdpbi1yaWdodDogMTBweDsNCn0NCg0KLmNvbGxhcHNpYmxlLWhlYWRlci5jb2xsYXBzZWQgLmNvbGxhcHNpYmxlLWhlYWRlci1pY29uIHsNCgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uL2ltYWdlcy9idXR0b25zL2J1dHRvbi1wbHVzLTE1cHQuZ2lmJyk7DQp9DQoNCi5jb2xsYXBzaWJsZS1oZWFkZXIuZXhwYW5kZWQgLmNvbGxhcHNpYmxlLWhlYWRlci1pY29uIHsNCgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uL2ltYWdlcy9idXR0b25zL2J1dHRvbi1taW51cy0xNXB0LmdpZicpOw0KfQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707531" offset="0" length="1050" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="139" hostname="omniconv" path="/OMNIStatic/scripts/common-scripts.js" url="http://omniconv/OMNIStatic/scripts/common-scripts.js" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.378-07:00" startTime="102707531" endTime="102707546">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlBaEV5eXM5Z2NqZG9RMDNQYWlTUkpHOTFmdVM5VXB2b2Y0SzcyQm1YZE1YeUVLcnI2Ny9mZlVKcm5TbTUrd3c5aXN1aWtmcmoxR0lwRVBrMDFHUlJ6Q0dta01ROWFRYTZCNXFIb0pmOThaUHVkKzR6VldlblpSWEsvRjhSb1F5eU81NXhNUVhxT21UcDZuYjZ6cEJ1N2NsSkVGQ2pYUHpHVXNwckFFcXFnOFg4SldrQXpXZ2p5UTE2R3FDdTVkazY4VFR1WFhRaUhJYUhvS204NDBEL25VT0N4Q2tXeUUycm11VmRua0xheWsxdWF4anlqSG1ZRS9ucTlJdEdzT2g2ekVwRGlFc0ppci8zc0FnMSt1cjRQTzVNb0tOb1BGOVRKWnBBNEtKb01nSjFvekNEQ2VaTlZUWE9yRnZreGVSeStEQnMvNkpwVDhsejV4QUFuNnlyY3BQaC93eHZlVHQ0bDQzUjNXQ3JKd2I4ZVBZaWxDaFIyNG5lRFlSaFJPaGRtRWhpaXJFY29ZaktUaldYTkpYUFZ6UStpV1AvUHZ6YU9VWWx4Um16YUlSODhhSFpBUitGbTFjL3dhdFJDa2J1c1puL3FsdENsNEFnR3Q3UDFRb1lJVFpQQS9MN09UWWtaYXdUbVREMXlNb2NKblJ4QURPMGpLbDJLVWNMSTllR3Z0dVkwR1lXakFSM25OKzJXY2ZxdEdydUoyWkg0bUJ4UXFHejVIZElic2VNSjIwbzdUdz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvY29tbW9uLXNjcmlwdHMuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTIgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDVhY2M2ZGRhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFZQWhFeXlzOWdjamRvUTAzUGFpU1JKRzkxZnVTOVVwdm9mNEs3MkJtWGRNWHlFS3JyNjcvZmZVSnJuU201K3d3OWlzdWlrZnJqMUdJcEVQazAxR1JSekNHbWtNUTlhUWE2QjVxSG9KZjk4WlB1ZCs0elZXZW5aUlhLL0Y4Um9ReXlPNTV4TVFYcU9tVHA2bmI2enBCdTdjbEpFRkNqWFB6R1VzcHJBRXFxZzhYOEpXa0F6V2dqeVExNkdxQ3U1ZGs2OFRUdVhYUWlISWFIb0ttODQwRC9uVU9DeENrV3lFMnJtdVZkbmtMYXlrMXVheGp5akhtWUUvbnE5SXRHc09oNnpFcERpRXNKaXIvM3NBZzErdXI0UE81TW9LTm9QRjlUSlpwQTRLSm9NZ0oxb3pDRENlWk5WVFhPckZ2a3hlUnkrREJzLzZKcFQ4bHo1eEFBbjZ5cmNwUGgvd3h2ZVR0NGw0M1IzV0NySndiOGVQWWlsQ2hSMjRuZURZUmhST2hkbUVoaWlyRWNvWWpLVGpXWE5KWFBWelEraVdQL1B2emFPVVlseFJtemFJUjg4YUhaQVIrRm0xYy93YXRSQ2tidXNabi9xbHRDbDRBZ0d0N1AxUW9ZSVRaUEEvTDdPVFlrWmF3VG1URDF5TW9jSm5SeEFETzBqS2wyS1VjTEk5ZUd2dHVZMEdZV2pBUjNuTisyV2NmcXRHcnVKMlpING1CeFFxR3o1SGRJYnNlTUoyMG83VHc9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVZUC9BajNwUWRFUWRWQVpCRC9GR0Y5MG93NUp2SXkwRFdGeXFTbEZKSXF4VkJuRlRDNW1hQVJiSHJIMlVtRXIrV2E5cXJZdTE5VE1iVm1uZ3lVUkRETThyL1hrZEg5dW8xaVNJVEdldGoySXRuY2dzT1hDVGxVTGFrQkZUMWV4NU1MYlpLZlRqZU43eXN1TDkzQnc9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVZUC9BajNwUWRFUWRWQVpCRC9GR0Y5MG93NUp2SXkwRFdGeXFTbEZKSXF4VkJuRlRDNW1hQVJiSHJIMlVtRXIrV2E5cXJZdTE5VE1iVm1uZ3lVUkRETThyL1hrZEg5dW8xaVNJVEdldGoySXRuY2dzT1hDVGxVTGFrQkZUMWV4NU1MYlpLZlRqZU43eXN1TDkzQnc9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707531" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="141" hostname="omniconv" path="/OMNIStatic/scripts/common-deferred-scripts.js" url="http://omniconv/OMNIStatic/scripts/common-deferred-scripts.js" ip="10.37.149.132" port="80" connectionId="5" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.378-07:00" startTime="102707546" endTime="102707546">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlaajhsQXlVU1NPVVd1NEFjWGFVYnFHWU5vUE90NzludnhURDN6dkRtL1FGa0FBcUV1NklDTHdrRVZVWXRWNmtRSFZMRDhqMVkwZk93KzJXSXY0YWd5QzBpdG1haStKcytEZzVBUWR2cTBFamwxS08rTFk3WWtvQXFpUHZCbnFvbTVXM1FPMFQxRVAyQUtOY2djb1RISXdjSWw2cm5PRG9xOEIyNG9nSmlScG1YMDhGYlJXQnQ0bHhSOCtPS05iOGNMSllTYlgxVHQxeE1rNWZLaC9jS2doS3JxcUpHQ0tFL0lFYVp5VHAzKzRxa3g0T3NDcWxzcXg2QXRVa2pheW5rSU9vejJ2dnI5L2dWSVhPVTVnUllUc1Ntc2UyRHdZakRsaVBsVk5yMWt5THpmMkN1RUord0NaVTk3QzhINjBydTRuclNuVWlMMzhHU2RGbUU2TTRocHIxNFk1THRKWGo2d2l3UjhlV1dramxFOURWRUxtRmhWSjZBOGdUNG1lUEhjMjRGRTJlYzB1a2ZCZkZ6R2NKLytQUEQwY0tOMUhDbkhHWk5JNm85T3Bta01ONlNqUWNzTVJhRjEvN096K3d6YzIxWXRJbi8wN2xVR0dkMHc3aEV0eit0SHFaQmh0ZVRkQTl4WGZzZnA5RWY4ZnNQUVUzVmNRTCtuQTl4dWJ1Z1c5R3RLNm1JRHM3VEFsTHpIRDJtdHJWNjRTZnhXOThwOTBzcVh2cUZKM1FjRVZpclZBUT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvY29tbW9uLWRlZmVycmVkLXNjcmlwdHMuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTIgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDVhY2M2ZGRhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFZWmo4bEF5VVNTT1VXdTRBY1hhVWJxR1lOb1BPdDc5bnZ4VEQzenZEbS9RRmtBQXFFdTZJQ0x3a0VWVVl0VjZrUUhWTEQ4ajFZMGZPdysyV0l2NGFneUMwaXRtYWkrSnMrRGc1QVFkdnEwRWpsMUtPK0xZN1lrb0FxaVB2Qm5xb201VzNRTzBUMUVQMkFLTmNnY29USEl3Y0lsNnJuT0RvcThCMjRvZ0ppUnBtWDA4RmJSV0J0NGx4UjgrT0tOYjhjTEpZU2JYMVR0MXhNazVmS2gvY0tnaEtycXFKR0NLRS9JRWFaeVRwMys0cWt4NE9zQ3Fsc3F4NkF0VWtqYXlua0lPb3oydnZyOS9nVklYT1U1Z1JZVHNTbXNlMkR3WWpEbGlQbFZOcjFreUx6ZjJDdUVKK3dDWlU5N0M4SDYwcnU0bnJTblVpTDM4R1NkRm1FNk00aHByMTRZNUx0SlhqNndpd1I4ZVdXa2psRTlEVkVMbUZoVko2QThnVDRtZVBIYzI0RkUyZWMwdWtmQmZGekdjSi8rUFBEMGNLTjFIQ25IR1pOSTZvOU9wbWtNTjZTalFjc01SYUYxLzdPeit3emMyMVl0SW4vMDdsVUdHZDB3N2hFdHordEhxWkJodGVUZEE5eFhmc2ZwOUVmOGZzUFFVM1ZjUUwrbkE5eHVidWdXOUd0SzZtSURzN1RBbEx6SEQybXRyVjY0U2Z4Vzk4cDkwc3FYdnFGSjNRY0VWaXJWQVE9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVJMEdjQThDb1lybTY5eXFjdW5VbXh1YjFjSm8wRnVOd21LS09EMVdaSXJzMFlrM2crZFRIM21lK3R3YS9CMXA2S2VTS2pQbVlPTXlMZmFtdGh1L2FpUmRGOWxlbmQvSHlqVUluL1JlNTRPUE1FRnlKbkE4WU9oNCtPcEFkUXVDREVHL1FyNkJ6L0xmZHVSVFVVQWc9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVJMEdjQThDb1lybTY5eXFjdW5VbXh1YjFjSm8wRnVOd21LS09EMVdaSXJzMFlrM2crZFRIM21lK3R3YS9CMXA2S2VTS2pQbVlPTXlMZmFtdGh1L2FpUmRGOWxlbmQvSHlqVUluL1JlNTRPUE1FRnlKbkE4WU9oNCtPcEFkUXVDREVHL1FyNkJ6L0xmZHVSVFVVQWc9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707546" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="143" hostname="omniconv" path="/OMNIStatic/themes/visjs/vis.css" url="http://omniconv/OMNIStatic/themes/visjs/vis.css" ip="10.37.149.132" port="80" connectionId="8" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.378-07:00" startTime="102707531" endTime="102707546">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3MsICovKg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVp5cGk0Mi82Zzlmb0kwMko5MGM5d3RSS3V1a0d6eHkrV1VqNk1saVUyTXQ3Q1V2OXVlMFU0WC9LZkxKay9hYUFpQjZCWm1zV2ZJTVZSRlFLRkhQTUtWRVRYVWd4OU54VkZYUExLMlRzL1drZUZOc3N4Mm1xUjd5RUlhTnBBUmZVQWlnQXM2RzN5ZWlQcjZZck93SldES3FlU21MdktmV0tzakJRZWxwWm5XRkNMeWVmY3VFeTg0ZDAybmdqamdoSmt4N2VhaXdha0RlSEdTSk1jZ2tLMGF4U0xGNG5lOURzWjFKbVBxVHRTQXcwaHdWMmI1cXB0NmFSSUxYNit0TnFQNlU2RE4yZEhadkdaU2VPUERWVTdOZy8xSUpVRkM5amRkMkFyd1BmRjJCNllWL3ZNQ3Z3ZlBOUHJKaWRBSUV6UzYxVFdBVXVVQlZBVWpSODBFdHZLOFFSSXhZalUyYXNQRVpFYWNZOHgrWlkvTEtvQTNlN080ZUU1MElLMEFKdEtVRW5xa1pzaEZZUWtzelBQZjIrbEUyNmhZSEJqNEQ3VUxZdS9NVldBNjZvK2QvczZGWHRzdnVRN2w4MGpvNXAwSVpWV1UrODZuN0ZhV0ZHMVVBcjEwcUhKT3NkVWxhc2FKTE5QN09IYy9HOUVEUFg4a0cyVTJ1ZDU1L0RxWDh4Uk00dHIzc3lPRmtndGoxdE5VQlVJakptTmY4NXlUNnliOUlsZHN2TWhHTWZyQ0xDSjU0UT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3RoZW1lcy92aXNqcy92aXMuY3NzIEhUVFAvMS4xDQpBY2NlcHQ6IHRleHQvY3NzLCAqLyoNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhWnlwaTQyLzZnOWZvSTAySjkwYzl3dFJLdXVrR3p4eStXVWo2TWxpVTJNdDdDVXY5dWUwVTRYL0tmTEprL2FhQWlCNkJabXNXZklNVlJGUUtGSFBNS1ZFVFhVZ3g5TnhWRlhQTEsyVHMvV2tlRk5zc3gybXFSN3lFSWFOcEFSZlVBaWdBczZHM3llaVByNllyT3dKV0RLcWVTbUx2S2ZXS3NqQlFlbHBabldGQ0x5ZWZjdUV5ODRkMDJuZ2pqZ2hKa3g3ZWFpd2FrRGVIR1NKTWNna0swYXhTTEY0bmU5RHNaMUptUHFUdFNBdzBod1YyYjVxcHQ2YVJJTFg2K3ROcVA2VTZETjJkSFp2R1pTZU9QRFZVN05nLzFJSlVGQzlqZGQyQXJ3UGZGMkI2WVYvdk1DdndmUE5QckppZEFJRXpTNjFUV0FVdVVCVkFValI4MEV0dks4UVJJeFlqVTJhc1BFWkVhY1k4eCtaWS9MS29BM2U3TzRlRTUwSUswQUp0S1VFbnFrWnNoRllRa3N6UFBmMitsRTI2aFlIQmo0RDdVTFl1L01WV0E2Nm8rZC9zNkZYdHN2dVE3bDgwam81cDBJWlZXVSs4Nm43RmFXRkcxVUFyMTBxSEpPc2RVbGFzYUpMTlA3T0hjL0c5RURQWDhrRzJVMnVkNTUvRHFYOHhSTTR0cjNzeU9Ga2d0ajF0TlVCVUlqSm1OZjg1eVQ2eWI5SWxkc3ZNaEdNZnJDTENKNTRRPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9jc3M=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVaKzBNVmtUY0cvQkk0UnovQ1Q5RXpTT0NudGg3eUNJbkY1bUprbWRmV3pDY2NzVFBJeFVxcWJhVCtKbktVcVNvUjZwUzJaUXp5Ti9FUFk0OEdZaVFXTm5UT2RlZXBZQ1FyZzQvSEJqeTIwU2l4aktheFUxL1l6QnhGcmEyMkNFZ3F0N3R0OC9NcnZZU2gzRUNYdDA9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Nzk5MA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IHRleHQvY3NzDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpMYXN0LU1vZGlmaWVkOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEyIEdNVA0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6ICIwNWFjYzZkZGE4ZWQzMTowIg0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvNy41DQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNCldXVy1BdXRoZW50aWNhdGU6IE5lZ290aWF0ZSBvWUcyTUlHem9BTUtBUUNoQ3dZSktvWklndmNTQVFJQ29vR2VCSUdiWUlHWUJna3Foa2lHOXhJQkFnSUNBRytCaURDQmhhQURBZ0VGb1FNQ0FRK2llVEIzb0FNQ0FSS2ljQVJ1WiswTVZrVGNHL0JJNFJ6L0NUOUV6U09DbnRoN3lDSW5GNW1Ka21kZld6Q2Njc1RQSXhVcXFiYVQrSm5LVXFTb1I2cFMyWlF6eU4vRVBZNDhHWWlRV05uVE9kZWVwWUNRcmc0L0hCankyMFNpeGpLYXhVMS9ZekJ4RnJhMjJDRWdxdDd0dDgvTXJ2WVNoM0VDWHQwPQ0KRGF0ZTogVHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQNCkNvbnRlbnQtTGVuZ3RoOiA3OTkwDQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LnZpcyAub3ZlcmxheSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKCiAgLyogTXVzdCBiZSBkaXNwbGF5ZWQgYWJvdmUgZm9yIGV4YW1wbGUgc2VsZWN0ZWQgVGltZWxpbmUgaXRlbXMgKi8KICB6LWluZGV4OiAxMDsKfQoKLnZpcy1hY3RpdmUgewogIGJveC1zaGFkb3c6IDAgMCAxMHB4ICM4NmQ1Zjg7Cn0KCi8qIG92ZXJyaWRlIHNvbWUgYm9vdHN0cmFwIHN0eWxlcyBzY3Jld2luZyB1cCB0aGUgdGltZWxpbmVzIGNzcyAqLwoKLnZpcyBbY2xhc3MqPSJzcGFuIl0gewogIG1pbi1oZWlnaHQ6IDA7CiAgd2lkdGg6IGF1dG87Cn0KCgoudmlzLXRpbWVsaW5lIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgYm9yZGVyOiAxcHggc29saWQgI2JmYmZiZjsKCiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsKCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKCi52aXMtcGFuZWwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKCiAgcGFkZGluZzogMDsKICBtYXJnaW46IDA7CgogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCi52aXMtcGFuZWwudmlzLWNlbnRlciwKLnZpcy1wYW5lbC52aXMtbGVmdCwKLnZpcy1wYW5lbC52aXMtcmlnaHQsCi52aXMtcGFuZWwudmlzLXRvcCwKLnZpcy1wYW5lbC52aXMtYm90dG9tIHsKICBib3JkZXI6IDFweCAjYmZiZmJmOwp9CgoudmlzLXBhbmVsLnZpcy1jZW50ZXIsCi52aXMtcGFuZWwudmlzLWxlZnQsCi52aXMtcGFuZWwudmlzLXJpZ2h0IHsKICBib3JkZXItdG9wLXN0eWxlOiBzb2xpZDsKICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDsKICBvdmVyZmxvdzogaGlkZGVuOwp9CgoudmlzLXBhbmVsLnZpcy1jZW50ZXIsCi52aXMtcGFuZWwudmlzLXRvcCwKLnZpcy1wYW5lbC52aXMtYm90dG9tIHsKICBib3JkZXItbGVmdC1zdHlsZTogc29saWQ7CiAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDsKfQoKLnZpcy1iYWNrZ3JvdW5kIHsKICBvdmVyZmxvdzogaGlkZGVuOwp9CgoudmlzLXBhbmVsID4gLnZpcy1jb250ZW50IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi52aXMtcGFuZWwgLnZpcy1zaGFkb3cgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDFweDsKICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsMCwwLDAuOCk7CiAgLyogVE9ETzogZmluZCBhIG5pY2Ugd2F5IHRvIGVuc3VyZSB2aXMtc2hhZG93cyBhcmUgZHJhd24gb24gdG9wIG9mIGl0ZW1zCiAgei1pbmRleDogMTsKICAqLwp9CgoudmlzLXBhbmVsIC52aXMtc2hhZG93LnZpcy10b3AgewogIHRvcDogLTFweDsKICBsZWZ0OiAwOwp9CgoudmlzLXBhbmVsIC52aXMtc2hhZG93LnZpcy1ib3R0b20gewogIGJvdHRvbTogLTFweDsKICBsZWZ0OiAwOwp9CgoudmlzLWxhYmVsc2V0IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CgogIG92ZXJmbG93OiBoaWRkZW47CgogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCi52aXMtbGFiZWxzZXQgLnZpcy1sYWJlbCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwogIHdpZHRoOiAxMDAlOwogIGNvbG9yOiAjNGQ0ZDRkOwoKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgoudmlzLWxhYmVsc2V0IC52aXMtbGFiZWwgewogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYmZiZmJmOwp9CgoudmlzLWxhYmVsc2V0IC52aXMtbGFiZWw6bGFzdC1jaGlsZCB7CiAgYm9yZGVyLWJvdHRvbTogbm9uZTsKfQoKLnZpcy1sYWJlbHNldCAudmlzLWxhYmVsIC52aXMtaW5uZXIgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBwYWRkaW5nOiA1cHg7Cn0KCi52aXMtbGFiZWxzZXQgLnZpcy1sYWJlbCAudmlzLWlubmVyLnZpcy1oaWRkZW4gewogIHBhZGRpbmc6IDA7Cn0KCgoudmlzLWl0ZW1zZXQgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsKCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKLnZpcy1pdGVtc2V0IC52aXMtYmFja2dyb3VuZCwKLnZpcy1pdGVtc2V0IC52aXMtZm9yZWdyb3VuZCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBvdmVyZmxvdzogdmlzaWJsZTsKfQoKLnZpcy1heGlzIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAwOwogIGxlZnQ6IDA7CiAgei1pbmRleDogMTsKfQoKLnZpcy1mb3JlZ3JvdW5kIC52aXMtZ3JvdXAgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYmZiZmJmOwp9CgoudmlzLWZvcmVncm91bmQgLnZpcy1ncm91cDpsYXN0LWNoaWxkIHsKICBib3JkZXItYm90dG9tOiBub25lOwp9CgoudmlzLW92ZXJsYXkgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgei1pbmRleDogMTA7Cn0KCi52aXMtaXRlbSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGNvbG9yOiAjMUExQTFBOwogIGJvcmRlci1jb2xvcjogIzk3QjBGODsKICBib3JkZXItd2lkdGg6IDFweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDVEREY2OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAvKm92ZXJmbG93OiBoaWRkZW47Ki8KfQoKLnZpcy1pdGVtLnZpcy1zZWxlY3RlZCB7CiAgYm9yZGVyLWNvbG9yOiAjRkZDMjAwOwogIGJhY2tncm91bmQtY29sb3I6ICNGRkY3ODU7CgogIC8qIHotaW5kZXggbXVzdCBiZSBoaWdoZXIgdGhhbiB0aGUgei1pbmRleCBvZiBjdXN0b20gdGltZSBiYXIgYW5kIGN1cnJlbnQgdGltZSBiYXIgKi8KICB6LWluZGV4OiAyOwp9CgoudmlzLWVkaXRhYmxlLnZpcy1zZWxlY3RlZCB7CiAgY3Vyc29yOiBtb3ZlOwp9CgoudmlzLWl0ZW0udmlzLXBvaW50LnZpcy1zZWxlY3RlZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjc4NTsKfQoKLnZpcy1pdGVtLnZpcy1ib3ggewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBib3JkZXItc3R5bGU6IHNvbGlkOwogIGJvcmRlci1yYWRpdXM6IDJweDsKfQoKLnZpcy1pdGVtLnZpcy1wb2ludCB7CiAgYmFja2dyb3VuZDogbm9uZTsKfQoKLnZpcy1pdGVtLnZpcy1kb3QgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBwYWRkaW5nOiAwOwogIGJvcmRlci13aWR0aDogNHB4OwogIGJvcmRlci1zdHlsZTogc29saWQ7CiAgYm9yZGVyLXJhZGl1czogNHB4Owp9CgoudmlzLWl0ZW0udmlzLXJhbmdlIHsKICBib3JkZXItc3R5bGU6IHNvbGlkOwogIGJvcmRlci1yYWRpdXM6IDJweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgoudmlzLWl0ZW0udmlzLWJhY2tncm91bmQgewogIGJvcmRlcjogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIxMywgMjIxLCAyNDYsIDAuNCk7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsKfQoKLnZpcy1pdGVtIC52aXMtaXRlbS1vdmVyZmxvdyB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsKICBvdmVyZmxvdzogaGlkZGVuOwp9CgoudmlzLWl0ZW0udmlzLXJhbmdlIC52aXMtaXRlbS1jb250ZW50IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9CgoudmlzLWl0ZW0udmlzLWJhY2tncm91bmQgLnZpcy1pdGVtLWNvbnRlbnQgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCi52aXMtaXRlbS52aXMtbGluZSB7CiAgcGFkZGluZzogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDA7CiAgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDsKICBib3JkZXItbGVmdC1zdHlsZTogc29saWQ7Cn0KCi52aXMtaXRlbSAudmlzLWl0ZW0tY29udGVudCB7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHBhZGRpbmc6IDVweDsKfQoKLnZpcy1pdGVtIC52aXMtZGVsZXRlIHsKICBiYWNrZ3JvdW5kOiB1cmwoJ2ltZy90aW1lbGluZS9kZWxldGUucG5nJykgbm8tcmVwZWF0IGNlbnRlcjsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDI0cHg7CiAgaGVpZ2h0OiAyNHB4OwogIHRvcDogLTRweDsKICByaWdodDogLTI0cHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgoudmlzLWl0ZW0udmlzLXJhbmdlIC52aXMtZHJhZy1sZWZ0IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDI0cHg7CiAgbWF4LXdpZHRoOiAyMCU7CiAgbWluLXdpZHRoOiAycHg7CiAgaGVpZ2h0OiAxMDAlOwogIHRvcDogMDsKICBsZWZ0OiAtNHB4OwoKICBjdXJzb3I6IHctcmVzaXplOwp9CgoudmlzLWl0ZW0udmlzLXJhbmdlIC52aXMtZHJhZy1yaWdodCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiAyNHB4OwogIG1heC13aWR0aDogMjAlOwogIG1pbi13aWR0aDogMnB4OwogIGhlaWdodDogMTAwJTsKICB0b3A6IDA7CiAgcmlnaHQ6IC00cHg7CgogIGN1cnNvcjogZS1yZXNpemU7Cn0KCi52aXMtdGltZS1heGlzIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnZpcy10aW1lLWF4aXMudmlzLWZvcmVncm91bmQgewogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwp9CgoudmlzLXRpbWUtYXhpcy52aXMtYmFja2dyb3VuZCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQoKLnZpcy10aW1lLWF4aXMgLnZpcy10ZXh0IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgY29sb3I6ICM0ZDRkNGQ7CiAgcGFkZGluZzogM3B4OwogIHdoaXRlLXNwYWNlOiBub3dyYXA7Cn0KCi52aXMtdGltZS1heGlzIC52aXMtdGV4dC52aXMtbWVhc3VyZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHBhZGRpbmctbGVmdDogMDsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIG1hcmdpbi1sZWZ0OiAwOwogIG1hcmdpbi1yaWdodDogMDsKICB2aXNpYmlsaXR5OiBoaWRkZW47Cn0KCi52aXMtdGltZS1heGlzIC52aXMtZ3JpZC52aXMtdmVydGljYWwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3JkZXItbGVmdDogMXB4IHNvbGlkOwp9CgoudmlzLXRpbWUtYXhpcyAudmlzLWdyaWQudmlzLW1pbm9yIHsKICBib3JkZXItY29sb3I6ICNlNWU1ZTU7Cn0KCi52aXMtdGltZS1heGlzIC52aXMtZ3JpZC52aXMtbWFqb3IgewogIGJvcmRlci1jb2xvcjogI2JmYmZiZjsKfQoKLnZpcy1jdXJyZW50LXRpbWUgewogIGJhY2tncm91bmQtY29sb3I6ICNGRjdGNkU7CiAgd2lkdGg6IDJweDsKICB6LWluZGV4OiAxOwp9Ci52aXMtY3VzdG9tLXRpbWUgewogIGJhY2tncm91bmQtY29sb3I6ICM2RTk0RkY7CiAgd2lkdGg6IDJweDsKICBjdXJzb3I6IG1vdmU7CiAgei1pbmRleDogMTsKfQoudmlzLXRpbWVsaW5lIHsKICAvKgogIC13ZWJraXQtdHJhbnNpdGlvbjogaGVpZ2h0IC40cyBlYXNlLWluLW91dDsKICB0cmFuc2l0aW9uOiAgICAgICAgIGhlaWdodCAuNHMgZWFzZS1pbi1vdXQ7CiAgKi8KfQoKLnZpcy1wYW5lbCB7CiAgLyoKICAtd2Via2l0LXRyYW5zaXRpb246IGhlaWdodCAuNHMgZWFzZS1pbi1vdXQsIHRvcCAuNHMgZWFzZS1pbi1vdXQ7CiAgdHJhbnNpdGlvbjogICAgICAgICBoZWlnaHQgLjRzIGVhc2UtaW4tb3V0LCB0b3AgLjRzIGVhc2UtaW4tb3V0OwogICovCn0KCi52aXMtYXhpcyB7CiAgLyoKICAtd2Via2l0LXRyYW5zaXRpb246IHRvcCAuNHMgZWFzZS1pbi1vdXQ7CiAgdHJhbnNpdGlvbjogICAgICAgICB0b3AgLjRzIGVhc2UtaW4tb3V0OwogICovCn0KCi8qIFRPRE86IGdldCBhbmltYXRpb24gd29ya2luZyBuaWNlbHkKCi52aXMtaXRlbSB7CiAgLXdlYmtpdC10cmFuc2l0aW9uOiB0b3AgLjRzIGVhc2UtaW4tb3V0OwogIHRyYW5zaXRpb246ICAgICAgICAgdG9wIC40cyBlYXNlLWluLW91dDsKfQoKLnZpcy1pdGVtLmxpbmUgewogIC13ZWJraXQtdHJhbnNpdGlvbjogaGVpZ2h0IC40cyBlYXNlLWluLW91dCwgdG9wIC40cyBlYXNlLWluLW91dDsKICB0cmFuc2l0aW9uOiAgICAgICAgIGhlaWdodCAuNHMgZWFzZS1pbi1vdXQsIHRvcCAuNHMgZWFzZS1pbi1vdXQ7Cn0KLyoqLwoKLnZpcy1wYW5lbC52aXMtYmFja2dyb3VuZC52aXMtaG9yaXpvbnRhbCAudmlzLWdyaWQudmlzLWhvcml6b250YWwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDA7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkOwp9CgoudmlzLXBhbmVsLnZpcy1iYWNrZ3JvdW5kLnZpcy1ob3Jpem9udGFsIC52aXMtZ3JpZC52aXMtbWlub3IgewogIGJvcmRlci1jb2xvcjogI2U1ZTVlNTsKfQoKLnZpcy1wYW5lbC52aXMtYmFja2dyb3VuZC52aXMtaG9yaXpvbnRhbCAudmlzLWdyaWQudmlzLW1ham9yIHsKICBib3JkZXItY29sb3I6ICNiZmJmYmY7Cn0KCgoudmlzLWRhdGEtYXhpcyAudmlzLXktYXhpcy52aXMtbWFqb3IgewogIHdpZHRoOiAxMDAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBjb2xvcjogIzRkNGQ0ZDsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwp9CgoudmlzLWRhdGEtYXhpcyAudmlzLXktYXhpcy52aXMtbWFqb3IudmlzLW1lYXN1cmUgewogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwogIGJvcmRlcjogMDsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgd2lkdGg6IGF1dG87Cn0KCgoudmlzLWRhdGEtYXhpcyAudmlzLXktYXhpcy52aXMtbWlub3IgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKICBjb2xvcjogI2JlYmViZTsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwp9CgoudmlzLWRhdGEtYXhpcyAudmlzLXktYXhpcy52aXMtbWlub3IudmlzLW1lYXN1cmUgewogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwogIGJvcmRlcjogMDsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgd2lkdGg6IGF1dG87Cn0KCi52aXMtZGF0YS1heGlzIC52aXMteS1heGlzLnZpcy10aXRsZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGNvbG9yOiAjNGQ0ZDRkOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgYm90dG9tOiAyMHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLnZpcy1kYXRhLWF4aXMgLnZpcy15LWF4aXMudmlzLXRpdGxlLnZpcy1tZWFzdXJlIHsKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgd2lkdGg6IGF1dG87Cn0KCi52aXMtZGF0YS1heGlzIC52aXMteS1heGlzLnZpcy10aXRsZS52aXMtbGVmdCB7CiAgYm90dG9tOiAwOwogIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCB0b3A7CiAgLW1vei10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IHRvcDsKICAtbXMtdHJhbnNmb3JtLW9yaWdpbjogbGVmdCB0b3A7CiAgLW8tdHJhbnNmb3JtLW9yaWdpbjogbGVmdCB0b3A7CiAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207CiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpOwogIC1tb3otdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTsKICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTsKICAtby10cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpOwogIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7Cn0KCi52aXMtZGF0YS1heGlzIC52aXMteS1heGlzLnZpcy10aXRsZS52aXMtcmlnaHQgewogIGJvdHRvbTogMDsKICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAtbW96LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICAtbXMtdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgYm90dG9tOwogIC1vLXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTsKICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207CiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7CiAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7CiAgLW1zLXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTsKICAtby10cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7CiAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpOwp9CgoudmlzLWxlZ2VuZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDcsIDI1MiwgMjU1LCAwLjY1KTsKICBwYWRkaW5nOiA1cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2IzYjNiMzsKICBib3gtc2hhZG93OiAycHggMnB4IDEwcHggcmdiYSgxNTQsIDE1NCwgMTU0LCAwLjU1KTsKfQoKLnZpcy1sZWdlbmQtdGV4dCB7CiAgLypmb250LXNpemU6IDEwcHg7Ki8KICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIGRpc3BsYXk6IGlubGluZS1ibG9jawp9Ci52aXMtZ3JhcGgtZ3JvdXAwIHsKICAgIGZpbGw6IzRmODFiZDsKICAgIGZpbGwtb3BhY2l0eTowOwogICAgc3Ryb2tlLXdpZHRoOjJweDsKICAgIHN0cm9rZTogIzRmODFiZDsKfQoKLnZpcy1ncmFwaC1ncm91cDEgewogICAgZmlsbDojZjc5NjQ2OwogICAgZmlsbC1vcGFjaXR5OjA7CiAgICBzdHJva2Utd2lkdGg6MnB4OwogICAgc3Ryb2tlOiAjZjc5NjQ2Owp9CgoudmlzLWdyYXBoLWdyb3VwMiB7CiAgICBmaWxsOiAjOGM1MWNmOwogICAgZmlsbC1vcGFjaXR5OjA7CiAgICBzdHJva2Utd2lkdGg6MnB4OwogICAgc3Ryb2tlOiAjOGM1MWNmOwp9CgoudmlzLWdyYXBoLWdyb3VwMyB7CiAgICBmaWxsOiAjNzVjODQxOwogICAgZmlsbC1vcGFjaXR5OjA7CiAgICBzdHJva2Utd2lkdGg6MnB4OwogICAgc3Ryb2tlOiAjNzVjODQxOwp9CgoudmlzLWdyYXBoLWdyb3VwNCB7CiAgICBmaWxsOiAjZmYwMTAwOwogICAgZmlsbC1vcGFjaXR5OjA7CiAgICBzdHJva2Utd2lkdGg6MnB4OwogICAgc3Ryb2tlOiAjZmYwMTAwOwp9CgoudmlzLWdyYXBoLWdyb3VwNSB7CiAgICBmaWxsOiAjMzdkOGU2OwogICAgZmlsbC1vcGFjaXR5OjA7CiAgICBzdHJva2Utd2lkdGg6MnB4OwogICAgc3Ryb2tlOiAjMzdkOGU2Owp9CgoudmlzLWdyYXBoLWdyb3VwNiB7CiAgICBmaWxsOiAjMDQyNjYyOwogICAgZmlsbC1vcGFjaXR5OjA7CiAgICBzdHJva2Utd2lkdGg6MnB4OwogICAgc3Ryb2tlOiAjMDQyNjYyOwp9CgoudmlzLWdyYXBoLWdyb3VwNyB7CiAgICBmaWxsOiMwMGZmMjY7CiAgICBmaWxsLW9wYWNpdHk6MDsKICAgIHN0cm9rZS13aWR0aDoycHg7CiAgICBzdHJva2U6ICMwMGZmMjY7Cn0KCi52aXMtZ3JhcGgtZ3JvdXA4IHsKICAgIGZpbGw6I2ZmMDBmZjsKICAgIGZpbGwtb3BhY2l0eTowOwogICAgc3Ryb2tlLXdpZHRoOjJweDsKICAgIHN0cm9rZTogI2ZmMDBmZjsKfQoKLnZpcy1ncmFwaC1ncm91cDkgewogICAgZmlsbDogIzhmMzkzODsKICAgIGZpbGwtb3BhY2l0eTowOwogICAgc3Ryb2tlLXdpZHRoOjJweDsKICAgIHN0cm9rZTogIzhmMzkzODsKfQoKLnZpcy10aW1lbGluZSAudmlzLWZpbGwgewogICAgZmlsbC1vcGFjaXR5OjAuMTsKICAgIHN0cm9rZTogbm9uZTsKfQoKCi52aXMtdGltZWxpbmUgLnZpcy1iYXIgewogICAgZmlsbC1vcGFjaXR5OjAuNTsKICAgIHN0cm9rZS13aWR0aDoxcHg7Cn0KCi52aXMtdGltZWxpbmUgLnZpcy1wb2ludCB7CiAgICBzdHJva2Utd2lkdGg6MnB4OwogICAgZmlsbC1vcGFjaXR5OjEuMDsKfQoKCi52aXMtdGltZWxpbmUgLnZpcy1sZWdlbmQtYmFja2dyb3VuZCB7CiAgICBzdHJva2Utd2lkdGg6MXB4OwogICAgZmlsbC1vcGFjaXR5OjAuOTsKICAgIGZpbGw6ICNmZmZmZmY7CiAgICBzdHJva2U6ICNjMmMyYzI7Cn0KCgoudmlzLXRpbWVsaW5lIC52aXMtb3V0bGluZSB7CiAgICBzdHJva2Utd2lkdGg6MXB4OwogICAgZmlsbC1vcGFjaXR5OjE7CiAgICBmaWxsOiAjZmZmZmZmOwogICAgc3Ryb2tlOiAjZTVlNWU1Owp9CgoudmlzLXRpbWVsaW5lIC52aXMtaWNvbi1maWxsIHsKICAgIGZpbGwtb3BhY2l0eTowLjM7CiAgICBzdHJva2U6IG5vbmU7Cn0KCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiB7CiAgYm9yZGVyLXdpZHRoOiAwOwogIGJvcmRlci1ib3R0b206IDFweDsKICBib3JkZXItc3R5bGU6c29saWQ7CiAgYm9yZGVyLWNvbG9yOiAjZDZkOWQ4OwogIGJhY2tncm91bmQ6ICNmZmZmZmY7IC8qIE9sZCBicm93c2VycyAqLwogIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZmZmZmYgMCUsICNmY2ZjZmMgNDglLCAjZmFmYWZhIDUwJSwgI2ZjZmNmYyAxMDAlKTsgLyogRkYzLjYrICovCiAgYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgY29sb3Itc3RvcCgwJSwjZmZmZmZmKSwgY29sb3Itc3RvcCg0OCUsI2ZjZmNmYyksIGNvbG9yLXN0b3AoNTAlLCNmYWZhZmEpLCBjb2xvci1zdG9wKDEwMCUsI2ZjZmNmYykpOyAvKiBDaHJvbWUsU2FmYXJpNCsgKi8KICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmZmZmZmIDAlLCNmY2ZjZmMgNDglLCNmYWZhZmEgNTAlLCNmY2ZjZmMgMTAwJSk7IC8qIENocm9tZTEwKyxTYWZhcmk1LjErICovCiAgYmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZmZmZmYgMCUsI2ZjZmNmYyA0OCUsI2ZhZmFmYSA1MCUsI2ZjZmNmYyAxMDAlKTsgLyogT3BlcmEgMTEuMTArICovCiAgYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmZmZmZmIDAlLCNmY2ZjZmMgNDglLCNmYWZhZmEgNTAlLCNmY2ZjZmMgMTAwJSk7IC8qIElFMTArICovCiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgICNmZmZmZmYgMCUsI2ZjZmNmYyA0OCUsI2ZhZmFmYSA1MCUsI2ZjZmNmYyAxMDAlKTsgLyogVzNDICovCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoIHN0YXJ0Q29sb3JzdHI9JyNmZmZmZmYnLCBlbmRDb2xvcnN0cj0nI2ZjZmNmYycsR3JhZGllbnRUeXBlPTAgKTsgLyogSUU2LTkgKi8KCiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMzBweDsKfQoKZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtZWRpdC1tb2RlIHsKICBwb3NpdGlvbjphYnNvbHV0ZTsKICBsZWZ0OiAwOwogIHRvcDogMTVweDsKICBoZWlnaHQ6IDMwcHg7Cn0KCi8qIEZJWE1FOiBzaG91bGRuJ3QgdGhlIHZpcy1jbG9zZSBidXR0b24gYmUgYSBjaGlsZCBvZiB0aGUgdmlzLW1hbmlwdWxhdGlvbiBkaXY/ICovCgpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1jbG9zZSB7CiAgcG9zaXRpb246YWJzb2x1dGU7CiAgcmlnaHQ6IDA7CiAgdG9wOiAwOwogIHdpZHRoOiAzMHB4OwogIGhlaWdodDogMzBweDsKCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMjBweCAzcHg7CiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImltZy9uZXR3b3JrL2Nyb3NzLnBuZyIpOwogIGN1cnNvcjogcG9pbnRlcjsKICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7CiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7CiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsKICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgdXNlci1zZWxlY3Q6IG5vbmU7Cn0KCmRpdi52aXMtbmV0d29yayBkaXYudmlzLWNsb3NlOmhvdmVyIHsKICBvcGFjaXR5OiAwLjY7Cn0KCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiBkaXYudmlzLWJ1dHRvbiwKZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtZWRpdC1tb2RlIGRpdi52aXMtYnV0dG9uIHsKICBwb3NpdGlvbjpyZWxhdGl2ZTsKICB0b3A6LTdweDsKICBmb250LWZhbWlseTogdmVyZGFuYTsKICBmb250LXNpemU6IDEycHg7CiAgLW1vei1ib3JkZXItcmFkaXVzOiAxNXB4OwogIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IDBweDsKICBiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7CiAgaGVpZ2h0OjI0cHg7CiAgbWFyZ2luOiAwcHggMHB4IDBweCAxMHB4OwogIHZlcnRpY2FsLWFsaWduOm1pZGRsZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcGFkZGluZzogMHB4IDhweCAwcHggOHB4OwogIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTsKICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOwogIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsKICAtbW96LXVzZXItc2VsZWN0OiBub25lOwogIC1tcy11c2VyLXNlbGVjdDogbm9uZTsKICB1c2VyLXNlbGVjdDogbm9uZTsKfQoKZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbWFuaXB1bGF0aW9uIGRpdi52aXMtYnV0dG9uOmhvdmVyIHsKICBib3gtc2hhZG93OiAxcHggMXB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMjApOwp9CgpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1tYW5pcHVsYXRpb24gZGl2LnZpcy1idXR0b246YWN0aXZlIHsKICBib3gtc2hhZG93OiAxcHggMXB4IDhweCByZ2JhKDAsIDAsIDAsIDAuNTApOwp9CgpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1tYW5pcHVsYXRpb24gZGl2LnZpcy1idXR0b24udmlzLWJhY2sgewogIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiaW1nL25ldHdvcmsvYmFja0ljb24ucG5nIik7Cn0KCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiBkaXYudmlzLWJ1dHRvbi52aXMtbm9uZTpob3ZlciB7CiAgYm94LXNoYWRvdzogMXB4IDFweCA4cHggcmdiYSgwLCAwLCAwLCAwLjApOwogIGN1cnNvcjogZGVmYXVsdDsKfQpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1tYW5pcHVsYXRpb24gZGl2LnZpcy1idXR0b24udmlzLW5vbmU6YWN0aXZlIHsKICBib3gtc2hhZG93OiAxcHggMXB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMCk7Cn0KZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbWFuaXB1bGF0aW9uIGRpdi52aXMtYnV0dG9uLnZpcy1ub25lIHsKICBwYWRkaW5nOiAwOwp9CmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiBkaXYubm90aWZpY2F0aW9uIHsKICBtYXJnaW46IDJweDsKICBmb250LXdlaWdodDogYm9sZDsKfQoKZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbWFuaXB1bGF0aW9uIGRpdi52aXMtYnV0dG9uLnZpcy1hZGQgewogIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiaW1nL25ldHdvcmsvYWRkTm9kZUljb24ucG5nIik7Cn0KCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiBkaXYudmlzLWJ1dHRvbi52aXMtZWRpdCwKZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtZWRpdC1tb2RlIGRpdi52aXMtYnV0dG9uLnZpcy1lZGl0IHsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImltZy9uZXR3b3JrL2VkaXRJY29uLnBuZyIpOwp9CgpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1lZGl0LW1vZGUgZGl2LnZpcy1idXR0b24udmlzLWVkaXQudmlzLWVkaXQtbW9kZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZjZmNmYzsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjY2NjOwp9CgpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1tYW5pcHVsYXRpb24gZGl2LnZpcy1idXR0b24udmlzLWNvbm5lY3QgewogIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiaW1nL25ldHdvcmsvY29ubmVjdEljb24ucG5nIik7Cn0KCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiBkaXYudmlzLWJ1dHRvbi52aXMtZGVsZXRlIHsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImltZy9uZXR3b3JrL2RlbGV0ZUljb24ucG5nIik7Cn0KLyogdG9wIHJpZ2h0IGJvdHRvbSBsZWZ0ICovCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiBkaXYudmlzLWxhYmVsLApkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1lZGl0LW1vZGUgZGl2LnZpcy1sYWJlbCB7CiAgbWFyZ2luOiAwIDAgMCAyM3B4OwogIGxpbmUtaGVpZ2h0OiAyNXB4Owp9CmRpdi52aXMtbmV0d29yayBkaXYudmlzLW1hbmlwdWxhdGlvbiBkaXYudmlzLXNlcGFyYXRvci1saW5lIHsKICBkaXNwbGF5OmlubGluZS1ibG9jazsKICB3aWR0aDoxcHg7CiAgaGVpZ2h0OjIwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2JkYmRiZDsKICBtYXJnaW46IDVweCA3cHggMCAxNXB4Owp9CgovKiBUT0RPOiBpcyB0aGlzIHJlZHVuZGFudD8KZGl2Lm5ldHdvcmstbmF2aWdhdGlvbl93cmFwcGVyIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMDsKICB0b3A6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9CiovCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW5hdmlnYXRpb24gZGl2LnZpcy1idXR0b24gewogICAgd2lkdGg6MzRweDsKICAgIGhlaWdodDozNHB4OwogICAgLW1vei1ib3JkZXItcmFkaXVzOiAxN3B4OwogICAgYm9yZGVyLXJhZGl1czogMTdweDsKICAgIHBvc2l0aW9uOmFic29sdXRlOwogICAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggMnB4OwogICAgYmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lOwogICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsKICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICB1c2VyLXNlbGVjdDogbm9uZTsKfQoKZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbmF2aWdhdGlvbiBkaXYudmlzLWJ1dHRvbjpob3ZlciB7CiAgICBib3gtc2hhZG93OiAwIDAgM3B4IDNweCByZ2JhKDU2LCAyMDcsIDIxLCAwLjMwKTsKfQoKZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbmF2aWdhdGlvbiBkaXYudmlzLWJ1dHRvbjphY3RpdmUgewogICAgYm94LXNoYWRvdzogMCAwIDFweCAzcHggcmdiYSg1NiwgMjA3LCAyMSwgMC45NSk7Cn0KCmRpdi52aXMtbmV0d29yayBkaXYudmlzLW5hdmlnYXRpb24gZGl2LnZpcy1idXR0b24udmlzLXVwIHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiaW1nL25ldHdvcmsvdXBBcnJvdy5wbmciKTsKICAgIGJvdHRvbTo1MHB4OwogICAgbGVmdDo1NXB4Owp9CmRpdi52aXMtbmV0d29yayBkaXYudmlzLW5hdmlnYXRpb24gZGl2LnZpcy1idXR0b24udmlzLWRvd24gewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCJpbWcvbmV0d29yay9kb3duQXJyb3cucG5nIik7CiAgICBib3R0b206MTBweDsKICAgIGxlZnQ6NTVweDsKfQpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1uYXZpZ2F0aW9uIGRpdi52aXMtYnV0dG9uLnZpcy1sZWZ0IHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiaW1nL25ldHdvcmsvbGVmdEFycm93LnBuZyIpOwogICAgYm90dG9tOjEwcHg7CiAgICBsZWZ0OjE1cHg7Cn0KZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbmF2aWdhdGlvbiBkaXYudmlzLWJ1dHRvbi52aXMtcmlnaHQgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCJpbWcvbmV0d29yay9yaWdodEFycm93LnBuZyIpOwogICAgYm90dG9tOjEwcHg7CiAgICBsZWZ0Ojk1cHg7Cn0KZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbmF2aWdhdGlvbiBkaXYudmlzLWJ1dHRvbi52aXMtem9vbUluIHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiaW1nL25ldHdvcmsvcGx1cy5wbmciKTsKICAgIGJvdHRvbToxMHB4OwogICAgcmlnaHQ6MTVweDsKfQpkaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1uYXZpZ2F0aW9uIGRpdi52aXMtYnV0dG9uLnZpcy16b29tT3V0IHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiaW1nL25ldHdvcmsvbWludXMucG5nIik7CiAgICBib3R0b206MTBweDsKICAgIHJpZ2h0OjU1cHg7Cn0KZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbmF2aWdhdGlvbiBkaXYudmlzLWJ1dHRvbi52aXMtem9vbUV4dGVuZHMgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCJpbWcvbmV0d29yay96b29tRXh0ZW5kcy5wbmciKTsKICAgIGJvdHRvbTo1MHB4OwogICAgcmlnaHQ6MTVweDsKfQpkaXYudmlzLW5ldHdvcmstdG9vbHRpcCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHZpc2liaWxpdHk6IGhpZGRlbjsKICBwYWRkaW5nOiA1cHg7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKCiAgZm9udC1mYW1pbHk6IHZlcmRhbmE7CiAgZm9udC1zaXplOjE0cHg7CiAgZm9udC1jb2xvcjojMDAwMDAwOwogIGJhY2tncm91bmQtY29sb3I6ICNmNWY0ZWQ7CgogIC1tb3otYm9yZGVyLXJhZGl1czogM3B4OwogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4OwogIGJvcmRlci1yYWRpdXM6IDNweDsKICBib3JkZXI6IDFweCBzb2xpZCAjODA4MDc0OwoKICBib3gtc2hhZG93OiAzcHggM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwogIHBvaW50ZXItZXZlbnRzOiBub25lOwp9CmRpdi52aXMtbmV0d29yay1jb25maWd1cmF0aW9uIHsKICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgZGlzcGxheTpibG9jazsKICAgIGZsb2F0OmxlZnQ7CiAgICBmb250LXNpemU6MTJweDsKfQoKZGl2LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24td3JhcHBlciB7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgd2lkdGg6NzAwcHg7Cn0KCgpkaXYudmlzLW5ldHdvcmstY29uZmlndXJhdGlvbi52aXMtb3B0aW9uLWNvbnRhaW5lcnsKICAgIGRpc3BsYXk6YmxvY2s7CiAgICB3aWR0aDo0OTVweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgICBib3JkZXI6MnB4IHNvbGlkICNmN2Y4ZmE7CiAgICBib3JkZXItcmFkaXVzOjRweDsKICAgIG1hcmdpbi10b3A6MjBweDsKICAgIGxlZnQ6MTBweDsKICAgIHBhZGRpbmctbGVmdDo1cHg7Cn0KCmRpdi52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLmJ1dHRvbnsKICAgIGRpc3BsYXk6YmxvY2s7CiAgICB3aWR0aDo0OTVweDsKICAgIGhlaWdodDoyNXB4OwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIGxpbmUtaGVpZ2h0OjI1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmOGZhOwogICAgYm9yZGVyOjJweCBzb2xpZCAjY2VjZWQwOwogICAgYm9yZGVyLXJhZGl1czo0cHg7CiAgICBtYXJnaW4tdG9wOjIwcHg7CiAgICBsZWZ0OjEwcHg7CiAgICBwYWRkaW5nLWxlZnQ6NXB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgbWFyZ2luLWJvdHRvbTozMHB4Owp9CgpkaXYudmlzLW5ldHdvcmstY29uZmlndXJhdGlvbi5idXR0b24uaG92ZXJ7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDU4OGU2OwogICAgYm9yZGVyOjJweCBzb2xpZCAjMjE0MzczOwogICAgY29sb3I6I2ZmZmZmZjsKfQoKZGl2LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24uaXRlbXsKICAgIGRpc3BsYXk6YmxvY2s7CiAgICBmbG9hdDpsZWZ0OwogICAgd2lkdGg6NDk1cHg7CiAgICBoZWlnaHQ6MjVweDsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICBsaW5lLWhlaWdodDoyNXB4Owp9CgoKZGl2LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24uaXRlbS5zMnsKICAgIGxlZnQ6MTBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y4ZmE7CiAgICBwYWRkaW5nLWxlZnQ6NXB4OwogICAgYm9yZGVyLXJhZGl1czozcHg7Cn0KZGl2LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24uaXRlbS5zM3sKICAgIGxlZnQ6MjBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNlNGU5ZjA7CiAgICBwYWRkaW5nLWxlZnQ6NXB4OwogICAgYm9yZGVyLXJhZGl1czozcHg7Cn0KZGl2LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24uaXRlbS5zNHsKICAgIGxlZnQ6MzBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNjZmQ4ZTY7CiAgICBwYWRkaW5nLWxlZnQ6NXB4OwogICAgYm9yZGVyLXJhZGl1czozcHg7Cn0KCmRpdi52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLmhlYWRlcnsKICAgIGZvbnQtc2l6ZToxOHB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCmRpdi52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLmxhYmVsewogICAgd2lkdGg6MTIwcHg7CiAgICBoZWlnaHQ6MjVweDsKICAgIGxpbmUtaGVpZ2h0OiAyNXB4Owp9CgpkaXYudmlzLW5ldHdvcmstY29uZmlndXJhdGlvbi5sYWJlbC5zM3sKICAgIHdpZHRoOjExMHB4Owp9CmRpdi52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLmxhYmVsLnM0ewogICAgd2lkdGg6MTAwcHg7Cn0KCmRpdi52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLmNvbG9yQmxvY2t7CiAgICB0b3A6MXB4OwogICAgd2lkdGg6MzBweDsKICAgIGhlaWdodDoxOXB4OwogICAgYm9yZGVyOjFweCBzb2xpZCAjNDQ0NDQ0OwogICAgYm9yZGVyLXJhZGl1czoycHg7CiAgICBwYWRkaW5nOjBweDsKICAgIG1hcmdpbjowcHg7CiAgICBjdXJzb3I6cG9pbnRlcjsKfQoKaW5wdXQudmlzLW5ldHdvcmstY29uZmlndXJhdGlvbi5jaGVja2JveCB7CiAgICBsZWZ0Oi01cHg7Cn0KCgppbnB1dC52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLnJhbmdlaW5wdXR7CiAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgIHRvcDotNXB4OwogICAgd2lkdGg6NjBweDsKICAgIGhlaWdodDoxM3B4OwogICAgcGFkZGluZzoxcHg7CiAgICBtYXJnaW46MDsKICAgIHBvaW50ZXItZXZlbnRzOm5vbmU7Cn0KCmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2V7CiAgICAvKnJlbW92ZXMgZGVmYXVsdCB3ZWJraXQgc3R5bGVzKi8KICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKCiAgICAvKmZpeCBmb3IgRkYgdW5hYmxlIHRvIGFwcGx5IGZvY3VzIHN0eWxlIGJ1ZyAqLwogICAgYm9yZGVyOiAwcHggc29saWQgd2hpdGU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMCk7CgogICAgLypyZXF1aXJlZCBmb3IgcHJvcGVyIHRyYWNrIHNpemluZyBpbiBGRiovCiAgICB3aWR0aDogMzAwcHg7CiAgICBoZWlnaHQ6MjBweDsKfQppbnB1dC52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLnJhbmdlOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjayB7CiAgICB3aWR0aDogMzAwcHg7CiAgICBoZWlnaHQ6IDVweDsKICAgIGJhY2tncm91bmQ6ICNkZWRlZGU7IC8qIE9sZCBicm93c2VycyAqLwogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAgI2RlZGVkZSAwJSwgI2M4YzhjOCA5OSUpOyAvKiBGRjMuNisgKi8KICAgIGJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGNvbG9yLXN0b3AoMCUsI2RlZGVkZSksIGNvbG9yLXN0b3AoOTklLCNjOGM4YzgpKTsgLyogQ2hyb21lLFNhZmFyaTQrICovCiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZGVkZWRlIDAlLCNjOGM4YzggOTklKTsgLyogQ2hyb21lMTArLFNhZmFyaTUuMSsgKi8KICAgIGJhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNkZWRlZGUgMCUsICNjOGM4YzggOTklKTsgLyogT3BlcmEgMTEuMTArICovCiAgICBiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgICNkZWRlZGUgMCUsI2M4YzhjOCA5OSUpOyAvKiBJRTEwKyAqLwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgICNkZWRlZGUgMCUsI2M4YzhjOCA5OSUpOyAvKiBXM0MgKi8KICAgIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KCBzdGFydENvbG9yc3RyPScjZGVkZWRlJywgZW5kQ29sb3JzdHI9JyNjOGM4YzgnLEdyYWRpZW50VHlwZT0wICk7IC8qIElFNi05ICovCgogICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTsKICAgIGJveC1zaGFkb3c6ICNhYWFhYWEgMHB4IDBweCAzcHggMHB4OwogICAgYm9yZGVyLXJhZGl1czogM3B4Owp9CmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2U6Oi13ZWJraXQtc2xpZGVyLXRodW1iIHsKICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICMxNDMzNGI7CiAgICBoZWlnaHQ6IDE3cHg7CiAgICB3aWR0aDogMTdweDsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGJhY2tncm91bmQ6ICMzODc2YzI7IC8qIE9sZCBicm93c2VycyAqLwogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAgIzM4NzZjMiAwJSwgIzM4NTM4MCAxMDAlKTsgLyogRkYzLjYrICovCiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBjb2xvci1zdG9wKDAlLCMzODc2YzIpLCBjb2xvci1zdG9wKDEwMCUsIzM4NTM4MCkpOyAvKiBDaHJvbWUsU2FmYXJpNCsgKi8KICAgIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgICMzODc2YzIgMCUsIzM4NTM4MCAxMDAlKTsgLyogQ2hyb21lMTArLFNhZmFyaTUuMSsgKi8KICAgIGJhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICAjMzg3NmMyIDAlLCMzODUzODAgMTAwJSk7IC8qIE9wZXJhIDExLjEwKyAqLwogICAgYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICAjMzg3NmMyIDAlLCMzODUzODAgMTAwJSk7IC8qIElFMTArICovCiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAgIzM4NzZjMiAwJSwjMzg1MzgwIDEwMCUpOyAvKiBXM0MgKi8KICAgIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KCBzdGFydENvbG9yc3RyPScjMzg3NmMyJywgZW5kQ29sb3JzdHI9JyMzODUzODAnLEdyYWRpZW50VHlwZT0wICk7IC8qIElFNi05ICovCiAgICBib3gtc2hhZG93OiAjMTExOTI3IDBweCAwcHggMXB4IDBweDsKICAgIG1hcmdpbi10b3A6IC03cHg7Cn0KaW5wdXQudmlzLW5ldHdvcmstY29uZmlndXJhdGlvbi5yYW5nZTpmb2N1cyB7CiAgICBvdXRsaW5lOiBub25lOwp9CmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2U6Zm9jdXM6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHsKICAgIGJhY2tncm91bmQ6ICM5ZDlkOWQ7IC8qIE9sZCBicm93c2VycyAqLwogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjOWQ5ZDlkIDAlLCAjYzhjOGM4IDk5JSk7IC8qIEZGMy42KyAqLwogICAgYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgY29sb3Itc3RvcCgwJSwjOWQ5ZDlkKSwgY29sb3Itc3RvcCg5OSUsI2M4YzhjOCkpOyAvKiBDaHJvbWUsU2FmYXJpNCsgKi8KICAgIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgICM5ZDlkOWQgMCUsI2M4YzhjOCA5OSUpOyAvKiBDaHJvbWUxMCssU2FmYXJpNS4xKyAqLwogICAgYmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgICM5ZDlkOWQgMCUsI2M4YzhjOCA5OSUpOyAvKiBPcGVyYSAxMS4xMCsgKi8KICAgIGJhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAgIzlkOWQ5ZCAwJSwjYzhjOGM4IDk5JSk7IC8qIElFMTArICovCiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAgIzlkOWQ5ZCAwJSwjYzhjOGM4IDk5JSk7IC8qIFczQyAqLwogICAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoIHN0YXJ0Q29sb3JzdHI9JyM5ZDlkOWQnLCBlbmRDb2xvcnN0cj0nI2M4YzhjOCcsR3JhZGllbnRUeXBlPTAgKTsgLyogSUU2LTkgKi8KfQoKaW5wdXQudmlzLW5ldHdvcmstY29uZmlndXJhdGlvbi5yYW5nZTo6LW1vei1yYW5nZS10cmFjayB7CiAgICB3aWR0aDogMzAwcHg7CiAgICBoZWlnaHQ6IDEwcHg7CiAgICBiYWNrZ3JvdW5kOiAjZGVkZWRlOyAvKiBPbGQgYnJvd3NlcnMgKi8KICAgIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgICNkZWRlZGUgMCUsICNjOGM4YzggOTklKTsgLyogRkYzLjYrICovCiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBjb2xvci1zdG9wKDAlLCNkZWRlZGUpLCBjb2xvci1zdG9wKDk5JSwjYzhjOGM4KSk7IC8qIENocm9tZSxTYWZhcmk0KyAqLwogICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAgI2RlZGVkZSAwJSwjYzhjOGM4IDk5JSk7IC8qIENocm9tZTEwKyxTYWZhcmk1LjErICovCiAgICBiYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZGVkZWRlIDAlLCAjYzhjOGM4IDk5JSk7IC8qIE9wZXJhIDExLjEwKyAqLwogICAgYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZGVkZWRlIDAlLCNjOGM4YzggOTklKTsgLyogSUUxMCsgKi8KICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICAjZGVkZWRlIDAlLCNjOGM4YzggOTklKTsgLyogVzNDICovCiAgICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudCggc3RhcnRDb2xvcnN0cj0nI2RlZGVkZScsIGVuZENvbG9yc3RyPScjYzhjOGM4JyxHcmFkaWVudFR5cGU9MCApOyAvKiBJRTYtOSAqLwoKICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk5OTk7CiAgICBib3gtc2hhZG93OiAjYWFhYWFhIDBweCAwcHggM3B4IDBweDsKICAgIGJvcmRlci1yYWRpdXM6IDNweDsKfQppbnB1dC52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLnJhbmdlOjotbW96LXJhbmdlLXRodW1iIHsKICAgIGJvcmRlcjogbm9uZTsKICAgIGhlaWdodDogMTZweDsKICAgIHdpZHRoOiAxNnB4OwoKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGJhY2tncm91bmQ6ICAjMzg1MzgwOwp9CgovKmhpZGUgdGhlIG91dGxpbmUgYmVoaW5kIHRoZSBib3JkZXIqLwppbnB1dC52aXMtbmV0d29yay1jb25maWd1cmF0aW9uLnJhbmdlOi1tb3otZm9jdXNyaW5newogICAgb3V0bGluZTogMXB4IHNvbGlkIHdoaXRlOwogICAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7Cn0KCmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2U6Oi1tcy10cmFjayB7CiAgICB3aWR0aDogMzAwcHg7CiAgICBoZWlnaHQ6IDVweDsKCiAgICAvKnJlbW92ZSBiZyBjb2xvdXIgZnJvbSB0aGUgdHJhY2ssIHdlJ2xsIHVzZSBtcy1maWxsLWxvd2VyIGFuZCBtcy1maWxsLXVwcGVyIGluc3RlYWQgKi8KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwoKICAgIC8qbGVhdmUgcm9vbSBmb3IgdGhlIGxhcmdlciB0aHVtYiB0byBvdmVyZmxvdyB3aXRoIGEgdHJhbnNwYXJlbnQgYm9yZGVyICovCiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OwogICAgYm9yZGVyLXdpZHRoOiA2cHggMDsKCiAgICAvKnJlbW92ZSBkZWZhdWx0IHRpY2sgbWFya3MqLwogICAgY29sb3I6IHRyYW5zcGFyZW50Owp9CmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2U6Oi1tcy1maWxsLWxvd2VyIHsKICAgIGJhY2tncm91bmQ6ICM3Nzc7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4Owp9CmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2U6Oi1tcy1maWxsLXVwcGVyIHsKICAgIGJhY2tncm91bmQ6ICNkZGQ7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4Owp9CmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2U6Oi1tcy10aHVtYiB7CiAgICBib3JkZXI6IG5vbmU7CiAgICBoZWlnaHQ6IDE2cHg7CiAgICB3aWR0aDogMTZweDsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGJhY2tncm91bmQ6ICAjMzg1MzgwOwp9CmlucHV0LnZpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24ucmFuZ2U6Zm9jdXM6Oi1tcy1maWxsLWxvd2VyIHsKICAgIGJhY2tncm91bmQ6ICM4ODg7Cn0KaW5wdXQudmlzLW5ldHdvcmstY29uZmlndXJhdGlvbi5yYW5nZTpmb2N1czo6LW1zLWZpbGwtdXBwZXIgewogICAgYmFja2dyb3VuZDogI2NjYzsKfQoKZGl2LnZpcy1jb2xvci1waWNrZXIgewogIHBvc2l0aW9uOmFic29sdXRlOwogIG1hcmdpbi10b3A6LTE0MHB4OwogIG1hcmdpbi1sZWZ0OjMwcHg7CiAgd2lkdGg6MjkzcHg7CiAgaGVpZ2h0OjQyNXB4OwogIHBhZGRpbmc6IDEwcHg7CiAgYm9yZGVyLXJhZGl1czoxNXB4OwogIGJhY2tncm91bmQtY29sb3I6I2ZmZmZmZjsKICBkaXNwbGF5Om5vbmU7CiAgYm94LXNoYWRvdzogcmdiYSgwLDAsMCwwLjUpIDBweCAwcHggMTBweCAwcHg7Cn0KCmRpdi52aXMtY29sb3ItcGlja2VyIGRpdi52aXMtYXJyb3cgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6MTQ3cHg7CiAgbGVmdDo1cHg7Cn0KCmRpdi52aXMtY29sb3ItcGlja2VyIGRpdi52aXMtYXJyb3c6YWZ0ZXIsCmRpdi52aXMtY29sb3ItcGlja2VyIGRpdi52aXMtYXJyb3c6YmVmb3JlIHsKICByaWdodDogMTAwJTsKICB0b3A6IDUwJTsKICBib3JkZXI6IHNvbGlkIHRyYW5zcGFyZW50OwogIGNvbnRlbnQ6ICIgIjsKICBoZWlnaHQ6IDA7CiAgd2lkdGg6IDA7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHBvaW50ZXItZXZlbnRzOiBub25lOwp9CgpkaXYudmlzLWNvbG9yLXBpY2tlciBkaXYudmlzLWFycm93OmFmdGVyIHsKICBib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7CiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjZmZmZmZmOwogIGJvcmRlci13aWR0aDogMzBweDsKICBtYXJnaW4tdG9wOiAtMzBweDsKfQoKZGl2LnZpcy1jb2xvci1waWNrZXIgZGl2LnZpcy1jb2xvciB7CiAgcG9zaXRpb246YWJzb2x1dGU7CiAgd2lkdGg6IDI4OXB4OwogIGhlaWdodDogMjg5cHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgoKCmRpdi52aXMtY29sb3ItcGlja2VyIGRpdi52aXMtYnJpZ2h0bmVzcyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDozMTNweDsKfQoKZGl2LnZpcy1jb2xvci1waWNrZXIgZGl2LnZpcy1vcGFjaXR5IHsKICBwb3NpdGlvbjphYnNvbHV0ZTsKICB0b3A6MzUwcHg7Cn0KCmRpdi52aXMtY29sb3ItcGlja2VyIGRpdi52aXMtc2VsZWN0b3IgewogIHBvc2l0aW9uOmFic29sdXRlOwogIHRvcDoxMzdweDsKICBsZWZ0OjEzN3B4OwogIHdpZHRoOjE1cHg7CiAgaGVpZ2h0OjE1cHg7CiAgYm9yZGVyLXJhZGl1czoxNXB4OwogIGJvcmRlcjoxcHggc29saWQgI2ZmZmZmZjsKICBiYWNrZ3JvdW5kOiAjNGM0YzRjOyAvKiBPbGQgYnJvd3NlcnMgKi8KICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICAjNGM0YzRjIDAlLCAjNTk1OTU5IDEyJSwgIzY2NjY2NiAyNSUsICM0NzQ3NDcgMzklLCAjMmMyYzJjIDUwJSwgIzAwMDAwMCA1MSUsICMxMTExMTEgNjAlLCAjMmIyYjJiIDc2JSwgIzFjMWMxYyA5MSUsICMxMzEzMTMgMTAwJSk7IC8qIEZGMy42KyAqLwogIGJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGNvbG9yLXN0b3AoMCUsIzRjNGM0YyksIGNvbG9yLXN0b3AoMTIlLCM1OTU5NTkpLCBjb2xvci1zdG9wKDI1JSwjNjY2NjY2KSwgY29sb3Itc3RvcCgzOSUsIzQ3NDc0NyksIGNvbG9yLXN0b3AoNTAlLCMyYzJjMmMpLCBjb2xvci1zdG9wKDUxJSwjMDAwMDAwKSwgY29sb3Itc3RvcCg2MCUsIzExMTExMSksIGNvbG9yLXN0b3AoNzYlLCMyYjJiMmIpLCBjb2xvci1zdG9wKDkxJSwjMWMxYzFjKSwgY29sb3Itc3RvcCgxMDAlLCMxMzEzMTMpKTsgLyogQ2hyb21lLFNhZmFyaTQrICovCiAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAgIzRjNGM0YyAwJSwjNTk1OTU5IDEyJSwjNjY2NjY2IDI1JSwjNDc0NzQ3IDM5JSwjMmMyYzJjIDUwJSwjMDAwMDAwIDUxJSwjMTExMTExIDYwJSwjMmIyYjJiIDc2JSwjMWMxYzFjIDkxJSwjMTMxMzEzIDEwMCUpOyAvKiBDaHJvbWUxMCssU2FmYXJpNS4xKyAqLwogIGJhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICAjNGM0YzRjIDAlLCM1OTU5NTkgMTIlLCM2NjY2NjYgMjUlLCM0NzQ3NDcgMzklLCMyYzJjMmMgNTAlLCMwMDAwMDAgNTElLCMxMTExMTEgNjAlLCMyYjJiMmIgNzYlLCMxYzFjMWMgOTElLCMxMzEzMTMgMTAwJSk7IC8qIE9wZXJhIDExLjEwKyAqLwogIGJhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAgIzRjNGM0YyAwJSwjNTk1OTU5IDEyJSwjNjY2NjY2IDI1JSwjNDc0NzQ3IDM5JSwjMmMyYzJjIDUwJSwjMDAwMDAwIDUxJSwjMTExMTExIDYwJSwjMmIyYjJiIDc2JSwjMWMxYzFjIDkxJSwjMTMxMzEzIDEwMCUpOyAvKiBJRTEwKyAqLwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICAjNGM0YzRjIDAlLCM1OTU5NTkgMTIlLCM2NjY2NjYgMjUlLCM0NzQ3NDcgMzklLCMyYzJjMmMgNTAlLCMwMDAwMDAgNTElLCMxMTExMTEgNjAlLCMyYjJiMmIgNzYlLCMxYzFjMWMgOTElLCMxMzEzMTMgMTAwJSk7IC8qIFczQyAqLwogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KCBzdGFydENvbG9yc3RyPScjNGM0YzRjJywgZW5kQ29sb3JzdHI9JyMxMzEzMTMnLEdyYWRpZW50VHlwZT0wICk7IC8qIElFNi05ICovCn0KCgoKZGl2LnZpcy1jb2xvci1waWNrZXIgZGl2LnZpcy1uZXctY29sb3IgewogIHBvc2l0aW9uOmFic29sdXRlOwogIHdpZHRoOjE0MHB4OwogIGhlaWdodDoyMHB4OwogIGJvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwwLjEpOwogIGJvcmRlci1yYWRpdXM6NXB4OwogIHRvcDozODBweDsKICBsZWZ0OjE1OXB4OwogIHRleHQtYWxpZ246cmlnaHQ7CiAgcGFkZGluZy1yaWdodDoycHg7CiAgZm9udC1zaXplOjEwcHg7CiAgY29sb3I6cmdiYSgwLDAsMCwwLjQpOwogIHZlcnRpY2FsLWFsaWduOm1pZGRsZTsKICBsaW5lLWhlaWdodDoyMHB4OwoKfQoKZGl2LnZpcy1jb2xvci1waWNrZXIgZGl2LnZpcy1pbml0aWFsLWNvbG9yIHsKICBwb3NpdGlvbjphYnNvbHV0ZTsKICB3aWR0aDoxNDBweDsKICBoZWlnaHQ6MjBweDsKICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4xKTsKICBib3JkZXItcmFkaXVzOjVweDsKICB0b3A6MzgwcHg7CiAgbGVmdDoxMHB4OwogIHRleHQtYWxpZ246bGVmdDsKICBwYWRkaW5nLWxlZnQ6MnB4OwogIGZvbnQtc2l6ZToxMHB4OwogIGNvbG9yOnJnYmEoMCwwLDAsMC40KTsKICB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7CiAgbGluZS1oZWlnaHQ6MjBweDsKfQoKZGl2LnZpcy1jb2xvci1waWNrZXIgZGl2LnZpcy1sYWJlbCB7CiAgcG9zaXRpb246YWJzb2x1dGU7CiAgd2lkdGg6MzAwcHg7CiAgbGVmdDoxMHB4Owp9CgpkaXYudmlzLWNvbG9yLXBpY2tlciBkaXYudmlzLWxhYmVsLnZpcy1icmlnaHRuZXNzIHsKICB0b3A6MzAwcHg7Cn0KCmRpdi52aXMtY29sb3ItcGlja2VyIGRpdi52aXMtbGFiZWwudmlzLW9wYWNpdHkgewogIHRvcDozMzhweDsKfQoKZGl2LnZpcy1jb2xvci1waWNrZXIgZGl2LnZpcy1idXR0b24gewogIHBvc2l0aW9uOmFic29sdXRlOwogIHdpZHRoOjY4cHg7CiAgaGVpZ2h0OjI1cHg7CiAgYm9yZGVyLXJhZGl1czoxMHB4OwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgdGV4dC1hbGlnbjpjZW50ZXI7CiAgbGluZS1oZWlnaHQ6IDI1cHg7CiAgdG9wOjQxMHB4OwogIGJvcmRlcjoycHggc29saWQgI2Q5ZDlkOTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3OwogIGN1cnNvcjpwb2ludGVyOwp9CgpkaXYudmlzLWNvbG9yLXBpY2tlciBkaXYudmlzLWJ1dHRvbi52aXMtY2FuY2VsIHsKICAvKmJvcmRlcjoycHggc29saWQgI2ZmNGUzMzsqLwogIC8qYmFja2dyb3VuZC1jb2xvcjogI2ZmNzc2MTsqLwogIGxlZnQ6NXB4Owp9CmRpdi52aXMtY29sb3ItcGlja2VyIGRpdi52aXMtYnV0dG9uLnZpcy1sb2FkIHsKICAvKmJvcmRlcjoycHggc29saWQgI2ExNTNlNjsqLwogIC8qYmFja2dyb3VuZC1jb2xvcjogI2NiOGRmZjsqLwogIGxlZnQ6ODJweDsKfQpkaXYudmlzLWNvbG9yLXBpY2tlciBkaXYudmlzLWJ1dHRvbi52aXMtYXBwbHkgewogIC8qYm9yZGVyOjJweCBzb2xpZCAjNDU4OGU2OyovCiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjODJiNmZmOyovCiAgbGVmdDoxNTlweDsKfQpkaXYudmlzLWNvbG9yLXBpY2tlciBkaXYudmlzLWJ1dHRvbi52aXMtc2F2ZSB7CiAgLypib3JkZXI6MnB4IHNvbGlkICM0NWU2NTU7Ki8KICAvKmJhY2tncm91bmQtY29sb3I6ICM2ZGZmN2M7Ki8KICBsZWZ0OjIzNnB4Owp9CgoKZGl2LnZpcy1jb2xvci1waWNrZXIgaW5wdXQudmlzLXJhbmdlIHsKICB3aWR0aDogMjkwcHg7CiAgaGVpZ2h0OjIwcHg7Cn0KCi8qIHZpc2pzIGZpeCBmb3IgcmVuZGVyaW5nIGdyb3VwIGJhY2tncm91bmQgY29sb3JzIGFib3ZlIHRoZSB0aW1lIGdyaWQgKi8KLnZpcy10aW1lLWF4aXMgeyB6LWluZGV4OiAxOyB9Ci52aXMtaXRlbSB7IHotaW5kZXg6IDI7IH0KLnZpcy1jdXJyZW50LXRpbWUgeyB6LWluZGV4OiAzOyB9CgovKiBTdHlsZSBwZXIgT01OSSBzdGFuZGFyZHMgKi8KLnZpcy1pdGVtIC52aXMtaXRlbS1jb250ZW50IHsgcGFkZGluZzogMXB4IDVweDsgfQoudmlzLXRpbWVsaW5lIHsgYm9yZGVyOiAxcHggc29saWQgIzY2NjY2NjsgYmFja2dyb3VuZC1jb2xvcjogI2NjY2M5OTsgei1pbmRleDogfQoudmlzLWxhYmVsc2V0IC52aXMtbGFiZWwgeyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzY2NjY2NjsgfQoudmlzLXBhbmVsLnZpcy1jZW50ZXIsIC52aXMtcGFuZWwudmlzLWxlZnQsIC52aXMtcGFuZWwudmlzLXJpZ2h0LCAudmlzLXBhbmVsLnZpcy10b3AsIC52aXMtcGFuZWwudmlzLWJvdHRvbSB7IGJvcmRlci1jb2xvcjogIzY2NjY2NjsgfQoudmlzLWZvcmVncm91bmQgLnZpcy1ncm91cCB7IGJhY2tncm91bmQtY29sb3I6ICNlZGVkY2Y7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjYzk5OyB9Ci52aXMtdGltZS1heGlzIC52aXMtZ3JpZC52aXMtbWFqb3IgeyBib3JkZXItY29sb3I6ICNjY2NjOTk7IH0KLnZpcy10aW1lLWF4aXMgLnZpcy1ncmlkLnZpcy1taW5vciB7IGJvcmRlci1jb2xvcjogI2ZmZmZjYzsgfQoKLyogQlJEIHN0eWxlcyAqLwpkaXYubGl0dGxlUmVkQm94IHsKICBmbG9hdDogbGVmdDsKICB3aWR0aDogMTRweDsKICBoZWlnaHQ6IDE0cHg7CiAgbWFyZ2luOiAxcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDsKfQpkaXYubGl0dGxlR29sZEJveCB7CiAgZmxvYXQ6IGxlZnQ7CiAgd2lkdGg6IDE0cHg7CiAgaGVpZ2h0OiAxNHB4OwogIG1hcmdpbjogMXB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmQ3MDA7Cn0KZGl2LmxpdHRsZUdyZWVuQm94IHsKICBmbG9hdDogbGVmdDsKICB3aWR0aDogMTRweDsKICBoZWlnaHQ6IDE0cHg7CiAgbWFyZ2luOiAxcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogIzAwOTkwMDsKfQpkaXYubGl0dGxlRG9kZ2VyQmx1ZUJveCB7CiAgZmxvYXQ6IGxlZnQ7CiAgd2lkdGg6IDE0cHg7CiAgaGVpZ2h0OiAxNHB4OwogIG1hcmdpbjogMXB4OwogIGJhY2tncm91bmQtY29sb3I6ICMxZTkwZmY7Cn0KZGl2LmxpdHRsZUxpZ2h0U2FsbW9uQm94IHsKICBmbG9hdDogbGVmdDsKICB3aWR0aDogMTRweDsKICBoZWlnaHQ6IDE0cHg7CiAgbWFyZ2luOiAxcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYTA3YTsKfQpkaXYubGl0dGxlU2lsdmVyQm94IHsKICBmbG9hdDogbGVmdDsKICB3aWR0aDogMTRweDsKICBoZWlnaHQ6IDE0cHg7CiAgbWFyZ2luOiAxcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDsKfQoudmlzLWN1cnJlbnQtdGltZSB7IHdpZHRoOiAwcHg7IGJvcmRlci1sZWZ0OiAycHggZGFzaGVkIHJlZDsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KCi52aXMtYmFja2dyb3VuZCAuY3VzdG9keSB7IGJhY2tncm91bmQtY29sb3I6ICNFREVEQ0Y7IH0KLmN1c3RvZHktcGxhbm5lZC1saWdodHBpbmsgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZiNmMxOyB9Ci5wbGFuLW5vdGUtdGhpc3RsZSB7IGJhY2tncm91bmQtY29sb3I6ICNkZmI4ZGY7IH0KLnByb2dyYW0tZWR1Y2F0aW9uYWwtcmVkIHsgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDsgfQoucHJvZ3JhbS1lbXBsb3ltZW50LWdvbGQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZkNzAwOyB9Ci5wcm9ncmFtLXRyYW5zLWdyZWVuIHsgYmFja2dyb3VuZC1jb2xvcjogIzAwOTkwMDsgfQoucHJvZ3JhbS1jb21wbC1kb2RnZXJibHVlIHsgYmFja2dyb3VuZC1jb2xvcjogIzFlOTBmZjsgfQoucHJvZ3JhbS1tZW50YWwtbGlnaHRzYWxtb24geyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZhMDdhOyB9Ci5wcm9ncmFtLWNoYW5nZS1zaWx2ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjMGMwOyB9CgovKiBoaWRlIGJvcmRlciBzZXBhcmF0aW5nIHRoZSBDdXN0b2R5L1N1cGVydmlzaW9uIFR5cGUgZ3JvdXBzICovCQoudmlzLWxhYmVsc2V0IC5zdWJncm91cC10b3Atbm8tYm9yZGVyIHsgCiAgYm9yZGVyLWJvdHRvbTogbm9uZTsgCn0KLnZpcy1sYWJlbHNldCAuc3ViZ3JvdXAtdG9wLW5lZWQtZm9jdXMgeyAKICBmb250LXdlaWdodDogYm9sZDsgCiAgLW1vei10ZXh0LWRlY29yYXRpb24tY29sb3I6IGJsdWU7IAogIHRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmx1ZTsgCiAgY29sb3I6IGJsdWU7IAogIGJvcmRlci1ib3R0b206IG5vbmU7IAogIGhlaWdodDogMjBweDsgCn0KLnZpcy1sYWJlbHNldCAuc3ViZ3JvdXAtdG9wLW5lZWQuZm9jdXMgewogIGZvbnQtd2VpZ2h0OiBib2xkOyAKICBjb2xvcjogYmx1ZTsgCn0KLnZpcy1sYWJlbHNldCAuc3ViZ3JvdXAtdG9wLW5lZWQucHJpbnQgewogIGZvbnQtd2VpZ2h0OiBub3JtYWw7IAogIGNvbG9yOiAjNGQ0ZDRkOyAKfQoudmlzLWxhYmVsc2V0IC5zdWJncm91cC10b3AtbmVlZCBhIHsgCiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Cn0KLnZpcy1sYWJlbHNldCAuc3ViZ3JvdXAtdG9wLW5lZWQgeyAKICBmb250LXdlaWdodDogbm9ybWFsOyAKICAtbW96LXRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmxhY2s7IAogIHRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmxhY2s7IAogIGNvbG9yOiBibGFjazsgCiAgYm9yZGVyLWJvdHRvbTogbm9uZTsgCiAgaGVpZ2h0OiAyMHB4OyAKfQoudmlzLWxhYmVsc2V0IC5zdWJncm91cC1ib3R0b20tbmVlZC1mb2N1cyB7IAogIGZvbnQtd2VpZ2h0OiBib2xkOyAKICAtbW96LXRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmx1ZTsgCiAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBibHVlOyAKICBjb2xvcjogYmx1ZTsgCn0KLnZpcy1sYWJlbHNldCAuc3ViZ3JvdXAtYm90dG9tLW5lZWQgeyAKICBmb250LXdlaWdodDogbm9ybWFsOyAKICAtbW96LXRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmxhY2s7IAogIHRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmxhY2s7IAogIGNvbG9yOiBibGFjazsgCn0KLnZpcy1ncm91cC5zdWJncm91cC10b3Atbm8tYm9yZGVyIHsgCiAgYm9yZGVyLWJvdHRvbTogbm9uZTsgCn0KLnZpcy1ncm91cC5zdWJncm91cC10b3AtbmVlZC1mb2N1cyB7IAogIGZvbnQtd2VpZ2h0OiBib2xkOyAKICAtbW96LXRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmx1ZTsgCiAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBibHVlOyAKICBjb2xvcjogYmx1ZTsgCiAgYm9yZGVyLWJvdHRvbTogbm9uZTsgCiAgaGVpZ2h0OiAyMHB4OyAKfQoudmlzLWdyb3VwLnN1Ymdyb3VwLXRvcC1uZWVkIHsgCiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsgCiAgLW1vei10ZXh0LWRlY29yYXRpb24tY29sb3I6IGJsYWNrOyAKICB0ZXh0LWRlY29yYXRpb24tY29sb3I6IGJsYWNrOyAKICBjb2xvcjogYmxhY2s7IAogIGJvcmRlci1ib3R0b206IG5vbmU7IAogIGhlaWdodDogMjBweDsgCn0KLnZpcy1ncm91cC5zdWJncm91cC1ib3R0b20tbmVlZC1mb2N1cyB7IAogIGZvbnQtd2VpZ2h0OiBib2xkOyAKICAtbW96LXRleHQtZGVjb3JhdGlvbi1jb2xvcjogYmx1ZTsgCiAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBibHVlOyAKICBjb2xvcjogYmx1ZTsgCn0KLnZpcy1ncm91cC5zdWJncm91cC1ib3R0b20tbmVlZCB7IAogIGZvbnQtd2VpZ2h0OiBub3JtYWw7IAogIC1tb3otdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBibGFjazsgCiAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBibGFjazsgCiAgY29sb3I6IGJsYWNrOyAKfQoKLnZpcy1iYWNrZ3JvdW5kIC50b2xsaW5nIHsgCiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjMDBmZjc0OyovCiAgYmFja2dyb3VuZDogcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgtODBkZWcsICNmZjAwMDAsICNmZjAwMDAgM3B4LCAjZmZmZmZmLCAjZmZmZmZmIDZweCk7CiAgLypwYWRkaW5nOiAxNXB4OyovIAogIG92ZXJmbG93OiBoaWRkZW47CiAgbWFyZ2luOiBhdXRvOwogIC8qcGFkZGluZy10b3A6IDUwcHg7Ki8KICAvKnBhZGRpbmctYm90dG9tOiA1MHB4OyovCn0KCi52aXMtYmFja2dyb3VuZCAudG9sbGluZyAudmlzLWl0ZW0tb3ZlcmZsb3cgewogIG1hcmdpbjogYXV0bzsKICAvKmJhY2tncm91bmQtY29sb3I6IHdoaXRlOyovCiAgd2lkdGg6IDIwcHg7Cn0KCi52aXMtYmFja2dyb3VuZCAudG9sbGluZyAudmlzLWl0ZW0tY29udGVudCB7IAogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwcHgpIHRyYW5zbGF0ZVkoMjMwcHgpIHJvdGF0ZSgtOTBkZWcpOyAKICBmb250LXdlaWdodDogYm9sZDsKICAvKiBhZGRzIGEgd2hpdGUgdGV4dCBvdXRsaW5lKi8KICB0ZXh0LXNoYWRvdzogLTFweCAtMXB4IDAgI2ZmZiwgMXB4IC0xcHggMCAjZmZmLCAtMXB4IDFweCAwICNmZmYsIDFweCAxcHggMCAjZmZmOwogIHBvc2l0aW9uOiBzdGF0aWM7CiAgZGlzcGxheTogYmxvY2s7Cn0KCi52aXMtYmFja2dyb3VuZCAuaW50ZXJydXB0aW9uIHsgYmFja2dyb3VuZC1jb2xvcjogcmVkOyB6LWluZGV4OiAyOyBvdmVyZmxvdzogaGlkZGVuOyB9Ci52aXMtYmFja2dyb3VuZCAuaW50ZXJydXB0aW9uIC52aXMtaXRlbS1vdmVyZmxvdyB7IG1hcmdpbjogYXV0bzsgd2lkdGg6IDE4cHg7IH0KLnZpcy1iYWNrZ3JvdW5kIC5pbnRlcnJ1cHRpb24gLnZpcy1pdGVtLWNvbnRlbnQgeyAKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMHB4KSB0cmFuc2xhdGVZKDIzMHB4KSByb3RhdGUoLTkwZGVnKTsgCiAgcG9zaXRpb246IHN0YXRpYzsKICBkaXNwbGF5OiBibG9jazsKfQoKLm5vdGVzIHsgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IH0KCi8qIFRPRE86IGlzIHRoaXMgcmVkdW5kYW50PwpkaXYudmlzLWNvbG9yLXBpY2tlciBpbnB1dC52aXMtcmFuZ2UtYnJpZ2h0bmVzcyB7CiAgd2lkdGg6IDI4OXB4ICFpbXBvcnRhbnQ7Cn0KCgpkaXYudmlzLWNvbG9yLXBpY2tlciBpbnB1dC52aXMtc2F0dXJhdGlvbi1yYW5nZSB7CiAgd2lkdGg6IDI4OXB4ICFpbXBvcnRhbnQ7Cn0qLw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707546" offset="0" length="8561" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="145" hostname="omniconv" path="/OMNIStatic/scripts/jquery/jquery-1.9.1.min.js" url="http://omniconv/OMNIStatic/scripts/jquery/jquery-1.9.1.min.js" ip="10.37.149.132" port="80" connectionId="9" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.394-07:00" startTime="102707546" endTime="102707562">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlTMkIwTHB1dlROcGpVK3JZY2pkdndDc25UT2lSRVpNY25URk5YQ3NxVks3QmdPQjc0OCtnYnRqV1FrWmVLNU8zZUl3SE1JWHhxeHV0Z0pJd0l6L0JHR1B4MUpySDB3a1VzL2JSYjN3T3pHT2Vpc3VsSkEzaXZSL2pTQWpJZzhlZFd4Q3RmdTFvV1RyMEg3eDZaUXo2TWErbHY1T3ZPSG5rMVoyN3pVQlEzSnZ1R1RXRXZJSE9KNE53Szl5cG9OY2VHdzhIOVZjTnhVRzFNK3c4K2JaRFRjcmlHc2xIOWtzdHFrU3hMMkRkaDMvdjZjeGRWUTFVTWxNb0o0ZnFkblNLdHJNV2xpamFKVUJBMytvMjUzTndMdW9BNnVyWkVxdFJKUGFaV1gwb2pCTXZWMGtBaFdpR2QrRlR2ekJYTnpqQUFxaG96MUozV2tFd0FSRVBWajF6MEhuNzJCbEN1Zkp0cXRURmhJL21RTnNudXRvQWMrSzYxMGJKWUp2cDRLYWZabjh4OHRFQjFCUitXbHk3WDRDQU5BdDJkWGI5b0RXTk9WVUlRcTJRZWd6ZG5zbitRYzRrSjhTM2ZrdEZzYTE4SS8vaEVoL215UUswRmd2UFVwalZWVXJDZ3FZNC9EV1FBcWl0VlJXMDRMY3JqcDNIQmZFRVl4WGFSRUUxbWRvL0FzMmpvSUp5SExtYUo4UEFTUUVkUWNCSlU5ellxVjVya0FKVnI2VlRLZ2hiOTYxdDFrUT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS0xLjkuMS5taW4uanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTIgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDVhY2M2ZGRhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFZUzJCMExwdXZUTnBqVStyWWNqZHZ3Q3NuVE9pUkVaTWNuVEZOWENzcVZLN0JnT0I3NDgrZ2J0aldRa1plSzVPM2VJd0hNSVh4cXh1dGdKSXdJei9CR0dQeDFKckgwd2tVcy9iUmIzd096R09laXN1bEpBM2l2Ui9qU0FqSWc4ZWRXeEN0ZnUxb1dUcjBIN3g2WlF6Nk1hK2x2NU92T0huazFaMjd6VUJRM0p2dUdUV0V2SUhPSjROd0s5eXBvTmNlR3c4SDlWY054VUcxTSt3OCtiWkRUY3JpR3NsSDlrc3Rxa1N4TDJEZGgzL3Y2Y3hkVlExVU1sTW9KNGZxZG5TS3RyTVdsaWphSlVCQTMrbzI1M053THVvQTZ1clpFcXRSSlBhWldYMG9qQk12VjBrQWhXaUdkK0ZUdnpCWE56akFBcWhvejFKM1drRXdBUkVQVmoxejBIbjcyQmxDdWZKdHF0VEZoSS9tUU5zbnV0b0FjK0s2MTBiSllKdnA0S2FmWm44eDh0RUIxQlIrV2x5N1g0Q0FOQXQyZFhiOW9EV05PVlVJUXEyUWVnemRuc24rUWM0a0o4UzNma3RGc2ExOEkvL2hFaC9teVFLMEZndlBVcGpWVlVyQ2dxWTQvRFdRQXFpdFZSVzA0TGNyanAzSEJmRUVZeFhhUkVFMW1kby9BczJqb0lKeUhMbWFKOFBBU1FFZFFjQkpVOXpZcVY1cmtBSlZyNlZUS2doYjk2MXQxa1E9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVXZ254OUErbjYwNTUxMVR0S0RyZmhNNmNrMllpeDh6S0ltUWkyNXh4Q2FxaGI4dStERUNHeDZDbDQxNnZwWGlvMlJ1ZldwNFV5YjgyNWpRWnVFUnBsQkVyQUFBSUJyd0VIZTRKMFdDVHFmOGhrTWdUZWNBbEJxYlVkcHRnR2RTNmJKU3Bjek1HWDN0NmlxUlNkejQ9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVXZ254OUErbjYwNTUxMVR0S0RyZmhNNmNrMllpeDh6S0ltUWkyNXh4Q2FxaGI4dStERUNHeDZDbDQxNnZwWGlvMlJ1ZldwNFV5YjgyNWpRWnVFUnBsQkVyQUFBSUJyd0VIZTRKMFdDVHFmOGhrTWdUZWNBbEJxYlVkcHRnR2RTNmJKU3Bjek1HWDN0NmlxUlNkejQ9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707562" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="147" hostname="omniconv" path="/OMNIStatic/scripts/jquery/jquery-extension-1.9.1.js" url="http://omniconv/OMNIStatic/scripts/jquery/jquery-extension-1.9.1.js" ip="10.37.149.132" port="80" connectionId="11" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.394-07:00" startTime="102707546" endTime="102707562">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJQWUwvSTFPckpXK0FySGtZQ2NCUFpoZm5UUW12aDVPU3h1a2RLV2QyWWlXanFvQlFtZWxOeHpCblorbVRybm0wY0ZnR3VkU2daMUk5V0o5U084dGpUVFZmbHl3ZHlpamMxMnZuWFI5RnNBMEh1YWNTUDBYQ2M3T3E0WmVYRjdqUDUwK2Zkb1E3MG01RWx6RFBRN1IxOFhOVGZrZkJhTndlRXk2SzRrem14OVh3NFdFRGZndnRKSWNkRnI3QTBuMHZyZzE2NWZHNW9SVnFnM0JNaGdBU0lNWjVnOXlKeUZBMjZVQW1KQnN3cjJBVzU4ekpML05ibWJ1WXpTWXQ0WXNRdEVlT2lKS2dOWWduakFOd3BnakRudDJJNEpicVZ6ZEdsemRzWlVnVVFjTVdUUDdRNmFkS3dPQlN0YXZHU3ZaVVVOTjU5QzFTYkVYZDFQWFlJT3B0VCtTbTdwayticXQyK0h1UlZpZzdyTVB4WER1QWtRMnRuMytMN29uMTBEMDZyRkVDVnd5bWUzeFJmZWFHZzNJNHhaQlFEOEhYMm5nUnlhN2luTWg1RVNoNWRkRElJTlo5WW1QQnNFMmJvNm1WR29qeWhvUDZlNExzdzBzaHgzdmwya29Tc1o0NWJ0TktWY0ZQaHZZRHpwR05WNCt1M3ZPUjUvZUFuU3A1a25oM1JvajJGRU8zQXFWeTJhUXMxdTJJbnNtVlQ2THBCejBKSHZvWHJXR3E0b2hnYlBoWEFKZz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS1leHRlbnNpb24tMS45LjEuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTIgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDVhY2M2ZGRhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFiUFlML0kxT3JKVytBckhrWUNjQlBaaGZuVFFtdmg1T1N4dWtkS1dkMllpV2pxb0JRbWVsTnh6Qm5aK21Ucm5tMGNGZ0d1ZFNnWjFJOVdKOVNPOHRqVFRWZmx5d2R5aWpjMTJ2blhSOUZzQTBIdWFjU1AwWENjN09xNFplWEY3alA1MCtmZG9RNzBtNUVsekRQUTdSMThYTlRma2ZCYU53ZUV5Nks0a3pteDlYdzRXRURmZ3Z0SkljZEZyN0EwbjB2cmcxNjVmRzVvUlZxZzNCTWhnQVNJTVo1Zzl5SnlGQTI2VUFtSkJzd3IyQVc1OHpKTC9OYm1idVl6U1l0NFlzUXRFZU9pSktnTllnbmpBTndwZ2pEbnQySTRKYnFWemRHbHpkc1pVZ1VRY01XVFA3UTZhZEt3T0JTdGF2R1N2WlVVTk41OUMxU2JFWGQxUFhZSU9wdFQrU203cGsrYnF0MitIdVJWaWc3ck1QeFhEdUFrUTJ0bjMrTDdvbjEwRDA2ckZFQ1Z3eW1lM3hSZmVhR2czSTR4WkJRRDhIWDJuZ1J5YTdpbk1oNUVTaDVkZERJSU5aOVltUEJzRTJibzZtVkdvanlob1A2ZTRMc3cwc2h4M3ZsMmtvU3NaNDVidE5LVmNGUGh2WUR6cEdOVjQrdTN2T1I1L2VBblNwNWtuaDNSb2oyRkVPM0FxVnkyYVFzMXUySW5zbVZUNkxwQnowSkh2b1hyV0dxNG9oZ2JQaFhBSmc9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV4T1Ayd3pEMDJwMTBTdkNzdUpkMWxCUlpuNytUSloybzdXRDlya3VORUNCQjBLYTQwb01Cd05GZ1FiV3lGQlAwT3lmRnFGQ3NLalYwc3M0bDIzR01xcDd1N2o1eUd0bDhmb044STFIMURuL2VpTzc0b0pCL1ZIczBLbkNsSmhSVndxUzVWcFF3ZHdnaGlncGxPTmc9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV4T1Ayd3pEMDJwMTBTdkNzdUpkMWxCUlpuNytUSloybzdXRDlya3VORUNCQjBLYTQwb01Cd05GZ1FiV3lGQlAwT3lmRnFGQ3NLalYwc3M0bDIzR01xcDd1N2o1eUd0bDhmb044STFIMURuL2VpTzc0b0pCL1ZIczBLbkNsSmhSVndxUzVWcFF3ZHdnaGlncGxPTmc9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707562" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="149" hostname="omniconv" path="/OMNIStatic/scripts/jquery/jquery-ui-extension.js" url="http://omniconv/OMNIStatic/scripts/jquery/jquery-ui-extension.js" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.394-07:00" startTime="102707562" endTime="102707562">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFKYVRjQ1pOVjNKRU50RW5mL2JLNnE0aW45aFFzQ3VBRmNoSk9LZzA4emtGb0N0V0tKWlY4TC9odkxhYUJrMkNacGRma04xRW9YV0l5ZGwzd0k3MTB4QzVPYjMvZ09PSkprNUhnM3Q2UjJETUNkWExWdFpEZDh3bDh2REVSSnZkWkpweWhncTBoeWQzZHExV28vZFZkOTZLT0wyUnFOT2MvcElldWtjWTFmZTJmODArMFB6aG96S1JEVjlSNVV0dFJhdjdRNWdnM05LZGxNdDR2clNPdmVZMVhEZlZQaEhBTzZiR3VRdjNJRnFSUjQ0Mjg5MTl0RjE0MHFENlE4TS8rODVmbm56T2VnbzBEbzZkSFNPN0hEYWFZR0Rad01TODdrNmhLR2syQkJNY1BIU1RBV2Q2ZWtVdlNIMUVVY05qcXVFNkZGVzJ0R3k2ZFJPQ0N2SnJFU05zc244bjE3UmRwOU5rc0pUYVZVUDJDT0p0aGR4UFZhd1NFU1BraTVtRFIvZjNzZlVHRTdENWpEZ2dEblFIZnIvVGpldVdFR3k0VGZ0NThPVkRUQnJ6bWUvU0JWWFBpK2FSS0ppazJBRjhyanZhYnF5UmJWSnowdDM2YnBiZ0NhVkxGekJGTlpLNjU0M1B1MERKdE8raW5ia21XNXYzNlRyV2tRZUFPaDM1ckFoaWdkUG8wZU02bHQzYXgrbHVRMTRRWlZvNlVpaHFKWkRGM0t1NHB5SkkxVXpPWHdUQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS11aS1leHRlbnNpb24uanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTIgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDVhY2M2ZGRhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFhSmFUY0NaTlYzSkVOdEVuZi9iSzZxNGluOWhRc0N1QUZjaEpPS2cwOHprRm9DdFdLSlpWOEwvaHZMYWFCazJDWnBkZmtOMUVvWFdJeWRsM3dJNzEweEM1T2IzL2dPT0pKazVIZzN0NlIyRE1DZFhMVnRaRGQ4d2w4dkRFUkp2ZFpKcHloZ3EwaHlkM2RxMVdvL2RWZDk2S09MMlJxTk9jL3BJZXVrY1kxZmUyZjgwKzBQemhvektSRFY5UjVVdHRSYXY3UTVnZzNOS2RsTXQ0dnJTT3ZlWTFYRGZWUGhIQU82Ykd1UXYzSUZxUlI0NDI4OTE5dEYxNDBxRDZROE0vKzg1Zm5uek9lZ28wRG82ZEhTTzdIRGFhWUdEWndNUzg3azZoS0drMkJCTWNQSFNUQVdkNmVrVXZTSDFFVWNOanF1RTZGRlcydEd5NmRST0NDdkpyRVNOc3NuOG4xN1JkcDlOa3NKVGFWVVAyQ09KdGhkeFBWYXdTRVNQa2k1bURSL2Yzc2ZVR0U3RDVqRGdnRG5RSGZyL1RqZXVXRUd5NFRmdDU4T1ZEVEJyem1lL1NCVlhQaSthUktKaWsyQUY4cmp2YWJxeVJiVkp6MHQzNmJwYmdDYVZMRnpCRk5aSzY1NDNQdTBESnRPK2luYmttVzV2MzZUcldrUWVBT2gzNXJBaGlnZFBvMGVNNmx0M2F4K2x1UTE0UVpWbzZVaWhxSlpERjNLdTRweUpJMVV6T1h3VEE9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUvNkNOQStQVHl2VlZVOVBJTlM1dm41Y1RWeUM5NnJSbG5qVGpldzVDYnIwRkJHMDg2YlJuVWxpUHpkUmZoQjBPbkgrdzRXYXBmREhiU0R0d3YrWE80RktkUzE4OGpXZWk5ZDJFUFpwVzJMelJXcDVoLzgraVFZUHN4bFUwa2ZwWVJITTRwWnQvSWJGWkFqUE4yVDg9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUvNkNOQStQVHl2VlZVOVBJTlM1dm41Y1RWeUM5NnJSbG5qVGpldzVDYnIwRkJHMDg2YlJuVWxpUHpkUmZoQjBPbkgrdzRXYXBmREhiU0R0d3YrWE80RktkUzE4OGpXZWk5ZDJFUFpwVzJMelJXcDVoLzgraVFZUHN4bFUwa2ZwWVJITTRwWnQvSWJGWkFqUE4yVDg9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707562" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="151" hostname="omniconv" path="/omni/dwr/engine.js" url="http://omniconv/omni/dwr/engine.js" ip="10.37.149.132" port="80" connectionId="5" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.394-07:00" startTime="102707562" endTime="102707578">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW9uLCAxMyBBdWcgMjAxOCAxNjoxMzo0NSBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjE1MzQxNzY4MjUwMDAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWEzUm9MOEJCSmYvREV3UXRpRWhqUEVEdERYWFRWQUdmeFpNRkxFK2NWNDZxTUFheTB5dm5xOGxDVllZbEtsa0lNaG5tOE8xT2RsbGxjZHAvZ0dySWlxeDdEUWRYTzI0VC8wNzAyOFZRcTEwTkNZZUNVTFV3UzFTM1RjOFhyKzhnbi9CVCt0NExZZm5qTmxZbncxQWdrcytqbXppMW1zd3pWU3UxZWlDZmdwNGVQNGcvZmkyYWEvTUpBT2xsWTFrMFhzeGVxU3JiM3plN0pRcDgxOGRGWGh0bGhzcDEzeXJySUdrOXowTGlJcDF3UXE4WHhOT3NYblRIWXZYRzdXSFdNVXFJU05BRnRER3VtUnk2TEJ6aXU0bHZrNndna3l6SG5HUS9lZndIbUVMTUFvYVRYL3VaZU9WK2o2VDZCVnZEM3FOQkhaMUxxMWRMNmtoazdnMzZYcG1BbEFUMCtmWElsWHozK1QvZDFjeFgvWnB1REJIK0JPV0U0dE1KR1ZubjExRlA0eFp6QTdZOHpEVUpVUnVwU2IybWRGQ2dQQUhpZEVUL1FFaGMwNm1rVXBpZmFEWGFLWWQ5cmROZGFQTzhQTng2ZzRSalRxOVdNVEZKalIyUmZXN1NsVnBoblBsMGJRekhURFU2b3V0bGJEREJkV3YxL2xHWGxrUGozWHppcmlCekFEdXVNN1JlUjUwM3U1K3k0THBkRkZkTXIwdW9EdjRhdUUwek50SzZyTVpMelE4UT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9vbW5pL2R3ci9lbmdpbmUuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IE1vbiwgMTMgQXVnIDIwMTggMTY6MTM6NDUgR01UDQpJZi1Ob25lLU1hdGNoOiAiMTUzNDE3NjgyNTAwMCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFhM1JvTDhCQkpmL0RFd1F0aUVoalBFRHREWFhUVkFHZnhaTUZMRStjVjQ2cU1BYXkweXZucThsQ1ZZWWxLbGtJTWhubThPMU9kbGxsY2RwL2dHcklpcXg3RFFkWE8yNFQvMDcwMjhWUXExME5DWWVDVUxVd1MxUzNUYzhYcis4Z24vQlQrdDRMWWZuak5sWW53MUFna3Mram16aTFtc3d6VlN1MWVpQ2ZncDRlUDRnL2ZpMmFhL01KQU9sbFkxazBYc3hlcVNyYjN6ZTdKUXA4MThkRlhodGxoc3AxM3lycklHazl6MExpSXAxd1FxOFh4Tk9zWG5USFl2WEc3V0hXTVVxSVNOQUZ0REd1bVJ5NkxCeml1NGx2azZ3Z2t5ekhuR1EvZWZ3SG1FTE1Bb2FUWC91WmVPVitqNlQ2QlZ2RDNxTkJIWjFMcTFkTDZraGs3ZzM2WHBtQWxBVDArZlhJbFh6MytUL2QxY3hYL1pwdURCSCtCT1dFNHRNSkdWbm4xMUZQNHhaekE3WTh6RFVKVVJ1cFNiMm1kRkNnUEFIaWRFVC9RRWhjMDZta1VwaWZhRFhhS1lkOXJkTmRhUE84UE54Nmc0UmpUcTlXTVRGSmpSMlJmVzdTbFZwaG5QbDBiUXpIVERVNm91dGxiRERCZFd2MS9sR1hsa1BqM1h6aXJpQnpBRHV1TTdSZVI1MDN1NSt5NExwZEZGZE1yMHVvRHY0YXVFMHpOdEs2ck1aTHpROFE9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Cache-Control" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>bXVzdC1yZXZhbGlkYXRlLCBwb3N0LWNoZWNrPTAsIHByZS1jaGVjaz0w</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Pragma" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>cHVibGlj</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Type" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9qYXZhc2NyaXB0OyBjaGFyc2V0PXV0Zi04</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Language" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Expires" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW9uLCAxMyBBdWcgMjAxOCAxNjoxMzo0NSBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjE1MzQxNzY4MjUwMDAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>V2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Persistent-Auth" index="11">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZmFsc2U=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="12">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="13">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVlckJDVzhNd0hwTkl3YlJycDlKeXdYM3JRa3R1K0N4VmVUZHNGdGhhRmcrc08zYVZaV3NudkRRTWwyLzVXYXRkc0hURnFsWHBZZjliNkhIWGFTeUpLNFpXaTNBalU4Q0ZjTU9VOUhTU0l1L0o2QzBYb25lTXJ2MXg1dFJ5Yk9vTTJqcmVHODdMM3FpVmFvZC9GM2M9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="14">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="15">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2xvc2U=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDYWNoZS1Db250cm9sOiBtdXN0LXJldmFsaWRhdGUsIHBvc3QtY2hlY2s9MCwgcHJlLWNoZWNrPTANClByYWdtYTogcHVibGljDQpDb250ZW50LVR5cGU6IHRleHQvamF2YXNjcmlwdDsgY2hhcnNldD11dGYtOA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KQ29udGVudC1MYW5ndWFnZTogZW4tVVMNCkV4cGlyZXM6IDANCkxhc3QtTW9kaWZpZWQ6IE1vbiwgMTMgQXVnIDIwMTggMTY6MTM6NDUgR01UDQpFVGFnOiAiMTUzNDE3NjgyNTAwMCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KU2VydmVyOiBXZWJTcGhlcmUgQXBwbGljYXRpb24gU2VydmVyLzcuMA0KUGVyc2lzdGVudC1BdXRoOiBmYWxzZQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdWVyQkNXOE13SHBOSXdiUnJwOUp5d1gzclFrdHUrQ3hWZVRkc0Z0aGFGZytzTzNhVlpXc252RFFNbDIvNVdhdGRzSFRGcWxYcFlmOWI2SEhYYVN5Sks0WldpM0FqVThDRmNNT1U5SFNTSXUvSjZDMFhvbmVNcnYxeDV0UnliT29NMmpyZUc4N0wzcWlWYW9kL0YzYz0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb25uZWN0aW9uOiBjbG9zZQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyoKICogQ29weXJpZ2h0IDIwMDUgSm9lIFdhbGtlcgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8qKgogKiBEZWNsYXJlIGFuIG9iamVjdCB0byB3aGljaCB3ZSBjYW4gYWRkIHJlYWwgZnVuY3Rpb25zLgogKi8KaWYgKGR3ciA9PSBudWxsKSB2YXIgZHdyID0ge307CmlmIChkd3IuZW5naW5lID09IG51bGwpIGR3ci5lbmdpbmUgPSB7fTsKaWYgKERXUkVuZ2luZSA9PSBudWxsKSB2YXIgRFdSRW5naW5lID0gZHdyLmVuZ2luZTsKCi8qKgogKiBTZXQgYW4gYWx0ZXJuYXRpdmUgZXJyb3IgaGFuZGxlciBmcm9tIHRoZSBkZWZhdWx0IGFsZXJ0IGJveC4KICogQHNlZSBnZXRhaGVhZC5vcmcvZHdyL2Jyb3dzZXIvZW5naW5lL2Vycm9ycwogKi8KZHdyLmVuZ2luZS5zZXRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7CiAgZHdyLmVuZ2luZS5fZXJyb3JIYW5kbGVyID0gaGFuZGxlcjsKfTsKCi8qKgogKiBTZXQgYW4gYWx0ZXJuYXRpdmUgd2FybmluZyBoYW5kbGVyIGZyb20gdGhlIGRlZmF1bHQgYWxlcnQgYm94LgogKiBAc2VlIGdldGFoZWFkLm9yZy9kd3IvYnJvd3Nlci9lbmdpbmUvZXJyb3JzCiAqLwpkd3IuZW5naW5lLnNldFdhcm5pbmdIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikgewogIGR3ci5lbmdpbmUuX3dhcm5pbmdIYW5kbGVyID0gaGFuZGxlcjsKfTsKCi8qKgogKiBTZXR0ZXIgZm9yIHRoZSB0ZXh0L2h0bWwgaGFuZGxlciAtIHdoYXQgaGFwcGVucyBpZiBhIERXUiByZXF1ZXN0IGdldHMgYW4gSFRNTAogKiByZXBseSByYXRoZXIgdGhhbiB0aGUgZXhwZWN0ZWQgSmF2YXNjcmlwdC4gT2Z0ZW4gZHVlIHRvIGxvZ2luIHRpbWVvdXQKICovCmR3ci5lbmdpbmUuc2V0VGV4dEh0bWxIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikgewogIGR3ci5lbmdpbmUuX3RleHRIdG1sSGFuZGxlciA9IGhhbmRsZXI7Cn07CgovKioKICogU2V0IGEgZGVmYXVsdCB0aW1lb3V0IHZhbHVlIGZvciBhbGwgY2FsbHMuIDAgKHRoZSBkZWZhdWx0KSB0dXJucyB0aW1lb3V0cyBvZmYuCiAqIEBzZWUgZ2V0YWhlYWQub3JnL2R3ci9icm93c2VyL2VuZ2luZS9lcnJvcnMKICovCmR3ci5lbmdpbmUuc2V0VGltZW91dCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICBkd3IuZW5naW5lLl90aW1lb3V0ID0gdGltZW91dDsKfTsKCi8qKgogKiBUaGUgUHJlLUhvb2sgaXMgY2FsbGVkIGJlZm9yZSBhbnkgRFdSIHJlbW90aW5nIGlzIGRvbmUuCiAqIEBzZWUgZ2V0YWhlYWQub3JnL2R3ci9icm93c2VyL2VuZ2luZS9ob29rcwogKi8KZHdyLmVuZ2luZS5zZXRQcmVIb29rID0gZnVuY3Rpb24oaGFuZGxlcikgewogIGR3ci5lbmdpbmUuX3ByZUhvb2sgPSBoYW5kbGVyOwp9OwoKLyoqCiAqIFRoZSBQb3N0LUhvb2sgaXMgY2FsbGVkIGFmdGVyIGFueSBEV1IgcmVtb3RpbmcgaXMgZG9uZS4KICogQHNlZSBnZXRhaGVhZC5vcmcvZHdyL2Jyb3dzZXIvZW5naW5lL2hvb2tzCiAqLwpkd3IuZW5naW5lLnNldFBvc3RIb29rID0gZnVuY3Rpb24oaGFuZGxlcikgewogIGR3ci5lbmdpbmUuX3Bvc3RIb29rID0gaGFuZGxlcjsKfTsKCi8qKgogKiBDdXN0b20gaGVhZGVycyBmb3IgYWxsIERXUiBjYWxscwogKiBAc2VlIGdldGFoZWFkLm9yZy9kd3IvPz8/PwogKi8KZHdyLmVuZ2luZS5zZXRIZWFkZXJzID0gZnVuY3Rpb24oaGVhZGVycykgewogIGR3ci5lbmdpbmUuX2hlYWRlcnMgPSBoZWFkZXJzOwp9OwoKLyoqCiAqIEN1c3RvbSBwYXJhbWV0ZXJzIGZvciBhbGwgRFdSIGNhbGxzCiAqIEBzZWUgZ2V0YWhlYWQub3JnL2R3ci8/Pz8/CiAqLwpkd3IuZW5naW5lLnNldFBhcmFtZXRlcnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7CiAgZHdyLmVuZ2luZS5fcGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7Cn07CgovKiogWEhSIHJlbW90aW5nIHR5cGUgY29uc3RhbnQuIFNlZSBkd3IuZW5naW5lLnNldFtScGN8UG9sbF1UeXBlKCkgKi8KZHdyLmVuZ2luZS5YTUxIdHRwUmVxdWVzdCA9IDE7CgovKiogWEhSIHJlbW90aW5nIHR5cGUgY29uc3RhbnQuIFNlZSBkd3IuZW5naW5lLnNldFtScGN8UG9sbF1UeXBlKCkgKi8KZHdyLmVuZ2luZS5JRnJhbWUgPSAyOwoKLyoqIFhIUiByZW1vdGluZyB0eXBlIGNvbnN0YW50LiBTZWUgZHdyLmVuZ2luZS5zZXRScGNUeXBlKCkgKi8KZHdyLmVuZ2luZS5TY3JpcHRUYWcgPSAzOwoKLyoqCiAqIFNldCB0aGUgcHJlZmVycmVkIHJlbW90aW5nIHR5cGUuCiAqIEBwYXJhbSBuZXdUeXBlIE9uZSBvZiBkd3IuZW5naW5lLlhNTEh0dHBSZXF1ZXN0IG9yIGR3ci5lbmdpbmUuSUZyYW1lIG9yIGR3ci5lbmdpbmUuU2NyaXB0VGFnCiAqIEBzZWUgZ2V0YWhlYWQub3JnL2R3ci9icm93c2VyL2VuZ2luZS9vcHRpb25zCiAqLwpkd3IuZW5naW5lLnNldFJwY1R5cGUgPSBmdW5jdGlvbihuZXdUeXBlKSB7CiAgaWYgKG5ld1R5cGUgIT0gZHdyLmVuZ2luZS5YTUxIdHRwUmVxdWVzdCAmJiBuZXdUeXBlICE9IGR3ci5lbmdpbmUuSUZyYW1lICYmIG5ld1R5cGUgIT0gZHdyLmVuZ2luZS5TY3JpcHRUYWcpIHsKICAgIGR3ci5lbmdpbmUuX2hhbmRsZUVycm9yKG51bGwsIHsgbmFtZToiZHdyLmVuZ2luZS5pbnZhbGlkUnBjVHlwZSIsIG1lc3NhZ2U6IlJwY1R5cGUgbXVzdCBiZSBvbmUgb2YgZHdyLmVuZ2luZS5YTUxIdHRwUmVxdWVzdCBvciBkd3IuZW5naW5lLklGcmFtZSBvciBkd3IuZW5naW5lLlNjcmlwdFRhZyIgfSk7CiAgICByZXR1cm47CiAgfQogIGR3ci5lbmdpbmUuX3JwY1R5cGUgPSBuZXdUeXBlOwp9OwoKLyoqCiAqIFdoaWNoIEhUVFAgbWV0aG9kIGRvIHdlIHVzZSB0byBzZW5kIHJlc3VsdHM/IE11c3QgYmUgb25lIG9mICJHRVQiIG9yICJQT1NUIi4KICogQHNlZSBnZXRhaGVhZC5vcmcvZHdyL2Jyb3dzZXIvZW5naW5lL29wdGlvbnMKICovCmR3ci5lbmdpbmUuc2V0SHR0cE1ldGhvZCA9IGZ1bmN0aW9uKGh0dHBNZXRob2QpIHsKICBpZiAoaHR0cE1ldGhvZCAhPSAiR0VUIiAmJiBodHRwTWV0aG9kICE9ICJQT1NUIikgewogICAgZHdyLmVuZ2luZS5faGFuZGxlRXJyb3IobnVsbCwgeyBuYW1lOiJkd3IuZW5naW5lLmludmFsaWRIdHRwTWV0aG9kIiwgbWVzc2FnZToiUmVtb3RpbmcgbWV0aG9kIG11c3QgYmUgb25lIG9mIEdFVCBvciBQT1NUIiB9KTsKICAgIHJldHVybjsKICB9CiAgZHdyLmVuZ2luZS5faHR0cE1ldGhvZCA9IGh0dHBNZXRob2Q7Cn07CgovKioKICogRW5zdXJlIHRoYXQgcmVtb3RlIGNhbGxzIGhhcHBlbiBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIHNlbnQ/IChEZWZhdWx0OiBmYWxzZSkKICogQHNlZSBnZXRhaGVhZC5vcmcvZHdyL2Jyb3dzZXIvZW5naW5lL29yZGVyaW5nCiAqLwpkd3IuZW5naW5lLnNldE9yZGVyZWQgPSBmdW5jdGlvbihvcmRlcmVkKSB7CiAgZHdyLmVuZ2luZS5fb3JkZXJlZCA9IG9yZGVyZWQ7Cn07CgovKioKICogRG8gd2UgYXNrIHRoZSBYSFIgb2JqZWN0IHRvIGJlIGFzeW5jaHJvbm91cz8gKERlZmF1bHQ6IHRydWUpCiAqIEBzZWUgZ2V0YWhlYWQub3JnL2R3ci9icm93c2VyL2VuZ2luZS9vcHRpb25zCiAqLwpkd3IuZW5naW5lLnNldEFzeW5jID0gZnVuY3Rpb24oYXN5bmMpIHsKICBkd3IuZW5naW5lLl9hc3luYyA9IGFzeW5jOwp9OwoKLyoqCiAqIERvZXMgRFdSIHBvbGwgdGhlIHNlcnZlciBmb3IgdXBkYXRlcz8gKERlZmF1bHQ6IGZhbHNlKQogKiBAc2VlIGdldGFoZWFkLm9yZy9kd3IvYnJvd3Nlci9lbmdpbmUvb3B0aW9ucwogKi8KZHdyLmVuZ2luZS5zZXRBY3RpdmVSZXZlcnNlQWpheCA9IGZ1bmN0aW9uKGFjdGl2ZVJldmVyc2VBamF4KSB7CiAgaWYgKGFjdGl2ZVJldmVyc2VBamF4KSB7CiAgICAvLyBCYWlsIGlmIHdlIGFyZSBhbHJlYWR5IHN0YXJ0ZWQKICAgIGlmIChkd3IuZW5naW5lLl9hY3RpdmVSZXZlcnNlQWpheCkgcmV0dXJuOwogICAgZHdyLmVuZ2luZS5fYWN0aXZlUmV2ZXJzZUFqYXggPSB0cnVlOwogICAgZHdyLmVuZ2luZS5fcG9sbCgpOwogIH0KICBlbHNlIHsKICAgIC8vIENhbiB3ZSBjYW5jZWwgYW4gZXhpc3RpbmcgcmVxdWVzdD8KICAgIGlmIChkd3IuZW5naW5lLl9hY3RpdmVSZXZlcnNlQWpheCAmJiBkd3IuZW5naW5lLl9wb2xsUmVxKSBkd3IuZW5naW5lLl9wb2xsUmVxLmFib3J0KCk7CiAgICBkd3IuZW5naW5lLl9hY3RpdmVSZXZlcnNlQWpheCA9IGZhbHNlOwogIH0KICAvLyBUT0RPOiBpbiBpZnJhbWUgbW9kZSwgaWYgd2Ugc3RhcnQsIHN0b3AsIHN0YXJ0IHRoZW4gdGhlIHNlY29uZCBzdGFydCBtYXkKICAvLyB3ZWxsIGtpY2sgb2ZmIGEgc2Vjb25kIGlmcmFtZSB3aGlsZSB0aGUgZmlyc3QgaXMgc3RpbGwgYWJvdXQgdG8gcmV0dXJuCiAgLy8gd2Ugc2hvdWxkIGNvcGUgd2l0aCB0aGlzIGJ1dCB3ZSBkb24ndAp9OwoKLyoqCiAqIFRoZSBkZWZhdWx0IG1lc3NhZ2UgaGFuZGxlci4KICogQHNlZSBnZXRhaGVhZC5vcmcvZHdyL2Jyb3dzZXIvZW5naW5lL2Vycm9ycwogKi8KZHdyLmVuZ2luZS5kZWZhdWx0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24obWVzc2FnZSwgZXgpIHsKICBkd3IuZW5naW5lLl9kZWJ1ZygiRXJyb3I6ICIgKyBleC5uYW1lICsgIiwgIiArIGV4Lm1lc3NhZ2UsIHRydWUpOwogIGlmIChtZXNzYWdlID09IG51bGwgfHwgbWVzc2FnZSA9PSAiIikgYWxlcnQoIkEgc2VydmVyIGVycm9yIGhhcyBvY2N1cmVkLiIpOwogIC8vIElnbm9yZSBOU19FUlJPUl9OT1RfQVZBSUxBQkxFIGlmIE1vemlsbGEgaXMgYmVpbmcgbmFya3kKICBlbHNlIGlmIChtZXNzYWdlLmluZGV4T2YoIjB4ODAwNDAxMTEiKSAhPSAtMSkgZHdyLmVuZ2luZS5fZGVidWcobWVzc2FnZSk7CiAgZWxzZSBhbGVydChtZXNzYWdlKTsKfTsKCi8qKgogKiBUaGUgZGVmYXVsdCB3YXJuaW5nIGhhbmRsZXIuCiAqIEBzZWUgZ2V0YWhlYWQub3JnL2R3ci9icm93c2VyL2VuZ2luZS9lcnJvcnMKICovCmR3ci5lbmdpbmUuZGVmYXVsdFdhcm5pbmdIYW5kbGVyID0gZnVuY3Rpb24obWVzc2FnZSwgZXgpIHsKICBkd3IuZW5naW5lLl9kZWJ1ZyhtZXNzYWdlKTsKfTsKCi8qKgogKiBGb3IgcmVkdWNlZCBsYXRlbmN5IHlvdSBjYW4gZ3JvdXAgc2V2ZXJhbCByZW1vdGUgY2FsbHMgdG9nZXRoZXIgdXNpbmcgYSBiYXRjaC4KICogQHNlZSBnZXRhaGVhZC5vcmcvZHdyL2Jyb3dzZXIvZW5naW5lL2JhdGNoCiAqLwpkd3IuZW5naW5lLmJlZ2luQmF0Y2ggPSBmdW5jdGlvbigpIHsKICBpZiAoZHdyLmVuZ2luZS5fYmF0Y2gpIHsKICAgIGR3ci5lbmdpbmUuX2hhbmRsZUVycm9yKG51bGwsIHsgbmFtZToiZHdyLmVuZ2luZS5iYXRjaEJlZ3VuIiwgbWVzc2FnZToiQmF0Y2ggYWxyZWFkeSBiZWd1biIgfSk7CiAgICByZXR1cm47CiAgfQogIGR3ci5lbmdpbmUuX2JhdGNoID0gZHdyLmVuZ2luZS5fY3JlYXRlQmF0Y2goKTsKfTsKCi8qKgogKiBGaW5pc2hlZCBncm91cGluZyBhIHNldCBvZiByZW1vdGUgY2FsbHMgdG9nZXRoZXIuIEdvIGFuZCBleGVjdXRlIHRoZW0gYWxsLgogKiBAc2VlIGdldGFoZWFkLm9yZy9kd3IvYnJvd3Nlci9lbmdpbmUvYmF0Y2gKICovCmR3ci5lbmdpbmUuZW5kQmF0Y2ggPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgdmFyIGJhdGNoID0gZHdyLmVuZ2luZS5fYmF0Y2g7CiAgaWYgKGJhdGNoID09IG51bGwpIHsKICAgIGR3ci5lbmdpbmUuX2hhbmRsZUVycm9yKG51bGwsIHsgbmFtZToiZHdyLmVuZ2luZS5iYXRjaE5vdEJlZ3VuIiwgbWVzc2FnZToiTm8gYmF0Y2ggaW4gcHJvZ3Jlc3MiIH0pOwogICAgcmV0dXJuOwogIH0KICBkd3IuZW5naW5lLl9iYXRjaCA9IG51bGw7CiAgaWYgKGJhdGNoLm1hcC5jYWxsQ291bnQgPT0gMCkgcmV0dXJuOwoKICAvLyBUaGUgaG9va3MgbmVlZCB0byBiZSBtZXJnZWQgY2FyZWZ1bGx5IHRvIHByZXNlcnZlIG9yZGVyaW5nCiAgaWYgKG9wdGlvbnMpIGR3ci5lbmdpbmUuX21lcmdlQmF0Y2goYmF0Y2gsIG9wdGlvbnMpOwoKICAvLyBJbiBvcmRlcmVkIG1vZGUsIHdlIGRvbid0IHNlbmQgdW5sZXNzIHRoZSBsaXN0IG9mIHNlbnQgaXRlbXMgaXMgZW1wdHkKICBpZiAoZHdyLmVuZ2luZS5fb3JkZXJlZCAmJiBkd3IuZW5naW5lLl9iYXRjaGVzTGVuZ3RoICE9IDApIHsKICAgIGR3ci5lbmdpbmUuX2JhdGNoUXVldWVbZHdyLmVuZ2luZS5fYmF0Y2hRdWV1ZS5sZW5ndGhdID0gYmF0Y2g7CiAgfQogIGVsc2UgewogICAgZHdyLmVuZ2luZS5fc2VuZERhdGEoYmF0Y2gpOwogIH0KfTsKCi8qKiBAZGVwcmVjYXRlZCAqLwpkd3IuZW5naW5lLnNldFBvbGxNZXRob2QgPSBmdW5jdGlvbih0eXBlKSB7IGR3ci5lbmdpbmUuc2V0UG9sbFR5cGUodHlwZSk7IH07CmR3ci5lbmdpbmUuc2V0TWV0aG9kID0gZnVuY3Rpb24odHlwZSkgeyBkd3IuZW5naW5lLnNldFJwY1R5cGUodHlwZSk7IH07CmR3ci5lbmdpbmUuc2V0VmVyYiA9IGZ1bmN0aW9uKHZlcmIpIHsgZHdyLmVuZ2luZS5zZXRIdHRwTWV0aG9kKHZlcmIpOyB9Owpkd3IuZW5naW5lLnNldFBvbGxUeXBlID0gZnVuY3Rpb24oKSB7IGR3ci5lbmdpbmUuX2RlYnVnKCJNYW51YWxseSBzZXR0aW5nIHRoZSBQb2xsIFR5cGUgaXMgbm90IHN1cHBvcnRlZCIpOyB9OwoKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gT25seSBwcml2YXRlIHN0dWZmIGJlbG93IGhlcmUKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8qKiBUaGUgb3JpZ2luYWwgcGFnZSBpZCBzZW50IGZyb20gdGhlIHNlcnZlciAqLwpkd3IuZW5naW5lLl9vcmlnU2NyaXB0U2Vzc2lvbklkID0gIkIzMjQ0OTY3MjMxOTc3RjM3RkVCOEQzNjI2ODc1QjdFIjsKCi8qKiBUaGUgc2Vzc2lvbiBjb29raWUgbmFtZSAqLwpkd3IuZW5naW5lLl9zZXNzaW9uQ29va2llTmFtZSA9ICJKU0VTU0lPTklEIjsgLy8gSlNFU1NJT05JRAoKLyoqIElzIEdFVCBlbmFibGVkIGZvciB0aGUgYmVuZWZpdCBvZiBTYWZhcmk/ICovCmR3ci5lbmdpbmUuX2FsbG93R2V0Rm9yU2FmYXJpQnV0TWFrZUZvcmdlcnlFYXNpZXIgPSAiZmFsc2UiOwoKLyoqIFRoZSBzY3JpcHQgcHJlZml4IHRvIHN0cmlwIGluIHRoZSBjYXNlIG9mIHNjcmlwdFRhZ1Byb3RlY3Rpb24uICovCmR3ci5lbmdpbmUuX3NjcmlwdFRhZ1Byb3RlY3Rpb24gPSAidGhyb3cgJ2FsbG93U2NyaXB0VGFnUmVtb3RpbmcgaXMgZmFsc2UuJzsiOwoKLyoqIFRoZSBkZWZhdWx0IHBhdGggdG8gdGhlIERXUiBzZXJ2bGV0ICovCmR3ci5lbmdpbmUuX2RlZmF1bHRQYXRoID0gIi9vbW5pL2R3ciI7CgovKiogRG8gd2UgdXNlIFhIUiBmb3IgcmV2ZXJzZSBhamF4IGJlY2F1c2Ugd2UgYXJlIG5vdCBzdHJlYW1pbmc/ICovCmR3ci5lbmdpbmUuX3BvbGxXaXRoWGhyID0gImZhbHNlIjsKCi8qKiBUaGUgcmVhZCBwYWdlIGlkIHRoYXQgd2UgY2FsY3VsYXRlICovCmR3ci5lbmdpbmUuX3NjcmlwdFNlc3Npb25JZCA9IG51bGw7CgovKiogVGhlIGZ1bmN0aW9uIHRoYXQgd2UgdXNlIHRvIGZldGNoL2NhbGN1bGF0ZSBhIHNlc3Npb24gaWQgKi8KZHdyLmVuZ2luZS5fZ2V0U2NyaXB0U2Vzc2lvbklkID0gZnVuY3Rpb24oKSB7CiAgaWYgKGR3ci5lbmdpbmUuX3NjcmlwdFNlc3Npb25JZCA9PSBudWxsKSB7CiAgICBkd3IuZW5naW5lLl9zY3JpcHRTZXNzaW9uSWQgPSBkd3IuZW5naW5lLl9vcmlnU2NyaXB0U2Vzc2lvbklkICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCk7CiAgfQogIHJldHVybiBkd3IuZW5naW5lLl9zY3JpcHRTZXNzaW9uSWQ7Cn07CgovKiogQSBmdW5jdGlvbiB0byBjYWxsIGlmIHNvbWV0aGluZyBmYWlscy4gKi8KZHdyLmVuZ2luZS5fZXJyb3JIYW5kbGVyID0gZHdyLmVuZ2luZS5kZWZhdWx0RXJyb3JIYW5kbGVyOwoKLyoqIEZvciBkZWJ1Z2dpbmcgd2hlbiBzb21ldGhpbmcgdW5leHBsYWluZWQgaGFwcGVucy4gKi8KZHdyLmVuZ2luZS5fd2FybmluZ0hhbmRsZXIgPSBkd3IuZW5naW5lLmRlZmF1bHRXYXJuaW5nSGFuZGxlcjsKCi8qKiBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBiZWZvcmUgcmVxdWVzdHMgYXJlIG1hcnNoYWxsZWQuIENhbiBiZSBudWxsLiAqLwpkd3IuZW5naW5lLl9wcmVIb29rID0gbnVsbDsKCi8qKiBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciByZXBsaWVzIGFyZSByZWNlaXZlZC4gQ2FuIGJlIG51bGwuICovCmR3ci5lbmdpbmUuX3Bvc3RIb29rID0gbnVsbDsKCi8qKiBBbiBtYXAgb2YgdGhlIGJhdGNoZXMgdGhhdCB3ZSBoYXZlIHNlbnQgYW5kIGFyZSBhd2FpdGluZyBhIHJlcGx5IG9uLiAqLwpkd3IuZW5naW5lLl9iYXRjaGVzID0ge307CgovKiogQSBjb3VudCBvZiB0aGUgbnVtYmVyIG9mIG91dHN0YW5kaW5nIGJhdGNoZXMuIFNob3VsZCBiZSA9PSB0byBfYmF0Y2hlcy5sZW5ndGggdW5sZXNzIHByb3RvdHlwZSBoYXMgbWVzc2VkIHRoaW5ncyB1cCAqLwpkd3IuZW5naW5lLl9iYXRjaGVzTGVuZ3RoID0gMDsKCi8qKiBJbiBvcmRlcmVkIG1vZGUsIHRoZSBhcnJheSBvZiBiYXRjaGVzIHdhaXRpbmcgdG8gYmUgc2VudCAqLwpkd3IuZW5naW5lLl9iYXRjaFF1ZXVlID0gW107CgovKiogV2hhdCBpcyB0aGUgZGVmYXVsdCBycGMgdHlwZSAqLwpkd3IuZW5naW5lLl9ycGNUeXBlID0gZHdyLmVuZ2luZS5YTUxIdHRwUmVxdWVzdDsKCi8qKiBXaGF0IGlzIHRoZSBkZWZhdWx0IHJlbW90aW5nIG1ldGhvZCAoaWUgR0VUIG9yIFBPU1QpICovCmR3ci5lbmdpbmUuX2h0dHBNZXRob2QgPSAiUE9TVCI7CgovKiogRG8gd2UgYXR0ZW1wdCB0byBlbnN1cmUgdGhhdCBjYWxscyBoYXBwZW4gaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgd2VyZSBzZW50PyAqLwpkd3IuZW5naW5lLl9vcmRlcmVkID0gZmFsc2U7CgovKiogRG8gd2UgbWFrZSB0aGUgY2FsbHMgYXN5bmM/ICovCmR3ci5lbmdpbmUuX2FzeW5jID0gdHJ1ZTsKCi8qKiBUaGUgY3VycmVudCBiYXRjaCAoaWYgd2UgYXJlIGluIGJhdGNoIG1vZGUpICovCmR3ci5lbmdpbmUuX2JhdGNoID0gbnVsbDsKCi8qKiBUaGUgZ2xvYmFsIHRpbWVvdXQgKi8KZHdyLmVuZ2luZS5fdGltZW91dCA9IDA7CgovKiogQWN0aXZlWCBvYmplY3RzIHRvIHVzZSB3aGVuIHdlIHdhbnQgdG8gY29udmVydCBhbiB4bWwgc3RyaW5nIGludG8gYSBET00gb2JqZWN0LiAqLwpkd3IuZW5naW5lLl9ET01Eb2N1bWVudCA9IFsiTXN4bWwyLkRPTURvY3VtZW50LjYuMCIsICJNc3htbDIuRE9NRG9jdW1lbnQuNS4wIiwgIk1zeG1sMi5ET01Eb2N1bWVudC40LjAiLCAiTXN4bWwyLkRPTURvY3VtZW50LjMuMCIsICJNU1hNTDIuRE9NRG9jdW1lbnQiLCAiTVNYTUwuRE9NRG9jdW1lbnQiLCAiTWljcm9zb2Z0LlhNTERPTSJdOwoKLyoqIFRoZSBBY3RpdmVYIG9iamVjdHMgdG8gdXNlIHdoZW4gd2Ugd2FudCB0byBkbyBhbiBYTUxIdHRwUmVxdWVzdCBjYWxsLiAqLwpkd3IuZW5naW5lLl9YTUxIVFRQID0gWyJNc3htbDIuWE1MSFRUUC42LjAiLCAiTXN4bWwyLlhNTEhUVFAuNS4wIiwgIk1zeG1sMi5YTUxIVFRQLjQuMCIsICJNU1hNTDIuWE1MSFRUUC4zLjAiLCAiTVNYTUwyLlhNTEhUVFAiLCAiTWljcm9zb2Z0LlhNTEhUVFAiXTsKCi8qKiBBcmUgd2UgZG9pbmcgY29tZXQgb3IgcG9sbGluZz8gKi8KZHdyLmVuZ2luZS5fYWN0aXZlUmV2ZXJzZUFqYXggPSBmYWxzZTsKCi8qKiBUaGUgaWZyYW1lIHRoYXQgd2UgYXJlIHVzaW5nIHRvIHBvbGwgKi8KZHdyLmVuZ2luZS5fb3V0c3RhbmRpbmdJRnJhbWVzID0gW107CgovKiogVGhlIHhociBvYmplY3QgdGhhdCB3ZSBhcmUgdXNpbmcgdG8gcG9sbCAqLwpkd3IuZW5naW5lLl9wb2xsUmVxID0gbnVsbDsKCi8qKiBIb3cgbWFueSBtaWxsaXNlY29uZHMgYmV0d2VlbiBpbnRlcm5hbCBjb21ldCBwb2xscyAqLwpkd3IuZW5naW5lLl9wb2xsQ29tZXRJbnRlcnZhbCA9IDIwMDsKCi8qKiBIb3cgbWFueSB0aW1lcyBoYXZlIHdlIHJlLXRyaWVkIHRvIHBvbGw/ICovCmR3ci5lbmdpbmUuX3BvbGxSZXRyaWVzID0gMDsKZHdyLmVuZ2luZS5fbWF4UG9sbFJldHJpZXMgPSAwOwoKLyoqIERvIHdlIGRvIGEgZG9jdW1lbnQucmVsb2FkIGlmIHdlIGdldCBhIHRleHQvaHRtbCByZXBseT8gKi8KZHdyLmVuZ2luZS5fdGV4dEh0bWxIYW5kbGVyID0gbnVsbDsKCi8qKiBJZiB5b3Ugd2lzaCB0byBzZW5kIGN1c3RvbSBoZWFkZXJzIHdpdGggZXZlcnkgcmVxdWVzdCAqLwpkd3IuZW5naW5lLl9oZWFkZXJzID0gbnVsbDsKCi8qKiBJZiB5b3Ugd2lzaCB0byBzZW5kIGV4dHJhIGN1c3RvbSByZXF1ZXN0IHBhcmFtZXRlcnMgd2l0aCBlYWNoIHJlcXVlc3QgKi8KZHdyLmVuZ2luZS5fcGFyYW1ldGVycyA9IG51bGw7CgovKiogVW5kb2N1bWVudGVkIGludGVyY2VwdG9ycyAtIGRvIG5vdCB1c2UgKi8KZHdyLmVuZ2luZS5fcG9zdFNlcGVyYXRvciA9ICJcbiI7CmR3ci5lbmdpbmUuX2RlZmF1bHRJbnRlcmNlcHRvciA9IGZ1bmN0aW9uKGRhdGEpIHsgcmV0dXJuIGRhdGE7IH07CmR3ci5lbmdpbmUuX3VybFJld3JpdGVIYW5kbGVyID0gZHdyLmVuZ2luZS5fZGVmYXVsdEludGVyY2VwdG9yOwpkd3IuZW5naW5lLl9jb250ZW50UmV3cml0ZUhhbmRsZXIgPSBkd3IuZW5naW5lLl9kZWZhdWx0SW50ZXJjZXB0b3I7CmR3ci5lbmdpbmUuX3JlcGx5UmV3cml0ZUhhbmRsZXIgPSBkd3IuZW5naW5lLl9kZWZhdWx0SW50ZXJjZXB0b3I7CgovKiogQmF0Y2ggaWRzIGFsbG93IHVzIHRvIGtub3cgd2hpY2ggYmF0Y2ggdGhlIHNlcnZlciBpcyBhbnN3ZXJpbmcgKi8KZHdyLmVuZ2luZS5fbmV4dEJhdGNoSWQgPSAwOwoKLyoqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IG5lZWQgbWVyZ2luZyBmcm9tIGNhbGxzIHRvIGEgYmF0Y2ggKi8KZHdyLmVuZ2luZS5fcHJvcG5hbWVzID0gWyAicnBjVHlwZSIsICJodHRwTWV0aG9kIiwgImFzeW5jIiwgInRpbWVvdXQiLCAiZXJyb3JIYW5kbGVyIiwgIndhcm5pbmdIYW5kbGVyIiwgInRleHRIdG1sSGFuZGxlciIgXTsKCi8qKiBEbyB3ZSBzdHJlYW0sIG9yIGNhbiBiZSBoYWNrZWQgdG8gZG8gc28/ICovCmR3ci5lbmdpbmUuX3BhcnRpYWxSZXNwb25zZU5vID0gMDsKZHdyLmVuZ2luZS5fcGFydGlhbFJlc3BvbnNlWWVzID0gMTsKZHdyLmVuZ2luZS5fcGFydGlhbFJlc3BvbnNlRmx1c2ggPSAyOwoKLyoqIElzIHRoaXMgcGFnZSBpbiB0aGUgcHJvY2VzcyBvZiB1bmxvYWRpbmc/ICovCmR3ci5lbmdpbmUuX3VubG9hZGluZyA9IGZhbHNlOwoKLyoqCiAqIEBwcml2YXRlIFNlbmQgYSByZXF1ZXN0LiBDYWxsZWQgYnkgdGhlIEphdmFzY3JpcHQgaW50ZXJmYWNlIHN0dWIKICogQHBhcmFtIHBhdGggcGFydCBvZiBVUkwgYWZ0ZXIgdGhlIGhvc3QgYW5kIGJlZm9yZSB0aGUgZXhlYyBiaXQgd2l0aG91dCBsZWFkaW5nIG9yIHRyYWlsaW5nIC9zCiAqIEBwYXJhbSBzY3JpcHROYW1lIFRoZSBjbGFzcyB0byBleGVjdXRlCiAqIEBwYXJhbSBtZXRob2ROYW1lIFRoZSBtZXRob2Qgb24gc2FpZCBjbGFzcyB0byBleGVjdXRlCiAqIEBwYXJhbSBmdW5jIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byB3aGljaCBhbnkgcmV0dXJuZWQgZGF0YSBzaG91bGQgYmUgcGFzc2VkCiAqICAgICAgIGlmIHRoaXMgaXMgbnVsbCwgYW55IHJldHVybmVkIGRhdGEgd2lsbCBiZSBpZ25vcmVkCiAqIEBwYXJhbSB2YXJhcmdfcGFyYW1zIFRoZSBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIGFib3ZlIGNsYXNzCiAqLwpkd3IuZW5naW5lLl9leGVjdXRlID0gZnVuY3Rpb24ocGF0aCwgc2NyaXB0TmFtZSwgbWV0aG9kTmFtZSwgdmFyYXJnX3BhcmFtcykgewogIHZhciBzaW5nbGVTaG90ID0gZmFsc2U7CiAgaWYgKGR3ci5lbmdpbmUuX2JhdGNoID09IG51bGwpIHsKICAgIGR3ci5lbmdpbmUuYmVnaW5CYXRjaCgpOwogICAgc2luZ2xlU2hvdCA9IHRydWU7CiAgfQogIHZhciBiYXRjaCA9IGR3ci5lbmdpbmUuX2JhdGNoOwogIC8vIFRvIG1ha2UgdGhlbSBlYXN5IHRvIG1hbmlwdWxhdGUgd2UgY29weSB0aGUgYXJndW1lbnRzIGludG8gYW4gYXJncyBhcnJheQogIHZhciBhcmdzID0gW107CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMzsgaSsrKSB7CiAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAzXTsKICB9CiAgLy8gQWxsIHRoZSBwYXRocyBNVVNUIGJlIHRvIHRoZSBzYW1lIHNlcnZsZXQKICBpZiAoYmF0Y2gucGF0aCA9PSBudWxsKSB7CiAgICBiYXRjaC5wYXRoID0gcGF0aDsKICB9CiAgZWxzZSB7CiAgICBpZiAoYmF0Y2gucGF0aCAhPSBwYXRoKSB7CiAgICAgIGR3ci5lbmdpbmUuX2hhbmRsZUVycm9yKGJhdGNoLCB7IG5hbWU6ImR3ci5lbmdpbmUubXVsdGlwbGVTZXJ2bGV0cyIsIG1lc3NhZ2U6IkNhbid0IGJhdGNoIHJlcXVlc3RzIHRvIG11bHRpcGxlIERXUiBTZXJ2bGV0cy4iIH0pOwogICAgICByZXR1cm47CiAgICB9CiAgfQogIC8vIEZyb20gdGhlIG90aGVyIHBhcmFtcywgd29yayBvdXQgd2hpY2ggaXMgdGhlIGZ1bmN0aW9uIChvciBvYmplY3Qgd2l0aAogIC8vIGNhbGwgbWV0YS1kYXRhKSBhbmQgd2hpY2ggaXMgdGhlIGNhbGwgcGFyYW1ldGVycwogIHZhciBjYWxsRGF0YTsKICB2YXIgbGFzdEFyZyA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTsKICBpZiAodHlwZW9mIGxhc3RBcmcgPT0gImZ1bmN0aW9uIiB8fCBsYXN0QXJnID09IG51bGwpIGNhbGxEYXRhID0geyBjYWxsYmFjazphcmdzLnBvcCgpIH07CiAgZWxzZSBjYWxsRGF0YSA9IGFyZ3MucG9wKCk7CgogIC8vIE1lcmdlIGZyb20gdGhlIGNhbGxEYXRhIGludG8gdGhlIGJhdGNoCiAgZHdyLmVuZ2luZS5fbWVyZ2VCYXRjaChiYXRjaCwgY2FsbERhdGEpOwogIGJhdGNoLmhhbmRsZXJzW2JhdGNoLm1hcC5jYWxsQ291bnRdID0gewogICAgZXhjZXB0aW9uSGFuZGxlcjpjYWxsRGF0YS5leGNlcHRpb25IYW5kbGVyLAogICAgY2FsbGJhY2s6Y2FsbERhdGEuY2FsbGJhY2sKICB9OwoKICAvLyBDb3B5IHRvIHRoZSBtYXAgdGhlIHRoaW5ncyB0aGF0IG5lZWQgc2VyaWFsaXppbmcKICB2YXIgcHJlZml4ID0gImMiICsgYmF0Y2gubWFwLmNhbGxDb3VudCArICItIjsKICBiYXRjaC5tYXBbcHJlZml4ICsgInNjcmlwdE5hbWUiXSA9IHNjcmlwdE5hbWU7CiAgYmF0Y2gubWFwW3ByZWZpeCArICJtZXRob2ROYW1lIl0gPSBtZXRob2ROYW1lOwogIGJhdGNoLm1hcFtwcmVmaXggKyAiaWQiXSA9IGJhdGNoLm1hcC5jYWxsQ291bnQ7CiAgdmFyIHJlZmN0eCA9IFtdOwogIGZvciAoaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICBkd3IuZW5naW5lLl9zZXJpYWxpemVBbGwoYmF0Y2gsIHJlZmN0eCwgYXJnc1tpXSwgcHJlZml4ICsgInBhcmFtIiArIGkpOwogIH0KCiAgLy8gTm93IHdlIGhhdmUgZmluaXNoZWQgcmVtZW1iZXJpbmcgdGhlIGNhbGwsIHdlIGluY3IgdGhlIGNhbGwgY291bnQKICBiYXRjaC5tYXAuY2FsbENvdW50Kys7CiAgaWYgKHNpbmdsZVNob3QpIGR3ci5lbmdpbmUuZW5kQmF0Y2goKTsKfTsKCi8qKiBAcHJpdmF0ZSBQb2xsIHRoZSBzZXJ2ZXIgdG8gc2VlIGlmIHRoZXJlIGlzIGFueSBkYXRhIHdhaXRpbmcgKi8KZHdyLmVuZ2luZS5fcG9sbCA9IGZ1bmN0aW9uKCkgewogIGlmICghZHdyLmVuZ2luZS5fYWN0aXZlUmV2ZXJzZUFqYXgpIHJldHVybjsKCiAgdmFyIGJhdGNoID0gZHdyLmVuZ2luZS5fY3JlYXRlQmF0Y2goKTsKICBiYXRjaC5tYXAuaWQgPSAwOyAvLyBUT0RPOiBEbyB3ZSBuZWVkIHRoaXM/PwogIGJhdGNoLm1hcC5jYWxsQ291bnQgPSAxOwogIGJhdGNoLmlzUG9sbCA9IHRydWU7CiAgaWYgKGR3ci5lbmdpbmUuX3BvbGxXaXRoWGhyID09ICJ0cnVlIikgewogICAgYmF0Y2gucnBjVHlwZSA9IGR3ci5lbmdpbmUuWE1MSHR0cFJlcXVlc3Q7CiAgICBiYXRjaC5tYXAucGFydGlhbFJlc3BvbnNlID0gZHdyLmVuZ2luZS5fcGFydGlhbFJlc3BvbnNlTm87CiAgfQogIGVsc2UgewogICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiR2Vja28vIikgIT0gLTEpIHsKICAgICAgYmF0Y2gucnBjVHlwZSA9IGR3ci5lbmdpbmUuWE1MSHR0cFJlcXVlc3Q7CiAgICAgIGJhdGNoLm1hcC5wYXJ0aWFsUmVzcG9uc2UgPSBkd3IuZW5naW5lLl9wYXJ0aWFsUmVzcG9uc2VZZXM7CiAgICB9CiAgICBlbHNlIHsKICAgICAgYmF0Y2gucnBjVHlwZSA9IGR3ci5lbmdpbmUuWE1MSHR0cFJlcXVlc3Q7CiAgICAgIGJhdGNoLm1hcC5wYXJ0aWFsUmVzcG9uc2UgPSBkd3IuZW5naW5lLl9wYXJ0aWFsUmVzcG9uc2VObzsKICAgIH0KICB9CiAgYmF0Y2guaHR0cE1ldGhvZCA9ICJQT1NUIjsKICBiYXRjaC5hc3luYyA9IHRydWU7CiAgYmF0Y2gudGltZW91dCA9IDA7CiAgYmF0Y2gucGF0aCA9IGR3ci5lbmdpbmUuX2RlZmF1bHRQYXRoOwogIGJhdGNoLnByZUhvb2tzID0gW107CiAgYmF0Y2gucG9zdEhvb2tzID0gW107CiAgYmF0Y2guZXJyb3JIYW5kbGVyID0gZHdyLmVuZ2luZS5fcG9sbEVycm9ySGFuZGxlcjsKICBiYXRjaC53YXJuaW5nSGFuZGxlciA9IGR3ci5lbmdpbmUuX3BvbGxFcnJvckhhbmRsZXI7CiAgYmF0Y2guaGFuZGxlcnNbMF0gPSB7CiAgICBjYWxsYmFjazpmdW5jdGlvbihwYXVzZSkgewogICAgICBkd3IuZW5naW5lLl9wb2xsUmV0cmllcyA9IDA7CiAgICAgIHNldFRpbWVvdXQoZHdyLmVuZ2luZS5fcG9sbCwgcGF1c2UpOwogICAgfQogIH07CgogIC8vIFNlbmQgdGhlIGRhdGEKICBkd3IuZW5naW5lLl9zZW5kRGF0YShiYXRjaCk7CiAgaWYgKGJhdGNoLnJwY1R5cGUgPT0gZHdyLmVuZ2luZS5YTUxIdHRwUmVxdWVzdCAmJiBiYXRjaC5tYXAucGFydGlhbFJlc3BvbnNlID09IGR3ci5lbmdpbmUuX3BhcnRpYWxSZXNwb25zZVllcykgewogICAgZHdyLmVuZ2luZS5fY2hlY2tDb21ldFBvbGwoKTsKICB9Cn07CgovKiogVHJ5IHRvIHJlY292ZXIgZnJvbSBwb2xsaW5nIGVycm9ycyAqLwpkd3IuZW5naW5lLl9wb2xsRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24obXNnLCBleCkgewogIC8vIGlmIGFueXRoaW5nIGdvZXMgd3JvbmcgdGhlbiBqdXN0IHNpbGVudGx5IHRyeSBhZ2FpbiAodXAgdG8gM3gpIGFmdGVyIDEwcwogIGR3ci5lbmdpbmUuX3BvbGxSZXRyaWVzKys7CiAgZHdyLmVuZ2luZS5fZGVidWcoIlJldmVyc2UgQWpheCBwb2xsIGZhaWxlZCAocG9sbFJldHJpZXM9IiArIGR3ci5lbmdpbmUuX3BvbGxSZXRyaWVzICsgIik6ICIgKyBleC5uYW1lICsgIiA6ICIgKyBleC5tZXNzYWdlKTsKICBpZiAoZHdyLmVuZ2luZS5fcG9sbFJldHJpZXMgPCBkd3IuZW5naW5lLl9tYXhQb2xsUmV0cmllcykgewogICAgc2V0VGltZW91dChkd3IuZW5naW5lLl9wb2xsLCAxMDAwMCk7CiAgfQogIGVsc2UgewogICAgZHdyLmVuZ2luZS5fYWN0aXZlUmV2ZXJzZUFqYXggPSBmYWxzZTsKICAgIGR3ci5lbmdpbmUuX2RlYnVnKCJHaXZpbmcgdXAuIik7CiAgfQp9OwoKLyoqIEBwcml2YXRlIEdlbmVyYXRlIGEgbmV3IHN0YW5kYXJkIGJhdGNoICovCmR3ci5lbmdpbmUuX2NyZWF0ZUJhdGNoID0gZnVuY3Rpb24oKSB7CiAgdmFyIGJhdGNoID0gewogICAgbWFwOnsKICAgICAgY2FsbENvdW50OjAsCiAgICAgIHBhZ2U6d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCwKICAgICAgaHR0cFNlc3Npb25JZDpkd3IuZW5naW5lLl9nZXRKU2Vzc2lvbklkKCksCiAgICAgIHNjcmlwdFNlc3Npb25JZDpkd3IuZW5naW5lLl9nZXRTY3JpcHRTZXNzaW9uSWQoKQogICAgfSwKICAgIGNoYXJzUHJvY2Vzc2VkOjAsIHBhcmFtQ291bnQ6MCwKICAgIHBhcmFtZXRlcnM6e30sIGhlYWRlcnM6e30sCiAgICBpc1BvbGw6ZmFsc2UsIGhhbmRsZXJzOnt9LCBwcmVIb29rczpbXSwgcG9zdEhvb2tzOltdLAogICAgcnBjVHlwZTpkd3IuZW5naW5lLl9ycGNUeXBlLAogICAgaHR0cE1ldGhvZDpkd3IuZW5naW5lLl9odHRwTWV0aG9kLAogICAgYXN5bmM6ZHdyLmVuZ2luZS5fYXN5bmMsCiAgICB0aW1lb3V0OmR3ci5lbmdpbmUuX3RpbWVvdXQsCiAgICBlcnJvckhhbmRsZXI6ZHdyLmVuZ2luZS5fZXJyb3JIYW5kbGVyLAogICAgd2FybmluZ0hhbmRsZXI6ZHdyLmVuZ2luZS5fd2FybmluZ0hhbmRsZXIsCiAgICB0ZXh0SHRtbEhhbmRsZXI6ZHdyLmVuZ2luZS5fdGV4dEh0bWxIYW5kbGVyCiAgfTsKICBpZiAoZHdyLmVuZ2luZS5fcHJlSG9vaykgYmF0Y2gucHJlSG9va3MucHVzaChkd3IuZW5naW5lLl9wcmVIb29rKTsKICBpZiAoZHdyLmVuZ2luZS5fcG9zdEhvb2spIGJhdGNoLnBvc3RIb29rcy5wdXNoKGR3ci5lbmdpbmUuX3Bvc3RIb29rKTsKICB2YXIgcHJvcG5hbWUsIGRhdGE7CiAgaWYgKGR3ci5lbmdpbmUuX2hlYWRlcnMpIHsKICAgIGZvciAocHJvcG5hbWUgaW4gZHdyLmVuZ2luZS5faGVhZGVycykgewogICAgICBkYXRhID0gZHdyLmVuZ2luZS5faGVhZGVyc1twcm9wbmFtZV07CiAgICAgIGlmICh0eXBlb2YgZGF0YSAhPSAiZnVuY3Rpb24iKSBiYXRjaC5oZWFkZXJzW3Byb3BuYW1lXSA9IGRhdGE7CiAgICB9CiAgfQogIGlmIChkd3IuZW5naW5lLl9wYXJhbWV0ZXJzKSB7CiAgICBmb3IgKHByb3BuYW1lIGluIGR3ci5lbmdpbmUuX3BhcmFtZXRlcnMpIHsKICAgICAgZGF0YSA9IGR3ci5lbmdpbmUuX3BhcmFtZXRlcnNbcHJvcG5hbWVdOwogICAgICBpZiAodHlwZW9mIGRhdGEgIT0gImZ1bmN0aW9uIikgYmF0Y2gucGFyYW1ldGVyc1twcm9wbmFtZV0gPSBkYXRhOwogICAgfQogIH0KICByZXR1cm4gYmF0Y2g7Cn07CgovKiogQHByaXZhdGUgVGFrZSBmdXJ0aGVyIG9wdGlvbnMgYW5kIG1lcmdlIHRoZW0gaW50byAqLwpkd3IuZW5naW5lLl9tZXJnZUJhdGNoID0gZnVuY3Rpb24oYmF0Y2gsIG92ZXJyaWRlcykgewogIHZhciBwcm9wbmFtZSwgZGF0YTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGR3ci5lbmdpbmUuX3Byb3BuYW1lcy5sZW5ndGg7IGkrKykgewogICAgcHJvcG5hbWUgPSBkd3IuZW5naW5lLl9wcm9wbmFtZXNbaV07CiAgICBpZiAob3ZlcnJpZGVzW3Byb3BuYW1lXSAhPSBudWxsKSBiYXRjaFtwcm9wbmFtZV0gPSBvdmVycmlkZXNbcHJvcG5hbWVdOwogIH0KICBpZiAob3ZlcnJpZGVzLnByZUhvb2sgIT0gbnVsbCkgYmF0Y2gucHJlSG9va3MudW5zaGlmdChvdmVycmlkZXMucHJlSG9vayk7CiAgaWYgKG92ZXJyaWRlcy5wb3N0SG9vayAhPSBudWxsKSBiYXRjaC5wb3N0SG9va3MucHVzaChvdmVycmlkZXMucG9zdEhvb2spOwogIGlmIChvdmVycmlkZXMuaGVhZGVycykgewogICAgZm9yIChwcm9wbmFtZSBpbiBvdmVycmlkZXMuaGVhZGVycykgewogICAgICBkYXRhID0gb3ZlcnJpZGVzLmhlYWRlcnNbcHJvcG5hbWVdOwogICAgICBpZiAodHlwZW9mIGRhdGEgIT0gImZ1bmN0aW9uIikgYmF0Y2guaGVhZGVyc1twcm9wbmFtZV0gPSBkYXRhOwogICAgfQogIH0KICBpZiAob3ZlcnJpZGVzLnBhcmFtZXRlcnMpIHsKICAgIGZvciAocHJvcG5hbWUgaW4gb3ZlcnJpZGVzLnBhcmFtZXRlcnMpIHsKICAgICAgZGF0YSA9IG92ZXJyaWRlcy5wYXJhbWV0ZXJzW3Byb3BuYW1lXTsKICAgICAgaWYgKHR5cGVvZiBkYXRhICE9ICJmdW5jdGlvbiIpIGJhdGNoLm1hcFsicC0iICsgcHJvcG5hbWVdID0gIiIgKyBkYXRhOwogICAgfQogIH0KfTsKCi8qKiBAcHJpdmF0ZSBXaGF0IGlzIG91ciBzZXNzaW9uIGlkPyAqLwpkd3IuZW5naW5lLl9nZXRKU2Vzc2lvbklkID0gIGZ1bmN0aW9uKCkgewogIHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgY29va2llID0gY29va2llc1tpXTsKICAgIHdoaWxlIChjb29raWUuY2hhckF0KDApID09ICcgJykgY29va2llID0gY29va2llLnN1YnN0cmluZygxLCBjb29raWUubGVuZ3RoKTsKICAgIGlmIChjb29raWUuaW5kZXhPZihkd3IuZW5naW5lLl9zZXNzaW9uQ29va2llTmFtZSArICI9IikgPT0gMCkgewogICAgICByZXR1cm4gY29va2llLnN1YnN0cmluZyhkd3IuZW5naW5lLl9zZXNzaW9uQ29va2llTmFtZS5sZW5ndGggKyAxLCBjb29raWUubGVuZ3RoKTsKICAgIH0KICB9CiAgcmV0dXJuICIiOwp9OwoKLyoqIEBwcml2YXRlIENoZWNrIGZvciByZXZlcnNlIEFqYXggYWN0aXZpdHkgKi8KZHdyLmVuZ2luZS5fY2hlY2tDb21ldFBvbGwgPSBmdW5jdGlvbigpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IGR3ci5lbmdpbmUuX291dHN0YW5kaW5nSUZyYW1lcy5sZW5ndGg7IGkrKykgewogICAgdmFyIHRleHQgPSAiIjsKICAgIHZhciBpZnJhbWUgPSBkd3IuZW5naW5lLl9vdXRzdGFuZGluZ0lGcmFtZXNbaV07CiAgICB0cnkgewogICAgICB0ZXh0ID0gZHdyLmVuZ2luZS5fZ2V0VGV4dEZyb21Db21ldElGcmFtZShpZnJhbWUpOwogICAgfQogICAgY2F0Y2ggKGV4KSB7CiAgICAgIGR3ci5lbmdpbmUuX2hhbmRsZVdhcm5pbmcoaWZyYW1lLmJhdGNoLCBleCk7CiAgICB9CiAgICBpZiAodGV4dCAhPSAiIikgZHdyLmVuZ2luZS5fcHJvY2Vzc0NvbWV0UmVzcG9uc2UodGV4dCwgaWZyYW1lLmJhdGNoKTsKICB9CiAgaWYgKGR3ci5lbmdpbmUuX3BvbGxSZXEpIHsKICAgIHZhciByZXEgPSBkd3IuZW5naW5lLl9wb2xsUmVxOwogICAgdmFyIHRleHQgPSByZXEucmVzcG9uc2VUZXh0OwogICAgaWYgKHRleHQgIT0gbnVsbCkgZHdyLmVuZ2luZS5fcHJvY2Vzc0NvbWV0UmVzcG9uc2UodGV4dCwgcmVxLmJhdGNoKTsKICB9CgogIC8vIElmIHRoZSBwb2xsIHJlc291cmNlcyBhcmUgc3RpbGwgdGhlcmUsIGNvbWUgYmFjayBhZ2FpbgogIGlmIChkd3IuZW5naW5lLl9vdXRzdGFuZGluZ0lGcmFtZXMubGVuZ3RoID4gMCB8fCBkd3IuZW5naW5lLl9wb2xsUmVxKSB7CiAgICBzZXRUaW1lb3V0KGR3ci5lbmdpbmUuX2NoZWNrQ29tZXRQb2xsLCBkd3IuZW5naW5lLl9wb2xsQ29tZXRJbnRlcnZhbCk7CiAgfQp9OwoKLyoqIEBwcml2YXRlIEV4dHJhY3QgdGhlIHdob2xlIChleGVjdXRlZCBhbiBhbGwpIHRleHQgZnJvbSB0aGUgY3VycmVudCBpZnJhbWUgKi8KZHdyLmVuZ2luZS5fZ2V0VGV4dEZyb21Db21ldElGcmFtZSA9IGZ1bmN0aW9uKGZyYW1lRWxlKSB7CiAgdmFyIGJvZHkgPSBmcmFtZUVsZS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHk7CiAgaWYgKGJvZHkgPT0gbnVsbCkgcmV0dXJuICIiOwogIHZhciB0ZXh0ID0gYm9keS5pbm5lckhUTUw7CiAgLy8gV2UgbmVlZCB0byBwcmV2ZW50IElFIGZyb20gc3RyaXBwaW5nIGxpbmUgZmVlZHMKICBpZiAodGV4dC5pbmRleE9mKCI8UFJFPiIpID09IDAgfHwgdGV4dC5pbmRleE9mKCI8cHJlPiIpID09IDApIHsKICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZyg1LCB0ZXh0Lmxlbmd0aCAtIDcpOwogIH0KICByZXR1cm4gdGV4dDsKfTsKCi8qKiBAcHJpdmF0ZSBTb21lIG1vcmUgdGV4dCBtaWdodCBoYXZlIGNvbWUgaW4sIHRlc3QgYW5kIGV4ZWN1dGUgdGhlIG5ldyBzdHVmZiAqLwpkd3IuZW5naW5lLl9wcm9jZXNzQ29tZXRSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlLCBiYXRjaCkgewogIGlmIChiYXRjaC5jaGFyc1Byb2Nlc3NlZCA9PSByZXNwb25zZS5sZW5ndGgpIHJldHVybjsKICBpZiAocmVzcG9uc2UubGVuZ3RoID09IDApIHsKICAgIGJhdGNoLmNoYXJzUHJvY2Vzc2VkID0gMDsKICAgIHJldHVybjsKICB9CgogIHZhciBmaXJzdFN0YXJ0VGFnID0gcmVzcG9uc2UuaW5kZXhPZigiLy8jRFdSLVNUQVJUIyIsIGJhdGNoLmNoYXJzUHJvY2Vzc2VkKTsKICBpZiAoZmlyc3RTdGFydFRhZyA9PSAtMSkgewogICAgLy8gZHdyLmVuZ2luZS5fZGVidWcoIk5vIHN0YXJ0IHRhZyAoc2VhcmNoIGZyb20gIiArIGJhdGNoLmNoYXJzUHJvY2Vzc2VkICsgIikuIHNraXBwaW5nICciICsgcmVzcG9uc2Uuc3Vic3RyaW5nKGJhdGNoLmNoYXJzUHJvY2Vzc2VkKSArICInIik7CiAgICBiYXRjaC5jaGFyc1Byb2Nlc3NlZCA9IHJlc3BvbnNlLmxlbmd0aDsKICAgIHJldHVybjsKICB9CiAgLy8gaWYgKGZpcnN0U3RhcnRUYWcgPiAwKSB7CiAgLy8gICBkd3IuZW5naW5lLl9kZWJ1ZygiU3RhcnQgdGFnIG5vdCBhdCBzdGFydCAoc2VhcmNoIGZyb20gIiArIGJhdGNoLmNoYXJzUHJvY2Vzc2VkICsgIikuIHNraXBwaW5nICciICsgcmVzcG9uc2Uuc3Vic3RyaW5nKGJhdGNoLmNoYXJzUHJvY2Vzc2VkLCBmaXJzdFN0YXJ0VGFnKSArICInIik7CiAgLy8gfQoKICB2YXIgbGFzdEVuZFRhZyA9IHJlc3BvbnNlLmxhc3RJbmRleE9mKCIvLyNEV1ItRU5EIyIpOwogIGlmIChsYXN0RW5kVGFnID09IC0xKSB7CiAgICAvLyBkd3IuZW5naW5lLl9kZWJ1ZygiTm8gZW5kIHRhZy4gdW5jaGFuZ2VkIGNoYXJzUHJvY2Vzc2VkPSIgKyBiYXRjaC5jaGFyc1Byb2Nlc3NlZCk7CiAgICByZXR1cm47CiAgfQoKICAvLyBTa2lwIHRoZSBlbmQgdGFnIHRvbyBmb3IgbmV4dCB0aW1lLCByZW1lbWJlcmluZyBDUiBhbmQgTEYKICBpZiAocmVzcG9uc2UuY2hhckNvZGVBdChsYXN0RW5kVGFnICsgMTEpID09IDEzICYmIHJlc3BvbnNlLmNoYXJDb2RlQXQobGFzdEVuZFRhZyArIDEyKSA9PSAxMCkgewogICAgYmF0Y2guY2hhcnNQcm9jZXNzZWQgPSBsYXN0RW5kVGFnICsgMTM7CiAgfQogIGVsc2UgewogICAgYmF0Y2guY2hhcnNQcm9jZXNzZWQgPSBsYXN0RW5kVGFnICsgMTE7CiAgfQoKICB2YXIgZXhlYyA9IHJlc3BvbnNlLnN1YnN0cmluZyhmaXJzdFN0YXJ0VGFnICsgMTMsIGxhc3RFbmRUYWcpOwoKICBkd3IuZW5naW5lLl9yZWNlaXZlZEJhdGNoID0gYmF0Y2g7CiAgZHdyLmVuZ2luZS5fZXZhbChleGVjKTsKICBkd3IuZW5naW5lLl9yZWNlaXZlZEJhdGNoID0gbnVsbDsKfTsKCi8qKiBAcHJpdmF0ZSBBY3R1YWxseSBzZW5kIHRoZSBibG9jayBvZiBkYXRhIGluIHRoZSBiYXRjaCBvYmplY3QuICovCmR3ci5lbmdpbmUuX3NlbmREYXRhID0gZnVuY3Rpb24oYmF0Y2gpIHsKICBiYXRjaC5tYXAuYmF0Y2hJZCA9IGR3ci5lbmdpbmUuX25leHRCYXRjaElkOwogIGR3ci5lbmdpbmUuX25leHRCYXRjaElkKys7CiAgZHdyLmVuZ2luZS5fYmF0Y2hlc1tiYXRjaC5tYXAuYmF0Y2hJZF0gPSBiYXRjaDsKICBkd3IuZW5naW5lLl9iYXRjaGVzTGVuZ3RoKys7CiAgYmF0Y2guY29tcGxldGVkID0gZmFsc2U7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2gucHJlSG9va3MubGVuZ3RoOyBpKyspIHsKICAgIGJhdGNoLnByZUhvb2tzW2ldKCk7CiAgfQogIGJhdGNoLnByZUhvb2tzID0gbnVsbDsKICAvLyBTZXQgYSB0aW1lb3V0CiAgaWYgKGJhdGNoLnRpbWVvdXQgJiYgYmF0Y2gudGltZW91dCAhPSAwKSB7CiAgICBiYXRjaC50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBkd3IuZW5naW5lLl9hYm9ydFJlcXVlc3QoYmF0Y2gpOyB9LCBiYXRjaC50aW1lb3V0KTsKICB9CiAgLy8gR2V0IHNldHVwIGZvciBYTUxIdHRwUmVxdWVzdCBpZiBwb3NzaWJsZQogIGlmIChiYXRjaC5ycGNUeXBlID09IGR3ci5lbmdpbmUuWE1MSHR0cFJlcXVlc3QpIHsKICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHsKICAgICAgYmF0Y2gucmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICB9CiAgICAvLyBJRTUgZm9yIHRoZSBtYWMgY2xhaW1zIHRvIHN1cHBvcnQgd2luZG93LkFjdGl2ZVhPYmplY3QsIGJ1dCB0aHJvd3MgYW4gZXJyb3Igd2hlbiBpdCdzIHVzZWQKICAgIGVsc2UgaWYgKHdpbmRvdy5BY3RpdmVYT2JqZWN0ICYmICEobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNYWMiKSA+PSAwICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSIpID49IDApKSB7CiAgICAgIGJhdGNoLnJlcSA9IGR3ci5lbmdpbmUuX25ld0FjdGl2ZVhPYmplY3QoZHdyLmVuZ2luZS5fWE1MSFRUUCk7CiAgICB9CiAgfQoKICB2YXIgcHJvcCwgcmVxdWVzdDsKICBpZiAoYmF0Y2gucmVxKSB7CiAgICAvLyBQcm9jZWVkIHVzaW5nIFhNTEh0dHBSZXF1ZXN0CiAgICBpZiAoYmF0Y2guYXN5bmMpIHsKICAgICAgYmF0Y2gucmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICh0eXBlb2YgZHdyICE9ICd1bmRlZmluZWQnKSBkd3IuZW5naW5lLl9zdGF0ZUNoYW5nZShiYXRjaCk7CiAgICAgIH07CiAgICB9CiAgICAvLyBJZiB3ZSdyZSBwb2xsaW5nLCByZWNvcmQgdGhpcyBmb3IgbW9uaXRvcmluZwogICAgaWYgKGJhdGNoLmlzUG9sbCkgewogICAgICBkd3IuZW5naW5lLl9wb2xsUmVxID0gYmF0Y2gucmVxOwogICAgICAvLyBJbiBJRSBYSFIgaXMgYW4gQWN0aXZlWCBjb250cm9sIHNvIHlvdSBjYW4ndCBhdWdtZW50IGl0IGxpa2UgdGhpcwogICAgICBpZiAoIShkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5vcGVyYSkpIGJhdGNoLnJlcS5iYXRjaCA9IGJhdGNoOwogICAgfQogICAgLy8gV29ya2Fyb3VuZCBmb3IgU2FmYXJpIDEueCBQT1NUIGJ1ZwogICAgdmFyIGluZGV4U2FmYXJpID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkvIik7CiAgICBpZiAoaW5kZXhTYWZhcmkgPj0gMCkgewogICAgICB2YXIgdmVyc2lvbiA9IG5hdmlnYXRvci51c2VyQWdlbnQuc3Vic3RyaW5nKGluZGV4U2FmYXJpICsgNyk7CiAgICAgIGlmIChwYXJzZUludCh2ZXJzaW9uLCAxMCkgPCA0MDApIHsKICAgICAgICBpZiAoZHdyLmVuZ2luZS5fYWxsb3dHZXRGb3JTYWZhcmlCdXRNYWtlRm9yZ2VyeUVhc2llciA9PSAidHJ1ZSIpIGJhdGNoLmh0dHBNZXRob2QgPSAiR0VUIjsKICAgICAgICBlbHNlIGR3ci5lbmdpbmUuX2hhbmRsZVdhcm5pbmcoYmF0Y2gsIHsgbmFtZToiZHdyLmVuZ2luZS5vbGRTYWZhcmkiLCBtZXNzYWdlOiJTYWZhcmkgR0VUIHN1cHBvcnQgZGlzYWJsZWQuIFNlZSBnZXRhaGVhZC5vcmcvZHdyL3NlcnZlci9zZXJ2bGV0IGFuZCBhbGxvd0dldEZvclNhZmFyaUJ1dE1ha2VGb3JnZXJ5RWFzaWVyLiIgfSk7CiAgICAgIH0KICAgIH0KICAgIGJhdGNoLm1vZGUgPSBiYXRjaC5pc1BvbGwgPyBkd3IuZW5naW5lLl9Nb2RlUGxhaW5Qb2xsIDogZHdyLmVuZ2luZS5fTW9kZVBsYWluQ2FsbDsKICAgIHJlcXVlc3QgPSBkd3IuZW5naW5lLl9jb25zdHJ1Y3RSZXF1ZXN0KGJhdGNoKTsKICAgIHRyeSB7CiAgICAgIGJhdGNoLnJlcS5vcGVuKGJhdGNoLmh0dHBNZXRob2QsIHJlcXVlc3QudXJsLCBiYXRjaC5hc3luYyk7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChwcm9wIGluIGJhdGNoLmhlYWRlcnMpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IGJhdGNoLmhlYWRlcnNbcHJvcF07CiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICJzdHJpbmciKSBiYXRjaC5yZXEuc2V0UmVxdWVzdEhlYWRlcihwcm9wLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmICghYmF0Y2guaGVhZGVyc1siQ29udGVudC1UeXBlIl0pIGJhdGNoLnJlcS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCAidGV4dC9wbGFpbiIpOwogICAgICB9CiAgICAgIGNhdGNoIChleCkgewogICAgICAgIGR3ci5lbmdpbmUuX2hhbmRsZVdhcm5pbmcoYmF0Y2gsIGV4KTsKICAgICAgfQogICAgICBiYXRjaC5yZXEuc2VuZChyZXF1ZXN0LmJvZHkpOwogICAgICBpZiAoIWJhdGNoLmFzeW5jKSBkd3IuZW5naW5lLl9zdGF0ZUNoYW5nZShiYXRjaCk7CiAgICB9CiAgICBjYXRjaCAoZXgpIHsKICAgICAgZHdyLmVuZ2luZS5faGFuZGxlRXJyb3IoYmF0Y2gsIGV4KTsKICAgIH0KICB9CiAgZWxzZSBpZiAoYmF0Y2gucnBjVHlwZSAhPSBkd3IuZW5naW5lLlNjcmlwdFRhZykgewogICAgdmFyIGlkbmFtZSA9IGJhdGNoLmlzUG9sbCA/ICJkd3ItaWYtcG9sbC0iICsgYmF0Y2gubWFwLmJhdGNoSWQgOiAiZHdyLWlmLSIgKyBiYXRjaC5tYXAuYmF0Y2hJZDsKICAgIC8vIFJlbW92ZWQgaHRtbGZpbGUgaW1wbGVtZW50YXRpb24uIERvbid0IGV4cGVjdCBpdCB0byByZXR1cm4gYmVmb3JlIHYzCiAgICBiYXRjaC5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIC8vIEFkZCB0aGUgZGl2IHRvIHRoZSBkb2N1bWVudCBmaXJzdCwgb3RoZXJ3aXNlIElFIDYgd2lsbCBpZ25vcmUgb25sb2FkIGhhbmRsZXIuCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhdGNoLmRpdik7CiAgICBiYXRjaC5kaXYuaW5uZXJIVE1MID0gIjxpZnJhbWUgc3JjPSdqYXZhc2NyaXB0OnZvaWQoMCknIGZyYW1lYm9yZGVyPScwJyBzdHlsZT0nd2lkdGg6MHB4O2hlaWdodDowcHg7Ym9yZGVyOjA7JyBpZD0nIiArIGlkbmFtZSArICInIG5hbWU9JyIgKyBpZG5hbWUgKyAiJyBvbmxvYWQ9J2R3ci5lbmdpbmUuX2lmcmFtZUxvYWRpbmdDb21wbGV0ZSAoIiArIGJhdGNoLm1hcC5iYXRjaElkICsgIik7Jz48L2lmcmFtZT4iOwogICAgYmF0Y2guZG9jdW1lbnQgPSBkb2N1bWVudDsKICAgIGJhdGNoLmlmcmFtZSA9IGJhdGNoLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkbmFtZSk7CiAgICBiYXRjaC5pZnJhbWUuYmF0Y2ggPSBiYXRjaDsKICAgIGJhdGNoLm1vZGUgPSBiYXRjaC5pc1BvbGwgPyBkd3IuZW5naW5lLl9Nb2RlSHRtbFBvbGwgOiBkd3IuZW5naW5lLl9Nb2RlSHRtbENhbGw7CiAgICBpZiAoYmF0Y2guaXNQb2xsKSBkd3IuZW5naW5lLl9vdXRzdGFuZGluZ0lGcmFtZXMucHVzaChiYXRjaC5pZnJhbWUpOwogICAgcmVxdWVzdCA9IGR3ci5lbmdpbmUuX2NvbnN0cnVjdFJlcXVlc3QoYmF0Y2gpOwogICAgaWYgKGJhdGNoLmh0dHBNZXRob2QgPT0gIkdFVCIpIHsKICAgICAgYmF0Y2guaWZyYW1lLnNldEF0dHJpYnV0ZSgic3JjIiwgcmVxdWVzdC51cmwpOwogICAgfQogICAgZWxzZSB7CiAgICAgIGJhdGNoLmZvcm0gPSBiYXRjaC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIik7CiAgICAgIGJhdGNoLmZvcm0uc2V0QXR0cmlidXRlKCJpZCIsICJkd3ItZm9ybSIpOwogICAgICBiYXRjaC5mb3JtLnNldEF0dHJpYnV0ZSgiYWN0aW9uIiwgcmVxdWVzdC51cmwpOwogICAgICBiYXRjaC5mb3JtLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZGlzcGxheTpub25lOyIpOwogICAgICBiYXRjaC5mb3JtLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgaWRuYW1lKTsKICAgICAgYmF0Y2guZm9ybS50YXJnZXQgPSBpZG5hbWU7CiAgICAgIGJhdGNoLmZvcm0uc2V0QXR0cmlidXRlKCJtZXRob2QiLCBiYXRjaC5odHRwTWV0aG9kKTsKICAgICAgZm9yIChwcm9wIGluIGJhdGNoLm1hcCkgewogICAgICAgIHZhciB2YWx1ZSA9IGJhdGNoLm1hcFtwcm9wXTsKICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIHZhciBmb3JtSW5wdXQgPSBiYXRjaC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgICAgZm9ybUlucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsICJoaWRkZW4iKTsKICAgICAgICAgIGZvcm1JbnB1dC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCBwcm9wKTsKICAgICAgICAgIGZvcm1JbnB1dC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgdmFsdWUpOwogICAgICAgICAgYmF0Y2guZm9ybS5hcHBlbmRDaGlsZChmb3JtSW5wdXQpOwogICAgICAgIH0KICAgICAgfQogICAgICBiYXRjaC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhdGNoLmZvcm0pOwogICAgICBiYXRjaC5mb3JtLnN1Ym1pdCgpOwogICAgfQogIH0KICBlbHNlIHsKICAgIGJhdGNoLmh0dHBNZXRob2QgPSAiR0VUIjsgLy8gVGhlcmUncyBubyBzdWNoIHRoaW5nIGFzIFNjcmlwdFRhZyB1c2luZyBQT1NUCiAgICBiYXRjaC5tb2RlID0gYmF0Y2guaXNQb2xsID8gZHdyLmVuZ2luZS5fTW9kZVBsYWluUG9sbCA6IGR3ci5lbmdpbmUuX01vZGVQbGFpbkNhbGw7CiAgICByZXF1ZXN0ID0gZHdyLmVuZ2luZS5fY29uc3RydWN0UmVxdWVzdChiYXRjaCk7CiAgICBiYXRjaC5zY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgIGJhdGNoLnNjcmlwdC5pZCA9ICJkd3Itc3QtIiArIGJhdGNoLm1hcFsiYzAtaWQiXTsKICAgIGJhdGNoLnNjcmlwdC5zcmMgPSByZXF1ZXN0LnVybDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYmF0Y2guc2NyaXB0KTsKICB9Cn07Cgpkd3IuZW5naW5lLl9Nb2RlUGxhaW5DYWxsID0gIi9jYWxsL3BsYWluY2FsbC8iOwpkd3IuZW5naW5lLl9Nb2RlSHRtbENhbGwgPSAiL2NhbGwvaHRtbGNhbGwvIjsKZHdyLmVuZ2luZS5fTW9kZVBsYWluUG9sbCA9ICIvY2FsbC9wbGFpbnBvbGwvIjsKZHdyLmVuZ2luZS5fTW9kZUh0bWxQb2xsID0gIi9jYWxsL2h0bWxwb2xsLyI7CgovKiogQHByaXZhdGUgV29yayBvdXQgd2hhdCB0aGUgVVJMIHNob3VsZCBsb29rIGxpa2UgKi8KZHdyLmVuZ2luZS5fY29uc3RydWN0UmVxdWVzdCA9IGZ1bmN0aW9uKGJhdGNoKSB7CiAgLy8gQSBxdWljayBzdHJpbmcgdG8gaGVscCBwZW9wbGUgdGhhdCB1c2Ugd2ViIGxvZyBhbmFseXNlcnMKICB2YXIgcmVxdWVzdCA9IHsgdXJsOmJhdGNoLnBhdGggKyBiYXRjaC5tb2RlLCBib2R5Om51bGwgfTsKICBpZiAoYmF0Y2guaXNQb2xsID09IHRydWUpIHsKICAgIHJlcXVlc3QudXJsICs9ICJSZXZlcnNlQWpheC5kd3IiOwogIH0KICBlbHNlIGlmIChiYXRjaC5tYXAuY2FsbENvdW50ID09IDEpIHsKICAgIHJlcXVlc3QudXJsICs9IGJhdGNoLm1hcFsiYzAtc2NyaXB0TmFtZSJdICsgIi4iICsgYmF0Y2gubWFwWyJjMC1tZXRob2ROYW1lIl0gKyAiLmR3ciI7CiAgfQogIGVsc2UgewogICAgcmVxdWVzdC51cmwgKz0gIk11bHRpcGxlLiIgKyBiYXRjaC5tYXAuY2FsbENvdW50ICsgIi5kd3IiOwogIH0KICAvLyBQbGF5IG5pY2Ugd2l0aCB1cmwgcmUtd3JpdGluZwogIHZhciBzZXNzaW9uTWF0Y2ggPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9qc2Vzc2lvbmlkPShbXj9dKykvKTsKICBpZiAoc2Vzc2lvbk1hdGNoICE9IG51bGwpIHsKICAgIHJlcXVlc3QudXJsICs9ICI7anNlc3Npb25pZD0iICsgc2Vzc2lvbk1hdGNoWzFdOwogIH0KCiAgdmFyIHByb3A7CiAgaWYgKGJhdGNoLmh0dHBNZXRob2QgPT0gIkdFVCIpIHsKICAgIC8vIFNvbWUgYnJvd3NlcnMgKE9wZXJhL1NhZmFyaTIpIHNlZW0gdG8gZmFpbCB0byBjb252ZXJ0IHRoZSBjYWxsQ291bnQgdmFsdWUKICAgIC8vIHRvIGEgc3RyaW5nIGluIHRoZSBsb29wIGJlbG93IHNvIHdlIGRvIGl0IG1hbnVhbGx5IGhlcmUuCiAgICBiYXRjaC5tYXAuY2FsbENvdW50ID0gIiIgKyBiYXRjaC5tYXAuY2FsbENvdW50OwogICAgcmVxdWVzdC51cmwgKz0gIj8iOwogICAgZm9yIChwcm9wIGluIGJhdGNoLm1hcCkgewogICAgICBpZiAodHlwZW9mIGJhdGNoLm1hcFtwcm9wXSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgcmVxdWVzdC51cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHByb3ApICsgIj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGJhdGNoLm1hcFtwcm9wXSkgKyAiJiI7CiAgICAgIH0KICAgIH0KICAgIHJlcXVlc3QudXJsID0gcmVxdWVzdC51cmwuc3Vic3RyaW5nKDAsIHJlcXVlc3QudXJsLmxlbmd0aCAtIDEpOwogIH0KICBlbHNlIHsKICAgIC8vIFBFUkZPUk1BTkNFOiBmb3IgaWZyYW1lIG1vZGUgdGhpcyBpcyB0aHJvd24gYXdheS4KICAgIHJlcXVlc3QuYm9keSA9ICIiOwogICAgaWYgKGRvY3VtZW50LmFsbCAmJiAhd2luZG93Lm9wZXJhKSB7CiAgICAgIC8vIFVzZSBhcnJheSBqb2luaW5nIG9uIElFIChmYXN0ZXN0KQogICAgICB2YXIgYnVmID0gW107CiAgICAgIGZvciAocHJvcCBpbiBiYXRjaC5tYXApIHsKICAgICAgICBpZiAodHlwZW9mIGJhdGNoLm1hcFtwcm9wXSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICBidWYucHVzaChwcm9wICsgIj0iICsgYmF0Y2gubWFwW3Byb3BdICsgZHdyLmVuZ2luZS5fcG9zdFNlcGVyYXRvcik7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJlcXVlc3QuYm9keSA9IGJ1Zi5qb2luKCIiKTsKICAgIH0KICAgIGVsc2UgewogICAgICAvLyBVc2Ugc3RyaW5nIGNvbmNhdCBvbiBvdGhlciBicm93c2VycyAoZmFzdGVzdCkKICAgICAgZm9yIChwcm9wIGluIGJhdGNoLm1hcCkgewogICAgICAgIGlmICh0eXBlb2YgYmF0Y2gubWFwW3Byb3BdICE9ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIHJlcXVlc3QuYm9keSArPSBwcm9wICsgIj0iICsgYmF0Y2gubWFwW3Byb3BdICsgZHdyLmVuZ2luZS5fcG9zdFNlcGVyYXRvcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJlcXVlc3QuYm9keSA9IGR3ci5lbmdpbmUuX2NvbnRlbnRSZXdyaXRlSGFuZGxlcihyZXF1ZXN0LmJvZHkpOwogIH0KICByZXF1ZXN0LnVybCA9IGR3ci5lbmdpbmUuX3VybFJld3JpdGVIYW5kbGVyKHJlcXVlc3QudXJsKTsKICByZXR1cm4gcmVxdWVzdDsKfTsKCi8qKiBAcHJpdmF0ZSBDYWxsZWQgYnkgWE1MSHR0cFJlcXVlc3QgdG8gaW5kaWNhdGUgdGhhdCBzb21ldGhpbmcgaGFzIGhhcHBlbmVkICovCmR3ci5lbmdpbmUuX3N0YXRlQ2hhbmdlID0gZnVuY3Rpb24oYmF0Y2gpIHsKICB2YXIgdG9FdmFsOwoKICBpZiAoYmF0Y2guY29tcGxldGVkKSB7CiAgICBkd3IuZW5naW5lLl9kZWJ1ZygiRXJyb3I6IF9zdGF0ZUNoYW5nZSgpIHdpdGggYmF0Y2guY29tcGxldGVkIik7CiAgICByZXR1cm47CiAgfQoKICB2YXIgcmVxID0gYmF0Y2gucmVxOwogIHRyeSB7CiAgICBpZiAocmVxLnJlYWR5U3RhdGUgIT0gNCkgcmV0dXJuOwogIH0KICBjYXRjaCAoZXgpIHsKICAgIGR3ci5lbmdpbmUuX2hhbmRsZVdhcm5pbmcoYmF0Y2gsIGV4KTsKICAgIC8vIEl0J3MgYnJva2VuIC0gY2xlYXIgdXAgYW5kIGZvcmdldCB0aGlzIGNhbGwKICAgIGR3ci5lbmdpbmUuX2NsZWFyVXAoYmF0Y2gpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKGR3ci5lbmdpbmUuX3VubG9hZGluZykgewogICAgZHdyLmVuZ2luZS5fZGVidWcoIklnbm9yaW5nIHJlcGx5IGZyb20gc2VydmVyIGFzIHBhZ2UgaXMgdW5sb2FkaW5nLiIpOwogICAgcmV0dXJuOwogIH0KICAKICB0cnkgewogICAgdmFyIHJlcGx5ID0gcmVxLnJlc3BvbnNlVGV4dDsKICAgIHJlcGx5ID0gZHdyLmVuZ2luZS5fcmVwbHlSZXdyaXRlSGFuZGxlcihyZXBseSk7CiAgICB2YXIgc3RhdHVzID0gcmVxLnN0YXR1czsgLy8gY2F1c2VzIE1vemlsbGEgdG8gZXhjZXB0IG9uIHBhZ2UgbW92ZXMKCiAgICBpZiAocmVwbHkgPT0gbnVsbCB8fCByZXBseSA9PSAiIikgewogICAgICBkd3IuZW5naW5lLl9oYW5kbGVXYXJuaW5nKGJhdGNoLCB7IG5hbWU6ImR3ci5lbmdpbmUubWlzc2luZ0RhdGEiLCBtZXNzYWdlOiJObyBkYXRhIHJlY2VpdmVkIGZyb20gc2VydmVyIiB9KTsKICAgIH0KICAgIGVsc2UgaWYgKHN0YXR1cyAhPSAyMDApIHsKICAgICAgZHdyLmVuZ2luZS5faGFuZGxlRXJyb3IoYmF0Y2gsIHsgbmFtZToiZHdyLmVuZ2luZS5odHRwLiIgKyBzdGF0dXMsIG1lc3NhZ2U6cmVxLnN0YXR1c1RleHQgfSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgdmFyIGNvbnRlbnRUeXBlID0gcmVxLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTsKICAgICAgaWYgKCFjb250ZW50VHlwZS5tYXRjaCgvXnRleHRcL3BsYWluLykgJiYgIWNvbnRlbnRUeXBlLm1hdGNoKC9edGV4dFwvamF2YXNjcmlwdC8pKSB7CiAgICAgICAgaWYgKGNvbnRlbnRUeXBlLm1hdGNoKC9edGV4dFwvaHRtbC8pICYmIHR5cGVvZiBiYXRjaC50ZXh0SHRtbEhhbmRsZXIgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgYmF0Y2gudGV4dEh0bWxIYW5kbGVyKHsgc3RhdHVzOnN0YXR1cywgcmVzcG9uc2VUZXh0OnJlcGx5LCBjb250ZW50VHlwZTpjb250ZW50VHlwZSB9KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICBkd3IuZW5naW5lLl9oYW5kbGVXYXJuaW5nKGJhdGNoLCB7IG5hbWU6ImR3ci5lbmdpbmUuaW52YWxpZE1pbWVUeXBlIiwgbWVzc2FnZToiSW52YWxpZCBjb250ZW50IHR5cGU6ICciICsgY29udGVudFR5cGUgKyAiJyIgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIC8vIENvbWV0IHJlcGxpZXMgbWlnaHQgaGF2ZSBhbHJlYWR5IHBhcnRpYWxseSBleGVjdXRlZAogICAgICAgIGlmIChiYXRjaC5pc1BvbGwgJiYgYmF0Y2gubWFwLnBhcnRpYWxSZXNwb25zZSA9PSBkd3IuZW5naW5lLl9wYXJ0aWFsUmVzcG9uc2VZZXMpIHsKICAgICAgICAgIGR3ci5lbmdpbmUuX3Byb2Nlc3NDb21ldFJlc3BvbnNlKHJlcGx5LCBiYXRjaCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgaWYgKHJlcGx5LnNlYXJjaCgiLy8jRFdSIikgPT0gLTEpIHsKICAgICAgICAgICAgZHdyLmVuZ2luZS5faGFuZGxlV2FybmluZyhiYXRjaCwgeyBuYW1lOiJkd3IuZW5naW5lLmludmFsaWRSZXBseSIsIG1lc3NhZ2U6IkludmFsaWQgcmVwbHkgZnJvbSBzZXJ2ZXIiIH0pOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRvRXZhbCA9IHJlcGx5OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICBjYXRjaCAoZXgpIHsKICAgIGR3ci5lbmdpbmUuX2hhbmRsZVdhcm5pbmcoYmF0Y2gsIGV4KTsKICB9CgogIGR3ci5lbmdpbmUuX2NhbGxQb3N0SG9va3MoYmF0Y2gpOwoKICAvLyBPdXRzaWRlIG9mIHRoZSB0cnkvY2F0Y2ggc28gZXJyb3JzIHByb3BvZ2F0ZSBub3JtYWxseToKICBkd3IuZW5naW5lLl9yZWNlaXZlZEJhdGNoID0gYmF0Y2g7CiAgaWYgKHRvRXZhbCAhPSBudWxsKSB0b0V2YWwgPSB0b0V2YWwucmVwbGFjZShkd3IuZW5naW5lLl9zY3JpcHRUYWdQcm90ZWN0aW9uLCAiIik7CiAgZHdyLmVuZ2luZS5fZXZhbCh0b0V2YWwpOwogIGR3ci5lbmdpbmUuX3JlY2VpdmVkQmF0Y2ggPSBudWxsOwogIGR3ci5lbmdpbmUuX3ZhbGlkYXRlQmF0Y2goYmF0Y2gpOwogIGlmICghYmF0Y2guY29tcGxldGVkKSBkd3IuZW5naW5lLl9jbGVhclVwKGJhdGNoKTsKfTsKCi8qKgogKiBAcHJpdmF0ZSBUaGlzIGZ1bmN0aW9uIGlzIGludm9rZWQgd2hlbiBhIGJhdGNoIHJlcGx5IGlzIHJlY2VpdmVkLgogKiBJdCBjaGVja3MgdGhhdCB0aGVyZSBpcyBhIHJlc3BvbnNlIGZvciBldmVyeSBjYWxsIGluIHRoZSBiYXRjaC4gT3RoZXJ3aXNlLAogKiBhbiBlcnJvciB3aWxsIGJlIHNpZ25hbGVkIChhIGNhbGwgd2l0aG91dCBhIHJlc3BvbnNlIGluZGljYXRlcyB0aGF0IHRoZSAKICogc2VydmVyIGZhaWxlZCB0byBzZW5kIGNvbXBsZXRlIGJhdGNoIHJlc3BvbnNlKS4gCiAqLwpkd3IuZW5naW5lLl92YWxpZGF0ZUJhdGNoID0gZnVuY3Rpb24oYmF0Y2gpIHsKICAvLyBJZiBzb21lIGNhbGwgbGVmdCB1bnJlcGxpZWQsIHJlcG9ydCBhbiBlcnJvci4KICBpZiAoIWJhdGNoLmNvbXBsZXRlZCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaC5tYXAuY2FsbENvdW50OyBpKyspIHsKICAgICAgaWYgKGJhdGNoLmhhbmRsZXJzW2ldICE9IG51bGwpIHsKICAgICAgICBkd3IuZW5naW5lLl9oYW5kbGVXYXJuaW5nKGJhdGNoLCB7IG5hbWU6ImR3ci5lbmdpbmUuaW5jb21wbGV0ZVJlcGx5IiwgbWVzc2FnZToiSW5jb21wbGV0ZSByZXBseSBmcm9tIHNlcnZlciIgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9Cn0KCi8qKiBAcHJpdmF0ZSBDYWxsZWQgZnJvbSBpZnJhbWUgb25sb2FkLCBjaGVjayBiYXRjaCB1c2luZyBiYXRjaC1pZCAqLwpkd3IuZW5naW5lLl9pZnJhbWVMb2FkaW5nQ29tcGxldGUgPSBmdW5jdGlvbihiYXRjaElkKSB7CiAgLy8gZHdyLmVuZ2luZS5fY2hlY2tDb21ldFBvbGwoKTsKICB2YXIgYmF0Y2ggPSBkd3IuZW5naW5lLl9iYXRjaGVzW2JhdGNoSWRdOwogIGlmIChiYXRjaCkgZHdyLmVuZ2luZS5fdmFsaWRhdGVCYXRjaChiYXRjaCk7Cn0KCi8qKiBAcHJpdmF0ZSBDYWxsZWQgYnkgdGhlIHNlcnZlcjogRXhlY3V0ZSBhIGNhbGxiYWNrICovCmR3ci5lbmdpbmUuX3JlbW90ZUhhbmRsZUNhbGxiYWNrID0gZnVuY3Rpb24oYmF0Y2hJZCwgY2FsbElkLCByZXBseSkgewogIHZhciBiYXRjaCA9IGR3ci5lbmdpbmUuX2JhdGNoZXNbYmF0Y2hJZF07CiAgaWYgKGJhdGNoID09IG51bGwpIHsKICAgIGR3ci5lbmdpbmUuX2RlYnVnKCJXYXJuaW5nOiBiYXRjaCA9PSBudWxsIGluIHJlbW90ZUhhbmRsZUNhbGxiYWNrIGZvciBiYXRjaElkPSIgKyBiYXRjaElkLCB0cnVlKTsKICAgIHJldHVybjsKICB9CiAgLy8gRXJyb3IgaGFuZGxlcnMgaW5zaWRlIGhlcmUgaW5kaWNhdGUgYW4gZXJyb3IgdGhhdCBpcyBub3RoaW5nIHRvIGRvCiAgLy8gd2l0aCBEV1Igc28gd2UgaGFuZGxlIHRoZW0gZGlmZmVyZW50bHkuCiAgdHJ5IHsKICAgIHZhciBoYW5kbGVycyA9IGJhdGNoLmhhbmRsZXJzW2NhbGxJZF07CiAgICBiYXRjaC5oYW5kbGVyc1tjYWxsSWRdID0gbnVsbDsKICAgIGlmICghaGFuZGxlcnMpIHsKICAgICAgZHdyLmVuZ2luZS5fZGVidWcoIldhcm5pbmc6IE1pc3NpbmcgaGFuZGxlcnMuIGNhbGxJZD0iICsgY2FsbElkLCB0cnVlKTsKICAgIH0KICAgIGVsc2UgaWYgKHR5cGVvZiBoYW5kbGVycy5jYWxsYmFjayA9PSAiZnVuY3Rpb24iKSBoYW5kbGVycy5jYWxsYmFjayhyZXBseSk7CiAgfQogIGNhdGNoIChleCkgewogICAgZHdyLmVuZ2luZS5faGFuZGxlRXJyb3IoYmF0Y2gsIGV4KTsKICB9Cn07CgovKiogQHByaXZhdGUgQ2FsbGVkIGJ5IHRoZSBzZXJ2ZXI6IEhhbmRsZSBhbiBleGNlcHRpb24gZm9yIGEgY2FsbCAqLwpkd3IuZW5naW5lLl9yZW1vdGVIYW5kbGVFeGNlcHRpb24gPSBmdW5jdGlvbihiYXRjaElkLCBjYWxsSWQsIGV4KSB7CiAgdmFyIGJhdGNoID0gZHdyLmVuZ2luZS5fYmF0Y2hlc1tiYXRjaElkXTsKICBpZiAoYmF0Y2ggPT0gbnVsbCkgeyBkd3IuZW5naW5lLl9kZWJ1ZygiV2FybmluZzogbnVsbCBiYXRjaCBpbiByZW1vdGVIYW5kbGVFeGNlcHRpb24iLCB0cnVlKTsgcmV0dXJuOyB9CiAgdmFyIGhhbmRsZXJzID0gYmF0Y2guaGFuZGxlcnNbY2FsbElkXTsKICBiYXRjaC5oYW5kbGVyc1tjYWxsSWRdID0gbnVsbDsKICBpZiAoaGFuZGxlcnMgPT0gbnVsbCkgeyBkd3IuZW5naW5lLl9kZWJ1ZygiV2FybmluZzogbnVsbCBoYW5kbGVycyBpbiByZW1vdGVIYW5kbGVFeGNlcHRpb24iLCB0cnVlKTsgcmV0dXJuOyB9CiAgaWYgKGV4Lm1lc3NhZ2UgPT0gdW5kZWZpbmVkKSBleC5tZXNzYWdlID0gIiI7CiAgaWYgKHR5cGVvZiBoYW5kbGVycy5leGNlcHRpb25IYW5kbGVyID09ICJmdW5jdGlvbiIpIGhhbmRsZXJzLmV4Y2VwdGlvbkhhbmRsZXIoZXgubWVzc2FnZSwgZXgpOwogIGVsc2UgaWYgKHR5cGVvZiBiYXRjaC5lcnJvckhhbmRsZXIgPT0gImZ1bmN0aW9uIikgYmF0Y2guZXJyb3JIYW5kbGVyKGV4Lm1lc3NhZ2UsIGV4KTsKfTsKCi8qKiBAcHJpdmF0ZSBDYWxsZWQgYnkgdGhlIHNlcnZlcjogVGhlIHdob2xlIGJhdGNoIGlzIGJyb2tlbiAqLwpkd3IuZW5naW5lLl9yZW1vdGVIYW5kbGVCYXRjaEV4Y2VwdGlvbiA9IGZ1bmN0aW9uKGV4LCBiYXRjaElkKSB7CiAgdmFyIHNlYXJjaEJhdGNoID0gKGR3ci5lbmdpbmUuX3JlY2VpdmVkQmF0Y2ggPT0gbnVsbCAmJiBiYXRjaElkICE9IG51bGwpOwogIGlmIChzZWFyY2hCYXRjaCkgewogICAgZHdyLmVuZ2luZS5fcmVjZWl2ZWRCYXRjaCA9IGR3ci5lbmdpbmUuX2JhdGNoZXNbYmF0Y2hJZF07CiAgfQogIGlmIChleC5tZXNzYWdlID09IHVuZGVmaW5lZCkgZXgubWVzc2FnZSA9ICIiOwogIGR3ci5lbmdpbmUuX2hhbmRsZUVycm9yKGR3ci5lbmdpbmUuX3JlY2VpdmVkQmF0Y2gsIGV4KTsKICBpZiAoc2VhcmNoQmF0Y2gpIHsKICAgIGR3ci5lbmdpbmUuX3JlY2VpdmVkQmF0Y2ggPSBudWxsOwogICAgZHdyLmVuZ2luZS5fY2xlYXJVcChkd3IuZW5naW5lLl9iYXRjaGVzW2JhdGNoSWRdKTsKICB9Cn07CgovKiogQHByaXZhdGUgQ2FsbGVkIGJ5IHRoZSBzZXJ2ZXI6IFJldmVyc2UgYWpheCBzaG91bGQgbm90IGJlIHVzZWQgKi8KZHdyLmVuZ2luZS5fcmVtb3RlUG9sbENvbWV0RGlzYWJsZWQgPSBmdW5jdGlvbihleCwgYmF0Y2hJZCkgewogIGR3ci5lbmdpbmUuc2V0QWN0aXZlUmV2ZXJzZUFqYXgoZmFsc2UpOwogIHZhciBzZWFyY2hCYXRjaCA9IChkd3IuZW5naW5lLl9yZWNlaXZlZEJhdGNoID09IG51bGwgJiYgYmF0Y2hJZCAhPSBudWxsKTsKICBpZiAoc2VhcmNoQmF0Y2gpIHsKICAgIGR3ci5lbmdpbmUuX3JlY2VpdmVkQmF0Y2ggPSBkd3IuZW5naW5lLl9iYXRjaGVzW2JhdGNoSWRdOwogIH0KICBpZiAoZXgubWVzc2FnZSA9PSB1bmRlZmluZWQpIGV4Lm1lc3NhZ2UgPSAiIjsKICBkd3IuZW5naW5lLl9oYW5kbGVFcnJvcihkd3IuZW5naW5lLl9yZWNlaXZlZEJhdGNoLCBleCk7CiAgaWYgKHNlYXJjaEJhdGNoKSB7CiAgICBkd3IuZW5naW5lLl9yZWNlaXZlZEJhdGNoID0gbnVsbDsKICAgIGR3ci5lbmdpbmUuX2NsZWFyVXAoZHdyLmVuZ2luZS5fYmF0Y2hlc1tiYXRjaElkXSk7CiAgfQp9OwoKLyoqIEBwcml2YXRlIENhbGxlZCBieSB0aGUgc2VydmVyOiBBbiBJRnJhbWUgcmVwbHkgaXMgYWJvdXQgdG8gc3RhcnQgKi8KZHdyLmVuZ2luZS5fcmVtb3RlQmVnaW5JRnJhbWVSZXNwb25zZSA9IGZ1bmN0aW9uKGlmcmFtZSwgYmF0Y2hJZCkgewogIGlmIChpZnJhbWUgIT0gbnVsbCkgZHdyLmVuZ2luZS5fcmVjZWl2ZWRCYXRjaCA9IGlmcmFtZS5iYXRjaDsKICBkd3IuZW5naW5lLl9jYWxsUG9zdEhvb2tzKGR3ci5lbmdpbmUuX3JlY2VpdmVkQmF0Y2gpOwp9OwoKLyoqIEBwcml2YXRlIENhbGxlZCBieSB0aGUgc2VydmVyOiBBbiBJRnJhbWUgcmVwbHkgaXMganVzdCBjb21wbGV0aW5nICovCmR3ci5lbmdpbmUuX3JlbW90ZUVuZElGcmFtZVJlc3BvbnNlID0gZnVuY3Rpb24oYmF0Y2hJZCkgewogIGR3ci5lbmdpbmUuX2NsZWFyVXAoZHdyLmVuZ2luZS5fcmVjZWl2ZWRCYXRjaCk7CiAgZHdyLmVuZ2luZS5fcmVjZWl2ZWRCYXRjaCA9IG51bGw7Cn07CgovKiogQHByaXZhdGUgVGhpcyBpcyBhIGhhY2sgdG8gbWFrZSB0aGUgY29udGV4dCBiZSB0aGlzIHdpbmRvdyAqLwpkd3IuZW5naW5lLl9ldmFsID0gZnVuY3Rpb24oc2NyaXB0KSB7CiAgaWYgKHNjcmlwdCA9PSBudWxsKSByZXR1cm4gbnVsbDsKICBpZiAoc2NyaXB0ID09ICIiKSB7IGR3ci5lbmdpbmUuX2RlYnVnKCJXYXJuaW5nOiBibGFuayBzY3JpcHQiLCB0cnVlKTsgcmV0dXJuIG51bGw7IH0KICAvLyBkd3IuZW5naW5lLl9kZWJ1ZygiRXhlYzogWyIgKyBzY3JpcHQgKyAiXSIsIHRydWUpOwogIHJldHVybiBldmFsKHNjcmlwdCk7Cn07CgovKiogQHByaXZhdGUgQ2FsbGVkIGFzIGEgcmVzdWx0IG9mIGEgcmVxdWVzdCB0aW1lb3V0ICovCmR3ci5lbmdpbmUuX2Fib3J0UmVxdWVzdCA9IGZ1bmN0aW9uKGJhdGNoKSB7CiAgaWYgKGJhdGNoICYmICFiYXRjaC5jb21wbGV0ZWQpIHsKICAgIGR3ci5lbmdpbmUuX2NsZWFyVXAoYmF0Y2gpOwogICAgaWYgKGJhdGNoLnJlcSkgYmF0Y2gucmVxLmFib3J0KCk7CiAgICBkd3IuZW5naW5lLl9oYW5kbGVFcnJvcihiYXRjaCwgeyBuYW1lOiJkd3IuZW5naW5lLnRpbWVvdXQiLCBtZXNzYWdlOiJUaW1lb3V0IiB9KTsKICB9Cn07CgovKiogQHByaXZhdGUgY2FsbCBhbGwgdGhlIHBvc3QgaG9va3MgZm9yIGEgYmF0Y2ggKi8KZHdyLmVuZ2luZS5fY2FsbFBvc3RIb29rcyA9IGZ1bmN0aW9uKGJhdGNoKSB7CiAgaWYgKGJhdGNoLnBvc3RIb29rcykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaC5wb3N0SG9va3MubGVuZ3RoOyBpKyspIHsKICAgICAgYmF0Y2gucG9zdEhvb2tzW2ldKCk7CiAgICB9CiAgICBiYXRjaC5wb3N0SG9va3MgPSBudWxsOwogIH0KfTsKCi8qKiBAcHJpdmF0ZSBBIGNhbGwgaGFzIGZpbmlzaGVkIGJ5IHdoYXRldmVyIG1lYW5zIGFuZCB3ZSBuZWVkIHRvIHNodXQgaXQgYWxsIGRvd24uICovCmR3ci5lbmdpbmUuX2NsZWFyVXAgPSBmdW5jdGlvbihiYXRjaCkgewogIGlmICghYmF0Y2gpIHsgZHdyLmVuZ2luZS5fZGVidWcoIldhcm5pbmc6IG51bGwgYmF0Y2ggaW4gZHdyLmVuZ2luZS5fY2xlYXJVcCgpIiwgdHJ1ZSk7IHJldHVybjsgfQogIGlmIChiYXRjaC5jb21wbGV0ZWQpIHsgZHdyLmVuZ2luZS5fZGVidWcoIldhcm5pbmc6IERvdWJsZSBjb21wbGV0ZSIsIHRydWUpOyByZXR1cm47IH0KCiAgLy8gSUZyYW1lIHRpZHl1cAogIGlmIChiYXRjaC5kaXYpIGJhdGNoLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJhdGNoLmRpdik7CiAgaWYgKGJhdGNoLmlmcmFtZSkgewogICAgLy8gSWYgdGhpcyBpcyBhIHBvbGwgZnJhbWUgdGhlbiBzdG9wIGNvbWV0IHBvbGxpbmcKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZHdyLmVuZ2luZS5fb3V0c3RhbmRpbmdJRnJhbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChkd3IuZW5naW5lLl9vdXRzdGFuZGluZ0lGcmFtZXNbaV0gPT0gYmF0Y2guaWZyYW1lKSB7CiAgICAgICAgZHdyLmVuZ2luZS5fb3V0c3RhbmRpbmdJRnJhbWVzLnNwbGljZShpLCAxKTsKICAgICAgfQogICAgfQogICAgYmF0Y2guaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYmF0Y2guaWZyYW1lKTsKICB9CiAgaWYgKGJhdGNoLmZvcm0pIGJhdGNoLmZvcm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYXRjaC5mb3JtKTsKCiAgLy8gWEhSIHRpZHl1cDogYXZvaWQgSUUgaGFuZGxlcyBpbmNyZWFzZQogIGlmIChiYXRjaC5yZXEpIHsKICAgIC8vIElmIHRoaXMgaXMgYSBwb2xsIGZyYW1lIHRoZW4gc3RvcCBjb21ldCBwb2xsaW5nCiAgICBpZiAoYmF0Y2gucmVxID09IGR3ci5lbmdpbmUuX3BvbGxSZXEpIGR3ci5lbmdpbmUuX3BvbGxSZXEgPSBudWxsOwogICAgZGVsZXRlIGJhdGNoLnJlcTsKICB9CgogIC8vIFRpbWVvdXQgdGlkeXVwCiAgaWYgKGJhdGNoLnRpbWVvdXRJZCkgewogICAgY2xlYXJUaW1lb3V0KGJhdGNoLnRpbWVvdXRJZCk7CiAgICBkZWxldGUgYmF0Y2gudGltZW91dElkOwogIH0KCiAgaWYgKGJhdGNoLm1hcCAmJiAoYmF0Y2gubWFwLmJhdGNoSWQgfHwgYmF0Y2gubWFwLmJhdGNoSWQgPT0gMCkpIHsKICAgIGRlbGV0ZSBkd3IuZW5naW5lLl9iYXRjaGVzW2JhdGNoLm1hcC5iYXRjaElkXTsKICAgIGR3ci5lbmdpbmUuX2JhdGNoZXNMZW5ndGgtLTsKICB9CgogIGJhdGNoLmNvbXBsZXRlZCA9IHRydWU7CgogIC8vIElmIHRoZXJlIGlzIGFueXRoaW5nIG9uIHRoZSBxdWV1ZSB3YWl0aW5nIHRvIGdvIG91dCwgdGhlbiBzZW5kIGl0LgogIC8vIFdlIGRvbid0IG5lZWQgdG8gY2hlY2sgZm9yIG9yZGVyZWQgbW9kZSwgaGVyZSBiZWNhdXNlIHdoZW4gb3JkZXJlZCBtb2RlCiAgLy8gZ2V0cyB0dXJuZWQgb2ZmLCB3ZSBzdGlsbCBwcm9jZXNzICp3YWl0aW5nKiBiYXRjaGVzIGluIGFuIG9yZGVyZWQgd2F5LgogIGlmIChkd3IuZW5naW5lLl9iYXRjaFF1ZXVlLmxlbmd0aCAhPSAwKSB7CiAgICB2YXIgc2VuZGJhdGNoID0gZHdyLmVuZ2luZS5fYmF0Y2hRdWV1ZS5zaGlmdCgpOwogICAgZHdyLmVuZ2luZS5fc2VuZERhdGEoc2VuZGJhdGNoKTsKICB9Cn07CgovKiogQHByaXZhdGUgQWJvcnQgYW55IFhIUnMgaW4gcHJvZ3Jlc3MgYXQgcGFnZSB1bmxvYWQgKHNvbHZlcyB6b21iaWUgc29ja2V0IHByb2JsZW1zIGluIElFKS4gKi8KZHdyLmVuZ2luZS5fdW5sb2FkZXIgPSBmdW5jdGlvbigpIHsKICBkd3IuZW5naW5lLl91bmxvYWRpbmcgPSB0cnVlOwoKICAvLyBFbXB0eSBxdWV1ZSBvZiB3YWl0aW5nIG9yZGVyZWQgcmVxdWVzdHMKICBkd3IuZW5naW5lLl9iYXRjaFF1ZXVlLmxlbmd0aCA9IDA7CgogIC8vIEFib3J0IGFueSBvbmdvaW5nIFhIUnMgYW5kIGNsZWFyIHRoZWlyIGJhdGNoZXMKICBmb3IgKHZhciBiYXRjaElkIGluIGR3ci5lbmdpbmUuX2JhdGNoZXMpIHsKICAgIHZhciBiYXRjaCA9IGR3ci5lbmdpbmUuX2JhdGNoZXNbYmF0Y2hJZF07CiAgICAvLyBPbmx5IHByb2Nlc3Mgb2JqZWN0cyB0aGF0IGxvb2sgbGlrZSBiYXRjaGVzIChhdm9pZCBwcm90b3R5cGUgYWRkaXRpb25zISkKICAgIGlmIChiYXRjaCAmJiBiYXRjaC5tYXApIHsKICAgICAgaWYgKGJhdGNoLnJlcSkgewogICAgICAgIGJhdGNoLnJlcS5hYm9ydCgpOwogICAgICB9CiAgICAgIGR3ci5lbmdpbmUuX2NsZWFyVXAoYmF0Y2gpOwogICAgfQogIH0KfTsKLy8gTm93IHJlZ2lzdGVyIHRoZSB1bmxvYWQgaGFuZGxlcgppZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBkd3IuZW5naW5lLl91bmxvYWRlciwgZmFsc2UpOwplbHNlIGlmICh3aW5kb3cuYXR0YWNoRXZlbnQpIHdpbmRvdy5hdHRhY2hFdmVudCgnb251bmxvYWQnLCBkd3IuZW5naW5lLl91bmxvYWRlcik7CgovKiogQHByaXZhdGUgR2VuZXJpYyBlcnJvciBoYW5kbGluZyByb3V0aW5nIHRvIHNhdmUgaGF2aW5nIG51bGwgY2hlY2tzIGV2ZXJ5d2hlcmUgKi8KZHdyLmVuZ2luZS5faGFuZGxlRXJyb3IgPSBmdW5jdGlvbihiYXRjaCwgZXgpIHsKICBpZiAodHlwZW9mIGV4ID09ICJzdHJpbmciKSBleCA9IHsgbmFtZToidW5rbm93biIsIG1lc3NhZ2U6ZXggfTsKICBpZiAoZXgubWVzc2FnZSA9PSBudWxsKSBleC5tZXNzYWdlID0gIiI7CiAgaWYgKGV4Lm5hbWUgPT0gbnVsbCkgZXgubmFtZSA9ICJ1bmtub3duIjsKICBpZiAoYmF0Y2ggJiYgdHlwZW9mIGJhdGNoLmVycm9ySGFuZGxlciA9PSAiZnVuY3Rpb24iKSBiYXRjaC5lcnJvckhhbmRsZXIoZXgubWVzc2FnZSwgZXgpOwogIGVsc2UgaWYgKGR3ci5lbmdpbmUuX2Vycm9ySGFuZGxlcikgZHdyLmVuZ2luZS5fZXJyb3JIYW5kbGVyKGV4Lm1lc3NhZ2UsIGV4KTsKICBpZiAoYmF0Y2gpIGR3ci5lbmdpbmUuX2NsZWFyVXAoYmF0Y2gpOwp9OwoKLyoqIEBwcml2YXRlIEdlbmVyaWMgZXJyb3IgaGFuZGxpbmcgcm91dGluZyB0byBzYXZlIGhhdmluZyBudWxsIGNoZWNrcyBldmVyeXdoZXJlICovCmR3ci5lbmdpbmUuX2hhbmRsZVdhcm5pbmcgPSBmdW5jdGlvbihiYXRjaCwgZXgpIHsKICBpZiAodHlwZW9mIGV4ID09ICJzdHJpbmciKSBleCA9IHsgbmFtZToidW5rbm93biIsIG1lc3NhZ2U6ZXggfTsKICBpZiAoZXgubWVzc2FnZSA9PSBudWxsKSBleC5tZXNzYWdlID0gIiI7CiAgaWYgKGV4Lm5hbWUgPT0gbnVsbCkgZXgubmFtZSA9ICJ1bmtub3duIjsKICBpZiAoYmF0Y2ggJiYgdHlwZW9mIGJhdGNoLndhcm5pbmdIYW5kbGVyID09ICJmdW5jdGlvbiIpIGJhdGNoLndhcm5pbmdIYW5kbGVyKGV4Lm1lc3NhZ2UsIGV4KTsKICBlbHNlIGlmIChkd3IuZW5naW5lLl93YXJuaW5nSGFuZGxlcikgZHdyLmVuZ2luZS5fd2FybmluZ0hhbmRsZXIoZXgubWVzc2FnZSwgZXgpOwogIGlmIChiYXRjaCkgZHdyLmVuZ2luZS5fY2xlYXJVcChiYXRjaCk7Cn07CgovKioKICogQHByaXZhdGUgTWFyc2hhbGwgYSBkYXRhIGl0ZW0KICogQHBhcmFtIGJhdGNoIEEgbWFwIG9mIHZhcmlhYmxlcyB0byBob3cgdGhleSBoYXZlIGJlZW4gbWFyc2hhbGxlZAogKiBAcGFyYW0gcmVmZXJ0byBBbiBhcnJheSBvZiBhbHJlYWR5IG1hcnNoYWxsZWQgdmFyaWFibGVzIHRvIHByZXZlbnQgcmVjdXJyc2lvbgogKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBiZSBtYXJzaGFsbGVkCiAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBkYXRhIGJlaW5nIG1hcnNoYWxsZWQKICovCmR3ci5lbmdpbmUuX3NlcmlhbGl6ZUFsbCA9IGZ1bmN0aW9uKGJhdGNoLCByZWZlcnRvLCBkYXRhLCBuYW1lKSB7CiAgaWYgKGRhdGEgPT0gbnVsbCkgewogICAgYmF0Y2gubWFwW25hbWVdID0gIm51bGw6bnVsbCI7CiAgICByZXR1cm47CiAgfQoKICBzd2l0Y2ggKHR5cGVvZiBkYXRhKSB7CiAgY2FzZSAiYm9vbGVhbiI6CiAgICBiYXRjaC5tYXBbbmFtZV0gPSAiYm9vbGVhbjoiICsgZGF0YTsKICAgIGJyZWFrOwogIGNhc2UgIm51bWJlciI6CiAgICBiYXRjaC5tYXBbbmFtZV0gPSAibnVtYmVyOiIgKyBkYXRhOwogICAgYnJlYWs7CiAgY2FzZSAic3RyaW5nIjoKICAgIGJhdGNoLm1hcFtuYW1lXSA9ICJzdHJpbmc6IiArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhKTsKICAgIGJyZWFrOwogIGNhc2UgIm9iamVjdCI6CiAgICB2YXIgb2Jqc3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGEpOwogICAgaWYgKG9ianN0ciA9PSAiW29iamVjdCBTdHJpbmddIikgYmF0Y2gubWFwW25hbWVdID0gIlN0cmluZzoiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpOwogICAgZWxzZSBpZiAob2Jqc3RyID09ICJbb2JqZWN0IEJvb2xlYW5dIikgYmF0Y2gubWFwW25hbWVdID0gIkJvb2xlYW46IiArIGRhdGE7CiAgICBlbHNlIGlmIChvYmpzdHIgPT0gIltvYmplY3QgTnVtYmVyXSIpIGJhdGNoLm1hcFtuYW1lXSA9ICJOdW1iZXI6IiArIGRhdGE7CiAgICBlbHNlIGlmIChvYmpzdHIgPT0gIltvYmplY3QgRGF0ZV0iKSBiYXRjaC5tYXBbbmFtZV0gPSAiRGF0ZToiICsgZGF0YS5nZXRUaW1lKCk7CiAgICBlbHNlIGlmIChvYmpzdHIgPT0gIltvYmplY3QgQXJyYXldIikgYmF0Y2gubWFwW25hbWVdID0gZHdyLmVuZ2luZS5fc2VyaWFsaXplQXJyYXkoYmF0Y2gsIHJlZmVydG8sIGRhdGEsIG5hbWUpOwogICAgZWxzZSBiYXRjaC5tYXBbbmFtZV0gPSBkd3IuZW5naW5lLl9zZXJpYWxpemVPYmplY3QoYmF0Y2gsIHJlZmVydG8sIGRhdGEsIG5hbWUpOwogICAgYnJlYWs7CiAgY2FzZSAiZnVuY3Rpb24iOgogICAgLy8gV2UganVzdCBpZ25vcmUgZnVuY3Rpb25zLgogICAgYnJlYWs7CiAgZGVmYXVsdDoKICAgIGR3ci5lbmdpbmUuX2hhbmRsZVdhcm5pbmcobnVsbCwgeyBuYW1lOiJkd3IuZW5naW5lLnVuZXhwZWN0ZWRUeXBlIiwgbWVzc2FnZToiVW5leHBlY3RlZCB0eXBlOiAiICsgdHlwZW9mIGRhdGEgKyAiLCBhdHRlbXB0aW5nIGRlZmF1bHQgY29udmVydGVyLiIgfSk7CiAgICBiYXRjaC5tYXBbbmFtZV0gPSAiZGVmYXVsdDoiICsgZGF0YTsKICAgIGJyZWFrOwogIH0KfTsKCi8qKiBAcHJpdmF0ZSBIYXZlIHdlIGFscmVhZHkgY29udmVydGVkIHRoaXMgb2JqZWN0PyAqLwpkd3IuZW5naW5lLl9sb29rdXAgPSBmdW5jdGlvbihyZWZlcnRvLCBkYXRhLCBuYW1lKSB7CiAgdmFyIGxvb2t1cDsKICAvLyBDYW4ndCB1c2UgYSBtYXA6IGdldGFoZWFkLm9yZy9hamF4L2phdmFzY3JpcHQtZ290Y2hhcwogIGZvciAodmFyIGkgPSAwOyBpIDwgcmVmZXJ0by5sZW5ndGg7IGkrKykgewogICAgaWYgKHJlZmVydG9baV0uZGF0YSA9PSBkYXRhKSB7CiAgICAgIGxvb2t1cCA9IHJlZmVydG9baV07CiAgICAgIGJyZWFrOwogICAgfQogIH0KICBpZiAobG9va3VwKSByZXR1cm4gInJlZmVyZW5jZToiICsgbG9va3VwLm5hbWU7CiAgcmVmZXJ0by5wdXNoKHsgZGF0YTpkYXRhLCBuYW1lOm5hbWUgfSk7CiAgcmV0dXJuIG51bGw7Cn07CgovKiogQHByaXZhdGUgTWFyc2hhbGwgYW4gb2JqZWN0ICovCmR3ci5lbmdpbmUuX3NlcmlhbGl6ZU9iamVjdCA9IGZ1bmN0aW9uKGJhdGNoLCByZWZlcnRvLCBkYXRhLCBuYW1lKSB7CiAgdmFyIHJlZiA9IGR3ci5lbmdpbmUuX2xvb2t1cChyZWZlcnRvLCBkYXRhLCBuYW1lKTsKICBpZiAocmVmKSByZXR1cm4gcmVmOwoKICAvLyBUaGlzIGNoZWNrIGZvciBhbiBIVE1MIGlzIG5vdCBjb21wbGV0ZSwgYnV0IGlzIHRoZXJlIGEgYmV0dGVyIHdheT8KICAvLyBNYXliZSB3ZSBzaG91bGQgYWRkOiBkYXRhLmhhc0NoaWxkTm9kZXMgdHlwZW9mICJmdW5jdGlvbiIgPT0gdHJ1ZQogIGlmIChkYXRhLm5vZGVOYW1lICYmIGRhdGEubm9kZVR5cGUpIHsKICAgIHJldHVybiBkd3IuZW5naW5lLl9zZXJpYWxpemVYbWwoYmF0Y2gsIHJlZmVydG8sIGRhdGEsIG5hbWUpOwogIH0KCiAgLy8gdHJlYXQgb2JqZWN0cyBhcyBhbiBhc3NvY2lhdGl2ZSBhcnJheXMKICB2YXIgcmVwbHkgPSAiT2JqZWN0XyIgKyBkd3IuZW5naW5lLl9nZXRPYmplY3RDbGFzc05hbWUoZGF0YSkgKyAiOnsiOwogIHZhciBlbGVtZW50OwogIGZvciAoZWxlbWVudCBpbiBkYXRhKSB7CiAgICBpZiAodHlwZW9mIGRhdGFbZWxlbWVudF0gIT0gImZ1bmN0aW9uIikgewogICAgICBiYXRjaC5wYXJhbUNvdW50Kys7CiAgICAgIHZhciBjaGlsZE5hbWUgPSAiYyIgKyBkd3IuZW5naW5lLl9iYXRjaC5tYXAuY2FsbENvdW50ICsgIi1lIiArIGJhdGNoLnBhcmFtQ291bnQ7CiAgICAgIGR3ci5lbmdpbmUuX3NlcmlhbGl6ZUFsbChiYXRjaCwgcmVmZXJ0bywgZGF0YVtlbGVtZW50XSwgY2hpbGROYW1lKTsKCiAgICAgIHJlcGx5ICs9IGVuY29kZVVSSUNvbXBvbmVudChlbGVtZW50KSArICI6cmVmZXJlbmNlOiIgKyBjaGlsZE5hbWUgKyAiLCAiOwogICAgfQogIH0KCiAgaWYgKHJlcGx5LnN1YnN0cmluZyhyZXBseS5sZW5ndGggLSAyKSA9PSAiLCAiKSB7CiAgICByZXBseSA9IHJlcGx5LnN1YnN0cmluZygwLCByZXBseS5sZW5ndGggLSAyKTsKICB9CiAgcmVwbHkgKz0gIn0iOwoKICByZXR1cm4gcmVwbHk7Cn07CgovKiogQHByaXZhdGUgUmV0dXJucyB0aGUgY2xhc3NuYW1lIG9mIHN1cHBsaWVkIGFyZ3VtZW50IG9iaiAqLwpkd3IuZW5naW5lLl9lcnJvckNsYXNzZXMgPSB7ICJFcnJvciI6RXJyb3IsICJFdmFsRXJyb3IiOkV2YWxFcnJvciwgIlJhbmdlRXJyb3IiOlJhbmdlRXJyb3IsICJSZWZlcmVuY2VFcnJvciI6UmVmZXJlbmNlRXJyb3IsICJTeW50YXhFcnJvciI6U3ludGF4RXJyb3IsICJUeXBlRXJyb3IiOlR5cGVFcnJvciwgIlVSSUVycm9yIjpVUklFcnJvciB9Owpkd3IuZW5naW5lLl9nZXRPYmplY3RDbGFzc05hbWUgPSBmdW5jdGlvbihvYmopIHsKICAvLyBUcnkgdG8gZmluZCB0aGUgY2xhc3NuYW1lIGJ5IHN0cmluZ2lmeWluZyB0aGUgb2JqZWN0J3MgY29uc3RydWN0b3IKICAvLyBhbmQgZXh0cmFjdCA8Y2xhc3M+IGZyb20gImZ1bmN0aW9uIDxjbGFzcz4iLgogIGlmIChvYmogJiYgb2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci50b1N0cmluZykKICB7CiAgICB2YXIgc3RyID0gb2JqLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCk7CiAgICB2YXIgcmVnZXhwbWF0Y2ggPSBzdHIubWF0Y2goL2Z1bmN0aW9uXHMrKFx3KykvKTsKICAgIGlmIChyZWdleHBtYXRjaCAmJiByZWdleHBtYXRjaC5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gcmVnZXhwbWF0Y2hbMV07CiAgICB9CiAgfQoKICAvLyBOb3cgbWFudWFsbHkgdGVzdCBhZ2FpbnN0IHRoZSBjb3JlIEVycm9yIGNsYXNzZXMsIGFzIHRoZXNlIGluIHNvbWUgCiAgLy8gYnJvd3NlcnMgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRvIHRoZSB3cm9uZyBjbGFzcyBpbiB0aGUgCiAgLy8gT2JqZWN0LnRvU3RyaW5nKCkgdGVzdCB3ZSB3aWxsIGRvIGxhdGVyCiAgaWYgKG9iaiAmJiBvYmouY29uc3RydWN0b3IpIHsKICAgIGZvciAodmFyIGVycm9ybmFtZSBpbiBkd3IuZW5naW5lLl9lcnJvckNsYXNzZXMpIHsKICAgICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PSBkd3IuZW5naW5lLl9lcnJvckNsYXNzZXNbZXJyb3JuYW1lXSkgcmV0dXJuIGVycm9ybmFtZTsKICAgIH0KICB9CgogIC8vIFRyeSB0byBmaW5kIHRoZSBjbGFzc25hbWUgYnkgY2FsbGluZyBPYmplY3QudG9TdHJpbmcoKSBvbiB0aGUgb2JqZWN0CiAgLy8gYW5kIGV4dHJhY3RpbmcgPGNsYXNzPiBmcm9tICJbb2JqZWN0IDxjbGFzcz5dIgogIGlmIChvYmopIHsKICAgIHZhciBzdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTsKICAgIHZhciByZWdleHBtYXRjaCA9IHN0ci5tYXRjaCgvXFtvYmplY3RccysoXHcrKS8pOwogICAgaWYgKHJlZ2V4cG1hdGNoICYmIHJlZ2V4cG1hdGNoLmxlbmd0aD09MikgewogICAgICByZXR1cm4gcmVnZXhwbWF0Y2hbMV07CiAgICB9CiAgfQoKICAvLyBTdXBwbGllZCBhcmd1bWVudCB3YXMgcHJvYmFibHkgbm90IGFuIG9iamVjdCwgYnV0IHdoYXQgaXMgYmV0dGVyPwogIHJldHVybiAiT2JqZWN0IjsKfTsKCi8qKiBAcHJpdmF0ZSBNYXJzaGFsbCBhbiBvYmplY3QgKi8KZHdyLmVuZ2luZS5fc2VyaWFsaXplWG1sID0gZnVuY3Rpb24oYmF0Y2gsIHJlZmVydG8sIGRhdGEsIG5hbWUpIHsKICB2YXIgcmVmID0gZHdyLmVuZ2luZS5fbG9va3VwKHJlZmVydG8sIGRhdGEsIG5hbWUpOwogIGlmIChyZWYpIHJldHVybiByZWY7CgogIHZhciBvdXRwdXQ7CiAgaWYgKHdpbmRvdy5YTUxTZXJpYWxpemVyKSBvdXRwdXQgPSBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKGRhdGEpOwogIGVsc2UgaWYgKGRhdGEudG9YbWwpIG91dHB1dCA9IGRhdGEudG9YbWw7CiAgZWxzZSBvdXRwdXQgPSBkYXRhLmlubmVySFRNTDsKCiAgcmV0dXJuICJYTUw6IiArIGVuY29kZVVSSUNvbXBvbmVudChvdXRwdXQpOwp9OwoKLyoqIEBwcml2YXRlIE1hcnNoYWxsIGFuIGFycmF5ICovCmR3ci5lbmdpbmUuX3NlcmlhbGl6ZUFycmF5ID0gZnVuY3Rpb24oYmF0Y2gsIHJlZmVydG8sIGRhdGEsIG5hbWUpIHsKICB2YXIgcmVmID0gZHdyLmVuZ2luZS5fbG9va3VwKHJlZmVydG8sIGRhdGEsIG5hbWUpOwogIGlmIChyZWYpIHJldHVybiByZWY7CgogIGlmIChkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5vcGVyYSkgewogICAgLy8gVXNlIGFycmF5IGpvaW5pbmcgb24gSUUgKGZhc3Rlc3QpCiAgICB2YXIgYnVmID0gWyJBcnJheTpbIl07CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGkgIT0gMCkgYnVmLnB1c2goIiwiKTsKICAgICAgYmF0Y2gucGFyYW1Db3VudCsrOwogICAgICB2YXIgY2hpbGROYW1lID0gImMiICsgZHdyLmVuZ2luZS5fYmF0Y2gubWFwLmNhbGxDb3VudCArICItZSIgKyBiYXRjaC5wYXJhbUNvdW50OwogICAgICBkd3IuZW5naW5lLl9zZXJpYWxpemVBbGwoYmF0Y2gsIHJlZmVydG8sIGRhdGFbaV0sIGNoaWxkTmFtZSk7CiAgICAgIGJ1Zi5wdXNoKCJyZWZlcmVuY2U6Iik7CiAgICAgIGJ1Zi5wdXNoKGNoaWxkTmFtZSk7CiAgICB9CiAgICBidWYucHVzaCgiXSIpOwogICAgcmVwbHkgPSBidWYuam9pbigiIik7CiAgfQogIGVsc2UgewogICAgLy8gVXNlIHN0cmluZyBjb25jYXQgb24gb3RoZXIgYnJvd3NlcnMgKGZhc3Rlc3QpCiAgICB2YXIgcmVwbHkgPSAiQXJyYXk6WyI7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGkgIT0gMCkgcmVwbHkgKz0gIiwiOwogICAgICBiYXRjaC5wYXJhbUNvdW50Kys7CiAgICAgIHZhciBjaGlsZE5hbWUgPSAiYyIgKyBkd3IuZW5naW5lLl9iYXRjaC5tYXAuY2FsbENvdW50ICsgIi1lIiArIGJhdGNoLnBhcmFtQ291bnQ7CiAgICAgIGR3ci5lbmdpbmUuX3NlcmlhbGl6ZUFsbChiYXRjaCwgcmVmZXJ0bywgZGF0YVtpXSwgY2hpbGROYW1lKTsKICAgICAgcmVwbHkgKz0gInJlZmVyZW5jZToiOwogICAgICByZXBseSArPSBjaGlsZE5hbWU7CiAgICB9CiAgICByZXBseSArPSAiXSI7CiAgfQoKICByZXR1cm4gcmVwbHk7Cn07CgovKiogQHByaXZhdGUgQ29udmVydCBhbiBYTUwgc3RyaW5nIGludG8gYSBET00gb2JqZWN0LiAqLwpkd3IuZW5naW5lLl91bnNlcmlhbGl6ZURvY3VtZW50ID0gZnVuY3Rpb24oeG1sKSB7CiAgdmFyIGRvbTsKICBpZiAod2luZG93LkRPTVBhcnNlcikgewogICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgIGRvbSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sLCAidGV4dC94bWwiKTsKICAgIGlmICghZG9tLmRvY3VtZW50RWxlbWVudCB8fCBkb20uZG9jdW1lbnRFbGVtZW50LnRhZ05hbWUgPT0gInBhcnNlcmVycm9yIikgewogICAgICB2YXIgbWVzc2FnZSA9IGRvbS5kb2N1bWVudEVsZW1lbnQuZmlyc3RDaGlsZC5kYXRhOwogICAgICBtZXNzYWdlICs9ICJcbiIgKyBkb20uZG9jdW1lbnRFbGVtZW50LmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcuZmlyc3RDaGlsZC5kYXRhOwogICAgICB0aHJvdyBtZXNzYWdlOwogICAgfQogICAgcmV0dXJuIGRvbTsKICB9CiAgZWxzZSBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHsKICAgIGRvbSA9IGR3ci5lbmdpbmUuX25ld0FjdGl2ZVhPYmplY3QoZHdyLmVuZ2luZS5fRE9NRG9jdW1lbnQpOwogICAgZG9tLmxvYWRYTUwoeG1sKTsgLy8gV2hhdCBoYXBwZW5zIG9uIHBhcnNlIGZhaWwgd2l0aCBJRT8KICAgIHJldHVybiBkb207CiAgfQogIGVsc2UgewogICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgZGl2LmlubmVySFRNTCA9IHhtbDsKICAgIHJldHVybiBkaXY7CiAgfQp9OwoKLyoqIEBwYXJhbSBheGFycmF5IEFuIGFycmF5IG9mIHN0cmluZ3MgdG8gYXR0ZW1wdCB0byBjcmVhdGUgQWN0aXZlWCBvYmplY3RzIGZyb20gKi8KZHdyLmVuZ2luZS5fbmV3QWN0aXZlWE9iamVjdCA9IGZ1bmN0aW9uKGF4YXJyYXkpIHsKICB2YXIgcmV0dXJuVmFsdWU7ICAKICBmb3IgKHZhciBpID0gMDsgaSA8IGF4YXJyYXkubGVuZ3RoOyBpKyspIHsKICAgIHRyeSB7CiAgICAgIHJldHVyblZhbHVlID0gbmV3IEFjdGl2ZVhPYmplY3QoYXhhcnJheVtpXSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2F0Y2ggKGV4KSB7IC8qIGlnbm9yZSAqLyB9CiAgfQogIHJldHVybiByZXR1cm5WYWx1ZTsKfTsKCi8qKiBAcHJpdmF0ZSBVc2VkIGludGVybmFsbHkgd2hlbiBzb21lIG1lc3NhZ2UgbmVlZHMgdG8gZ2V0IHRvIHRoZSBwcm9ncmFtbWVyICovCmR3ci5lbmdpbmUuX2RlYnVnID0gZnVuY3Rpb24obWVzc2FnZSwgc3RhY2t0cmFjZSkgewogIHZhciB3cml0dGVuID0gZmFsc2U7CiAgdHJ5IHsKICAgIGlmICh3aW5kb3cuY29uc29sZSkgewogICAgICBpZiAoc3RhY2t0cmFjZSAmJiB3aW5kb3cuY29uc29sZS50cmFjZSkgd2luZG93LmNvbnNvbGUudHJhY2UoKTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKG1lc3NhZ2UpOwogICAgICB3cml0dGVuID0gdHJ1ZTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5vcGVyYSAmJiB3aW5kb3cub3BlcmEucG9zdEVycm9yKSB7CiAgICAgIHdpbmRvdy5vcGVyYS5wb3N0RXJyb3IobWVzc2FnZSk7CiAgICAgIHdyaXR0ZW4gPSB0cnVlOwogICAgfQogIH0KICBjYXRjaCAoZXgpIHsgLyogaWdub3JlICovIH0KCiAgaWYgKCF3cml0dGVuKSB7CiAgICB2YXIgZGVidWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZHdyLWRlYnVnIik7CiAgICBpZiAoZGVidWcpIHsKICAgICAgdmFyIGNvbnRlbnRzID0gbWVzc2FnZSArICI8YnIvPiIgKyBkZWJ1Zy5pbm5lckhUTUw7CiAgICAgIGlmIChjb250ZW50cy5sZW5ndGggPiAyMDQ4KSBjb250ZW50cyA9IGNvbnRlbnRzLnN1YnN0cmluZygwLCAyMDQ4KTsKICAgICAgZGVidWcuaW5uZXJIVE1MID0gY29udGVudHM7CiAgICB9CiAgfQp9OwoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707578" offset="0" length="16384" />
            <PacketInfo time="102707578" offset="16384" length="236" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="153" hostname="omniconv" path="/OMNIStatic/scripts/jquery/jquery-ui.js" url="http://omniconv/OMNIStatic/scripts/jquery/jquery-ui.js" ip="10.37.149.132" port="80" connectionId="10" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.425-07:00" startTime="102707562" endTime="102707578">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVpRS1VyWitYVGtja2JQaHZoL0U5Q0MxTnF0Z1crWXNCQ0N3RkY5MU5LUUIrcm1tRmNJVW94bXpiTVRMVGhoRlk3MW9HOEt1VkFpVlhBN0p5K3o3ejI3K1pCeFpuOUd1bEx5a29hK0paQ3V2Z3BjYzVjb3NIUlc5RlJjZGljNDZrK3dvakpPZi9CWE5vT3lzWUNjM0U4NnRqeFN5c2Jldkg1azQxek8reUlRbnVvOUU4Ky9ucEtQVGMwQWtHVEl0aVZkbUxxVXJpTHB3VlRkeHVPL1VKellSazZ1K2Z0eDN4Q2k4ODAvTHZWcVgrSCtQd2QrY2tlL21KV2VvNEYxMlV5dHVMNGVTaTBRS2QxRmFlZFlhZFhNdHVheVZ3V05CN3F6L3I1Z0VNS1pkK0F0bXB3S2lONFlIODRNK3dvd25yeTduT0hZRkZFalBHQVpNakRLNzdHMnlMNDA4QWlEdXg1T0gvbzZzZ0FvQUh2dXZZSzNOR25jajRsUFJZYmNTL0I4bm5lL2JTUmFGT0JVRzU2NTBQT0VaTnVDQnZIbGx6WUphcGRhN1JLZmVxdXd3cWtIdEhWTVYrYzZBaFRBNHp1YTZTWTRaVnptUEI4NFRGemdOcXo2WmpJZjFhaGxqQkNIY2lIcWxYdllETG9NcloyRnhPYUFHdXo1Z3ZxU1gyWUFPZHllc0FoVUVMbTQ5czMwQlgvUlZiNTFRS1Myd3NSTEpjSnJCcy93aUVPUHdWRmNsQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS11aS5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwNWFjYzZkZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVpRS1VyWitYVGtja2JQaHZoL0U5Q0MxTnF0Z1crWXNCQ0N3RkY5MU5LUUIrcm1tRmNJVW94bXpiTVRMVGhoRlk3MW9HOEt1VkFpVlhBN0p5K3o3ejI3K1pCeFpuOUd1bEx5a29hK0paQ3V2Z3BjYzVjb3NIUlc5RlJjZGljNDZrK3dvakpPZi9CWE5vT3lzWUNjM0U4NnRqeFN5c2Jldkg1azQxek8reUlRbnVvOUU4Ky9ucEtQVGMwQWtHVEl0aVZkbUxxVXJpTHB3VlRkeHVPL1VKellSazZ1K2Z0eDN4Q2k4ODAvTHZWcVgrSCtQd2QrY2tlL21KV2VvNEYxMlV5dHVMNGVTaTBRS2QxRmFlZFlhZFhNdHVheVZ3V05CN3F6L3I1Z0VNS1pkK0F0bXB3S2lONFlIODRNK3dvd25yeTduT0hZRkZFalBHQVpNakRLNzdHMnlMNDA4QWlEdXg1T0gvbzZzZ0FvQUh2dXZZSzNOR25jajRsUFJZYmNTL0I4bm5lL2JTUmFGT0JVRzU2NTBQT0VaTnVDQnZIbGx6WUphcGRhN1JLZmVxdXd3cWtIdEhWTVYrYzZBaFRBNHp1YTZTWTRaVnptUEI4NFRGemdOcXo2WmpJZjFhaGxqQkNIY2lIcWxYdllETG9NcloyRnhPYUFHdXo1Z3ZxU1gyWUFPZHllc0FoVUVMbTQ5czMwQlgvUlZiNTFRS1Myd3NSTEpjSnJCcy93aUVPUHdWRmNsQT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUwVjJxdWFrNytOZHhkL09kWVRDRkdhS1ZDYXpwNzFyT2JMZ1pZS1JoVUwva3lpaUw3NFV6VXV2MmhUYVBCcmlpQUR4TVRxcEtnbU9Wayt2K09VMTlUeWtGcXZvdXhCMSsvUlFpM2s3L0NFRCtyQkUzcWFxWlhhUmJaMXIybWlFUVM0Um4xU3dGL3VQeVpFZ1Rrek09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUwVjJxdWFrNytOZHhkL09kWVRDRkdhS1ZDYXpwNzFyT2JMZ1pZS1JoVUwva3lpaUw3NFV6VXV2MmhUYVBCcmlpQUR4TVRxcEtnbU9Wayt2K09VMTlUeWtGcXZvdXhCMSsvUlFpM2s3L0NFRCtyQkUzcWFxWlhhUmJaMXIybWlFUVM0Um4xU3dGL3VQeVpFZ1Rrek09DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707578" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="156" hostname="omniconv" path="/omni/dwr/util.js" url="http://omniconv/omni/dwr/util.js" ip="10.37.149.132" port="80" connectionId="8" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.425-07:00" startTime="102707578" endTime="102707593">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW9uLCAxMyBBdWcgMjAxOCAxNjoxMzo0NSBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjE1MzQxNzY4MjUwMDAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJIczUxb1E0TW8xVE1YYXc0b2J1L0F1NUhGRk5vWldkT0svNEE2T0d1RVpRWDZycDlSY3hYaXFnVkx6YTJXZ2pjNitJYTJBSEU2RmpteExyL0dPNWhqQjIvVnFSN2xUTjVXdHJxbUxXMnFmOC9tWXBCR1FzVDhnWDZkMVJjc2RxbTVpY1h4ZGdhN2lHd0VSanNnTm5WcjZueERZYXBWb2xmY2NrNVpOWmdxNjZ3bEpzMjFBM0FsWEI2Q0g2ZzNXbDI1N2tvOXB5djA5UG9QU2ZOTEtjRDRRNDhnUnZYc2txajVucEJCcnJEZ253aUxvbDVnT3U4azR3Mnl0d0R4STFaaVdQTGowYmdHL2JCcE1OcG1WVll6TG1hM3IxWk56VHpWSDIyM2ZYZEFtNUJNN3RYeHFUQmhzM3RxWS9ZL2FISDlTbXF3Ylp0S0dwN0R5Z3lGSnE2VTNPRG1zdDhwc0lmZmhpOWkvdXJub3RHcWRoS0xxelUvb2hlRzAyckgxc1Y5ejFWVTEzTWZOUEJjdWdmS1k1WU5jZGlWMEN2R3lpeC8xMFhEaXlLUEtFd2ZLay9QdkZkWEV6NFdWMWVUWGVkMVhtNFpSZEpJQkNXbklMcWdzd3dNNnJmQjhzUU9QZm0zTm9BY0k5N1FESmpXWkRleWRHV2FEWGMyeFlPc1BSU0prdTIySVZ2Nks3Rytwa2VuTFFrWSt3YmdvRGR3cFIvQldKcXVuaGVrQkNhUjBNUUhRUT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9vbW5pL2R3ci91dGlsLmpzIEhUVFAvMS4xDQpBY2NlcHQ6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsICovKjtxPTAuOA0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCklmLU1vZGlmaWVkLVNpbmNlOiBNb24sIDEzIEF1ZyAyMDE4IDE2OjEzOjQ1IEdNVA0KSWYtTm9uZS1NYXRjaDogIjE1MzQxNzY4MjUwMDAiDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYkhzNTFvUTRNbzFUTVhhdzRvYnUvQXU1SEZGTm9aV2RPSy80QTZPR3VFWlFYNnJwOVJjeFhpcWdWTHphMldnamM2K0lhMkFIRTZGam14THIvR081aGpCMi9WcVI3bFRONVd0cnFtTFcycWY4L21ZcEJHUXNUOGdYNmQxUmNzZHFtNWljWHhkZ2E3aUd3RVJqc2dOblZyNm54RFlhcFZvbGZjY2s1Wk5aZ3E2NndsSnMyMUEzQWxYQjZDSDZnM1dsMjU3a285cHl2MDlQb1BTZk5MS2NENFE0OGdSdlhza3FqNW5wQkJyckRnbndpTG9sNWdPdThrNHcyeXR3RHhJMVppV1BMajBiZ0cvYkJwTU5wbVZWWXpMbWEzcjFaTnpUelZIMjIzZlhkQW01Qk03dFh4cVRCaHMzdHFZL1kvYUhIOVNtcXdiWnRLR3A3RHlneUZKcTZVM09EbXN0OHBzSWZmaGk5aS91cm5vdEdxZGhLTHF6VS9vaGVHMDJySDFzVjl6MVZVMTNNZk5QQmN1Z2ZLWTVZTmNkaVYwQ3ZHeWl4LzEwWERpeUtQS0V3ZktrL1B2RmRYRXo0V1YxZVRYZWQxWG00WlJkSklCQ1duSUxxZ3N3d002cmZCOHNRT1BmbTNOb0FjSTk3UURKaldaRGV5ZEdXYURYYzJ4WU9zUFJTSmt1MjJJVnY2SzdHK3BrZW5MUWtZK3diZ29EZHdwUi9CV0pxdW5oZWtCQ2FSME1RSFFRPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Language" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>V2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Persistent-Auth" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZmFsc2U=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVWZHZvZDZ4aDZndy9ndFFMNENsQnZNNmRGUUNnRVhLWktoTzJFcWJkVUpzNUhqeGU3YnBGMjUrSEtVdTh0aDlNYytnRlVIem8xTEl4S0pGL1RFYk9maWZsSnorc1dEQzN0Nk1QdXpvTUJyY0NSSURlRjEzZisvVlRML3RJL2U1VTVIK2R0R0JxWU5BSkExM1c5R0E9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KQ29udGVudC1MYW5ndWFnZTogZW4tVVMNClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClNlcnZlcjogV2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjANClBlcnNpc3RlbnQtQXV0aDogZmFsc2UNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVWZHZvZDZ4aDZndy9ndFFMNENsQnZNNmRGUUNnRVhLWktoTzJFcWJkVUpzNUhqeGU3YnBGMjUrSEtVdTh0aDlNYytnRlVIem8xTEl4S0pGL1RFYk9maWZsSnorc1dEQzN0Nk1QdXpvTUJyY0NSSURlRjEzZisvVlRML3RJL2U1VTVIK2R0R0JxWU5BSkExM1c5R0E9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707578" offset="0" length="485" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="158" hostname="omniconv" path="/OMNIStatic/scripts/common-session-storage.js" url="http://omniconv/OMNIStatic/scripts/common-session-storage.js" ip="10.37.149.132" port="80" connectionId="9" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.425-07:00" startTime="102707578" endTime="102707593">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VGh1LCAyNiBKdWwgMjAxOCAxNTozNTozMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA3YWQ3NDlmNjI0ZDQxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWI2dnRDZEd6QmtVck5kOGVzNG93Q2pLUGxyU3RMbWZSNWQrazAwVUEraDNiOG9NQjM0UkpOeTU0NUFORWdtV3dBQlFSZTRGb09BNWJ2RGxpMSs4N0xVUFB5WXlpWGNLb1hEVnpDSEJjSEQwQkFabUtOcUZHZnhIanc2ZVVrRGIyYlBCODh1S0JmMkFPZWdFYlNMQ2FSM2swMU8wSjE0WFhmRFhNN21nMUdzcUk4ZzlYT2padkl1bHE3UjIvZ2N2MUoxZm1XWEhuZ2FnVmQxWlQweGpmcXAxc29nYTVsWC9oOG9lVXFSLzhNMXluS3dGdW9pVFJiY08zRkVOUFNqOU0zRldzQTBGSTFFcGNkNUtXZ2VLZlorWmlYd1JmNm9xa2ZzZkV0U3V3SGlZcU9PMmt4eEdpUGNMazZjR21vc2N5NnNXVzk0eiszOTRTZFNZVDNsVmtzUjY3RU5wQXR1TDlETTQ5KzE4ZDh0U1Z4VXhKRjV1bW5NY1E4Nk9jd2RMdW9JYWczemcxQ056a2hRdTV4V213SjJBb0x4TFlzdHprVEx4OXVyY1podk8zR2pWTW9MeUNEVjFIQlNKRkVqWnJKR0tuSEZhaVkzM1ZFSVpXQlpHVmFFRkhBcGtGRDlvMmNiM1FPODhaSWxxN2FmWkRWR0JYS2NnVFBPM1RQcVNYQ2tlOEswbXhYRVpMYnFZUWFtbHVpeTh3N3VTcUhWNUtnSm9CRXNZcitVQU92KzJGRFE1dz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvY29tbW9uLXNlc3Npb24tc3RvcmFnZS5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVGh1LCAyNiBKdWwgMjAxOCAxNTozNTozMiBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwN2FkNzQ5ZjYyNGQ0MTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWI2dnRDZEd6QmtVck5kOGVzNG93Q2pLUGxyU3RMbWZSNWQrazAwVUEraDNiOG9NQjM0UkpOeTU0NUFORWdtV3dBQlFSZTRGb09BNWJ2RGxpMSs4N0xVUFB5WXlpWGNLb1hEVnpDSEJjSEQwQkFabUtOcUZHZnhIanc2ZVVrRGIyYlBCODh1S0JmMkFPZWdFYlNMQ2FSM2swMU8wSjE0WFhmRFhNN21nMUdzcUk4ZzlYT2padkl1bHE3UjIvZ2N2MUoxZm1XWEhuZ2FnVmQxWlQweGpmcXAxc29nYTVsWC9oOG9lVXFSLzhNMXluS3dGdW9pVFJiY08zRkVOUFNqOU0zRldzQTBGSTFFcGNkNUtXZ2VLZlorWmlYd1JmNm9xa2ZzZkV0U3V3SGlZcU9PMmt4eEdpUGNMazZjR21vc2N5NnNXVzk0eiszOTRTZFNZVDNsVmtzUjY3RU5wQXR1TDlETTQ5KzE4ZDh0U1Z4VXhKRjV1bW5NY1E4Nk9jd2RMdW9JYWczemcxQ056a2hRdTV4V213SjJBb0x4TFlzdHprVEx4OXVyY1podk8zR2pWTW9MeUNEVjFIQlNKRkVqWnJKR0tuSEZhaVkzM1ZFSVpXQlpHVmFFRkhBcGtGRDlvMmNiM1FPODhaSWxxN2FmWkRWR0JYS2NnVFBPM1RQcVNYQ2tlOEswbXhYRVpMYnFZUWFtbHVpeTh3N3VTcUhWNUtnSm9CRXNZcitVQU92KzJGRFE1dz09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VGh1LCAyNiBKdWwgMjAxOCAxNTozNTozMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA3YWQ3NDlmNjI0ZDQxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVnQnB6djVLUG5RTG5oN0h4anlDQlV5NnErRlg3NFBmMnJQNFpvQ056RVJZUGtrMFJWOUV6MEhZOThtWmRwMzZpaVdjLzZ0QlhiempxYVpCMW9LdklXbDJZTFh6U0VIS1BYcnRDMG5yS2NMalNXeVN3UHpMWnhlQ3hjNmVLSnQ0UzlrWUhwbUxSK3VEdFh5b1ZvcU09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVGh1LCAyNiBKdWwgMjAxOCAxNTozNTozMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDdhZDc0OWY2MjRkNDE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVnQnB6djVLUG5RTG5oN0h4anlDQlV5NnErRlg3NFBmMnJQNFpvQ056RVJZUGtrMFJWOUV6MEhZOThtWmRwMzZpaVdjLzZ0QlhiempxYVpCMW9LdklXbDJZTFh6U0VIS1BYcnRDMG5yS2NMalNXeVN3UHpMWnhlQ3hjNmVLSnQ0UzlrWUhwbUxSK3VEdFh5b1ZvcU09DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707593" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="160" hostname="omniconv" path="/OMNIStatic/scripts/collapsible.js" url="http://omniconv/OMNIStatic/scripts/collapsible.js" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.425-07:00" startTime="102707578" endTime="102707593">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlWRXg0eWlkNDZDUkFuUmp1eGZSaHFJc0o5dzhIOG5HMVUrRlhHYW5Xa3EyZXQzREVLaDU2aUZnWmRBN3VRMWxoU21mVDl2eUdQRHRvaENsanVsYzY1TW5XazFmTEhzc2h5ckpmaVBseTVKVm8rRjByVVNUVFVwc3VuNzk5SG93SDZGek92YkxQcmVzcEt5MDF3SXgySFQ3ZXNqQ1FUK1M1MVlyMng1NitXK1owK21jUWJFUlZyMDF2NkRGZjZucHpVMlRrVEREQ3NyYWNuRUF2SEN4VDNjMmlqWG5LT1BoRmNnYWtsdUZMcU9GZUt3UHZheHMxUEZyNnRramE2aWlCMkdTc0hWWlVJS0JDcnFiU1MyM000RkFnV1FJU1VHNjJpNWMrclo3NytkRTZMNXI5WDNKN3lTT0tVaVNDeUVSVExoOThIV2hrZzc4YTFPTi9zS2ljWFg0TG1KNkJtOUMxRXpCVUlSSDVTVWtZRGFiRWpXcFlxUnNwbzlydEIyTUZBaFUwL0VDU2NLM1NOd0p6TWZWN3BjZTJjdy9rOE1QSTRkTzV3cWZpSXFXd09kMU1QWkF0TVA4RmVidmE0YU12QUNUSTh1cFphT2RKREM2dlBPakFYVldQNVF1WnhTSW9GRjArMTJWVDdSazR5d2ZHN1dPNmpNRUg0eUxhODRlSEpxWE5NNzBYUEpSZVhzb1VHcmtsdyswai9jekllTnI0WnVYbm16K1JSUk5SejkwZUY3Zz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvY29sbGFwc2libGUuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlWRXg0eWlkNDZDUkFuUmp1eGZSaHFJc0o5dzhIOG5HMVUrRlhHYW5Xa3EyZXQzREVLaDU2aUZnWmRBN3VRMWxoU21mVDl2eUdQRHRvaENsanVsYzY1TW5XazFmTEhzc2h5ckpmaVBseTVKVm8rRjByVVNUVFVwc3VuNzk5SG93SDZGek92YkxQcmVzcEt5MDF3SXgySFQ3ZXNqQ1FUK1M1MVlyMng1NitXK1owK21jUWJFUlZyMDF2NkRGZjZucHpVMlRrVEREQ3NyYWNuRUF2SEN4VDNjMmlqWG5LT1BoRmNnYWtsdUZMcU9GZUt3UHZheHMxUEZyNnRramE2aWlCMkdTc0hWWlVJS0JDcnFiU1MyM000RkFnV1FJU1VHNjJpNWMrclo3NytkRTZMNXI5WDNKN3lTT0tVaVNDeUVSVExoOThIV2hrZzc4YTFPTi9zS2ljWFg0TG1KNkJtOUMxRXpCVUlSSDVTVWtZRGFiRWpXcFlxUnNwbzlydEIyTUZBaFUwL0VDU2NLM1NOd0p6TWZWN3BjZTJjdy9rOE1QSTRkTzV3cWZpSXFXd09kMU1QWkF0TVA4RmVidmE0YU12QUNUSTh1cFphT2RKREM2dlBPakFYVldQNVF1WnhTSW9GRjArMTJWVDdSazR5d2ZHN1dPNmpNRUg0eUxhODRlSEpxWE5NNzBYUEpSZVhzb1VHcmtsdyswai9jekllTnI0WnVYbm16K1JSUk5SejkwZUY3Zz09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVLMHQycTluZ01QbXVCam1NemtHMFVmOFlxdEV6SEJsOGZqbDRtSUZxNmsraHllVUJXejQwU3BWNnFmUURNRmdPY2VVeDN0OFo1VmttNTBZMmJmZWpBS0Y4R3ZlNzlYcEhrNHRucTVhTVRiNXUvSWxuWUtUTHphWUx0ZWNlSVVqdVVLcldpTytpcGNmTERjRmh1MXM9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MzI3OA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdUswdDJxOW5nTVBtdUJqbU16a0cwVWY4WXF0RXpIQmw4ZmpsNG1JRnE2aytoeWVVQld6NDBTcFY2cWZRRE1GZ09jZVV4M3Q4WjVWa201MFkyYmZlakFLRjhHdmU3OVhwSGs0dG5xNWFNVGI1dS9JbG5ZS1RMemFZTHRlY2VJVWp1VUtyV2lPK2lwY2ZMRGNGaHUxcz0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogMzI3OA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyoqDQogKiBjb2xsYXBzaWJsZSgpIGlzIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNvbnZlcnQgYSBncm91cGluZyBvZiBoMy1kaXYgcGFpcnMgaW50byBjb2xsYXBzaWJsZSBzZWN0aW9ucy4NCiAqIFdoZW4gdGhlIGhlYWRlciAoaDMpIGlzIGNsaWNrZWQsIHRoZSBjb250ZW50IChkaXYpIGlzIGR5bmFtaWNhbGx5IGxvYWRlZCwgY2FjaGVkLCBhbmQgZXhwYW5kZWQgb3IgY29sbGFwc2VkLg0KICogICAgdXNhZ2U6ICQoIiNteUNvbGxhcHNpYmxlRGl2IikuY29sbGFwc2libGUoKTsNCiAqLw0KKGZ1bmN0aW9uKCQpIHsNCgkkLmZuLmNvbGxhcHNpYmxlID0gZnVuY3Rpb24ob3B0aW9ucykgew0KDQoJCXZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHsNCgkJCS8vIEluaXRpYWxpemF0aW9uIGZ1bmN0aW9uDQoJCQlpbml0IDogZnVuY3Rpb24oKSB7fSwNCgkJCQ0KCQkJLy8gSWYgdHJ1ZSwgd2lsbCBzY3JvbGwgdG8gdGhlIGJhbm5lciBqdXN0IGV4cGFuZGVkDQoJCQlzY3JvbGxUb0Jhbm5lcjogZmFsc2UsDQoJCQkNCgkJCS8vIENhbGxiYWNrIGZ1bmN0aW9uIGVudm9rZWQgYWZ0ZXIgYSBzZWN0aW9uJ3MgY29udGVudCBoYXMgYmVlbiByZWxvYWRlZC4NCgkJCWFmdGVyUmVsb2FkIDogZnVuY3Rpb24oaGVhZGVyLCBjb250ZW50KSB7fSwNCg0KCQkJLy8gRnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIGhlYWRlciBpcyBleHBhbmRlZA0KCQkJYWZ0ZXJFeHBhbmQ6IGZ1bmN0aW9uKCkge30sDQoJCQkNCgkJCS8vIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBoZWFkZXIgaXMgY29sbGFwc2VkDQoJCQlhZnRlckNvbGxhcHNlOiBmdW5jdGlvbigpIHt9LA0KCQkJDQoJCQkvLyBkZWZhdWx0IERPTSBlbGVtZW50IHVzZWQgdG8gZGVub3RlIHRoZSBIZWFkZXIgc2VjdGlvbnMNCgkJCWhlYWRlckVsZW06ICdoMycsDQoJCQkNCgkJCS8vIGEgc2Vjb25kIHJvdyBvZiB0aGUgbWFpbiB0aXRsZSwgaWYgbmVlZGVkLg0KCQkJdGl0bGUyOiAnJywgDQoJCQkNCgkJCWNhY2hlZDogdHJ1ZQ0KCQl9LCBvcHRpb25zKTsNCg0KCQkvKioNCgkJICogUmVsb2FkcyBhIGNvbGxhcHNpYmxlIHNlY3Rpb24gYmVsb3cgYSBoZWFkZXIgZWxlbWVudA0KCQkgKiANCgkJICogQHBhcmFtIGhlYWRlciAtIGhlYWRlciBlbGVtZW50IGFib3ZlIHRoZSBjb2xsYXBzaWJsZSBzZWN0aW9uIHRvIHJlbG9hZA0KCQkgKiBAcGFyYW0gYVN5bmMgLSBwYXNzdGhyb3VnaCBwYXJhbWV0ZXIgdG8galF1ZXJ5IHRvIGRlbm90ZSBpZiB0aGUgcmVxdWVzdCBzaG91bGQgYmUgYXN5bmNocm9ub3VzIG9yIG5vdA0KCQkgKiBAcGFyYW0gY29tcGxldGUgLSBhIGZ1bmN0aW9uIHRvIGNhbGwgYWZ0ZXIgdGhlIGRhdGEgaXMgbG9hZGVkDQoJCSAqLw0KCQlmdW5jdGlvbiByZWxvYWRDb250ZW50KGhlYWRlciwgYVN5bmMsIGNvbXBsZXRlKSB7DQoJCQlpZiAoaGVhZGVyLm5leHQoKS5kYXRhKCd1cmwnKSkgew0KCQkJCWhlYWRlci5maW5kKCcuY29sbGFwc2libGUtaGVhZGVyLXNwaW5uZXInKS5hZGRTcGlubmVyUE5HKCk7DQoJCQkJaGVhZGVyLm5leHQoKS5lYWNoKGZ1bmN0aW9uKGksIGUpIHsNCgkJCQkJdmFyIGNvbnRlbnQgPSAkKGUpOw0KCQkJCQkkLmFqYXgoew0KCQkJCQkJdXJsOmNvbnRlbnQuZGF0YSgndXJsJyksDQoJCQkJCQlkYXRhOnsgDQoJCQkJCQkJbW9kZTpoZWFkZXIuZGF0YSgnbW9kZScpLCANCgkJCQkJCQlyZXN0b3JlU3RhdGU6aGVhZGVyLmRhdGEoJ3Jlc3RvcmVTdGF0ZScpDQoJCQkJCQl9LCANCgkJCQkJCWFzeW5jIDogYVN5bmMNCgkJCQkJfSkuZG9uZShmdW5jdGlvbihyZXNwb25zZSwgc3RhdHVzLCB4aHIpIHsNCgkJCQkJCS8vIENRMzEwNDAgLSB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIGp1c3QgYW4gaHRtbCBmcmFnbWVudC4gIEJ1dCBpZiB0aGVyZSBpcyBhIDxib2R5PiB0YWcgKGllLiBmcm9tIGEgNTUwLmpzcCBlcnJvciBmaWxlKSwganVzdCBkaXNwbGF5IHRoZSBzdHVmZiBiZXR3ZWVuLiANCgkJCQkJCXZhciByZSA9IC8uKjxib2R5W14+XSo+KFtcc1xTXSopPFwvYm9keT4uKi9pOw0KCQkJCQkJdmFyIG0gPSByZS5leGVjKHJlc3BvbnNlKTsNCgkJCQkJCWlmIChtICE9IG51bGwpIHsNCgkJCQkJCQljb250ZW50Lmh0bWwobVsxXSk7DQoJCQkJCQl9DQoJCQkJCQllbHNlIHsJCQkJCQkNCgkJCQkJCQljb250ZW50Lmh0bWwocmVzcG9uc2UpOw0KCQkJCQkJfQ0KCQkJDQoJCQkJCQkvLyBkbyBsb2NhbCBjYWxsYmFjaywgaWYgaXQgZXhpc3RzDQoJCQkJCQlpZiAoY29tcGxldGUpIGNvbXBsZXRlLmNhbGwoaGVhZGVyKTsNCgkJCQkJCQ0KCQkJCQkJLy8gZG8gZ2xvYmFsIGNhbGxiYWNrLCBpZiBzcGVjaWZpZWQNCgkJCQkJCXNldHRpbmdzLmFmdGVyUmVsb2FkLmNhbGwoaGVhZGVyLCBjb250ZW50KTsJCQ0KCQkJCQkJDQoJCQkJCQloZWFkZXIuZmluZCgnLmNvbGxhcHNpYmxlLWhlYWRlci1zcGlubmVyJykucmVtb3ZlU3Bpbm5lclBORygpOwkJCQkJDQoJCQkJCX0pOw0KCQkJCX0pOw0KCQkJfQ0KCQl9DQoNCgkJLyoqDQoJCSAqIEV4cGFuZHMgYSBzZWN0aW9uIA0KCQkgKi8NCgkJZnVuY3Rpb24gc2hvd0NvbnRlbnQoZSwgY2FsbGJhY2spIHsNCgkJCXZhciBoZWFkZXIgPSAkKHRoaXMpOw0KCQkJaGVhZGVyLmRhdGEoJ3N0YXRlJywgJ2V4cGFuZGVkJyk7DQoJCQkNCgkJCS8vIGxvYWQgdGhlIGNvbnRlbnQgaWYgaXQncyBlbXB0eQ0KCQkJaWYgKCFzZXR0aW5ncy5jYWNoZWQgfHwgaGVhZGVyLm5leHQoKS5odG1sKCkgPT0gJycpIHsNCgkJCQkvLyByZWxvYWQgYW5kIHNob3cgdGhlIGNvbnRlbnQgb24gY2FsbGJhY2sNCgkJCQlyZWxvYWRDb250ZW50KGhlYWRlciwgdHJ1ZSwgZnVuY3Rpb24oKSB7IHNob3dIaWRlQ29udGVudChoZWFkZXIsIHRydWUsIGNhbGxiYWNrKTsgfSk7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlzaG93SGlkZUNvbnRlbnQoaGVhZGVyLCB0cnVlLCBjYWxsYmFjayk7DQoJCQl9DQoJCX0NCg0KCQkvKioNCgkJICogQ29sbGFwc2VkIGEgc2VjdGlvbg0KCQkgKi8NCgkJZnVuY3Rpb24gaGlkZUNvbnRlbnQoKSB7DQoJCQl2YXIgaGVhZGVyID0gJCh0aGlzKTsNCgkJCWhlYWRlci5kYXRhKCdzdGF0ZScsICdjb2xsYXBzZWQnKTsNCgkJCXNob3dIaWRlQ29udGVudChoZWFkZXIsIHRydWUpOw0KCQl9DQoNCgkJLyoqDQoJCSAqIFRvZ2dsZXMgYSBzZWN0aW9uJ3MgZXhwYW5kL2NvbGxhcHNlIHN0YXRlDQoJCSAqLw0KCQlmdW5jdGlvbiB0b2dnbGVDb250ZW50KCkgew0KCQkJdmFyIGhlYWRlciA9ICQodGhpcyk7DQoJCQlpZiAoaGVhZGVyLmRhdGEoJ3N0YXRlJykgPT0gJ2V4cGFuZGVkJykgew0KCQkJCWhlYWRlci50cmlnZ2VyKCdoZWFkZXI6Y29sbGFwc2UnKTsNCgkJCX0gDQoJCQllbHNlIHsNCgkJCQloZWFkZXIudHJpZ2dlcignaGVhZGVyOmV4cGFuZCcpOw0KCQkJfQ0KCQl9DQoNCgkJLyoqDQoJCSAqIERvZXMgdGhlIGFjdHVhbCB3b3JrIG9mIGV4cGFuZGluZy9jb2xsYXBzaW5nIGEgc2VjdGlvbg0KCQkgKi8NCgkJZnVuY3Rpb24gc2hvd0hpZGVDb250ZW50KGhlYWRlciwgYW5pbWF0ZSwgY2FsbGJhY2spIHsNCgkJCXZhciBjb250ZW50ID0gaGVhZGVyLm5leHQoKTsNCg0KCQkJaWYgKGhlYWRlci5kYXRhKCdzdGF0ZScpID09ICdleHBhbmRlZCcpIHsNCgkJCQloZWFkZXIuZmluZCgnLmNvbGxhcHNpYmxlLWhlYWRlci1pY29uJykNCgkJCQkJLnJlbW92ZUNsYXNzKCdjb2xsYXBzaWJsZS1oZWFkZXItaWNvbi1wbHVzJykNCgkJCQkJLmFkZENsYXNzKCdjb2xsYXBzaWJsZS1oZWFkZXItaWNvbi1taW51cycpOw0KCQkJCWlmIChhbmltYXRlKSB7DQoJCQkvLwkJaWYgKHNldHRpbmdzLnNjcm9sbFRvQmFubmVyKSB7DQoJCQkJCWNvbnRlbnQuc2xpZGVEb3duKCdmYXN0JywgZnVuY3Rpb24oKSB7DQoJCQkJCQkkKCdodG1sLGJvZHknKS5hbmltYXRlKHsNCgkJCQkJCQlzY3JvbGxUb3AgOiBoZWFkZXIub2Zmc2V0KCkudG9wDQoJCQkJCQl9KTsNCgkJCQkJCWhlYWRlci50cmlnZ2VyKCdoZWFkZXI6YWZ0ZXJFeHBhbmQnKTsNCg0KCQkJCQkJLy8gZG8gY2FsbGJhY2sgcGFzc2VkIGluIGZyb20gdGhlIHRyaWdnZXIsIGlmIGl0IGV4aXN0cw0KCQkJCQkJaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKCk7DQoJCQkJCX0pOw0KCQkJLy8JCX0NCgkJCS8vCQllbHNlIHsNCgkJCS8vCQkJY29udGVudC5zbGlkZURvd24oJ2Zhc3QnKTsNCgkJCS8vCQl9DQoJCQkJfSBlbHNlIHsNCgkJCQkJY29udGVudC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7DQoJCQkJCWhlYWRlci50cmlnZ2VyKCdoZWFkZXI6YWZ0ZXJFeHBhbmQnKTsNCgkJCQkJDQoJCQkJCS8vIGRvIGNhbGxiYWNrIHBhc3NlZCBpbiBmcm9tIHRoZSB0cmlnZ2VyLCBpZiBpdCBleGlzdHMNCgkJCQkJaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKCk7DQoJCQkJfQ0KCQkJCSQoJy5jb2xsYXBzaWJsZSBhLmNvbGxhcHNlQWxsJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQl9IGVsc2Ugew0KCQkJCWhlYWRlci5maW5kKCcuY29sbGFwc2libGUtaGVhZGVyLWljb24nKQ0KCQkJCQkucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpYmxlLWhlYWRlci1pY29uLW1pbnVzJykNCgkJCQkJLmFkZENsYXNzKCdjb2xsYXBzaWJsZS1oZWFkZXItaWNvbi1wbHVzJyk7DQoJCQkJY29udGVudC5zbGlkZVVwKCdmYXN0Jyk7DQoJCQkJLy8gZGlzYWJsZSB0aGUgQ29sbGFwc2UgQWxsIGxpbmtzIGlmIGFsbCBzZWN0aW9ucyBhcmUgY29sbGFwc2VkLg0KCQkJCWlmICgkKCcuY29sbGFwc2libGUgLmNvbGxhcHNpYmxlLWhlYWRlcicpLmZpbHRlcihmdW5jdGlvbigpIHtyZXR1cm4gJCh0aGlzKS5kYXRhKCdzdGF0ZScpID09ICdleHBhbmRlZCc7fSkubGVuZ3RoID09IDApIHsJCQkJDQoJCQkJCSQoJy5jb2xsYXBzaWJsZSBhLmNvbGxhcHNlQWxsJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJfQ0KCQkJCWhlYWRlci50cmlnZ2VyKCdoZWFkZXI6YWZ0ZXJDb2xsYXBzZScpOw0KDQoJCQkJLy8gZG8gY2FsbGJhY2sgcGFzc2VkIGluIGZyb20gdGhlIHRyaWdnZXIsIGlmIGl0IGV4aXN0cw0KCQkJCWlmIChjYWxsYmFjaykgY2FsbGJhY2suY2FsbCgpOw0KCQkJfQkJCQ0KCQl9DQoJCQ0KCQlmdW5jdGlvbiBzZXRFZGl0TW9kZSgpIHsNCgkJCSQodGhpcykuZGF0YSgnbW9kZScsICdlZGl0Jyk7DQoJCQkvLyBEaXNhYmxlIHRoZSBbRWRpdF0gbGluaw0KCQkJJCh0aGlzKS5maW5kKCdhLmVkaXQnKS5yZW1vdmVDbGFzcygnY2xzLWxpbmsnKTsNCgkJCXJlbG9hZENvbnRlbnQoJCh0aGlzKSwgdHJ1ZSk7DQoJCX0NCgkJDQoJCWZ1bmN0aW9uIHNldFZpZXdNb2RlKCkgew0KCQkJLy8gU2V0IHRoZSBoZWFkZXIgYmFjayB0byB2aWV3LW9ubHkgbW9kZSBhbmQgcmVsb2FkIGNvbnRlbnQNCgkJCSQodGhpcykuZGF0YSgnbW9kZScsICd2aWV3Jyk7DQoJCQkvLyBFbmFibGUgdGhlIFtFZGl0XSBsaW5rDQoJCQkkKHRoaXMpLmZpbmQoJ2EuZWRpdCcpLmFkZENsYXNzKCdjbHMtbGluaycpOw0KCQkJcmVsb2FkQ29udGVudCgkKHRoaXMpLCB0cnVlKTsNCgkJfQ0KDQoJCS8vIFNldHVwIERPTSwgYWRkIHN0eWxlcw0KCQl0aGlzLmFkZENsYXNzKCdjb2xsYXBzaWJsZScpDQoJCQkuZmluZChzZXR0aW5ncy5oZWFkZXJFbGVtKQ0KCQkJLmFkZENsYXNzKCdjb2xsYXBzaWJsZS1oZWFkZXInKQ0KCQkJLmFwcGVuZCgnPHNwYW4gY2xhc3M9ImNvbGxhcHNpYmxlLWhlYWRlci1pY29uIGNvbGxhcHNpYmxlLWhlYWRlci1pY29uLXBsdXMiPjwvc3Bhbj4nKQ0KCQkJLmFwcGVuZCgnPHNwYW4gY2xhc3M9ImNvbGxhcHNpYmxlLWhlYWRlci1zcGlubmVyIj48L3NwYW4+JykNCgkJCS5hcHBlbmQoc2V0dGluZ3MudGl0bGUyKQ0KCQkJLm5leHQoKSAvLyB0aGUgbmV4dCBlbGVtZW50IGFmdGVyIHRoZSBoZWFkZXIgKHRoZSBkaXYpLCBpbml0aWFsbHkgc2V0IGFzIGhpZGRlbi4NCgkJCQkuYWRkQ2xhc3MoJ2NvbGxhcHNpYmxlLWNvbnRlbnQgaGlkZGVuJyk7DQoJCXRoaXMuZmluZCgiLmNvbGxhcHNpYmxlLWhlYWRlciAuZmxhZyIpLmVhY2goZnVuY3Rpb24gKCkgew0KCQkJJCh0aGlzKS5hcHBlbmRUbygkKHRoaXMpLnBhcmVudCgpKTsNCgkJfSk7DQoJCXRoaXMuZmluZChzZXR0aW5ncy5oZWFkZXJFbGVtKS5ub3QoJy5kaXNhYmxlZCcpDQoJCQkuaG92ZXIoZnVuY3Rpb24oKSB7ICQodGhpcykudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNpYmxlLWhlYWRlci1ob3ZlcicpOyB9KQ0KCQkJLm9uKCdoZWFkZXI6dG9nZ2xlJywgdG9nZ2xlQ29udGVudCkNCgkJCS5vbignaGVhZGVyOmV4cGFuZCcsIHNob3dDb250ZW50KQ0KCQkJLm9uKCdoZWFkZXI6Y29sbGFwc2UnLCBoaWRlQ29udGVudCkNCgkJCS5vbignaGVhZGVyOmVkaXQnLCBzZXRFZGl0TW9kZSkNCgkJCS5vbignaGVhZGVyOnZpZXcnLCBzZXRWaWV3TW9kZSkNCgkJCS5vbignaGVhZGVyOmFmdGVyRXhwYW5kJywgc2V0dGluZ3MuYWZ0ZXJFeHBhbmQpDQoJCQkub24oJ2hlYWRlcjphZnRlckNvbGxhcHNlJywgc2V0dGluZ3MuYWZ0ZXJDb2xsYXBzZSkNCgkJCS5lYWNoKGZ1bmN0aW9uKCkgeyAkKHRoaXMpLmRhdGEoJ21vZGUnLCAndmlldycpOyAkKHRoaXMpLmRhdGEoJ3N0YXRlJywgJ2NvbGxhcHNlZCcpOyAkKHRoaXMpLmRhdGEoJ3Jlc3RvcmVTdGF0ZScsICdmYWxzZScpO30pDQoJCQkuZmluZCgnYS5lZGl0JykuYWRkQ2xhc3MoJ2hyZWYtZGlzYWJsZWQnKS5hZGRDbGFzcygnY2xzLWxpbmsnKTsNCg0KCQkvLyBSZWdpc3RlciBoZWFkZXIgY2xpY2sgZXZlbnQgdG8gdG9nZ2xlIHRoZSB2aWV3aW5nIG9mIHRoZSBjb250ZW50IHNlY3Rpb24NCgkJdGhpcy5maW5kKCcuY29sbGFwc2libGUtaGVhZGVyJykubm90KCcuZGlzYWJsZWQnKS5jbGljayhmdW5jdGlvbigpIHsNCgkJCSQodGhpcykudHJpZ2dlcignaGVhZGVyOnRvZ2dsZScpOw0KCQl9KTsNCg0KCQkvLyBBZGQgW0VkaXRdIGNsaWNrIGV2ZW50IHRvIHJlbG9hZCBjb250ZW50IGluIGVkaXQgbW9kZS4NCgkJdGhpcy5maW5kKCcuY29sbGFwc2libGUtaGVhZGVyJykubm90KCcuZGlzYWJsZWQnKS5maW5kKCdhLmVkaXQnKS5jbGljayhmdW5jdGlvbihlKSB7DQoJCQkvLyBkb24ndCBidWJibGUgdXAgdG8gaGVhZGVyIGNsaWNrIGV2ZW50DQoJCQllLnN0b3BQcm9wYWdhdGlvbigpOw0KDQoJCQkvLyBzaG9ydC1jaXJjdWl0IGlmIHRoaXMgaGVhZGVyIGlzIGFscmVhZHkgaW4gZWRpdCBtb2RlDQoJCQl2YXIgaGVhZGVyID0gJCh0aGlzKS5jbG9zZXN0KCcuY29sbGFwc2libGUtaGVhZGVyJyk7DQoJCQlpZiAoaGVhZGVyLmRhdGEoJ21vZGUnKSA9PSAnZWRpdCcpIHJldHVybjsNCgkJCQ0KCQkJLy8gT25seSBvbmUgc2VjdGlvbiBjYW4gYmUgZWRpdGlibGUgYXQgYW55IGdpdmVuIHRpbWUuICBDaGVjayBpZiBwYWdlIGlzIGRpcnR5Lg0KCQkJaWYgKGNoZWNrRm9ybUNoYW5nZWQoKSA9PSBmYWxzZSkgcmV0dXJuOw0KDQoJCQkvLyByZWxvYWQgYWxsIGVkaXRhYmxlIHNlY3Rpb25zIGluIHJlYWQtb25seSBtb2RlDQoJCQkkKCIuY29sbGFwc2libGUgLmNvbGxhcHNpYmxlLWhlYWRlciIpLm5vdCgnLmRpc2FibGVkJykNCgkJCQkuZmlsdGVyKGZ1bmN0aW9uKCkgeyByZXR1cm4gaGVhZGVyLmF0dHIoJ2lkJykgIT09ICQodGhpcykuYXR0cignaWQnKTsgfSkgLy8gZG9uJ3QgcmVsb2FkIHRoaXMgaGVhZGVyIGZpcnN0IGluIHZpZXcgbW9kZSB0aGVuIGluIGVkaXQgbW9kZS4NCgkJCQkuZmlsdGVyKGZ1bmN0aW9uKCkgeyByZXR1cm4gJCh0aGlzKS5kYXRhKCdtb2RlJykgPT0gJ2VkaXQnOyB9KQ0KCQkJCS5lYWNoKGZ1bmN0aW9uKCkgeyAkKHRoaXMpLnRyaWdnZXIoJ2hlYWRlcjp2aWV3Jyk7IH0pOw0KDQoJCQkvLyBvbmx5IHJlbG9hZCB0aGUgZXhwYW5kYWJsZSBzZWN0aW9uIGluIGVkaXQgbW9kZSBpZiB3ZSBoYXZlbid0IGFscmVhZHkNCgkJCWlmIChoZWFkZXIuZGF0YSgnbW9kZScpICE9ICdlZGl0JykgewkJCQkJDQoJCQkJLy8gRGlzYWJsZSB0aGUgW0VkaXRdIGxpbmsNCgkJCQkkKHRoaXMpLnJlbW92ZUNsYXNzKCdjbHMtbGluaycpOw0KCQkJCQ0KCQkJCS8vIFdlIGRvbid0IHdhbnQgdG8gdG9nZ2xlIHRoZSBzZWN0aW9uLCBidXQgd2UgZG8gd2FudCB0byByZWxvYWQgdGhlIHNlY3Rpb24gaW4gZWRpdCBtb2RlLg0KCQkJCWhlYWRlci5kYXRhKCdtb2RlJywgJ2VkaXQnKTsNCgkJCQlyZWxvYWRDb250ZW50KGhlYWRlciwgdHJ1ZSwgc2hvd0NvbnRlbnQpOw0KCQkJfQ0KCQl9KTsNCg0KCQkvLyBSZXR1cm4gdG8gdG9wIGxpbmtzIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBzZWN0aW9uDQoJCXRoaXMuZmluZCgnYS5jb2xsYXBzZUFsbCcpLmFkZENsYXNzKCdjbHMtbGluaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHsNCgkJCSQoJy5jb2xsYXBzaWJsZSAuY29sbGFwc2libGUtaGVhZGVyJykuZWFjaChmdW5jdGlvbigpIHsNCgkJCQkkKHRoaXMpLnRyaWdnZXIoJ2hlYWRlcjpjb2xsYXBzZScpOw0KCQkJfSk7DQoJCQkkKCdodG1sLGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wIDogMCB9KTsNCgkJfSk7DQoNCgkJc2V0dGluZ3MuaW5pdC5jYWxsKCk7DQoNCgkJLy8gSW5pdCAtIGxvYWQgYWxsIHNlY3Rpb25zIHRoYXQgc2hvdWxkIGJlIG9wZW4gdG8gc3RhcnQgd2l0aC4NCgkJdGhpcy5maW5kKCcuY29sbGFwc2libGUtaGVhZGVyJykubm90KCcuZGlzYWJsZWQnKS5maWx0ZXIoZnVuY3Rpb24oKSB7DQoJCQlyZXR1cm4gJCh0aGlzKS5kYXRhKCdzdGF0ZScpID09ICdleHBhbmRlZCc7DQoJCX0pLmVhY2goZnVuY3Rpb24oKSB7DQoJCQl2YXIgaGVhZGVyID0gJCh0aGlzKTsNCgkJCXJlbG9hZENvbnRlbnQoaGVhZGVyLCBmYWxzZSk7DQoJCQlzaG93SGlkZUNvbnRlbnQoaGVhZGVyLCBmYWxzZSk7CQkJCQkNCgkJfSk7DQoJCXRoaXMuZmluZCgnLmNvbGxhcHNpYmxlLWhlYWRlcicpLm5vdCgnLmRpc2FibGVkJykuZWFjaChmdW5jdGlvbigpIHsNCgkJCXZhciBoZWFkZXIgPSAkKHRoaXMpOw0KCQkJLy8gcmVmcmVzaCBoZWFkZXINCgkJCWlmIChoZWFkZXIuZGF0YSgnbW9kZScpID09ICdlZGl0Jykgew0KCQkJCS8vIERpc2FibGUgdGhlIFtFZGl0XSBsaW5rDQoJCQkJaGVhZGVyLmZpbmQoJ2EuZWRpdCcpLnJlbW92ZUNsYXNzKCdjbHMtbGluaycpOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJLy8gRW5hYmxlIHRoZSBbRWRpdF0gbGluaw0KCQkJCWhlYWRlci5maW5kKCdhLmVkaXQnKS5hZGRDbGFzcygnY2xzLWxpbmsnKTsNCgkJCX0NCgkJfSk7DQoJCQ0KCQl0aGlzLnNob3coKTsNCgl9DQp9KGpRdWVyeSkpOw0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707593" offset="0" length="3865" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="163" hostname="omniconv" path="/OMNIStatic/scripts/calendar-en.js" url="http://omniconv/OMNIStatic/scripts/calendar-en.js" ip="10.37.149.132" port="80" connectionId="11" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.440-07:00" startTime="102707593" endTime="102707609">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJ1em9CWHdSSGZaR3ppbzlPMXZYSEhHb0owNDZCQlhDRkROanJwRjR2MEI0WFByUnBnaUc3SE9VaTZBWk5hSFBma2JZL1RuMHVPUkRNKy9OdUhEcDg2LzVsYmc1THMzWms5RWpqUGs4TUFDcjRUekFXRHBhaXJ4bk9SZmYvQTkybXcyaU1Xd1hIc2pRY1FDQXFYa2wxMk1NTkJtaWFoSm1ENGhRVm9mZUVWY2hwYThZSjhreW8vZGxlSjVWMm1wZ1c0ekcwejJHL28wbkZoQ1pRMkEvb1JqUnVBQVJydEsxb1NEYjRuS1VvSUhmRWN6Yi9aNHZSV3ZqM2hsYjRiMGVVakNoeTlGRldUTnkrM09sV3JkV2ZocUdSc3Q5eFJpbVlEUmZrR2I0K0JyM0hoZndpUjBUMHVTeXlGOWNXZTZtS2E1cXhIV2Jnak05Ui9CdjJ2aHJpN0RkQVk5OTdsSjBTK3VlL1FSNkZzMTEveVlobEZTbllrTy9Ta3BrWDc5TnJJblQ2dWl1MXhManlldFp6WFlnUTB5ei8wTGV1YVRhOEhYV3dzNm1NeVR2TFcxbXlKMkMydUh4Z3c3aHBuRStnYkp6cGVMTU9Hais4ckcyUUxiZUZqVjdkQ25zVkp1U0NVNmJUaWFhVG9WL28xL1JtSW1CTkk1MGZOYlQ3N0ZIMVNDSkYyVVhoSXhReXFzWHZlaldtSk9rd29BOERvTEcxTndvUllJTEs1VnM5UzZ4QUQxdz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvY2FsZW5kYXItZW4uanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJ1em9CWHdSSGZaR3ppbzlPMXZYSEhHb0owNDZCQlhDRkROanJwRjR2MEI0WFByUnBnaUc3SE9VaTZBWk5hSFBma2JZL1RuMHVPUkRNKy9OdUhEcDg2LzVsYmc1THMzWms5RWpqUGs4TUFDcjRUekFXRHBhaXJ4bk9SZmYvQTkybXcyaU1Xd1hIc2pRY1FDQXFYa2wxMk1NTkJtaWFoSm1ENGhRVm9mZUVWY2hwYThZSjhreW8vZGxlSjVWMm1wZ1c0ekcwejJHL28wbkZoQ1pRMkEvb1JqUnVBQVJydEsxb1NEYjRuS1VvSUhmRWN6Yi9aNHZSV3ZqM2hsYjRiMGVVakNoeTlGRldUTnkrM09sV3JkV2ZocUdSc3Q5eFJpbVlEUmZrR2I0K0JyM0hoZndpUjBUMHVTeXlGOWNXZTZtS2E1cXhIV2Jnak05Ui9CdjJ2aHJpN0RkQVk5OTdsSjBTK3VlL1FSNkZzMTEveVlobEZTbllrTy9Ta3BrWDc5TnJJblQ2dWl1MXhManlldFp6WFlnUTB5ei8wTGV1YVRhOEhYV3dzNm1NeVR2TFcxbXlKMkMydUh4Z3c3aHBuRStnYkp6cGVMTU9Hais4ckcyUUxiZUZqVjdkQ25zVkp1U0NVNmJUaWFhVG9WL28xL1JtSW1CTkk1MGZOYlQ3N0ZIMVNDSkYyVVhoSXhReXFzWHZlaldtSk9rd29BOERvTEcxTndvUllJTEs1VnM5UzZ4QUQxdz09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVXMnNqWk9YQUhkQTZQR1hBM2toMThEeEl0OTNwRzJ5SXBjS2liTVZTMUFQMzBRWUd2T0F0Rk5FdGhaY0VneWJpeFNlTHdzZnlNU01JS0tmN3QyWDlsdlUzSStvQkhWWHVCR2FNd3c1eUUyTDBIUUNOUzZXMXlDK05XK3VhaDZsdnRUeVZNdjJRNkxSZlVRMEFhT2M9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MTg5Mw==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdVcyc2paT1hBSGRBNlBHWEEza2gxOER4SXQ5M3BHMnlJcGNLaWJNVlMxQVAzMFFZR3ZPQXRGTkV0aFpjRWd5Yml4U2VMd3NmeU1TTUlLS2Y3dDJYOWx2VTNJK29CSFZYdUJHYU13dzV5RTJMMEhRQ05TNlcxeUMrTlcrdWFoNmx2dFR5Vk12MlE2TFJmVVEwQWFPYz0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogMTg5Mw0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ly8gKiogSTE4Tg0KDQovLyBDYWxlbmRhciBFTiBsYW5ndWFnZQ0KLy8gQXV0aG9yOiBNaWhhaSBCYXpvbiwgPG1paGFpX2Jhem9uQHlhaG9vLmNvbT4NCi8vIEVuY29kaW5nOiBhbnkNCi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBzYW1lIHRlcm1zIGFzIHRoZSBjYWxlbmRhciBpdHNlbGYuDQoNCi8vIEZvciB0cmFuc2xhdG9yczogcGxlYXNlIHVzZSBVVEYtOCBpZiBwb3NzaWJsZS4gIFdlIHN0cm9uZ2x5IGJlbGlldmUgdGhhdA0KLy8gVW5pY29kZSBpcyB0aGUgYW5zd2VyIHRvIGEgcmVhbCBpbnRlcm5hdGlvbmFsaXplZCB3b3JsZC4gIEFsc28gcGxlYXNlDQovLyBpbmNsdWRlIHlvdXIgY29udGFjdCBpbmZvcm1hdGlvbiBpbiB0aGUgaGVhZGVyLCBhcyBjYW4gYmUgc2VlbiBhYm92ZS4NCg0KLy8gZnVsbCBkYXkgbmFtZXMNCkNhbGVuZGFyLl9ETiA9IG5ldyBBcnJheQ0KKCJTdW5kYXkiLA0KIk1vbmRheSIsDQoiVHVlc2RheSIsDQoiV2VkbmVzZGF5IiwNCiJUaHVyc2RheSIsDQoiRnJpZGF5IiwNCiJTYXR1cmRheSIsDQoiU3VuZGF5Iik7DQoNCi8vIFBsZWFzZSBub3RlIHRoYXQgdGhlIGZvbGxvd2luZyBhcnJheSBvZiBzaG9ydCBkYXkgbmFtZXMgKGFuZCB0aGUgc2FtZSBnb2VzDQovLyBmb3Igc2hvcnQgbW9udGggbmFtZXMsIF9TTU4pIGlzbid0IGFic29sdXRlbHkgbmVjZXNzYXJ5LiAgV2UgZ2l2ZSBpdCBoZXJlDQovLyBmb3IgZXhlbXBsaWZpY2F0aW9uIG9uIGhvdyBvbmUgY2FuIGN1c3RvbWl6ZSB0aGUgc2hvcnQgZGF5IG5hbWVzLCBidXQgaWYNCi8vIHRoZXkgYXJlIHNpbXBseSB0aGUgZmlyc3QgTiBsZXR0ZXJzIG9mIHRoZSBmdWxsIG5hbWUgeW91IGNhbiBzaW1wbHkgc2F5Og0KLy8NCi8vICAgQ2FsZW5kYXIuX1NETl9sZW4gPSBOOyAvLyBzaG9ydCBkYXkgbmFtZSBsZW5ndGgNCi8vICAgQ2FsZW5kYXIuX1NNTl9sZW4gPSBOOyAvLyBzaG9ydCBtb250aCBuYW1lIGxlbmd0aA0KLy8NCi8vIElmIE4gPSAzIHRoZW4gdGhpcyBpcyBub3QgbmVlZGVkIGVpdGhlciBzaW5jZSB3ZSBhc3N1bWUgYSB2YWx1ZSBvZiAzIGlmIG5vdA0KLy8gcHJlc2VudCwgdG8gYmUgY29tcGF0aWJsZSB3aXRoIHRyYW5zbGF0aW9uIGZpbGVzIHRoYXQgd2VyZSB3cml0dGVuIGJlZm9yZQ0KLy8gdGhpcyBmZWF0dXJlLg0KDQovLyBzaG9ydCBkYXkgbmFtZXMNCkNhbGVuZGFyLl9TRE4gPSBuZXcgQXJyYXkNCigiU3VuIiwNCiJNb24iLA0KIlR1ZSIsDQoiV2VkIiwNCiJUaHUiLA0KIkZyaSIsDQoiU2F0IiwNCiJTdW4iKTsNCg0KLy8gRmlyc3QgZGF5IG9mIHRoZSB3ZWVrLiAiMCIgbWVhbnMgZGlzcGxheSBTdW5kYXkgZmlyc3QsICIxIiBtZWFucyBkaXNwbGF5DQovLyBNb25kYXkgZmlyc3QsIGV0Yy4NCkNhbGVuZGFyLl9GRCA9IDA7DQoNCi8vIGZ1bGwgbW9udGggbmFtZXMNCkNhbGVuZGFyLl9NTiA9IG5ldyBBcnJheQ0KKCJKYW51YXJ5IiwNCiJGZWJydWFyeSIsDQoiTWFyY2giLA0KIkFwcmlsIiwNCiJNYXkiLA0KIkp1bmUiLA0KIkp1bHkiLA0KIkF1Z3VzdCIsDQoiU2VwdGVtYmVyIiwNCiJPY3RvYmVyIiwNCiJOb3ZlbWJlciIsDQoiRGVjZW1iZXIiKTsNCg0KLy8gc2hvcnQgbW9udGggbmFtZXMNCkNhbGVuZGFyLl9TTU4gPSBuZXcgQXJyYXkNCigiSmFuIiwNCiJGZWIiLA0KIk1hciIsDQoiQXByIiwNCiJNYXkiLA0KIkp1biIsDQoiSnVsIiwNCiJBdWciLA0KIlNlcCIsDQoiT2N0IiwNCiJOb3YiLA0KIkRlYyIpOw0KDQovLyB0b29sdGlwcw0KQ2FsZW5kYXIuX1RUID0ge307DQpDYWxlbmRhci5fVFRbIklORk8iXSA9ICJBYm91dCB0aGUgY2FsZW5kYXIiOw0KDQpDYWxlbmRhci5fVFRbIkFCT1VUIl0gPQ0KIkRIVE1MIERhdGUvVGltZSBTZWxlY3RvclxuIiArDQoiKGMpIGR5bmFyY2guY29tIDIwMDItMjAwNSAvIEF1dGhvcjogTWloYWkgQmF6b25cbiIgKyAvLyBkb24ndCB0cmFuc2xhdGUgdGhpcyB0aGlzIDstKQ0KIkZvciBsYXRlc3QgdmVyc2lvbiB2aXNpdDogaHR0cDovL3d3dy5keW5hcmNoLmNvbS9wcm9qZWN0cy9jYWxlbmRhci9cbiIgKw0KIkRpc3RyaWJ1dGVkIHVuZGVyIEdOVSBMR1BMLiAgU2VlIGh0dHA6Ly9nbnUub3JnL2xpY2Vuc2VzL2xncGwuaHRtbCBmb3IgZGV0YWlscy4iICsNCiJcblxuIiArDQoiRGF0ZSBzZWxlY3Rpb246XG4iICsNCiItIFVzZSB0aGUgXHhhYiwgXHhiYiBidXR0b25zIHRvIHNlbGVjdCB5ZWFyXG4iICsNCiItIFVzZSB0aGUgIiArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgyMDM5KSArICIsICIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MjAzYSkgKyAiIGJ1dHRvbnMgdG8gc2VsZWN0IG1vbnRoXG4iICsNCiItIEhvbGQgbW91c2UgYnV0dG9uIG9uIGFueSBvZiB0aGUgYWJvdmUgYnV0dG9ucyBmb3IgZmFzdGVyIHNlbGVjdGlvbi4iOw0KQ2FsZW5kYXIuX1RUWyJBQk9VVF9USU1FIl0gPSAiXG5cbiIgKw0KIlRpbWUgc2VsZWN0aW9uOlxuIiArDQoiLSBDbGljayBvbiBhbnkgb2YgdGhlIHRpbWUgcGFydHMgdG8gaW5jcmVhc2UgaXRcbiIgKw0KIi0gb3IgU2hpZnQtY2xpY2sgdG8gZGVjcmVhc2UgaXRcbiIgKw0KIi0gb3IgY2xpY2sgYW5kIGRyYWcgZm9yIGZhc3RlciBzZWxlY3Rpb24uIjsNCg0KQ2FsZW5kYXIuX1RUWyJQUkVWX1lFQVIiXSA9ICJQcmV2LiB5ZWFyIChob2xkIGZvciBtZW51KSI7DQpDYWxlbmRhci5fVFRbIlBSRVZfTU9OVEgiXSA9ICJQcmV2LiBtb250aCAoaG9sZCBmb3IgbWVudSkiOw0KQ2FsZW5kYXIuX1RUWyJHT19UT0RBWSJdID0gIkdvIFRvZGF5IjsNCkNhbGVuZGFyLl9UVFsiTkVYVF9NT05USCJdID0gIk5leHQgbW9udGggKGhvbGQgZm9yIG1lbnUpIjsNCkNhbGVuZGFyLl9UVFsiTkVYVF9ZRUFSIl0gPSAiTmV4dCB5ZWFyIChob2xkIGZvciBtZW51KSI7DQpDYWxlbmRhci5fVFRbIlNFTF9EQVRFIl0gPSAiU2VsZWN0IGRhdGUiOw0KQ2FsZW5kYXIuX1RUWyJEUkFHX1RPX01PVkUiXSA9ICJEcmFnIHRvIG1vdmUiOw0KQ2FsZW5kYXIuX1RUWyJQQVJUX1RPREFZIl0gPSAiICh0b2RheSkiOw0KDQovLyB0aGUgZm9sbG93aW5nIGlzIHRvIGluZm9ybSB0aGF0ICIlcyIgaXMgdG8gYmUgdGhlIGZpcnN0IGRheSBvZiB3ZWVrDQovLyAlcyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIGRheSBuYW1lLg0KQ2FsZW5kYXIuX1RUWyJEQVlfRklSU1QiXSA9ICJEaXNwbGF5ICVzIGZpcnN0IjsNCg0KLy8gVGhpcyBtYXkgYmUgbG9jYWxlLWRlcGVuZGVudC4gIEl0IHNwZWNpZmllcyB0aGUgd2Vlay1lbmQgZGF5cywgYXMgYW4gYXJyYXkNCi8vIG9mIGNvbW1hLXNlcGFyYXRlZCBudW1iZXJzLiAgVGhlIG51bWJlcnMgYXJlIGZyb20gMCB0byA2OiAwIG1lYW5zIFN1bmRheSwgMQ0KLy8gbWVhbnMgTW9uZGF5LCBldGMuDQpDYWxlbmRhci5fVFRbIldFRUtFTkQiXSA9ICIwLDYiOw0KDQpDYWxlbmRhci5fVFRbIkNMT1NFIl0gPSAiQ2xvc2UiOw0KQ2FsZW5kYXIuX1RUWyJUT0RBWSJdID0gIlRvZGF5IjsNCkNhbGVuZGFyLl9UVFsiVElNRV9QQVJUIl0gPSAiKFNoaWZ0LSlDbGljayBvciBkcmFnIHRvIGNoYW5nZSB2YWx1ZSI7DQoNCi8vIGRhdGUgZm9ybWF0cw0KQ2FsZW5kYXIuX1RUWyJERUZfREFURV9GT1JNQVQiXSA9ICIlWS0lbS0lZCI7DQpDYWxlbmRhci5fVFRbIlRUX0RBVEVfRk9STUFUIl0gPSAiJWEsICViICVlIjsNCg0KQ2FsZW5kYXIuX1RUWyJXSyJdID0gIndrIjsNCkNhbGVuZGFyLl9UVFsiVElNRSJdID0gIlRpbWU6IjsNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707609" offset="0" length="2480" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="165" hostname="omniconv" path="/OMNIStatic/scripts/displaytag.js" url="http://omniconv/OMNIStatic/scripts/displaytag.js" ip="10.37.149.132" port="80" connectionId="9" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.472-07:00" startTime="102707593" endTime="102707609">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVptT0N3NzRjVWdoS3B2MkM0SjdXV3p2bnJ5dWR2czQzZ3dwdVlPNEVrNmdxNGZIcmVjbGFBOGxWYTdEUXdJSUkxVGxsci9OTStOVzdOSWh1VVNvUWdtang0V09tdzU3b2FUQ2RvOE44MmRzc3RVQUxqMkFJUkFNM0h6d1J0T2J1Wm52QkUxQWZlVHpia2hnWXJHSVVpTGdqTCtPa1RubFhQa2M5QTZJVXZyc1F4YTFSZnBYSVFUNXBTSWhpNkN1dUs2Si9BaHdPeDkxMjFESC93YXh4aVJvRis2MHBYMm5LUkhVL3hpRkh5S3A1R2Q3dWdQOXBZbU5tRk5xTjJxaVFBZStTU0o0a0JrdVZ3S3hidU96THI2dTNVQi96a1BmdmU2ZFZHeDBYd2dZRitqQkRQY1dTR3FuQ0wzMTVZM1Zac0FZQklYdnB6eTh1S2RDd0p2OGlqaExDTHlHQUVQSHU4cVNqY3JSdmx6bFFVRFdnTlZ5eXRhVjFhTGRNSk5nVktrWk9mQUNZa3ZMZVhjYWlBVFFsUHIxLzJGOWlrRDZvNEhqWWZKSXQ2MFduZGdLUTNDNVRDbDF3dWRMUmJUa0lHSS9OTXVjTzgyU09LN296RnhLOXNIeEU2RkYvZHl5cWJXOU5DNmtsZTN0ZkxQMHlSblZlQXdpRUtYNmFkM3BuVTN3S1NjenZTbmJibVpVY1ZTbzFmTjFoODRzQVhTLzV0REk4S21raVQrYzlRWkZaQ2NGZz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvZGlzcGxheXRhZy5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhWm1PQ3c3NGNVZ2hLcHYyQzRKN1dXenZucnl1ZHZzNDNnd3B1WU80RWs2Z3E0ZkhyZWNsYUE4bFZhN0RRd0lJSTFUbGxyL05NK05XN05JaHVVU29RZ21qeDRXT213NTdvYVRDZG84TjgyZHNzdFVBTGoyQUlSQU0zSHp3UnRPYnVabnZCRTFBZmVUemJraGdZckdJVWlMZ2pMK09rVG5sWFBrYzlBNklVdnJzUXhhMVJmcFhJUVQ1cFNJaGk2Q3V1SzZKL0Fod094OTEyMURIL3dheHhpUm9GKzYwcFgybktSSFUveGlGSHlLcDVHZDd1Z1A5cFltTm1GTnFOMnFpUUFlK1NTSjRrQmt1VndLeGJ1T3pMcjZ1M1VCL3prUGZ2ZTZkVkd4MFh3Z1lGK2pCRFBjV1NHcW5DTDMxNVkzVlpzQVlCSVh2cHp5OHVLZEN3SnY4aWpoTENMeUdBRVBIdThxU2pjclJ2bHpsUVVEV2dOVnl5dGFWMWFMZE1KTmdWS2taT2ZBQ1lrdkxlWGNhaUFUUWxQcjEvMkY5aWtENm80SGpZZkpJdDYwV25kZ0tRM0M1VENsMXd1ZExSYlRrSUdJL05NdWNPODJTT0s3b3pGeEs5c0h4RTZGRi9keXlxYlc5TkM2a2xlM3RmTFAweVJuVmVBd2lFS1g2YWQzcG5VM3dLU2N6dlNuYmJtWlVjVlNvMWZOMWg4NHNBWFMvNXRESThLbWtpVCtjOVFaRlpDY0ZnPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODozNCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA0OWU5N2FkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVySE93RUtrelcycHo1enMzMnJxMGhSbTFUenlSdmJwS3RoeFdzKzkyRTQyZEQ1ZE9tTWNVbzFuMWltUUxmcHhRRVo1NDhuZDg4QXllNmtJaWlGeTlSM1ZTUmM4S3NjR1htOG1rUVYxY29SVUZNeVRpZnJwVUEzcE9FL1J6VjV2R3lIVE1vdGRDa3NsWEZ1aXVmRUU9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>NDg2</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODozNCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDQ5ZTk3YWRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdXJIT3dFS2t6VzJwejV6czMycnEwaFJtMVR6eVJ2YnBLdGh4V3MrOTJFNDJkRDVkT21NY1VvMW4xaW1RTGZweFFFWjU0OG5kODhBeWU2a0lpaUZ5OVIzVlNSYzhLc2NHWG04bWtRVjFjb1JVRk15VGlmcnBVQTNwT0UvUnpWNXZHeUhUTW90ZENrc2xYRnVpdWZFRT0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogNDg2DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyoqDQogKiBUaGlzIG1ldGhvZCBpbXBsZW1lbnRzIHRoZSBvbkNsaWNrIG1ldGhvZCBvZiBEaXNwbGF5VGFnIGFuY2hvciB0YWdzIHNvIHRoZSB0YWJsZSBpcyANCiAqIHJlZnJlc2hlZCB2aWEgYW4gYWpheCByZXF1ZXN0IHJhdGhlciB0aGFuIGEgc2ltcGxlIEdFVCByZXF1ZXN0Lg0KICovDQpmdW5jdGlvbiBkaXNwbGF5VGFnT25DbGljayh0YmxJZCwgYSkgew0KCWlmICh0eXBlb2YoYSkgIT0gJ3N0cmluZycgJiYgJChhKS5oYXNDbGFzcygnZGlzYWJsZWQnKSkgcmV0dXJuIGZhbHNlOw0KCXZhciB1cmwgPSAodHlwZW9mKGEpID09ICdzdHJpbmcnKSA/IGEgOiBhLmhyZWY7DQoJJC5nZXQodXJsLCBmdW5jdGlvbihodG1sKXsNCgkJdmFyIG5ld1RibCA9ICQoJC5wYXJzZUhUTUwoaHRtbCkpLmZpbmQoIiMiICsgdGJsSWQpOw0KCQkvLyByZXBsYWNlIHRhYmxlIHdpdGggbmV3IHRhYmxlIHJldHVybmVkIGJ5IGNvbnRyb2xsZXINCgkJJCgiIyIgKyB0YmxJZCkuaHRtbChuZXdUYmwuaHRtbCgpKTsNCgkJJCgiIyIgKyB0YmxJZCkubmV4dCgpLmh0bWwobmV3VGJsLm5leHQoKS5odG1sKCkpOwkJCQkJCQkJDQoJfSk7DQoJcmV0dXJuIGZhbHNlOw0KfSA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707609" offset="0" length="1072" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="167" hostname="omniconv" path="/OMNIStatic/scripts/calendar.js" url="http://omniconv/OMNIStatic/scripts/calendar.js" ip="10.37.149.132" port="80" connectionId="10" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.472-07:00" startTime="102707609" endTime="102707609">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFoM01jWGNSRThPMnFqbWUrSnRnUWpDMURiaEJocEJvZUJRVTEzTThPeHYyNkNXdWNMVXRiNEhhS2UrWWpCbDVFaC9qTXhwNmZ0bnNKSnZaRlE2RjFURWdpQjlvSW5wc2VXanRzWGlkbC8remJoRnViUVI4c0d5L1NxSmxYTGlJWEFWcDlRVUJIN01jZExDeXRsL2lzWTc1TVhZdk9GZmZEV0FTaEJMZkVmYlJhMm90UXE5MWdRRW10M0QrcWwyM0I1WXZuN3dTQ0F0ZHdzL2xncWxGb0xWVmdkaHVQcXJHSjNEYUhxbHFqRU02SCtLcUE0aUhWMVRFVzdOS3orbnhBUlZRVWFYazhQa3hqZE9DN1FkYnMrVXFWdEV5OXB5NTRRbTc4Q1hVS2hLNXJ0WjdDNFpuV2NENDRxYzI2TzlrRU8wL0ttNTRwSXZ0ZDhBVVhjRlhxN2hqMC8yYktxNll6SkYzdzZBT2ZPbkRmbHB3Sk9LUEU0eGFNeFJlR3RkeUtTNXV0Z2U4RkdHUWU5dzBkdjFhc3M2c3JCa3MxRUhYTitVNDJETTVJWjdmUG1CaitjMVNtL1oxTFd1T3BRZXI3b1BmWkZuSktFcjR5SDVTbzlWTC9yWnZHVS92M3lhOGJCVWdYazYrNjd2VmxHNFMxR2czd0l6YlR1STM1QzBYUTlMaUNaZlZXaFNOTXhHcmozdFJpU1pibWxnQjA1VGhTOTV2V2ZHUDdJVVFYUVI3aUdiUT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvY2FsZW5kYXIuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFoM01jWGNSRThPMnFqbWUrSnRnUWpDMURiaEJocEJvZUJRVTEzTThPeHYyNkNXdWNMVXRiNEhhS2UrWWpCbDVFaC9qTXhwNmZ0bnNKSnZaRlE2RjFURWdpQjlvSW5wc2VXanRzWGlkbC8remJoRnViUVI4c0d5L1NxSmxYTGlJWEFWcDlRVUJIN01jZExDeXRsL2lzWTc1TVhZdk9GZmZEV0FTaEJMZkVmYlJhMm90UXE5MWdRRW10M0QrcWwyM0I1WXZuN3dTQ0F0ZHdzL2xncWxGb0xWVmdkaHVQcXJHSjNEYUhxbHFqRU02SCtLcUE0aUhWMVRFVzdOS3orbnhBUlZRVWFYazhQa3hqZE9DN1FkYnMrVXFWdEV5OXB5NTRRbTc4Q1hVS2hLNXJ0WjdDNFpuV2NENDRxYzI2TzlrRU8wL0ttNTRwSXZ0ZDhBVVhjRlhxN2hqMC8yYktxNll6SkYzdzZBT2ZPbkRmbHB3Sk9LUEU0eGFNeFJlR3RkeUtTNXV0Z2U4RkdHUWU5dzBkdjFhc3M2c3JCa3MxRUhYTitVNDJETTVJWjdmUG1CaitjMVNtL1oxTFd1T3BRZXI3b1BmWkZuSktFcjR5SDVTbzlWTC9yWnZHVS92M3lhOGJCVWdYazYrNjd2VmxHNFMxR2czd0l6YlR1STM1QzBYUTlMaUNaZlZXaFNOTXhHcmozdFJpU1pibWxnQjA1VGhTOTV2V2ZHUDdJVVFYUVI3aUdiUT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU4VWNQdWN2SkNwNmZlZGJxRHZIWnoycmR1em5sckdqVGpYbHBxQUdxeVh4V2ZKajlkeXN2dkJMRFFtZkwxSDIwV2U5b1FITlZvV09RUkhQaTVhNFQ5M0x6eEsza1AzQVRBTXZWVFpwT01TVFlpSmExNHhDNGhFK21wREtNTm1USXZ2dTNScHFsMmJ3WFY2WlZuLzg9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MjE5MzI=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdThVY1B1Y3ZKQ3A2ZmVkYnFEdkhaejJyZHV6bmxyR2pUalhscHFBR3F5WHhXZkpqOWR5c3Z2QkxEUW1mTDFIMjBXZTlvUUhOVm9XT1FSSFBpNWE0VDkzTHp4SzNrUDNBVEFNdlZUWnBPTVNUWWlKYTE0eEM0aEUrbXBES01ObVRJdnZ1M1JwcWwyYndYVjZaVm4vOD0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogMjE5MzINCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ly8gTm90ZTogMTkwcHggaXMgdGhlIHdpZHRoIG9mIHRoZSBPTU5JIGxlZnQgc2lkZSBtZW51IGFuZCBUaGlzIGlzIHJlcXVpcmVkIGZvciBJRSBkaXNwbGF5IGJ1Zy4NCnZhciBfT01OSU1lbnVXaWR0aCA9IDE5MDsNCg0KLyogIENvcHlyaWdodCBNaWhhaSBCYXpvbiwgMjAwMi0yMDA1ICB8ICB3d3cuYmF6b24ubmV0L21pc2hvbw0KKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KKg0KKiBUaGUgREhUTUwgQ2FsZW5kYXIsIHZlcnNpb24gMS4wICJJdCBpcyBoYXBwZW5pbmcgYWdhaW4iDQoqDQoqIERldGFpbHMgYW5kIGxhdGVzdCB2ZXJzaW9uIGF0Og0KKiB3d3cuZHluYXJjaC5jb20vcHJvamVjdHMvY2FsZW5kYXINCioNCiogVGhpcyBzY3JpcHQgaXMgZGV2ZWxvcGVkIGJ5IER5bmFyY2guY29tLiAgVmlzaXQgdXMgYXQgd3d3LmR5bmFyY2guY29tLg0KKg0KKiBUaGlzIHNjcmlwdCBpcyBkaXN0cmlidXRlZCB1bmRlciB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlLg0KKiBSZWFkIHRoZSBlbnRpcmUgbGljZW5zZSB0ZXh0IGhlcmU6IGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9sZ3BsLmh0bWwNCiovDQoNCi8vICRJZDogY2FsZW5kYXIuanMgMTk0MzcgMjAwNy0xMS0xNiAxODo1MDowOVogU0lFUlJBREVWXFdXaW5kZWxzICQNCg0KLyoqIFRoZSBDYWxlbmRhciBvYmplY3QgY29uc3RydWN0b3IuICovDQp2YXIgQ2FsZW5kYXIgPSBmdW5jdGlvbiAoZmlyc3REYXlPZldlZWssIGRhdGVTdHIsIG9uU2VsZWN0ZWQsIG9uQ2xvc2UpIHsNCgkvLyBtZW1iZXIgdmFyaWFibGVzDQoJdGhpcy5hY3RpdmVEaXYgPSBudWxsOw0KCXRoaXMuY3VycmVudERhdGVFbCA9IG51bGw7DQoJdGhpcy5nZXREYXRlU3RhdHVzID0gbnVsbDsNCgl0aGlzLmdldERhdGVUb29sVGlwID0gbnVsbDsNCgl0aGlzLmdldERhdGVUZXh0ID0gbnVsbDsNCgl0aGlzLnRpbWVvdXQgPSBudWxsOw0KCXRoaXMub25TZWxlY3RlZCA9IG9uU2VsZWN0ZWQgfHwgbnVsbDsNCgl0aGlzLm9uQ2xvc2UgPSBvbkNsb3NlIHx8IG51bGw7DQoJdGhpcy5kcmFnZ2luZyA9IGZhbHNlOw0KCXRoaXMuaGlkZGVuID0gZmFsc2U7DQoJdGhpcy5taW5ZZWFyID0gMTk3MDsNCgl0aGlzLm1heFllYXIgPSAyMDUwOw0KCXRoaXMuZGF0ZUZvcm1hdCA9IENhbGVuZGFyLl9UVFsiREVGX0RBVEVfRk9STUFUIl07DQoJdGhpcy50dERhdGVGb3JtYXQgPSBDYWxlbmRhci5fVFRbIlRUX0RBVEVfRk9STUFUIl07DQoJdGhpcy5pc1BvcHVwID0gdHJ1ZTsNCgl0aGlzLndlZWtOdW1iZXJzID0gdHJ1ZTsNCgl0aGlzLmZpcnN0RGF5T2ZXZWVrID0gdHlwZW9mIGZpcnN0RGF5T2ZXZWVrID09ICJudW1iZXIiID8gZmlyc3REYXlPZldlZWsgOiBDYWxlbmRhci5fRkQ7IC8vIDAgZm9yIFN1bmRheSwgMSBmb3IgTW9uZGF5LCBldGMuDQoJdGhpcy5zaG93c090aGVyTW9udGhzID0gZmFsc2U7DQoJdGhpcy5kYXRlU3RyID0gZGF0ZVN0cjsNCgl0aGlzLmFyX2RheXMgPSBudWxsOw0KCXRoaXMuc2hvd3NUaW1lID0gZmFsc2U7DQoJdGhpcy50aW1lMjQgPSB0cnVlOw0KCXRoaXMueWVhclN0ZXAgPSAyOw0KCXRoaXMuaGlsaXRlVG9kYXkgPSB0cnVlOw0KCXRoaXMubXVsdGlwbGUgPSBudWxsOw0KCS8vIEhUTUwgZWxlbWVudHMNCgl0aGlzLnRhYmxlID0gbnVsbDsNCgl0aGlzLmVsZW1lbnQgPSBudWxsOw0KCXRoaXMudGJvZHkgPSBudWxsOw0KCXRoaXMuZmlyc3RkYXluYW1lID0gbnVsbDsNCgkvLyBDb21ibyBib3hlcw0KCXRoaXMubW9udGhzQ29tYm8gPSBudWxsOw0KCXRoaXMueWVhcnNDb21ibyA9IG51bGw7DQoJdGhpcy5oaWxpdGVkTW9udGggPSBudWxsOw0KCXRoaXMuYWN0aXZlTW9udGggPSBudWxsOw0KCXRoaXMuaGlsaXRlZFllYXIgPSBudWxsOw0KCXRoaXMuYWN0aXZlWWVhciA9IG51bGw7DQoJLy8gSW5mb3JtYXRpb24NCgl0aGlzLmRhdGVDbGlja2VkID0gZmFsc2U7DQoJdGhpcy50b2RheUNsaWNrZWQgPSBmYWxzZTsNCgl0aGlzLmFkanVzdFggPSAwOw0KCXRoaXMuYWRqdXN0WSA9IDA7DQoJdGhpcy5wYXJlbnREb2N1bWVudFdpZHRoID0gMDsNCgl0aGlzLnBhcmVudERvY3VtZW50SGVpZ2h0ID0gMDsNCgl0aGlzLnZpZXdwb3J0TGVmdCA9IDA7DQoJdGhpcy52aWV3cG9ydFRvcCA9IDA7DQoJdGhpcy52aWV3cG9ydFdpZHRoID0gMDsNCgl0aGlzLnZpZXdwb3J0SGVpZ2h0ID0gMDsNCgl0aGlzLmZpcmVPbkNoYW5nZUV2ZW50ID0gZmFsc2U7DQoJdGhpcy5maXJlT25CbHVyRXZlbnQgPSBmYWxzZTsNCgl0aGlzLmZpcmVPbkZvY3VzRXZlbnQgPSBmYWxzZTsNCg0KCS8vIG9uZS10aW1lIGluaXRpYWxpemF0aW9ucw0KCWlmICh0eXBlb2YgQ2FsZW5kYXIuX1NETiA9PSAidW5kZWZpbmVkIikgew0KCQkvLyB0YWJsZSBvZiBzaG9ydCBkYXkgbmFtZXMNCgkJaWYgKHR5cGVvZiBDYWxlbmRhci5fU0ROX2xlbiA9PSAidW5kZWZpbmVkIikNCgkJCUNhbGVuZGFyLl9TRE5fbGVuID0gMzsNCgkJdmFyIGFyID0gbmV3IEFycmF5KCk7DQoJCWZvciAodmFyIGkgPSA4OyBpID4gMDspIHsNCgkJCWFyWy0taV0gPSBDYWxlbmRhci5fRE5baV0uc3Vic3RyKDAsIENhbGVuZGFyLl9TRE5fbGVuKTsNCgkJfQ0KCQlDYWxlbmRhci5fU0ROID0gYXI7DQoJCS8vIHRhYmxlIG9mIHNob3J0IG1vbnRoIG5hbWVzDQoJCWlmICh0eXBlb2YgQ2FsZW5kYXIuX1NNTl9sZW4gPT0gInVuZGVmaW5lZCIpDQoJCQlDYWxlbmRhci5fU01OX2xlbiA9IDM7DQoJCWFyID0gbmV3IEFycmF5KCk7DQoJCWZvciAodmFyIGkgPSAxMjsgaSA+IDA7KSB7DQoJCQlhclstLWldID0gQ2FsZW5kYXIuX01OW2ldLnN1YnN0cigwLCBDYWxlbmRhci5fU01OX2xlbik7DQoJCX0NCgkJQ2FsZW5kYXIuX1NNTiA9IGFyOw0KCX0NCn07DQoNCi8vICoqIGNvbnN0YW50cw0KDQovLy8gInN0YXRpYyIsIG5lZWRlZCBmb3IgZXZlbnQgaGFuZGxlcnMuDQpDYWxlbmRhci5fQyA9IG51bGw7DQoNCi8vLyBkZXRlY3QgYSBzcGVjaWFsIGNhc2Ugb2YgIndlYiBicm93c2VyIg0KQ2FsZW5kYXIuaXNfaWUgPSAoIC9tc2llL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL29wZXJhL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSApOw0KDQpDYWxlbmRhci5pc19pZTUgPSAoIENhbGVuZGFyLmlzX2llICYmIC9tc2llIDVcLjAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICk7DQoNCi8vLyBkZXRlY3QgT3BlcmEgYnJvd3Nlcg0KQ2FsZW5kYXIuaXNfb3BlcmEgPSAvb3BlcmEvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOw0KDQovLy8gZGV0ZWN0IEtIVE1MLWJhc2VkIGJyb3dzZXJzDQpDYWxlbmRhci5pc19raHRtbCA9IC9Lb25xdWVyb3J8U2FmYXJpfEtIVE1ML2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsNCg0KLy8gQkVHSU46IFVUSUxJVFkgRlVOQ1RJT05TOyBiZXdhcmUgdGhhdCB0aGVzZSBtaWdodCBiZSBtb3ZlZCBpbnRvIGEgc2VwYXJhdGUNCi8vICAgICAgICBsaWJyYXJ5LCBhdCBzb21lIHBvaW50Lg0KDQpDYWxlbmRhci5nZXRBYnNvbHV0ZVBvcyA9IGZ1bmN0aW9uKGVsKSB7DQoJdmFyIFNMID0gMCwgU1QgPSAwOw0KCXZhciBpc19kaXYgPSAvXmRpdiQvaS50ZXN0KGVsLnRhZ05hbWUpOw0KCWlmIChpc19kaXYgJiYgZWwuc2Nyb2xsTGVmdCkNCgkJU0wgPSBlbC5zY3JvbGxMZWZ0Ow0KCWlmIChpc19kaXYgJiYgZWwuc2Nyb2xsVG9wKQ0KCQlTVCA9IGVsLnNjcm9sbFRvcDsNCgl2YXIgciA9IHsgeDogZWwub2Zmc2V0TGVmdCAtIFNMLCB5OiBlbC5vZmZzZXRUb3AgLSBTVCB9Ow0KCWlmIChlbC5vZmZzZXRQYXJlbnQpIHsNCgkJdmFyIHRtcCA9IHRoaXMuZ2V0QWJzb2x1dGVQb3MoZWwub2Zmc2V0UGFyZW50KTsNCgkJci54ICs9IHRtcC54Ow0KCQlyLnkgKz0gdG1wLnk7DQoJfQ0KCXJldHVybiByOw0KfTsNCg0KQ2FsZW5kYXIuaXNSZWxhdGVkID0gZnVuY3Rpb24gKGVsLCBldnQpIHsNCgl2YXIgcmVsYXRlZCA9IGV2dC5yZWxhdGVkVGFyZ2V0Ow0KCWlmICghcmVsYXRlZCkgew0KCQl2YXIgdHlwZSA9IGV2dC50eXBlOw0KCQlpZiAodHlwZSA9PSAibW91c2VvdmVyIikgew0KCQkJcmVsYXRlZCA9IGV2dC5mcm9tRWxlbWVudDsNCgkJfSBlbHNlIGlmICh0eXBlID09ICJtb3VzZW91dCIpIHsNCgkJCXJlbGF0ZWQgPSBldnQudG9FbGVtZW50Ow0KCQl9DQoJfQ0KCXdoaWxlIChyZWxhdGVkKSB7DQoJCWlmIChyZWxhdGVkID09IGVsKSB7DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfQ0KCQlyZWxhdGVkID0gcmVsYXRlZC5wYXJlbnROb2RlOw0KCX0NCglyZXR1cm4gZmFsc2U7DQp9Ow0KDQpDYWxlbmRhci5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHsNCglpZiAoIShlbCAmJiBlbC5jbGFzc05hbWUpKSB7DQoJCXJldHVybjsNCgl9DQoJdmFyIGNscyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgiICIpOw0KCXZhciBhciA9IG5ldyBBcnJheSgpOw0KCWZvciAodmFyIGkgPSBjbHMubGVuZ3RoOyBpID4gMDspIHsNCgkJaWYgKGNsc1stLWldICE9IGNsYXNzTmFtZSkgew0KCQkJYXJbYXIubGVuZ3RoXSA9IGNsc1tpXTsNCgkJfQ0KCX0NCgllbC5jbGFzc05hbWUgPSBhci5qb2luKCIgIik7DQp9Ow0KDQpDYWxlbmRhci5hZGRDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHsNCglDYWxlbmRhci5yZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKTsNCgllbC5jbGFzc05hbWUgKz0gIiAiICsgY2xhc3NOYW1lOw0KfTsNCg0KLy8gRklYTUU6IHRoZSBmb2xsb3dpbmcgMiBmdW5jdGlvbnMgdG90YWxseSBzdWNrLCBhcmUgdXNlbGVzcyBhbmQgc2hvdWxkIGJlIHJlcGxhY2VkIGltbWVkaWF0ZWx5Lg0KQ2FsZW5kYXIuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKGV2KSB7DQoJdmFyIGYgPSBDYWxlbmRhci5pc19pZSA/IHdpbmRvdy5ldmVudC5zcmNFbGVtZW50IDogZXYuY3VycmVudFRhcmdldDsNCgl3aGlsZSAoZi5ub2RlVHlwZSAhPSAxIHx8IC9eZGl2JC9pLnRlc3QoZi50YWdOYW1lKSkNCgkJZiA9IGYucGFyZW50Tm9kZTsNCglyZXR1cm4gZjsNCn07DQoNCkNhbGVuZGFyLmdldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbihldikgew0KCXZhciBmID0gQ2FsZW5kYXIuaXNfaWUgPyB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudCA6IGV2LnRhcmdldDsNCgl3aGlsZSAoZi5ub2RlVHlwZSAhPSAxKQ0KCQlmID0gZi5wYXJlbnROb2RlOw0KCXJldHVybiBmOw0KfTsNCg0KQ2FsZW5kYXIuc3RvcEV2ZW50ID0gZnVuY3Rpb24oZXYpIHsNCglldiB8fCAoZXYgPSB3aW5kb3cuZXZlbnQpOw0KCWlmIChDYWxlbmRhci5pc19pZSkgew0KCQlldi5jYW5jZWxCdWJibGUgPSB0cnVlOw0KCQlldi5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KCX0gZWxzZSB7DQoJCWV2LnByZXZlbnREZWZhdWx0KCk7DQoJCWV2LnN0b3BQcm9wYWdhdGlvbigpOw0KCX0NCglyZXR1cm4gZmFsc2U7DQp9Ow0KDQpDYWxlbmRhci5hZGRFdmVudCA9IGZ1bmN0aW9uKGVsLCBldm5hbWUsIGZ1bmMpIHsNCglpZiAoZWwuYXR0YWNoRXZlbnQpIHsgLy8gSUUNCgkJZWwuYXR0YWNoRXZlbnQoIm9uIiArIGV2bmFtZSwgZnVuYyk7DQoJfSBlbHNlIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7IC8vIEdlY2tvIC8gVzNDDQoJCWVsLmFkZEV2ZW50TGlzdGVuZXIoZXZuYW1lLCBmdW5jLCB0cnVlKTsNCgl9IGVsc2Ugew0KCQllbFsib24iICsgZXZuYW1lXSA9IGZ1bmM7DQoJfQ0KfTsNCg0KQ2FsZW5kYXIucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbihlbCwgZXZuYW1lLCBmdW5jKSB7DQoJaWYgKGVsLmRldGFjaEV2ZW50KSB7IC8vIElFDQoJCWVsLmRldGFjaEV2ZW50KCJvbiIgKyBldm5hbWUsIGZ1bmMpOw0KCX0gZWxzZSBpZiAoZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcikgeyAvLyBHZWNrbyAvIFczQw0KCQllbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2bmFtZSwgZnVuYywgdHJ1ZSk7DQoJfSBlbHNlIHsNCgkJZWxbIm9uIiArIGV2bmFtZV0gPSBudWxsOw0KCX0NCn07DQoNCkNhbGVuZGFyLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBwYXJlbnQpIHsNCgl2YXIgZWwgPSBudWxsOw0KCWlmIChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMpIHsNCgkJLy8gdXNlIHRoZSBYSFRNTCBuYW1lc3BhY2U7IElFIHdvbid0IG5vcm1hbGx5IGdldCBoZXJlIHVubGVzcw0KCQkvLyBfdGhleV8gImZpeCIgdGhlIERPTTIgaW1wbGVtZW50YXRpb24uDQoJCWVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgdHlwZSk7DQoJfSBlbHNlIHsNCgkJZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpOw0KCX0NCglpZiAodHlwZW9mIHBhcmVudCAhPSAidW5kZWZpbmVkIikgew0KCQlwYXJlbnQuYXBwZW5kQ2hpbGQoZWwpOw0KCX0NCglyZXR1cm4gZWw7DQp9Ow0KDQovLyBFTkQ6IFVUSUxJVFkgRlVOQ1RJT05TDQoNCi8vIEJFR0lOOiBDQUxFTkRBUiBTVEFUSUMgRlVOQ1RJT05TDQoNCi8qKiBJbnRlcm5hbCAtLSBhZGRzIGEgc2V0IG9mIGV2ZW50cyB0byBtYWtlIHNvbWUgZWxlbWVudCBiZWhhdmUgbGlrZSBhIGJ1dHRvbi4gKi8NCkNhbGVuZGFyLl9hZGRfZXZzID0gZnVuY3Rpb24oZWwpIHsNCgl3aXRoIChDYWxlbmRhcikgew0KCQlhZGRFdmVudChlbCwgIm1vdXNlb3ZlciIsIGRheU1vdXNlT3Zlcik7DQoJCWFkZEV2ZW50KGVsLCAibW91c2Vkb3duIiwgZGF5TW91c2VEb3duKTsNCgkJYWRkRXZlbnQoZWwsICJtb3VzZW91dCIsIGRheU1vdXNlT3V0KTsNCgkJaWYgKGlzX2llKSB7DQoJCQlhZGRFdmVudChlbCwgImRibGNsaWNrIiwgZGF5TW91c2VEYmxDbGljayk7DQoJCQllbC5zZXRBdHRyaWJ1dGUoInVuc2VsZWN0YWJsZSIsIHRydWUpOw0KCQl9DQoJfQ0KfTsNCg0KQ2FsZW5kYXIuZmluZE1vbnRoID0gZnVuY3Rpb24oZWwpIHsNCglpZiAodHlwZW9mIGVsLm1vbnRoICE9ICJ1bmRlZmluZWQiKSB7DQoJCXJldHVybiBlbDsNCgl9IGVsc2UgaWYgKHR5cGVvZiBlbC5wYXJlbnROb2RlLm1vbnRoICE9ICJ1bmRlZmluZWQiKSB7DQoJCXJldHVybiBlbC5wYXJlbnROb2RlOw0KCX0NCglyZXR1cm4gbnVsbDsNCn07DQoNCkNhbGVuZGFyLmZpbmRZZWFyID0gZnVuY3Rpb24oZWwpIHsNCglpZiAodHlwZW9mIGVsLnllYXIgIT0gInVuZGVmaW5lZCIpIHsNCgkJcmV0dXJuIGVsOw0KCX0gZWxzZSBpZiAodHlwZW9mIGVsLnBhcmVudE5vZGUueWVhciAhPSAidW5kZWZpbmVkIikgew0KCQlyZXR1cm4gZWwucGFyZW50Tm9kZTsNCgl9DQoJcmV0dXJuIG51bGw7DQp9Ow0KDQpDYWxlbmRhci5zaG93TW9udGhzQ29tYm8gPSBmdW5jdGlvbiAoKSB7DQoJdmFyIGNhbCA9IENhbGVuZGFyLl9DOw0KCWlmICghY2FsKSB7DQoJCXJldHVybiBmYWxzZTsNCgl9DQoJdmFyIGNhbCA9IGNhbDsNCgl2YXIgY2QgPSBjYWwuYWN0aXZlRGl2Ow0KCXZhciBtYyA9IGNhbC5tb250aHNDb21ibzsNCglpZiAoY2FsLmhpbGl0ZWRNb250aCkgew0KCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhjYWwuaGlsaXRlZE1vbnRoLCAiaGlsaXRlIik7DQoJfQ0KCWlmIChjYWwuYWN0aXZlTW9udGgpIHsNCgkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoY2FsLmFjdGl2ZU1vbnRoLCAiYWN0aXZlIik7DQoJfQ0KCXZhciBtb24gPSBjYWwubW9udGhzQ29tYm8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpW2NhbC5kYXRlLmdldE1vbnRoKCldOw0KCUNhbGVuZGFyLmFkZENsYXNzKG1vbiwgImFjdGl2ZSIpOw0KCWNhbC5hY3RpdmVNb250aCA9IG1vbjsNCgl2YXIgcyA9IG1jLnN0eWxlOw0KCXMuZGlzcGxheSA9ICJibG9jayI7DQoJaWYgKGNkLm5hdnR5cGUgPCAwKQ0KCQlzLmxlZnQgPSBjZC5vZmZzZXRMZWZ0ICsgInB4IjsNCgllbHNlIHsNCgkJdmFyIG1jdyA9IG1jLm9mZnNldFdpZHRoOw0KCQlpZiAodHlwZW9mIG1jdyA9PSAidW5kZWZpbmVkIikNCgkJCS8vIEtvbnF1ZXJvciBicmFpbi1kZWFkIHRlY2huaXF1ZXMNCgkJCW1jdyA9IDUwOw0KCQlzLmxlZnQgPSAoY2Qub2Zmc2V0TGVmdCArIGNkLm9mZnNldFdpZHRoIC0gbWN3KSArICJweCI7DQoJfQ0KCXMudG9wID0gKGNkLm9mZnNldFRvcCArIGNkLm9mZnNldEhlaWdodCkgKyAicHgiOw0KfTsNCg0KQ2FsZW5kYXIuc2hvd1llYXJzQ29tYm8gPSBmdW5jdGlvbiAoZndkKSB7DQoJdmFyIGNhbCA9IENhbGVuZGFyLl9DOw0KCWlmICghY2FsKSB7DQoJCXJldHVybiBmYWxzZTsNCgl9DQoJdmFyIGNhbCA9IGNhbDsNCgl2YXIgY2QgPSBjYWwuYWN0aXZlRGl2Ow0KCXZhciB5YyA9IGNhbC55ZWFyc0NvbWJvOw0KCWlmIChjYWwuaGlsaXRlZFllYXIpIHsNCgkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoY2FsLmhpbGl0ZWRZZWFyLCAiaGlsaXRlIik7DQoJfQ0KCWlmIChjYWwuYWN0aXZlWWVhcikgew0KCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhjYWwuYWN0aXZlWWVhciwgImFjdGl2ZSIpOw0KCX0NCgljYWwuYWN0aXZlWWVhciA9IG51bGw7DQoJdmFyIFkgPSBjYWwuZGF0ZS5nZXRGdWxsWWVhcigpICsgKGZ3ZCA/IDEgOiAtMSk7DQoJdmFyIHlyID0geWMuZmlyc3RDaGlsZDsNCgl2YXIgc2hvdyA9IGZhbHNlOw0KCWZvciAodmFyIGkgPSAxMjsgaSA+IDA7IC0taSkgew0KCQlpZiAoWSA+PSBjYWwubWluWWVhciAmJiBZIDw9IGNhbC5tYXhZZWFyKSB7DQoJCQl5ci5pbm5lckhUTUwgPSBZOw0KCQkJeXIueWVhciA9IFk7DQoJCQl5ci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgkJCXNob3cgPSB0cnVlOw0KCQl9IGVsc2Ugew0KCQkJeXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJfQ0KCQl5ciA9IHlyLm5leHRTaWJsaW5nOw0KCQlZICs9IGZ3ZCA/IGNhbC55ZWFyU3RlcCA6IC1jYWwueWVhclN0ZXA7DQoJfQ0KCWlmIChzaG93KSB7DQoJCXZhciBzID0geWMuc3R5bGU7DQoJCXMuZGlzcGxheSA9ICJibG9jayI7DQoJCWlmIChjZC5uYXZ0eXBlIDwgMCkNCgkJCXMubGVmdCA9IGNkLm9mZnNldExlZnQgKyAicHgiOw0KCQllbHNlIHsNCgkJCXZhciB5Y3cgPSB5Yy5vZmZzZXRXaWR0aDsNCgkJCWlmICh0eXBlb2YgeWN3ID09ICJ1bmRlZmluZWQiKQ0KCQkJCS8vIEtvbnF1ZXJvciBicmFpbi1kZWFkIHRlY2huaXF1ZXMNCgkJCQl5Y3cgPSA1MDsNCgkJCXMubGVmdCA9IChjZC5vZmZzZXRMZWZ0ICsgY2Qub2Zmc2V0V2lkdGggLSB5Y3cpICsgInB4IjsNCgkJfQ0KCQlzLnRvcCA9IChjZC5vZmZzZXRUb3AgKyBjZC5vZmZzZXRIZWlnaHQpICsgInB4IjsNCgl9DQp9Ow0KDQovLyBldmVudCBoYW5kbGVycw0KDQpDYWxlbmRhci50YWJsZU1vdXNlVXAgPSBmdW5jdGlvbihldikgew0KCXZhciBjYWwgPSBDYWxlbmRhci5fQzsNCglpZiAoIWNhbCkgew0KCQlyZXR1cm4gZmFsc2U7DQoJfQ0KCWlmIChjYWwudGltZW91dCkgew0KCQljbGVhclRpbWVvdXQoY2FsLnRpbWVvdXQpOw0KCX0NCgl2YXIgZWwgPSBjYWwuYWN0aXZlRGl2Ow0KCWlmICghZWwpIHsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCgl2YXIgdGFyZ2V0ID0gQ2FsZW5kYXIuZ2V0VGFyZ2V0RWxlbWVudChldik7DQoJZXYgfHwgKGV2ID0gd2luZG93LmV2ZW50KTsNCglDYWxlbmRhci5yZW1vdmVDbGFzcyhlbCwgImFjdGl2ZSIpOw0KCWlmICh0YXJnZXQgPT0gZWwgfHwgdGFyZ2V0LnBhcmVudE5vZGUgPT0gZWwpIHsNCgkJQ2FsZW5kYXIuY2VsbENsaWNrKGVsLCBldik7DQoJfQ0KCXZhciBtb24gPSBDYWxlbmRhci5maW5kTW9udGgodGFyZ2V0KTsNCgl2YXIgZGF0ZSA9IG51bGw7DQoJaWYgKG1vbikgew0KCQlkYXRlID0gbmV3IERhdGUoY2FsLmRhdGUpOw0KCQlpZiAobW9uLm1vbnRoICE9IGRhdGUuZ2V0TW9udGgoKSkgew0KCQkJZGF0ZS5zZXRNb250aChtb24ubW9udGgpOw0KCQkJY2FsLnNldERhdGUoZGF0ZSk7DQoJCQljYWwuZGF0ZUNsaWNrZWQgPSBmYWxzZTsNCgkJCWNhbC50b2RheUNsaWNrZWQgPSBmYWxzZTsNCgkJCWNhbC5jYWxsSGFuZGxlcigpOw0KCQl9DQoJfSBlbHNlIHsNCgkJdmFyIHllYXIgPSBDYWxlbmRhci5maW5kWWVhcih0YXJnZXQpOw0KCQlpZiAoeWVhcikgew0KCQkJZGF0ZSA9IG5ldyBEYXRlKGNhbC5kYXRlKTsNCgkJCWlmICh5ZWFyLnllYXIgIT0gZGF0ZS5nZXRGdWxsWWVhcigpKSB7DQoJCQkJZGF0ZS5zZXRGdWxsWWVhcih5ZWFyLnllYXIpOw0KCQkJCWNhbC5zZXREYXRlKGRhdGUpOw0KCQkJCWNhbC5kYXRlQ2xpY2tlZCA9IGZhbHNlOw0KCQkJCWNhbC50b2RheUNsaWNrZWQgPSBmYWxzZTsNCgkJCQljYWwuY2FsbEhhbmRsZXIoKTsNCgkJCX0NCgkJfQ0KCX0NCgl3aXRoIChDYWxlbmRhcikgew0KCQlyZW1vdmVFdmVudChkb2N1bWVudCwgIm1vdXNldXAiLCB0YWJsZU1vdXNlVXApOw0KCQlyZW1vdmVFdmVudChkb2N1bWVudCwgIm1vdXNlb3ZlciIsIHRhYmxlTW91c2VPdmVyKTsNCgkJcmVtb3ZlRXZlbnQoZG9jdW1lbnQsICJtb3VzZW1vdmUiLCB0YWJsZU1vdXNlT3Zlcik7DQoJCWNhbC5faGlkZUNvbWJvcygpOw0KCQlfQyA9IG51bGw7DQoJCXJldHVybiBzdG9wRXZlbnQoZXYpOw0KCX0NCn07DQoNCkNhbGVuZGFyLnRhYmxlTW91c2VPdmVyID0gZnVuY3Rpb24gKGV2KSB7DQoJdmFyIGNhbCA9IENhbGVuZGFyLl9DOw0KCWlmICghY2FsKSB7DQoJCXJldHVybjsNCgl9DQoJdmFyIGVsID0gY2FsLmFjdGl2ZURpdjsNCgl2YXIgdGFyZ2V0ID0gQ2FsZW5kYXIuZ2V0VGFyZ2V0RWxlbWVudChldik7DQoJaWYgKHRhcmdldCA9PSBlbCB8fCB0YXJnZXQucGFyZW50Tm9kZSA9PSBlbCkgew0KCQlDYWxlbmRhci5hZGRDbGFzcyhlbCwgImhpbGl0ZSBhY3RpdmUiKTsNCgkJQ2FsZW5kYXIuYWRkQ2xhc3MoZWwucGFyZW50Tm9kZSwgInJvd2hpbGl0ZSIpOw0KCX0gZWxzZSB7DQoJCWlmICh0eXBlb2YgZWwubmF2dHlwZSA9PSAidW5kZWZpbmVkIiB8fCAoZWwubmF2dHlwZSAhPSA1MCAmJiAoZWwubmF2dHlwZSA9PSAwIHx8IE1hdGguYWJzKGVsLm5hdnR5cGUpID4gMikpKQ0KCQkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoZWwsICJhY3RpdmUiKTsNCgkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoZWwsICJoaWxpdGUiKTsNCgkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoZWwucGFyZW50Tm9kZSwgInJvd2hpbGl0ZSIpOw0KCX0NCglldiB8fCAoZXYgPSB3aW5kb3cuZXZlbnQpOw0KCWlmIChlbC5uYXZ0eXBlID09IDUwICYmIHRhcmdldCAhPSBlbCkgew0KCQl2YXIgcG9zID0gQ2FsZW5kYXIuZ2V0QWJzb2x1dGVQb3MoZWwpOw0KCQl2YXIgdyA9IGVsLm9mZnNldFdpZHRoOw0KCQl2YXIgeCA9IGV2LmNsaWVudFg7DQoJCXZhciBkeDsNCgkJdmFyIGRlY3JlYXNlID0gdHJ1ZTsNCgkJaWYgKHggPiBwb3MueCArIHcpIHsNCgkJCWR4ID0geCAtIHBvcy54IC0gdzsNCgkJCWRlY3JlYXNlID0gZmFsc2U7DQoJCX0gZWxzZQ0KCQkJZHggPSBwb3MueCAtIHg7DQoNCgkJaWYgKGR4IDwgMCkgZHggPSAwOw0KCQl2YXIgcmFuZ2UgPSBlbC5fcmFuZ2U7DQoJCXZhciBjdXJyZW50ID0gZWwuX2N1cnJlbnQ7DQoJCXZhciBjb3VudCA9IE1hdGguZmxvb3IoZHggLyAxMCkgJSByYW5nZS5sZW5ndGg7DQoJCWZvciAodmFyIGkgPSByYW5nZS5sZW5ndGg7IC0taSA+PSAwOykNCgkJCWlmIChyYW5nZVtpXSA9PSBjdXJyZW50KQ0KCQkJCWJyZWFrOw0KCQl3aGlsZSAoY291bnQtLSA+IDApDQoJCQlpZiAoZGVjcmVhc2UpIHsNCgkJCQlpZiAoLS1pIDwgMCkNCgkJCQkJaSA9IHJhbmdlLmxlbmd0aCAtIDE7DQoJCQl9IGVsc2UgaWYgKCArK2kgPj0gcmFuZ2UubGVuZ3RoICkNCgkJCQlpID0gMDsNCgkJdmFyIG5ld3ZhbCA9IHJhbmdlW2ldOw0KCQllbC5pbm5lckhUTUwgPSBuZXd2YWw7DQoNCgkJY2FsLm9uVXBkYXRlVGltZSgpOw0KCX0NCgl2YXIgbW9uID0gQ2FsZW5kYXIuZmluZE1vbnRoKHRhcmdldCk7DQoJaWYgKG1vbikgew0KCQlpZiAobW9uLm1vbnRoICE9IGNhbC5kYXRlLmdldE1vbnRoKCkpIHsNCgkJCWlmIChjYWwuaGlsaXRlZE1vbnRoKSB7DQoJCQkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoY2FsLmhpbGl0ZWRNb250aCwgImhpbGl0ZSIpOw0KCQkJfQ0KCQkJQ2FsZW5kYXIuYWRkQ2xhc3MobW9uLCAiaGlsaXRlIik7DQoJCQljYWwuaGlsaXRlZE1vbnRoID0gbW9uOw0KCQl9IGVsc2UgaWYgKGNhbC5oaWxpdGVkTW9udGgpIHsNCgkJCUNhbGVuZGFyLnJlbW92ZUNsYXNzKGNhbC5oaWxpdGVkTW9udGgsICJoaWxpdGUiKTsNCgkJfQ0KCX0gZWxzZSB7DQoJCWlmIChjYWwuaGlsaXRlZE1vbnRoKSB7DQoJCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhjYWwuaGlsaXRlZE1vbnRoLCAiaGlsaXRlIik7DQoJCX0NCgkJdmFyIHllYXIgPSBDYWxlbmRhci5maW5kWWVhcih0YXJnZXQpOw0KCQlpZiAoeWVhcikgew0KCQkJaWYgKHllYXIueWVhciAhPSBjYWwuZGF0ZS5nZXRGdWxsWWVhcigpKSB7DQoJCQkJaWYgKGNhbC5oaWxpdGVkWWVhcikgew0KCQkJCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhjYWwuaGlsaXRlZFllYXIsICJoaWxpdGUiKTsNCgkJCQl9DQoJCQkJQ2FsZW5kYXIuYWRkQ2xhc3MoeWVhciwgImhpbGl0ZSIpOw0KCQkJCWNhbC5oaWxpdGVkWWVhciA9IHllYXI7DQoJCQl9IGVsc2UgaWYgKGNhbC5oaWxpdGVkWWVhcikgew0KCQkJCUNhbGVuZGFyLnJlbW92ZUNsYXNzKGNhbC5oaWxpdGVkWWVhciwgImhpbGl0ZSIpOw0KCQkJfQ0KCQl9IGVsc2UgaWYgKGNhbC5oaWxpdGVkWWVhcikgew0KCQkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoY2FsLmhpbGl0ZWRZZWFyLCAiaGlsaXRlIik7DQoJCX0NCgl9DQoJcmV0dXJuIENhbGVuZGFyLnN0b3BFdmVudChldik7DQp9Ow0KDQpDYWxlbmRhci50YWJsZU1vdXNlRG93biA9IGZ1bmN0aW9uIChldikgew0KCWlmIChDYWxlbmRhci5nZXRUYXJnZXRFbGVtZW50KGV2KSA9PSBDYWxlbmRhci5nZXRFbGVtZW50KGV2KSkgew0KCQlyZXR1cm4gQ2FsZW5kYXIuc3RvcEV2ZW50KGV2KTsNCgl9DQp9Ow0KDQpDYWxlbmRhci5jYWxEcmFnSXQgPSBmdW5jdGlvbiAoZXYpIHsNCgl2YXIgY2FsID0gQ2FsZW5kYXIuX0M7DQoJaWYgKCEoY2FsICYmIGNhbC5kcmFnZ2luZykpIHsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCgl2YXIgcG9zWDsNCgl2YXIgcG9zWTsNCglpZiAoQ2FsZW5kYXIuaXNfaWUpIHsNCgkJcG9zWSA9IHdpbmRvdy5ldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7DQoJCXBvc1ggPSB3aW5kb3cuZXZlbnQuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdDsNCgl9IGVsc2Ugew0KCQlwb3NYID0gZXYucGFnZVg7DQoJCXBvc1kgPSBldi5wYWdlWTsNCgl9DQoJLy9jYWwuaGlkZVNob3dDb3ZlcmVkKCk7DQoJdmFyIHN0ID0gY2FsLmVsZW1lbnQuc3R5bGU7DQoJc3QubGVmdCA9IChwb3NYIC0gY2FsLnhPZmZzKSArICJweCI7DQoJc3QudG9wID0gKHBvc1kgLSBjYWwueU9mZnMpICsgInB4IjsNCg0KCS8vIGZpeCBieSBNYXJrIGFuZCBWaWN0b3I6IEJFR0lODQoJdmFyIGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYWxfaWZyYW1lIik7DQoJaWZyYW1lLnN0eWxlLmxlZnQgPSBzdC5sZWZ0Ow0KCWlmcmFtZS5zdHlsZS50b3AgPSBzdC50b3A7DQoJLy8gZml4IGJ5IE1hcmsgYW5kIFZpY3RvcjogRU5EDQoNCglyZXR1cm4gQ2FsZW5kYXIuc3RvcEV2ZW50KGV2KTsNCn07DQoNCkNhbGVuZGFyLmNhbERyYWdFbmQgPSBmdW5jdGlvbiAoZXYpIHsNCgl2YXIgY2FsID0gQ2FsZW5kYXIuX0M7DQoJaWYgKCFjYWwpIHsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCgljYWwuZHJhZ2dpbmcgPSBmYWxzZTsNCgl3aXRoIChDYWxlbmRhcikgew0KCQlyZW1vdmVFdmVudChkb2N1bWVudCwgIm1vdXNlbW92ZSIsIGNhbERyYWdJdCk7DQoJCXJlbW92ZUV2ZW50KGRvY3VtZW50LCAibW91c2V1cCIsIGNhbERyYWdFbmQpOw0KCQl0YWJsZU1vdXNlVXAoZXYpOw0KCX0NCgkvL2NhbC5oaWRlU2hvd0NvdmVyZWQoKTsNCn07DQoNCkNhbGVuZGFyLmRheU1vdXNlRG93biA9IGZ1bmN0aW9uKGV2KSB7DQoJdmFyIGVsID0gQ2FsZW5kYXIuZ2V0RWxlbWVudChldik7DQoJaWYgKGVsLmRpc2FibGVkKSB7DQoJCXJldHVybiBmYWxzZTsNCgl9DQoJdmFyIGNhbCA9IGVsLmNhbGVuZGFyOw0KCWNhbC5hY3RpdmVEaXYgPSBlbDsNCglDYWxlbmRhci5fQyA9IGNhbDsNCglpZiAoZWwubmF2dHlwZSAhPSAzMDApIHdpdGggKENhbGVuZGFyKSB7DQoJCWlmIChlbC5uYXZ0eXBlID09IDUwKSB7DQoJCQllbC5fY3VycmVudCA9IGVsLmlubmVySFRNTDsNCgkJCWFkZEV2ZW50KGRvY3VtZW50LCAibW91c2Vtb3ZlIiwgdGFibGVNb3VzZU92ZXIpOw0KCQl9IGVsc2UNCgkJCWFkZEV2ZW50KGRvY3VtZW50LCBDYWxlbmRhci5pc19pZTUgPyAibW91c2Vtb3ZlIiA6ICJtb3VzZW92ZXIiLCB0YWJsZU1vdXNlT3Zlcik7DQoJCWFkZENsYXNzKGVsLCAiaGlsaXRlIGFjdGl2ZSIpOw0KCQlhZGRFdmVudChkb2N1bWVudCwgIm1vdXNldXAiLCB0YWJsZU1vdXNlVXApOw0KCX0gZWxzZSBpZiAoY2FsLmlzUG9wdXApIHsNCgkJY2FsLl9kcmFnU3RhcnQoZXYpOw0KCX0NCglpZiAoZWwubmF2dHlwZSA9PSAtMSB8fCBlbC5uYXZ0eXBlID09IDEpIHsNCgkJaWYgKGNhbC50aW1lb3V0KSBjbGVhclRpbWVvdXQoY2FsLnRpbWVvdXQpOw0KCQljYWwudGltZW91dCA9IHNldFRpbWVvdXQoIkNhbGVuZGFyLnNob3dNb250aHNDb21ibygpIiwgMjUwKTsNCgl9IGVsc2UgaWYgKGVsLm5hdnR5cGUgPT0gLTIgfHwgZWwubmF2dHlwZSA9PSAyKSB7DQoJCWlmIChjYWwudGltZW91dCkgY2xlYXJUaW1lb3V0KGNhbC50aW1lb3V0KTsNCgkJY2FsLnRpbWVvdXQgPSBzZXRUaW1lb3V0KChlbC5uYXZ0eXBlID4gMCkgPyAiQ2FsZW5kYXIuc2hvd1llYXJzQ29tYm8odHJ1ZSkiIDogIkNhbGVuZGFyLnNob3dZZWFyc0NvbWJvKGZhbHNlKSIsIDI1MCk7DQoJfSBlbHNlIHsNCgkJY2FsLnRpbWVvdXQgPSBudWxsOw0KCX0NCglyZXR1cm4gQ2FsZW5kYXIuc3RvcEV2ZW50KGV2KTsNCn07DQoNCkNhbGVuZGFyLmRheU1vdXNlRGJsQ2xpY2sgPSBmdW5jdGlvbihldikgew0KCUNhbGVuZGFyLmNlbGxDbGljayhDYWxlbmRhci5nZXRFbGVtZW50KGV2KSwgZXYgfHwgd2luZG93LmV2ZW50KTsNCglpZiAoQ2FsZW5kYXIuaXNfaWUpIHsNCgkJZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7DQoJfQ0KfTsNCg0KQ2FsZW5kYXIuZGF5TW91c2VPdmVyID0gZnVuY3Rpb24oZXYpIHsNCgl2YXIgZWwgPSBDYWxlbmRhci5nZXRFbGVtZW50KGV2KTsNCglpZiAoQ2FsZW5kYXIuaXNSZWxhdGVkKGVsLCBldikgfHwgQ2FsZW5kYXIuX0MgfHwgZWwuZGlzYWJsZWQpIHsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCglpZiAoZWwudHRpcCkgew0KCQlpZiAoZWwudHRpcC5zdWJzdHIoMCwgMSkgPT0gIl8iKSB7DQoJCQllbC50dGlwID0gZWwuY2FsZGF0ZS5wcmludChlbC5jYWxlbmRhci50dERhdGVGb3JtYXQpICsgZWwudHRpcC5zdWJzdHIoMSk7DQoJCX0NCgkJZWwuY2FsZW5kYXIudG9vbHRpcHMuaW5uZXJIVE1MID0gZWwudHRpcDsNCgl9DQoJaWYgKGVsLm5hdnR5cGUgIT0gMzAwKSB7DQoJCUNhbGVuZGFyLmFkZENsYXNzKGVsLCAiaGlsaXRlIik7DQoJCWlmIChlbC5jYWxkYXRlKSB7DQoJCQlDYWxlbmRhci5hZGRDbGFzcyhlbC5wYXJlbnROb2RlLCAicm93aGlsaXRlIik7DQoJCX0NCgl9DQoJcmV0dXJuIENhbGVuZGFyLnN0b3BFdmVudChldik7DQp9Ow0KDQpDYWxlbmRhci5kYXlNb3VzZU91dCA9IGZ1bmN0aW9uKGV2KSB7DQoJd2l0aCAoQ2FsZW5kYXIpIHsNCgkJdmFyIGVsID0gZ2V0RWxlbWVudChldik7DQoJCWlmIChpc1JlbGF0ZWQoZWwsIGV2KSB8fCBfQyB8fCBlbC5kaXNhYmxlZCkNCgkJCXJldHVybiBmYWxzZTsNCgkJcmVtb3ZlQ2xhc3MoZWwsICJoaWxpdGUiKTsNCgkJaWYgKGVsLmNhbGRhdGUpDQoJCQlyZW1vdmVDbGFzcyhlbC5wYXJlbnROb2RlLCAicm93aGlsaXRlIik7DQoJCWlmIChlbC5jYWxlbmRhcikNCgkJCWVsLmNhbGVuZGFyLnRvb2x0aXBzLmlubmVySFRNTCA9IF9UVFsiU0VMX0RBVEUiXTsNCgkJcmV0dXJuIHN0b3BFdmVudChldik7DQoJfQ0KfTsNCg0KLyoqDQoqICBBIGdlbmVyaWMgImNsaWNrIiBoYW5kbGVyIDopIGhhbmRsZXMgYWxsIHR5cGVzIG9mIGJ1dHRvbnMgZGVmaW5lZCBpbiB0aGlzDQoqICBjYWxlbmRhci4NCiovDQpDYWxlbmRhci5jZWxsQ2xpY2sgPSBmdW5jdGlvbihlbCwgZXYpIHsNCgl2YXIgY2FsID0gZWwuY2FsZW5kYXI7DQoJdmFyIGNsb3NpbmcgPSBmYWxzZTsNCgl2YXIgbmV3ZGF0ZSA9IGZhbHNlOw0KCXZhciBkYXRlID0gbnVsbDsNCglpZiAodHlwZW9mIGVsLm5hdnR5cGUgPT0gInVuZGVmaW5lZCIpIHsNCgkJaWYgKGNhbC5jdXJyZW50RGF0ZUVsKSB7DQoJCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhjYWwuY3VycmVudERhdGVFbCwgInNlbGVjdGVkIik7DQoJCQlDYWxlbmRhci5hZGRDbGFzcyhlbCwgInNlbGVjdGVkIik7DQoJCQljbG9zaW5nID0gKGNhbC5jdXJyZW50RGF0ZUVsID09IGVsKTsNCgkJCWlmICghY2xvc2luZykgew0KCQkJCWNhbC5jdXJyZW50RGF0ZUVsID0gZWw7DQoJCQl9DQoJCX0NCgkJY2FsLmRhdGUuc2V0RGF0ZU9ubHkoZWwuY2FsZGF0ZSk7DQoJCWRhdGUgPSBjYWwuZGF0ZTsNCgkJdmFyIG90aGVyX21vbnRoID0gIShjYWwuZGF0ZUNsaWNrZWQgPSAhZWwub3RoZXJNb250aCk7DQoJCWlmICghb3RoZXJfbW9udGggJiYgIWNhbC5jdXJyZW50RGF0ZUVsKQ0KCQkJY2FsLl90b2dnbGVNdWx0aXBsZURhdGUobmV3IERhdGUoZGF0ZSkpOw0KCQllbHNlDQoJCQluZXdkYXRlID0gIWVsLmRpc2FibGVkOw0KCQkvLyBhIGRhdGUgd2FzIGNsaWNrZWQNCgkJaWYgKG90aGVyX21vbnRoKQ0KCQkJY2FsLl9pbml0KGNhbC5maXJzdERheU9mV2VlaywgZGF0ZSk7DQoJfSBlbHNlIHsNCgkJaWYgKGVsLm5hdnR5cGUgPT0gMjAwKSB7DQoJCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhlbCwgImhpbGl0ZSIpOw0KCQkJY2FsLmNhbGxDbG9zZUhhbmRsZXIoKTsNCgkJCXJldHVybjsNCgkJfQ0KCQlkYXRlID0gbmV3IERhdGUoY2FsLmRhdGUpOw0KCQlpZiAoZWwubmF2dHlwZSA9PSAwKSB7DQoJCQlkYXRlLnNldERhdGVPbmx5KG5ldyBEYXRlKCkpOyAvLyBUT0RBWQ0KCQkJY2FsLnRvZGF5Q2xpY2tlZCA9IHRydWU7DQoJCX0NCgkJLy8gdW5sZXNzICJ0b2RheSIgd2FzIGNsaWNrZWQsIHdlIGFzc3VtZSBubyBkYXRlIHdhcyBjbGlja2VkIHNvDQoJCS8vIHRoZSBzZWxlY3RlZCBoYW5kbGVyIHdpbGwga25vdyBub3QgdG8gY2xvc2UgdGhlIGNhbGVuYXIgd2hlbg0KCQkvLyBpbiBzaW5nbGUtY2xpY2sgbW9kZS4NCgkJLy8gY2FsLmRhdGVDbGlja2VkID0gKGVsLm5hdnR5cGUgPT0gMCk7DQoJCWNhbC5kYXRlQ2xpY2tlZCA9IGZhbHNlOw0KCQl2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsNCgkJdmFyIG1vbiA9IGRhdGUuZ2V0TW9udGgoKTsNCgkJZnVuY3Rpb24gc2V0TW9udGgobSkgew0KCQkJdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpOw0KCQkJdmFyIG1heCA9IGRhdGUuZ2V0TW9udGhEYXlzKG0pOw0KCQkJaWYgKGRheSA+IG1heCkgew0KCQkJCWRhdGUuc2V0RGF0ZShtYXgpOw0KCQkJfQ0KCQkJZGF0ZS5zZXRNb250aChtKTsNCgkJfTsNCgkJc3dpdGNoIChlbC5uYXZ0eXBlKSB7DQoJCQljYXNlIDQwMDoNCgkJCUNhbGVuZGFyLnJlbW92ZUNsYXNzKGVsLCAiaGlsaXRlIik7DQoJCQl2YXIgdGV4dCA9IENhbGVuZGFyLl9UVFsiQUJPVVQiXTsNCgkJCWlmICh0eXBlb2YgdGV4dCAhPSAidW5kZWZpbmVkIikgew0KCQkJCXRleHQgKz0gY2FsLnNob3dzVGltZSA/IENhbGVuZGFyLl9UVFsiQUJPVVRfVElNRSJdIDogIiI7DQoJCQl9IGVsc2Ugew0KCQkJCS8vIEZJWE1FOiB0aGlzIHNob3VsZCBiZSByZW1vdmVkIGFzIHNvb24gYXMgbGFuZyBmaWxlcyBnZXQgdXBkYXRlZCENCgkJCQl0ZXh0ID0gIkhlbHAgYW5kIGFib3V0IGJveCB0ZXh0IGlzIG5vdCB0cmFuc2xhdGVkIGludG8gdGhpcyBsYW5ndWFnZS5cbiIgKw0KCQkJCQkiSWYgeW91IGtub3cgdGhpcyBsYW5ndWFnZSBhbmQgeW91IGZlZWwgZ2VuZXJvdXMgcGxlYXNlIHVwZGF0ZVxuIiArDQoJCQkJCSJ0aGUgY29ycmVzcG9uZGluZyBmaWxlIGluIFwibGFuZ1wiIHN1YmRpciB0byBtYXRjaCBjYWxlbmRhci1lbi5qc1xuIiArDQoJCQkJCSJhbmQgc2VuZCBpdCBiYWNrIHRvIDxtaWhhaV9iYXpvbkB5YWhvby5jb20+IHRvIGdldCBpdCBpbnRvIHRoZSBkaXN0cmlidXRpb24gIDstKVxuXG4iICsNCgkJCQkJIlRoYW5rIHlvdSFcbiIgKw0KCQkJCQkiaHR0cDovL2R5bmFyY2guY29tL21pc2hvby9jYWxlbmRhci5lcGxcbiI7DQoJCQl9DQoJCQlhbGVydCh0ZXh0KTsNCgkJCXJldHVybjsNCgkJCWNhc2UgLTI6DQoJCQlpZiAoeWVhciA+IGNhbC5taW5ZZWFyKSB7DQoJCQkJZGF0ZS5zZXRGdWxsWWVhcih5ZWFyIC0gMSk7DQoJCQl9DQoJCQlicmVhazsNCgkJCWNhc2UgLTE6DQoJCQlpZiAobW9uID4gMCkgew0KCQkJCXNldE1vbnRoKG1vbiAtIDEpOw0KCQkJfSBlbHNlIGlmICh5ZWFyLS0gPiBjYWwubWluWWVhcikgew0KCQkJCWRhdGUuc2V0RnVsbFllYXIoeWVhcik7DQoJCQkJc2V0TW9udGgoMTEpOw0KCQkJfQ0KCQkJYnJlYWs7DQoJCQljYXNlIDE6DQoJCQlpZiAobW9uIDwgMTEpIHsNCgkJCQlzZXRNb250aChtb24gKyAxKTsNCgkJCX0gZWxzZSBpZiAoeWVhciA8IGNhbC5tYXhZZWFyKSB7DQoJCQkJZGF0ZS5zZXRGdWxsWWVhcih5ZWFyICsgMSk7DQoJCQkJc2V0TW9udGgoMCk7DQoJCQl9DQoJCQlicmVhazsNCgkJCWNhc2UgMjoNCgkJCWlmICh5ZWFyIDwgY2FsLm1heFllYXIpIHsNCgkJCQlkYXRlLnNldEZ1bGxZZWFyKHllYXIgKyAxKTsNCgkJCX0NCgkJCWJyZWFrOw0KCQkJY2FzZSAxMDA6DQoJCQkJLy8gQnVnIGZpeDogT01OSTAwMDAzMTk4OyBvbmx5IGFsbG93IFN1bmRheSBhbmQgTW9uZGF5IHRvIGJlIGNsaWNrZWQNCgkJCQlpZiAoZWwuZmRvdyA8PSAxKSB7DQoJCQkJCWNhbC5zZXRGaXJzdERheU9mV2VlayhlbC5mZG93KTsNCgkJCQl9DQoJCQlyZXR1cm47DQoJCQljYXNlIDUwOg0KCQkJdmFyIHJhbmdlID0gZWwuX3JhbmdlOw0KCQkJdmFyIGN1cnJlbnQgPSBlbC5pbm5lckhUTUw7DQoJCQlmb3IgKHZhciBpID0gcmFuZ2UubGVuZ3RoOyAtLWkgPj0gMDspDQoJCQkJaWYgKHJhbmdlW2ldID09IGN1cnJlbnQpDQoJCQkJCWJyZWFrOw0KCQkJaWYgKGV2ICYmIGV2LnNoaWZ0S2V5KSB7DQoJCQkJaWYgKC0taSA8IDApDQoJCQkJCWkgPSByYW5nZS5sZW5ndGggLSAxOw0KCQkJfSBlbHNlIGlmICggKytpID49IHJhbmdlLmxlbmd0aCApDQoJCQkJaSA9IDA7DQoJCQl2YXIgbmV3dmFsID0gcmFuZ2VbaV07DQoJCQllbC5pbm5lckhUTUwgPSBuZXd2YWw7DQoJCQljYWwub25VcGRhdGVUaW1lKCk7DQoJCQlyZXR1cm47DQoJCQljYXNlIDA6DQoJCQkvLyBUT0RBWSB3aWxsIGJyaW5nIHVzIGhlcmUNCgkJCWlmICgodHlwZW9mIGNhbC5nZXREYXRlU3RhdHVzID09ICJmdW5jdGlvbiIpICYmDQoJCQkJY2FsLmdldERhdGVTdGF0dXMoZGF0ZSwgZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKSkgew0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCWJyZWFrOw0KCQl9DQoJCWlmICghZGF0ZS5lcXVhbHNUbyhjYWwuZGF0ZSkpIHsNCgkJCWNhbC5zZXREYXRlKGRhdGUpOw0KCQkJbmV3ZGF0ZSA9IHRydWU7DQoJCX0gZWxzZSBpZiAoZWwubmF2dHlwZSA9PSAwKQ0KCQkJbmV3ZGF0ZSA9IGNsb3NpbmcgPSB0cnVlOw0KCX0NCglpZiAobmV3ZGF0ZSkgew0KCQlldiAmJiBjYWwuY2FsbEhhbmRsZXIoKTsNCgl9DQoJaWYgKGNsb3NpbmcpIHsNCgkJQ2FsZW5kYXIucmVtb3ZlQ2xhc3MoZWwsICJoaWxpdGUiKTsNCgkJZXYgJiYgY2FsLmNhbGxDbG9zZUhhbmRsZXIoKTsNCgl9DQp9Ow0KDQovLyBFTkQ6IENBTEVOREFSIFNUQVRJQyBGVU5DVElPTlMNCg0KLy8gQkVHSU46IENBTEVOREFSIE9CSkVDVCBGVU5DVElPTlMNCg0KLyoqDQoqICBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgZ2l2ZW4gcGFyZW50LiAgSWYgX3BhciBpcw0KKiAgbnVsbCB0aGFuIGl0IGNyZWF0ZXMgYSBwb3B1cCBjYWxlbmRhciBpbnNpZGUgdGhlIEJPRFkgZWxlbWVudC4gIElmIF9wYXIgaXMNCiogIGFuIGVsZW1lbnQsIGJlIGl0IEJPRFksIHRoZW4gaXQgY3JlYXRlcyBhIG5vbi1wb3B1cCBjYWxlbmRhciAoc3RpbGwNCiogIGhpZGRlbikuICBTb21lIHByb3BlcnRpZXMgbmVlZCB0byBiZSBzZXQgYmVmb3JlIGNhbGxpbmcgdGhpcyBmdW5jdGlvbi4NCiovDQpDYWxlbmRhci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKF9wYXIpIHsNCgl2YXIgcGFyZW50ID0gbnVsbDsNCglpZiAoISBfcGFyKSB7DQoJCS8vIGRlZmF1bHQgcGFyZW50IGlzIHRoZSBkb2N1bWVudCBib2R5LCBpbiB3aGljaCBjYXNlIHdlIGNyZWF0ZQ0KCQkvLyBhIHBvcHVwIGNhbGVuZGFyLg0KCQlwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdOw0KCQl0aGlzLmlzUG9wdXAgPSB0cnVlOw0KCX0gZWxzZSB7DQoJCXBhcmVudCA9IF9wYXI7DQoJCXRoaXMuaXNQb3B1cCA9IGZhbHNlOw0KCX0NCgl0aGlzLmRhdGUgPSB0aGlzLmRhdGVTdHIgPyBuZXcgRGF0ZSh0aGlzLmRhdGVTdHIpIDogbmV3IERhdGUoKTsNCg0KCXZhciB0YWJsZSA9IENhbGVuZGFyLmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7DQoJdGhpcy50YWJsZSA9IHRhYmxlOw0KCXRhYmxlLmNlbGxTcGFjaW5nID0gMDsNCgl0YWJsZS5jZWxsUGFkZGluZyA9IDA7DQoJdGFibGUuY2FsZW5kYXIgPSB0aGlzOw0KCUNhbGVuZGFyLmFkZEV2ZW50KHRhYmxlLCAibW91c2Vkb3duIiwgQ2FsZW5kYXIudGFibGVNb3VzZURvd24pOw0KDQoJdmFyIGRpdiA9IENhbGVuZGFyLmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCXRoaXMuZWxlbWVudCA9IGRpdjsNCg0KCQkvLyBmaXggYnkgTWFyayBhbmQgVmljdG9yIHdpdGgga3Vkb3MgdG8geG1hcnQ6IEJFR0lODQoJCXZhciBpZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FsX2lmcmFtZSIpOw0KCQlpZiAoaWZyYW1lID09IG51bGwpIHsNCgkJCWlmcmFtZSA9IENhbGVuZGFyLmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIsIGRvY3VtZW50LmJvZHkpOw0KCQkJaWZyYW1lLnNldEF0dHJpYnV0ZSgiaWQiLCAiY2FsX2lmcmFtZSIpOw0KCQl9DQoJCXRoaXMuaWZyYW1lID0gaWZyYW1lOw0KCQl0aGlzLmlmcmFtZS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7DQoJCXRoaXMuaWZyYW1lLnN0eWxlLnpJbmRleCA9IDE5OTsNCgkJLy8gZml4IGJ5IE1hcmsgYW5kIFZpY3RvciB3aXRoIGt1ZG9zIHRvIHhtYXJ0OiBFTkQNCg0KCWRpdi5jbGFzc05hbWUgPSAiY2FsZW5kYXIiOw0KCWlmICh0aGlzLmlzUG9wdXApIHsNCgkJZGl2LnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsNCgkJZGl2LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJfQ0KCWRpdi5hcHBlbmRDaGlsZCh0YWJsZSk7DQoNCgl2YXIgdGhlYWQgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0aGVhZCIsIHRhYmxlKTsNCgl2YXIgY2VsbCA9IG51bGw7DQoJdmFyIHJvdyA9IG51bGw7DQoNCgl2YXIgY2FsID0gdGhpczsNCgl2YXIgaGggPSBmdW5jdGlvbiAodGV4dCwgY3MsIG5hdnR5cGUpIHsNCgkJY2VsbCA9IENhbGVuZGFyLmNyZWF0ZUVsZW1lbnQoInRkIiwgcm93KTsNCgkJY2VsbC5jb2xTcGFuID0gY3M7DQoJCWNlbGwuY2xhc3NOYW1lID0gImJ1dHRvbiI7DQoJCWlmIChuYXZ0eXBlICE9IDAgJiYgTWF0aC5hYnMobmF2dHlwZSkgPD0gMikNCgkJCWNlbGwuY2xhc3NOYW1lICs9ICIgbmF2IjsNCgkJQ2FsZW5kYXIuX2FkZF9ldnMoY2VsbCk7DQoJCWNlbGwuY2FsZW5kYXIgPSBjYWw7DQoJCWNlbGwubmF2dHlwZSA9IG5hdnR5cGU7DQoJCWNlbGwuaW5uZXJIVE1MID0gIjxkaXYgdW5zZWxlY3RhYmxlPSdvbic+IiArIHRleHQgKyAiPC9kaXY+IjsNCgkJcmV0dXJuIGNlbGw7DQoJfTsNCg0KCXJvdyA9IENhbGVuZGFyLmNyZWF0ZUVsZW1lbnQoInRyIiwgdGhlYWQpOw0KCXZhciB0aXRsZV9sZW5ndGggPSA2Ow0KCSh0aGlzLmlzUG9wdXApICYmIC0tdGl0bGVfbGVuZ3RoOw0KCSh0aGlzLndlZWtOdW1iZXJzKSAmJiArK3RpdGxlX2xlbmd0aDsNCg0KCWhoKCI/IiwgMSwgNDAwKS50dGlwID0gQ2FsZW5kYXIuX1RUWyJJTkZPIl07DQoJdGhpcy50aXRsZSA9IGhoKCIiLCB0aXRsZV9sZW5ndGgsIDMwMCk7DQoJdGhpcy50aXRsZS5jbGFzc05hbWUgPSAidGl0bGUiOw0KCWlmICh0aGlzLmlzUG9wdXApIHsNCgkJdGhpcy50aXRsZS50dGlwID0gQ2FsZW5kYXIuX1RUWyJEUkFHX1RPX01PVkUiXTsNCgkJdGhpcy50aXRsZS5zdHlsZS5jdXJzb3IgPSAibW92ZSI7DQoJCWhoKCImI3gwMGQ3OyIsIDEsIDIwMCkudHRpcCA9IENhbGVuZGFyLl9UVFsiQ0xPU0UiXTsNCgl9DQoNCglyb3cgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ciIsIHRoZWFkKTsNCglyb3cuY2xhc3NOYW1lID0gImhlYWRyb3ciOw0KDQoJdGhpcy5fbmF2X3B5ID0gaGgoIiYjeDAwYWI7IiwgMSwgLTIpOw0KCXRoaXMuX25hdl9weS50dGlwID0gQ2FsZW5kYXIuX1RUWyJQUkVWX1lFQVIiXTsNCg0KCXRoaXMuX25hdl9wbSA9IGhoKCImI3gyMDM5OyIsIDEsIC0xKTsNCgl0aGlzLl9uYXZfcG0udHRpcCA9IENhbGVuZGFyLl9UVFsiUFJFVl9NT05USCJdOw0KDQoJdGhpcy5fbmF2X25vdyA9IGhoKENhbGVuZGFyLl9UVFsiVE9EQVkiXSwgdGhpcy53ZWVrTnVtYmVycyA/IDQgOiAzLCAwKTsNCgl0aGlzLl9uYXZfbm93LnR0aXAgPSBDYWxlbmRhci5fVFRbIkdPX1RPREFZIl07DQoNCgl0aGlzLl9uYXZfbm0gPSBoaCgiJiN4MjAzYTsiLCAxLCAxKTsNCgl0aGlzLl9uYXZfbm0udHRpcCA9IENhbGVuZGFyLl9UVFsiTkVYVF9NT05USCJdOw0KDQoJdGhpcy5fbmF2X255ID0gaGgoIiYjeDAwYmI7IiwgMSwgMik7DQoJdGhpcy5fbmF2X255LnR0aXAgPSBDYWxlbmRhci5fVFRbIk5FWFRfWUVBUiJdOw0KDQoJLy8gZGF5IG5hbWVzDQoJcm93ID0gQ2FsZW5kYXIuY3JlYXRlRWxlbWVudCgidHIiLCB0aGVhZCk7DQoJcm93LmNsYXNzTmFtZSA9ICJkYXluYW1lcyI7DQoJaWYgKHRoaXMud2Vla051bWJlcnMpIHsNCgkJY2VsbCA9IENhbGVuZGFyLmNyZWF0ZUVsZW1lbnQoInRkIiwgcm93KTsNCgkJY2VsbC5jbGFzc05hbWUgPSAibmFtZSB3biI7DQoJCWNlbGwuaW5uZXJIVE1MID0gQ2FsZW5kYXIuX1RUWyJXSyJdOw0KCX0NCglmb3IgKHZhciBpID0gNzsgaSA+IDA7IC0taSkgew0KCQljZWxsID0gQ2FsZW5kYXIuY3JlYXRlRWxlbWVudCgidGQiLCByb3cpOw0KCQlpZiAoIWkpIHsNCgkJCWNlbGwubmF2dHlwZSA9IDEwMDsNCgkJCWNlbGwuY2FsZW5kYXIgPSB0aGlzOw0KCQkJQ2FsZW5kYXIuX2FkZF9ldnMoY2VsbCk7DQoJCX0NCgl9DQoJdGhpcy5maXJzdGRheW5hbWUgPSAodGhpcy53ZWVrTnVtYmVycykgPyByb3cuZmlyc3RDaGlsZC5uZXh0U2libGluZyA6IHJvdy5maXJzdENoaWxkOw0KCXRoaXMuX2Rpc3BsYXlXZWVrZGF5cygpOw0KDQoJdmFyIHRib2R5ID0gQ2FsZW5kYXIuY3JlYXRlRWxlbWVudCgidGJvZHkiLCB0YWJsZSk7DQoJdGhpcy50Ym9keSA9IHRib2R5Ow0KDQoJZm9yIChpID0gNjsgaSA+IDA7IC0taSkgew0KCQlyb3cgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ciIsIHRib2R5KTsNCgkJaWYgKHRoaXMud2Vla051bWJlcnMpIHsNCgkJCWNlbGwgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ZCIsIHJvdyk7DQoJCX0NCgkJZm9yICh2YXIgaiA9IDc7IGogPiAwOyAtLWopIHsNCgkJCWNlbGwgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ZCIsIHJvdyk7DQoJCQljZWxsLmNhbGVuZGFyID0gdGhpczsNCgkJCUNhbGVuZGFyLl9hZGRfZXZzKGNlbGwpOw0KCQl9DQoJfQ0KDQoJaWYgKHRoaXMuc2hvd3NUaW1lKSB7DQoJCXJvdyA9IENhbGVuZGFyLmNyZWF0ZUVsZW1lbnQoInRyIiwgdGJvZHkpOw0KCQlyb3cuY2xhc3NOYW1lID0gInRpbWUiOw0KDQoJCWNlbGwgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ZCIsIHJvdyk7DQoJCWNlbGwuY2xhc3NOYW1lID0gInRpbWUiOw0KCQljZWxsLmNvbFNwYW4gPSAyOw0KCQljZWxsLmlubmVySFRNTCA9IENhbGVuZGFyLl9UVFsiVElNRSJdIHx8ICImbmJzcDsiOw0KDQoJCWNlbGwgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ZCIsIHJvdyk7DQoJCWNlbGwuY2xhc3NOYW1lID0gInRpbWUiOw0KCQljZWxsLmNvbFNwYW4gPSB0aGlzLndlZWtOdW1iZXJzID8gNCA6IDM7DQoNCgkJKGZ1bmN0aW9uKCl7DQoJCQlmdW5jdGlvbiBtYWtlVGltZVBhcnQoY2xhc3NOYW1lLCBpbml0LCByYW5nZV9zdGFydCwgcmFuZ2VfZW5kKSB7DQoJCQkJdmFyIHBhcnQgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJzcGFuIiwgY2VsbCk7DQoJCQkJcGFydC5jbGFzc05hbWUgPSBjbGFzc05hbWU7DQoJCQkJcGFydC5pbm5lckhUTUwgPSBpbml0Ow0KCQkJCXBhcnQuY2FsZW5kYXIgPSBjYWw7DQoJCQkJcGFydC50dGlwID0gQ2FsZW5kYXIuX1RUWyJUSU1FX1BBUlQiXTsNCgkJCQlwYXJ0Lm5hdnR5cGUgPSA1MDsNCgkJCQlwYXJ0Ll9yYW5nZSA9IFtdOw0KCQkJCWlmICh0eXBlb2YgcmFuZ2Vfc3RhcnQgIT0gIm51bWJlciIpDQoJCQkJCXBhcnQuX3JhbmdlID0gcmFuZ2Vfc3RhcnQ7DQoJCQkJZWxzZSB7DQoJCQkJCWZvciAodmFyIGkgPSByYW5nZV9zdGFydDsgaSA8PSByYW5nZV9lbmQ7ICsraSkgew0KCQkJCQkJdmFyIHR4dDsNCgkJCQkJCWlmIChpIDwgMTAgJiYgcmFuZ2VfZW5kID49IDEwKSB0eHQgPSAnMCcgKyBpOw0KCQkJCQkJZWxzZSB0eHQgPSAnJyArIGk7DQoJCQkJCQlwYXJ0Ll9yYW5nZVtwYXJ0Ll9yYW5nZS5sZW5ndGhdID0gdHh0Ow0KCQkJCQl9DQoJCQkJfQ0KCQkJCUNhbGVuZGFyLl9hZGRfZXZzKHBhcnQpOw0KCQkJCXJldHVybiBwYXJ0Ow0KCQkJfTsNCgkJCXZhciBocnMgPSBjYWwuZGF0ZS5nZXRIb3VycygpOw0KCQkJdmFyIG1pbnMgPSBjYWwuZGF0ZS5nZXRNaW51dGVzKCk7DQoJCQl2YXIgdDEyID0gIWNhbC50aW1lMjQ7DQoJCQl2YXIgcG0gPSAoaHJzID4gMTIpOw0KCQkJaWYgKHQxMiAmJiBwbSkgaHJzIC09IDEyOw0KCQkJdmFyIEggPSBtYWtlVGltZVBhcnQoImhvdXIiLCBocnMsIHQxMiA/IDEgOiAwLCB0MTIgPyAxMiA6IDIzKTsNCgkJCXZhciBzcGFuID0gQ2FsZW5kYXIuY3JlYXRlRWxlbWVudCgic3BhbiIsIGNlbGwpOw0KCQkJc3Bhbi5pbm5lckhUTUwgPSAiOiI7DQoJCQlzcGFuLmNsYXNzTmFtZSA9ICJjb2xvbiI7DQoJCQl2YXIgTSA9IG1ha2VUaW1lUGFydCgibWludXRlIiwgbWlucywgMCwgNTkpOw0KCQkJdmFyIEFQID0gbnVsbDsNCgkJCWNlbGwgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ZCIsIHJvdyk7DQoJCQljZWxsLmNsYXNzTmFtZSA9ICJ0aW1lIjsNCgkJCWNlbGwuY29sU3BhbiA9IDI7DQoJCQlpZiAodDEyKQ0KCQkJCUFQID0gbWFrZVRpbWVQYXJ0KCJhbXBtIiwgcG0gPyAicG0iIDogImFtIiwgWyJhbSIsICJwbSJdKTsNCgkJCWVsc2UNCgkJCQljZWxsLmlubmVySFRNTCA9ICImbmJzcDsiOw0KDQoJCQljYWwub25TZXRUaW1lID0gZnVuY3Rpb24oKSB7DQoJCQkJdmFyIHBtLCBocnMgPSB0aGlzLmRhdGUuZ2V0SG91cnMoKSwNCgkJCQkJbWlucyA9IHRoaXMuZGF0ZS5nZXRNaW51dGVzKCk7DQoJCQkJaWYgKHQxMikgew0KCQkJCQlwbSA9IChocnMgPj0gMTIpOw0KCQkJCQlpZiAocG0pIGhycyAtPSAxMjsNCgkJCQkJaWYgKGhycyA9PSAwKSBocnMgPSAxMjsNCgkJCQkJQVAuaW5uZXJIVE1MID0gcG0gPyAicG0iIDogImFtIjsNCgkJCQl9DQoJCQkJSC5pbm5lckhUTUwgPSAoaHJzIDwgMTApID8gKCIwIiArIGhycykgOiBocnM7DQoJCQkJTS5pbm5lckhUTUwgPSAobWlucyA8IDEwKSA/ICgiMCIgKyBtaW5zKSA6IG1pbnM7DQoJCQl9Ow0KDQoJCQljYWwub25VcGRhdGVUaW1lID0gZnVuY3Rpb24oKSB7DQoJCQkJdmFyIGRhdGUgPSB0aGlzLmRhdGU7DQoJCQkJdmFyIGggPSBwYXJzZUludChILmlubmVySFRNTCwgMTApOw0KCQkJCWlmICh0MTIpIHsNCgkJCQkJaWYgKC9wbS9pLnRlc3QoQVAuaW5uZXJIVE1MKSAmJiBoIDwgMTIpDQoJCQkJCQloICs9IDEyOw0KCQkJCQllbHNlIGlmICgvYW0vaS50ZXN0KEFQLmlubmVySFRNTCkgJiYgaCA9PSAxMikNCgkJCQkJCWggPSAwOw0KCQkJCX0NCgkJCQl2YXIgZCA9IGRhdGUuZ2V0RGF0ZSgpOw0KCQkJCXZhciBtID0gZGF0ZS5nZXRNb250aCgpOw0KCQkJCXZhciB5ID0gZGF0ZS5nZXRGdWxsWWVhcigpOw0KCQkJCWRhdGUuc2V0SG91cnMoaCk7DQoJCQkJZGF0ZS5zZXRNaW51dGVzKHBhcnNlSW50KE0uaW5uZXJIVE1MLCAxMCkpOw0KCQkJCWRhdGUuc2V0RnVsbFllYXIoeSk7DQoJCQkJZGF0ZS5zZXRNb250aChtKTsNCgkJCQlkYXRlLnNldERhdGUoZCk7DQoJCQkJdGhpcy5kYXRlQ2xpY2tlZCA9IGZhbHNlOw0KCQkJCXRoaXMuY2FsbEhhbmRsZXIoKTsNCgkJCX07DQoJCX0pKCk7DQoJfSBlbHNlIHsNCgkJdGhpcy5vblNldFRpbWUgPSB0aGlzLm9uVXBkYXRlVGltZSA9IGZ1bmN0aW9uKCkge307DQoJfQ0KDQoJdmFyIHRmb290ID0gQ2FsZW5kYXIuY3JlYXRlRWxlbWVudCgidGZvb3QiLCB0YWJsZSk7DQoNCglyb3cgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJ0ciIsIHRmb290KTsNCglyb3cuY2xhc3NOYW1lID0gImZvb3Ryb3ciOw0KDQoJY2VsbCA9IGhoKENhbGVuZGFyLl9UVFsiU0VMX0RBVEUiXSwgdGhpcy53ZWVrTnVtYmVycyA/IDggOiA3LCAzMDApOw0KCWNlbGwuY2xhc3NOYW1lID0gInR0aXAiOw0KCWlmICh0aGlzLmlzUG9wdXApIHsNCgkJY2VsbC50dGlwID0gQ2FsZW5kYXIuX1RUWyJEUkFHX1RPX01PVkUiXTsNCgkJY2VsbC5zdHlsZS5jdXJzb3IgPSAibW92ZSI7DQoJfQ0KCXRoaXMudG9vbHRpcHMgPSBjZWxsOw0KDQoJZGl2ID0gQ2FsZW5kYXIuY3JlYXRlRWxlbWVudCgiZGl2IiwgdGhpcy5lbGVtZW50KTsNCgl0aGlzLm1vbnRoc0NvbWJvID0gZGl2Ow0KCWRpdi5jbGFzc05hbWUgPSAiY29tYm8iOw0KCWZvciAoaSA9IDA7IGkgPCBDYWxlbmRhci5fTU4ubGVuZ3RoOyArK2kpIHsNCgkJdmFyIG1uID0gQ2FsZW5kYXIuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCW1uLmNsYXNzTmFtZSA9IENhbGVuZGFyLmlzX2llID8gImxhYmVsLUlFZml4IiA6ICJsYWJlbCI7DQoJCW1uLm1vbnRoID0gaTsNCgkJbW4uaW5uZXJIVE1MID0gQ2FsZW5kYXIuX1NNTltpXTsNCgkJZGl2LmFwcGVuZENoaWxkKG1uKTsNCgl9DQoNCglkaXYgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJkaXYiLCB0aGlzLmVsZW1lbnQpOw0KCXRoaXMueWVhcnNDb21ibyA9IGRpdjsNCglkaXYuY2xhc3NOYW1lID0gImNvbWJvIjsNCglmb3IgKGkgPSAxMjsgaSA+IDA7IC0taSkgew0KCQl2YXIgeXIgPSBDYWxlbmRhci5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCgkJeXIuY2xhc3NOYW1lID0gQ2FsZW5kYXIuaXNfaWUgPyAibGFiZWwtSUVmaXgiIDogImxhYmVsIjsNCgkJZGl2LmFwcGVuZENoaWxkKHlyKTsNCgl9DQoNCgl0aGlzLl9pbml0KHRoaXMuZmlyc3REYXlPZldlZWssIHRoaXMuZGF0ZSk7DQoJcGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7DQp9Ow0KDQovKioga2V5Ym9hcmQgbmF2aWdhdGlvbiwgb25seSBmb3IgcG9wdXAgY2FsZW5kYXJzICovDQpDYWxlbmRhci5fa2V5RXZlbnQgPSBmdW5jdGlvbihldikgew0KCXZhciBjYWwgPSB3aW5kb3cuX2R5bmFyY2hfcG9wdXBDYWxlbmRhcjsNCglpZiAoIWNhbCB8fCBjYWwubXVsdGlwbGUpDQoJCXJldHVybiBmYWxzZTsNCgkoQ2FsZW5kYXIuaXNfaWUpICYmIChldiA9IHdpbmRvdy5ldmVudCk7DQoJdmFyIGFjdCA9IChDYWxlbmRhci5pc19pZSB8fCBldi50eXBlID09ICJrZXlwcmVzcyIpLA0KCQlLID0gZXYua2V5Q29kZTsNCglpZiAoZXYuY3RybEtleSkgew0KCQlzd2l0Y2ggKEspIHsNCgkJCWNhc2UgMzc6IC8vIEtFWSBsZWZ0DQoJCQlhY3QgJiYgQ2FsZW5kYXIuY2VsbENsaWNrKGNhbC5fbmF2X3BtKTsNCgkJCWJyZWFrOw0KCQkJY2FzZSAzODogLy8gS0VZIHVwDQoJCQlhY3QgJiYgQ2FsZW5kYXIuY2VsbENsaWNrKGNhbC5fbmF2X3B5KTsNCgkJCWJyZWFrOw0KCQkJY2FzZSAzOTogLy8gS0VZIHJpZ2h0DQoJCQlhY3QgJiYgQ2FsZW5kYXIuY2VsbENsaWNrKGNhbC5fbmF2X25tKTsNCgkJCWJyZWFrOw0KCQkJY2FzZSA0MDogLy8gS0VZIGRvd24NCgkJCWFjdCAmJiBDYWxlbmRhci5jZWxsQ2xpY2soY2FsLl9uYXZfbnkpOw0KCQkJYnJlYWs7DQoJCQlkZWZhdWx0Og0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoJfSBlbHNlIHN3aXRjaCAoSykgew0KCQljYXNlIDMyOiAvLyBLRVkgc3BhY2UgKG5vdykNCgkJQ2FsZW5kYXIuY2VsbENsaWNrKGNhbC5fbmF2X25vdyk7DQoJCWJyZWFrOw0KCQljYXNlIDI3OiAvLyBLRVkgZXNjDQoJCWFjdCAmJiBjYWwuY2FsbENsb3NlSGFuZGxlcigpOw0KCQlicmVhazsNCgkJY2FzZSAzNzogLy8gS0VZIGxlZnQNCgkJY2FzZSAzODogLy8gS0VZIHVwDQoJCWNhc2UgMzk6IC8vIEtFWSByaWdodA0KCQljYXNlIDQwOiAvLyBLRVkgZG93bg0KCQlpZiAoYWN0KSB7DQoJCQl2YXIgcHJldiwgeCwgeSwgbmUsIGVsLCBzdGVwOw0KCQkJcHJldiA9IEsgPT0gMzcgfHwgSyA9PSAzODsNCgkJCXN0ZXAgPSAoSyA9PSAzNyB8fCBLID09IDM5KSA/IDEgOiA3Ow0KCQkJZnVuY3Rpb24gc2V0VmFycygpIHsNCgkJCQllbCA9IGNhbC5jdXJyZW50RGF0ZUVsOw0KCQkJCXZhciBwID0gZWwucG9zOw0KCQkJCXggPSBwICYgMTU7DQoJCQkJeSA9IHAgPj4gNDsNCgkJCQluZSA9IGNhbC5hcl9kYXlzW3ldW3hdOw0KCQkJfTtzZXRWYXJzKCk7DQoJCQlmdW5jdGlvbiBwcmV2TW9udGgoKSB7DQoJCQkJdmFyIGRhdGUgPSBuZXcgRGF0ZShjYWwuZGF0ZSk7DQoJCQkJZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gc3RlcCk7DQoJCQkJY2FsLnNldERhdGUoZGF0ZSk7DQoJCQl9Ow0KCQkJZnVuY3Rpb24gbmV4dE1vbnRoKCkgew0KCQkJCXZhciBkYXRlID0gbmV3IERhdGUoY2FsLmRhdGUpOw0KCQkJCWRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIHN0ZXApOw0KCQkJCWNhbC5zZXREYXRlKGRhdGUpOw0KCQkJfTsNCgkJCXdoaWxlICgxKSB7DQoJCQkJc3dpdGNoIChLKSB7DQoJCQkJCWNhc2UgMzc6IC8vIEtFWSBsZWZ0DQoJCQkJCWlmICgtLXggPj0gMCkNCgkJCQkJCW5lID0gY2FsLmFyX2RheXNbeV1beF07DQoJCQkJCWVsc2Ugew0KCQkJCQkJeCA9IDY7DQoJCQkJCQlLID0gMzg7DQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQlicmVhazsNCgkJCQkJY2FzZSAzODogLy8gS0VZIHVwDQoJCQkJCWlmICgtLXkgPj0gMCkNCgkJCQkJCW5lID0gY2FsLmFyX2RheXNbeV1beF07DQoJCQkJCWVsc2Ugew0KCQkJCQkJcHJldk1vbnRoKCk7DQoJCQkJCQlzZXRWYXJzKCk7DQoJCQkJCX0NCgkJCQkJYnJlYWs7DQoJCQkJCWNhc2UgMzk6IC8vIEtFWSByaWdodA0KCQkJCQlpZiAoKyt4IDwgNykNCgkJCQkJCW5lID0gY2FsLmFyX2RheXNbeV1beF07DQoJCQkJCWVsc2Ugew0KCQkJCQkJeCA9IDA7DQoJCQkJCQlLID0gNDA7DQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQlicmVhazsNCgkJCQkJY2FzZSA0MDogLy8gS0VZIGRvd24NCgkJCQkJaWYgKCsreSA8IGNhbC5hcl9kYXlzLmxlbmd0aCkNCgkJCQkJCW5lID0gY2FsLmFyX2RheXNbeV1beF07DQoJCQkJCWVsc2Ugew0KCQkJCQkJbmV4dE1vbnRoKCk7DQoJCQkJCQlzZXRWYXJzKCk7DQoJCQkJCX0NCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJCWJyZWFrOw0KCQkJfQ0KCQkJaWYgKG5lKSB7DQoJCQkJaWYgKCFuZS5kaXNhYmxlZCkNCgkJCQkJQ2FsZW5kYXIuY2VsbENsaWNrKG5lKTsNCgkJCQllbHNlIGlmIChwcmV2KQ0KCQkJCQlwcmV2TW9udGgoKTsNCgkJCQllbHNlDQoJCQkJCW5leHRNb250aCgpOw0KCQkJfQ0KCQl9DQoJCWJyZWFrOw0KCQljYXNlIDEzOiAvLyBLRVkgZW50ZXINCgkJaWYgKGFjdCkNCgkJCUNhbGVuZGFyLmNlbGxDbGljayhjYWwuY3VycmVudERhdGVFbCwgZXYpOw0KCQlicmVhazsNCgkJZGVmYXVsdDoNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCglyZXR1cm4gQ2FsZW5kYXIuc3RvcEV2ZW50KGV2KTsNCn07DQoNCi8qKg0KKiAgKFJFKUluaXRpYWxpemVzIHRoZSBjYWxlbmRhciB0byB0aGUgZ2l2ZW4gZGF0ZSBhbmQgZmlyc3REYXlPZldlZWsNCiovDQpDYWxlbmRhci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoZmlyc3REYXlPZldlZWssIGRhdGUpIHsNCgl2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpLA0KCQlUWSA9IHRvZGF5LmdldEZ1bGxZZWFyKCksDQoJCVRNID0gdG9kYXkuZ2V0TW9udGgoKSwNCgkJVEQgPSB0b2RheS5nZXREYXRlKCk7DQoJdGhpcy50YWJsZS5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7DQoJdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQoJaWYgKHllYXIgPCB0aGlzLm1pblllYXIpIHsNCgkJeWVhciA9IHRoaXMubWluWWVhcjsNCgkJZGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTsNCgl9IGVsc2UgaWYgKHllYXIgPiB0aGlzLm1heFllYXIpIHsNCgkJeWVhciA9IHRoaXMubWF4WWVhcjsNCgkJZGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTsNCgl9DQoJdGhpcy5maXJzdERheU9mV2VlayA9IGZpcnN0RGF5T2ZXZWVrOw0KCXRoaXMuZGF0ZSA9IG5ldyBEYXRlKGRhdGUpOw0KCXZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTsNCgl2YXIgbWRheSA9IGRhdGUuZ2V0RGF0ZSgpOw0KCXZhciBub19kYXlzID0gZGF0ZS5nZXRNb250aERheXMoKTsNCg0KCS8vIGNhbGVuZGFyIHZvb2RvbyBmb3IgY29tcHV0aW5nIHRoZSBmaXJzdCBkYXkgdGhhdCB3b3VsZCBhY3R1YWxseSBiZQ0KCS8vIGRpc3BsYXllZCBpbiB0aGUgY2FsZW5kYXIsIGV2ZW4gaWYgaXQncyBmcm9tIHRoZSBwcmV2aW91cyBtb250aC4NCgkvLyBXQVJOSU5HOiB0aGlzIGlzIG1hZ2ljLiA7LSkNCglkYXRlLnNldERhdGUoMSk7DQoJdmFyIGRheTEgPSAoZGF0ZS5nZXREYXkoKSAtIHRoaXMuZmlyc3REYXlPZldlZWspICUgNzsNCglpZiAoZGF5MSA8IDApDQoJCWRheTEgKz0gNzsNCglkYXRlLnNldERhdGUoLWRheTEpOw0KCWRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIDEpOw0KDQoJdmFyIHJvdyA9IHRoaXMudGJvZHkuZmlyc3RDaGlsZDsNCgl2YXIgTU4gPSBDYWxlbmRhci5fU01OW21vbnRoXTsNCgl2YXIgYXJfZGF5cyA9IHRoaXMuYXJfZGF5cyA9IG5ldyBBcnJheSgpOw0KCXZhciB3ZWVrZW5kID0gQ2FsZW5kYXIuX1RUWyJXRUVLRU5EIl07DQoJdmFyIGRhdGVzID0gdGhpcy5tdWx0aXBsZSA/ICh0aGlzLmRhdGVzQ2VsbHMgPSB7fSkgOiBudWxsOw0KCWZvciAodmFyIGkgPSAwOyBpIDwgNjsgKytpLCByb3cgPSByb3cubmV4dFNpYmxpbmcpIHsNCgkJdmFyIGNlbGwgPSByb3cuZmlyc3RDaGlsZDsNCgkJaWYgKHRoaXMud2Vla051bWJlcnMpIHsNCgkJCWNlbGwuY2xhc3NOYW1lID0gImRheSB3biI7DQoJCQljZWxsLmlubmVySFRNTCA9IGRhdGUuZ2V0V2Vla051bWJlcigpOw0KCQkJY2VsbCA9IGNlbGwubmV4dFNpYmxpbmc7DQoJCX0NCgkJcm93LmNsYXNzTmFtZSA9ICJkYXlzcm93IjsNCgkJdmFyIGhhc2RheXMgPSBmYWxzZSwgaWRheSwgZHBvcyA9IGFyX2RheXNbaV0gPSBbXTsNCgkJZm9yICh2YXIgaiA9IDA7IGogPCA3OyArK2osIGNlbGwgPSBjZWxsLm5leHRTaWJsaW5nLCBkYXRlLnNldERhdGUoaWRheSArIDEpKSB7DQoJCQlpZGF5ID0gZGF0ZS5nZXREYXRlKCk7DQoJCQl2YXIgd2RheSA9IGRhdGUuZ2V0RGF5KCk7DQoJCQljZWxsLmNsYXNzTmFtZSA9ICJkYXkiOw0KCQkJY2VsbC5wb3MgPSBpIDw8IDQgfCBqOw0KCQkJZHBvc1tqXSA9IGNlbGw7DQoJCQl2YXIgY3VycmVudF9tb250aCA9IChkYXRlLmdldE1vbnRoKCkgPT0gbW9udGgpOw0KCQkJaWYgKCFjdXJyZW50X21vbnRoKSB7DQoJCQkJaWYgKHRoaXMuc2hvd3NPdGhlck1vbnRocykgew0KCQkJCQljZWxsLmNsYXNzTmFtZSArPSAiIG90aGVybW9udGgiOw0KCQkJCQljZWxsLm90aGVyTW9udGggPSB0cnVlOw0KCQkJCX0gZWxzZSB7DQoJCQkJCWNlbGwuY2xhc3NOYW1lID0gImVtcHR5Y2VsbCI7DQoJCQkJCWNlbGwuaW5uZXJIVE1MID0gIiZuYnNwOyI7DQoJCQkJCWNlbGwuZGlzYWJsZWQgPSB0cnVlOw0KCQkJCQljb250aW51ZTsNCgkJCQl9DQoJCQl9IGVsc2Ugew0KCQkJCWNlbGwub3RoZXJNb250aCA9IGZhbHNlOw0KCQkJCWhhc2RheXMgPSB0cnVlOw0KCQkJfQ0KCQkJY2VsbC5kaXNhYmxlZCA9IGZhbHNlOw0KCQkJY2VsbC5pbm5lckhUTUwgPSB0aGlzLmdldERhdGVUZXh0ID8gdGhpcy5nZXREYXRlVGV4dChkYXRlLCBpZGF5KSA6IGlkYXk7DQoJCQlpZiAoZGF0ZXMpDQoJCQkJZGF0ZXNbZGF0ZS5wcmludCgiJVklbSVkIildID0gY2VsbDsNCgkJCWlmICh0aGlzLmdldERhdGVTdGF0dXMpIHsNCgkJCQl2YXIgc3RhdHVzID0gdGhpcy5nZXREYXRlU3RhdHVzKGRhdGUsIHllYXIsIG1vbnRoLCBpZGF5KTsNCgkJCQlpZiAodGhpcy5nZXREYXRlVG9vbFRpcCkgew0KCQkJCQl2YXIgdG9vbFRpcCA9IHRoaXMuZ2V0RGF0ZVRvb2xUaXAoZGF0ZSwgeWVhciwgbW9udGgsIGlkYXkpOw0KCQkJCQlpZiAodG9vbFRpcCkNCgkJCQkJCWNlbGwudGl0bGUgPSB0b29sVGlwOw0KCQkJCX0NCgkJCQlpZiAoc3RhdHVzID09PSB0cnVlKSB7DQoJCQkJCWNlbGwuY2xhc3NOYW1lICs9ICIgZGlzYWJsZWQiOw0KCQkJCQljZWxsLmRpc2FibGVkID0gdHJ1ZTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlpZiAoL2Rpc2FibGVkL2kudGVzdChzdGF0dXMpKQ0KCQkJCQkJY2VsbC5kaXNhYmxlZCA9IHRydWU7DQoJCQkJCWNlbGwuY2xhc3NOYW1lICs9ICIgIiArIHN0YXR1czsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoIWNlbGwuZGlzYWJsZWQpIHsNCgkJCQljZWxsLmNhbGRhdGUgPSBuZXcgRGF0ZShkYXRlKTsNCgkJCQljZWxsLnR0aXAgPSAiXyI7DQoJCQkJaWYgKCF0aGlzLm11bHRpcGxlICYmIGN1cnJlbnRfbW9udGgNCgkJCQkJJiYgaWRheSA9PSBtZGF5ICYmIHRoaXMuaGlsaXRlVG9kYXkpIHsNCgkJCQkJY2VsbC5jbGFzc05hbWUgKz0gIiBzZWxlY3RlZCI7DQoJCQkJCXRoaXMuY3VycmVudERhdGVFbCA9IGNlbGw7DQoJCQkJfQ0KCQkJCWlmIChkYXRlLmdldEZ1bGxZZWFyKCkgPT0gVFkgJiYNCgkJCQkJZGF0ZS5nZXRNb250aCgpID09IFRNICYmDQoJCQkJCWlkYXkgPT0gVEQpIHsNCgkJCQkJY2VsbC5jbGFzc05hbWUgKz0gIiB0b2RheSI7DQoJCQkJCWNlbGwudHRpcCArPSBDYWxlbmRhci5fVFRbIlBBUlRfVE9EQVkiXTsNCgkJCQl9DQoJCQkJaWYgKHdlZWtlbmQuaW5kZXhPZih3ZGF5LnRvU3RyaW5nKCkpICE9IC0xKQ0KCQkJCQljZWxsLmNsYXNzTmFtZSArPSBjZWxsLm90aGVyTW9udGggPyAiIG93ZWVrZW5kIiA6ICIgd2Vla2VuZCI7DQoJCQl9DQoJCX0NCgkJaWYgKCEoaGFzZGF5cyB8fCB0aGlzLnNob3dzT3RoZXJNb250aHMpKQ0KCQkJcm93LmNsYXNzTmFtZSA9ICJlbXB0eXJvdyI7DQoJfQ0KCXRoaXMudGl0bGUuaW5uZXJIVE1MID0gQ2FsZW5kYXIuX01OW21vbnRoXSArICIsICIgKyB5ZWFyOw0KCXRoaXMub25TZXRUaW1lKCk7DQoJdGhpcy50YWJsZS5zdHlsZS52aXNpYmlsaXR5ID0gInZpc2libGUiOw0KCXRoaXMuX2luaXRNdWx0aXBsZURhdGVzKCk7DQoJLy8gUFJPRklMRQ0KCS8vIHRoaXMudG9vbHRpcHMuaW5uZXJIVE1MID0gIkdlbmVyYXRlZCBpbiAiICsgKChuZXcgRGF0ZSgpKSAtIHRvZGF5KSArICIgbXMiOw0KfTsNCg0KQ2FsZW5kYXIucHJvdG90eXBlLl9pbml0TXVsdGlwbGVEYXRlcyA9IGZ1bmN0aW9uKCkgew0KCWlmICh0aGlzLm11bHRpcGxlKSB7DQoJCWZvciAodmFyIGkgaW4gdGhpcy5tdWx0aXBsZSkgew0KCQkJdmFyIGNlbGwgPSB0aGlzLmRhdGVzQ2VsbHNbaV07DQoJCQl2YXIgZCA9IHRoaXMubXVsdGlwbGVbaV07DQoJCQlpZiAoIWQpDQoJCQkJY29udGludWU7DQoJCQlpZiAoY2VsbCkNCgkJCQljZWxsLmNsYXNzTmFtZSArPSAiIHNlbGVjdGVkIjsNCgkJfQ0KCX0NCn07DQoNCkNhbGVuZGFyLnByb3RvdHlwZS5fdG9nZ2xlTXVsdGlwbGVEYXRlID0gZnVuY3Rpb24oZGF0ZSkgew0KCWlmICh0aGlzLm11bHRpcGxlKSB7DQoJCXZhciBkcyA9IGRhdGUucHJpbnQoIiVZJW0lZCIpOw0KCQl2YXIgY2VsbCA9IHRoaXMuZGF0ZXNDZWxsc1tkc107DQoJCWlmIChjZWxsKSB7DQoJCQl2YXIgZCA9IHRoaXMubXVsdGlwbGVbZHNdOw0KCQkJaWYgKCFkKSB7DQoJCQkJQ2FsZW5kYXIuYWRkQ2xhc3MoY2VsbCwgInNlbGVjdGVkIik7DQoJCQkJdGhpcy5tdWx0aXBsZVtkc10gPSBkYXRlOw0KCQkJfSBlbHNlIHsNCgkJCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhjZWxsLCAic2VsZWN0ZWQiKTsNCgkJCQlkZWxldGUgdGhpcy5tdWx0aXBsZVtkc107DQoJCQl9DQoJCX0NCgl9DQp9Ow0KDQpDYWxlbmRhci5wcm90b3R5cGUuc2V0RGF0ZVRvb2xUaXBIYW5kbGVyID0gZnVuY3Rpb24gKHVuYXJ5RnVuY3Rpb24pIHsNCgl0aGlzLmdldERhdGVUb29sVGlwID0gdW5hcnlGdW5jdGlvbjsNCn07DQoNCi8qKg0KKiAgQ2FsbHMgX2luaXQgZnVuY3Rpb24gYWJvdmUgZm9yIGdvaW5nIHRvIGEgY2VydGFpbiBkYXRlIChidXQgb25seSBpZiB0aGUNCiogIGRhdGUgaXMgZGlmZmVyZW50IHRoYW4gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBvbmUpLg0KKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5nZXRFbGVtZW50ID0gZnVuY3Rpb24gKCkgew0KCXJldHVybiB0aGlzLmVsZW1lbnQ7DQp9Ow0KDQovKioNCiogIENhbGxzIF9pbml0IGZ1bmN0aW9uIGFib3ZlIGZvciBnb2luZyB0byBhIGNlcnRhaW4gZGF0ZSAoYnV0IG9ubHkgaWYgdGhlDQoqICBkYXRlIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgb25lKS4NCiovDQpDYWxlbmRhci5wcm90b3R5cGUuc2V0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7DQoJaWYgKCFkYXRlLmVxdWFsc1RvKHRoaXMuZGF0ZSkpIHsNCgkJdGhpcy5faW5pdCh0aGlzLmZpcnN0RGF5T2ZXZWVrLCBkYXRlKTsNCgl9DQp9Ow0KDQovKioNCiogIFJlZnJlc2hlcyB0aGUgY2FsZW5kYXIuICBVc2VmdWwgaWYgdGhlICJkaXNhYmxlZEhhbmRsZXIiIGZ1bmN0aW9uIGlzDQoqICBkeW5hbWljLCBtZWFuaW5nIHRoYXQgdGhlIGxpc3Qgb2YgZGlzYWJsZWQgZGF0ZSBjYW4gY2hhbmdlIGF0IHJ1bnRpbWUuDQoqICBKdXN0ICogY2FsbCB0aGlzIGZ1bmN0aW9uIGlmIHlvdSB0aGluayB0aGF0IHRoZSBsaXN0IG9mIGRpc2FibGVkIGRhdGVzDQoqICBzaG91bGQgKiBjaGFuZ2UuDQoqLw0KQ2FsZW5kYXIucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7DQoJdGhpcy5faW5pdCh0aGlzLmZpcnN0RGF5T2ZXZWVrLCB0aGlzLmRhdGUpOw0KfTsNCg0KLyoqIE1vZGlmaWVzIHRoZSAiZmlyc3REYXlPZldlZWsiIHBhcmFtZXRlciAocGFzcyAwIGZvciBTeW5kYXksIDEgZm9yIE1vbmRheSwgZXRjLikuICovDQpDYWxlbmRhci5wcm90b3R5cGUuc2V0Rmlyc3REYXlPZldlZWsgPSBmdW5jdGlvbiAoZmlyc3REYXlPZldlZWspIHsNCgl0aGlzLl9pbml0KGZpcnN0RGF5T2ZXZWVrLCB0aGlzLmRhdGUpOw0KCXRoaXMuX2Rpc3BsYXlXZWVrZGF5cygpOw0KfTsNCg0KLyoqDQoqICBBbGxvd3MgY3VzdG9taXphdGlvbiBvZiB3aGF0IGRhdGVzIGFyZSBlbmFibGVkLiAgVGhlICJ1bmFyeUZ1bmN0aW9uIg0KKiAgcGFyYW1ldGVyIG11c3QgYmUgYSBmdW5jdGlvbiBvYmplY3QgdGhhdCByZWNlaXZlcyB0aGUgZGF0ZSAoYXMgYSBKUyBEYXRlDQoqICBvYmplY3QpIGFuZCByZXR1cm5zIGEgYm9vbGVhbiB2YWx1ZS4gIElmIHRoZSByZXR1cm5lZCB2YWx1ZSBpcyB0cnVlIHRoZW4NCiogIHRoZSBwYXNzZWQgZGF0ZSB3aWxsIGJlIG1hcmtlZCBhcyBkaXNhYmxlZC4NCiovDQpDYWxlbmRhci5wcm90b3R5cGUuc2V0RGF0ZVN0YXR1c0hhbmRsZXIgPSBDYWxlbmRhci5wcm90b3R5cGUuc2V0RGlzYWJsZWRIYW5kbGVyID0gZnVuY3Rpb24gKHVuYXJ5RnVuY3Rpb24pIHsNCgl0aGlzLmdldERhdGVTdGF0dXMgPSB1bmFyeUZ1bmN0aW9uOw0KfTsNCg0KLyoqIEN1c3RvbWl6YXRpb24gb2YgYWxsb3dlZCB5ZWFyIHJhbmdlIGZvciB0aGUgY2FsZW5kYXIuICovDQpDYWxlbmRhci5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoYSwgeikgew0KCXRoaXMubWluWWVhciA9IGE7DQoJdGhpcy5tYXhZZWFyID0gejsNCn07DQoNCi8qKiBDYWxscyB0aGUgZmlyc3QgdXNlciBoYW5kbGVyIChzZWxlY3RlZEhhbmRsZXIpLiAqLw0KQ2FsZW5kYXIucHJvdG90eXBlLmNhbGxIYW5kbGVyID0gZnVuY3Rpb24gKCkgew0KCWlmICh0aGlzLm9uU2VsZWN0ZWQpIHsNCgkJdGhpcy5vblNlbGVjdGVkKHRoaXMsIHRoaXMuZGF0ZS5wcmludCh0aGlzLmRhdGVGb3JtYXQpKTsNCgl9DQp9Ow0KDQovKiogQ2FsbHMgdGhlIHNlY29uZCB1c2VyIGhhbmRsZXIgKGNsb3NlSGFuZGxlcikuICovDQpDYWxlbmRhci5wcm90b3R5cGUuY2FsbENsb3NlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHsNCglpZiAodGhpcy5vbkNsb3NlKSB7DQoJCXRoaXMub25DbG9zZSh0aGlzKTsNCgl9DQoJLy90aGlzLmhpZGVTaG93Q292ZXJlZCgpOw0KfTsNCg0KLyoqIFJlbW92ZXMgdGhlIGNhbGVuZGFyIG9iamVjdCBmcm9tIHRoZSBET00gdHJlZSBhbmQgZGVzdHJveXMgaXQuICovDQpDYWxlbmRhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsNCgl2YXIgZWwgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZTsNCgllbC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpOw0KCUNhbGVuZGFyLl9DID0gbnVsbDsNCgl3aW5kb3cuX2R5bmFyY2hfcG9wdXBDYWxlbmRhciA9IG51bGw7DQp9Ow0KDQovKioNCiogIE1vdmVzIHRoZSBjYWxlbmRhciBlbGVtZW50IHRvIGEgZGlmZmVyZW50IHNlY3Rpb24gaW4gdGhlIERPTSB0cmVlIChjaGFuZ2VzDQoqICBpdHMgcGFyZW50KS4NCiovDQpDYWxlbmRhci5wcm90b3R5cGUucmVwYXJlbnQgPSBmdW5jdGlvbiAobmV3X3BhcmVudCkgew0KCXZhciBlbCA9IHRoaXMuZWxlbWVudDsNCgllbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsNCgluZXdfcGFyZW50LmFwcGVuZENoaWxkKGVsKTsNCn07DQoNCi8vIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGEgbW91c2UgYnV0dG9uIGFueXdoZXJlIGluIHRoZQ0KLy8gZG9jdW1lbnQsIGlmIHRoZSBjYWxlbmRhciBpcyBzaG93bi4gIElmIHRoZSBjbGljayB3YXMgb3V0c2lkZSB0aGUgb3Blbg0KLy8gY2FsZW5kYXIgdGhpcyBmdW5jdGlvbiBjbG9zZXMgaXQuDQpDYWxlbmRhci5fY2hlY2tDYWxlbmRhciA9IGZ1bmN0aW9uKGV2KSB7DQoJdmFyIGNhbGVuZGFyID0gd2luZG93Ll9keW5hcmNoX3BvcHVwQ2FsZW5kYXI7DQoJaWYgKCFjYWxlbmRhcikgew0KCQlyZXR1cm4gZmFsc2U7DQoJfQ0KCXZhciBlbCA9IENhbGVuZGFyLmlzX2llID8gQ2FsZW5kYXIuZ2V0RWxlbWVudChldikgOiBDYWxlbmRhci5nZXRUYXJnZXRFbGVtZW50KGV2KTsNCglmb3IgKDsgZWwgIT0gbnVsbCAmJiBlbCAhPSBjYWxlbmRhci5lbGVtZW50OyBlbCA9IGVsLnBhcmVudE5vZGUpOw0KCWlmIChlbCA9PSBudWxsKSB7DQoJCS8vIGNhbGxzIGNsb3NlSGFuZGxlciB3aGljaCBzaG91bGQgaGlkZSB0aGUgY2FsZW5kYXIuDQoJCXdpbmRvdy5fZHluYXJjaF9wb3B1cENhbGVuZGFyLmNhbGxDbG9zZUhhbmRsZXIoKTsNCgkJcmV0dXJuIENhbGVuZGFyLnN0b3BFdmVudChldik7DQoJfQ0KfTsNCg0KLyoqIFNob3dzIHRoZSBjYWxlbmRhci4gKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkgew0KCXZhciByb3dzID0gdGhpcy50YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidHIiKTsNCglmb3IgKHZhciBpID0gcm93cy5sZW5ndGg7IGkgPiAwOykgew0KCQl2YXIgcm93ID0gcm93c1stLWldOw0KCQlDYWxlbmRhci5yZW1vdmVDbGFzcyhyb3csICJyb3doaWxpdGUiKTsNCgkJdmFyIGNlbGxzID0gcm93LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpOw0KCQlmb3IgKHZhciBqID0gY2VsbHMubGVuZ3RoOyBqID4gMDspIHsNCgkJCXZhciBjZWxsID0gY2VsbHNbLS1qXTsNCgkJCUNhbGVuZGFyLnJlbW92ZUNsYXNzKGNlbGwsICJoaWxpdGUiKTsNCgkJCUNhbGVuZGFyLnJlbW92ZUNsYXNzKGNlbGwsICJhY3RpdmUiKTsNCgkJfQ0KCX0NCgl0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoNCgkJLy8gZml4IGJ5IE1hcmsgYW5kIFZpY3RvciB3aXRoIGt1ZG9zIHRvIHhtYXJ0OiBCRUdJTg0KCQl2YXIgdyA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aDsNCgkJdmFyIGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0Ow0KCQl0aGlzLmlmcmFtZS5zdHlsZS53aWR0aCA9IHcgKyAicHgiOw0KCQl0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQgPSBoICsgInB4IjsNCgkJdGhpcy5pZnJhbWUuc3R5bGUudG9wID0gdGhpcy5lbGVtZW50LnN0eWxlLnRvcDsNCgkJdGhpcy5pZnJhbWUuc3R5bGUubGVmdCA9IHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0Ow0KCQl0aGlzLmlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCgkJdGhpcy5pZnJhbWUuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOw0KCQkvLyBmaXggYnkgTWFyayBhbmQgVmljdG9yIHdpdGgga3Vkb3MgdG8geG1hcnQ6IEVORA0KDQoJdGhpcy5oaWRkZW4gPSBmYWxzZTsNCglpZiAodGhpcy5pc1BvcHVwKSB7DQoJCXdpbmRvdy5fZHluYXJjaF9wb3B1cENhbGVuZGFyID0gdGhpczsNCgkJQ2FsZW5kYXIuYWRkRXZlbnQoZG9jdW1lbnQsICJrZXlkb3duIiwgQ2FsZW5kYXIuX2tleUV2ZW50KTsNCgkJQ2FsZW5kYXIuYWRkRXZlbnQoZG9jdW1lbnQsICJrZXlwcmVzcyIsIENhbGVuZGFyLl9rZXlFdmVudCk7DQoJCUNhbGVuZGFyLmFkZEV2ZW50KGRvY3VtZW50LCAibW91c2Vkb3duIiwgQ2FsZW5kYXIuX2NoZWNrQ2FsZW5kYXIpOw0KCX0NCgkvL3RoaXMuaGlkZVNob3dDb3ZlcmVkKCk7DQp9Ow0KDQovKioNCiogIEhpZGVzIHRoZSBjYWxlbmRhci4gIEFsc28gcmVtb3ZlcyBhbnkgImhpbGl0ZSIgZnJvbSB0aGUgY2xhc3Mgb2YgYW55IFREDQoqICBlbGVtZW50Lg0KKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkgew0KCWlmICh0aGlzLmlzUG9wdXApIHsNCgkJQ2FsZW5kYXIucmVtb3ZlRXZlbnQoZG9jdW1lbnQsICJrZXlkb3duIiwgQ2FsZW5kYXIuX2tleUV2ZW50KTsNCgkJQ2FsZW5kYXIucmVtb3ZlRXZlbnQoZG9jdW1lbnQsICJrZXlwcmVzcyIsIENhbGVuZGFyLl9rZXlFdmVudCk7DQoJCUNhbGVuZGFyLnJlbW92ZUV2ZW50KGRvY3VtZW50LCAibW91c2Vkb3duIiwgQ2FsZW5kYXIuX2NoZWNrQ2FsZW5kYXIpOw0KCX0NCgl0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCg0KCQkvLyBmaXggYnkgeG1hcnQ6IEJFR0lODQoJCXRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQl0aGlzLmlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkvLyBmaXggYnkgeG1hcnQ6IEVORA0KDQoJdGhpcy5oaWRkZW4gPSB0cnVlOw0KCS8vdGhpcy5oaWRlU2hvd0NvdmVyZWQoKTsNCn07DQoNCi8qKg0KKiAgU2hvd3MgdGhlIGNhbGVuZGFyIGF0IGEgZ2l2ZW4gYWJzb2x1dGUgcG9zaXRpb24gKGJld2FyZSB0aGF0LCBkZXBlbmRpbmcgb24NCiogIHRoZSBjYWxlbmRhciBlbGVtZW50IHN0eWxlIC0tIHBvc2l0aW9uIHByb3BlcnR5IC0tIHRoaXMgbWlnaHQgYmUgcmVsYXRpdmUNCiogIHRvIHRoZSBwYXJlbnQncyBjb250YWluaW5nIHJlY3RhbmdsZSkuDQoqLw0KQ2FsZW5kYXIucHJvdG90eXBlLnNob3dBdCA9IGZ1bmN0aW9uICh4LCB5KSB7DQoJdmFyIHMgPSB0aGlzLmVsZW1lbnQuc3R5bGU7DQoNCgl2YXIgY2FsZW5kYXJEaWFsb2dXaWR0aCA9IDIxMDsNCgl2YXIgY2FsZW5kYXJEaWFsb2dIZWlnaHQgPSAxODA7DQoNCgl2YXIgdmlld3BvcnRBYnNvbHV0ZVgyID0gdGhpcy52aWV3cG9ydExlZnQgKyB0aGlzLnZpZXdwb3J0V2lkdGg7DQoJdmFyIHZpZXdwb3J0QWJzb2x1dGVZMiA9IHRoaXMudmlld3BvcnRUb3AgKyB0aGlzLnZpZXdwb3J0SGVpZ2h0Ow0KDQoJeCA9ICh4ICsgdGhpcy5hZGp1c3RYKTsNCgl5ID0gKHkgKyB0aGlzLmFkanVzdFkpOw0KDQoJdmFyIGNhbGVuZGFyWDIgPSB4ICsgY2FsZW5kYXJEaWFsb2dXaWR0aDsNCgl2YXIgY2FsZW5kYXJZMiA9IHkgKyBjYWxlbmRhckRpYWxvZ0hlaWdodDsNCg0KCWlmKGNhbGVuZGFyWDIgPiB2aWV3cG9ydEFic29sdXRlWDIpIHsNCgkJeCAtPSAoY2FsZW5kYXJYMiAtIHZpZXdwb3J0QWJzb2x1dGVYMik7DQoJfQ0KDQoJaWYoY2FsZW5kYXJZMiA+IHZpZXdwb3J0QWJzb2x1dGVZMikgew0KCQl5IC09IChjYWxlbmRhclkyIC0gdmlld3BvcnRBYnNvbHV0ZVkyKTsNCgl9DQoJaWYoeSA8IDApIHsNCgkJeSA9IDA7DQoJfQ0KCWlmKHggPCAwKSB7DQoJCXggPSAwOw0KCX0NCg0KCXMubGVmdCA9IHggKyAicHgiOw0KCXMudG9wID0geSArICJweCI7DQoJdGhpcy5zaG93KCk7DQp9Ow0KDQpDYWxlbmRhci5wcm90b3R5cGUuc2V0QWRqdXN0bWVudFBvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkgew0KCXRoaXMuYWRqdXN0WCA9IHg7DQoJdGhpcy5hZGp1c3RZID0geTsNCn07DQoNCkNhbGVuZGFyLnByb3RvdHlwZS5zZXRWaWV3cG9ydCA9IGZ1bmN0aW9uKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkgew0KCXRoaXMudmlld3BvcnRMZWZ0ID0gbGVmdDsNCgl0aGlzLnZpZXdwb3J0VG9wID0gdG9wOw0KCXRoaXMudmlld3BvcnRXaWR0aCA9IHdpZHRoOw0KCXRoaXMudmlld3BvcnRIZWlnaHQgPSBoZWlnaHQ7DQp9DQoNCkNhbGVuZGFyLnByb3RvdHlwZS5zZXRQYXJlbnREb2N1bWVudERpbWVuc2lvbnMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7DQoJdGhpcy5wYXJlbnREb2N1bWVudFdpZHRoID0gd2lkdGg7DQoJdGhpcy5wYXJlbnREb2N1bWVudEhlaWdodCA9IGhlaWdodDsNCn07DQoNCg0KLyoqIFNob3dzIHRoZSBjYWxlbmRhciBuZWFyIGEgZ2l2ZW4gZWxlbWVudC4gKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5zaG93QXRFbGVtZW50ID0gZnVuY3Rpb24gKGVsLCBvcHRzKSB7DQoJdmFyIHNlbGYgPSB0aGlzOw0KCXZhciBwID0gQ2FsZW5kYXIuZ2V0QWJzb2x1dGVQb3MoZWwpOw0KCWlmICghb3B0cyB8fCB0eXBlb2Ygb3B0cyAhPSAic3RyaW5nIikgew0KCQl0aGlzLnNob3dBdChwLngsIHAueSArIGVsLm9mZnNldEhlaWdodCk7DQoJCXJldHVybiB0cnVlOw0KCX0NCglmdW5jdGlvbiBmaXhQb3NpdGlvbihib3gpIHsNCgkJaWYgKGJveC54IDwgMCkNCgkJCWJveC54ID0gMDsNCgkJaWYgKGJveC55IDwgMCkNCgkJCWJveC55ID0gMDsNCgkJdmFyIGNwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCXZhciBzID0gY3Auc3R5bGU7DQoJCXMucG9zaXRpb24gPSAiYWJzb2x1dGUiOw0KCQlzLnJpZ2h0ID0gcy5ib3R0b20gPSBzLndpZHRoID0gcy5oZWlnaHQgPSAiMHB4IjsNCgkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjcCk7DQoJCXZhciBiciA9IENhbGVuZGFyLmdldEFic29sdXRlUG9zKGNwKTsNCgkJZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjcCk7DQoJCWlmIChDYWxlbmRhci5pc19pZSkgew0KCQkJYnIueSArPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsNCgkJCWJyLnggKz0gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0Ow0KCQl9IGVsc2Ugew0KCQkJYnIueSArPSB3aW5kb3cuc2Nyb2xsWTsNCgkJCWJyLnggKz0gd2luZG93LnNjcm9sbFg7DQoJCX0NCgkJdmFyIHRtcCA9IGJveC54ICsgYm94LndpZHRoIC0gYnIueDsNCgkJaWYgKHRtcCA+IDApIGJveC54IC09IHRtcDsNCgkJdG1wID0gYm94LnkgKyBib3guaGVpZ2h0IC0gYnIueTsNCgkJaWYgKHRtcCA+IDApIGJveC55IC09IHRtcDsNCgl9Ow0KCXRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCglDYWxlbmRhci5jb250aW51YXRpb25fZm9yX3RoZV9mdWNraW5nX2todG1sX2Jyb3dzZXIgPSBmdW5jdGlvbigpIHsNCgkJdmFyIHcgPSBzZWxmLmVsZW1lbnQub2Zmc2V0V2lkdGg7DQoJCXZhciBoID0gc2VsZi5lbGVtZW50Lm9mZnNldEhlaWdodDsNCgkJc2VsZi5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCXZhciB2YWxpZ24gPSBvcHRzLnN1YnN0cigwLCAxKTsNCgkJdmFyIGhhbGlnbiA9ICJsIjsNCgkJaWYgKG9wdHMubGVuZ3RoID4gMSkgew0KCQkJaGFsaWduID0gb3B0cy5zdWJzdHIoMSwgMSk7DQoJCX0NCgkJLy8gdmVydGljYWwgYWxpZ25tZW50DQoJCXN3aXRjaCAodmFsaWduKSB7DQoJCQljYXNlICJUIjogcC55IC09IGg7IGJyZWFrOw0KCQkJY2FzZSAiQiI6IHAueSArPSBlbC5vZmZzZXRIZWlnaHQ7IGJyZWFrOw0KCQkJY2FzZSAiQyI6IHAueSArPSAoZWwub2Zmc2V0SGVpZ2h0IC0gaCkgLyAyOyBicmVhazsNCgkJCWNhc2UgInQiOiBwLnkgKz0gZWwub2Zmc2V0SGVpZ2h0IC0gaDsgYnJlYWs7DQoJCQljYXNlICJiIjogYnJlYWs7IC8vIGFscmVhZHkgdGhlcmUNCgkJfQ0KCQkvLyBob3Jpem9udGFsIGFsaWdubWVudA0KCQlzd2l0Y2ggKGhhbGlnbikgew0KCQkJY2FzZSAiTCI6IHAueCAtPSB3OyBicmVhazsNCgkJCWNhc2UgIlIiOiBwLnggKz0gZWwub2Zmc2V0V2lkdGg7IGJyZWFrOw0KCQkJY2FzZSAiQyI6IHAueCArPSAoZWwub2Zmc2V0V2lkdGggLSB3KSAvIDI7IGJyZWFrOw0KCQkJY2FzZSAibCI6IHAueCArPSBlbC5vZmZzZXRXaWR0aCAtIHc7IGJyZWFrOw0KCQkJY2FzZSAiciI6IGJyZWFrOyAvLyBhbHJlYWR5IHRoZXJlDQoJCX0NCgkJcC53aWR0aCA9IHc7DQoJCXAuaGVpZ2h0ID0gaCArIDQwOw0KCQlzZWxmLm1vbnRoc0NvbWJvLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCWZpeFBvc2l0aW9uKHApOw0KCQlzZWxmLnNob3dBdChwLngsIHAueSk7DQoJfTsNCglpZiAoQ2FsZW5kYXIuaXNfa2h0bWwpDQoJCXNldFRpbWVvdXQoIkNhbGVuZGFyLmNvbnRpbnVhdGlvbl9mb3JfdGhlX2Z1Y2tpbmdfa2h0bWxfYnJvd3NlcigpIiwgMTApOw0KCWVsc2UNCgkJQ2FsZW5kYXIuY29udGludWF0aW9uX2Zvcl90aGVfZnVja2luZ19raHRtbF9icm93c2VyKCk7DQp9Ow0KDQovKiogQ3VzdG9taXplcyB0aGUgZGF0ZSBmb3JtYXQuICovDQpDYWxlbmRhci5wcm90b3R5cGUuc2V0RGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIChzdHIpIHsNCgl0aGlzLmRhdGVGb3JtYXQgPSBzdHI7DQp9Ow0KDQovKiogQ3VzdG9taXplcyB0aGUgdG9vbHRpcCBkYXRlIGZvcm1hdC4gKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5zZXRUdERhdGVGb3JtYXQgPSBmdW5jdGlvbiAoc3RyKSB7DQoJdGhpcy50dERhdGVGb3JtYXQgPSBzdHI7DQp9Ow0KDQovKioNCiogIFRyaWVzIHRvIGlkZW50aWZ5IHRoZSBkYXRlIHJlcHJlc2VudGVkIGluIGEgc3RyaW5nLiAgSWYgc3VjY2Vzc2Z1bCBpdCBhbHNvDQoqICBjYWxscyB0aGlzLnNldERhdGUgd2hpY2ggbW92ZXMgdGhlIGNhbGVuZGFyIHRvIHRoZSBnaXZlbiBkYXRlLg0KKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5wYXJzZURhdGUgPSBmdW5jdGlvbihzdHIsIGZtdCkgew0KCWlmICghZm10KQ0KCQlmbXQgPSB0aGlzLmRhdGVGb3JtYXQ7DQoJdGhpcy5zZXREYXRlKERhdGUucGFyc2VEYXRlKHN0ciwgZm10KSk7DQp9Ow0KDQpDYWxlbmRhci5wcm90b3R5cGUuaGlkZVNob3dDb3ZlcmVkID0gZnVuY3Rpb24gKCkgew0KCWlmICghQ2FsZW5kYXIuaXNfaWUgJiYgIUNhbGVuZGFyLmlzX29wZXJhKQ0KCQlyZXR1cm47DQoJZnVuY3Rpb24gZ2V0VmlzaWIob2JqKXsNCgkJdmFyIHZhbHVlID0gb2JqLnN0eWxlLnZpc2liaWxpdHk7DQoJCWlmICghdmFsdWUpIHsNCgkJCWlmIChkb2N1bWVudC5kZWZhdWx0VmlldyAmJiB0eXBlb2YgKGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpID09ICJmdW5jdGlvbiIpIHsgLy8gR2Vja28sIFczQw0KCQkJCWlmICghQ2FsZW5kYXIuaXNfa2h0bWwpDQoJCQkJCXZhbHVlID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuDQoJCQkJCQlnZXRDb21wdXRlZFN0eWxlKG9iaiwgIiIpLmdldFByb3BlcnR5VmFsdWUoInZpc2liaWxpdHkiKTsNCgkJCQllbHNlDQoJCQkJCXZhbHVlID0gJyc7DQoJCQl9IGVsc2UgaWYgKG9iai5jdXJyZW50U3R5bGUpIHsgLy8gSUUNCgkJCQl2YWx1ZSA9IG9iai5jdXJyZW50U3R5bGUudmlzaWJpbGl0eTsNCgkJCX0gZWxzZQ0KCQkJCXZhbHVlID0gJyc7DQoJCX0NCgkJcmV0dXJuIHZhbHVlOw0KCX07DQoNCgl2YXIgdGFncyA9IG5ldyBBcnJheSgiYXBwbGV0IiwgImlmcmFtZSIsICJzZWxlY3QiKTsNCgl2YXIgZWwgPSB0aGlzLmVsZW1lbnQ7DQoNCgl2YXIgcCA9IENhbGVuZGFyLmdldEFic29sdXRlUG9zKGVsKTsNCgl2YXIgRVgxID0gcC54Ow0KCXZhciBFWDIgPSBlbC5vZmZzZXRXaWR0aCArIEVYMTsNCgl2YXIgRVkxID0gcC55Ow0KCXZhciBFWTIgPSBlbC5vZmZzZXRIZWlnaHQgKyBFWTE7DQoNCglmb3IgKHZhciBrID0gdGFncy5sZW5ndGg7IGsgPiAwOyApIHsNCgkJdmFyIGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnc1stLWtdKTsNCgkJdmFyIGNjID0gbnVsbDsNCg0KCQlmb3IgKHZhciBpID0gYXIubGVuZ3RoOyBpID4gMDspIHsNCgkJCWNjID0gYXJbLS1pXTsNCg0KCQkJcCA9IENhbGVuZGFyLmdldEFic29sdXRlUG9zKGNjKTsNCgkJCXZhciBDWDEgPSBwLng7DQoJCQl2YXIgQ1gyID0gY2Mub2Zmc2V0V2lkdGggKyBDWDE7DQoJCQl2YXIgQ1kxID0gcC55Ow0KCQkJdmFyIENZMiA9IGNjLm9mZnNldEhlaWdodCArIENZMTsNCg0KCQkJaWYgKHRoaXMuaGlkZGVuIHx8IChDWDEgPiBFWDIpIHx8IChDWDIgPCBFWDEpIHx8IChDWTEgPiBFWTIpIHx8IChDWTIgPCBFWTEpKSB7DQoJCQkJaWYgKCFjYy5fX21zaF9zYXZlX3Zpc2liaWxpdHkpIHsNCgkJCQkJY2MuX19tc2hfc2F2ZV92aXNpYmlsaXR5ID0gZ2V0VmlzaWIoY2MpOw0KCQkJCX0NCgkJCQljYy5zdHlsZS52aXNpYmlsaXR5ID0gY2MuX19tc2hfc2F2ZV92aXNpYmlsaXR5Ow0KCQkJfSBlbHNlIHsNCgkJCQlpZiAoIWNjLl9fbXNoX3NhdmVfdmlzaWJpbGl0eSkgew0KCQkJCQljYy5fX21zaF9zYXZlX3Zpc2liaWxpdHkgPSBnZXRWaXNpYihjYyk7DQoJCQkJfQ0KCQkJCWNjLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsNCgkJCX0NCgkJfQ0KCX0NCn07DQoNCi8qKiBJbnRlcm5hbCBmdW5jdGlvbjsgaXQgZGlzcGxheXMgdGhlIGJhciB3aXRoIHRoZSBuYW1lcyBvZiB0aGUgd2Vla2RheS4gKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5fZGlzcGxheVdlZWtkYXlzID0gZnVuY3Rpb24gKCkgew0KCXZhciBmZG93ID0gdGhpcy5maXJzdERheU9mV2VlazsNCgl2YXIgY2VsbCA9IHRoaXMuZmlyc3RkYXluYW1lOw0KCXZhciB3ZWVrZW5kID0gQ2FsZW5kYXIuX1RUWyJXRUVLRU5EIl07DQoJZm9yICh2YXIgaSA9IDA7IGkgPCA3OyArK2kpIHsNCgkJY2VsbC5jbGFzc05hbWUgPSAiZGF5IG5hbWUiOw0KCQl2YXIgcmVhbGRheSA9IChpICsgZmRvdykgJSA3Ow0KCQlpZiAoaSkgew0KCQkJLy8gQnVnIGZpeDogT01OSTAwMDAzMTk4OyBvbmx5IGFsbG93IFN1bmRheSBhbmQgTW9uZGF5IHRvIGJlIGNsaWNrZWQNCgkJCWlmIChyZWFsZGF5IDw9IDEpIHsNCgkJCQljZWxsLnR0aXAgPSBDYWxlbmRhci5fVFRbIkRBWV9GSVJTVCJdLnJlcGxhY2UoIiVzIiwgQ2FsZW5kYXIuX0ROW3JlYWxkYXldKTsNCgkJCX0gZWxzZSB7DQoJCQkJY2VsbC50dGlwID0gIiI7DQoJCQl9DQoJCQljZWxsLm5hdnR5cGUgPSAxMDA7DQoJCQljZWxsLmNhbGVuZGFyID0gdGhpczsNCgkJCWNlbGwuZmRvdyA9IHJlYWxkYXk7DQoJCQlDYWxlbmRhci5fYWRkX2V2cyhjZWxsKTsNCgkJfQ0KCQlpZiAod2Vla2VuZC5pbmRleE9mKHJlYWxkYXkudG9TdHJpbmcoKSkgIT0gLTEpIHsNCgkJCUNhbGVuZGFyLmFkZENsYXNzKGNlbGwsICJ3ZWVrZW5kIik7DQoJCX0NCgkJY2VsbC5pbm5lckhUTUwgPSBDYWxlbmRhci5fU0ROWyhpICsgZmRvdykgJSA3XTsNCgkJY2VsbCA9IGNlbGwubmV4dFNpYmxpbmc7DQoJfQ0KfTsNCg0KLyoqIEludGVybmFsIGZ1bmN0aW9uLiAgSGlkZXMgYWxsIGNvbWJvIGJveGVzIHRoYXQgbWlnaHQgYmUgZGlzcGxheWVkLiAqLw0KQ2FsZW5kYXIucHJvdG90eXBlLl9oaWRlQ29tYm9zID0gZnVuY3Rpb24gKCkgew0KCXRoaXMubW9udGhzQ29tYm8uc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgl0aGlzLnllYXJzQ29tYm8uc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCn07DQoNCi8qKiBJbnRlcm5hbCBmdW5jdGlvbi4gIFN0YXJ0cyBkcmFnZ2luZyB0aGUgZWxlbWVudC4gKi8NCkNhbGVuZGFyLnByb3RvdHlwZS5fZHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGV2KSB7DQoJaWYgKHRoaXMuZHJhZ2dpbmcpIHsNCgkJcmV0dXJuOw0KCX0NCgl0aGlzLmRyYWdnaW5nID0gdHJ1ZTsNCgl2YXIgcG9zWDsNCgl2YXIgcG9zWTsNCglpZiAoQ2FsZW5kYXIuaXNfaWUpIHsNCgkJcG9zWSA9IHdpbmRvdy5ldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7DQoJCXBvc1ggPSB3aW5kb3cuZXZlbnQuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdDsNCgl9IGVsc2Ugew0KCQlwb3NZID0gZXYuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZOw0KCQlwb3NYID0gZXYuY2xpZW50WCArIHdpbmRvdy5zY3JvbGxYOw0KCX0NCgl2YXIgc3QgPSB0aGlzLmVsZW1lbnQuc3R5bGU7DQoJdGhpcy54T2ZmcyA9IHBvc1ggLSBwYXJzZUludChzdC5sZWZ0KTsNCgl0aGlzLnlPZmZzID0gcG9zWSAtIHBhcnNlSW50KHN0LnRvcCk7DQoJd2l0aCAoQ2FsZW5kYXIpIHsNCgkJYWRkRXZlbnQoZG9jdW1lbnQsICJtb3VzZW1vdmUiLCBjYWxEcmFnSXQpOw0KCQlhZGRFdmVudChkb2N1bWVudCwgIm1vdXNldXAiLCBjYWxEcmFnRW5kKTsNCgl9DQp9Ow0KDQovLyBCRUdJTjogREFURSBPQkpFQ1QgUEFUQ0hFUw0KDQovKiogQWRkcyB0aGUgbnVtYmVyIG9mIGRheXMgYXJyYXkgdG8gdGhlIERhdGUgb2JqZWN0LiAqLw0KRGF0ZS5fTUQgPSBuZXcgQXJyYXkoMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzEpOw0KDQovKiogQ29uc3RhbnRzIHVzZWQgZm9yIHRpbWUgY29tcHV0YXRpb25zICovDQpEYXRlLlNFQ09ORCA9IDEwMDAgLyogbWlsbGlzZWNvbmRzICovOw0KRGF0ZS5NSU5VVEUgPSA2MCAqIERhdGUuU0VDT05EOw0KRGF0ZS5IT1VSICAgPSA2MCAqIERhdGUuTUlOVVRFOw0KRGF0ZS5EQVkgICAgPSAyNCAqIERhdGUuSE9VUjsNCkRhdGUuV0VFSyAgID0gIDcgKiBEYXRlLkRBWTsNCg0KRGF0ZS5wYXJzZURhdGUgPSBmdW5jdGlvbihzdHIsIGZtdCkgew0KCXZhciB0b2RheSA9IG5ldyBEYXRlKCk7DQoJdmFyIHkgPSAwOw0KCXZhciBtID0gLTE7DQoJdmFyIGQgPSAwOw0KCXZhciBhID0gc3RyLnNwbGl0KC9cVysvKTsNCgl2YXIgYiA9IGZtdC5tYXRjaCgvJS4vZyk7DQoJdmFyIGkgPSAwLCBqID0gMDsNCgl2YXIgaHIgPSAwOw0KCXZhciBtaW4gPSAwOw0KCWZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7DQoJCWlmICghYVtpXSkNCgkJCWNvbnRpbnVlOw0KCQlzd2l0Y2ggKGJbaV0pIHsNCgkJCWNhc2UgIiVkIjoNCgkJCWNhc2UgIiVlIjoNCgkJCWQgPSBwYXJzZUludChhW2ldLCAxMCk7DQoJCQlicmVhazsNCg0KCQkJY2FzZSAiJW0iOg0KCQkJbSA9IHBhcnNlSW50KGFbaV0sIDEwKSAtIDE7DQoJCQlicmVhazsNCg0KCQkJY2FzZSAiJVkiOg0KCQkJY2FzZSAiJXkiOg0KCQkJaWYgKGFbaV0ubGVuZ3RoID09IDQpIHsNCgkJCQlpZiAocGFyc2VJbnQoYVtpXSwgMTApIDwgMTAwMCkgew0KCQkJCQlhbGVydCgiRGF0ZXMgYmVmb3JlIFllYXIgMTAwMCBhcmUgbm90IHN1cHBvcnRlZC4gIERlZmF1bHRpbmcgdG8gdG9kYXkuIik7DQoJCQkJCXJldHVybiB0b2RheTsNCgkJCQl9DQoJCQl9IGVsc2Ugew0KCQkJCXkgPSBwYXJzZUludChhW2ldLCAxMCk7DQoJCQkJKHkgPCAxMDApICYmICh5ICs9ICh5ID4gMjkpID8gMTkwMCA6IDIwMDApOw0KCQkJfQ0KCQkJYnJlYWs7DQoNCgkJCWNhc2UgIiViIjoNCgkJCWNhc2UgIiVCIjoNCgkJCWZvciAoaiA9IDA7IGogPCAxMjsgKytqKSB7DQoJCQkJaWYgKENhbGVuZGFyLl9NTltqXS5zdWJzdHIoMCwgYVtpXS5sZW5ndGgpLnRvTG93ZXJDYXNlKCkgPT0gYVtpXS50b0xvd2VyQ2FzZSgpKSB7IG0gPSBqOyBicmVhazsgfQ0KCQkJfQ0KCQkJYnJlYWs7DQoNCgkJCWNhc2UgIiVIIjoNCgkJCWNhc2UgIiVJIjoNCgkJCWNhc2UgIiVrIjoNCgkJCWNhc2UgIiVsIjoNCgkJCWhyID0gcGFyc2VJbnQoYVtpXSwgMTApOw0KCQkJYnJlYWs7DQoNCgkJCWNhc2UgIiVQIjoNCgkJCWNhc2UgIiVwIjoNCgkJCWlmICgvcG0vaS50ZXN0KGFbaV0pICYmIGhyIDwgMTIpDQoJCQkJaHIgKz0gMTI7DQoJCQllbHNlIGlmICgvYW0vaS50ZXN0KGFbaV0pICYmIGhyID49IDEyKQ0KCQkJCWhyIC09IDEyOw0KCQkJYnJlYWs7DQoNCgkJCWNhc2UgIiVNIjoNCgkJCW1pbiA9IHBhcnNlSW50KGFbaV0sIDEwKTsNCgkJCWJyZWFrOw0KCQl9DQoJfQ0KCWlmIChpc05hTih5KSkgeSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7DQoJaWYgKGlzTmFOKG0pKSBtID0gdG9kYXkuZ2V0TW9udGgoKTsNCglpZiAoaXNOYU4oZCkpIGQgPSB0b2RheS5nZXREYXRlKCk7DQoJaWYgKGlzTmFOKGhyKSkgaHIgPSB0b2RheS5nZXRIb3VycygpOw0KCWlmIChpc05hTihtaW4pKSBtaW4gPSB0b2RheS5nZXRNaW51dGVzKCk7DQoJaWYgKHkgIT0gMCAmJiBtICE9IC0xICYmIGQgIT0gMCkNCgkJcmV0dXJuIG5ldyBEYXRlKHksIG0sIGQsIGhyLCBtaW4sIDApOw0KCXkgPSAwOyBtID0gLTE7IGQgPSAwOw0KCWZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7DQoJCWlmIChhW2ldLnNlYXJjaCgvW2EtekEtWl0rLykgIT0gLTEpIHsNCgkJCXZhciB0ID0gLTE7DQoJCQlmb3IgKGogPSAwOyBqIDwgMTI7ICsraikgew0KCQkJCWlmIChDYWxlbmRhci5fTU5bal0uc3Vic3RyKDAsIGFbaV0ubGVuZ3RoKS50b0xvd2VyQ2FzZSgpID09IGFbaV0udG9Mb3dlckNhc2UoKSkgeyB0ID0gajsgYnJlYWs7IH0NCgkJCX0NCgkJCWlmICh0ICE9IC0xKSB7DQoJCQkJaWYgKG0gIT0gLTEpIHsNCgkJCQkJZCA9IG0rMTsNCgkJCQl9DQoJCQkJbSA9IHQ7DQoJCQl9DQoJCX0gZWxzZSBpZiAocGFyc2VJbnQoYVtpXSwgMTApIDw9IDEyICYmIG0gPT0gLTEpIHsNCgkJCW0gPSBhW2ldLTE7DQoJCX0gZWxzZSBpZiAocGFyc2VJbnQoYVtpXSwgMTApID4gMzEgJiYgeSA9PSAwKSB7DQoJCQl5ID0gcGFyc2VJbnQoYVtpXSwgMTApOw0KCQkJKHkgPCAxMDApICYmICh5ICs9ICh5ID4gMjkpID8gMTkwMCA6IDIwMDApOw0KCQl9IGVsc2UgaWYgKGQgPT0gMCkgew0KCQkJZCA9IGFbaV07DQoJCX0NCgl9DQoJaWYgKHkgPT0gMCkNCgkJeSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7DQoJaWYgKG0gIT0gLTEgJiYgZCAhPSAwKQ0KCQlyZXR1cm4gbmV3IERhdGUoeSwgbSwgZCwgaHIsIG1pbiwgMCk7DQoJcmV0dXJuIHRvZGF5Ow0KfTsNCg0KLyoqIFJldHVybnMgdGhlIG51bWJlciBvZiBkYXlzIGluIHRoZSBjdXJyZW50IG1vbnRoICovDQpEYXRlLnByb3RvdHlwZS5nZXRNb250aERheXMgPSBmdW5jdGlvbihtb250aCkgew0KCXZhciB5ZWFyID0gdGhpcy5nZXRGdWxsWWVhcigpOw0KCWlmICh0eXBlb2YgbW9udGggPT0gInVuZGVmaW5lZCIpIHsNCgkJbW9udGggPSB0aGlzLmdldE1vbnRoKCk7DQoJfQ0KCWlmICgoKDAgPT0gKHllYXIlNCkpICYmICggKDAgIT0gKHllYXIlMTAwKSkgfHwgKDAgPT0gKHllYXIlNDAwKSkpKSAmJiBtb250aCA9PSAxKSB7DQoJCXJldHVybiAyOTsNCgl9IGVsc2Ugew0KCQlyZXR1cm4gRGF0ZS5fTURbbW9udGhdOw0KCX0NCn07DQoNCi8qKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZGF5IGluIHRoZSB5ZWFyLiAqLw0KRGF0ZS5wcm90b3R5cGUuZ2V0RGF5T2ZZZWFyID0gZnVuY3Rpb24oKSB7DQoJdmFyIG5vdyA9IG5ldyBEYXRlKHRoaXMuZ2V0RnVsbFllYXIoKSwgdGhpcy5nZXRNb250aCgpLCB0aGlzLmdldERhdGUoKSwgMCwgMCwgMCk7DQoJdmFyIHRoZW4gPSBuZXcgRGF0ZSh0aGlzLmdldEZ1bGxZZWFyKCksIDAsIDAsIDAsIDAsIDApOw0KCXZhciB0aW1lID0gbm93IC0gdGhlbjsNCglyZXR1cm4gTWF0aC5mbG9vcih0aW1lIC8gRGF0ZS5EQVkpOw0KfTsNCg0KLyoqIFJldHVybnMgdGhlIG51bWJlciBvZiB0aGUgd2VlayBpbiB5ZWFyLCBhcyBkZWZpbmVkIGluIElTTyA4NjAxLiAqLw0KRGF0ZS5wcm90b3R5cGUuZ2V0V2Vla051bWJlciA9IGZ1bmN0aW9uKCkgew0KCXZhciBkID0gbmV3IERhdGUodGhpcy5nZXRGdWxsWWVhcigpLCB0aGlzLmdldE1vbnRoKCksIHRoaXMuZ2V0RGF0ZSgpLCAwLCAwLCAwKTsNCgl2YXIgRG9XID0gZC5nZXREYXkoKTsNCglkLnNldERhdGUoZC5nZXREYXRlKCkgLSAoRG9XICsgNikgJSA3ICsgMyk7IC8vIE5lYXJlc3QgVGh1DQoJdmFyIG1zID0gZC52YWx1ZU9mKCk7IC8vIEdNVA0KCWQuc2V0TW9udGgoMCk7DQoJZC5zZXREYXRlKDQpOyAvLyBUaHUgaW4gV2VlayAxDQoJcmV0dXJuIE1hdGgucm91bmQoKG1zIC0gZC52YWx1ZU9mKCkpIC8gKDcgKiA4NjRlNSkpICsgMTsNCn07DQoNCi8qKiBDaGVja3MgZGF0ZSBhbmQgdGltZSBlcXVhbGl0eSAqLw0KRGF0ZS5wcm90b3R5cGUuZXF1YWxzVG8gPSBmdW5jdGlvbihkYXRlKSB7DQoJcmV0dXJuICgodGhpcy5nZXRGdWxsWWVhcigpID09IGRhdGUuZ2V0RnVsbFllYXIoKSkgJiYNCgkJKHRoaXMuZ2V0TW9udGgoKSA9PSBkYXRlLmdldE1vbnRoKCkpICYmDQoJCSh0aGlzLmdldERhdGUoKSA9PSBkYXRlLmdldERhdGUoKSkgJiYNCgkJKHRoaXMuZ2V0SG91cnMoKSA9PSBkYXRlLmdldEhvdXJzKCkpICYmDQoJCSh0aGlzLmdldE1pbnV0ZXMoKSA9PSBkYXRlLmdldE1pbnV0ZXMoKSkpOw0KfTsNCg0KLyoqIFNldCBvbmx5IHRoZSB5ZWFyLCBtb250aCwgZGF0ZSBwYXJ0cyAoa2VlcCBleGlzdGluZyB0aW1lKSAqLw0KRGF0ZS5wcm90b3R5cGUuc2V0RGF0ZU9ubHkgPSBmdW5jdGlvbihkYXRlKSB7DQoJdmFyIHRtcCA9IG5ldyBEYXRlKGRhdGUpOw0KCXRoaXMuc2V0RGF0ZSgxKTsNCgl0aGlzLnNldEZ1bGxZZWFyKHRtcC5nZXRGdWxsWWVhcigpKTsNCgl0aGlzLnNldE1vbnRoKHRtcC5nZXRNb250aCgpKTsNCgl0aGlzLnNldERhdGUodG1wLmdldERhdGUoKSk7DQp9Ow0KDQovKiogUHJpbnRzIHRoZSBkYXRlIGluIGEgc3RyaW5nIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZm9ybWF0LiAqLw0KRGF0ZS5wcm90b3R5cGUucHJpbnQgPSBmdW5jdGlvbiAoc3RyKSB7DQoJdmFyIG0gPSB0aGlzLmdldE1vbnRoKCk7DQoJdmFyIGQgPSB0aGlzLmdldERhdGUoKTsNCgl2YXIgeSA9IHRoaXMuZ2V0RnVsbFllYXIoKTsNCgl2YXIgd24gPSB0aGlzLmdldFdlZWtOdW1iZXIoKTsNCgl2YXIgdyA9IHRoaXMuZ2V0RGF5KCk7DQoJdmFyIHMgPSB7fTsNCgl2YXIgaHIgPSB0aGlzLmdldEhvdXJzKCk7DQoJdmFyIHBtID0gKGhyID49IDEyKTsNCgl2YXIgaXIgPSAocG0pID8gKGhyIC0gMTIpIDogaHI7DQoJdmFyIGR5ID0gdGhpcy5nZXREYXlPZlllYXIoKTsNCglpZiAoaXIgPT0gMCkgew0KCQlpciA9IDEyOw0KCX0NCgl2YXIgbWluID0gdGhpcy5nZXRNaW51dGVzKCk7DQoJdmFyIHNlYyA9IHRoaXMuZ2V0U2Vjb25kcygpOw0KCXNbIiVhIl0gPSBDYWxlbmRhci5fU0ROW3ddOyAvLyBhYmJyZXZpYXRlZCB3ZWVrZGF5IG5hbWUgW0ZJWE1FOiBJMThOXQ0KCXNbIiVBIl0gPSBDYWxlbmRhci5fRE5bd107IC8vIGZ1bGwgd2Vla2RheSBuYW1lDQoJc1siJWIiXSA9IENhbGVuZGFyLl9TTU5bbV07IC8vIGFiYnJldmlhdGVkIG1vbnRoIG5hbWUgW0ZJWE1FOiBJMThOXQ0KCXNbIiVCIl0gPSBDYWxlbmRhci5fTU5bbV07IC8vIGZ1bGwgbW9udGggbmFtZQ0KCS8vIEZJWE1FOiAlYyA6IHByZWZlcnJlZCBkYXRlIGFuZCB0aW1lIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgY3VycmVudCBsb2NhbGUNCglzWyIlQyJdID0gMSArIE1hdGguZmxvb3IoeSAvIDEwMCk7IC8vIHRoZSBjZW50dXJ5IG51bWJlcg0KCXNbIiVkIl0gPSAoZCA8IDEwKSA/ICgiMCIgKyBkKSA6IGQ7IC8vIHRoZSBkYXkgb2YgdGhlIG1vbnRoIChyYW5nZSAwMSB0byAzMSkNCglzWyIlZSJdID0gZDsgLy8gdGhlIGRheSBvZiB0aGUgbW9udGggKHJhbmdlIDEgdG8gMzEpDQoJLy8gRklYTUU6ICVEIDogYW1lcmljYW4gZGF0ZSBzdHlsZTogJW0vJWQvJXkNCgkvLyBGSVhNRTogJUUsICVGLCAlRywgJWcsICVoIChtYW4gc3RyZnRpbWUpDQoJc1siJUgiXSA9IChociA8IDEwKSA/ICgiMCIgKyBocikgOiBocjsgLy8gaG91ciwgcmFuZ2UgMDAgdG8gMjMgKDI0aCBmb3JtYXQpDQoJc1siJUkiXSA9IChpciA8IDEwKSA/ICgiMCIgKyBpcikgOiBpcjsgLy8gaG91ciwgcmFuZ2UgMDEgdG8gMTIgKDEyaCBmb3JtYXQpDQoJc1siJWoiXSA9IChkeSA8IDEwMCkgPyAoKGR5IDwgMTApID8gKCIwMCIgKyBkeSkgOiAoIjAiICsgZHkpKSA6IGR5OyAvLyBkYXkgb2YgdGhlIHllYXIgKHJhbmdlIDAwMSB0byAzNjYpDQoJc1siJWsiXSA9IGhyOyAvLyBob3VyLCByYW5nZSAwIHRvIDIzICgyNGggZm9ybWF0KQ0KCXNbIiVsIl0gPSBpcjsgLy8gaG91ciwgcmFuZ2UgMSB0byAxMiAoMTJoIGZvcm1hdCkNCglzWyIlbSJdID0gKG0gPCA5KSA/ICgiMCIgKyAoMSttKSkgOiAoMSttKTsgLy8gbW9udGgsIHJhbmdlIDAxIHRvIDEyDQoJc1siJU0iXSA9IChtaW4gPCAxMCkgPyAoIjAiICsgbWluKSA6IG1pbjsgLy8gbWludXRlLCByYW5nZSAwMCB0byA1OQ0KCXNbIiVuIl0gPSAiXG4iOyAvLyBhIG5ld2xpbmUgY2hhcmFjdGVyDQoJc1siJXAiXSA9IHBtID8gIlBNIiA6ICJBTSI7DQoJc1siJVAiXSA9IHBtID8gInBtIiA6ICJhbSI7DQoJLy8gRklYTUU6ICVyIDogdGhlIHRpbWUgaW4gYW0vcG0gbm90YXRpb24gJUk6JU06JVMgJXANCgkvLyBGSVhNRTogJVIgOiB0aGUgdGltZSBpbiAyNC1ob3VyIG5vdGF0aW9uICVIOiVNDQoJc1siJXMiXSA9IE1hdGguZmxvb3IodGhpcy5nZXRUaW1lKCkgLyAxMDAwKTsNCglzWyIlUyJdID0gKHNlYyA8IDEwKSA/ICgiMCIgKyBzZWMpIDogc2VjOyAvLyBzZWNvbmRzLCByYW5nZSAwMCB0byA1OQ0KCXNbIiV0Il0gPSAiXHQiOyAvLyBhIHRhYiBjaGFyYWN0ZXINCgkvLyBGSVhNRTogJVQgOiB0aGUgdGltZSBpbiAyNC1ob3VyIG5vdGF0aW9uICglSDolTTolUykNCglzWyIlVSJdID0gc1siJVciXSA9IHNbIiVWIl0gPSAod24gPCAxMCkgPyAoIjAiICsgd24pIDogd247DQoJc1siJXUiXSA9IHcgKyAxOyAvLyB0aGUgZGF5IG9mIHRoZSB3ZWVrIChyYW5nZSAxIHRvIDcsIDEgPSBNT04pDQoJc1siJXciXSA9IHc7IC8vIHRoZSBkYXkgb2YgdGhlIHdlZWsgKHJhbmdlIDAgdG8gNiwgMCA9IFNVTikNCgkvLyBGSVhNRTogJXggOiBwcmVmZXJyZWQgZGF0ZSByZXByZXNlbnRhdGlvbiBmb3IgdGhlIGN1cnJlbnQgbG9jYWxlIHdpdGhvdXQgdGhlIHRpbWUNCgkvLyBGSVhNRTogJVggOiBwcmVmZXJyZWQgdGltZSByZXByZXNlbnRhdGlvbiBmb3IgdGhlIGN1cnJlbnQgbG9jYWxlIHdpdGhvdXQgdGhlIGRhdGUNCglzWyIleSJdID0gKCcnICsgeSkuc3Vic3RyKDIsIDIpOyAvLyB5ZWFyIHdpdGhvdXQgdGhlIGNlbnR1cnkgKHJhbmdlIDAwIHRvIDk5KQ0KCXNbIiVZIl0gPSB5OyAvLyB5ZWFyIHdpdGggdGhlIGNlbnR1cnkNCglzWyIlJSJdID0gIiUiOyAvLyBhIGxpdGVyYWwgJyUnIGNoYXJhY3Rlcg0KDQoJdmFyIHJlID0gLyUuL2c7DQoJaWYgKCFDYWxlbmRhci5pc19pZTUgJiYgIUNhbGVuZGFyLmlzX2todG1sKQ0KCQlyZXR1cm4gc3RyLnJlcGxhY2UocmUsIGZ1bmN0aW9uIChwYXIpIHsgcmV0dXJuIHNbcGFyXSB8fCBwYXI7IH0pOw0KDQoJdmFyIGEgPSBzdHIubWF0Y2gocmUpOw0KCWZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgew0KCQl2YXIgdG1wID0gc1thW2ldXTsNCgkJaWYgKHRtcCkgew0KCQkJcmUgPSBuZXcgUmVnRXhwKGFbaV0sICdnJyk7DQoJCQlzdHIgPSBzdHIucmVwbGFjZShyZSwgdG1wKTsNCgkJfQ0KCX0NCg0KCXJldHVybiBzdHI7DQp9Ow0KDQpEYXRlLnByb3RvdHlwZS5fX21zaF9vbGRTZXRGdWxsWWVhciA9IERhdGUucHJvdG90eXBlLnNldEZ1bGxZZWFyOw0KRGF0ZS5wcm90b3R5cGUuc2V0RnVsbFllYXIgPSBmdW5jdGlvbih5KSB7DQoJdmFyIGQgPSBuZXcgRGF0ZSh0aGlzKTsNCglkLl9fbXNoX29sZFNldEZ1bGxZZWFyKHkpOw0KCWlmIChkLmdldE1vbnRoKCkgIT0gdGhpcy5nZXRNb250aCgpKQ0KCQl0aGlzLnNldERhdGUoMjgpOw0KCXRoaXMuX19tc2hfb2xkU2V0RnVsbFllYXIoeSk7DQp9Ow0KDQovLyBFTkQ6IERBVEUgT0JKRUNUIFBBVENIRVMNCg0KLy8gZ2xvYmFsIG9iamVjdCB0aGF0IHJlbWVtYmVycyB0aGUgY2FsZW5kYXINCndpbmRvdy5fZHluYXJjaF9wb3B1cENhbGVuZGFyID0gbnVsbDsNCg0KdmFyIF9jYWxlbmRhckVsZW1lbnRBcnJheSA9IG5ldyBBcnJheSgxKTsNCnZhciBfb25lQ2xpY2tFbGVtZW50ID0gbnVsbDsNCg0KDQpmdW5jdGlvbiBzZXRFbGVtZW50Rm9yT25lQ2xpY2tFdmVudChzdHJFbGVtZW50SWQpIHsNCglfb25lQ2xpY2tFbGVtZW50ID0gc3RyRWxlbWVudElkOw0KfQ0KDQpmdW5jdGlvbiBhZGRDYWxlbmRhckVsZW1lbnRUb0FycmF5KHN0ckVsZW1lbnRJZCkgew0KCV9vbmVDbGlja0VsZW1lbnQgPSBzdHJFbGVtZW50SWQ7DQp9DQoNCmZ1bmN0aW9uIGdldEZvcm1JbnB1dE5hbWVGcm9tR2VuZXJhdGVkSW1hZ2VOYW1lKHN0ck5hbWUpIHsNCgl2YXIgcmV0ID0gbnVsbDsNCg0KCXZhciB0b01hdGNoU3RyID0gIl9fQ0FMXyI7DQoJdmFyIGxlbiA9IHRvTWF0Y2hTdHIubGVuZ3RoOw0KCXZhciByZXN1bHQgPSBzdHJOYW1lLmluZGV4T2YodG9NYXRjaFN0cik7DQoNCglpZihyZXN1bHQgPT0gMCkgew0KCQlyZXQgPSBzdHJOYW1lLnN1YnN0cmluZyhsZW4sIHN0ck5hbWUubGVuZ3RoKTsNCgl9DQoJcmV0dXJuIHJldDsNCn0NCg0KLy8gVmljdG9yOiBUaGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIHdoZW4gdGhlIGVuZC11c2VyIGNsaWNrcyBvbiBzb21lIGRhdGUuDQovLyBCdWcgZml4OiBPTU5JMDAwMDM4ODYNCmZ1bmN0aW9uIHNlbGVjdGVkKGNhbCwgZGF0ZSkgew0KCWlmICgoY2FsLmRhdGVDbGlja2VkIHx8IGNhbC50b2RheUNsaWNrZWQpICYmIF9vbmVDbGlja0VsZW1lbnQgIT0gbnVsbCkgew0KCQkvLyBqdXN0IHVwZGF0ZSB0aGUgZGF0ZSBpbiB0aGUgaW5wdXQgZmllbGQNCgkJY2FsLnNlbC52YWx1ZSA9IGRhdGU7DQoJCWlmIChjYWwuZmlyZU9uQ2hhbmdlRXZlbnQgJiYgY2FsLnNlbCAvKiYmIGNhbC5zZWwub25jaGFuZ2UqLyApIHsgLy8gZmlyZSBvbmNoYW5nZSBldmVudA0KCQkJLy9jYWwuc2VsLm9uY2hhbmdlKCk7DQoJCQkvLyBCdWcgZml4OiBvbmNoYW5nZSgpIGRvZXMgbm90IGNhbGwgYWxsIGNoYW5nZSBldmVudHMgdGhhdCBtYXkgYmUgYXR0YWNoZWQgdG8gdGhlIGVsZW1lbnQgKGllLiBpZiBsaXN0ZW5lcnMgd2VyZSBhZGRlZCBieSBlbGVtLmF0dGFjaEV2ZW50KC4uLikgKS4NCgkJCS8vIFRoZSBwcm9wZXIgd2F5IHRvIGZpcmUgdGhpcyBldmVudCBpcyB0byBjcmVhdGUgYW4gRXZlbnRPYmplY3QgYW5kIGZpcmUgYW4gZXZlbnQgb24gdGhlIGVsZW1lbnQsIGxpa2U6DQoJCQkvLyAgICBlbGVtLmZpcmVFdmVudCgnb24nK2V2ZW50LGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCkpOyAgT2YgY291cnNlLCB0aGlzIGlzIGRpZmZlcmVudCBmb3IgRkYgYW5kIG90aGVyIGJyb3dzZXJzLg0KCQkJaWYgKGZpcmVFdmVudCkgeyAvLyBhdmFpbGFibGUgaW4gY29tbW9uLXNjcmlwdHMuanMNCgkJCQlmaXJlRXZlbnQoY2FsLnNlbCwgJ2NoYW5nZScpOw0KCQkJfQ0KCQl9DQoJCWlmIChjYWwuZmlyZU9uQmx1ckV2ZW50ICYmIGNhbC5zZWwgJiYgY2FsLnNlbC5vbmJsdXIpIHsgLy8gZmlyZSBvbmJsdWUgZXZlbnQNCgkJCWNhbC5zZWwub25ibHVyKCk7DQoJCX0NCgkJaWYgKGNhbC5maXJlT25Gb2N1c0V2ZW50ICYmIGNhbC5zZWwgJiYgY2FsLnNlbC5vbmZvY3VzKSB7IC8vIGZpcmUgb25mb2N1cyBldmVudA0KCQkJY2FsLnNlbC5vbmZvY3VzKCk7DQoJCX0NCgkJaWYgKF9vbmVDbGlja0VsZW1lbnQgPT0gY2FsLnNlbC5pZCkgew0KCQkJY2FsLmNhbGxDbG9zZUhhbmRsZXIoKTsNCgkJfQ0KCX0NCn0NCg0KLy8gQW5kIHRoaXMgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgZW5kLXVzZXIgY2xpY2tzIG9uIHRoZSBfc2VsZWN0ZWRfIGRhdGUsDQovLyBvciBjbGlja3Mgb24gdGhlICJDbG9zZSIgYnV0dG9uLiAgSXQganVzdCBoaWRlcyB0aGUgY2FsZW5kYXIgd2l0aG91dA0KLy8gZGVzdHJveWluZyBpdC4NCmZ1bmN0aW9uIGNsb3NlSGFuZGxlcihjYWwpIHsNCmNhbC5oaWRlKCk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0aGUgY2FsZW5kYXINCl9keW5hcmNoX3BvcHVwQ2FsZW5kYXIgPSBudWxsOw0KLy9pZiAob25Gb3JtQ2hhbmdlQ2xpY2tFdmVudCkgew0KLy8Jb25Gb3JtQ2hhbmdlQ2xpY2tFdmVudCgpOw0KLy99DQp9DQoNCi8vIFRoaXMgZnVuY3Rpb24gc2hvd3MgdGhlIGNhbGVuZGFyIHVuZGVyIHRoZSBlbGVtZW50IGhhdmluZyB0aGUgZ2l2ZW4gaWQuDQovLyBJdCB0YWtlcyBjYXJlIG9mIGNhdGNoaW5nICJtb3VzZWRvd24iIHNpZ25hbHMgb24gZG9jdW1lbnQgYW5kIGhpZGluZyB0aGUNCi8vIGNhbGVuZGFyIGlmIHRoZSBjbGljayB3YXMgb3V0c2lkZS4NCmZ1bmN0aW9uIHNob3dDYWxlbmRhcihjYWxsZXJJZCwgZmlyZU9uQ2hhbmdlRXZlbnQsIGZpcmVPbkZvY3VzRXZlbnQsIGZpcmVPbkJsdXJFdmVudCwgY2FsbGJhY2tGdW5jdGlvbikgew0KdmFyIGZvcm1hdCA9ICclbS8lZC8lWSc7DQp2YXIgc2hvd3NUaW1lOw0KdmFyIHNob3dzT3RoZXJNb250aHMgPSB0cnVlOw0KDQp2YXIgc3RySW5wdXRJZCA9IGdldEZvcm1JbnB1dE5hbWVGcm9tR2VuZXJhdGVkSW1hZ2VOYW1lKGNhbGxlcklkKTsNCg0KaWYoc3RySW5wdXRJZCAhPSBudWxsKSB7DQoJCS8vIGFkZCB0aGUgaW5wdXQgSUQNCglzZXRFbGVtZW50Rm9yT25lQ2xpY2tFdmVudChzdHJJbnB1dElkKTsNCg0KCXZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0cklucHV0SWQpOw0KCXZhciBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsbGVySWQpOw0KCXZhciBfZmlyZU9uQ2hhbmdlRXZlbnQgPSBmYWxzZTsvLyBmaXJlIG9uY2hhbmdlIGV2ZW50IG9uIHRoZSBpbnB1dCBmaWVsZA0KCXZhciBfZmlyZU9uQmx1ckV2ZW50ID0gZmFsc2U7IC8vIGZpcmUgb25ibHVyIGV2ZW50IG9uIHRoZSBpbnB1dCBmaWVsZA0KCXZhciBfZmlyZU9uRm9jdXNFdmVudCA9IGZhbHNlOyAvLyBmaXJlIG9uZm9jdXMgZXZlbnQgb24gdGhlIGlucHV0IGZpZWxkDQoJaWYoZmlyZU9uQ2hhbmdlRXZlbnQpIHsNCgkJCV9maXJlT25DaGFuZ2VFdmVudCA9IHRydWU7DQoJfQ0KCWlmKGZpcmVPbkJsdXJFdmVudCkgew0KCQkJX2ZpcmVPbkJsdXJFdmVudCA9IHRydWU7DQoJfQ0KCWlmKGZpcmVPbkZvY3VzRXZlbnQpIHsNCgkJCV9maXJlT25Gb2N1c0V2ZW50ID0gdHJ1ZTsNCgl9DQoNCglpZihlbCAhPSBudWxsICYmIGNhbGxlckVsZW1lbnQgIT0gbnVsbCkgew0KCQlpZiAoX2R5bmFyY2hfcG9wdXBDYWxlbmRhciAhPSBudWxsKSB7DQoJCQkvLyB3ZSBhbHJlYWR5IGhhdmUgc29tZSBjYWxlbmRhciBjcmVhdGVkDQoJCQlfZHluYXJjaF9wb3B1cENhbGVuZGFyLmhpZGUoKTsgLy8gc28gd2UgaGlkZSBpdCBmaXJzdC4NCgkJfSBlbHNlIHsNCgkJCS8vIGZpcnN0LXRpbWUgY2FsbCwgY3JlYXRlIHRoZSBjYWxlbmRhci4NCgkJCS8vIEJ1ZyBmaXg6IE9NTkkwMDAwMzE5NzsgY2hhbmdlIHN0YXJ0IG9mIHdlZWsgdG8gU3VuZGF5DQoJCQl2YXIgY2FsID0gbmV3IENhbGVuZGFyKDAsIG51bGwsIHNlbGVjdGVkLCBmdW5jdGlvbiAoKSB7Y2xvc2VIYW5kbGVyKHRoaXMpOyBpZiAoY2FsbGJhY2tGdW5jdGlvbikgY2FsbGJhY2tGdW5jdGlvbigpO30pOw0KCQkJLy8gdW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSB0byBoaWRlIHRoZSB3ZWVrIG51bWJlcnMNCgkJCWNhbC53ZWVrTnVtYmVycyA9IGZhbHNlOw0KCQkJaWYgKHR5cGVvZiBzaG93c1RpbWUgPT0gInN0cmluZyIpIHsNCgkJCWNhbC5zaG93c1RpbWUgPSB0cnVlOw0KCQkJY2FsLnRpbWUyNCA9IChzaG93c1RpbWUgPT0gIjI0Iik7DQoJCQl9DQoJCQlpZiAoc2hvd3NPdGhlck1vbnRocykgew0KCQkJY2FsLnNob3dzT3RoZXJNb250aHMgPSB0cnVlOw0KCQkJfQ0KCQkJX2R5bmFyY2hfcG9wdXBDYWxlbmRhciA9IGNhbDsgLy8gcmVtZW1iZXIgaXQgaW4gdGhlIGdsb2JhbCB2YXINCgkJCS8vIEJ1ZyBmaXg6IE9NTkkwMDAwMzIxNw0KCQkJY2FsLnNldFJhbmdlKDEwMDAsIDk5OTkpOyAvLyBtaW4vbWF4IHllYXIgYWxsb3dlZC4NCg0KCQkJdmFyIGFkanVzdFggPSBnZXRUZW1wbGF0ZUFkanVzdG1lbnQoKTsNCgkJCWNhbC5zZXRBZGp1c3RtZW50UG9zaXRpb24oYWRqdXN0WCwgMCk7DQoNCgkJCXZhciBkaW1lbnNpb24gPSBnZXREb2N1bWVudERpbWVuc2lvbigpOw0KCQkJY2FsLnNldFBhcmVudERvY3VtZW50RGltZW5zaW9ucyhkaW1lbnNpb24ud2lkdGgsIGRpbWVuc2lvbi5oZWlnaHQpOw0KDQoJCQljYWwuY3JlYXRlKCk7DQoJCX0NCgkJX2R5bmFyY2hfcG9wdXBDYWxlbmRhci5zZXREYXRlRm9ybWF0KGZvcm1hdCk7ICAgIC8vIHNldCB0aGUgc3BlY2lmaWVkIGRhdGUgZm9ybWF0DQoJCV9keW5hcmNoX3BvcHVwQ2FsZW5kYXIucGFyc2VEYXRlKGVsLnZhbHVlKTsgICAgICAvLyB0cnkgdG8gcGFyc2UgdGhlIHRleHQgaW4gZmllbGQNCgkJX2R5bmFyY2hfcG9wdXBDYWxlbmRhci5zZWwgPSBlbDsgICAgICAgICAgICAgICAgIC8vIGluZm9ybSBpdCB3aGF0IGlucHV0IGZpZWxkIHdlIHVzZQ0KCQlfZHluYXJjaF9wb3B1cENhbGVuZGFyLmZpcmVPbkNoYW5nZUV2ZW50ID0gX2ZpcmVPbkNoYW5nZUV2ZW50Oy8vIGZpcmUgb25jaGFuZ2UgZXZlbnQgb24gdGhlIGlucHV0IGZpZWxkDQoJCV9keW5hcmNoX3BvcHVwQ2FsZW5kYXIuZmlyZU9uQmx1ckV2ZW50ID0gX2ZpcmVPbkJsdXJFdmVudDsgIC8vIGZpcmUgb25ibHVyIGV2ZW50IG9uIHRoZSBpbnB1dCBmaWVsZA0KCQlfZHluYXJjaF9wb3B1cENhbGVuZGFyLmZpcmVPbkZvY3VzRXZlbnQgPSBfZmlyZU9uRm9jdXNFdmVudDsgLy8gZmlyZSBvbmZvY3VzIGV2ZW50IG9uIHRoZSBpbnB1dCBmaWVsZA0KDQoJCXZhciB2aWV3cG9ydCA9IGdldFZpZXdwb3J0KCk7DQoJCV9keW5hcmNoX3BvcHVwQ2FsZW5kYXIuc2V0Vmlld3BvcnQodmlld3BvcnQubGVmdCwgdmlld3BvcnQudG9wLCB2aWV3cG9ydC53aWR0aCwgdmlld3BvcnQuaGVpZ2h0KTsNCgkJX2R5bmFyY2hfcG9wdXBDYWxlbmRhci5zaG93QXRFbGVtZW50KGNhbGxlckVsZW1lbnQpOyAvLyBzZXQgdGhlIHBvc2l0aW9uDQoNCgl9DQp9DQpyZXR1cm4gZmFsc2U7DQp9DQoNCmZ1bmN0aW9uIHNob3dDYWxlbmRhcldpdGhUaW1lKGNhbGxlcklkLCBmaXJlT25DaGFuZ2VFdmVudCwgZmlyZU9uRm9jdXNFdmVudCwgZmlyZU9uQmx1ckV2ZW50LCBjYWxsYmFja0Z1bmN0aW9uKSB7DQoJcmV0dXJuIHNob3dDYWxlbmRhcldpdGhUaW1lKGNhbGxlcklkLCBmYWxzZSwgZmlyZU9uQ2hhbmdlRXZlbnQsIGZpcmVPbkZvY3VzRXZlbnQsIGZpcmVPbkJsdXJFdmVudCwgY2FsbGJhY2tGdW5jdGlvbik7DQp9DQoNCmZ1bmN0aW9uIHNob3dDYWxlbmRhcldpdGhUaW1lKGNhbGxlcklkLCBleGNsdWRlU2Vjb25kcywgZmlyZU9uQ2hhbmdlRXZlbnQsIGZpcmVPbkZvY3VzRXZlbnQsIGZpcmVPbkJsdXJFdmVudCwgY2FsbGJhY2tGdW5jdGlvbikgew0KdmFyIGZvcm1hdCA9IChleGNsdWRlU2Vjb25kcyA/ICclbS8lZC8lWSAlSDolTScgOiAnJW0vJWQvJVkgJUg6JU06JVMnKTsNCnZhciBzaG93c1RpbWUgPSAiMjQiOw0KdmFyIHNob3dzT3RoZXJNb250aHMgPSB0cnVlOw0KDQp2YXIgc3RySW5wdXRJZCA9IGdldEZvcm1JbnB1dE5hbWVGcm9tR2VuZXJhdGVkSW1hZ2VOYW1lKGNhbGxlcklkKTsNCnZhciBfZmlyZU9uQ2hhbmdlRXZlbnQgPSBmYWxzZTsvLyBmaXJlIG9uY2hhbmdlIGV2ZW50IG9uIHRoZSBpbnB1dCBmaWVsZA0KdmFyIF9maXJlT25CbHVyRXZlbnQgPSBmYWxzZTsgIC8vIGZpcmUgb25ibHVyIGV2ZW50IG9uIHRoZSBpbnB1dCBmaWVsZA0KdmFyIF9maXJlT25Gb2N1c0V2ZW50ID0gZmFsc2U7IC8vIGZpcmUgb25mb2N1cyBldmVudCBvbiB0aGUgaW5wdXQgZmllbGQNCmlmKGZpcmVPbkNoYW5nZUV2ZW50KSB7DQoJX2ZpcmVPbkNoYW5nZUV2ZW50ID0gdHJ1ZTsNCn0NCmlmKGZpcmVPbkJsdXJFdmVudCkgew0KCV9maXJlT25CbHVyRXZlbnQgPSB0cnVlOw0KfQ0KaWYoZmlyZU9uRm9jdXNFdmVudCkgew0KCV9maXJlT25Gb2N1c0V2ZW50ID0gdHJ1ZTsNCn0NCg0KaWYoc3RySW5wdXRJZCAhPSBudWxsKSB7DQoJLy8gYWRkIHRoZSBpbnB1dCBJRA0KCXNldEVsZW1lbnRGb3JPbmVDbGlja0V2ZW50KHN0cklucHV0SWQpOw0KDQoJdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RySW5wdXRJZCk7DQoJdmFyIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxsZXJJZCk7DQoNCglpZihlbCAhPSBudWxsICYmIGNhbGxlckVsZW1lbnQgIT0gbnVsbCkgew0KCQlpZiAoX2R5bmFyY2hfcG9wdXBDYWxlbmRhciAhPSBudWxsKSB7DQoJCQkvLyB3ZSBhbHJlYWR5IGhhdmUgc29tZSBjYWxlbmRhciBjcmVhdGVkLCBzbyB3ZSBoaWRlIGl0IGZpcnN0DQoJCQlfZHluYXJjaF9wb3B1cENhbGVuZGFyLmhpZGUoKTsNCgkJfSBlbHNlIHsNCgkJCS8vIGZpcnN0LXRpbWUgY2FsbCwgY3JlYXRlIHRoZSBjYWxlbmRhci4NCgkJCS8vIEJ1ZyBmaXg6IE9NTkkwMDAwMzE5NzsgY2hhbmdlIHN0YXJ0IG9mIHdlZWsgdG8gU3VuZGF5DQoJCQl2YXIgY2FsID0gbmV3IENhbGVuZGFyKDAsIG51bGwsIHNlbGVjdGVkLCBmdW5jdGlvbiAoKSB7Y2xvc2VIYW5kbGVyKHRoaXMpOyBpZiAoY2FsbGJhY2tGdW5jdGlvbikgY2FsbGJhY2tGdW5jdGlvbigpO30pOw0KCQkJLy8gdW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSB0byBoaWRlIHRoZSB3ZWVrIG51bWJlcnMNCgkJCWNhbC53ZWVrTnVtYmVycyA9IGZhbHNlOw0KCQkJaWYgKHR5cGVvZiBzaG93c1RpbWUgPT0gInN0cmluZyIpIHsNCgkJCWNhbC5zaG93c1RpbWUgPSB0cnVlOw0KCQkJY2FsLnRpbWUyNCA9IChzaG93c1RpbWUgPT0gIjI0Iik7DQoJCQl9DQoJCQlpZiAoc2hvd3NPdGhlck1vbnRocykgew0KCQkJCWNhbC5zaG93c090aGVyTW9udGhzID0gdHJ1ZTsNCgkJCX0NCgkJCS8vIHJlbWVtYmVyIGl0IGluIHRoZSBnbG9iYWwgdmFyDQoJCQlfZHluYXJjaF9wb3B1cENhbGVuZGFyID0gY2FsOw0KCQkJLy8gQnVnIGZpeDogT01OSTAwMDAzMjE3DQoJCQljYWwuc2V0UmFuZ2UoMTAwMCwgOTk5OSk7IC8vIG1pbi9tYXggeWVhciBhbGxvd2VkLg0KDQoJCQl2YXIgYWRqdXN0WCA9IGdldFRlbXBsYXRlQWRqdXN0bWVudCgpOw0KCQkJY2FsLnNldEFkanVzdG1lbnRQb3NpdGlvbihhZGp1c3RYLCAwKTsNCg0KCQkJdmFyIGRpbWVuc2lvbiA9IGdldERvY3VtZW50RGltZW5zaW9uKCk7DQoJCQljYWwuc2V0UGFyZW50RG9jdW1lbnREaW1lbnNpb25zKGRpbWVuc2lvbi53aWR0aCwgZGltZW5zaW9uLmhlaWdodCk7DQoNCgkJCWNhbC5jcmVhdGUoKTsNCgkJfQ0KCQkvLyBzZXQgdGhlIHNwZWNpZmllZCBkYXRlIGZvcm1hdA0KCQlfZHluYXJjaF9wb3B1cENhbGVuZGFyLnNldERhdGVGb3JtYXQoZm9ybWF0KTsNCgkJLy8gdHJ5IHRvIHBhcnNlIHRoZSB0ZXh0IGluIGZpZWxkDQoJCV9keW5hcmNoX3BvcHVwQ2FsZW5kYXIucGFyc2VEYXRlKGVsLnZhbHVlKTsNCgkJLy8gaW5mb3JtIGl0IHdoYXQgaW5wdXQgZmllbGQgd2UgdXNlDQoJCV9keW5hcmNoX3BvcHVwQ2FsZW5kYXIuc2VsID0gZWw7DQoJCS8vIGZpcmUgb25jaGFuZ2UgZXZlbnQgb24gdGhlIGlucHV0IGZpZWxkDQoJCV9keW5hcmNoX3BvcHVwQ2FsZW5kYXIuZmlyZU9uQ2hhbmdlRXZlbnQgPSBfZmlyZU9uQ2hhbmdlRXZlbnQ7DQoJCS8vIGZpcmUgb25ibHVyIGV2ZW50IG9uIHRoZSBpbnB1dCBmaWVsZA0KCQlfZHluYXJjaF9wb3B1cENhbGVuZGFyLmZpcmVPbkJsdXJFdmVudCA9IF9maXJlT25CbHVyRXZlbnQ7DQoJCS8vIGZpcmUgb25mb2N1cyBldmVudCBvbiB0aGUgaW5wdXQgZmllbGQNCgkJX2R5bmFyY2hfcG9wdXBDYWxlbmRhci5maXJlT25Gb2N1c0V2ZW50ID0gX2ZpcmVPbkZvY3VzRXZlbnQ7DQoNCgkJdmFyIHZpZXdwb3J0ID0gZ2V0Vmlld3BvcnQoKTsNCgkJX2R5bmFyY2hfcG9wdXBDYWxlbmRhci5zZXRWaWV3cG9ydCh2aWV3cG9ydC5sZWZ0LCB2aWV3cG9ydC50b3AsIHZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHQpOw0KCQkvLyBzZXQgdGhlIHBvc2l0aW9uDQoJCV9keW5hcmNoX3BvcHVwQ2FsZW5kYXIuc2hvd0F0RWxlbWVudChjYWxsZXJFbGVtZW50KTsNCg0KCX0NCn0NCnJldHVybiBmYWxzZTsNCn0NCg0KDQpmdW5jdGlvbiBnZXREb2N1bWVudERpbWVuc2lvbigpIHsNCgl2YXIgdyA9IDA7DQoJdmFyIGggPSAwOw0KDQoJaWYoZG9jdW1lbnQuYm9keSkgew0KCQlpZihkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICYmIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSB7DQoJCQl3ICA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7DQoJCQloID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7DQoJCX0NCgl9DQoJcmV0dXJuIHt3aWR0aDp3LCBoZWlnaHQ6aH07DQp9DQoNCmZ1bmN0aW9uIGdldFZpZXdwb3J0KCkgew0KCXZhciB4LHksdyxoOw0KCWlmIChzZWxmLnBhZ2VZT2Zmc2V0KSB7IC8vIGFsbCBleGNlcHQgRXhwbG9yZXINCgkJeCA9IHNlbGYucGFnZVhPZmZzZXQ7DQoJCXkgPSBzZWxmLnBhZ2VZT2Zmc2V0Ow0KCQl3ID0gc2VsZi5pbm5lcldpZHRoOw0KCQloID0gc2VsZi5pbm5lckhlaWdodDsNCgl9IGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSB7IC8vIEV4cGxvcmVyIDYgU3RyaWN0DQoNCgkJeCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0Ow0KCQl5ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsNCgkJdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsNCgkJaCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7DQoJfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5KSB7IC8vIGFsbCBvdGhlciBFeHBsb3JlcnMNCgkJeCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdDsNCgkJeSA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOw0KCQl3ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsNCgkJaCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0Ow0KCX0NCglyZXR1cm4ge2xlZnQ6eCx0b3A6eSx3aWR0aDp3LGhlaWdodDpofTsNCn0NCg0KZnVuY3Rpb24gZ2V0VGVtcGxhdGVBZGp1c3RtZW50KCkgew0KCXZhciB4ID0gMDsNCg0KCXZhciBpZE1haW5MZWZ0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZC1tYWluLWxlZnQnKTsNCglpZihpZE1haW5MZWZ0RWxlbWVudCAhPSB1bmRlZmluZWQgJiYgaWRNYWluTGVmdEVsZW1lbnQudGFnTmFtZSAhPSB1bmRlZmluZWQpIHsNCgkJLy9DUTE2MzY2IC0gb25seSBhZGp1c3QgdGhlIHdpZHRoIGlmIElFIHZlcnNpb24gaXMgNyBvciBsZXNzDQoJCWlmKG1zaWV2ZXJzaW9uKCkgPD0gNyAgJiYgbXNpZXZlcnNpb24oKSAhPSAwKXsNCgkJCXggLT0gX09NTklNZW51V2lkdGg7DQoJCX0NCgl9DQoJcmV0dXJuIHg7DQp9DQpmdW5jdGlvbiBtc2lldmVyc2lvbigpew0KICAgICAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQNCiAgICAgIHZhciBtc2llID0gdWEuaW5kZXhPZiAoICJNU0lFICIgKQ0KDQogICAgICBpZiAoIG1zaWUgPiAwICkgICAgICAvLyBJZiBJbnRlcm5ldCBFeHBsb3JlciwgcmV0dXJuIHZlcnNpb24gbnVtYmVyDQogICAgICAgICByZXR1cm4gcGFyc2VJbnQgKHVhLnN1YnN0cmluZyAobXNpZSs1LCB1YS5pbmRleE9mICgiLiIsIG1zaWUgKSkpDQogICAgICBlbHNlICAgICAgICAgICAgICAgICAvLyBJZiBhbm90aGVyIGJyb3dzZXIsIHJldHVybiAwDQogICAgICAgICByZXR1cm4gMA0KDQogICB9DQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707609" offset="0" length="16384" />
            <PacketInfo time="102707625" offset="16384" length="6136" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="169" hostname="omniconv" path="/OMNIStatic/scripts/jquery/jquery-picklist.js" url="http://omniconv/OMNIStatic/scripts/jquery/jquery-picklist.js" ip="10.37.149.132" port="80" connectionId="8" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.503-07:00" startTime="102707593" endTime="102707625">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFvaFpJWTJrNlFvNWxQK1dOelpLenZrMUdjVGxFcGgxRFdUR3VvMmRSd1JyblducEpwN3ZYZk5rRUtFTm1IOVVVZDVyeVoycFpjblRJUVF1QllEc2FRbG5OV3dleXpGRFQwNWgyZjFTMzQ5TGVObkRLU0JqZWRTZlBzaElEYmMzZ0FZSlFyNE9rUFJzVWpNdjZ0M25oQks4bUNFOEhqK1pmUVArSDQ1aWUvY3gyRFhVajVRVGEraHA3ZEltSkh2aG5peDBCS0trYUUzeUVTaXBzWDZhbEF3VGlxanh3TlZiQW5ybzlsU3dGZURFMVhsbUE2ajFtNGpudDRGOGlqK3VLczlvYnltVHg4eEhoQWd1TTN4blVFM0xPbEhMdlgzbzZFbU1aMFFrS2J5dlhMSHN0bDVWVkNkbXR0L0puTWVzTmJVZkt5OXhEM1JUTkVIOFdvRFhyWCs4bnNCaDVORWVEclNydnZieUdLaXR2Q0ZpcDBmT0xzSUdEUWNGbGhRd1dUUklwOVc1eVpCS1UyZWxIZTYwSWRRR1BQOGl6OGpQbURnWUw4TXZmR3k1ejZRTVhXSmZkeTFraGdGdE1tSDF4TzgvWExSUjhvR0hlZVkyR2IyNmo4VW95QW1ZU3luem11R3pCbWJ0MXdjY2hmY2t1OXd3Q1NBRjRSTVRrSjhZNE9RUml1VzhqbUR2QnNhTHNQbEJRSlJ4S0J6Mm9NWTVnQldEeHRnd1U4cmhkOXpyK0R0UT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS1waWNrbGlzdC5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYW9oWklZMms2UW81bFArV056Wkt6dmsxR2NUbEVwaDFEV1RHdW8yZFJ3UnJuV25wSnA3dlhmTmtFS0VObUg5VVVkNXJ5WjJwWmNuVElRUXVCWURzYVFsbk5Xd2V5ekZEVDA1aDJmMVMzNDlMZU5uREtTQmplZFNmUHNoSURiYzNnQVlKUXI0T2tQUnNVak12NnQzbmhCSzhtQ0U4SGorWmZRUCtINDVpZS9jeDJEWFVqNVFUYStocDdkSW1KSHZobml4MEJLS2thRTN5RVNpcHNYNmFsQXdUaXFqeHdOVmJBbnJvOWxTd0ZlREUxWGxtQTZqMW00am50NEY4aWordUtzOW9ieW1UeDh4SGhBZ3VNM3huVUUzTE9sSEx2WDNvNkVtTVowUWtLYnl2WExIc3RsNVZWQ2RtdHQvSm5NZXNOYlVmS3k5eEQzUlRORUg4V29EWHJYKzhuc0JoNU5FZURyU3J2dmJ5R0tpdHZDRmlwMGZPTHNJR0RRY0ZsaFF3V1RSSXA5VzV5WkJLVTJlbEhlNjBJZFFHUFA4aXo4alBtRGdZTDhNdmZHeTV6NlFNWFdKZmR5MWtoZ0Z0TW1IMXhPOC9YTFJSOG9HSGVlWTJHYjI2ajhVb3lBbVlTeW56bXVHekJtYnQxd2NjaGZja3U5d3dDU0FGNFJNVGtKOFk0T1FSaXVXOGptRHZCc2FMc1BsQlFKUnhLQnoyb01ZNWdCV0R4dGd3VThyaGQ5enIrRHRRPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV2djkvTjh5aUFoNmlGYkJuU0orMHY3M1gxazhaY2pxcFZybmpKT2UwNzB1STJwRTg1QVJrUFErMnpiQlhiNU9uM3hWOXlDdXpyeVpYeEZtZ2NpQ0s0eFFYdTNWUm9kczZ0ZHB0UlArVVp6aVFpaFByU3BCWGFpRk5Ta1dXMzUvS2RyR0w5blUwT1BQYVJCWDJncFk9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>NDQ4NQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdXZ2OS9OOHlpQWg2aUZiQm5TSiswdjczWDFrOFpjanFwVnJuakpPZTA3MHVJMnBFODVBUmtQUSsyemJCWGI1T24zeFY5eUN1enJ5Wlh4Rm1nY2lDSzR4UVh1M1ZSb2RzNnRkcHRSUCtVWnppUWloUHJTcEJYYWlGTlNrV1czNS9LZHJHTDluVTBPUFBhUkJYMmdwWT0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogNDQ4NQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyoqCiAqIGpRdWVyeSBQaWNrTGlzdCBXaWRnZXQKICoKICogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTMgSm9uYXRob24gRnJlZW1hbiA8am9uYXRob25AYXducnkuY29tPgogKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLgogKgogKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvanF1ZXJ5LXVpLXBpY2tsaXN0LwogKi8KKGZ1bmN0aW9uKCQpCnsKCSQud2lkZ2V0KCJhd25yeS5waWNrTGlzdCIsCgl7CgkJd2lkZ2V0RXZlbnRQcmVmaXg6ICJwaWNrTGlzdF8iLAoKCQlvcHRpb25zOgoJCXsKCQkJLy8gQ29udGFpbmVyIGNsYXNzZXMKCQkJbWFpbkNsYXNzOiAgICAgICAgICAgICAgICAgICJwaWNrTGlzdCIsCgkJCWxpc3RDb250YWluZXJDbGFzczogICAgICAgICAicGlja0xpc3RfbGlzdENvbnRhaW5lciIsCgkJCXNvdXJjZUxpc3RDb250YWluZXJDbGFzczogICAicGlja0xpc3Rfc291cmNlTGlzdENvbnRhaW5lciIsCgkJCWNvbnRyb2xzQ29udGFpbmVyQ2xhc3M6ICAgICAicGlja0xpc3RfY29udHJvbHNDb250YWluZXIiLAoJCQl0YXJnZXRMaXN0Q29udGFpbmVyQ2xhc3M6ICAgInBpY2tMaXN0X3RhcmdldExpc3RDb250YWluZXIiLAoJCQlsaXN0Q2xhc3M6ICAgICAgICAgICAgICAgICAgInBpY2tMaXN0X2xpc3QiLAoJCQlzb3VyY2VMaXN0Q2xhc3M6ICAgICAgICAgICAgInBpY2tMaXN0X3NvdXJjZUxpc3QiLAoJCQl0YXJnZXRMaXN0Q2xhc3M6ICAgICAgICAgICAgInBpY2tMaXN0X3RhcmdldExpc3QiLAoJCQljbGVhckNsYXNzOiAgICAgICAgICAgICAgICAgInBpY2tMaXN0X2NsZWFyIiwKCQkJZXJyb3JDbGFzczoJCQkJCSJwaWNrTGlzdF9lcnJvciIsCgoJCQkvLyBMaXN0IGl0ZW0gY2xhc3NlcwoJCQlsaXN0SXRlbUNsYXNzOiAgICAgICAgICAgICAgInBpY2tMaXN0X2xpc3RJdGVtIiwKCQkJcmljaExpc3RJdGVtQ2xhc3M6ICAgICAgICAgICJwaWNrTGlzdF9yaWNoTGlzdEl0ZW0iLAoJCQlzZWxlY3RlZExpc3RJdGVtQ2xhc3M6ICAgICAgInBpY2tMaXN0X3NlbGVjdGVkTGlzdEl0ZW0iLAoKCQkJLy8gQ29udHJvbCBjbGFzc2VzCgkJCWFkZEFsbENsYXNzOiAgICAgICAgICAgICAgICAicGlja0xpc3RfYWRkQWxsIiwKCQkJYWRkQ2xhc3M6ICAgICAgICAgICAgICAgICAgICJwaWNrTGlzdF9hZGQiLAoJCQlyZW1vdmVBbGxDbGFzczogICAgICAgICAgICAgInBpY2tMaXN0X3JlbW92ZUFsbCIsCgkJCXJlbW92ZUNsYXNzOiAgICAgICAgICAgICAgICAicGlja0xpc3RfcmVtb3ZlIiwKCgkJCS8vIENvbnRyb2wgbGFiZWxzCgkJCWFkZEFsbExhYmVsOiAgICAgICAgICAgICAgICAiJmd0OyZndDsiLAoJCQlhZGRMYWJlbDogICAgICAgICAgICAgICAgICAgIiZndDsiLAoJCQlyZW1vdmVBbGxMYWJlbDogICAgICAgICAgICAgIiZsdDsmbHQ7IiwKCQkJcmVtb3ZlTGFiZWw6ICAgICAgICAgICAgICAgICImbHQ7IiwKCgkJCS8vIExpc3QgbGFiZWxzCgkJCWxpc3RMYWJlbENsYXNzOiAgICAgICAgICAgICAicGlja0xpc3RfbGlzdExhYmVsIiwKCQkJc291cmNlTGlzdExhYmVsOiAgICAgICAgICAgICJBdmFpbGFibGUiLAoJCQlzb3VyY2VMaXN0TGFiZWxDbGFzczogICAgICAgInBpY2tMaXN0X3NvdXJjZUxpc3RMYWJlbCIsCgkJCXRhcmdldExpc3RMYWJlbDogICAgICAgICAgICAiU2VsZWN0ZWQiLAoJCQl0YXJnZXRMaXN0TGFiZWxDbGFzczogICAgICAgInBpY2tMaXN0X3RhcmdldExpc3RMYWJlbCIsCgoJCQkvLyBTb3J0aW5nCgkJCXNvcnRJdGVtczogICAgICAgICAgICAgICAgICB0cnVlLAoJCQlzb3J0QXR0cmlidXRlOiAgICAgICAgICAgICAgImxhYmVsIiwKCQkJc29ydERpcjoJCQkJCSJhc2MiLAoJCQkKCQkJLy8gRW5hYmxlL2Rpc2FibGUKCQkJZW5hYmxlQWRkQWxsOgkJCQl0cnVlLAoJCQllbmFibGVSZW1vdmVBbGw6CQkJdHJ1ZSwKCgkJCS8vIE5hbWUgb2YgY3VzdG9tIHZhbHVlIGF0dHJpYnV0ZSBmb3IgbGlzdCBpdGVtcwoJCQlsaXN0SXRlbVZhbHVlQXR0cmlidXRlOiAgICAgImRhdGEtdmFsdWUiLAoKCQkJLy8gQWRkaXRpb25hbCBsaXN0IGl0ZW1zCgkJCWl0ZW1zOgkJCQkJCVtdLAoJCQlzZWxlY3RMaW1pdDoJCQkJMTAwMDAsCgkJCQoJCQkvLyBjcm9zcy1zY3JpcHRpbmcgb3B0aW9ucwoJCQkvLyBCeSBkZWZhdWx0IHhzcyB3aWxsIHVzZSAuaHRtbCgpIHRvIGRpc3BsYXkgdGV4dCwgYnV0IHRoaXMgc3RyaXBzIG91dCBodG1sIHRhZ3MsIHNvbWV0aW1lcyAKCQkJLy8gICB0aGVzZSB0YWdzIGFyZSBuZWVkZWQuICBJbiB0aGlzIGNhc2VzLCAudGV4dCgpIHNob3VsZCBiZSB1c2VkIGluc3RlYWQsIGJ1dCBvbmx5IGlmCgkJCS8vICAgdGhlIGRldmVsb3BlciBpcyBzdXJlIG5vIGJhZCB4bWwgdGFncyB3aWxsIGJlIGRpc3BsYXllZAoJCQl4c3M6ICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZQoJCX0sCgoJCV9jcmVhdGU6IGZ1bmN0aW9uKCkKCQl7CgkJCXZhciBzZWxmID0gdGhpczsKCgkJCXNlbGYuX2J1aWxkUGlja0xpc3QoKTsKCQkJc2VsZi5fcmVmcmVzaCgpOwoJCX0sCgoJCV9idWlsZFBpY2tMaXN0OiBmdW5jdGlvbigpCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQlzZWxmLl90cmlnZ2VyKCJiZWZvcmVCdWlsZCIpOwoKCQkJc2VsZi5waWNrTGlzdCA9ICQoIjxkaXYvPiIpCgkJCQkJLmhpZGUoKQoJCQkJCS5hZGRDbGFzcyhzZWxmLm9wdGlvbnMubWFpbkNsYXNzKQoJCQkJCS5pbnNlcnRBZnRlcihzZWxmLmVsZW1lbnQpCgkJCQkJLmFwcGVuZChzZWxmLl9idWlsZFNvdXJjZUxpc3QoKSkKCQkJCQkuYXBwZW5kKHNlbGYuX2J1aWxkQ29udHJvbHMoKSkKCQkJCQkuYXBwZW5kKHNlbGYuX2J1aWxkVGFyZ2V0TGlzdCgpKQoJCQkJCS5hcHBlbmQoICQoIjxkaXYvPiIpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5jbGVhckNsYXNzKSApOwoKCQkJc2VsZi5fcG9wdWxhdGVMaXN0cygpOwoKCQkJc2VsZi5lbGVtZW50LmhpZGUoKTsKCQkJc2VsZi5waWNrTGlzdC5zaG93KCk7CgoJCQlzZWxmLl90cmlnZ2VyKCJhZnRlckJ1aWxkIik7CgkJfSwKCgkJX2J1aWxkU291cmNlTGlzdDogZnVuY3Rpb24oKQoJCXsKCQkJdmFyIHNlbGYgPSB0aGlzOwoKCQkJdmFyIGNvbnRhaW5lciA9ICQoIjxkaXYvPiIpCgkJCQkJLmFkZENsYXNzKHNlbGYub3B0aW9ucy5saXN0Q29udGFpbmVyQ2xhc3MpCgkJCQkJLmFkZENsYXNzKHNlbGYub3B0aW9ucy5zb3VyY2VMaXN0Q29udGFpbmVyQ2xhc3MpCgkJCQkJLmNzcyh7CgkJCQkJCSItbW96LXVzZXItc2VsZWN0IjogIm5vbmUiLAoJCQkJCQkiLXdlYmtpdC11c2VyLXNlbGVjdCI6ICJub25lIiwKCQkJCQkJInVzZXItc2VsZWN0IjogIm5vbmUiLAoJCQkJCQkiLW1zLXVzZXItc2VsZWN0IjogIm5vbmUiCgkJCQkJfSkKCQkJCQkuZWFjaChmdW5jdGlvbigpCgkJCQkJewoJCQkJCQl0aGlzLm9uc2VsZWN0c3RhcnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9OwoJCQkJCX0pOwoKCQkJdmFyIGxhYmVsID0gJCgiPGRpdi8+IikKCQkJCQkudGV4dChzZWxmLm9wdGlvbnMuc291cmNlTGlzdExhYmVsKQoJCQkJCS5hZGRDbGFzcyhzZWxmLm9wdGlvbnMubGlzdExhYmVsQ2xhc3MpCgkJCQkJLmFkZENsYXNzKHNlbGYub3B0aW9ucy5zb3VyY2VMaXN0TGFiZWxDbGFzcyk7CgoJCQlzZWxmLnNvdXJjZUxpc3QgPSAkKCI8dWwvPiIpCgkJCQkJLmFkZENsYXNzKHNlbGYub3B0aW9ucy5saXN0Q2xhc3MpCgkJCQkJLmFkZENsYXNzKHNlbGYub3B0aW9ucy5zb3VyY2VMaXN0Q2xhc3MpCgkJCQkJLnByb3AoInRhYmluZGV4IiwgIjEiKQoJCQkJCS5zZWxlY3RhYmxlKHsgY2FuY2VsOiAnLnVpLXNlbGVjdGVkJyB9KSAvLyByZS1lbmFibGVzIGRibGNsaWNrIGV2ZW50IGFzIGEgc2lkZS1lZmZlY3QKCQkJCQkub24oICJzZWxlY3RhYmxlc2VsZWN0aW5nIiwgZnVuY3Rpb24oIGV2ZW50LCB1aSApIHsgc2VsZi5fcmVmcmVzaENvbnRyb2xzKCk7IH0pCgkJCQkJLm9uKCAic2VsZWN0YWJsZXVuc2VsZWN0aW5nIiwgZnVuY3Rpb24oIGV2ZW50LCB1aSApIHsgc2VsZi5fcmVmcmVzaENvbnRyb2xzKCk7IH0pCgkJCQkJLmRlbGVnYXRlKCIiLCAibW91c2V1cCIsIHsgcGlja0xpc3Q6IHNlbGYgfSwgc2VsZi5fY2hhbmdlSGFuZGxlcik7CgoJCQljb250YWluZXIKCQkJCQkuYXBwZW5kKGxhYmVsKQoJCQkJCS5hcHBlbmQoc2VsZi5zb3VyY2VMaXN0KTsKCgkJCXNlbGYuc291cmNlTGlzdC5kZWxlZ2F0ZSgiLnBpY2tMaXN0X2xpc3RJdGVtIiwgImRibGNsaWNrIiwge3BpY2tMaXN0OiBzZWxmfSwgZnVuY3Rpb24oZSkKCQkJewoJCQkJdmFyIHNlbGYgPSBlLmRhdGEucGlja0xpc3Q7CgkJCQlpZiAoc2VsZi5vcHRpb25zLnNlbGVjdExpbWl0ID4gc2VsZi50YXJnZXRMaXN0LmNoaWxkcmVuKCkubGVuZ3RoKSB7CgkJCQkJc2VsZi5fYWRkSXRlbXMoIHNlbGYuc291cmNlTGlzdC5jaGlsZHJlbigiLnVpLXNlbGVjdGVkIikgKTsKCQkJCX0KCQkJfSk7CgkJCQoJCQlzZWxmLnNvdXJjZUxpc3Qub24oImtleXByZXNzIiwgc2VsZi5fa2V5cHJlc3NIYW5kbGVyKTsKCQkJc2VsZi5zb3VyY2VMaXN0WzBdLm1hdGNoU3RyaW5nID0gIiI7CgoJCQlpZiAoc2VsZi5lbGVtZW50Lmhhc0NsYXNzKCJmb3JtLWVsZW1lbnQtZXJyb3IiKSkgewoJCQkJc2VsZi5zb3VyY2VMaXN0LmFkZENsYXNzKHNlbGYub3B0aW9ucy5lcnJvckNsYXNzKTsKCQkJfQoJCQkKCQkJcmV0dXJuIGNvbnRhaW5lcjsKCQl9LAoKCQlfYnVpbGRUYXJnZXRMaXN0OiBmdW5jdGlvbigpCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQl2YXIgY29udGFpbmVyID0gJCgiPGRpdi8+IikKCQkJCQkuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmxpc3RDb250YWluZXJDbGFzcykKCQkJCQkuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLnRhcmdldExpc3RDb250YWluZXJDbGFzcykKCQkJCQkuY3NzKHsKCQkJCQkJIi1tb3otdXNlci1zZWxlY3QiOiAibm9uZSIsCgkJCQkJCSItd2Via2l0LXVzZXItc2VsZWN0IjogIm5vbmUiLAoJCQkJCQkidXNlci1zZWxlY3QiOiAibm9uZSIsCgkJCQkJCSItbXMtdXNlci1zZWxlY3QiOiAibm9uZSIKCQkJCQl9KQoJCQkJCS5lYWNoKGZ1bmN0aW9uKCkKCQkJCQl7CgkJCQkJCXRoaXMub25zZWxlY3RzdGFydCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07CgkJCQkJfSk7CgoJCQl2YXIgbGFiZWwgPSAkKCI8ZGl2Lz4iKQoJCQkJCS50ZXh0KHNlbGYub3B0aW9ucy50YXJnZXRMaXN0TGFiZWwpCgkJCQkJLmFkZENsYXNzKHNlbGYub3B0aW9ucy5saXN0TGFiZWxDbGFzcykKCQkJCQkuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLnRhcmdldExpc3RMYWJlbENsYXNzKTsKCgkJCXNlbGYudGFyZ2V0TGlzdCA9ICQoIjx1bC8+IikKCQkJCQkuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLmxpc3RDbGFzcykKCQkJCQkuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLnRhcmdldExpc3RDbGFzcykKCQkJCQkuc2VsZWN0YWJsZSh7IGNhbmNlbDogJy51aS1zZWxlY3RlZCcgfSkgLy8gcmUtZW5hYmxlcyBkYmxjbGljayBldmVudCBhcyBhIHNpZGUtZWZmZWN0CgkJCQkJLm9uKCAic2VsZWN0YWJsZXNlbGVjdGluZyIsIGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7IHNlbGYuX3JlZnJlc2hDb250cm9scygpOyB9KQoJCQkJCS5vbiggInNlbGVjdGFibGV1bnNlbGVjdGluZyIsIGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7IHNlbGYuX3JlZnJlc2hDb250cm9scygpOyB9KQoJCQkJCS5kZWxlZ2F0ZSgiIiwgIm1vdXNldXAiLCB7IHBpY2tMaXN0OiBzZWxmIH0sIHNlbGYuX2NoYW5nZUhhbmRsZXIpCgkJCQkJLnByb3AoInRhYmluZGV4IiwgIjIiKTsKCgkJCWNvbnRhaW5lcgoJCQkJCS5hcHBlbmQobGFiZWwpCgkJCQkJLmFwcGVuZChzZWxmLnRhcmdldExpc3QpOwoKCQkJc2VsZi50YXJnZXRMaXN0LmRlbGVnYXRlKCIucGlja0xpc3RfbGlzdEl0ZW0iLCAiZGJsY2xpY2siLCB7cGlja0xpc3Q6IHNlbGZ9LCBmdW5jdGlvbihlKQoJCQl7CgkJCQl2YXIgc2VsZiA9IGUuZGF0YS5waWNrTGlzdDsKCQkJCXNlbGYuX3JlbW92ZUl0ZW1zKCBzZWxmLnRhcmdldExpc3QuY2hpbGRyZW4oIi51aS1zZWxlY3RlZCIpICk7CgkJCX0pOwoJCQkKCQkJc2VsZi50YXJnZXRMaXN0Lm9uKCJrZXlwcmVzcyIsIHNlbGYuX2tleXByZXNzSGFuZGxlcik7CgkJCXNlbGYudGFyZ2V0TGlzdFswXS5tYXRjaFN0cmluZyA9ICIiOwoKCQkJaWYgKHNlbGYuZWxlbWVudC5oYXNDbGFzcygiZm9ybS1lbGVtZW50LWVycm9yIikpIHsKCQkJCXNlbGYudGFyZ2V0TGlzdC5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuZXJyb3JDbGFzcyk7CgkJCX0KCQkJCgkJCXJldHVybiBjb250YWluZXI7CgkJfSwKCgkJX2J1aWxkQ29udHJvbHM6IGZ1bmN0aW9uKCkKCQl7CgkJCXZhciBzZWxmID0gdGhpczsKCgkJCXNlbGYuY29udHJvbHMgPSAkKCI8ZGl2Lz4iKS5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuY29udHJvbHNDb250YWluZXJDbGFzcyk7CgoJCQlzZWxmLmFkZEFsbEJ1dHRvbiA9ICQoIjxidXR0b24gdHlwZT0nYnV0dG9uJy8+IikuY2xpY2soe3BpY2tMaXN0OiBzZWxmfSwgc2VsZi5fYWRkQWxsSGFuZGxlcikuaHRtbChzZWxmLm9wdGlvbnMuYWRkQWxsTGFiZWwpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5hZGRBbGxDbGFzcyk7CQkKCQkJc2VsZi5hZGRCdXR0b24gPSAkKCI8YnV0dG9uIHR5cGU9J2J1dHRvbicvPiIpLmNsaWNrKHtwaWNrTGlzdDogc2VsZn0sIHNlbGYuX2FkZEhhbmRsZXIpLmh0bWwoc2VsZi5vcHRpb25zLmFkZExhYmVsKS5hZGRDbGFzcyhzZWxmLm9wdGlvbnMuYWRkQ2xhc3MpOwoJCQlzZWxmLnJlbW92ZUJ1dHRvbiA9ICQoIjxidXR0b24gdHlwZT0nYnV0dG9uJy8+IikuY2xpY2soe3BpY2tMaXN0OiBzZWxmfSwgc2VsZi5fcmVtb3ZlSGFuZGxlcikuaHRtbChzZWxmLm9wdGlvbnMucmVtb3ZlTGFiZWwpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5yZW1vdmVDbGFzcyk7CgkJCXNlbGYucmVtb3ZlQWxsQnV0dG9uID0gJCgiPGJ1dHRvbiB0eXBlPSdidXR0b24nLz4iKS5jbGljayh7cGlja0xpc3Q6IHNlbGZ9LCBzZWxmLl9yZW1vdmVBbGxIYW5kbGVyKS5odG1sKHNlbGYub3B0aW9ucy5yZW1vdmVBbGxMYWJlbCkuYWRkQ2xhc3Moc2VsZi5vcHRpb25zLnJlbW92ZUFsbENsYXNzKTsKCgkJCWlmIChzZWxmLm9wdGlvbnMuZW5hYmxlQWRkQWxsKSB7CgkJCQlzZWxmLmNvbnRyb2xzLmFwcGVuZChzZWxmLmFkZEFsbEJ1dHRvbik7CgkJCX0KCQkJc2VsZi5jb250cm9scy5hcHBlbmQoc2VsZi5hZGRCdXR0b24pOwoJCQlzZWxmLmNvbnRyb2xzLmFwcGVuZChzZWxmLnJlbW92ZUJ1dHRvbik7CgkJCWlmIChzZWxmLm9wdGlvbnMuZW5hYmxlUmVtb3ZlQWxsKSB7CgkJCQlzZWxmLmNvbnRyb2xzLmFwcGVuZChzZWxmLnJlbW92ZUFsbEJ1dHRvbik7CgkJCX0KCgkJCXJldHVybiBzZWxmLmNvbnRyb2xzOwoJCX0sCgoJCV9wb3B1bGF0ZUxpc3RzOiBmdW5jdGlvbigpCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQlzZWxmLl90cmlnZ2VyKCJiZWZvcmVQb3B1bGF0ZSIpOwoKCQkJdmFyIHNvdXJjZUxpc3RJdGVtcyA9IFtdOwoJCQl2YXIgdGFyZ2V0TGlzdEl0ZW1zID0gW107CgkJCXZhciBzZWxlY3RJdGVtcyA9IHNlbGYuZWxlbWVudC5jaGlsZHJlbigpOwoKCQkJc2VsZWN0SXRlbXMubm90KCI6c2VsZWN0ZWQiKS5lYWNoKGZ1bmN0aW9uKCkKCQkJewoJCQkJc291cmNlTGlzdEl0ZW1zLnB1c2goIHNlbGYuX2NyZWF0ZURvcHBlbGdhbmdlcih0aGlzKSApOwoJCQl9KTsKCgkJCXNlbGVjdEl0ZW1zLmZpbHRlcigiOnNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpCgkJCXsKCQkJCXRhcmdldExpc3RJdGVtcy5wdXNoKCBzZWxmLl9jcmVhdGVEb3BwZWxnYW5nZXIodGhpcykgKTsKCQkJfSk7CgoJCQlzZWxmLnNvdXJjZUxpc3QuYXBwZW5kKHNvdXJjZUxpc3RJdGVtcy5qb2luKCJcbiIpKTsKCQkJc2VsZi50YXJnZXRMaXN0LmFwcGVuZCh0YXJnZXRMaXN0SXRlbXMuam9pbigiXG4iKSk7CgkJCXNlbGYuaW5zZXJ0SXRlbXMoc2VsZi5vcHRpb25zLml0ZW1zKTsKCgkJCXNlbGYuX3RyaWdnZXIoImFmdGVyUG9wdWxhdGUiKTsKCQl9LAoKCQlfYWRkSXRlbXM6IGZ1bmN0aW9uKGl0ZW1zKQoJCXsKCQkJdmFyIHNlbGYgPSB0aGlzOwoJCQkKCQkJc2VsZi5fdHJpZ2dlcigiYmVmb3JlQWRkIik7CgoJCQlzZWxmLnRhcmdldExpc3QuYXBwZW5kKCBzZWxmLl9yZW1vdmVTZWxlY3Rpb25zKGl0ZW1zKSApOwoKCQkJdmFyIGl0ZW1JZHMgPSBbXTsKCQkJaXRlbXMuZWFjaChmdW5jdGlvbigpCgkJCXsKCQkJCWl0ZW1JZHMucHVzaCggc2VsZi5fZ2V0SXRlbVZhbHVlKHRoaXMpICk7CgkJCX0pOwoKCQkJc2VsZi5lbGVtZW50LmNoaWxkcmVuKCkuZmlsdGVyKGZ1bmN0aW9uKCkKCQkJewoJCQkJcmV0dXJuICQuaW5BcnJheSh0aGlzLnZhbHVlLCBpdGVtSWRzKSAhPSAtMTsKCQkJfSkucHJvcCgic2VsZWN0ZWQiLCB0cnVlKTsKCgkJCXNlbGYuX3JlZnJlc2goKTsKCgkJCXNlbGYuX3RyaWdnZXIoImFmdGVyQWRkIiwgbnVsbCwgeyBpdGVtczogaXRlbXMgfSk7CgkJCXNlbGYuX3RyaWdnZXIoIm9uQ2hhbmdlIiwgbnVsbCwgeyB0eXBlOiAiYWRkIiwgaXRlbXM6IGl0ZW1zIH0pOwoJCX0sCgoJCV9yZW1vdmVJdGVtczogZnVuY3Rpb24oaXRlbXMpCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgkJCQoJCQlzZWxmLl90cmlnZ2VyKCJiZWZvcmVSZW1vdmUiKTsKCgkJCXNlbGYuc291cmNlTGlzdC5hcHBlbmQoIHNlbGYuX3JlbW92ZVNlbGVjdGlvbnMoaXRlbXMpICk7CgoJCQl2YXIgaXRlbUlkcyA9IFtdOwoJCQlpdGVtcy5lYWNoKGZ1bmN0aW9uKCkKCQkJewoJCQkJaXRlbUlkcy5wdXNoKCBzZWxmLl9nZXRJdGVtVmFsdWUodGhpcykgKTsKCQkJfSk7CgoJCQlzZWxmLmVsZW1lbnQuY2hpbGRyZW4oKS5maWx0ZXIoZnVuY3Rpb24oKQoJCQl7CgkJCQlyZXR1cm4gJC5pbkFycmF5KHRoaXMudmFsdWUsIGl0ZW1JZHMpICE9IC0xOwoJCQl9KS5wcm9wKCJzZWxlY3RlZCIsIGZhbHNlKTsKCgkJCXNlbGYuX3JlZnJlc2goKTsKCgkJCXNlbGYuX3RyaWdnZXIoImFmdGVyUmVtb3ZlIiwgbnVsbCwgeyBpdGVtczogaXRlbXMgfSk7CgkJCXNlbGYuX3RyaWdnZXIoIm9uQ2hhbmdlIiwgbnVsbCwgeyB0eXBlOiAicmVtb3ZlIiwgaXRlbXM6IGl0ZW1zIH0pOwoJCX0sCgoJCV9hZGRBbGxIYW5kbGVyOiBmdW5jdGlvbihlKQoJCXsKCQkJdmFyIHNlbGYgPSBlLmRhdGEucGlja0xpc3Q7CgoJCQlzZWxmLl90cmlnZ2VyKCJiZWZvcmVBZGRBbGwiKTsKCgkJCXZhciBpdGVtcyA9IHNlbGYuc291cmNlTGlzdC5jaGlsZHJlbigpOwoJCQlzZWxmLnRhcmdldExpc3QuYXBwZW5kKCBzZWxmLl9yZW1vdmVTZWxlY3Rpb25zKGl0ZW1zKSApOwoKCQkJc2VsZi5lbGVtZW50LmNoaWxkcmVuKCkubm90KCI6c2VsZWN0ZWQiKS5wcm9wKCJzZWxlY3RlZCIsIHRydWUpOwoKCQkJc2VsZi5fcmVmcmVzaCgpOwoKCQkJc2VsZi5fdHJpZ2dlcigiYWZ0ZXJBZGRBbGwiLCBudWxsLCB7IGl0ZW1zOiBpdGVtcyB9KTsKCQkJc2VsZi5fdHJpZ2dlcigib25DaGFuZ2UiLCBudWxsLCB7IHR5cGU6ICJhZGRBbGwiLCBpdGVtczogaXRlbXMgfSk7CgkJfSwKCgkJX2FkZEhhbmRsZXI6IGZ1bmN0aW9uKGUpCgkJewoJCQl2YXIgc2VsZiA9IGUuZGF0YS5waWNrTGlzdDsKCQkJdmFyIGl0ZW1zU2VsZWN0ZWRDb3VudCA9IHNlbGYuc291cmNlTGlzdC5jaGlsZHJlbigiLnVpLXNlbGVjdGVkIikubGVuZ3RoOwoJCQl2YXIgaXRlbXNBbHJlYWR5VGFyZ2V0dGVkQ291bnQgPSBzZWxmLnRhcmdldExpc3QuY2hpbGRyZW4oKS5sZW5ndGg7CgkJCXZhciBzcGFjZXNBdmFpbGFibGVDb3VudCA9IHNlbGYub3B0aW9ucy5zZWxlY3RMaW1pdCAtIGl0ZW1zQWxyZWFkeVRhcmdldHRlZENvdW50OwoJCQlpZiAoc2VsZi5vcHRpb25zLnNlbGVjdExpbWl0ID4gaXRlbXNBbHJlYWR5VGFyZ2V0dGVkQ291bnQgJiYgc3BhY2VzQXZhaWxhYmxlQ291bnQgPj0gaXRlbXNTZWxlY3RlZENvdW50KSB7CgkJCQlzZWxmLl9hZGRJdGVtcyhzZWxmLnNvdXJjZUxpc3QuY2hpbGRyZW4oIi51aS1zZWxlY3RlZCIpKTsKCQkJfQoJCX0sCgoJCV9yZW1vdmVIYW5kbGVyOiBmdW5jdGlvbihlKQoJCXsKCQkJdmFyIHNlbGYgPSBlLmRhdGEucGlja0xpc3Q7CgkJCXNlbGYuX3JlbW92ZUl0ZW1zKHNlbGYudGFyZ2V0TGlzdC5jaGlsZHJlbigiLnVpLXNlbGVjdGVkIikpOwoJCX0sCgoJCV9yZW1vdmVBbGxIYW5kbGVyOiBmdW5jdGlvbihlKQoJCXsKCQkJdmFyIHNlbGYgPSBlLmRhdGEucGlja0xpc3Q7CgoJCQlzZWxmLl90cmlnZ2VyKCJiZWZvcmVSZW1vdmVBbGwiKTsKCgkJCXZhciBpdGVtcyA9IHNlbGYudGFyZ2V0TGlzdC5jaGlsZHJlbigpOwoJCQlzZWxmLnNvdXJjZUxpc3QuYXBwZW5kKCBzZWxmLl9yZW1vdmVTZWxlY3Rpb25zKGl0ZW1zKSApOwoKCQkJc2VsZi5lbGVtZW50LmNoaWxkcmVuKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKS5wcm9wKCJzZWxlY3RlZCIsIGZhbHNlKTsKCgkJCXNlbGYuX3JlZnJlc2goKTsKCgkJCXNlbGYuX3RyaWdnZXIoImFmdGVyUmVtb3ZlQWxsIiwgbnVsbCwgeyBpdGVtczogaXRlbXMgfSk7CgkJCXNlbGYuX3RyaWdnZXIoIm9uQ2hhbmdlIiwgbnVsbCwgeyB0eXBlOiAicmVtb3ZlQWxsIiwgaXRlbXM6IGl0ZW1zIH0pOwoJCX0sCgkJCgkJX2tleXByZXNzSGFuZGxlcjogZnVuY3Rpb24oZSkgewoJCQl2YXIgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7CgkJCXZhciB0ZXN0U3RyID0gdGhpcy5tYXRjaFN0cmluZyArIGM7CgkJCXZhciBsaSA9ICQodGhpcykuY2hpbGRyZW4oJ2xpW2xhYmVsXj0iJyt0ZXN0U3RyKyciXScpLmZpcnN0KCk7CgkJCWlmIChsaS5zaXplKCkgPT0gMCkgewoJCQkJdGVzdFN0ciA9IHRoaXMubWF0Y2hTdHJpbmcgKyBjLnRvVXBwZXJDYXNlKCk7CgkJCQlsaSA9ICQodGhpcykuY2hpbGRyZW4oJ2xpW2xhYmVsXj0iJyt0ZXN0U3RyKyciXScpLmZpcnN0KCk7CgkJCX0KCQkJaWYgKGxpLnNpemUoKSA+IDApIHsKCQkJCSQodGhpcykuY2hpbGRyZW4oImxpIikucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGVkIik7CgkJCQlsaS5hZGRDbGFzcygidWktc2VsZWN0ZWQiKTsKCQkJCSQodGhpcykuc2Nyb2xsVG8obGkpOwoJCQl9CgoJCQl2YXIgc2VsZiA9IHRoaXM7CgkJCXRoaXMubWF0Y2hTdHJpbmcgPSB0ZXN0U3RyOwoJCQljbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTsKCQkJdGhpcy50aW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtzZWxmLm1hdGNoU3RyaW5nID0gIiI7fSwgNTAwKTsKCQl9LAoKCQlfcmVmcmVzaDogZnVuY3Rpb24oKQoJCXsKCQkJdmFyIHNlbGYgPSB0aGlzOwoKCQkJc2VsZi5fdHJpZ2dlcigiYmVmb3JlUmVmcmVzaCIpOwoKCQkJc2VsZi5fcmVmcmVzaENvbnRyb2xzKCk7CgoJCQkvLyBTb3J0IHRoZSBzZWxlY3Rpb24gbGlzdHMuCgkJCWlmKHNlbGYub3B0aW9ucy5zb3J0SXRlbXMpCgkJCXsKCQkJCXNlbGYuX3NvcnRJdGVtcyhzZWxmLnNvdXJjZUxpc3QsIHNlbGYub3B0aW9ucyk7CgkJCQlzZWxmLl9zb3J0SXRlbXMoc2VsZi50YXJnZXRMaXN0LCBzZWxmLm9wdGlvbnMpOwoJCQl9CgoJCQlzZWxmLl90cmlnZ2VyKCJhZnRlclJlZnJlc2giKTsKCQl9LAoKCQlfcmVmcmVzaENvbnRyb2xzOiBmdW5jdGlvbigpCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQlzZWxmLl90cmlnZ2VyKCJiZWZvcmVSZWZyZXNoQ29udHJvbHMiKTsKCgkJCS8vIEVuYWJsZS9kaXNhYmxlIHRoZSBBZGQgQWxsIGJ1dHRvbiBzdGF0ZS4KCQkJaWYoc2VsZi5zb3VyY2VMaXN0LmNoaWxkcmVuKCkubGVuZ3RoKQoJCQl7CgkJCQlzZWxmLmFkZEFsbEJ1dHRvbi5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpOwoJCQl9CgkJCWVsc2UKCQkJewoJCQkJc2VsZi5hZGRBbGxCdXR0b24uYXR0cigiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsKCQkJfQoKCQkJLy8gRW5hYmxlL2Rpc2FibGUgdGhlIFJlbW92ZSBBbGwgYnV0dG9uIHN0YXRlLgoJCQlpZihzZWxmLnRhcmdldExpc3QuY2hpbGRyZW4oKS5sZW5ndGgpCgkJCXsKCQkJCXNlbGYucmVtb3ZlQWxsQnV0dG9uLnJlbW92ZUF0dHIoImRpc2FibGVkIik7CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlzZWxmLnJlbW92ZUFsbEJ1dHRvbi5hdHRyKCJkaXNhYmxlZCIsICJkaXNhYmxlZCIpOwoJCQl9CgoJCQkvLyBFbmFibGUvZGlzYWJsZSB0aGUgQWRkIGJ1dHRvbiBzdGF0ZS4KCQkJdmFyIHNlbGVjdGVkU291cmNlQ291bnQgPSBzZWxmLnNvdXJjZUxpc3QuY2hpbGRyZW4oIi51aS1zZWxlY3RpbmcsIC51aS1zZWxlY3RlZCIpLmxlbmd0aDsKCQkJdmFyIHRhcmdldENvdW50ID0gc2VsZi50YXJnZXRMaXN0LmNoaWxkcmVuKCkubGVuZ3RoOwoJCQlpZihzZWxlY3RlZFNvdXJjZUNvdW50ICYmIHNlbGYub3B0aW9ucy5zZWxlY3RMaW1pdCA+PSAoc2VsZWN0ZWRTb3VyY2VDb3VudCArIHRhcmdldENvdW50KSkKCQkJewoJCQkJc2VsZi5hZGRCdXR0b24ucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTsKCQkJfQoJCQllbHNlCgkJCXsKCQkJCXNlbGYuYWRkQnV0dG9uLmF0dHIoImRpc2FibGVkIiwgImRpc2FibGVkIik7CgkJCX0KCgkJCS8vIEVuYWJsZS9kaXNhYmxlIHRoZSBSZW1vdmUgYnV0dG9uIHN0YXRlLgoJCQlpZihzZWxmLnRhcmdldExpc3QuY2hpbGRyZW4oIi51aS1zZWxlY3RpbmcsIC51aS1zZWxlY3RlZCIpLmxlbmd0aCkKCQkJewoJCQkJc2VsZi5yZW1vdmVCdXR0b24ucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTsKCQkJfQoJCQllbHNlCgkJCXsKCQkJCXNlbGYucmVtb3ZlQnV0dG9uLmF0dHIoImRpc2FibGVkIiwgImRpc2FibGVkIik7CgkJCX0KCgkJCXNlbGYuX3RyaWdnZXIoImFmdGVyUmVmcmVzaENvbnRyb2xzIik7CgkJfSwKCgkJX3NvcnRJdGVtczogZnVuY3Rpb24obGlzdCwgb3B0aW9ucykKCQl7CgkJCXZhciBpdGVtcyA9IG5ldyBBcnJheSgpOwoJCQl2YXIgc29ydERpciA9IChvcHRpb25zLnNvcnREaXIgPT0gImFzYyIpID8gMSA6IC0xOwoKCQkJbGlzdC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKQoJCQl7CgkJCQlpdGVtcy5wdXNoKCAkKHRoaXMpICk7CgkJCX0pOwoKCQkJaXRlbXMuc29ydChmdW5jdGlvbihhLCBiKQoJCQl7CgkJCQlpZihhLmF0dHIob3B0aW9ucy5zb3J0QXR0cmlidXRlKSA+IGIuYXR0cihvcHRpb25zLnNvcnRBdHRyaWJ1dGUpKQoJCQkJewoJCQkJCXJldHVybiAxICogc29ydERpcjsKCQkJCX0KCQkJCWVsc2UgaWYoYS5hdHRyKG9wdGlvbnMuc29ydEF0dHJpYnV0ZSkgPT0gYi5hdHRyKG9wdGlvbnMuc29ydEF0dHJpYnV0ZSkpCgkJCQl7CgkJCQkJcmV0dXJuIDA7CgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJcmV0dXJuIC0xICogc29ydERpcjsKCQkJCX0KCQkJfSk7CgoJCQlsaXN0LmVtcHR5KCk7CgoJCQlmb3IodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspCgkJCXsKCQkJCWxpc3QuYXBwZW5kKGl0ZW1zW2ldKTsKCQkJfQoJCX0sCgoJCV9jaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbihlKQoJCXsKCQkJdmFyIHNlbGYgPSBlLmRhdGEucGlja0xpc3Q7CgkJCSQodGhpcykuZm9jdXMoKTsKCQkJc2VsZi5fcmVmcmVzaENvbnRyb2xzKCk7CgkJfSwKCgkJX3JlbW92ZVNlbGVjdGlvbjogZnVuY3Rpb24obGlzdEl0ZW0pCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQlyZXR1cm4gbGlzdEl0ZW0KCQkJCQkucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGVkIikKCQkJCQkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhpZ2hsaWdodCIpCgkJCQkJLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5zZWxlY3RlZExpc3RJdGVtQ2xhc3MpOwoJCX0sCgoJCV9yZW1vdmVTZWxlY3Rpb25zOiBmdW5jdGlvbihsaXN0SXRlbXMpCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQlsaXN0SXRlbXMuZWFjaChmdW5jdGlvbigpCgkJCXsKCQkJCSQodGhpcykKCQkJCQkJLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RlZCIpCgkJCQkJCS5yZW1vdmVDbGFzcygidWktc3RhdGUtaGlnaGxpZ2h0IikKCQkJCQkJLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5zZWxlY3RlZExpc3RJdGVtQ2xhc3MpOwoJCQl9KTsKCgkJCXJldHVybiBsaXN0SXRlbXM7CgkJfSwKCgkJX3NldE9wdGlvbjogZnVuY3Rpb24oa2V5LCB2YWx1ZSkKCQl7CgkJCXN3aXRjaChrZXkpCgkJCXsKCQkJCWNhc2UgImNsZWFyIjoKCQkJCXsKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoKCQkJJC5XaWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKCQl9LAoKCQlkZXN0cm95OiBmdW5jdGlvbigpCgkJewoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQlzZWxmLl90cmlnZ2VyKCJvbkRlc3Ryb3kiKTsKCgkJCXNlbGYucGlja0xpc3QucmVtb3ZlKCk7CgkJCXNlbGYuZWxlbWVudC5zaG93KCk7CgoJCQkkLldpZGdldC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHNlbGYpOwoJCX0sCgoJCWluc2VydEl0ZW1zOiBmdW5jdGlvbihpdGVtcykKCQl7CgkJCXZhciBzZWxmID0gdGhpczsKCgkJCXZhciBzZWxlY3RJdGVtcyA9IFtdOwoJCQl2YXIgc291cmNlSXRlbXMgPSBbXTsKCQkJdmFyIHRhcmdldEl0ZW1zID0gW107CgoJCQkkKGl0ZW1zKS5lYWNoKGZ1bmN0aW9uKCkKCQkJewoJCQkJdmFyIHNlbGVjdEl0ZW0gPSBzZWxmLl9jcmVhdGVTZWxlY3RJdGVtKHRoaXMpOwoJCQkJdmFyIGxpc3RJdGVtID0gc2VsZi5fY3JlYXRlTGlzdEl0ZW0odGhpcyk7CgoJCQkJc2VsZWN0SXRlbXMucHVzaChzZWxlY3RJdGVtKTsKCgkJCQlpZih0aGlzLnNlbGVjdGVkKQoJCQkJewoJCQkJCXRhcmdldEl0ZW1zLnB1c2gobGlzdEl0ZW0pOwoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCXNvdXJjZUl0ZW1zLnB1c2gobGlzdEl0ZW0pOwoJCQkJfQoJCQl9KTsKCgkJCXNlbGYuZWxlbWVudC5hcHBlbmQoc2VsZWN0SXRlbXMuam9pbigiXG4iKSk7CgkJCXNlbGYuc291cmNlTGlzdC5hcHBlbmQoc291cmNlSXRlbXMuam9pbigiXG4iKSk7CgkJCXNlbGYudGFyZ2V0TGlzdC5hcHBlbmQodGFyZ2V0SXRlbXMuam9pbigiXG4iKSk7CgoJCQlzZWxmLl9yZWZyZXNoKCk7CgkJfSwKCgkJX2NyZWF0ZVNlbGVjdEl0ZW06IGZ1bmN0aW9uKGl0ZW0pCgkJewoJCQl2YXIgc2VsZWN0ZWQgPSBpdGVtLnNlbGVjdGVkID8gIiBzZWxlY3RlZD0nc2VsZWN0ZWQnIiA6ICIiOwoJCQlyZXR1cm4gIjxvcHRpb24gdmFsdWU9JyIgKyBpdGVtLnZhbHVlICsgIiciICsgc2VsZWN0ZWQgKyAiPiIgKyBpdGVtLmxhYmVsICsgIjwvb3B0aW9uPiI7CgkJfSwKCgkJX2NyZWF0ZUxpc3RJdGVtOiBmdW5jdGlvbihpdGVtKQoJCXsKCQkJdmFyIHNlbGYgPSB0aGlzOwoKCQkJaWYoaXRlbS5lbGVtZW50ICE9IHVuZGVmaW5lZCkKCQkJewoJCQkJdmFyIHJpY2hJdGVtSHRtbCA9IGl0ZW0uZWxlbWVudC5jbG9uZSgpLndyYXAoIjxkaXY+IikucGFyZW50KCkuaHRtbCgpOwoJCQkJaXRlbS5lbGVtZW50LmhpZGUoKTsKCQkJCXJldHVybiAiPGxpICIgKyBzZWxmLm9wdGlvbnMubGlzdEl0ZW1WYWx1ZUF0dHJpYnV0ZSArICI9JyIgKyBpdGVtLnZhbHVlICsgIicgbGFiZWw9JyIgKyBpdGVtLmxhYmVsICsgIicgY2xhc3M9JyIgKyBzZWxmLm9wdGlvbnMubGlzdEl0ZW1DbGFzcyArICIgIiArIHNlbGYub3B0aW9ucy5yaWNoTGlzdEl0ZW1DbGFzcyArICInPiIgKyByaWNoSXRlbUh0bWwgKyAiPC9saT4iOwoJCQl9CgoJCQlyZXR1cm4gIjxsaSAiICsgc2VsZi5vcHRpb25zLmxpc3RJdGVtVmFsdWVBdHRyaWJ1dGUgKyAiPSciICsgaXRlbS52YWx1ZSArICInIGxhYmVsPSciICsgaXRlbS5sYWJlbCArICInIGNsYXNzPSciICsgc2VsZi5vcHRpb25zLmxpc3RJdGVtQ2xhc3MgKyAiJz4iICsgaXRlbS5sYWJlbCArICI8L2xpPiI7CgkJfSwKCgkJX2NyZWF0ZURvcHBlbGdhbmdlcjogZnVuY3Rpb24oaXRlbSkKCQl7CgkJCXZhciBzZWxmID0gdGhpczsKCQkJaWYgKHNlbGYub3B0aW9ucy54c3MpIHsJCQkJCgkJCQlyZXR1cm4gIjxsaSAiICsgc2VsZi5vcHRpb25zLmxpc3RJdGVtVmFsdWVBdHRyaWJ1dGUgKyAiPSciICsgJChpdGVtKS52YWwoKSArICInIGxhYmVsPSciICsgJChpdGVtKS5odG1sKCkgKyAiJyBjbGFzcz0nIiArIHNlbGYub3B0aW9ucy5saXN0SXRlbUNsYXNzICsgIic+IiArICQoaXRlbSkuaHRtbCgpICsgIjwvbGk+IjsKCQkJfQoJCQllbHNlIHsKCQkJCXJldHVybiAiPGxpICIgKyBzZWxmLm9wdGlvbnMubGlzdEl0ZW1WYWx1ZUF0dHJpYnV0ZSArICI9JyIgKyAkKGl0ZW0pLnZhbCgpICsgIicgbGFiZWw9JyIgKyAkKGl0ZW0pLnRleHQoKSArICInIGNsYXNzPSciICsgc2VsZi5vcHRpb25zLmxpc3RJdGVtQ2xhc3MgKyAiJz4iICsgJChpdGVtKS50ZXh0KCkgKyAiPC9saT4iOwoJCQl9CgkJfSwKCgkJX2dldEl0ZW1WYWx1ZTogZnVuY3Rpb24oaXRlbSkKCQl7CgkJCXZhciBzZWxmID0gdGhpczsKCQkJcmV0dXJuICQoaXRlbSkuYXR0cihzZWxmLm9wdGlvbnMubGlzdEl0ZW1WYWx1ZUF0dHJpYnV0ZSk7CgkJfQoJfSk7Cn0oalF1ZXJ5KSk7Cg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707609" offset="0" length="5072" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="172" hostname="omniconv" path="/OMNIStatic/scripts/jquery/jquery.scrollTo.js" url="http://omniconv/OMNIStatic/scripts/jquery/jquery.scrollTo.js" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.519-07:00" startTime="102707609" endTime="102707625">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJjYXY4WTZDTlFmYktzK3E1am94eGdiVkZhOTdWeG9Zc0J4ejduc2loOFkxRzBudGNvcGg5NDVoY0J2aUdpeUZCbjl5TUN6Vm1jcTFMdXBBVFo1ZStoSEsxQXROMm9NUjNxakUwalFEdllnOGkxdVJqMzhGcnpyaENaUGZMcHZBVk5zb1BWajRMcDJyWjVJZDZ0bk9pZzd0NHNmWUdRc0NwcVdWVlRERzltU0lZUzc1OTdBdDlCNS9KTjk1WFQ0TDBhSUQ0UUsydThGL28rMXJieXVUeGllditEZ1o2L0NObDN4aXd2L1lxakowazd2N1Y1OGxCVjdWcVRTZ21OaHR0c1RkdTJwMGdYNDJXcFZnN1hLdnJyM1BnL1dabVM0U0xkYVMrTjRLRXhUdGdiQzRHUitLb0lLUTBQckRGMVhldGVsTGZtZVJwTU8vZHdwM2llSkhIQkdDV2tSVk10dWhweVBnZmlvZnpZWllTZW81WGM3aThjVG1ZUWJQdzE0SmNsbmgvY0FuY0dqOU9lWFUwcnhVU0o0ZnhzZUJkd1BrcS9UMnB4eDFNUWhDbUJRYVVjVzd4MVEzOGVaM1plTG9RRXNERXh1SHppTkZTTnFib3Z0RUtFWlNjNktMWTBnMEoxYXBGMkZ3aXhDK2l0UDBQVzhNK2lRUFhBajBNcmcxZ21HREFKVjhXckNxMXhkUlRlUHFMdDcrSWhLWHZ3bllocTRyNUQ4SkpZYU1SajZKd1hQdz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvanF1ZXJ5L2pxdWVyeS5zY3JvbGxUby5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYmNhdjhZNkNOUWZiS3MrcTVqb3h4Z2JWRmE5N1Z4b1lzQnh6N25zaWg4WTFHMG50Y29waDk0NWhjQnZpR2l5RkJuOXlNQ3pWbWNxMUx1cEFUWjVlK2hISzFBdE4yb01SM3FqRTBqUUR2WWc4aTF1UmozOEZyenJoQ1pQZkxwdkFWTnNvUFZqNExwMnJaNUlkNnRuT2lnN3Q0c2ZZR1FzQ3BxV1ZWVERHOW1TSVlTNzU5N0F0OUI1L0pOOTVYVDRMMGFJRDRRSzJ1OEYvbysxcmJ5dVR4aWV2K0RnWjYvQ05sM3hpd3YvWXFqSjBrN3Y3VjU4bEJWN1ZxVFNnbU5odHRzVGR1MnAwZ1g0MldwVmc3WEt2cnIzUGcvV1ptUzRTTGRhUytONEtFeFR0Z2JDNEdSK0tvSUtRMFByREYxWGV0ZWxMZm1lUnBNTy9kd3AzaWVKSEhCR0NXa1JWTXR1aHB5UGdmaW9mellaWVNlbzVYYzdpOGNUbVlRYlB3MTRKY2xuaC9jQW5jR2o5T2VYVTByeFVTSjRmeHNlQmR3UGtxL1QycHh4MU1RaENtQlFhVWNXN3gxUTM4ZVozWmVMb1FFc0RFeHVIemlORlNOcWJvdnRFS0VaU2M2S0xZMGcwSjFhcEYyRndpeEMraXRQMFBXOE0raVFQWEFqME1yZzFnbUdEQUpWOFdyQ3ExeGRSVGVQcUx0NytJaEtYdnduWWhxNHI1RDhKSllhTVJqNkp3WFB3PT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVqYTZKYVpNYThUMW9JaE5JNHJPS0IwSzllamNIK1FVQXNZc3Y5Zy9xaWFnbDRPaksycE52OU5HQzRTUGNIQ1VWaUdnYVNOOXlLK3gyeVhjclhRS24vQm00aWZoNjd6ZnVzSE5RWGFFTUh6aXBvZjMrM01pNDVXRWZscTdZeDBtNW1vVlFTTy9ROTBIZHRHUFRoR1U9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MjczMA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdWphNkphWk1hOFQxb0loTkk0ck9LQjBLOWVqY0grUVVBc1lzdjlnL3FpYWdsNE9qSzJwTnY5TkdDNFNQY0hDVVZpR2dhU045eUsreDJ5WGNyWFFLbi9CbTRpZmg2N3pmdXNITlFYYUVNSHppcG9mMyszTWk0NVdFZmxxN1l4MG01bW9WUVNPL1E5MEhkdEdQVGhHVT0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogMjczMA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyohCiAqIGpRdWVyeS5zY3JvbGxUbwogKiBDb3B5cmlnaHQgKGMpIDIwMDctMjAxNCBBcmllbCBGbGVzbGVyIC0gYWZsZXNsZXI8YT5nbWFpbDxkPmNvbSB8IGh0dHA6Ly9mbGVzbGVyLmJsb2dzcG90LmNvbQogKiBMaWNlbnNlZCB1bmRlciBNSVQKICogaHR0cDovL2ZsZXNsZXIuYmxvZ3Nwb3QuY29tLzIwMDcvMTAvanF1ZXJ5c2Nyb2xsdG8uaHRtbAogKiBAcHJvamVjdERlc2NyaXB0aW9uIEVhc3kgZWxlbWVudCBzY3JvbGxpbmcgdXNpbmcgalF1ZXJ5LgogKiBAYXV0aG9yIEFyaWVsIEZsZXNsZXIKICogQHZlcnNpb24gMS40LjEzCiAqLwo7KGZ1bmN0aW9uIChkZWZpbmUpIHsKCSd1c2Ugc3RyaWN0JzsKCglkZWZpbmUoWydqcXVlcnknXSwgZnVuY3Rpb24gKCQpIHsKCgkJdmFyICRzY3JvbGxUbyA9ICQuc2Nyb2xsVG8gPSBmdW5jdGlvbiggdGFyZ2V0LCBkdXJhdGlvbiwgc2V0dGluZ3MgKSB7CgkJCXJldHVybiAkKHdpbmRvdykuc2Nyb2xsVG8oIHRhcmdldCwgZHVyYXRpb24sIHNldHRpbmdzICk7CgkJfTsKCgkJJHNjcm9sbFRvLmRlZmF1bHRzID0gewoJCQlheGlzOid4eScsCgkJCWR1cmF0aW9uOiBwYXJzZUZsb2F0KCQuZm4uanF1ZXJ5KSA+PSAxLjMgPyAwIDogMSwKCQkJbGltaXQ6dHJ1ZQoJCX07CgoJCS8vIFJldHVybnMgdGhlIGVsZW1lbnQgdGhhdCBuZWVkcyB0byBiZSBhbmltYXRlZCB0byBzY3JvbGwgdGhlIHdpbmRvdy4KCQkvLyBLZXB0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAoc3BlY2lhbGx5IGZvciBsb2NhbFNjcm9sbCAmIHNlcmlhbFNjcm9sbCkKCQkkc2Nyb2xsVG8ud2luZG93ID0gZnVuY3Rpb24oIHNjb3BlICkgewoJCQlyZXR1cm4gJCh3aW5kb3cpLl9zY3JvbGxhYmxlKCk7CgkJfTsKCgkJLy8gSGFjaywgaGFjaywgaGFjayA6KQoJCS8vIFJldHVybnMgdGhlIHJlYWwgZWxlbWVudHMgdG8gc2Nyb2xsIChzdXBwb3J0cyB3aW5kb3cvaWZyYW1lcywgZG9jdW1lbnRzIGFuZCByZWd1bGFyIG5vZGVzKQoJCSQuZm4uX3Njcm9sbGFibGUgPSBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCkgewoJCQkJdmFyIGVsZW0gPSB0aGlzLAoJCQkJCWlzV2luID0gIWVsZW0ubm9kZU5hbWUgfHwgJC5pbkFycmF5KCBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIFsnaWZyYW1lJywnI2RvY3VtZW50JywnaHRtbCcsJ2JvZHknXSApICE9IC0xOwoKCQkJCQlpZiAoIWlzV2luKQoJCQkJCQlyZXR1cm4gZWxlbTsKCgkJCQl2YXIgZG9jID0gKGVsZW0uY29udGVudFdpbmRvdyB8fCBlbGVtKS5kb2N1bWVudCB8fCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbTsKCgkJCQlyZXR1cm4gL3dlYmtpdC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgZG9jLmNvbXBhdE1vZGUgPT0gJ0JhY2tDb21wYXQnID8KCQkJCQlkb2MuYm9keSA6CgkJCQkJZG9jLmRvY3VtZW50RWxlbWVudDsKCQkJfSk7CgkJfTsKCgkJJC5mbi5zY3JvbGxUbyA9IGZ1bmN0aW9uKCB0YXJnZXQsIGR1cmF0aW9uLCBzZXR0aW5ncyApIHsKCQkJaWYgKHR5cGVvZiBkdXJhdGlvbiA9PSAnb2JqZWN0JykgewoJCQkJc2V0dGluZ3MgPSBkdXJhdGlvbjsKCQkJCWR1cmF0aW9uID0gMDsKCQkJfQoJCQlpZiAodHlwZW9mIHNldHRpbmdzID09ICdmdW5jdGlvbicpCgkJCQlzZXR0aW5ncyA9IHsgb25BZnRlcjpzZXR0aW5ncyB9OwoKCQkJaWYgKHRhcmdldCA9PSAnbWF4JykKCQkJCXRhcmdldCA9IDllOTsKCgkJCXNldHRpbmdzID0gJC5leHRlbmQoIHt9LCAkc2Nyb2xsVG8uZGVmYXVsdHMsIHNldHRpbmdzICk7CgkJCS8vIFNwZWVkIGlzIHN0aWxsIHJlY29nbml6ZWQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CgkJCWR1cmF0aW9uID0gZHVyYXRpb24gfHwgc2V0dGluZ3MuZHVyYXRpb247CgkJCS8vIE1ha2Ugc3VyZSB0aGUgc2V0dGluZ3MgYXJlIGdpdmVuIHJpZ2h0CgkJCXNldHRpbmdzLnF1ZXVlID0gc2V0dGluZ3MucXVldWUgJiYgc2V0dGluZ3MuYXhpcy5sZW5ndGggPiAxOwoKCQkJaWYgKHNldHRpbmdzLnF1ZXVlKQoJCQkJLy8gTGV0J3Mga2VlcCB0aGUgb3ZlcmFsbCBkdXJhdGlvbgoJCQkJZHVyYXRpb24gLz0gMjsKCQkJc2V0dGluZ3Mub2Zmc2V0ID0gYm90aCggc2V0dGluZ3Mub2Zmc2V0ICk7CgkJCXNldHRpbmdzLm92ZXIgPSBib3RoKCBzZXR0aW5ncy5vdmVyICk7CgoJCQlyZXR1cm4gdGhpcy5fc2Nyb2xsYWJsZSgpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkvLyBOdWxsIHRhcmdldCB5aWVsZHMgbm90aGluZywganVzdCBsaWtlIGpRdWVyeSBkb2VzCgkJCQlpZiAodGFyZ2V0ID09IG51bGwpIHJldHVybjsKCgkJCQl2YXIgZWxlbSA9IHRoaXMsCgkJCQkJJGVsZW0gPSAkKGVsZW0pLAoJCQkJCXRhcmcgPSB0YXJnZXQsIHRvZmYsIGF0dHIgPSB7fSwKCQkJCQl3aW4gPSAkZWxlbS5pcygnaHRtbCxib2R5Jyk7CgoJCQkJc3dpdGNoICh0eXBlb2YgdGFyZykgewoJCQkJCS8vIEEgbnVtYmVyIHdpbGwgcGFzcyB0aGUgcmVnZXgKCQkJCQljYXNlICdudW1iZXInOgoJCQkJCWNhc2UgJ3N0cmluZyc6CgkJCQkJCWlmICgvXihbKy1dPT8pP1xkKyhcLlxkKyk/KHB4fCUpPyQvLnRlc3QodGFyZykpIHsKCQkJCQkJCXRhcmcgPSBib3RoKCB0YXJnICk7CgkJCQkJCQkvLyBXZSBhcmUgZG9uZQoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQkJLy8gUmVsYXRpdmUvQWJzb2x1dGUgc2VsZWN0b3IsIG5vIGJyZWFrIQoJCQkJCQl0YXJnID0gd2luID8gJCh0YXJnKSA6ICQodGFyZywgdGhpcyk7CgkJCQkJCWlmICghdGFyZy5sZW5ndGgpIHJldHVybjsKCQkJCQljYXNlICdvYmplY3QnOgoJCQkJCQkvLyBET01FbGVtZW50IC8galF1ZXJ5CgkJCQkJCWlmICh0YXJnLmlzIHx8IHRhcmcuc3R5bGUpCgkJCQkJCQkvLyBHZXQgdGhlIHJlYWwgcG9zaXRpb24gb2YgdGhlIHRhcmdldAoJCQkJCQkJdG9mZiA9ICh0YXJnID0gJCh0YXJnKSkub2Zmc2V0KCk7CgkJCQl9CgoJCQkJdmFyIG9mZnNldCA9ICQuaXNGdW5jdGlvbihzZXR0aW5ncy5vZmZzZXQpICYmIHNldHRpbmdzLm9mZnNldChlbGVtLCB0YXJnKSB8fCBzZXR0aW5ncy5vZmZzZXQ7CgoJCQkJJC5lYWNoKCBzZXR0aW5ncy5heGlzLnNwbGl0KCcnKSwgZnVuY3Rpb24oIGksIGF4aXMgKSB7CgkJCQkJdmFyIFBvcwk9IGF4aXMgPT0gJ3gnID8gJ0xlZnQnIDogJ1RvcCcsCgkJCQkJCXBvcyA9IFBvcy50b0xvd2VyQ2FzZSgpLAoJCQkJCQlrZXkgPSAnc2Nyb2xsJyArIFBvcywKCQkJCQkJb2xkID0gZWxlbVtrZXldLAoJCQkJCQltYXggPSAkc2Nyb2xsVG8ubWF4KGVsZW0sIGF4aXMpOwoKCQkJCQlpZiAodG9mZikgey8vIGpRdWVyeSAvIERPTUVsZW1lbnQKCQkJCQkJYXR0cltrZXldID0gdG9mZltwb3NdICsgKCB3aW4gPyAwIDogb2xkIC0gJGVsZW0ub2Zmc2V0KClbcG9zXSApOwoKCQkJCQkJLy8gSWYgaXQncyBhIGRvbSBlbGVtZW50LCByZWR1Y2UgdGhlIG1hcmdpbgoJCQkJCQlpZiAoc2V0dGluZ3MubWFyZ2luKSB7CgkJCQkJCQlhdHRyW2tleV0gLT0gcGFyc2VJbnQodGFyZy5jc3MoJ21hcmdpbicrUG9zKSkgfHwgMDsKCQkJCQkJCWF0dHJba2V5XSAtPSBwYXJzZUludCh0YXJnLmNzcygnYm9yZGVyJytQb3MrJ1dpZHRoJykpIHx8IDA7CgkJCQkJCX0KCgkJCQkJCWF0dHJba2V5XSArPSBvZmZzZXRbcG9zXSB8fCAwOwoKCQkJCQkJaWYoc2V0dGluZ3Mub3Zlcltwb3NdKQoJCQkJCQkJLy8gU2Nyb2xsIHRvIGEgZnJhY3Rpb24gb2YgaXRzIHdpZHRoL2hlaWdodAoJCQkJCQkJYXR0cltrZXldICs9IHRhcmdbYXhpcz09J3gnPyd3aWR0aCc6J2hlaWdodCddKCkgKiBzZXR0aW5ncy5vdmVyW3Bvc107CgkJCQkJfSBlbHNlIHsKCQkJCQkJdmFyIHZhbCA9IHRhcmdbcG9zXTsKCQkJCQkJLy8gSGFuZGxlIHBlcmNlbnRhZ2UgdmFsdWVzCgkJCQkJCWF0dHJba2V5XSA9IHZhbC5zbGljZSAmJiB2YWwuc2xpY2UoLTEpID09ICclJyA/CgkJCQkJCQlwYXJzZUZsb2F0KHZhbCkgLyAxMDAgKiBtYXgKCQkJCQkJCTogdmFsOwoJCQkJCX0KCgkJCQkJLy8gTnVtYmVyIG9yICdudW1iZXInCgkJCQkJaWYgKHNldHRpbmdzLmxpbWl0ICYmIC9eXGQrJC8udGVzdChhdHRyW2tleV0pKQoJCQkJCQkvLyBDaGVjayB0aGUgbGltaXRzCgkJCQkJCWF0dHJba2V5XSA9IGF0dHJba2V5XSA8PSAwID8gMCA6IE1hdGgubWluKCBhdHRyW2tleV0sIG1heCApOwoKCQkJCQkvLyBRdWV1ZWluZyBheGVzCgkJCQkJaWYgKCFpICYmIHNldHRpbmdzLnF1ZXVlKSB7CgkJCQkJCS8vIERvbid0IHdhc3RlIHRpbWUgYW5pbWF0aW5nLCBpZiB0aGVyZSdzIG5vIG5lZWQuCgkJCQkJCWlmIChvbGQgIT0gYXR0cltrZXldKQoJCQkJCQkJLy8gSW50ZXJtZWRpYXRlIGFuaW1hdGlvbgoJCQkJCQkJYW5pbWF0ZSggc2V0dGluZ3Mub25BZnRlckZpcnN0ICk7CgkJCQkJCS8vIERvbid0IGFuaW1hdGUgdGhpcyBheGlzIGFnYWluIGluIHRoZSBuZXh0IGl0ZXJhdGlvbi4KCQkJCQkJZGVsZXRlIGF0dHJba2V5XTsKCQkJCQl9CgkJCQl9KTsKCgkJCQlhbmltYXRlKCBzZXR0aW5ncy5vbkFmdGVyICk7CgoJCQkJZnVuY3Rpb24gYW5pbWF0ZSggY2FsbGJhY2sgKSB7CgkJCQkJJGVsZW0uYW5pbWF0ZSggYXR0ciwgZHVyYXRpb24sIHNldHRpbmdzLmVhc2luZywgY2FsbGJhY2sgJiYgZnVuY3Rpb24oKSB7CgkJCQkJCWNhbGxiYWNrLmNhbGwodGhpcywgdGFyZywgc2V0dGluZ3MpOwoJCQkJCX0pOwoJCQkJfQoJCQl9KS5lbmQoKTsKCQl9OwoKCQkvLyBNYXggc2Nyb2xsaW5nIHBvc2l0aW9uLCB3b3JrcyBvbiBxdWlya3MgbW9kZQoJCS8vIEl0IG9ubHkgZmFpbHMgKG5vdCB0b28gYmFkbHkpIG9uIElFLCBxdWlya3MgbW9kZS4KCQkkc2Nyb2xsVG8ubWF4ID0gZnVuY3Rpb24oIGVsZW0sIGF4aXMgKSB7CgkJCXZhciBEaW0gPSBheGlzID09ICd4JyA/ICdXaWR0aCcgOiAnSGVpZ2h0JywKCQkJCXNjcm9sbCA9ICdzY3JvbGwnK0RpbTsKCgkJCWlmICghJChlbGVtKS5pcygnaHRtbCxib2R5JykpCgkJCQlyZXR1cm4gZWxlbVtzY3JvbGxdIC0gJChlbGVtKVtEaW0udG9Mb3dlckNhc2UoKV0oKTsKCgkJCXZhciBzaXplID0gJ2NsaWVudCcgKyBEaW0sCgkJCQlodG1sID0gZWxlbS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwKCQkJCWJvZHkgPSBlbGVtLm93bmVyRG9jdW1lbnQuYm9keTsKCgkJCXJldHVybiBNYXRoLm1heCggaHRtbFtzY3JvbGxdLCBib2R5W3Njcm9sbF0gKSAtIE1hdGgubWluKCBodG1sW3NpemVdICAsIGJvZHlbc2l6ZV0gICApOwoJCX07CgoJCWZ1bmN0aW9uIGJvdGgoIHZhbCApIHsKCQkJcmV0dXJuICQuaXNGdW5jdGlvbih2YWwpIHx8IHR5cGVvZiB2YWwgPT0gJ29iamVjdCcgPyB2YWwgOiB7IHRvcDp2YWwsIGxlZnQ6dmFsIH07CgkJfQoKCQkvLyBBTUQgcmVxdWlyZW1lbnQKCQlyZXR1cm4gJHNjcm9sbFRvOwoJfSkKfSh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUgOiBmdW5jdGlvbiAoZGVwcywgZmFjdG9yeSkgewoJaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CgkJLy8gTm9kZQoJCW1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSk7Cgl9IGVsc2UgewoJCWZhY3RvcnkoalF1ZXJ5KTsKCX0KfSkpOwo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707625" offset="0" length="3317" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="174" hostname="omniconv" path="/OMNIStatic/scripts/spellcheck.js" url="http://omniconv/OMNIStatic/scripts/spellcheck.js" ip="10.37.149.132" port="80" connectionId="9" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.550-07:00" startTime="102707625" endTime="102707640">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFnM0JJVERWMDVwZnUxanI3T0hoV0VLeTQ1bm9LVFFJajZ5bTFQM1VIWFA2czBqcHJvdlliTlV3WmdGVWRIMWJiMk51K2hydmZNVlhDQ1VkdGJkamF5UGRtSm9kQzRMMFZxL1pZRk1jVGRpZ0hDdVZWYmxJYnF3d0hSYTBMWkE5NFI4Rytja0MrdTNVbHF5dk5aTmF6aEU3K3pvVVo0cjByeFFJNmUrVGR5UUJVdXMyam5PK1dwMDBNT21IelU2Q0VMdjU2ZlBsdCs2YWRVdDcrcGlKUUVTT3pZVnNCcUo5UjBxTWxQMWQvcjd2d2hEczBPd2ZLVGpvdnkrTUlRRjdlRW1oOFBIL0ZsOHQrMVUzbU1mK2d4L1B0S0VwOWF6NzRvYnRxbWdpTHpWUTNpWWVadmQwZkFNYWtSRjUwTXBGTnVrU0lNOWNHRjYrS202UVlmdmYrUDJVRXhmSWZHSHlkVFRmWTRuTG5KOTRwZCtDbWdIdGUvOHd2OUp4QmxNUVJYbk16RTdQT1lBRDF3UmZ3SEhtZHl3NklTMXEzdGZsMTdwYXJQWTdNS1Fzd0V2SDVZcDFtODVsSDY0WXNJckJ3eWdKRUI1Sm10LzNqVVh4MThBWnJWMFdoL05tUXZMeVlDb1FzVnFYbjVaYy9pS0k1a09xcEJSMkhQWWU3MW9vbTNGbjJuTEdJNkoyeXJDUURNSWd0RHMybkpPUzJRT1czbDVJL2pWcm9EYk45d2ZLOTBEUT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvc3BlbGxjaGVjay5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYWczQklURFYwNXBmdTFqcjdPSGhXRUt5NDVub0tUUUlqNnltMVAzVUhYUDZzMGpwcm92WWJOVXdaZ0ZVZEgxYmIyTnUraHJ2Zk1WWENDVWR0YmRqYXlQZG1Kb2RDNEwwVnEvWllGTWNUZGlnSEN1VlZibElicXd3SFJhMExaQTk0UjhHK2NrQyt1M1VscXl2TlpOYXpoRTcrem9VWjRyMHJ4UUk2ZStUZHlRQlV1czJqbk8rV3AwME1PbUh6VTZDRUx2NTZmUGx0KzZhZFV0NytwaUpRRVNPellWc0JxSjlSMHFNbFAxZC9yN3Z3aERzME93ZktUam92eStNSVFGN2VFbWg4UEgvRmw4dCsxVTNtTWYrZ3gvUHRLRXA5YXo3NG9idHFtZ2lMelZRM2lZZVp2ZDBmQU1ha1JGNTBNcEZOdWtTSU05Y0dGNitLbTZRWWZ2ZitQMlVFeGZJZkdIeWRUVGZZNG5Mbko5NHBkK0NtZ0h0ZS84d3Y5SnhCbE1RUlhuTXpFN1BPWUFEMXdSZndISG1keXc2SVMxcTN0ZmwxN3BhclBZN01LUXN3RXZINVlwMW04NWxINjRZc0lyQnd5Z0pFQjVKbXQvM2pVWHgxOEFaclYwV2gvTm1Rdkx5WUNvUXNWcVhuNVpjL2lLSTVrT3FwQlIySFBZZTcxb29tM0ZuMm5MR0k2SjJ5ckNRRE1JZ3REczJuSk9TMlFPVzNsNUkvalZyb0RiTjl3Zks5MERRPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA1YWNjNmRkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVOdFY3SE5vbFQvZEZKYkNBend1OVJ6eXErU3ZkS1NOU3Q2VDhNOVA3blJ3aElNQlNUUlB2T0s0MVBTV0dFOUlDL1FQOUk5SkQybUkxdHFRRis2K1YyVVBtUmFMZU9VY3pQWU41Nko2ZmpQYW5mQW13MmV4a3RlbnBwbGVqemNuYjM5d2daZTRjSUJ1QnpVVHRxc1k9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MTU1Mw==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDVhY2M2ZGRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdU50VjdITm9sVC9kRkpiQ0F6d3U5Unp5cStTdmRLU05TdDZUOE05UDduUndoSU1CU1RSUHZPSzQxUFNXR0U5SUMvUVA5STlKRDJtSTF0cVFGKzYrVjJVUG1SYUxlT1VjelBZTjU2SjZmalBhbmZBbXcyZXhrdGVucHBsZWp6Y25iMzl3Z1plNGNJQnVCelVUdHFzWT0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogMTU1Mw0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyoqDQoqIENhbGxlZCBieSB0aGUgc3BlbGxjaGVjayBsaW5rIG9uIHRoZSBuYXJyYXRpdmVzDQoqIEludm9rZXMgdGhlIE1TV29yZCBzcGVsbCBjaGVjayBkaWFsb2cNCiovDQpmdW5jdGlvbiBjaGVja1RleHRTcGVsbGluZyhmb3JtVGV4dEJveCkgew0KDQoJLy9yZXRyaWV2ZSB0aGUgdGV4dCB0aGV5IGVudGVyZWQNCgl2YXIgaW5pdGlhbFZhbHVlID0gdHJpbShmb3JtVGV4dEJveC52YWx1ZSkNCglpZiAoaW5pdGlhbFZhbHVlICE9ICIiKSB7DQoJCQ0KCQl2YXIgY29ycmVjdGVkVmFsdWUgPSBvcGVuQ2hlY2tTcGVsbGluZyhpbml0aWFsVmFsdWUpOw0KCQlpZiAoY29ycmVjdGVkVmFsdWUgPT0gLTEpIHsNCgkJCS8vdGV4dCB3YXMgYWxyZWFkeSBjb3JyZWN0DQoJCQlhbGVydCgiTm8gc3BlbGxpbmcgZXJyb3JzIGZvdW5kLiIpOw0KCQl9IGVsc2UgaWYgKGNvcnJlY3RlZFZhbHVlID09IC0yKSB7DQoJCQkvL3Byb2JsZW0gY3JlYXRpbmcgdGhlIG9sZSBvYmplY3QNCgkJCWFsZXJ0KCJQbGVhc2UgYmUgc3VyZSB0aGF0IE1pY3Jvc29mdCBPZmZpY2UgaXMgY29ycmVjdGx5IGluc3RhbGxlZCBhbmQgc2NyaXB0aW5nIG9mIEFjdGl2ZVggY29udHJvbHMgaXMgZW5hYmxlZCAoVG9vbHMgLT4gSW50ZXJuZXQgT3B0aW9ucyAtPiBTZWN1cml0eSAtPiBDdXN0b20gTGV2ZWwgLT4gW0VuYWJsZV0gSW5pdGlhbGl6ZSBhbmQgc2NyaXB0IEFjdGl2ZVggY29udHJvbHMgbm90IG1hcmtlZCBhcyBzYWZlKSIpOw0KCQl9IGVsc2Ugew0KCQkJY29ycmVjdGVkVmFsdWUgPSB0cmltKGNvcnJlY3RlZFZhbHVlKTsNCgkJCWlmIChjb3JyZWN0ZWRWYWx1ZSAhPSBpbml0aWFsVmFsdWUpIHsNCgkJCQkvL3NvbWV0aGluZyB3YXMgY2hhbmdlZA0KCQkJCXZhciBtYXggPSBmb3JtVGV4dEJveC5tYXhMZW5ndGg7DQoJCQkJaWYgKG1heCAhPSB1bmRlZmluZWQgJiYgY29ycmVjdGVkVmFsdWUubGVuZ3RoID4gbWF4KSB7DQoJCQkJCWZvcm1UZXh0Qm94LnZhbHVlID0gY29ycmVjdGVkVmFsdWUuc2xpY2UoMCwgbWF4KTsNCgkJCQkJYWxlcnQoIkNvcnJlY3RlZCB0ZXh0IHRydW5jYXRlZCBkdWUgdG8gc2l6ZSBsaW1pdGF0aW9ucyBmb3IgdGhlIGZpZWxkLiIpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCWZvcm1UZXh0Qm94LnZhbHVlID0gY29ycmVjdGVkVmFsdWU7DQoJCQkJCWFsZXJ0KCJTcGVsbGluZyBjb3JyZWN0ZWQuIik7DQoJCQkJfQ0KCQkJCS8vIENRMTk4MjMgLSBEaXJ0eSB0aGUgZm9ybSBpZiB0aGUgZm9ybVRleHRCb3ggd2FzIGNoYW5nZWQuDQoJCQkJLy8gQ1EyNzU1MyAtIEZvciB0aGUgcG9wLXVwIGZvcm0gd2UgbmVlZCB0byBjaGVjayB0aGF0IHRoZSBmb3JtIGlzIG5vdCBudWxsLg0KCQkJCWlmIChjdXJyZW50T21uaUZvcm0gIT0gbnVsbCAmJiB0eXBlb2YoY3VycmVudE9tbmlGb3JtKSAhPSAidW5kZWZpbmVkIiAmJiB0eXBlb2YoY3VycmVudE9tbmlGb3JtLmlzRGlydHkpICE9ICJ1bmRlZmluZWQiKSB7DQoJCQkJCWN1cnJlbnRPbW5pRm9ybS5pc0RpcnR5LnZhbHVlID0gJ3RydWUnOw0KCQkJCX0JDQoJCQl9IGVsc2Ugew0KCQkJCWZvcm1UZXh0Qm94LmZvY3VzKCk7DQoJCQkJLy90aGV5IGRpZG4ndCBtYWtlIGFueSBjaGFuZ2VzLi4NCgkJCQlhbGVydCgiTm8gY2hhbmdlcyBtYWRlLiIpOw0KCQkJfQ0KCQl9DQoJfSBlbHNlIHsNCgkJLy9ubyB0ZXh0IGVudGVyZWQuLg0KCQlhbGVydCgiUGxlYXNlIGVudGVyIHRleHQgdG8gc3BlbGwgY2hlY2suIik7DQoJCWZvcm1UZXh0Qm94LmZvY3VzKCk7DQoJfQ0KfQ0KDQovKiBkbyBzcGVsbGluZyBjaGVjayAqLw0KZnVuY3Rpb24gb3BlbkNoZWNrU3BlbGxpbmcoVGV4dFZhbHVlKSB7DQoJdmFyIHN0clJldHVyblZhbHVlID0gIiI7DQoJdmFyIGFwcFdvcmQ7DQoJdmFyIG9iakRvY29iamVjdDsNCg0KCXRyeSB7DQoJCWFwcFdvcmQgPSBuZXcgQWN0aXZlWE9iamVjdCgiV29yZC5BcHBsaWNhdGlvbiIpOw0KCX0gY2F0Y2goZXJyKSB7DQoJCS8vdW5hYmxlIHRvIGNyZWF0ZSB0aGUgb2JqZWN0LCBub3QgaW5zdGFsbGVkIG9yIHRoZXkgaGF2ZSBhY3RpdmV4IHNjcmlwdGluZyB0dXJuZWQgb2ZmDQoJCXN0clJldHVyblZhbHVlID0gLTI7DQoJCXJldHVybiBzdHJSZXR1cm5WYWx1ZTsNCgl9DQoJaWYgKGFwcFdvcmQuQ2hlY2tTcGVsbGluZyhUZXh0VmFsdWUpKSB7DQoJCS8vbm8gc3BlbGxpbmcgZXJyb3JzIGZvdW5kDQoJCXN0clJldHVyblZhbHVlID0gLTE7DQoJfSBlbHNlIHsNCgkJLy9wb3NpdGlvbiBpdCBvZmYgdGhlIHNjcmVlbiBzbyBpdCBkb2Vzbid0IGZsYXNoIHVwDQoJCWFwcFdvcmQuVG9wID0gLTMwMDA7DQoJCQ0KCQlhcHBXb3JkLldpbmRvd1N0YXRlID0gMjsNCgkJYXBwV29yZC5WaXNpYmxlID0gdHJ1ZTsNCgkJYXBwV29yZC5Eb2N1bWVudHMuQWRkKCk7DQoJCQ0KCQkvL21ha2Ugc3VyZSB0aGUgYXBwIGlzIGluIGZvY3VzDQoJCWFwcFdvcmQuQWN0aXZhdGUoKTsNCgkJDQoJCWFwcFdvcmQuU2VsZWN0aW9uLldob2xlU3RvcnkoKTsNCgkJYXBwV29yZC5TZWxlY3Rpb24uVHlwZVRleHQoVGV4dFZhbHVlKTsNCgkJYXBwV29yZC5BY3RpdmVEb2N1bWVudC5DaGVja1NwZWxsaW5nKCk7DQoJCWFwcFdvcmQuU2VsZWN0aW9uLldob2xlU3RvcnkoKTsNCgkJc3RyUmV0dXJuVmFsdWUgPSBhcHBXb3JkLlNlbGVjdGlvbi5UZXh0Ow0KCQkNCgl9DQoJLy9iZSBzdXJlIHRvIGRlc3Ryb3kgdGhlIHdvcmQgcmVmZXJlbmNlDQoJYXBwV29yZC5RdWl0KGZhbHNlKTsNCglhcHBXb3JkID0gbnVsbDsNCiAgICByZXR1cm4gc3RyUmV0dXJuVmFsdWU7DQp9DQoNCi8qKg0KKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UgZnJvbSBhIHN0cmluZw0KKi8NCmZ1bmN0aW9uIHRyaW0oc3RyVGV4dCkgew0KCXZhciBuZXdUZXh0ID0gc3RyVGV4dDsNCgl3aGlsZSAoaXNXaGl0ZXNwYWNlKG5ld1RleHQuc3Vic3RyaW5nKDAsMSkpKSB7DQoJCW5ld1RleHQgPSBuZXdUZXh0LnN1YnN0cmluZygxLCBuZXdUZXh0Lmxlbmd0aCk7DQoJfQ0KCXdoaWxlIChpc1doaXRlc3BhY2UobmV3VGV4dC5zdWJzdHJpbmcobmV3VGV4dC5sZW5ndGgtMSxuZXdUZXh0Lmxlbmd0aCkpKSB7DQoJCW5ld1RleHQgPSBuZXdUZXh0LnN1YnN0cmluZygwLCBuZXdUZXh0Lmxlbmd0aC0xKTsNCgl9DQoJcmV0dXJuIG5ld1RleHQ7DQp9DQoNCi8qKg0KKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBhcmFtZXRlciBpcyBhIHdoaXRlc3BhY2UgY2hhcmFjdGVyDQoqLw0KZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGNoYXIpIHsNCglpZiAoY2hhciA9PSAnICcgfHwgY2hhciA9PSAnXHInIHx8IGNoYXIgPT0gJ1xuJykgew0KCQlyZXR1cm4gdHJ1ZTsNCgl9IGVsc2Ugew0KCQlyZXR1cm4gZmFsc2U7DQoJfQ0KfQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707625" offset="0" length="2140" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="177" hostname="omniconv" path="/omni/dwr/interface/needsGoalsManager.js" url="http://omniconv/omni/dwr/interface/needsGoalsManager.js" ip="10.37.149.132" port="80" connectionId="8" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.566-07:00" startTime="102707625" endTime="102707640">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFFMEY3NTJRN1JGanBMaU56eHBnZ2p1OUc4V3hPMHJqQUtIaFFwTU5oYjZJcU5CUUVrQStCbmNuaVArWEZaTDA4MmM2MWl1amE5TTFsN3VMNklsSkFLT2tIOWJtcSs0UHpGM1NNSG96NGJJUlJjclhWWERTSTJ2QVJvTjdwUkNyWmtybGZNRkdzSmFQTmNIUnJGWHJsWVVGL250S2JmOGlKK0Q1YVk2RHkyMXVobTM5NUQxSWJDU0N2MUhKeG9sa0xUa2tQUHVRUTVIZnFYendaL1VXbzRlNzlrQnRhdHV4V1pXR2NFNDhIbStqRTBuTS9iKzVOei8rMktjeTZSSDlNdjdRdXFoaWI4NHBtZmQ5dmtlOXNKZHpWS2k5d0E5VE11TlB4SWd3YmtlandLcnJwK1FiRnVoZGEvY0JTMTM5OWF0c0RqdVNpZDJta254RHJCZDNPUXpoNFJzWC9uQnZKNitxbUhSeTFzbFlic2dQVXVPM1ZyS24yUlozZ2t6ZlpuZGYyaDJmMkRRM2h3Vmh1c0h3WUFSclVLZlY5Q3J1Q0d5aHVaRVMwNUNkTEpwZVdTa21TQmhpaVhyclpKQXNVTkVGUk1JQjl0NzJWbnVjT25kdUxyczRVYVBJeVVCc2d2UmFxNCtRU1BjQVpYeTJIUkU2TjYyTGE3NmFzTkhUeUpVK2tZdW5aQkZ1aW5LVnZIWEVaTFFUdGJVM1ZKalVRTUFIM3ZHYW1JWEVRRnkyekVKQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9vbW5pL2R3ci9pbnRlcmZhY2UvbmVlZHNHb2Fsc01hbmFnZXIuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFFMEY3NTJRN1JGanBMaU56eHBnZ2p1OUc4V3hPMHJqQUtIaFFwTU5oYjZJcU5CUUVrQStCbmNuaVArWEZaTDA4MmM2MWl1amE5TTFsN3VMNklsSkFLT2tIOWJtcSs0UHpGM1NNSG96NGJJUlJjclhWWERTSTJ2QVJvTjdwUkNyWmtybGZNRkdzSmFQTmNIUnJGWHJsWVVGL250S2JmOGlKK0Q1YVk2RHkyMXVobTM5NUQxSWJDU0N2MUhKeG9sa0xUa2tQUHVRUTVIZnFYendaL1VXbzRlNzlrQnRhdHV4V1pXR2NFNDhIbStqRTBuTS9iKzVOei8rMktjeTZSSDlNdjdRdXFoaWI4NHBtZmQ5dmtlOXNKZHpWS2k5d0E5VE11TlB4SWd3YmtlandLcnJwK1FiRnVoZGEvY0JTMTM5OWF0c0RqdVNpZDJta254RHJCZDNPUXpoNFJzWC9uQnZKNitxbUhSeTFzbFlic2dQVXVPM1ZyS24yUlozZ2t6ZlpuZGYyaDJmMkRRM2h3Vmh1c0h3WUFSclVLZlY5Q3J1Q0d5aHVaRVMwNUNkTEpwZVdTa21TQmhpaVhyclpKQXNVTkVGUk1JQjl0NzJWbnVjT25kdUxyczRVYVBJeVVCc2d2UmFxNCtRU1BjQVpYeTJIUkU2TjYyTGE3NmFzTkhUeUpVK2tZdW5aQkZ1aW5LVnZIWEVaTFFUdGJVM1ZKalVRTUFIM3ZHYW1JWEVRRnkyekVKQT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Transfer-Encoding" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2h1bmtlZA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Type" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGV4dC9qYXZhc2NyaXB0OyBjaGFyc2V0PXV0Zi04</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Language" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>V2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Persistent-Auth" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZmFsc2U=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVBTGhWSzc2Y1JRRmg5MnIzNUhxMTJjeloxbFJTS0g1Z1JySUU2cWQraHZPcm5PQkZBaXVkanhYa1IvNGZDQ3VYaWgxKzdWN1NkN3ZLVG5pUXM0WjVXdnlBU0RMUDVqemNKcU0rUzErbjlmVDVmV2Rad3MySm1SZ0NQbjJYdXdJRS9PWUl6VkNhZ2lyUlRrUW5pb3c9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29udGVudC1UeXBlOiB0ZXh0L2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLTgNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANCkNvbnRlbnQtTGFuZ3VhZ2U6IGVuLVVTDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClNlcnZlcjogV2ViU3BoZXJlIEFwcGxpY2F0aW9uIFNlcnZlci83LjANClBlcnNpc3RlbnQtQXV0aDogZmFsc2UNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVBTGhWSzc2Y1JRRmg5MnIzNUhxMTJjeloxbFJTS0g1Z1JySUU2cWQraHZPcm5PQkZBaXVkanhYa1IvNGZDQ3VYaWgxKzdWN1NkN3ZLVG5pUXM0WjVXdnlBU0RMUDVqemNKcU0rUzErbjlmVDVmV2Rad3MySm1SZ0NQbjJYdXdJRS9PWUl6VkNhZ2lyUlRrUW5pb3c9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ci8vIFByb3ZpZGUgYSBkZWZhdWx0IHBhdGggdG8gZHdyLmVuZ2luZQppZiAoZHdyID09IG51bGwpIHZhciBkd3IgPSB7fTsKaWYgKGR3ci5lbmdpbmUgPT0gbnVsbCkgZHdyLmVuZ2luZSA9IHt9OwppZiAoRFdSRW5naW5lID09IG51bGwpIHZhciBEV1JFbmdpbmUgPSBkd3IuZW5naW5lOwoKaWYgKG5lZWRzR29hbHNNYW5hZ2VyID09IG51bGwpIHZhciBuZWVkc0dvYWxzTWFuYWdlciA9IHt9OwpuZWVkc0dvYWxzTWFuYWdlci5fcGF0aCA9ICcvb21uaS9kd3InOwpuZWVkc0dvYWxzTWFuYWdlci5nZXREZWZhdWx0U3RhdHVzQ29kZSA9IGZ1bmN0aW9uKHAwLCBwMSwgY2FsbGJhY2spIHsKICBkd3IuZW5naW5lLl9leGVjdXRlKG5lZWRzR29hbHNNYW5hZ2VyLl9wYXRoLCAnbmVlZHNHb2Fsc01hbmFnZXInLCAnZ2V0RGVmYXVsdFN0YXR1c0NvZGUnLCBwMCwgcDEsIGNhbGxiYWNrKTsKfQpuZWVkc0dvYWxzTWFuYWdlci5nZXRDYXNlTWFuYWdlbWVudEZsYWcgPSBmdW5jdGlvbihwMCwgY2FsbGJhY2spIHsKICBkd3IuZW5naW5lLl9leGVjdXRlKG5lZWRzR29hbHNNYW5hZ2VyLl9wYXRoLCAnbmVlZHNHb2Fsc01hbmFnZXInLCAnZ2V0Q2FzZU1hbmFnZW1lbnRGbGFnJywgcDAsIGNhbGxiYWNrKTsKfQpuZWVkc0dvYWxzTWFuYWdlci5nZXROZWVkc0dvYWxzRmxhZyA9IGZ1bmN0aW9uKHAwLCBwMSwgY2FsbGJhY2spIHsKICBkd3IuZW5naW5lLl9leGVjdXRlKG5lZWRzR29hbHNNYW5hZ2VyLl9wYXRoLCAnbmVlZHNHb2Fsc01hbmFnZXInLCAnZ2V0TmVlZHNHb2Fsc0ZsYWcnLCBwMCwgcDEsIGNhbGxiYWNrKTsKfQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707640" offset="0" length="982" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="179" hostname="omniconv" path="/OMNIStatic/scripts/advcor/needsGoals.js" url="http://omniconv/OMNIStatic/scripts/advcor/needsGoals.js" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.581-07:00" startTime="102707640" endTime="102707640">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVpaOHB2RnpqTVNDVHVPNFpaQTgyMXh5S0Ezbm8wZFVKVzBmRWpxa2l3YWJYWHo5ZE00ZzE5eTM4ZC9xeHdQeUxRZUUraGl6VWhuVzltbkRGQWMzVDY3QWZlWUlhbFJoK3Fqd1ZSaHE0Z3BoWHFhMzVCU0dVeDRVbVZ0MzhYdUNWeXo4WGFkL050V1JiSEZIWmNIOUo2blV6eHZNN05hYlZNRmw4L21hbEhmd0dRbEpnUHFmdEtGWitCamo2dzZGczJxSFkxcW50VGJpZXlrVUxaVTJ5WFpuWTc1SGRrU21ZU1JEWFV0c0hlNWZmZkltSGFEVVVxTUlDeUk0Uk1ob1U5Z0FDRStONElDUTI4Q0paQUxxUXFyY1NWSlZuVGNITGJWYllmbTRpS1NRQ2tWVjBxUWFxcm93VlE0MFQxeFdmUEtiUll2SCtZSElHZ3JyYlZyTjMxNkVOME5qMEpnNnc3V0grU3RSR0xIbm1vVmt3MzB6SGNCb3VTNGJJOWtVNkMvTmNTbi9tR2dGdXlEVldCcDQ0SzM3L2trLzdldU9sS3FMUkp4bGQ2VWJOeDY4RXJNR1E3OFhTRzF6WlF4YzltUnBiMjh2VUhQaTRNZjJKVHdBRTF6MWhuZjBmWU1MaExkR2s4WHJoTlJHUVlLYklPYms0dXp4TlNmN05CcWtYeVpyekhxRlJnWDJpTFJmVlNtUVUzcjd5UjFXdkUwc0hMdm5SUDZMVUhTelJZYlg1RS9pQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvYWR2Y29yL25lZWRzR29hbHMuanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVpaOHB2RnpqTVNDVHVPNFpaQTgyMXh5S0Ezbm8wZFVKVzBmRWpxa2l3YWJYWHo5ZE00ZzE5eTM4ZC9xeHdQeUxRZUUraGl6VWhuVzltbkRGQWMzVDY3QWZlWUlhbFJoK3Fqd1ZSaHE0Z3BoWHFhMzVCU0dVeDRVbVZ0MzhYdUNWeXo4WGFkL050V1JiSEZIWmNIOUo2blV6eHZNN05hYlZNRmw4L21hbEhmd0dRbEpnUHFmdEtGWitCamo2dzZGczJxSFkxcW50VGJpZXlrVUxaVTJ5WFpuWTc1SGRrU21ZU1JEWFV0c0hlNWZmZkltSGFEVVVxTUlDeUk0Uk1ob1U5Z0FDRStONElDUTI4Q0paQUxxUXFyY1NWSlZuVGNITGJWYllmbTRpS1NRQ2tWVjBxUWFxcm93VlE0MFQxeFdmUEtiUll2SCtZSElHZ3JyYlZyTjMxNkVOME5qMEpnNnc3V0grU3RSR0xIbm1vVmt3MzB6SGNCb3VTNGJJOWtVNkMvTmNTbi9tR2dGdXlEVldCcDQ0SzM3L2trLzdldU9sS3FMUkp4bGQ2VWJOeDY4RXJNR1E3OFhTRzF6WlF4YzltUnBiMjh2VUhQaTRNZjJKVHdBRTF6MWhuZjBmWU1MaExkR2s4WHJoTlJHUVlLYklPYms0dXp4TlNmN05CcWtYeVpyekhxRlJnWDJpTFJmVlNtUVUzcjd5UjFXdkUwc0hMdm5SUDZMVUhTelJZYlg1RS9pQT09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Content-Type" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODozNCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA0OWU5N2FkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU3SS9NUENqaVpISGxDcG02S2NYRlN4MG5tOWRnUDdsQWhDcUJFZkhXVjNxOGNwWlJWQlZEaHppcXpBRUdhSzdqMkZQUzRXK0VqaXQwL1V1ZXN5ZTBscXVVYWMwSmk5MUNMQjZ1dkIwRVhVRDhMUzhFNXh6aTVwTVZ6UFlLU2lRclZpZUtvejh5SkQ5YkQvR0NHRnc9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Length" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>NTUwOA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODozNCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDQ5ZTk3YWRhOGVkMzE6MCINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzcuNQ0KWC1Qb3dlcmVkLUJ5OiBBU1AuTkVUDQpXV1ctQXV0aGVudGljYXRlOiBOZWdvdGlhdGUgb1lHMk1JR3pvQU1LQVFDaEN3WUpLb1pJZ3ZjU0FRSUNvb0dlQklHYllJR1lCZ2txaGtpRzl4SUJBZ0lDQUcrQmlEQ0JoYUFEQWdFRm9RTUNBUStpZVRCM29BTUNBUktpY0FSdTdJL01QQ2ppWkhIbENwbTZLY1hGU3gwbm05ZGdQN2xBaENxQkVmSFdWM3E4Y3BaUlZCVkRoemlxekFFR2FLN2oyRlBTNFcrRWppdDAvVXVlc3llMGxxdVVhYzBKaTkxQ0xCNnV2QjBFWFVEOExTOEU1eHppNXBNVnpQWUtTaVFyVmllS296OHlKRDliRC9HQ0dGdz0NCkRhdGU6IFR1ZSwgMTQgQXVnIDIwMTggMTk6MTU6NDcgR01UDQpDb250ZW50LUxlbmd0aDogNTUwOA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ly8gU3VibWl0cyBhIGZvcm0gKHVzaW5nIHRoZSBvcHRpb25hbCBkYXRhIHBhcmFtZXRlcnMpLCBwdXR0aW5nIHRoZSByZXN1bHRzIGludG8gdGhlIHNwZWNpZmllZCBpZC4NCmZ1bmN0aW9uIGNtX25nX3N1Ym1pdChyZWZyZXNoUGxhbiwgcmVmcmVzaEZsYWdzLCBlbGVtLCByZXN1bHRJZCwgZGF0YSwgc2VyaWFsaXplZERhdGEpIHsNCg0KCS8vIGlkZW50aWZ5IHRoZSBmb3JtIGNvbnRhaW5pbmcgdGhpcyBpbnB1dCBlbGVtZW50IA0KCXZhciBmb3JtID0gJChlbGVtKS5jbG9zZXN0KCJmb3JtIik7DQoJdmFyIGlkID0gZm9ybS5hdHRyKCdpZCcpOw0KCXZhciBwYXJhbXMgPSBmb3JtLnNlcmlhbGl6ZSgpOw0KCWlmICgkKGVsZW0pLmlzKCdpbnB1dC5mb3JtLWJ1dHRvbicpKSB7DQoJCXBhcmFtcyA9IHBhcmFtcyArICImIiArIGVsZW0ubmFtZSArICI9IiArIGVsZW0udmFsdWU7DQoJfQ0KCWlmICgkLmlzUGxhaW5PYmplY3QoZGF0YSkpIHsNCgkJcGFyYW1zID0gcGFyYW1zICsgIiYiICsgJC5wYXJhbShkYXRhKTsNCgl9DQoJaWYgKHNlcmlhbGl6ZWREYXRhICE9IHVuZGVmaW5lZCkgew0KCQlwYXJhbXMgPSBwYXJhbXMgKyAiJiIgKyBzZXJpYWxpemVkRGF0YTsNCgl9DQoJDQoJLy8gZGlzYWJsZSBidXR0b25zIHdpdGhpbiB0aGlzIGZvcm0NCglmb3JtLmZpbmQoImlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdidXR0b24nXSIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7DQoJDQoJJC5hamF4KHsNCgkJdHlwZTogIlBPU1QiLA0KCQl1cmw6IGZvcm1bMF0uYWN0aW9uLA0KCQlkYXRhOiBwYXJhbXMsDQoJCWFzeW5jOiB0cnVlLA0KCQlzdWNjZXNzOiBmdW5jdGlvbihodG1sLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KCQkJJCgiIyIgKyByZXN1bHRJZCkuZW1wdHkoKS5hcHBlbmQoaHRtbCkuZW5hYmxlSXNEaXJ0eUxpc3RlbmVycygpOw0KCQkJDQoJCQkvLyBSZWZyZXNoIHRoZSBDYXNlIE1hbmFnZW1lbnQgZmxhZ3MNCgkJCWlmIChyZWZyZXNoRmxhZ3MpIHsNCgkJCQkkKCcjY21fc2VjdGlvbiAuZmxhZycpLnRyaWdnZXIoJ3JlZnJlc2gnKTsNCgkJCX0NCgkJCQ0KCQkJLy8gUmVmcmVzaCB0aGUgUHJvZ3Jlc3Npb24gUGxhbiB0aW1lIGxpbmUNCgkJCWlmIChyZWZyZXNoUGxhbikgew0KCQkJCWNtX25nX3BwX3JlZnJlc2hUaW1lbGluZSgpOw0KCQkJfQ0KCQl9LA0KCQllcnJvcjogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7DQoJCQkkKCIjIiArIHJlc3VsdElkKS5lbXB0eSgpLmFwcGVuZChqcVhIUi5yZXNwb25zZVRleHQpOw0KCQl9LA0KCQljb21wbGV0ZTogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMpIHsJDQoJCX0NCgl9KTsNCgkNCglyZXR1cm4gZmFsc2U7DQp9DQoNCmZ1bmN0aW9uIGNtX25nX2FkX3RvZ2dsZVNlY3Rpb24oY29sbGFwc2libGVJY29uLCB1cmwsIGNhbkVkaXQpIHsNCgl2YXIgaWNvbiA9ICQoY29sbGFwc2libGVJY29uKTsNCgl2YXIgc3Bpbm5lciA9IGljb24ucGFyZW50KCkucHJldigpOw0KCXZhciBuZXh0U2VjdGlvbiA9IGljb24ucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkubmV4dCgpLmNoaWxkcmVuKCJ0ZCIpOw0KCWlmIChpY29uLmhhc0NsYXNzKCdjb2xsYXBzZWQnKSkgew0KCQl2YXIgZG9jTmIgPSBpY29uLmRhdGEoImRvY25iIik7DQoJCXZhciBvZm5udHljZCA9IGljb24uZGF0YSgib2ZubnR5Y2QiKTsNCgkJb3BlbkRpc2NsYWltZXJEaWFsb2coZG9jTmIsIG9mbm50eWNkLCAiT1RIRVIiLCBmdW5jdGlvbigpIHsJCQkNCgkJCWNtX25nX2FkX3RvZ2dsZVNlY3Rpb25fZXhwYW5kKGNvbGxhcHNpYmxlSWNvbiwgdXJsLCBjYW5FZGl0KTsNCgkJfSk7DQoJfQ0KCWVsc2Ugew0KCQlpY29uLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpOw0KCQlpY29uLmFkZENsYXNzKCdjb2xsYXBzZWQnKTsNCgkJbmV4dFNlY3Rpb24uZW1wdHkoKTsNCgkJc3Bpbm5lci5hZGRDbGFzcygnaW52aXNpYmxlJyk7DQoJCQ0KCQkvLyBJZiBjb2xsYXBzaW5nLCBlbmFibGUgQXNtbnQgRG9tYWluIGZvcm0gZWxlbWVudHMsIG9ubHkgaWYgYWxsIHNlY3Rpb25zIGFyZSBjb2xsYXBzZWQsDQoJCS8vIGFuZCBvbmx5IGlmIHRoZSBjdXJyZW50IHVzZXIgaGFzIHBlcm1pc3Npb24uDQoJCWlmICgkKCIjY21fbmdfYWRfZm9ybSAuY29sbGFwc2libGUtaWNvbi5leHBhbmRlZCIpLnNpemUoKSA9PSAwICYmIGNhbkVkaXQpIHsJDQoJCQkvLyByZWZyZXNoIHRoZSBkb21haW4gc2VjdGlvbiBieSBjbGlja2luZyBDYW5jZWwuDQoJCQkkKCIjY21fbmdfYWRfZm9ybSA+IGZvcm0gaW5wdXRbbmFtZT0nY2FuY2VsJ10iKS5jbGljaygpOw0KCQl9DQoJfQ0KfQ0KDQpmdW5jdGlvbiBjbV9uZ19hZF90b2dnbGVTZWN0aW9uX2V4cGFuZChjb2xsYXBzaWJsZUljb24sIHVybCwgY2FuRWRpdCkgew0KCXZhciBpY29uID0gJChjb2xsYXBzaWJsZUljb24pOw0KCXZhciBzcGlubmVyID0gaWNvbi5wYXJlbnQoKS5wcmV2KCk7DQoJdmFyIG5leHRTZWN0aW9uID0gaWNvbi5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5uZXh0KCkuY2hpbGRyZW4oInRkIik7DQoJDQoJc3Bpbm5lci5yZW1vdmVDbGFzcygnaW52aXNpYmxlJyk7DQoJaWNvbi5yZW1vdmVDbGFzcygnY29sbGFwc2VkJyk7DQoJaWNvbi5hZGRDbGFzcygnZXhwYW5kZWQnKTsNCgkNCgkvLyBJZiBleHBhbmRpbmcsIGRpc2FibGUgYWxsIEFzbW50IERvbWFpbiBmb3JtIGVsZW1lbnRzIChDdXJyZW50IEZvY3VzLCBQcmlvcml0eSwgQmFycmllciwgU2F2ZS9DYW5jZWwsIGV0YykNCgkkKCIuY21fbmdfYWRfZm9ybSwgI2NtX25nX2FkX2Zvcm0gPiBmb3JtIGlucHV0IikucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTsNCgkkKCIuY21fbmdfYWRfYSIpLmFkZENsYXNzKCJkaXNhYmxlZCIpOw0KCQ0KCSQuYWpheCh7DQoJCXR5cGU6ICJHRVQiLA0KCQl1cmw6IHVybCwNCgkJYXN5bmM6IHRydWUsDQoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGh0bWwsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQoJCQluZXh0U2VjdGlvbi5lbXB0eSgpLmh0bWwoaHRtbCkNCgkJfSwNCgkJZXJyb3I6IGZ1bmN0aW9uKGh0bWwsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQoJCQluZXh0U2VjdGlvbi5lbXB0eSgpLmh0bWwoaHRtbCkNCgkJfSwNCgkJY29tcGxldGU6IGZ1bmN0aW9uKGh0bWwsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQoJCQluZXh0U2VjdGlvbi5vZmYoJ2NsaWNrJyk7DQoJCQluZXh0U2VjdGlvbi5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkgeyBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgc2V0TGFzdEFjY2Vzc2VkKGljb24pOyB9KQ0KCQkJc2V0TGFzdEFjY2Vzc2VkKGljb24pOw0KCQkJc3Bpbm5lci5hZGRDbGFzcygnaW52aXNpYmxlJyk7DQoNCgkJCSQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogaWNvbi5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5vZmZzZXQoKS50b3B9KTsNCgkJfQ0KCX0pOw0KfQ0KDQpmdW5jdGlvbiBjbV9uZ19vcGVuUHJpbnRXaW5kb3coZWxlbSkgew0KCXZhciBsb2NhdGlvblggPSAod2luZG93LnNjcmVlbi53aWR0aC8yKSAtICg0MDAgKyAxMCk7DQoJdmFyIGxvY2F0aW9uWSA9ICh3aW5kb3cuc2NyZWVuLmhlaWdodC8yKSAtICgzMDAgKyA1MCk7DQoJdmFyIHByaW50V2luZG93ID0gb3BlblBvcFVwUmV0dXJuV2luZG93KCIiLCJwcmludFdpbmRvdyIsImRpcmVjdG9yaWVzPW5vLGhlaWdodD01MjAsbGVmdD0iICsgbG9jYXRpb25YICsgIixsb2NhdGlvbj1ubyxtZW51YmFyPW5vLHJlc2l6YWJsZT15ZXMsc2NyZWVuWD0iICsgbG9jYXRpb25YICsgIixzY3JlZW5ZPSIgKyBsb2NhdGlvblkgKyAiLHNjcm9sbGJhcnM9eWVzLHN0YXR1cz1ubyx0b29sYmFyPW5vLHRvcD0iICsgbG9jYXRpb25ZICsgIix3aWR0aD0xMDQwIik7DQoJcHJpbnRXaW5kb3cuZm9jdXMoKTsNCgkNCgl2YXIgZm9ybSA9ICQoZWxlbSkuY2xvc2VzdCgiZm9ybSIpWzBdOw0KCWZvcm0udGFyZ2V0ID0gInByaW50V2luZG93IiArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInNlc3Npb25Ccm93c2VySWQiKTsNCgl2YXIgcHJpbnQgPSAkKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSInICsgZWxlbS5uYW1lICsgJyIgdmFsdWU9IicgKyBlbGVtLnZhbHVlICsgJyIvPicpOw0KCXByaW50LmFwcGVuZFRvKCQoZm9ybSkpOw0KCWZvcm0uc3VibWl0KCk7DQoJcHJpbnQucmVtb3ZlKCk7DQoJZm9ybS50YXJnZXQgPSAiX3BhcmVudCI7DQoJDQoJcmV0dXJuIGZhbHNlOw0KfQ0KDQp2YXIgY21fbmdfcHBfc3VibWl0dGluZyA9IGZhbHNlOw0KDQovLyBTdWJtaXRzIHRoZSBQcm9ncmVzc2lvbiBQbGFuIEZvcm0uDQpmdW5jdGlvbiBjbV9uZ19wcF9zdWJtaXRGb3JtKCkgew0KCQ0KCWlmICh0aW1lbGluZSAhPSB1bmRlZmluZWQpIHsNCgkJLy8gR2V0IHRoZSBmb3JtIHRvIHN1Ym1pdA0KCQl2YXIgY21Gb3JtID0gJCgiI2NtX25nX3BwX2Zvcm0iKTsNCgkJDQoJCS8vIGRpc2FibGUgYnV0dG9ucyB3aXRoaW4gdGhpcyBmb3JtDQoJCWNtRm9ybS5maW5kKCJpbnB1dFt0eXBlPSdzdWJtaXQnXSIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7DQoJDQoJCS8vIFN0b3JlIHRoZSB0aW1lbGluZSBzdGFydCBhbmQgZW5kIGRhdGUvdGltZXMgZm9yIHN1Ym1pc3Npb24gc28gd2UgY29tZSBiYWNrIHRvIHdoZXJlDQoJCS8vIHdlIGxlZnQgb24gdGhlIHRpbWVsaW5lDQoJCXZhciByYW5nZSA9IHRpbWVsaW5lLmdldFdpbmRvdygpOw0KCQl2YXIgc3RhcnREYXRlVGltZVN0cmluZyA9IHJhbmdlLnN0YXJ0Ow0KCQl2YXIgZW5kRGF0ZVRpbWVTdHJpbmcgPSByYW5nZS5lbmQ7DQoJCXZhciB0aW1lbGluZURpdkhlaWdodFN0cmluZyA9ICQoIiN0aW1lbGluZSIpLmhlaWdodCgpOw0KCQkkKCcjY21fbmdfcHBfdGltZWxpbmVTdGFydCcpLnZhbChzdGFydERhdGVUaW1lU3RyaW5nKTsNCgkJJCgnI2NtX25nX3BwX3RpbWVsaW5lRW5kJykudmFsKGVuZERhdGVUaW1lU3RyaW5nKTsNCgkJJCgnI2NtX25nX3BwX3RpbWVsaW5lRGl2SGVpZ2h0JykudmFsKHRpbWVsaW5lRGl2SGVpZ2h0U3RyaW5nKTsNCgkNCgkJLy8gU3VibWl0IHRoZSBmb3JtDQoJCXZhciBjbUZvcm0gPSAkKCIjY21fbmdfcHBfZm9ybSIpOw0KCQkkLnBvc3QoY21Gb3JtWzBdLmFjdGlvbiwgY21Gb3JtLnNlcmlhbGl6ZSgpLCBmdW5jdGlvbihodG1sKSB7DQoJCQkkKCIjY21fbmdfcHBfZnMiKS5lbXB0eSgpLmFwcGVuZChodG1sKTsNCgkJCWNtX25nX3BwX3N1Ym1pdHRpbmcgPSBmYWxzZTsNCgkJfSk7DQoJfQ0KfQ0KDQpmdW5jdGlvbiBjbV9uZ19wcF9yZWZyZXNoVGltZWxpbmUoKSB7DQoJJCgnI2NtX25nX3BwX3BhZ2VNb2RlJykudmFsKCdWaWV3VGltZWxpbmVNb2RlJyk7DQoJY21fbmdfcHBfc3VibWl0Rm9ybSgpOw0KfQ0KDQovLyBTdWJtaXRzIFByb2dyZXNzaW9uIFBsYW4gdG8gdmlldy9lZGl0IGFuIGV4aXN0aW5nIGVudGl0eSAoQ3VzdG9keSwgUHJvZ3JhbSwgb3IgTm90ZSkuDQpmdW5jdGlvbiBjbV9uZ19wcF92aWV3RWRpdEVudGl0eShzdWJtaXRBY3Rpb24sIGVudGl0eVR5cGUsIGVudGl0eUlkLCBwYWdlTW9kZSkgew0KCS8vIE1ha2Ugc3VyZSB3ZSdyZSBpbiBWaWV3VGltZWxpbmVNb2RlIGFuZCB3ZSdyZSBub3QgdGhlbiBqdXN0IHJldHVybg0KCS8vaWYgKCQoJyNjbV9uZ19wcF9wYWdlTW9kZScpLnZhbCgpICE9PSAnVmlld1RpbWVsaW5lTW9kZScpIHsNCgkvLwlyZXR1cm47DQoJLy99DQoJDQoJLy8gc2hvcnQtY2lyY3VpdCB0byBwcmV2ZW50IGRvdWJsZSBjbGlja2luZyBvZiBidXR0b25zIG9yIGxpbmtzDQoJaWYgKGNtX25nX3BwX3N1Ym1pdHRpbmcpIHsNCgkJcmV0dXJuOw0KCX0NCgljbV9uZ19wcF9zdWJtaXR0aW5nID0gdHJ1ZTsNCgkNCgkvLyBTZXQgaGlkZGVuIGZpZWxkcyBmb3IgYWN0aW9uLCBlbnRpdHkgYW5kIHBhZ2UgbW9kZQ0KCSQoJyNjbV9uZ19wcF9zdWJtaXRBY3Rpb24nKS52YWwoc3VibWl0QWN0aW9uKTsNCgkkKCcjY21fbmdfcHBfZW50aXR5VHlwZScpLnZhbChlbnRpdHlUeXBlKTsNCgkkKCcjY21fbmdfcHBfZW50aXR5SWQnKS52YWwoZW50aXR5SWQpOw0KCSQoJyNjbV9uZ19wcF9wYWdlTW9kZScpLnZhbChwYWdlTW9kZSk7DQoJDQoJLy8gU3VibWl0IHRoZSBmb3JtDQoJY21fbmdfcHBfc3VibWl0Rm9ybSgpOw0KCQ0KCS8vIEdvIHRvIHRoZSBkYXRhIGVudHJ5IHNlY3Rpb24NCgkkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKCIjY21fbmdfcHBfZW50aXR5X2ZzIikub2Zmc2V0KCkudG9wfSwgNTAwKTsNCn0NCg0KLy8gU3VibWl0cyBQcm9ncmVzc2lvbiBQbGFuIHRvIGFsbG93IHVzZXIgdG8gYWRkIG5ldyBlbnRpdHkgKEN1c3RvZHksIFByb2dyYW0gb3IgRW50aXR5KQ0KZnVuY3Rpb24gY21fbmdfcHBfYWRkTmV3RW50aXR5KHN1Ym1pdEFjdGlvbiwgZW50aXR5VHlwZSwgcGFnZU1vZGUpIHsNCgkvLyBNYWtlIHN1cmUgd2UncmUgaW4gVmlld1RpbWVsaW5lTW9kZSBhbmQgd2UncmUgbm90IHRoZW4ganVzdCByZXR1cm4NCglpZiAoJCgnI2NtX25nX3BwX3BhZ2VNb2RlJykudmFsKCkgIT09ICdWaWV3VGltZWxpbmVNb2RlJykgew0KCQlyZXR1cm47DQoJfQ0KCQ0KCS8vIFNldCBoaWRkZW4gZmllbGRzIGZvciBhY3Rpb24sIGVudGl0eSBhbmQgcGFnZSBtb2RlDQoJJCgnI2NtX25nX3BwX3N1Ym1pdEFjdGlvbicpLnZhbChzdWJtaXRBY3Rpb24pOw0KCSQoJyNjbV9uZ19wcF9lbnRpdHlUeXBlJykudmFsKGVudGl0eVR5cGUpOw0KCSQoJyNjbV9uZ19wcF9wYWdlTW9kZScpLnZhbChwYWdlTW9kZSk7DQoNCgkvLyBTdWJtaXQgdGhlIGZvcm0NCgljbV9uZ19wcF9zdWJtaXRGb3JtKCk7DQoJDQoJLy8gU2Nyb2xsIGRvd24gdG8gdGhlIGRhdGEgZW50cnkgc2VjdGlvbg0KCSQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoIiNjbV9uZ19wcF9lbnRpdHlfZnMiKS5vZmZzZXQoKS50b3B9LCA1MDApOw0KfQ0KDQovLyBBc2tzIHVzZXIgaWYgdGhleSBhcmUgc3VyZSBhbmQgaWYgc28gc3VibWl0cyBmb3JtIHRvIGRlbGV0ZSBlbnRpdHkNCmZ1bmN0aW9uIGNtX25nX3BwX2RlbGV0ZUVudGl0eShzdWJtaXRBY3Rpb24sIGVudGl0eVR5cGUsIGVudGl0eUlkKSB7DQoJLy8gV29yZCBhIGNvbmZpcm1hdGlvbiBxdWVzdGlvbiB0aGF0IGFwcHJvcHJpYXRlIGZvciB0aGUgZW50aXR5DQoJdmFyIGNvbmZpcm1hdGlvblF1ZXN0aW9uID0gIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyAiOw0KCWlmIChlbnRpdHlUeXBlID09PSAnQ3VzdG9keUVudGl0eVR5cGUnKSB7DQoJCWNvbmZpcm1hdGlvblF1ZXN0aW9uID0gY29uZmlybWF0aW9uUXVlc3Rpb24gKyAicGxhbm5lZCBjdXN0b2R5PyI7DQoJfSBlbHNlIGlmIChlbnRpdHlUeXBlID09PSAnUHJvZ3JhbUVudGl0eVR5cGUnKSB7DQoJCWNvbmZpcm1hdGlvblF1ZXN0aW9uID0gY29uZmlybWF0aW9uUXVlc3Rpb24gKyAicGxhbm5lZCBwcm9ncmFtPyI7DQoJfSBlbHNlIGlmIChlbnRpdHlUeXBlID09PSAnTm90ZUVudGl0eVR5cGUnKSB7DQoJCWNvbmZpcm1hdGlvblF1ZXN0aW9uID0gY29uZmlybWF0aW9uUXVlc3Rpb24gKyAicGxhbm5pbmcgbm90ZT8iOw0KCX0NCg0KCS8vIENvbmZpcm0gd2l0aCB1c2VyIGJlZm9yZSBzdWJtaXR0aW5nDQoJaWYgKGNvbmZpcm0oY29uZmlybWF0aW9uUXVlc3Rpb24pKXsNCgkJLy8gU2V0IGhpZGRlbiBmaWVsZHMgZm9yIGFjdGlvbiwgZW50aXR5IGFuZCBwYWdlIG1vZGUNCgkJJCgnI2NtX25nX3BwX3N1Ym1pdEFjdGlvbicpLnZhbChzdWJtaXRBY3Rpb24pOw0KCQkkKCcjY21fbmdfcHBfZW50aXR5VHlwZScpLnZhbChlbnRpdHlUeXBlKTsNCgkJJCgnI2NtX25nX3BwX2VudGl0eUlkJykudmFsKGVudGl0eUlkKTsNCg0KCQkvLyBTdWJtaXQgdGhlIGZvcm0NCgkJY21fbmdfcHBfc3VibWl0Rm9ybSgpOw0KCQkNCgkJLy8gU2Nyb2xsIGJhY2sgdXAgdG8gdGhlIHByb2dyZXNzaW9uIHBsYW4NCgkJJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgiI2NtX25nX3BwX2Zvcm0iKS5vZmZzZXQoKS50b3B9LCAwKTsNCgl9DQp9DQoNCi8vIFN1Ym1pdHMgUHJvZ3Jlc3Npb24gUGxhbiB0byBzYXZlIGFuIGVudGl0eSAoQ3VzdG9keSwgUHJvZ3JhbSBvciBFbnRpdHkpLiBFbnRpdHkgbWF5IGJlIGVpdGhlciBuZXcgb3IgZXhpc3RpbmcuDQpmdW5jdGlvbiBjbV9uZ19wcF9zYXZlQWRkTW9kaWZ5KCkgew0KCS8vIHNob3J0LWNpcmN1aXQgdG8gcHJldmVudCBkb3VibGUgY2xpY2tpbmcgb2YgYnV0dG9ucyBvciBsaW5rcw0KCWlmIChjbV9uZ19wcF9zdWJtaXR0aW5nKSB7DQoJCXJldHVybjsNCgl9DQoJY21fbmdfcHBfc3VibWl0dGluZyA9IHRydWU7DQoJDQoJLy8gU2V0IHRoZSBzdWJtaXQgYWN0aW9uIHRvICJTYXZlRW50aXR5Ig0KCSQoJyNjbV9uZ19wcF9zdWJtaXRBY3Rpb24nKS52YWwoJ1NhdmVFbnRpdHknKTsNCgkNCgkvLyBTdWJtaXQgdGhlIGZvcm0NCgljbV9uZ19wcF9zdWJtaXRGb3JtKCk7DQoJCQ0KCS8vIFNjcm9sbCBiYWNrIHVwIHRvIHRoZSBwcm9ncmVzc2lvbiBwbGFuDQoJaWYgKCQoJyNjbV9uZ19wcF9wYWdlTW9kZScpLnZhbCgpID09PSAnVmlld1RpbWVsaW5lTW9kZScpIHsNCgkJJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgiI2NtX25nX3BwX2Zvcm0iKS5vZmZzZXQoKS50b3B9LCAwKTsNCgl9DQp9DQoNCi8vIFN1Ym1pdHMgUHJvZ3Jlc3Npb24gUGxhbiB0byBjYW5jZWwgYWRkaW5nIG9yIGVkaXRpbmcgYW4gRW50aXR5IGFuZCBjbG9zZSBkYXRhIGVudHJ5IGZvcm0NCmZ1bmN0aW9uIGNtX25nX3BwX2NhbmNlbEFkZE1vZGlmeSgpIHsNCgkvLyBDaGVjayBpZiBhbnl0aGluZyBoYXMgY2hhbmdlZCBhbmQgaWYgc28gY29uZmlybSBjYW5jZWwgd2l0aCB1c2VyDQoJdmFyIGlzRGlydHkgPSBmYWxzZTsNCgkkKCIjY21fbmdfcHBfZm9ybSBpbnB1dFtuYW1lPSdpc0RpcnR5J10sICNjbV9uZ19wcF9mb3JtIGlucHV0W25hbWU9J2lzRGlydHknXSIpLmVhY2goZnVuY3Rpb24oKSB7DQoJCWlmICh0aGlzLnZhbHVlID09PSAndHJ1ZScpIGlzRGlydHkgPSB0cnVlOw0KCX0pOw0KCWlmIChpc0RpcnR5KSB7DQoJCWlmICghY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNhbmNlbCB5b3VyIGNoYW5nZXM/IikpIHsNCgkJCXJldHVybjsNCgkJfQ0KCX0NCgkNCgkvLyBTZXQgaGlkZGVuIGZpZWxkcyBmb3IgYWN0aW9uLCBlbnRpdHkgYW5kIHBhZ2UgbW9kZQ0KCSQoJyNjbV9uZ19wcF9zdWJtaXRBY3Rpb24nKS52YWwoJ1VOS05PV04nKTsNCgkkKCcjY21fbmdfcHBfZW50aXR5VHlwZScpLnZhbCgnVU5LTk9XTicpOw0KCSQoJyNjbV9uZ19wcF9wYWdlTW9kZScpLnZhbCgnVmlld1RpbWVsaW5lTW9kZScpOw0KCQ0KCS8vIFN1Ym1pdCB0aGUgZm9ybSB0byBjYW5jZWwNCgljbV9uZ19wcF9zdWJtaXRGb3JtKCk7DQoJCQ0KCS8vIFNjcm9sbCBiYWNrIHVwIHRvIHRoZSBwcm9ncmVzc2lvbiBwbGFuDQoJJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgiI2NtX25nX3BwX2Zvcm0iKS5vZmZzZXQoKS50b3B9LCAwKTsNCn0NCg0KZnVuY3Rpb24gb3BlblBvcHVwKHVybCwgd2lkdGgsIGhlaWdodCwgY2FsbGJhY2spIHsNCgl2YXIgcmV0VmFsID0gb3Blbk1vZGFsRGlhbG9nKHVybCwgd2lkdGgsIGhlaWdodCk7DQoJaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5jYWxsKCk7DQp9DQoNCi8vIE9iamVjdGl2ZSBGcmVxdWVuY3kgcmFkaW8gZ3JvdXAgb25DaGFuZ2UgZXZlbnQuICANCi8vIElmIHJhZGlvIGdyb3VwIGlzIGRlc2VsZWN0ZWQsIGhpZGUgcmVjdXJyZW5jZSBzZWN0aW9uLg0KLy8gSWYgcmFkaW8gdmFsdWUgPT0gMSwgc2hvdyB3ZWVrIExPVg0KLy8gSWYgcmFkaW8gdmFsdWUgPT0gMiwgc2hvdyBtb250aCBMT1YNCmZ1bmN0aW9uIGNtX25nX3N0cm5vYkZyZXFUeXBOYk9uQ2hhbmdlKGVsZW0pIHsNCgl2YXIgb2ZubnR5Q2QgPSBlbGVtLmlkLnJlcGxhY2UoL2NtX25nXyhcZCspX29iamN0dnMuKi8sICIkMSIpOw0KCXZhciBpbmRleCA9IGVsZW0uaWQucmVwbGFjZSgvLipvYmpjdHZzXyhcZCspX3N0cm5vYi4qLywgIiQxIik7DQoJdmFyIHZhbHVlID0gKGVsZW0udHlwZSA9PSAncmFkaW8nKSA/IGVsZW0udmFsdWUgOiAwOw0KCXZhciBjaGVja2VkID0gKGVsZW0udHlwZSA9PSAncmFkaW8nKSA/IGVsZW0uY2hlY2tlZCA6IGZhbHNlOw0KCWlmIChjaGVja2VkKSB7DQoJCS8vIHRvZ2dsZSBkaXNwbGF5IG9mIHJlY3VycmVuY2UgTE9WIC0gYmFzZWQgb24gcmFkaW8gc2VsZWN0aW9uLCBkaXNwbGF5IHRoZSBhcHByb3ByaWF0ZSBMT1YNCgkJJCgiI2NtX25nXyIrb2ZubnR5Q2QrIl9vYmpjdHZzIHRyLnJvdyIraW5kZXgrIiBzcGFuLnJwbXNjb0NkIikuc2V0RGlzcGxheWVkKHZhbHVlID09IDEpOw0KCQkkKCIjY21fbmdfIitvZm5udHlDZCsiX29iamN0dnMgdHIucm93IitpbmRleCsiIHNwYW4ucnBtc2NkQ2QiKS5zZXREaXNwbGF5ZWQodmFsdWUgPT0gMik7DQoJfQ0KCWVsc2Ugew0KCQkkKCIjY21fbmdfIitvZm5udHlDZCsiX29iamN0dnMgdHIucm93IitpbmRleCsiIGlucHV0W3R5cGU9J3JhZGlvJ10iKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpOw0KCX0NCgkNCgkvLyBjbGVhciBkYXkgTE9WcyBhbmQgY2hlY2tib3hlcw0KCSQoIiNjbV9uZ18iK29mbm50eUNkKyJfb2JqY3R2cyB0ci5yb3ciK2luZGV4KyIgc2VsZWN0IikudmFsKCcnKQ0KCSQoIiNjbV9uZ18iK29mbm50eUNkKyJfb2JqY3R2cyB0ci5yb3ciK2luZGV4KyIgaW5wdXRbdHlwZT0nY2hlY2tib3gnXSIpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7DQoJDQoJLy8gdG9nZ2xlIHZpc2liaWxpdHkgb2YgcmVjdXJyZW5jZSB0YWJsZSAtIGlmIHJhZGlvIGlzIHVuY2hlY2tlZCwgaGlkZSB0aGUgZGF5cyBvZiB0aGUgd2Vla3MNCgkkKCIjY21fbmdfIitvZm5udHlDZCsiX29iamN0dnMgdHIucm93IitpbmRleCsiIHNwYW4uZGF5cyIpLnNldFZpc2libGUoY2hlY2tlZCAmJiAodmFsdWUgPT0gMSB8fCB2YWx1ZSA9PSAyKSk7DQoJJCgiI2NtX25nXyIrb2ZubnR5Q2QrIl9vYmpjdHZzIHRyLnJvdyIraW5kZXgrIiB0YWJsZSIpLnNldFZpc2libGUoY2hlY2tlZCAmJiAodmFsdWUgPT0gMSB8fCB2YWx1ZSA9PSAyKSk7DQp9DQoNCi8qKg0KICogT3BlbnMgdXAgYSBkZXRhaWxzIHJvdyBpbiB0aGUgT2JqZWN0aXZlIENvbnNlcXVlbmNlIFN1bW1hcnkgdGFibGUuDQogKiBAcGFyYW0gbGluayB0aGUgRGV0YWlscyBocmVmIGxpbmsgZm9yIHJlZmVyZW5jZQ0KICogQHBhcmFtIHN0cm5vYklkIHRoZSBwayBvZiB0aGUgVGJTdHJuZ3JOZHNPYmpjdHYgcmVjb3JkLg0KICogQHBhcmFtIGV4cGFuZCBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgZGV0YWlscyBzaG91bGQgZXhwYW5kIG9yIGNvbGxhcHNlLg0KICovDQpmdW5jdGlvbiBzYV9vY19vYmpjdHZzRGV0YWlscyhsaW5rLCBzdHJub2JJZCkgew0KCXZhciBzZWxlY3RlZFJvdyA9ICQobGluaykuY2xvc2VzdCgndHInKTsNCgl2YXIgbmV4dFJvdyA9IHNlbGVjdGVkUm93Lm5leHQoKS5maW5kKCd0ZCcpOw0KCW5leHRSb3cuYXR0cignaWQnLCAnc2Ffb2Nfc3Rybm9iSWRfJytzdHJub2JJZCk7DQoJaWYgKGxpbmsuaW5uZXJIVE1MID09PSAnRGV0YWlscycpIHsNCgkJJCgiI3NhX29jX3NlY3Rpb24gYSIpLmFkZENsYXNzKCdkaXNhYmxlZCcpOyAvLyBkaXNhYmxlIGFsbCBocmVmIGluIHRoZSBkaXNwbGF5dGFnIHRhYmxlDQoJCSQobGluaykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7IC8vIGV4Y2VwdCB0aGlzICJIaWRlIiBvbmUNCgkJJCgiI3NhX29jX3NlY3Rpb24gYS5yZWZyZXNoIikucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7IC8vIGV4Y2VwdCB0aGUgcmVmcmVzaCBsaW5rDQoJCSQoIiNzYV9vY19vYmpjdHZzIikubmV4dCgpLmZpbmQoInNlbGVjdCIpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7DQoJCQ0KCQkvLyBlbmFibGUgc3Bpbm5lcg0KCQl2YXIgc3Bpbm5lciA9ICQobGluaykucHJldigpOw0KCQlzcGlubmVyLmFkZENsYXNzKHNlbGVjdGVkUm93LmF0dHIoJ2NsYXNzJykpOyAvLyB0aGVtZSBzcGlubmVyIGZvciBldmVuIG9yIG9kZCByb3cJDQoJCXNwaW5uZXIuYWRkQ2xhc3MoJ3NwaW5uZXItaWNvbicpOw0KCQkNCgkJLy8gbG9hZCBkeW5hbWljIGNvbnRlbnQNCgkJbmV4dFJvdy5sb2FkKCIvb21uaS9hZHZjb3IvbmVlZHMvY25zcWNBcHJ2bC5odG0/c3Rybm9iSWQ9IitzdHJub2JJZCwNCgkJCS8vIG9uIGNvbXBsZXRlIGZ1bmN0aW9uDQoJCQlmdW5jdGlvbiggcmVzcG9uc2UsIHN0YXR1cywgeGhyICkgew0KCQkJCWlmICggc3RhdHVzID09ICJlcnJvciIgKSB7IG5leHRSb3cuaHRtbCggcmVzcG9uc2UgKTsgfQ0KCQkJCXNwaW5uZXIucmVtb3ZlQ2xhc3MoKTsNCgkJCQlsaW5rLmlubmVySFRNTCA9ICdIaWRlJzsNCgkJCX0NCgkJKTsNCgl9DQoJZWxzZSB7DQoJCS8vIFJlZnJlc2ggdGhlIGRpc3BsYXl0YWcgbGlzdA0KCQkkKCIjc2Ffb2Nfc2VjdGlvbiBhLnJlZnJlc2giKS5jbGljaygpOw0KCX0NCn0NCg0KZnVuY3Rpb24gc2Ffb2Nfc3VibWl0KGVsZW0sIHJlc3VsdElkKSB7DQoJdmFyIGZvcm0gPSAkKGVsZW0pLmNsb3Nlc3QoImZvcm0iKTsNCgl2YXIgcGFyYW1zID0gZm9ybS5zZXJpYWxpemUoKTsNCglpZiAoJChlbGVtKS5pcygnaW5wdXQuZm9ybS1idXR0b24nKSkgew0KCQlwYXJhbXMgPSBwYXJhbXMgKyAiJiIgKyBlbGVtLm5hbWUgKyAiPSIgKyBlbGVtLnZhbHVlOw0KCX0NCgkvLyBkaXNhYmxlIGJ1dHRvbnMgd2l0aGluIHRoaXMgZm9ybQ0KCWZvcm0uZmluZCgiaW5wdXRbdHlwZT0nc3VibWl0J10iKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpOw0KDQoJJC5hamF4KHsNCgkJdHlwZTogIlBPU1QiLA0KCQl1cmw6IGZvcm1bMF0uYWN0aW9uLA0KCQlkYXRhOiBwYXJhbXMsDQoJCWFzeW5jOiB0cnVlLA0KCQlzdWNjZXNzOiBmdW5jdGlvbihodG1sLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KCQkJJCgiIyIgKyByZXN1bHRJZCkuZW1wdHkoKS5hcHBlbmQoaHRtbCkuZW5hYmxlSXNEaXJ0eUxpc3RlbmVycygpOw0KCQkJDQoJCQlpZiAoJCgiI3NhX29jX3NlY3Rpb24gLm9tbmlNZXNzYWdlcyIpLnNpemUoKSA+IDEpIHsJCQkJDQoJCQkJJCgiI3NhX29jX3NlY3Rpb24gLm9tbmlNZXNzYWdlcyIpWzBdLmlubmVySFRNTCA9ICQoIiNzYV9vY19zZWN0aW9uIC5vbW5pTWVzc2FnZXMiKVsxXS5pbm5lckhUTUw7DQoJCQl9DQoJCQkNCgkJCS8vIFJlZnJlc2ggdGhlIENhc2UgTWFuYWdlbWVudCBmbGFncw0KCQkJJCgnI2NtX3NlY3Rpb24gLmZsYWcnKS50cmlnZ2VyKCdyZWZyZXNoJyk7DQoJCX0sDQoJCWVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsNCgkJCSQoIiMiICsgcmVzdWx0SWQpLmVtcHR5KCkuYXBwZW5kKGpxWEhSLnJlc3BvbnNlVGV4dCk7DQoJCX0sDQoJCWNvbXBsZXRlOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cykgewkNCgkJfQ0KCX0pOw0KCQ0KCXJldHVybiBmYWxzZTsNCn0NCg0KLyoqDQogKiBXaGVuIGVpdGhlciB0aGUgUG9zaXRpdmUgb3IgTmVnYXRpdmUgT2JqZWN0aXZlIENvbnNlcXVlbmNlIFR5cGUgY2hhbmdlcywgdGhlIENvbnNlcXVlbmNlIFN0YXR1cyBtdXN0IGRlZmF1bHQNCiAqIHBlciB0aGUgZ2l2ZW4gbGV2ZWwgYW5kIHRoZSBSZXF1ZXN0IFN0YXR1cyBtdXN0IHJlc2V0Lg0KICogQHBhcmFtIG9mbm50eUNkIGRvbWFpbiBjb2RlIA0KICogQHBhcmFtIGluZGV4IHJvdyBpbmRleCBvZiB0aGUgb2JqZWN0aXZlDQogKi8NCmZ1bmN0aW9uIGNvbnNlcXVlbmNlT25DaGFuZ2Uob2ZubnR5Q2QsIGluZGV4KSB7DQoJLy8gcmVzZXQgUmVxdWVzdCBTdGF0dXMgdG8gTm9uZQ0KCSQoJyNjbV9uZ18nICsgb2ZubnR5Q2QgKyAnX29iamN0dnNfJyArIGluZGV4ICsgJ19vbmVvcnFDZCcpLnZhbCgnMScpOyANCgkkKCcjY21fbmdfJyArIG9mbm50eUNkICsgJ19vYmpjdHZzXycgKyBpbmRleCArICdfb25lb3JxQ2RMYmwnKS5odG1sKCdOb25lJyk7DQoNCgl2YXIgcG9zU3RybmNuQ2QgPSAkKCcjY21fbmdfJyArIG9mbm50eUNkICsgJ19vYmpjdHZzXycgKyBpbmRleCArICdfc3Rybm9iUHN0dlN0cm5jbkNkJykudmFsKCk7IA0KCXZhciBuZWdTdHJuY25DZCA9ICQoJyNjbV9uZ18nICsgb2ZubnR5Q2QgKyAnX29iamN0dnNfJyArIGluZGV4ICsgJ19zdHJub2JOZ3R2U3RybmNuQ2QnKS52YWwoKTsgDQoJDQoJLy8gZGVmYXVsdCBDb25zZXF1ZW5jZSBTdGF0dXMgdG8gUmV2aWV3ZWQgb3IgUmVxdWVzdGVkIGRlcGVuZGluZyBvbiBsZXZlbA0KCW5lZWRzR29hbHNNYW5hZ2VyLmdldERlZmF1bHRTdGF0dXNDb2RlKHBvc1N0cm5jbkNkLCBuZWdTdHJuY25DZCwgeyANCgkJY2FsbGJhY2s6IGZ1bmN0aW9uKHN0cm5jc0NkKSB7IA0KCQkJJCgnI2NtX25nXycgKyBvZm5udHlDZCArICdfb2JqY3R2c18nICsgaW5kZXggKyAnX3N0cm5vYlBzdHZTdHJuY3NDZCcpLnZhbChzdHJuY3NDZCk7IA0KCQkJJCgnI2NtX25nXycgKyBvZm5udHlDZCArICdfb2JqY3R2c18nICsgaW5kZXggKyAnX3N0cm5vYk5ndHZTdHJuY3NDZCcpLnZhbChzdHJuY3NDZCk7IA0KCQl9LCBhc3luYzp0cnVlIA0KCX0pOw0KfQ0KDQovLyBDUTM5NDE2IC0gYWRkIGEgY29uZmlybSBkaWFsb2cgIkV4aXQgd2l0aG91dCBzYXZpbmc/IiB3aGVuIHByZXNzaW5nIENhbmNlbCB0byBjbGVhciB0aGUgZm9ybSAod2hpY2ggaGFzIG5vdGhpbmcgdG8gZG8gd2l0aCBleGl0aW5nKS4gDQpmdW5jdGlvbiBleGl0V2l0aG91dFNhdmluZygpIHsNCglpZiAoJCgiI2NtX25nX2FkX2Zvcm0iKS5maW5kKCJpbnB1dFtuYW1lPSdpc0RpcnR5J10iKS52YWwoKSA9PT0gInRydWUiICYmIHdpbmRvdy5jb25maXJtKCJFeGl0IHdpdGhvdXQgc2F2aW5nPyIpKSB7DQoJCXJldHVybiB0cnVlOw0KCX0gZWxzZSB7DQoJCXJldHVybiBmYWxzZTsNCgl9DQp9DQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707640" offset="0" length="6095" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="181" hostname="omniconv" path="/OMNIStatic/images/logo-doc.gif" url="http://omniconv/OMNIStatic/images/logo-doc.gif" ip="10.37.149.132" port="80" connectionId="10" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.612-07:00" startTime="102707640" endTime="102707656">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVppejlQRmVJQ0N6M0o2Q0JFSGM1UDRkZUdydFQzei91OUJ6NUk3UWVhd0xIdk5Wc2JwQzVXNDdiUHVob2h6MVZjREpGdjNTcVFFblRtOStYeUtMMythd2xSRXhWUlVvbm9LS28vdTZKUlpOTnU1ejdxVkxJTGZhdk54UkdFbnRhcmFERjBJY3Q1b1RBSk9Fb3JudHJ3YlZEMDNkcTE5M0hoazhNK0ExajFicHJzOEExcGh5alVtSWhxUmY0a2d1NURuU1ZzdWQ5dGNUakdlZ25mWTd5UTdtSFc0a2czSnVFVjI5ZDRLV1YvWitBMTlNSFV3TFViMEZDYVNyOVIxRUc4VWd2cXJ4SDRkcmtCaWtVcGNMSmdrUmdHcnllNUR0RSsrOTRFM1pJWmdENE9YOGJ0WUVSWjlwMzZJZDRSQWhUb29BbTVrb2ZEZjFXc2c4L1BxcFUvLzVGOE40VkFuVDc0SWMrWWRvb3hQWVRiQ0M4TzJDeUJrZ2RPQmpOZldNUkhZY0ZaZTR2QWEzemhzZC8ycDZQdGhRK2xUcEtreTlvcTJzN2hDYlY2L2VYTlJnalBMY0VCQzRURWJuTlRzZkhneFRXOFNFSFJvSTFKZzRjWndPRGVOZFYyZE4vUzVFUi9FRjExWFBqNEhMUXRTY25BWStvY3RxTUp6L3VTRVQxYkJwZElrc0FkZVFGTWtTVDIySU84TDFCRmxncU9KQ2hOYUluLzFLd3dNdFZYNjcvZ0ZsZz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9sb2dvLWRvYy5naWYgSFRUUC8xLjENCkFjY2VwdDogaW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCklmLU1vZGlmaWVkLVNpbmNlOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEwIEdNVA0KSWYtTm9uZS1NYXRjaDogIjAyZDliNmNkYThlZDMxOjAiDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhWml6OVBGZUlDQ3ozSjZDQkVIYzVQNGRlR3J0VDN6L3U5Qno1STdRZWF3TEh2TlZzYnBDNVc0N2JQdWhvaHoxVmNESkZ2M1NxUUVuVG05K1h5S0wzK2F3bFJFeFZSVW9ub0tLby91NkpSWk5OdTV6N3FWTElMZmF2TnhSR0VudGFyYURGMEljdDVvVEFKT0Vvcm50cndiVkQwM2RxMTkzSGhrOE0rQTFqMWJwcnM4QTFwaHlqVW1JaHFSZjRrZ3U1RG5TVnN1ZDl0Y1RqR2VnbmZZN3lRN21IVzRrZzNKdUVWMjlkNEtXVi9aK0ExOU1IVXdMVWIwRkNhU3I5UjFFRzhVZ3ZxcnhINGRya0Jpa1VwY0xKZ2tSZ0dyeWU1RHRFKys5NEUzWklaZ0Q0T1g4YnRZRVJaOXAzNklkNFJBaFRvb0FtNWtvZkRmMVdzZzgvUHFwVS8vNUY4TjRWQW5UNzRJYytZZG9veFBZVGJDQzhPMkN5QmtnZE9Cak5mV01SSFljRlplNHZBYTN6aHNkLzJwNlB0aFErbFRwS2t5OW9xMnM3aENiVjYvZVhOUmdqUExjRUJDNFRFYm5OVHNmSGd4VFc4U0VIUm9JMUpnNGNad09EZU5kVjJkTi9TNUVSL0VGMTFYUGo0SExRdFNjbkFZK29jdHFNSnovdVNFVDFiQnBkSWtzQWRlUUZNa1NUMjJJTzhMMUJGbGdxT0pDaE5hSW4vMUt3d010Vlg2Ny9nRmxnPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV5NElXTVBHcWhQY09kenY5NC9OUXpNMTBVaHE4QWxmUHRmOTBVcXEzU2pPdEdrdjloRVBCc2RySFM5M0xPSTVxUDNra3hNRDlyWStkazZ1aWoyREtNY25XSHpza1B6d2dZUjZyWk9rZDIyVytiMWJPYTdseUtoNWxJWnluOGVuYUprTUswQXVTZC8zWHBRL0c0b0U9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV5NElXTVBHcWhQY09kenY5NC9OUXpNMTBVaHE4QWxmUHRmOTBVcXEzU2pPdEdrdjloRVBCc2RySFM5M0xPSTVxUDNra3hNRDlyWStkazZ1aWoyREtNY25XSHpza1B6d2dZUjZyWk9rZDIyVytiMWJPYTdseUtoNWxJWnluOGVuYUprTUswQXVTZC8zWHBRL0c0b0U9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707640" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="183" hostname="omniconv" path="/OMNIStatic/images/logo-omni.gif" url="http://omniconv/OMNIStatic/images/logo-omni.gif" ip="10.37.149.132" port="80" connectionId="9" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.612-07:00" startTime="102707640" endTime="102707656">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJwQUJ1aFF0ekVBTFA0ajEybXdGeWE1ZCt5REZPNm9KSWdMZkY0bmhaRXJrRUVQSzhJTTJqYVpGa3B2VmpMaWpSTnBwV0NLYWpxM2VSRmxHZnNsdU5vVGV2SjZtd1NwWnRpcjYyYUtMNE5NVTVtQVpDTzNrYThiejRsZU9nb1ROSWlLNG1nUXN1ZGZ5SHE3aVFjSzc5SStRZVlmRmRJMUlveXRJazhvbys0MS8xM2wrOHZyNW93RU5xT0hGU201Qld4cEpPNHBJbDkvZFNzamJMYkpnV09VNXUvUlpzMmhpOGg4aDk3aFA5OVBMeTl6VGJLa0VvQkdTeCt0NmFhV3ZPZlR5VytxNm0zck5zR2RtNHE2OHBKRTBYWlBOVXk3TmpPVEhBMWtkVmE5eHF4OHBJMFlVc1gxZ1NYdmZ3RFZkaVg0N3pnR2VvMVl0Y2wxb2Y2alVPRXMwU0dudWk1NW1ESzAvdURCNDArMllvWEVMWW5MMFlEcThWNzRGZE5iNWlZRWM0YjRnNWx6aXNmNllyVWV3dm1jekdwcVdraktmU3kyNTdwVHd0WlcrejJXSlIzTzA1ZThzT0U3SlJJVmluQi9LMThWdDlvWXFTWFA3T1VLWGpUNWFROUJtemJtMlhwYWpYZ1V4UnJhQTVBOW1xMkNya3ltOUY2UVBPck9yR1FyMjVrbnVWbHZTd2QvVnB1cVd2Yk5GQWNoWXBiR1JNVER5c0tMQmIxVmc3TFdhSGJudz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9sb2dvLW9tbmkuZ2lmIEhUVFAvMS4xDQpBY2NlcHQ6IGltYWdlL3BuZywgaW1hZ2Uvc3ZnK3htbCwgaW1hZ2UvanhyLCBpbWFnZS8qO3E9MC44LCAqLyo7cT0wLjUNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwMmQ5YjZjZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJwQUJ1aFF0ekVBTFA0ajEybXdGeWE1ZCt5REZPNm9KSWdMZkY0bmhaRXJrRUVQSzhJTTJqYVpGa3B2VmpMaWpSTnBwV0NLYWpxM2VSRmxHZnNsdU5vVGV2SjZtd1NwWnRpcjYyYUtMNE5NVTVtQVpDTzNrYThiejRsZU9nb1ROSWlLNG1nUXN1ZGZ5SHE3aVFjSzc5SStRZVlmRmRJMUlveXRJazhvbys0MS8xM2wrOHZyNW93RU5xT0hGU201Qld4cEpPNHBJbDkvZFNzamJMYkpnV09VNXUvUlpzMmhpOGg4aDk3aFA5OVBMeTl6VGJLa0VvQkdTeCt0NmFhV3ZPZlR5VytxNm0zck5zR2RtNHE2OHBKRTBYWlBOVXk3TmpPVEhBMWtkVmE5eHF4OHBJMFlVc1gxZ1NYdmZ3RFZkaVg0N3pnR2VvMVl0Y2wxb2Y2alVPRXMwU0dudWk1NW1ESzAvdURCNDArMllvWEVMWW5MMFlEcThWNzRGZE5iNWlZRWM0YjRnNWx6aXNmNllyVWV3dm1jekdwcVdraktmU3kyNTdwVHd0WlcrejJXSlIzTzA1ZThzT0U3SlJJVmluQi9LMThWdDlvWXFTWFA3T1VLWGpUNWFROUJtemJtMlhwYWpYZ1V4UnJhQTVBOW1xMkNya3ltOUY2UVBPck9yR1FyMjVrbnVWbHZTd2QvVnB1cVd2Yk5GQWNoWXBiR1JNVER5c0tMQmIxVmc3TFdhSGJudz09DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVpOHFydTVKaEJYZWR3elFIU0NzdkhjNlUyK0dEVkZacGIwb2N1dEZGY21ockNtQUl0eGVRN0I4ZXRabDBtS3dpclFZb1BjMDg2WGdCYW9mcXg2MnByM1ZMdll6V1NWZWQwcGVGajF3cm9TeEd4QmwrRy9IcWo4eWJiSFExaVFMUThkV01xamRYVFJleEZvQ0k1R2M9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVpOHFydTVKaEJYZWR3elFIU0NzdkhjNlUyK0dEVkZacGIwb2N1dEZGY21ockNtQUl0eGVRN0I4ZXRabDBtS3dpclFZb1BjMDg2WGdCYW9mcXg2MnByM1ZMdll6V1NWZWQwcGVGajF3cm9TeEd4QmwrRy9IcWo4eWJiSFExaVFMUThkV01xamRYVFJleEZvQ0k1R2M9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707656" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="186" hostname="omniconv" path="/OMNIStatic/images/buttons/button-minus.gif" url="http://omniconv/OMNIStatic/images/buttons/button-minus.gif" ip="10.37.149.132" port="80" connectionId="8" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.612-07:00" startTime="102707656" endTime="102707656">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFRWGZFb1oyc0JaeFBCSllsbUZSMnZEOHNkQnhQK2pQdW1nZGFtUnptdzlIeE9TRW94OVBmTGxNMDE3Qk9adWorZVM3QzN1S2ZhZkwwZWtCMURnMkVYRXEyb3ZSSWhRN2p5ZXRZNU9QbTBZOWVxUlpJQTBET2RLdlBYbW1aSXl3TVBxYkdMOTM0Sm4vVHZuVmQ3TkVtS0Ezc2JsY0E4cjJKclNzWkVSWnFlSFJlTmJIZ0paYlE2d1ZiY3hQVW55TG5oVTJ2cGZxMWVYSmVkQjRwM0FVT0tXYkhMTi9pNVBXN29WOFBscGhNRU9FUFB3OHFLQUpIa2xSNmxKQ0hMWTdmVFQ3R0VzSXlYeUZ2eFkydHJIbXc2czlZSzNmSm5MY3pLSUQ2RnJXdi9Zb0xJU0ZQU2xXMEtkN1pZRll2Q2dyNU8zUXViQVQrOVdGVE9vSU5LSGxmb1d2ZVlkK3YvUmVwRHVoTnlIU3NHWDdQeTJobjM5K1Yyb1VjdEdjeUFwbXFyeStyS01Sa3BmSVc4b2kzMHRaRG8xL3VTSXFNd2YzaU5kOWRGQXJXZ1haT2NZeEFhYS9PR0d1aERlQjRrV0Y3Sjc1bjk3cXQ2K1lHQkxSUzUydzJKcXM2U0YzajF2VFNRelJlN1VJOUpXcjQxQ0taSUdXWGtLalJNVms4U2tWVmh2VGJHTUNJVHZtTCt4TGtqU1RVby8xSFIrL2w0VlJpNkZscWxPbUk2cE9SQW1FSitTQT09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9idXR0b25zL2J1dHRvbi1taW51cy5naWYgSFRUUC8xLjENCkFjY2VwdDogaW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCklmLU1vZGlmaWVkLVNpbmNlOiBUdWUsIDE2IEphbiAyMDE4IDE0OjU4OjEwIEdNVA0KSWYtTm9uZS1NYXRjaDogIjAyZDliNmNkYThlZDMxOjAiDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYVFYZkVvWjJzQlp4UEJKWWxtRlIydkQ4c2RCeFAralB1bWdkYW1Sem13OUh4T1NFb3g5UGZMbE0wMTdCT1p1aitlUzdDM3VLZmFmTDBla0IxRGcyRVhFcTJvdlJJaFE3anlldFk1T1BtMFk5ZXFSWklBMERPZEt2UFhtbVpJeXdNUHFiR0w5MzRKbi9Udm5WZDdORW1LQTNzYmxjQThyMkpyU3NaRVJacWVIUmVOYkhnSlpiUTZ3VmJjeFBVbnlMbmhVMnZwZnExZVhKZWRCNHAzQVVPS1diSExOL2k1UFc3b1Y4UGxwaE1FT0VQUHc4cUtBSkhrbFI2bEpDSExZN2ZUVDdHRXNJeVh5RnZ4WTJ0ckhtdzZzOVlLM2ZKbkxjektJRDZGcld2L1lvTElTRlBTbFcwS2Q3WllGWXZDZ3I1TzNRdWJBVCs5V0ZUT29JTktIbGZvV3ZlWWQrdi9SZXBEdWhOeUhTc0dYN1B5MmhuMzkrVjJvVWN0R2N5QXBtcXJ5K3JLTVJrcGZJVzhvaTMwdFpEbzEvdVNJcU13ZjNpTmQ5ZEZBcldnWFpPY1l4QWFhL09HR3VoRGVCNGtXRjdKNzVuOTdxdDYrWUdCTFJTNTJ3MkpxczZTRjNqMXZUU1F6UmU3VUk5SldyNDFDS1pJR1dYa0tqUk1WazhTa1ZWaHZUYkdNQ0lUdm1MK3hMa2pTVFVvLzFIUisvbDRWUmk2RmxxbE9tSTZwT1JBbUVKK1NBPT0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVqUGVIc0s0YUdKT2NZQXU4OGVPQTJ6dUFySGQwcUVlc0RtYm5ZbzI0ZWhPYkwyem9OVzFHWTNwZUtXUk5leGlucmo3QTczbkVjRFJaV0M3OXFzOTFjS3B5U2I4b092ZUlTODZqTWVJVGIwUkgrQ2RFbkFWU1M4ZDZOSVdBRzVpQ1hZUlhtYk1hY3l0NWZ5Qy9NRE09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVqUGVIc0s0YUdKT2NZQXU4OGVPQTJ6dUFySGQwcUVlc0RtYm5ZbzI0ZWhPYkwyem9OVzFHWTNwZUtXUk5leGlucmo3QTczbkVjRFJaV0M3OXFzOTFjS3B5U2I4b092ZUlTODZqTWVJVGIwUkgrQ2RFbkFWU1M4ZDZOSVdBRzVpQ1hZUlhtYk1hY3l0NWZ5Qy9NRE09DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707656" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="188" hostname="omniconv" path="/OMNIStatic/images/buttons/button-plus.gif" url="http://omniconv/OMNIStatic/images/buttons/button-plus.gif" ip="10.37.149.132" port="80" connectionId="1" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.612-07:00" startTime="102707656" endTime="102707656">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-Modified-Since" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="If-None-Match" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJVMFMxVDE3TmQzd1p1TVRyUHdxZ0lWUWlGTkxhWjhtTmRXd0ZEYVg3SElPVm5BNXdxMnJMdC9uUFRFUDM2S3FjU05XODM1SEEwaUxJUitKNWROa0djb24rZ29tOHNWL0hBZCttYjdZc3FGeVY5Ky9ORmltRjkvR3lkZ0lIUXVJb2s5WERoTis2SExrZDV3ZkMzck5HRWlZUWVHNTYxMWF0UkVnQTVVY01GVkZFRDIzYUlNa2Zrc2FocTBLdUVHK0swU08weVdGOWJjVkdEM1pFc1Rrc21nMmQ5d1A0bGZJY3pqUTlJSXAvVFI3aVlBZER4clZiZXVaTWw5T1Y1YU5WQVZWVzlQazJZc0diSDc4ZVlrVTUyaGVBL0NHZmdTZURaTGQ2VnJua1IrV01Jdk5PemNXdnBqNlVNUjdTaEVUby8rbG1Ud0lGSldvUTFuc2I5cnN6YmwxWWNpVDdLWFBPOE1LRDZTWTFKMWlHN3J3Z1MrcHhpSmZ6Ui81M3kwR0NneDJWbXI3Sms1N2VodjVSWmNoSkZGcVRiL3Q5SWlVZ1V4WGQzeHNVY0ZJTUFRdlg1KzVWOE4zdHl5U3BUMi9oeUNGRTNPOWttKzdtajQxZSswWldUWCtCL1Z4VWp2emIydGlFUzRKRzNVMXJZZk9Ib1VkcHM3Rk9FcmxpOTJGTGJUM21BekdCYXozdml3KzZlZmZhSnJ6SXdYNkc5ZGxMbmFvREoxSThCWGdYd2twWm5rZz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9idXR0b25zL2J1dHRvbi1wbHVzLmdpZiBIVFRQLzEuMQ0KQWNjZXB0OiBpbWFnZS9wbmcsIGltYWdlL3N2Zyt4bWwsIGltYWdlL2p4ciwgaW1hZ2UvKjtxPTAuOCwgKi8qO3E9MC41DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTAgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDJkOWI2Y2RhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFiVTBTMVQxN05kM3dadU1UclB3cWdJVlFpRk5MYVo4bU5kV3dGRGFYN0hJT1ZuQTV3cTJyTHQvblBURVAzNktxY1NOVzgzNUhBMGlMSVIrSjVkTmtHY29uK2dvbThzVi9IQWQrbWI3WXNxRnlWOSsvTkZpbUY5L0d5ZGdJSFF1SW9rOVhEaE4rNkhMa2Q1d2ZDM3JOR0VpWVFlRzU2MTFhdFJFZ0E1VWNNRlZGRUQyM2FJTWtma3NhaHEwS3VFRytLMFNPMHlXRjliY1ZHRDNaRXNUa3NtZzJkOXdQNGxmSWN6alE5SUlwL1RSN2lZQWREeHJWYmV1Wk1sOU9WNWFOVkFWVlc5UGsyWXNHYkg3OGVZa1U1MmhlQS9DR2ZnU2VEWkxkNlZybmtSK1dNSXZOT3pjV3ZwajZVTVI3U2hFVG8vK2xtVHdJRkpXb1ExbnNiOXJzemJsMVljaVQ3S1hQTzhNS0Q2U1kxSjFpRzdyd2dTK3B4aUpmelIvNTN5MEdDZ3gyVm1yN0prNTdlaHY1UlpjaEpGRnFUYi90OUlpVWdVeFhkM3hzVWNGSU1BUXZYNSs1VjhOM3R5eVNwVDIvaHlDRkUzTzlrbSs3bWo0MWUrMFpXVFgrQi9WeFVqdnpiMnRpRVM0SkczVTFyWWZPSG9VZHBzN0ZPRXJsaTkyRkxiVDNtQXpHQmF6M3Zpdys2ZWZmYUpyekl3WDZHOWRsTG5hb0RKMUk4QlhnWHdrcFpua2c9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Last-Modified" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUrbVBXdE1FN0c5R2JnME1tMUlVWFJYdUN1L2RTdFJlNVlPbjlCVzRndzlUb1oyQUptVHZ5ZHZtMG1qUTNwV0tKRG9UMC9tZ1dLaEU5MEdPUjFrODk5aC83c1Vsc3ZPejVxM3VmZko2UzZmR3RsZzhaVkc3VjVPZDZyTUREc3Z2VzFHWWJCaEVxanRnQk1lc0FXcnM9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnUrbVBXdE1FN0c5R2JnME1tMUlVWFJYdUN1L2RTdFJlNVlPbjlCVzRndzlUb1oyQUptVHZ5ZHZtMG1qUTNwV0tKRG9UMC9tZ1dLaEU5MEdPUjFrODk5aC83c1Vsc3ZPejVxM3VmZko2UzZmR3RsZzhaVkc3VjVPZDZyTUREc3Z2VzFHWWJCaEVxanRnQk1lc0FXcnM9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <TcpPackets>
            <PacketInfo time="102707656" offset="0" length="488" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="190" hostname="omniconv" path="/OMNIStatic/scripts/vis.js" url="http://omniconv/OMNIStatic/scripts/vis.js" ip="10.37.149.132" port="80" connectionId="11" origin="HTML" frame="1" startDateTime="2018-08-14T12:16:12.628-07:00" startTime="102707625" endTime="102707671">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Accept" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Referer" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>b21uaWNvbnY=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Authorization" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlaWTVLZ0pTaFpYQzNLZ3BVbFFFMFhyQVZJWUpzTWdDa0QzVzRXRWlCaEgrN255YUNuUU5zRGdCT1hhQW5WZHdERm5HblRPWjZYNFlwOXhjUlkzMGZ1MUNSQ1FDL2xXTFloMnIxV0xUbEM2SWozOFE3UExieXk5WEx0WDlWZzdHZTdCWURjR1NFTUxydGtpTGhUelI0VFg2U0oxSUJjUWR5K2dEYm5Tci82QmpZVVVJVytmSFo2aytEK2FVM2l3T0RpYk1xVjNId3JoU1kzSzJ5ZktydncxcXVEajJUdnlJbWFCcW5rYWhhNnBjVXZpcFRFKzVoU01SVFFCYWxWMUJpZW1tV2VSTDV1Y3dGcG8zRlJVK1h4Y3JnTHVqcE5LVlFXRE90R044WXpTMmxpR3I5MmRrWDZENVd4M1IvTkNyUTJWZyttV01kMFpHWGRRZEduK212eHVQU0ZCUUJhUWRiakNIaGRUZUNqclUvNEZWc25HU0Z6VzNQWmY4V0t6Z1FqL0xXZzVNT1l2dzNzcXZGUHZoYUFhaDRhMXFJeTRkZVQ2b08zVi8vdW9sM21kTlhQamMwVXlZZ1Z4Ri96dC9PWm9VaHBSTkxIcVFjdUJoU3V5Umt6ekVjdlpHaCtOc0JYQU1qd2sySlBrOGYxbHJOSU5OTSs2SVlrSHlyUUNveXdiMkkxNkFwNWRWNlU4ZzBlZWVhamFocHRhREM3cGltVHNLVjVpeTRLRWpwRWJWTVdEdz09</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9PTU5JU3RhdGljL3NjcmlwdHMvdmlzLmpzIEhUVFAvMS4xDQpBY2NlcHQ6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsICovKjtxPTAuOA0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFZWlk1S2dKU2haWEMzS2dwVWxRRTBYckFWSVlKc01nQ2tEM1c0V0VpQmhIKzdueWFDblFOc0RnQk9YYUFuVmR3REZuR25UT1o2WDRZcDl4Y1JZMzBmdTFDUkNRQy9sV0xZaDJyMVdMVGxDNklqMzhRN1BMYnl5OVhMdFg5Vmc3R2U3QllEY0dTRU1McnRraUxoVHpSNFRYNlNKMUlCY1FkeStnRGJuU3IvNkJqWVVVSVcrZkhaNmsrRCthVTNpd09EaWJNcVYzSHdyaFNZM0syeWZLcnZ3MXF1RGoyVHZ5SW1hQnFua2FoYTZwY1V2aXBURSs1aFNNUlRRQmFsVjFCaWVtbVdlUkw1dWN3RnBvM0ZSVStYeGNyZ0x1anBOS1ZRV0RPdEdOOFl6UzJsaUdyOTJka1g2RDVXeDNSL05DclEyVmcrbVdNZDBaR1hkUWRHbittdnh1UFNGQlFCYVFkYmpDSGhkVGVDanJVLzRGVnNuR1NGelczUFpmOFdLemdRai9MV2c1TU9Zdnczc3F2RlB2aGFBYWg0YTFxSXk0ZGVUNm9PM1YvL3VvbDNtZE5YUGpjMFV5WWdWeEYvenQvT1pvVWhwUk5MSHFRY3VCaFN1eVJrenpFY3ZaR2grTnNCWEFNandrMkpQazhmMWxyTklOTk0rNklZa0h5clFDb3l3YjJJMTZBcDVkVjZVOGcwZWVlYWphaHB0YURDN3BpbVRzS1Y1aXk0S0VqcEViVk1XRHc9PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="JSESSIONID" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Transfer-Encoding" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2h1bmtlZA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Type" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Last-Modified" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODozNCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Ranges" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ynl0ZXM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ETag" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>IjA0OWU5N2FkYThlZDMxOjAi</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Vary" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Server" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Powered-By" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>QVNQLk5FVA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="WWW-Authenticate" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVZUm9sdGZIYnA5ZmRQZDl1aFpQYTJJQWFWb05lZ214MnlpcnJCYzVOOVRkSzg4dmJRSWVoL0NaWjBLa0tmbG9ValZiMlI3Ung2QjFsdTJRb0pUdWJPY2dnRXpJSTM2akZsTnd3V0hmWDNaUENTNmRneEdtb2JLL3pwMmVKQ1Yxa0VsZ0V3aUY2SGFKZnFLZWRpMTA9</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Date" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANCkxhc3QtTW9kaWZpZWQ6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MzQgR01UDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KRVRhZzogIjA0OWU5N2FkYThlZDMxOjAiDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVZUm9sdGZIYnA5ZmRQZDl1aFpQYTJJQWFWb05lZ214MnlpcnJCYzVOOVRkSzg4dmJRSWVoL0NaWjBLa0tmbG9ValZiMlI3Ung2QjFsdTJRb0pUdWJPY2dnRXpJSTM2akZsTnd3V0hmWDNaUENTNmRneEdtb2JLL3pwMmVKQ1Yxa0VsZ0V3aUY2SGFKZnFLZWRpMTA9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyoqCiAqIHZpcy5qcwogKiBodHRwczovL2dpdGh1Yi5jb20vYWxtZW5kZS92aXMKICoKICogQSBkeW5hbWljLCBicm93c2VyLWJhc2VkIHZpc3VhbGl6YXRpb24gbGlicmFyeS4KICoKICogQHZlcnNpb24gNC4zLjAKICogQGRhdGUgICAgMjAxNS0wNi0xNgogKgogKiBAbGljZW5zZQogKiBDb3B5cmlnaHQgKEMpIDIwMTEtMjAxNCBBbG1lbmRlIEIuViwgaHR0cDovL2FsbWVuZGUuY29tCiAqCiAqIFZpcy5qcyBpcyBkdWFsIGxpY2Vuc2VkIHVuZGVyIGJvdGgKICoKICogKiBUaGUgQXBhY2hlIDIuMCBMaWNlbnNlCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIGFuZAogKgogKiAqIFRoZSBNSVQgTGljZW5zZQogKiAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQKICoKICogVmlzLmpzIG1heSBiZSBkaXN0cmlidXRlZCB1bmRlciBlaXRoZXIgbGljZW5zZS4KICovCgoidXNlIHN0cmljdCI7CgooZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkgewoJaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKQoJCW1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwoJZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpCgkJZGVmaW5lKGZhY3RvcnkpOwoJZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpCgkJZXhwb3J0c1sidmlzIl0gPSBmYWN0b3J5KCk7CgllbHNlCgkJcm9vdFsidmlzIl0gPSBmYWN0b3J5KCk7Cn0pKHRoaXMsIGZ1bmN0aW9uKCkgewpyZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewoKLyoqKioqKi8gCQkvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8gCQlpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CgovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlleHBvcnRzOiB7fSwKLyoqKioqKi8gCQkJaWQ6IG1vZHVsZUlkLAovKioqKioqLyAJCQlsb2FkZWQ6IGZhbHNlCi8qKioqKiovIAkJfTsKCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CgovKioqKioqLyAJCS8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKLyoqKioqKi8gCQltb2R1bGUubG9hZGVkID0gdHJ1ZTsKCi8qKioqKiovIAkJLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKLyoqKioqKi8gCQlyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Ci8qKioqKiovIAl9CgoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwoKLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoWwovKiAwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAvLyB1dGlscwogICd1c2Ugc3RyaWN0JzsKCiAgZXhwb3J0cy51dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICBleHBvcnRzLkRPTXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpOwoKICAvLyBkYXRhCiAgZXhwb3J0cy5EYXRhU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKICBleHBvcnRzLkRhdGFWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7CiAgZXhwb3J0cy5RdWV1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7CgogIC8vIEdyYXBoM2QKICBleHBvcnRzLkdyYXBoM2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTsKICBleHBvcnRzLmdyYXBoM2QgPSB7CiAgICBDYW1lcmE6IF9fd2VicGFja19yZXF1aXJlX18oMTUpLAogICAgRmlsdGVyOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSwKICAgIFBvaW50MmQ6IF9fd2VicGFja19yZXF1aXJlX18oMTIpLAogICAgUG9pbnQzZDogX193ZWJwYWNrX3JlcXVpcmVfXygxNCksCiAgICBTbGlkZXI6IF9fd2VicGFja19yZXF1aXJlX18oMTcpLAogICAgU3RlcE51bWJlcjogX193ZWJwYWNrX3JlcXVpcmVfXygxOCkKICB9OwoKICAvLyBUaW1lbGluZQogIGV4cG9ydHMuVGltZWxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTsKICBleHBvcnRzLkdyYXBoMmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTsKICBleHBvcnRzLnRpbWVsaW5lID0gewogICAgRGF0ZVV0aWw6IF9fd2VicGFja19yZXF1aXJlX18oMjkpLAogICAgRGF0YVN0ZXA6IF9fd2VicGFja19yZXF1aXJlX18oNTIpLAogICAgUmFuZ2U6IF9fd2VicGFja19yZXF1aXJlX18oMjcpLAogICAgc3RhY2s6IF9fd2VicGFja19yZXF1aXJlX18oMzMpLAogICAgVGltZVN0ZXA6IF9fd2VicGFja19yZXF1aXJlX18oMzYpLAoKICAgIGNvbXBvbmVudHM6IHsKICAgICAgaXRlbXM6IHsKICAgICAgICBJdGVtOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSwKICAgICAgICBCYWNrZ3JvdW5kSXRlbTogX193ZWJwYWNrX3JlcXVpcmVfXyg0MCksCiAgICAgICAgQm94SXRlbTogX193ZWJwYWNrX3JlcXVpcmVfXygzOCksCiAgICAgICAgUG9pbnRJdGVtOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSwKICAgICAgICBSYW5nZUl0ZW06IF9fd2VicGFja19yZXF1aXJlX18oMzQpCiAgICAgIH0sCgogICAgICBDb21wb25lbnQ6IF9fd2VicGFja19yZXF1aXJlX18oMjEpLAogICAgICBDdXJyZW50VGltZTogX193ZWJwYWNrX3JlcXVpcmVfXygyMCksCiAgICAgIEN1c3RvbVRpbWU6IF9fd2VicGFja19yZXF1aXJlX18oNDQpLAogICAgICBEYXRhQXhpczogX193ZWJwYWNrX3JlcXVpcmVfXyg1MSksCiAgICAgIEdyYXBoR3JvdXA6IF9fd2VicGFja19yZXF1aXJlX18oNTMpLAogICAgICBHcm91cDogX193ZWJwYWNrX3JlcXVpcmVfXygzMiksCiAgICAgIEJhY2tncm91bmRHcm91cDogX193ZWJwYWNrX3JlcXVpcmVfXygzNyksCiAgICAgIEl0ZW1TZXQ6IF9fd2VicGFja19yZXF1aXJlX18oMzEpLAogICAgICBMZWdlbmQ6IF9fd2VicGFja19yZXF1aXJlX18oNTcpLAogICAgICBMaW5lR3JhcGg6IF9fd2VicGFja19yZXF1aXJlX18oNTApLAogICAgICBUaW1lQXhpczogX193ZWJwYWNrX3JlcXVpcmVfXyg0MSkKICAgIH0KICB9OwoKICAvLyBOZXR3b3JrCiAgZXhwb3J0cy5OZXR3b3JrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7CiAgZXhwb3J0cy5uZXR3b3JrID0gewogICAgSW1hZ2VzOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMiksCiAgICBkb3RwYXJzZXI6IF9fd2VicGFja19yZXF1aXJlX18oMTEwKSwKICAgIGdlcGhpUGFyc2VyOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSksCiAgICBhbGxPcHRpb25zOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCkKICB9OwogIGV4cG9ydHMubmV0d29yay5jb252ZXJ0RG90ID0gZnVuY3Rpb24gKGlucHV0KSB7CiAgICByZXR1cm4gZXhwb3J0cy5uZXR3b3JrLmRvdHBhcnNlci5ET1RUb0dyYXBoKGlucHV0KTsKICB9OwogIGV4cG9ydHMubmV0d29yay5jb252ZXJ0R2VwaGkgPSBmdW5jdGlvbiAoaW5wdXQsIG9wdGlvbnMpIHsKICAgIHJldHVybiBleHBvcnRzLm5ldHdvcmsuZ2VwaGlQYXJzZXIucGFyc2VHZXBoaShpbnB1dCwgb3B0aW9ucyk7CiAgfTsKCiAgLy8gRGVwcmVjYXRlZCBzaW5jZSB2My4wLjAKICBleHBvcnRzLkdyYXBoID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdHcmFwaCBpcyByZW5hbWVkIHRvIE5ldHdvcmsuIFBsZWFzZSBjcmVhdGUgYSBncmFwaCBhcyBuZXcgdmlzLk5ldHdvcmsoLi4uKScpOwogIH07CgogIC8vIGJ1bmRsZWQgZXh0ZXJuYWwgbGlicmFyaWVzCiAgZXhwb3J0cy5tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOwogIGV4cG9ydHMuaGFtbWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7IC8vIFRPRE86IGRlcHJlY2F0ZSBleHBvcnRzLmhhbW1lciBzb21lIGRheQogIGV4cG9ydHMuSGFtbWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7CgovKioqLyB9LAovKiAxICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAvLyB1dGlsaXR5IGZ1bmN0aW9ucwoKICAvLyBmaXJzdCBjaGVjayBpZiBtb21lbnQuanMgaXMgYWxyZWFkeSBsb2FkZWQgaW4gdGhlIGJyb3dzZXIgd2luZG93LCBpZiBzbywKICAvLyB1c2UgdGhpcyBpbnN0YW5jZS4gRWxzZSwgbG9hZCB2aWEgY29tbW9uanMuCgogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIG1vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7CiAgdmFyIHV1aWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpOwoKICAvKioKICAgKiBUZXN0IHdoZXRoZXIgZ2l2ZW4gb2JqZWN0IGlzIGEgbnVtYmVyCiAgICogQHBhcmFtIHsqfSBvYmplY3QKICAgKiBAcmV0dXJuIHtCb29sZWFufSBpc051bWJlcgogICAqLwogIGV4cG9ydHMuaXNOdW1iZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7CiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgTnVtYmVyIHx8IHR5cGVvZiBvYmplY3QgPT0gJ251bWJlcic7CiAgfTsKCiAgLyoqCiAgICogUmVtb3ZlIGV2ZXJ5dGhpbmcgaW4gdGhlIERPTSBvYmplY3QKICAgKiBAcGFyYW0gRE9Nb2JqZWN0CiAgICovCiAgZXhwb3J0cy5yZWN1cnNpdmVET01EZWxldGUgPSBmdW5jdGlvbiAoRE9Nb2JqZWN0KSB7CiAgICBpZiAoRE9Nb2JqZWN0KSB7CiAgICAgIHdoaWxlIChET01vYmplY3QuaGFzQ2hpbGROb2RlcygpID09PSB0cnVlKSB7CiAgICAgICAgZXhwb3J0cy5yZWN1cnNpdmVET01EZWxldGUoRE9Nb2JqZWN0LmZpcnN0Q2hpbGQpOwogICAgICAgIERPTW9iamVjdC5yZW1vdmVDaGlsZChET01vYmplY3QuZmlyc3RDaGlsZCk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiB0aGlzIGZ1bmN0aW9uIGdpdmVzIHlvdSBhIHJhbmdlIGJldHdlZW4gMCBhbmQgMSBiYXNlZCBvbiB0aGUgbWluIGFuZCBtYXggdmFsdWVzIGluIHRoZSBzZXQsIHRoZSB0b3RhbCBzdW0gb2YgYWxsIHZhbHVlcyBhbmQgdGhlIGN1cnJlbnQgdmFsdWUuCiAgICoKICAgKiBAcGFyYW0gbWluCiAgICogQHBhcmFtIG1heAogICAqIEBwYXJhbSB0b3RhbAogICAqIEBwYXJhbSB2YWx1ZQogICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICovCiAgZXhwb3J0cy5naXZlUmFuZ2UgPSBmdW5jdGlvbiAobWluLCBtYXgsIHRvdGFsLCB2YWx1ZSkgewogICAgaWYgKG1heCA9PSBtaW4pIHsKICAgICAgcmV0dXJuIDAuNTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBzY2FsZSA9IDEgLyAobWF4IC0gbWluKTsKICAgICAgcmV0dXJuIE1hdGgubWF4KDAsICh2YWx1ZSAtIG1pbikgKiBzY2FsZSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogVGVzdCB3aGV0aGVyIGdpdmVuIG9iamVjdCBpcyBhIHN0cmluZwogICAqIEBwYXJhbSB7Kn0gb2JqZWN0CiAgICogQHJldHVybiB7Qm9vbGVhbn0gaXNTdHJpbmcKICAgKi8KICBleHBvcnRzLmlzU3RyaW5nID0gZnVuY3Rpb24gKG9iamVjdCkgewogICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIFN0cmluZyB8fCB0eXBlb2Ygb2JqZWN0ID09ICdzdHJpbmcnOwogIH07CgogIC8qKgogICAqIFRlc3Qgd2hldGhlciBnaXZlbiBvYmplY3QgaXMgYSBEYXRlLCBvciBhIFN0cmluZyBjb250YWluaW5nIGEgRGF0ZQogICAqIEBwYXJhbSB7RGF0ZSB8IFN0cmluZ30gb2JqZWN0CiAgICogQHJldHVybiB7Qm9vbGVhbn0gaXNEYXRlCiAgICovCiAgZXhwb3J0cy5pc0RhdGUgPSBmdW5jdGlvbiAob2JqZWN0KSB7CiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZXhwb3J0cy5pc1N0cmluZyhvYmplY3QpKSB7CiAgICAgIC8vIHRlc3Qgd2hldGhlciB0aGlzIHN0cmluZyBjb250YWlucyBhIGRhdGUKICAgICAgdmFyIG1hdGNoID0gQVNQRGF0ZVJlZ2V4LmV4ZWMob2JqZWN0KTsKICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKERhdGUucGFyc2Uob2JqZWN0KSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9OwoKICAvKioKICAgKiBDcmVhdGUgYSBzZW1pIFVVSUQKICAgKiBzb3VyY2U6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNTA3NC8xMjYyNzUzCiAgICogQHJldHVybiB7U3RyaW5nfSB1dWlkCiAgICovCiAgZXhwb3J0cy5yYW5kb21VVUlEID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHV1aWQudjQoKTsKICB9OwoKICAvKioKICAgKiBhc3NpZ24gYWxsIGtleXMgb2YgYW4gb2JqZWN0IHRoYXQgYXJlIG5vdCBuZXN0ZWQgb2JqZWN0cyB0byBhIGNlcnRhaW4gdmFsdWUgKHVzZWQgZm9yIGNvbG9yIG9iamVjdHMpLgogICAqIEBwYXJhbSBvYmoKICAgKiBAcGFyYW0gdmFsdWUKICAgKi8KICBleHBvcnRzLmFzc2lnbkFsbEtleXMgPSBmdW5jdGlvbiAob2JqLCB2YWx1ZSkgewogICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHsKICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BdICE9PSAnb2JqZWN0JykgewogICAgICAgICAgb2JqW3Byb3BdID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogRmlsbCBhbiBvYmplY3Qgd2l0aCBhIHBvc3NpYmx5IHBhcnRpYWxseSBkZWZpbmVkIG90aGVyIG9iamVjdC4gT25seSBjb3BpZXMgdmFsdWVzIGlmIHRoZSBhIG9iamVjdCBoYXMgYW4gb2JqZWN0IHJlcXVpcmluZyB2YWx1ZXMuCiAgICogVGhhdCBtZWFucyBhbiBvYmplY3QgaXMgbm90IGNyZWF0ZWQgb24gYSBwcm9wZXJ0eSBpZiBvbmx5IHRoZSBiIG9iamVjdCBoYXMgaXQuCiAgICogQHBhcmFtIG9iagogICAqIEBwYXJhbSB2YWx1ZQogICAqLwogIGV4cG9ydHMuZmlsbElmRGVmaW5lZCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYWxsb3dEZWxldGlvbiA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMl07CgogICAgZm9yICh2YXIgcHJvcCBpbiBhKSB7CiAgICAgIGlmIChiW3Byb3BdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAodHlwZW9mIGJbcHJvcF0gIT09ICdvYmplY3QnKSB7CiAgICAgICAgICBpZiAoKGJbcHJvcF0gPT09IHVuZGVmaW5lZCB8fCBiW3Byb3BdID09PSBudWxsKSAmJiBhW3Byb3BdICE9PSB1bmRlZmluZWQgJiYgYWxsb3dEZWxldGlvbiA9PT0gdHJ1ZSkgewogICAgICAgICAgICBkZWxldGUgYVtwcm9wXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFbcHJvcF0gPSBiW3Byb3BdOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodHlwZW9mIGFbcHJvcF0gPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGV4cG9ydHMuZmlsbElmRGVmaW5lZChhW3Byb3BdLCBiW3Byb3BdLCBhbGxvd0RlbGV0aW9uKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBFeHRlbmQgb2JqZWN0IGEgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYiBvciBhIHNlcmllcyBvZiBvYmplY3RzCiAgICogT25seSBwcm9wZXJ0aWVzIHdpdGggZGVmaW5lZCB2YWx1ZXMgYXJlIGNvcGllZAogICAqIEBwYXJhbSB7T2JqZWN0fSBhCiAgICogQHBhcmFtIHsuLi4gT2JqZWN0fSBiCiAgICogQHJldHVybiB7T2JqZWN0fSBhCiAgICovCiAgZXhwb3J0cy5wcm90b0V4dGVuZCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgb3RoZXIgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gb3RoZXIpIHsKICAgICAgICBhW3Byb3BdID0gb3RoZXJbcHJvcF07CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBhOwogIH07CgogIC8qKgogICAqIEV4dGVuZCBvYmplY3QgYSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiIG9yIGEgc2VyaWVzIG9mIG9iamVjdHMKICAgKiBPbmx5IHByb3BlcnRpZXMgd2l0aCBkZWZpbmVkIHZhbHVlcyBhcmUgY29waWVkCiAgICogQHBhcmFtIHtPYmplY3R9IGEKICAgKiBAcGFyYW0gey4uLiBPYmplY3R9IGIKICAgKiBAcmV0dXJuIHtPYmplY3R9IGEKICAgKi8KICBleHBvcnRzLmV4dGVuZCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgb3RoZXIgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gb3RoZXIpIHsKICAgICAgICBpZiAob3RoZXIuaGFzT3duUHJvcGVydHkocHJvcCkpIHsKICAgICAgICAgIGFbcHJvcF0gPSBvdGhlcltwcm9wXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBhOwogIH07CgogIC8qKgogICAqIEV4dGVuZCBvYmplY3QgYSB3aXRoIHNlbGVjdGVkIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIgb3IgYSBzZXJpZXMgb2Ygb2JqZWN0cwogICAqIE9ubHkgcHJvcGVydGllcyB3aXRoIGRlZmluZWQgdmFsdWVzIGFyZSBjb3BpZWQKICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBwcm9wcwogICAqIEBwYXJhbSB7T2JqZWN0fSBhCiAgICogQHBhcmFtIHtPYmplY3R9IGIKICAgKiBAcmV0dXJuIHtPYmplY3R9IGEKICAgKi8KICBleHBvcnRzLnNlbGVjdGl2ZUV4dGVuZCA9IGZ1bmN0aW9uIChwcm9wcywgYSwgYikgewogICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BzKSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5IHdpdGggcHJvcGVydHkgbmFtZXMgZXhwZWN0ZWQgYXMgZmlyc3QgYXJndW1lbnQnKTsKICAgIH0KCiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgb3RoZXIgPSBhcmd1bWVudHNbaV07CgogICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHByb3BzLmxlbmd0aDsgcCsrKSB7CiAgICAgICAgdmFyIHByb3AgPSBwcm9wc1twXTsKICAgICAgICBpZiAob3RoZXIuaGFzT3duUHJvcGVydHkocHJvcCkpIHsKICAgICAgICAgIGFbcHJvcF0gPSBvdGhlcltwcm9wXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBhOwogIH07CgogIC8qKgogICAqIEV4dGVuZCBvYmplY3QgYSB3aXRoIHNlbGVjdGVkIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIgb3IgYSBzZXJpZXMgb2Ygb2JqZWN0cwogICAqIE9ubHkgcHJvcGVydGllcyB3aXRoIGRlZmluZWQgdmFsdWVzIGFyZSBjb3BpZWQKICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBwcm9wcwogICAqIEBwYXJhbSB7T2JqZWN0fSBhCiAgICogQHBhcmFtIHtPYmplY3R9IGIKICAgKiBAcmV0dXJuIHtPYmplY3R9IGEKICAgKi8KICBleHBvcnRzLnNlbGVjdGl2ZURlZXBFeHRlbmQgPSBmdW5jdGlvbiAocHJvcHMsIGEsIGIpIHsKICAgIHZhciBhbGxvd0RlbGV0aW9uID0gYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1szXTsKCiAgICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgQXJyYXlzIHRvIGRlZXBFeHRlbmQKICAgIGlmIChBcnJheS5pc0FycmF5KGIpKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kJyk7CiAgICB9CiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgb3RoZXIgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJvcHMubGVuZ3RoOyBwKyspIHsKICAgICAgICB2YXIgcHJvcCA9IHByb3BzW3BdOwogICAgICAgIGlmIChvdGhlci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgaWYgKGJbcHJvcF0gJiYgYltwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7CiAgICAgICAgICAgIGlmIChhW3Byb3BdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBhW3Byb3BdID0ge307CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGFbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkgewogICAgICAgICAgICAgIGV4cG9ydHMuZGVlcEV4dGVuZChhW3Byb3BdLCBiW3Byb3BdLCBmYWxzZSwgYWxsb3dEZWxldGlvbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKGJbcHJvcF0gPT09IG51bGwgJiYgYVtwcm9wXSAhPT0gdW5kZWZpbmVkICYmIGFsbG93RGVsZXRpb24gPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBhW3Byb3BdOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhW3Byb3BdID0gYltwcm9wXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiW3Byb3BdKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZCcpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYVtwcm9wXSA9IGJbcHJvcF07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gYTsKICB9OwoKICAvKioKICAgKiBFeHRlbmQgb2JqZWN0IGEgd2l0aCBzZWxlY3RlZCBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiIG9yIGEgc2VyaWVzIG9mIG9iamVjdHMKICAgKiBPbmx5IHByb3BlcnRpZXMgd2l0aCBkZWZpbmVkIHZhbHVlcyBhcmUgY29waWVkCiAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gcHJvcHMKICAgKiBAcGFyYW0ge09iamVjdH0gYQogICAqIEBwYXJhbSB7T2JqZWN0fSBiCiAgICogQHJldHVybiB7T2JqZWN0fSBhCiAgICovCiAgZXhwb3J0cy5zZWxlY3RpdmVOb3REZWVwRXh0ZW5kID0gZnVuY3Rpb24gKHByb3BzLCBhLCBiKSB7CiAgICB2YXIgYWxsb3dEZWxldGlvbiA9IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbM107CgogICAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIEFycmF5cyB0byBkZWVwRXh0ZW5kCiAgICBpZiAoQXJyYXkuaXNBcnJheShiKSkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZCcpOwogICAgfQogICAgZm9yICh2YXIgcHJvcCBpbiBiKSB7CiAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHByb3ApKSB7CiAgICAgICAgaWYgKHByb3BzLmluZGV4T2YocHJvcCkgPT0gLTEpIHsKICAgICAgICAgIGlmIChiW3Byb3BdICYmIGJbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkgewogICAgICAgICAgICBpZiAoYVtwcm9wXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgYVtwcm9wXSA9IHt9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHsKICAgICAgICAgICAgICBleHBvcnRzLmRlZXBFeHRlbmQoYVtwcm9wXSwgYltwcm9wXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKGJbcHJvcF0gPT09IG51bGwgJiYgYVtwcm9wXSAhPT0gdW5kZWZpbmVkICYmIGFsbG93RGVsZXRpb24gPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBhW3Byb3BdOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhW3Byb3BdID0gYltwcm9wXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiW3Byb3BdKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZCcpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYVtwcm9wXSA9IGJbcHJvcF07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gYTsKICB9OwoKICAvKioKICAgKiBEZWVwIGV4dGVuZCBhbiBvYmplY3QgYSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiCiAgICogQHBhcmFtIHtPYmplY3R9IGEKICAgKiBAcGFyYW0ge09iamVjdH0gYgogICAqIEBwYXJhbSBbQm9vbGVhbl0gcHJvdG9FeHRlbmQgLS0+IG9wdGlvbmFsIHBhcmFtZXRlci4gSWYgdHJ1ZSwgdGhlIHByb3RvdHlwZSB2YWx1ZXMgd2lsbCBhbHNvIGJlIGV4dGVuZGVkLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpZS4gdGhlIG9wdGlvbnMgb2JqZWN0cyB0aGF0IGluaGVyaXQgZnJvbSBvdGhlcnMgd2lsbCBhbHNvIGdldCB0aGUgaW5oZXJpdGVkIG9wdGlvbnMpCiAgICogQHBhcmFtIFtCb29sZWFuXSBnbG9iYWwgICAgICAtLT4gb3B0aW9uYWwgcGFyYW1ldGVyLiBJZiB0cnVlLCB0aGUgdmFsdWVzIG9mIGZpZWxkcyB0aGF0IGFyZSBudWxsIHdpbGwgbm90IGRlbGV0ZWQKICAgKiBAcmV0dXJucyB7T2JqZWN0fQogICAqLwogIGV4cG9ydHMuZGVlcEV4dGVuZCA9IGZ1bmN0aW9uIChhLCBiLCBwcm90b0V4dGVuZCwgYWxsb3dEZWxldGlvbikgewogICAgZm9yICh2YXIgcHJvcCBpbiBiKSB7CiAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHByb3ApIHx8IHByb3RvRXh0ZW5kID09PSB0cnVlKSB7CiAgICAgICAgaWYgKGJbcHJvcF0gJiYgYltwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7CiAgICAgICAgICBpZiAoYVtwcm9wXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGFbcHJvcF0gPSB7fTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChhW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHsKICAgICAgICAgICAgZXhwb3J0cy5kZWVwRXh0ZW5kKGFbcHJvcF0sIGJbcHJvcF0sIHByb3RvRXh0ZW5kKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChiW3Byb3BdID09PSBudWxsICYmIGFbcHJvcF0gIT09IHVuZGVmaW5lZCAmJiBhbGxvd0RlbGV0aW9uID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgZGVsZXRlIGFbcHJvcF07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYVtwcm9wXSA9IGJbcHJvcF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYltwcm9wXSkpIHsKICAgICAgICAgIGFbcHJvcF0gPSBbXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYltwcm9wXS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBhW3Byb3BdLnB1c2goYltwcm9wXVtpXSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFbcHJvcF0gPSBiW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIGE7CiAgfTsKCiAgLyoqCiAgICogVGVzdCB3aGV0aGVyIGFsbCBlbGVtZW50cyBpbiB0d28gYXJyYXlzIGFyZSBlcXVhbC4KICAgKiBAcGFyYW0ge0FycmF5fSBhCiAgICogQHBhcmFtIHtBcnJheX0gYgogICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBib3RoIGFycmF5cyBoYXZlIHRoZSBzYW1lIGxlbmd0aCBhbmQgc2FtZQogICAqICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLgogICAqLwogIGV4cG9ydHMuZXF1YWxBcnJheSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTsKCiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICBpZiAoYVtpXSAhPSBiW2ldKSByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfTsKCiAgLyoqCiAgICogQ29udmVydCBhbiBvYmplY3QgdG8gYW5vdGhlciB0eXBlCiAgICogQHBhcmFtIHtCb29sZWFuIHwgTnVtYmVyIHwgU3RyaW5nIHwgRGF0ZSB8IE1vbWVudCB8IE51bGwgfCB1bmRlZmluZWR9IG9iamVjdAogICAqIEBwYXJhbSB7U3RyaW5nIHwgdW5kZWZpbmVkfSB0eXBlICAgTmFtZSBvZiB0aGUgdHlwZS4gQXZhaWxhYmxlIHR5cGVzOgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRGF0ZScsICdNb21lbnQnLCBJU09EYXRlJywgJ0FTUERhdGUnLgogICAqIEByZXR1cm4geyp9IG9iamVjdAogICAqIEB0aHJvd3MgRXJyb3IKICAgKi8KICBleHBvcnRzLmNvbnZlcnQgPSBmdW5jdGlvbiAob2JqZWN0LCB0eXBlKSB7CiAgICB2YXIgbWF0Y2g7CgogICAgaWYgKG9iamVjdCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CiAgICBpZiAob2JqZWN0ID09PSBudWxsKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIGlmICghdHlwZSkgewogICAgICByZXR1cm4gb2JqZWN0OwogICAgfQogICAgaWYgKCEodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSAmJiAhKHR5cGUgaW5zdGFuY2VvZiBTdHJpbmcpKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVHlwZSBtdXN0IGJlIGEgc3RyaW5nJyk7CiAgICB9CgogICAgLy9ub2luc3BlY3Rpb24gRmFsbHRocm91Z2hJblN3aXRjaFN0YXRlbWVudEpTCiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAnYm9vbGVhbic6CiAgICAgIGNhc2UgJ0Jvb2xlYW4nOgogICAgICAgIHJldHVybiBCb29sZWFuKG9iamVjdCk7CgogICAgICBjYXNlICdudW1iZXInOgogICAgICBjYXNlICdOdW1iZXInOgogICAgICAgIHJldHVybiBOdW1iZXIob2JqZWN0LnZhbHVlT2YoKSk7CgogICAgICBjYXNlICdzdHJpbmcnOgogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIHJldHVybiBTdHJpbmcob2JqZWN0KTsKCiAgICAgIGNhc2UgJ0RhdGUnOgogICAgICAgIGlmIChleHBvcnRzLmlzTnVtYmVyKG9iamVjdCkpIHsKICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShvYmplY3QpOwogICAgICAgIH0KICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG9iamVjdC52YWx1ZU9mKCkpOwogICAgICAgIH0gZWxzZSBpZiAobW9tZW50LmlzTW9tZW50KG9iamVjdCkpIHsKICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShvYmplY3QudmFsdWVPZigpKTsKICAgICAgICB9CiAgICAgICAgaWYgKGV4cG9ydHMuaXNTdHJpbmcob2JqZWN0KSkgewogICAgICAgICAgbWF0Y2ggPSBBU1BEYXRlUmVnZXguZXhlYyhvYmplY3QpOwogICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIC8vIG9iamVjdCBpcyBhbiBBU1AgZGF0ZQogICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoTnVtYmVyKG1hdGNoWzFdKSk7IC8vIHBhcnNlIG51bWJlcgogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG1vbWVudChvYmplY3QpLnRvRGF0ZSgpOyAvLyBwYXJzZSBzdHJpbmcKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBvYmplY3Qgb2YgdHlwZSAnICsgZXhwb3J0cy5nZXRUeXBlKG9iamVjdCkgKyAnIHRvIHR5cGUgRGF0ZScpOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ01vbWVudCc6CiAgICAgICAgaWYgKGV4cG9ydHMuaXNOdW1iZXIob2JqZWN0KSkgewogICAgICAgICAgcmV0dXJuIG1vbWVudChvYmplY3QpOwogICAgICAgIH0KICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgcmV0dXJuIG1vbWVudChvYmplY3QudmFsdWVPZigpKTsKICAgICAgICB9IGVsc2UgaWYgKG1vbWVudC5pc01vbWVudChvYmplY3QpKSB7CiAgICAgICAgICByZXR1cm4gbW9tZW50KG9iamVjdCk7CiAgICAgICAgfQogICAgICAgIGlmIChleHBvcnRzLmlzU3RyaW5nKG9iamVjdCkpIHsKICAgICAgICAgIG1hdGNoID0gQVNQRGF0ZVJlZ2V4LmV4ZWMob2JqZWN0KTsKICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAvLyBvYmplY3QgaXMgYW4gQVNQIGRhdGUKICAgICAgICAgICAgcmV0dXJuIG1vbWVudChOdW1iZXIobWF0Y2hbMV0pKTsgLy8gcGFyc2UgbnVtYmVyCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gbW9tZW50KG9iamVjdCk7IC8vIHBhcnNlIHN0cmluZwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IG9iamVjdCBvZiB0eXBlICcgKyBleHBvcnRzLmdldFR5cGUob2JqZWN0KSArICcgdG8gdHlwZSBEYXRlJyk7CiAgICAgICAgfQoKICAgICAgY2FzZSAnSVNPRGF0ZSc6CiAgICAgICAgaWYgKGV4cG9ydHMuaXNOdW1iZXIob2JqZWN0KSkgewogICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG9iamVjdCk7CiAgICAgICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlKSB7CiAgICAgICAgICByZXR1cm4gb2JqZWN0LnRvSVNPU3RyaW5nKCk7CiAgICAgICAgfSBlbHNlIGlmIChtb21lbnQuaXNNb21lbnQob2JqZWN0KSkgewogICAgICAgICAgcmV0dXJuIG9iamVjdC50b0RhdGUoKS50b0lTT1N0cmluZygpOwogICAgICAgIH0gZWxzZSBpZiAoZXhwb3J0cy5pc1N0cmluZyhvYmplY3QpKSB7CiAgICAgICAgICBtYXRjaCA9IEFTUERhdGVSZWdleC5leGVjKG9iamVjdCk7CiAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgLy8gb2JqZWN0IGlzIGFuIEFTUCBkYXRlCiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShOdW1iZXIobWF0Y2hbMV0pKS50b0lTT1N0cmluZygpOyAvLyBwYXJzZSBudW1iZXIKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShvYmplY3QpLnRvSVNPU3RyaW5nKCk7IC8vIHBhcnNlIHN0cmluZwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IG9iamVjdCBvZiB0eXBlICcgKyBleHBvcnRzLmdldFR5cGUob2JqZWN0KSArICcgdG8gdHlwZSBJU09EYXRlJyk7CiAgICAgICAgfQoKICAgICAgY2FzZSAnQVNQRGF0ZSc6CiAgICAgICAgaWYgKGV4cG9ydHMuaXNOdW1iZXIob2JqZWN0KSkgewogICAgICAgICAgcmV0dXJuICcvRGF0ZSgnICsgb2JqZWN0ICsgJykvJzsKICAgICAgICB9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIERhdGUpIHsKICAgICAgICAgIHJldHVybiAnL0RhdGUoJyArIG9iamVjdC52YWx1ZU9mKCkgKyAnKS8nOwogICAgICAgIH0gZWxzZSBpZiAoZXhwb3J0cy5pc1N0cmluZyhvYmplY3QpKSB7CiAgICAgICAgICBtYXRjaCA9IEFTUERhdGVSZWdleC5leGVjKG9iamVjdCk7CiAgICAgICAgICB2YXIgdmFsdWU7CiAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgLy8gb2JqZWN0IGlzIGFuIEFTUCBkYXRlCiAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoTnVtYmVyKG1hdGNoWzFdKSkudmFsdWVPZigpOyAvLyBwYXJzZSBudW1iZXIKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUob2JqZWN0KS52YWx1ZU9mKCk7IC8vIHBhcnNlIHN0cmluZwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuICcvRGF0ZSgnICsgdmFsdWUgKyAnKS8nOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IG9iamVjdCBvZiB0eXBlICcgKyBleHBvcnRzLmdldFR5cGUob2JqZWN0KSArICcgdG8gdHlwZSBBU1BEYXRlJyk7CiAgICAgICAgfQoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSAiJyArIHR5cGUgKyAnIicpOwogICAgfQogIH07CgogIC8vIHBhcnNlIEFTUC5OZXQgRGF0ZSBwYXR0ZXJuLAogIC8vIGZvciBleGFtcGxlICcvRGF0ZSgxMTk4OTA4NzE3MDU2KS8nIG9yICcvRGF0ZSgxMTk4OTA4NzE3MDU2LTA3MDApLycKICAvLyBjb2RlIGZyb20gaHR0cDovL21vbWVudGpzLmNvbS8KICB2YXIgQVNQRGF0ZVJlZ2V4ID0gL15cLz9EYXRlXCgoXC0/XGQrKS9pOwoKICAvKioKICAgKiBHZXQgdGhlIHR5cGUgb2YgYW4gb2JqZWN0LCBmb3IgZXhhbXBsZSBleHBvcnRzLmdldFR5cGUoW10pIHJldHVybnMgJ0FycmF5JwogICAqIEBwYXJhbSB7Kn0gb2JqZWN0CiAgICogQHJldHVybiB7U3RyaW5nfSB0eXBlCiAgICovCiAgZXhwb3J0cy5nZXRUeXBlID0gZnVuY3Rpb24gKG9iamVjdCkgewogICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqZWN0OwoKICAgIGlmICh0eXBlID09ICdvYmplY3QnKSB7CiAgICAgIGlmIChvYmplY3QgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gJ251bGwnOwogICAgICB9CiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBCb29sZWFuKSB7CiAgICAgICAgcmV0dXJuICdCb29sZWFuJzsKICAgICAgfQogICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgTnVtYmVyKSB7CiAgICAgICAgcmV0dXJuICdOdW1iZXInOwogICAgICB9CiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgICByZXR1cm4gJ1N0cmluZyc7CiAgICAgIH0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkgewogICAgICAgIHJldHVybiAnQXJyYXknOwogICAgICB9CiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlKSB7CiAgICAgICAgcmV0dXJuICdEYXRlJzsKICAgICAgfQogICAgICByZXR1cm4gJ09iamVjdCc7CiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ251bWJlcicpIHsKICAgICAgcmV0dXJuICdOdW1iZXInOwogICAgfSBlbHNlIGlmICh0eXBlID09ICdib29sZWFuJykgewogICAgICByZXR1cm4gJ0Jvb2xlYW4nOwogICAgfSBlbHNlIGlmICh0eXBlID09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiAnU3RyaW5nJzsKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiAndW5kZWZpbmVkJzsKICAgIH0KCiAgICByZXR1cm4gdHlwZTsKICB9OwoKICAvKioKICAgKiBVc2VkIHRvIGV4dGVuZCBhbiBhcnJheSBhbmQgY29weSBpdC4gVGhpcyBpcyB1c2VkIHRvIHByb3BhZ2F0ZSBwYXRocyByZWN1cnNpdmVseS4KICAgKgogICAqIEBwYXJhbSBhcnIKICAgKiBAcGFyYW0gbmV3VmFsdWUKICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICovCiAgZXhwb3J0cy5jb3B5QW5kRXh0ZW5kQXJyYXkgPSBmdW5jdGlvbiAoYXJyLCBuZXdWYWx1ZSkgewogICAgdmFyIG5ld0FyciA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgbmV3QXJyLnB1c2goYXJyW2ldKTsKICAgIH0KICAgIG5ld0Fyci5wdXNoKG5ld1ZhbHVlKTsKICAgIHJldHVybiBuZXdBcnI7CiAgfTsKCiAgLyoqCiAgICogVXNlZCB0byBleHRlbmQgYW4gYXJyYXkgYW5kIGNvcHkgaXQuIFRoaXMgaXMgdXNlZCB0byBwcm9wYWdhdGUgcGF0aHMgcmVjdXJzaXZlbHkuCiAgICoKICAgKiBAcGFyYW0gYXJyCiAgICogQHBhcmFtIG5ld1ZhbHVlCiAgICogQHJldHVybnMge0FycmF5fQogICAqLwogIGV4cG9ydHMuY29weUFycmF5ID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG5ld0FyciA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgbmV3QXJyLnB1c2goYXJyW2ldKTsKICAgIH0KICAgIHJldHVybiBuZXdBcnI7CiAgfTsKCiAgLyoqCiAgICogUmV0cmlldmUgdGhlIGFic29sdXRlIGxlZnQgdmFsdWUgb2YgYSBET00gZWxlbWVudAogICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAgICAgICAgQSBkb20gZWxlbWVudCwgZm9yIGV4YW1wbGUgYSBkaXYKICAgKiBAcmV0dXJuIHtudW1iZXJ9IGxlZnQgICAgICAgIFRoZSBhYnNvbHV0ZSBsZWZ0IHBvc2l0aW9uIG9mIHRoaXMgZWxlbWVudAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIGJyb3dzZXIgcGFnZS4KICAgKi8KICBleHBvcnRzLmdldEFic29sdXRlTGVmdCA9IGZ1bmN0aW9uIChlbGVtKSB7CiAgICByZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0OwogIH07CgogIC8qKgogICAqIFJldHJpZXZlIHRoZSBhYnNvbHV0ZSB0b3AgdmFsdWUgb2YgYSBET00gZWxlbWVudAogICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAgICAgICAgQSBkb20gZWxlbWVudCwgZm9yIGV4YW1wbGUgYSBkaXYKICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRvcCAgICAgICAgVGhlIGFic29sdXRlIHRvcCBwb3NpdGlvbiBvZiB0aGlzIGVsZW1lbnQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSBicm93c2VyIHBhZ2UuCiAgICovCiAgZXhwb3J0cy5nZXRBYnNvbHV0ZVRvcCA9IGZ1bmN0aW9uIChlbGVtKSB7CiAgICByZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CiAgfTsKCiAgLyoqCiAgICogYWRkIGEgY2xhc3NOYW1lIHRvIHRoZSBnaXZlbiBlbGVtZW50cyBzdHlsZQogICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbQogICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWUKICAgKi8KICBleHBvcnRzLmFkZENsYXNzTmFtZSA9IGZ1bmN0aW9uIChlbGVtLCBjbGFzc05hbWUpIHsKICAgIHZhciBjbGFzc2VzID0gZWxlbS5jbGFzc05hbWUuc3BsaXQoJyAnKTsKICAgIGlmIChjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKSA9PSAtMSkgewogICAgICBjbGFzc2VzLnB1c2goY2xhc3NOYW1lKTsgLy8gYWRkIHRoZSBjbGFzcyB0byB0aGUgYXJyYXkKICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBhZGQgYSBjbGFzc05hbWUgdG8gdGhlIGdpdmVuIGVsZW1lbnRzIHN0eWxlCiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtCiAgICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZQogICAqLwogIGV4cG9ydHMucmVtb3ZlQ2xhc3NOYW1lID0gZnVuY3Rpb24gKGVsZW0sIGNsYXNzTmFtZSkgewogICAgdmFyIGNsYXNzZXMgPSBlbGVtLmNsYXNzTmFtZS5zcGxpdCgnICcpOwogICAgdmFyIGluZGV4ID0gY2xhc3Nlcy5pbmRleE9mKGNsYXNzTmFtZSk7CiAgICBpZiAoaW5kZXggIT0gLTEpIHsKICAgICAgY2xhc3Nlcy5zcGxpY2UoaW5kZXgsIDEpOyAvLyByZW1vdmUgdGhlIGNsYXNzIGZyb20gdGhlIGFycmF5CiAgICAgIGVsZW0uY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJyk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogRm9yIGVhY2ggbWV0aG9kIGZvciBib3RoIGFycmF5cyBhbmQgb2JqZWN0cy4KICAgKiBJbiBjYXNlIG9mIGFuIGFycmF5LCB0aGUgYnVpbHQtaW4gQXJyYXkuZm9yRWFjaCgpIGlzIGFwcGxpZWQuCiAgICogSW4gY2FzZSBvZiBhbiBPYmplY3QsIHRoZSBtZXRob2QgbG9vcHMgb3ZlciBhbGwgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0LgogICAqIEBwYXJhbSB7T2JqZWN0IHwgQXJyYXl9IG9iamVjdCAgIEFuIE9iamVjdCBvciBBcnJheQogICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrICAgICAgIENhbGxiYWNrIG1ldGhvZCwgY2FsbGVkIGZvciBlYWNoIGl0ZW0gaW4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgb2JqZWN0IG9yIGFycmF5IHdpdGggdGhyZWUgcGFyYW1ldGVyczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIG9iamVjdCkKICAgKi8KICBleHBvcnRzLmZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykgewogICAgdmFyIGksIGxlbjsKICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHsKICAgICAgLy8gYXJyYXkKICAgICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgY2FsbGJhY2sob2JqZWN0W2ldLCBpLCBvYmplY3QpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBvYmplY3QKICAgICAgZm9yIChpIGluIG9iamVjdCkgewogICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkoaSkpIHsKICAgICAgICAgIGNhbGxiYWNrKG9iamVjdFtpXSwgaSwgb2JqZWN0KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGFuIGFycmF5OiBhbGwgb2JqZWN0cyBwcm9wZXJ0aWVzIGFyZSBwdXQgaW50byB0aGUKICAgKiBhcnJheS4gVGhlIHJlc3VsdGluZyBhcnJheSBpcyB1bm9yZGVyZWQuCiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdAogICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5CiAgICovCiAgZXhwb3J0cy50b0FycmF5ID0gZnVuY3Rpb24gKG9iamVjdCkgewogICAgdmFyIGFycmF5ID0gW107CgogICAgZm9yICh2YXIgcHJvcCBpbiBvYmplY3QpIHsKICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgYXJyYXkucHVzaChvYmplY3RbcHJvcF0pOwogICAgfQoKICAgIHJldHVybiBhcnJheTsKICB9OwoKICAvKioKICAgKiBVcGRhdGUgYSBwcm9wZXJ0eSBpbiBhbiBvYmplY3QKICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0CiAgICogQHBhcmFtIHtTdHJpbmd9IGtleQogICAqIEBwYXJhbSB7Kn0gdmFsdWUKICAgKiBAcmV0dXJuIHtCb29sZWFufSBjaGFuZ2VkCiAgICovCiAgZXhwb3J0cy51cGRhdGVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHsKICAgIGlmIChvYmplY3Rba2V5XSAhPT0gdmFsdWUpIHsKICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQWRkIGFuZCBldmVudCBsaXN0ZW5lci4gV29ya3MgZm9yIGFsbCBicm93c2VycwogICAqIEBwYXJhbSB7RWxlbWVudH0gICAgIGVsZW1lbnQgICAgQW4gaHRtbCBlbGVtZW50CiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgYWN0aW9uICAgICBUaGUgYWN0aW9uLCBmb3IgZXhhbXBsZSAiY2xpY2siLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aG91dCB0aGUgcHJlZml4ICJvbiIKICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSAgICBsaXN0ZW5lciAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBleGVjdXRlZAogICAqIEBwYXJhbSB7Ym9vbGVhbn0gICAgIFt1c2VDYXB0dXJlXQogICAqLwogIGV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbGVtZW50LCBhY3Rpb24sIGxpc3RlbmVyLCB1c2VDYXB0dXJlKSB7CiAgICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIGlmICh1c2VDYXB0dXJlID09PSB1bmRlZmluZWQpIHVzZUNhcHR1cmUgPSBmYWxzZTsKCiAgICAgIGlmIChhY3Rpb24gPT09ICdtb3VzZXdoZWVsJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+PSAwKSB7CiAgICAgICAgYWN0aW9uID0gJ0RPTU1vdXNlU2Nyb2xsJzsgLy8gRm9yIEZpcmVmb3gKICAgICAgfQoKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGFjdGlvbiwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpOwogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgYWN0aW9uLCBsaXN0ZW5lcik7IC8vIElFIGJyb3dzZXJzCiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyIGZyb20gYW4gZWxlbWVudAogICAqIEBwYXJhbSB7RWxlbWVudH0gICAgIGVsZW1lbnQgICAgICAgICBBbiBodG1sIGRvbSBlbGVtZW50CiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgYWN0aW9uICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBldmVudCwgZm9yIGV4YW1wbGUgIm1vdXNlZG93biIKICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSAgICBsaXN0ZW5lciAgICAgICAgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uCiAgICogQHBhcmFtIHtib29sZWFufSAgICAgW3VzZUNhcHR1cmVdCiAgICovCiAgZXhwb3J0cy5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGFjdGlvbiwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHsKICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHsKICAgICAgLy8gbm9uLUlFIGJyb3dzZXJzCiAgICAgIGlmICh1c2VDYXB0dXJlID09PSB1bmRlZmluZWQpIHVzZUNhcHR1cmUgPSBmYWxzZTsKCiAgICAgIGlmIChhY3Rpb24gPT09ICdtb3VzZXdoZWVsJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+PSAwKSB7CiAgICAgICAgYWN0aW9uID0gJ0RPTU1vdXNlU2Nyb2xsJzsgLy8gRm9yIEZpcmVmb3gKICAgICAgfQoKICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGFjdGlvbiwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpOwogICAgfSBlbHNlIHsKICAgICAgLy8gSUUgYnJvd3NlcnMKICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgYWN0aW9uLCBsaXN0ZW5lcik7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ2FuY2VscyB0aGUgZXZlbnQgaWYgaXQgaXMgY2FuY2VsYWJsZSwgd2l0aG91dCBzdG9wcGluZyBmdXJ0aGVyIHByb3BhZ2F0aW9uIG9mIHRoZSBldmVudC4KICAgKi8KICBleHBvcnRzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KSBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gbm9uLUlFIGJyb3dzZXJzCiAgICB9IGVsc2UgewogICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOyAvLyBJRSBicm93c2VycwogICAgfQogIH07CgogIC8qKgogICAqIEdldCBIVE1MIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHRhcmdldCBvZiB0aGUgZXZlbnQKICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEByZXR1cm4ge0VsZW1lbnR9IHRhcmdldCBlbGVtZW50CiAgICovCiAgZXhwb3J0cy5nZXRUYXJnZXQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIGNvZGUgZnJvbSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWwKICAgIGlmICghZXZlbnQpIHsKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CiAgICB9CgogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoZXZlbnQudGFyZ2V0KSB7CiAgICAgIHRhcmdldCA9IGV2ZW50LnRhcmdldDsKICAgIH0gZWxzZSBpZiAoZXZlbnQuc3JjRWxlbWVudCkgewogICAgICB0YXJnZXQgPSBldmVudC5zcmNFbGVtZW50OwogICAgfQoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gdW5kZWZpbmVkICYmIHRhcmdldC5ub2RlVHlwZSA9PSAzKSB7CiAgICAgIC8vIGRlZmVhdCBTYWZhcmkgYnVnCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfTsKCiAgLyoqCiAgICogQ2hlY2sgaWYgZ2l2ZW4gZWxlbWVudCBjb250YWlucyBnaXZlbiBwYXJlbnQgc29tZXdoZXJlIGluIHRoZSBET00gdHJlZQogICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudAogICAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50CiAgICovCiAgZXhwb3J0cy5oYXNQYXJlbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgcGFyZW50KSB7CiAgICB2YXIgZSA9IGVsZW1lbnQ7CgogICAgd2hpbGUgKGUpIHsKICAgICAgaWYgKGUgPT09IHBhcmVudCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGUgPSBlLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH07CgogIGV4cG9ydHMub3B0aW9uID0ge307CgogIC8qKgogICAqIENvbnZlcnQgYSB2YWx1ZSBpbnRvIGEgYm9vbGVhbgogICAqIEBwYXJhbSB7Qm9vbGVhbiB8IGZ1bmN0aW9uIHwgdW5kZWZpbmVkfSB2YWx1ZQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2RlZmF1bHRWYWx1ZV0KICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYm9vbAogICAqLwogIGV4cG9ydHMub3B0aW9uLmFzQm9vbGVhbiA9IGZ1bmN0aW9uICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHsKICAgICAgdmFsdWUgPSB2YWx1ZSgpOwogICAgfQoKICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgIHJldHVybiB2YWx1ZSAhPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZGVmYXVsdFZhbHVlIHx8IG51bGw7CiAgfTsKCiAgLyoqCiAgICogQ29udmVydCBhIHZhbHVlIGludG8gYSBudW1iZXIKICAgKiBAcGFyYW0ge0Jvb2xlYW4gfCBmdW5jdGlvbiB8IHVuZGVmaW5lZH0gdmFsdWUKICAgKiBAcGFyYW0ge051bWJlcn0gW2RlZmF1bHRWYWx1ZV0KICAgKiBAcmV0dXJucyB7TnVtYmVyfSBudW1iZXIKICAgKi8KICBleHBvcnRzLm9wdGlvbi5hc051bWJlciA9IGZ1bmN0aW9uICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHsKICAgICAgdmFsdWUgPSB2YWx1ZSgpOwogICAgfQoKICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpIHx8IGRlZmF1bHRWYWx1ZSB8fCBudWxsOwogICAgfQoKICAgIHJldHVybiBkZWZhdWx0VmFsdWUgfHwgbnVsbDsKICB9OwoKICAvKioKICAgKiBDb252ZXJ0IGEgdmFsdWUgaW50byBhIHN0cmluZwogICAqIEBwYXJhbSB7U3RyaW5nIHwgZnVuY3Rpb24gfCB1bmRlZmluZWR9IHZhbHVlCiAgICogQHBhcmFtIHtTdHJpbmd9IFtkZWZhdWx0VmFsdWVdCiAgICogQHJldHVybnMge1N0cmluZ30gc3RyCiAgICovCiAgZXhwb3J0cy5vcHRpb24uYXNTdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUsIGRlZmF1bHRWYWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhbHVlID0gdmFsdWUoKTsKICAgIH0KCiAgICBpZiAodmFsdWUgIT0gbnVsbCkgewogICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTsKICAgIH0KCiAgICByZXR1cm4gZGVmYXVsdFZhbHVlIHx8IG51bGw7CiAgfTsKCiAgLyoqCiAgICogQ29udmVydCBhIHNpemUgb3IgbG9jYXRpb24gaW50byBhIHN0cmluZyB3aXRoIHBpeGVscyBvciBhIHBlcmNlbnRhZ2UKICAgKiBAcGFyYW0ge1N0cmluZyB8IE51bWJlciB8IGZ1bmN0aW9uIHwgdW5kZWZpbmVkfSB2YWx1ZQogICAqIEBwYXJhbSB7U3RyaW5nfSBbZGVmYXVsdFZhbHVlXQogICAqIEByZXR1cm5zIHtTdHJpbmd9IHNpemUKICAgKi8KICBleHBvcnRzLm9wdGlvbi5hc1NpemUgPSBmdW5jdGlvbiAodmFsdWUsIGRlZmF1bHRWYWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhbHVlID0gdmFsdWUoKTsKICAgIH0KCiAgICBpZiAoZXhwb3J0cy5pc1N0cmluZyh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfSBlbHNlIGlmIChleHBvcnRzLmlzTnVtYmVyKHZhbHVlKSkgewogICAgICByZXR1cm4gdmFsdWUgKyAncHgnOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCBudWxsOwogICAgfQogIH07CgogIC8qKgogICAqIENvbnZlcnQgYSB2YWx1ZSBpbnRvIGEgRE9NIGVsZW1lbnQKICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgZnVuY3Rpb24gfCB1bmRlZmluZWR9IHZhbHVlCiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2RlZmF1bHRWYWx1ZV0KICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfSBkb20KICAgKi8KICBleHBvcnRzLm9wdGlvbi5hc0VsZW1lbnQgPSBmdW5jdGlvbiAodmFsdWUsIGRlZmF1bHRWYWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhbHVlID0gdmFsdWUoKTsKICAgIH0KCiAgICByZXR1cm4gdmFsdWUgfHwgZGVmYXVsdFZhbHVlIHx8IG51bGw7CiAgfTsKCiAgLyoqCiAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjIzODM4L3JnYi10by1oZXgtYW5kLWhleC10by1yZ2IKICAgKgogICAqIEBwYXJhbSB7U3RyaW5nfSBoZXgKICAgKiBAcmV0dXJucyB7e3I6ICosIGc6ICosIGI6ICp9fSB8IDI1NSByYW5nZQogICAqLwogIGV4cG9ydHMuaGV4VG9SR0IgPSBmdW5jdGlvbiAoaGV4KSB7CiAgICAvLyBFeHBhbmQgc2hvcnRoYW5kIGZvcm0gKGUuZy4gIjAzRiIpIHRvIGZ1bGwgZm9ybSAoZS5nLiAiMDAzM0ZGIikKICAgIHZhciBzaG9ydGhhbmRSZWdleCA9IC9eIz8oW2EtZlxkXSkoW2EtZlxkXSkoW2EtZlxkXSkkL2k7CiAgICBoZXggPSBoZXgucmVwbGFjZShzaG9ydGhhbmRSZWdleCwgZnVuY3Rpb24gKG0sIHIsIGcsIGIpIHsKICAgICAgcmV0dXJuIHIgKyByICsgZyArIGcgKyBiICsgYjsKICAgIH0pOwogICAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkkL2kuZXhlYyhoZXgpOwogICAgcmV0dXJuIHJlc3VsdCA/IHsKICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksCiAgICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLAogICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KQogICAgfSA6IG51bGw7CiAgfTsKCiAgLyoqCiAgICogVGhpcyBmdW5jdGlvbiB0YWtlcyBjb2xvciBpbiBoZXggZm9ybWF0IG9yIHJnYigpIG9yIHJnYmEoKSBmb3JtYXQgYW5kIG92ZXJyaWRlcyB0aGUgb3BhY2l0eS4gUmV0dXJucyByZ2JhKCkgc3RyaW5nLgogICAqIEBwYXJhbSBjb2xvcgogICAqIEBwYXJhbSBvcGFjaXR5CiAgICogQHJldHVybnMgeyp9CiAgICovCiAgZXhwb3J0cy5vdmVycmlkZU9wYWNpdHkgPSBmdW5jdGlvbiAoY29sb3IsIG9wYWNpdHkpIHsKICAgIGlmIChjb2xvci5pbmRleE9mKCdyZ2JhJykgIT0gLTEpIHsKICAgICAgcmV0dXJuIGNvbG9yOwogICAgfSBlbHNlIGlmIChjb2xvci5pbmRleE9mKCdyZ2InKSAhPSAtMSkgewogICAgICB2YXIgcmdiID0gY29sb3Iuc3Vic3RyKGNvbG9yLmluZGV4T2YoJygnKSArIDEpLnJlcGxhY2UoJyknLCAnJykuc3BsaXQoJywnKTsKICAgICAgcmV0dXJuICdyZ2JhKCcgKyByZ2JbMF0gKyAnLCcgKyByZ2JbMV0gKyAnLCcgKyByZ2JbMl0gKyAnLCcgKyBvcGFjaXR5ICsgJyknOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJnYiA9IGV4cG9ydHMuaGV4VG9SR0IoY29sb3IpOwogICAgICBpZiAocmdiID09IG51bGwpIHsKICAgICAgICByZXR1cm4gY29sb3I7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyByZ2IuciArICcsJyArIHJnYi5nICsgJywnICsgcmdiLmIgKyAnLCcgKyBvcGFjaXR5ICsgJyknOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICoKICAgKiBAcGFyYW0gcmVkICAgICAwIC0tIDI1NQogICAqIEBwYXJhbSBncmVlbiAgIDAgLS0gMjU1CiAgICogQHBhcmFtIGJsdWUgICAgMCAtLSAyNTUKICAgKiBAcmV0dXJucyB7c3RyaW5nfQogICAqIEBjb25zdHJ1Y3RvcgogICAqLwogIGV4cG9ydHMuUkdCVG9IZXggPSBmdW5jdGlvbiAocmVkLCBncmVlbiwgYmx1ZSkgewogICAgcmV0dXJuICcjJyArICgoMSA8PCAyNCkgKyAocmVkIDw8IDE2KSArIChncmVlbiA8PCA4KSArIGJsdWUpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTsKICB9OwoKICAvKioKICAgKiBQYXJzZSBhIGNvbG9yIHByb3BlcnR5IGludG8gYW4gb2JqZWN0IHdpdGggYm9yZGVyLCBiYWNrZ3JvdW5kLCBhbmQKICAgKiBoaWdobGlnaHQgY29sb3JzCiAgICogQHBhcmFtIHtPYmplY3QgfCBTdHJpbmd9IGNvbG9yCiAgICogQHJldHVybiB7T2JqZWN0fSBjb2xvck9iamVjdAogICAqLwogIGV4cG9ydHMucGFyc2VDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikgewogICAgdmFyIGM7CiAgICBpZiAoZXhwb3J0cy5pc1N0cmluZyhjb2xvcikgPT09IHRydWUpIHsKICAgICAgaWYgKGV4cG9ydHMuaXNWYWxpZFJHQihjb2xvcikgPT09IHRydWUpIHsKICAgICAgICB2YXIgcmdiID0gY29sb3Iuc3Vic3RyKDQpLnN1YnN0cigwLCBjb2xvci5sZW5ndGggLSA1KS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSk7CiAgICAgICAgfSk7CiAgICAgICAgY29sb3IgPSBleHBvcnRzLlJHQlRvSGV4KHJnYlswXSwgcmdiWzFdLCByZ2JbMl0pOwogICAgICB9CiAgICAgIGlmIChleHBvcnRzLmlzVmFsaWRIZXgoY29sb3IpID09PSB0cnVlKSB7CiAgICAgICAgdmFyIGhzdiA9IGV4cG9ydHMuaGV4VG9IU1YoY29sb3IpOwogICAgICAgIHZhciBsaWdodGVyQ29sb3JIU1YgPSB7IGg6IGhzdi5oLCBzOiBoc3YucyAqIDAuOCwgdjogTWF0aC5taW4oMSwgaHN2LnYgKiAxLjAyKSB9OwogICAgICAgIHZhciBkYXJrZXJDb2xvckhTViA9IHsgaDogaHN2LmgsIHM6IE1hdGgubWluKDEsIGhzdi5zICogMS4yNSksIHY6IGhzdi52ICogMC44IH07CiAgICAgICAgdmFyIGRhcmtlckNvbG9ySGV4ID0gZXhwb3J0cy5IU1ZUb0hleChkYXJrZXJDb2xvckhTVi5oLCBkYXJrZXJDb2xvckhTVi5zLCBkYXJrZXJDb2xvckhTVi52KTsKICAgICAgICB2YXIgbGlnaHRlckNvbG9ySGV4ID0gZXhwb3J0cy5IU1ZUb0hleChsaWdodGVyQ29sb3JIU1YuaCwgbGlnaHRlckNvbG9ySFNWLnMsIGxpZ2h0ZXJDb2xvckhTVi52KTsKICAgICAgICBjID0gewogICAgICAgICAgYmFja2dyb3VuZDogY29sb3IsCiAgICAgICAgICBib3JkZXI6IGRhcmtlckNvbG9ySGV4LAogICAgICAgICAgaGlnaGxpZ2h0OiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpZ2h0ZXJDb2xvckhleCwKICAgICAgICAgICAgYm9yZGVyOiBkYXJrZXJDb2xvckhleAogICAgICAgICAgfSwKICAgICAgICAgIGhvdmVyOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpZ2h0ZXJDb2xvckhleCwKICAgICAgICAgICAgYm9yZGVyOiBkYXJrZXJDb2xvckhleAogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYyA9IHsKICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLAogICAgICAgICAgYm9yZGVyOiBjb2xvciwKICAgICAgICAgIGhpZ2hsaWdodDogewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvciwKICAgICAgICAgICAgYm9yZGVyOiBjb2xvcgogICAgICAgICAgfSwKICAgICAgICAgIGhvdmVyOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLAogICAgICAgICAgICBib3JkZXI6IGNvbG9yCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgYyA9IHt9OwogICAgICBjLmJhY2tncm91bmQgPSBjb2xvci5iYWNrZ3JvdW5kIHx8IHVuZGVmaW5lZDsKICAgICAgYy5ib3JkZXIgPSBjb2xvci5ib3JkZXIgfHwgdW5kZWZpbmVkOwoKICAgICAgaWYgKGV4cG9ydHMuaXNTdHJpbmcoY29sb3IuaGlnaGxpZ2h0KSkgewogICAgICAgIGMuaGlnaGxpZ2h0ID0gewogICAgICAgICAgYm9yZGVyOiBjb2xvci5oaWdobGlnaHQsCiAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvci5oaWdobGlnaHQKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGMuaGlnaGxpZ2h0ID0ge307CiAgICAgICAgYy5oaWdobGlnaHQuYmFja2dyb3VuZCA9IGNvbG9yLmhpZ2hsaWdodCAmJiBjb2xvci5oaWdobGlnaHQuYmFja2dyb3VuZCB8fCB1bmRlZmluZWQ7CiAgICAgICAgYy5oaWdobGlnaHQuYm9yZGVyID0gY29sb3IuaGlnaGxpZ2h0ICYmIGNvbG9yLmhpZ2hsaWdodC5ib3JkZXIgfHwgdW5kZWZpbmVkOwogICAgICB9CgogICAgICBpZiAoZXhwb3J0cy5pc1N0cmluZyhjb2xvci5ob3ZlcikpIHsKICAgICAgICBjLmhvdmVyID0gewogICAgICAgICAgYm9yZGVyOiBjb2xvci5ob3ZlciwKICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmhvdmVyCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjLmhvdmVyID0ge307CiAgICAgICAgYy5ob3Zlci5iYWNrZ3JvdW5kID0gY29sb3IuaG92ZXIgJiYgY29sb3IuaG92ZXIuYmFja2dyb3VuZCB8fCB1bmRlZmluZWQ7CiAgICAgICAgYy5ob3Zlci5ib3JkZXIgPSBjb2xvci5ob3ZlciAmJiBjb2xvci5ob3Zlci5ib3JkZXIgfHwgdW5kZWZpbmVkOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGM7CiAgfTsKCiAgLyoqCiAgICogaHR0cDovL3d3dy5qYXZhc2NyaXB0ZXIubmV0L2ZhcS9yZ2IyaHN2Lmh0bQogICAqCiAgICogQHBhcmFtIHJlZAogICAqIEBwYXJhbSBncmVlbgogICAqIEBwYXJhbSBibHVlCiAgICogQHJldHVybnMgeyp9CiAgICogQGNvbnN0cnVjdG9yCiAgICovCiAgZXhwb3J0cy5SR0JUb0hTViA9IGZ1bmN0aW9uIChyZWQsIGdyZWVuLCBibHVlKSB7CiAgICByZWQgPSByZWQgLyAyNTU7Z3JlZW4gPSBncmVlbiAvIDI1NTtibHVlID0gYmx1ZSAvIDI1NTsKICAgIHZhciBtaW5SR0IgPSBNYXRoLm1pbihyZWQsIE1hdGgubWluKGdyZWVuLCBibHVlKSk7CiAgICB2YXIgbWF4UkdCID0gTWF0aC5tYXgocmVkLCBNYXRoLm1heChncmVlbiwgYmx1ZSkpOwoKICAgIC8vIEJsYWNrLWdyYXktd2hpdGUKICAgIGlmIChtaW5SR0IgPT0gbWF4UkdCKSB7CiAgICAgIHJldHVybiB7IGg6IDAsIHM6IDAsIHY6IG1pblJHQiB9OwogICAgfQoKICAgIC8vIENvbG9ycyBvdGhlciB0aGFuIGJsYWNrLWdyYXktd2hpdGU6CiAgICB2YXIgZCA9IHJlZCA9PSBtaW5SR0IgPyBncmVlbiAtIGJsdWUgOiBibHVlID09IG1pblJHQiA/IHJlZCAtIGdyZWVuIDogYmx1ZSAtIHJlZDsKICAgIHZhciBoID0gcmVkID09IG1pblJHQiA/IDMgOiBibHVlID09IG1pblJHQiA/IDEgOiA1OwogICAgdmFyIGh1ZSA9IDYwICogKGggLSBkIC8gKG1heFJHQiAtIG1pblJHQikpIC8gMzYwOwogICAgdmFyIHNhdHVyYXRpb24gPSAobWF4UkdCIC0gbWluUkdCKSAvIG1heFJHQjsKICAgIHZhciB2YWx1ZSA9IG1heFJHQjsKICAgIHJldHVybiB7IGg6IGh1ZSwgczogc2F0dXJhdGlvbiwgdjogdmFsdWUgfTsKICB9OwoKICB2YXIgY3NzVXRpbCA9IHsKICAgIC8vIHNwbGl0IGEgc3RyaW5nIHdpdGggY3NzIHN0eWxlcyBpbnRvIGFuIG9iamVjdCB3aXRoIGtleS92YWx1ZXMKICAgIHNwbGl0OiBmdW5jdGlvbiBzcGxpdChjc3NUZXh0KSB7CiAgICAgIHZhciBzdHlsZXMgPSB7fTsKCiAgICAgIGNzc1RleHQuc3BsaXQoJzsnKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkgewogICAgICAgIGlmIChzdHlsZS50cmltKCkgIT0gJycpIHsKICAgICAgICAgIHZhciBwYXJ0cyA9IHN0eWxlLnNwbGl0KCc6Jyk7CiAgICAgICAgICB2YXIga2V5ID0gcGFydHNbMF0udHJpbSgpOwogICAgICAgICAgdmFyIHZhbHVlID0gcGFydHNbMV0udHJpbSgpOwogICAgICAgICAgc3R5bGVzW2tleV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHN0eWxlczsKICAgIH0sCgogICAgLy8gYnVpbGQgYSBjc3MgdGV4dCBzdHJpbmcgZnJvbSBhbiBvYmplY3Qgd2l0aCBrZXkvdmFsdWVzCiAgICBqb2luOiBmdW5jdGlvbiBqb2luKHN0eWxlcykgewogICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVzKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiBrZXkgKyAnOiAnICsgc3R5bGVzW2tleV07CiAgICAgIH0pLmpvaW4oJzsgJyk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQXBwZW5kIGEgc3RyaW5nIHdpdGggY3NzIHN0eWxlcyB0byBhbiBlbGVtZW50CiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50CiAgICogQHBhcmFtIHtTdHJpbmd9IGNzc1RleHQKICAgKi8KICBleHBvcnRzLmFkZENzc1RleHQgPSBmdW5jdGlvbiAoZWxlbWVudCwgY3NzVGV4dCkgewogICAgdmFyIGN1cnJlbnRTdHlsZXMgPSBjc3NVdGlsLnNwbGl0KGVsZW1lbnQuc3R5bGUuY3NzVGV4dCk7CiAgICB2YXIgbmV3U3R5bGVzID0gY3NzVXRpbC5zcGxpdChjc3NUZXh0KTsKICAgIHZhciBzdHlsZXMgPSBleHBvcnRzLmV4dGVuZChjdXJyZW50U3R5bGVzLCBuZXdTdHlsZXMpOwoKICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGNzc1V0aWwuam9pbihzdHlsZXMpOwogIH07CgogIC8qKgogICAqIFJlbW92ZSBhIHN0cmluZyB3aXRoIGNzcyBzdHlsZXMgZnJvbSBhbiBlbGVtZW50CiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50CiAgICogQHBhcmFtIHtTdHJpbmd9IGNzc1RleHQKICAgKi8KICBleHBvcnRzLnJlbW92ZUNzc1RleHQgPSBmdW5jdGlvbiAoZWxlbWVudCwgY3NzVGV4dCkgewogICAgdmFyIHN0eWxlcyA9IGNzc1V0aWwuc3BsaXQoZWxlbWVudC5zdHlsZS5jc3NUZXh0KTsKICAgIHZhciByZW1vdmVTdHlsZXMgPSBjc3NVdGlsLnNwbGl0KGNzc1RleHQpOwoKICAgIGZvciAodmFyIGtleSBpbiByZW1vdmVTdHlsZXMpIHsKICAgICAgaWYgKHJlbW92ZVN0eWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgZGVsZXRlIHN0eWxlc1trZXldOwogICAgICB9CiAgICB9CgogICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gY3NzVXRpbC5qb2luKHN0eWxlcyk7CiAgfTsKCiAgLyoqCiAgICogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbWppamFja3Nvbi81MzExMjU2CiAgICogQHBhcmFtIGgKICAgKiBAcGFyYW0gcwogICAqIEBwYXJhbSB2CiAgICogQHJldHVybnMge3tyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyfX0KICAgKiBAY29uc3RydWN0b3IKICAgKi8KICBleHBvcnRzLkhTVlRvUkdCID0gZnVuY3Rpb24gKGgsIHMsIHYpIHsKICAgIHZhciByLCBnLCBiOwoKICAgIHZhciBpID0gTWF0aC5mbG9vcihoICogNik7CiAgICB2YXIgZiA9IGggKiA2IC0gaTsKICAgIHZhciBwID0gdiAqICgxIC0gcyk7CiAgICB2YXIgcSA9IHYgKiAoMSAtIGYgKiBzKTsKICAgIHZhciB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpOwoKICAgIHN3aXRjaCAoaSAlIDYpIHsKICAgICAgY2FzZSAwOgogICAgICAgIHIgPSB2LCBnID0gdCwgYiA9IHA7YnJlYWs7CiAgICAgIGNhc2UgMToKICAgICAgICByID0gcSwgZyA9IHYsIGIgPSBwO2JyZWFrOwogICAgICBjYXNlIDI6CiAgICAgICAgciA9IHAsIGcgPSB2LCBiID0gdDticmVhazsKICAgICAgY2FzZSAzOgogICAgICAgIHIgPSBwLCBnID0gcSwgYiA9IHY7YnJlYWs7CiAgICAgIGNhc2UgNDoKICAgICAgICByID0gdCwgZyA9IHAsIGIgPSB2O2JyZWFrOwogICAgICBjYXNlIDU6CiAgICAgICAgciA9IHYsIGcgPSBwLCBiID0gcTticmVhazsKICAgIH0KCiAgICByZXR1cm4geyByOiBNYXRoLmZsb29yKHIgKiAyNTUpLCBnOiBNYXRoLmZsb29yKGcgKiAyNTUpLCBiOiBNYXRoLmZsb29yKGIgKiAyNTUpIH07CiAgfTsKCiAgZXhwb3J0cy5IU1ZUb0hleCA9IGZ1bmN0aW9uIChoLCBzLCB2KSB7CiAgICB2YXIgcmdiID0gZXhwb3J0cy5IU1ZUb1JHQihoLCBzLCB2KTsKICAgIHJldHVybiBleHBvcnRzLlJHQlRvSGV4KHJnYi5yLCByZ2IuZywgcmdiLmIpOwogIH07CgogIGV4cG9ydHMuaGV4VG9IU1YgPSBmdW5jdGlvbiAoaGV4KSB7CiAgICB2YXIgcmdiID0gZXhwb3J0cy5oZXhUb1JHQihoZXgpOwogICAgcmV0dXJuIGV4cG9ydHMuUkdCVG9IU1YocmdiLnIsIHJnYi5nLCByZ2IuYik7CiAgfTsKCiAgZXhwb3J0cy5pc1ZhbGlkSGV4ID0gZnVuY3Rpb24gKGhleCkgewogICAgdmFyIGlzT2sgPSAvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChoZXgpOwogICAgcmV0dXJuIGlzT2s7CiAgfTsKCiAgZXhwb3J0cy5pc1ZhbGlkUkdCID0gZnVuY3Rpb24gKHJnYikgewogICAgcmdiID0gcmdiLnJlcGxhY2UoJyAnLCAnJyk7CiAgICB2YXIgaXNPayA9IC9yZ2JcKChcZHsxLDN9KSwoXGR7MSwzfSksKFxkezEsM30pXCkvaS50ZXN0KHJnYik7CiAgICByZXR1cm4gaXNPazsKICB9OwogIGV4cG9ydHMuaXNWYWxpZFJHQkEgPSBmdW5jdGlvbiAocmdiYSkgewogICAgcmdiYSA9IHJnYmEucmVwbGFjZSgnICcsICcnKTsKICAgIHZhciBpc09rID0gL3JnYmFcKChcZHsxLDN9KSwoXGR7MSwzfSksKFxkezEsM30pLCguezEsM30pXCkvaS50ZXN0KHJnYmEpOwogICAgcmV0dXJuIGlzT2s7CiAgfTsKCiAgLyoqCiAgICogVGhpcyByZWN1cnNpdmVseSByZWRpcmVjdHMgdGhlIHByb3RvdHlwZSBvZiBKU09OIG9iamVjdHMgdG8gdGhlIHJlZmVyZW5jZU9iamVjdAogICAqIFRoaXMgaXMgdXNlZCBmb3IgZGVmYXVsdCBvcHRpb25zLgogICAqCiAgICogQHBhcmFtIHJlZmVyZW5jZU9iamVjdAogICAqIEByZXR1cm5zIHsqfQogICAqLwogIGV4cG9ydHMuc2VsZWN0aXZlQnJpZGdlT2JqZWN0ID0gZnVuY3Rpb24gKGZpZWxkcywgcmVmZXJlbmNlT2JqZWN0KSB7CiAgICBpZiAodHlwZW9mIHJlZmVyZW5jZU9iamVjdCA9PSAnb2JqZWN0JykgewogICAgICB2YXIgb2JqZWN0VG8gPSBPYmplY3QuY3JlYXRlKHJlZmVyZW5jZU9iamVjdCk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHJlZmVyZW5jZU9iamVjdC5oYXNPd25Qcm9wZXJ0eShmaWVsZHNbaV0pKSB7CiAgICAgICAgICBpZiAodHlwZW9mIHJlZmVyZW5jZU9iamVjdFtmaWVsZHNbaV1dID09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIG9iamVjdFRvW2ZpZWxkc1tpXV0gPSBleHBvcnRzLmJyaWRnZU9iamVjdChyZWZlcmVuY2VPYmplY3RbZmllbGRzW2ldXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBvYmplY3RUbzsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH07CgogIC8qKgogICAqIFRoaXMgcmVjdXJzaXZlbHkgcmVkaXJlY3RzIHRoZSBwcm90b3R5cGUgb2YgSlNPTiBvYmplY3RzIHRvIHRoZSByZWZlcmVuY2VPYmplY3QKICAgKiBUaGlzIGlzIHVzZWQgZm9yIGRlZmF1bHQgb3B0aW9ucy4KICAgKgogICAqIEBwYXJhbSByZWZlcmVuY2VPYmplY3QKICAgKiBAcmV0dXJucyB7Kn0KICAgKi8KICBleHBvcnRzLmJyaWRnZU9iamVjdCA9IGZ1bmN0aW9uIChyZWZlcmVuY2VPYmplY3QpIHsKICAgIGlmICh0eXBlb2YgcmVmZXJlbmNlT2JqZWN0ID09ICdvYmplY3QnKSB7CiAgICAgIHZhciBvYmplY3RUbyA9IE9iamVjdC5jcmVhdGUocmVmZXJlbmNlT2JqZWN0KTsKICAgICAgZm9yICh2YXIgaSBpbiByZWZlcmVuY2VPYmplY3QpIHsKICAgICAgICBpZiAocmVmZXJlbmNlT2JqZWN0Lmhhc093blByb3BlcnR5KGkpKSB7CiAgICAgICAgICBpZiAodHlwZW9mIHJlZmVyZW5jZU9iamVjdFtpXSA9PSAnb2JqZWN0JykgewogICAgICAgICAgICBvYmplY3RUb1tpXSA9IGV4cG9ydHMuYnJpZGdlT2JqZWN0KHJlZmVyZW5jZU9iamVjdFtpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBvYmplY3RUbzsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH07CgogIC8qKgogICAqIHRoaXMgaXMgdXNlZCB0byBzZXQgdGhlIG9wdGlvbnMgb2Ygc3Vib2JqZWN0cyBpbiB0aGUgb3B0aW9ucyBvYmplY3QuIEEgcmVxdWlyZW1lbnQgb2YgdGhlc2Ugc3Vib2JqZWN0cwogICAqIGlzIHRoYXQgdGhleSBoYXZlIGFuICdlbmFibGVkJyBlbGVtZW50IHdoaWNoIGlzIG9wdGlvbmFsIGZvciB0aGUgdXNlciBidXQgbWFuZGF0b3J5IGZvciB0aGUgcHJvZ3JhbS4KICAgKgogICAqIEBwYXJhbSBbb2JqZWN0XSBtZXJnZVRhcmdldCB8IHRoaXMgaXMgZWl0aGVyIHRoaXMub3B0aW9ucyBvciB0aGUgb3B0aW9ucyB1c2VkIGZvciB0aGUgZ3JvdXBzLgogICAqIEBwYXJhbSBbb2JqZWN0XSBvcHRpb25zICAgICB8IG9wdGlvbnMKICAgKiBAcGFyYW0gW1N0cmluZ10gb3B0aW9uICAgICAgfCB0aGlzIGlzIHRoZSBvcHRpb24ga2V5IGluIHRoZSBvcHRpb25zIGFyZ3VtZW50CiAgICogQHByaXZhdGUKICAgKi8KICBleHBvcnRzLm1lcmdlT3B0aW9ucyA9IGZ1bmN0aW9uIChtZXJnZVRhcmdldCwgb3B0aW9ucywgb3B0aW9uKSB7CiAgICB2YXIgYWxsb3dEZWxldGlvbiA9IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbM107CgogICAgaWYgKG9wdGlvbnNbb3B0aW9uXSA9PT0gbnVsbCkgewogICAgICBtZXJnZVRhcmdldFtvcHRpb25dID0gdW5kZWZpbmVkOwogICAgICBkZWxldGUgbWVyZ2VUYXJnZXRbb3B0aW9uXTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChvcHRpb25zW29wdGlvbl0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tvcHRpb25dID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgIG1lcmdlVGFyZ2V0W29wdGlvbl0uZW5hYmxlZCA9IG9wdGlvbnNbb3B0aW9uXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKG9wdGlvbnNbb3B0aW9uXS5lbmFibGVkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgbWVyZ2VUYXJnZXRbb3B0aW9uXS5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9uc1tvcHRpb25dKSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zW29wdGlvbl0uaGFzT3duUHJvcGVydHkocHJvcCkpIHsKICAgICAgICAgICAgICBtZXJnZVRhcmdldFtvcHRpb25dW3Byb3BdID0gb3B0aW9uc1tvcHRpb25dW3Byb3BdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogVGhpcyBmdW5jdGlvbiBkb2VzIGEgYmluYXJ5IHNlYXJjaCBmb3IgYSB2aXNpYmxlIGl0ZW0gaW4gYSBzb3J0ZWQgbGlzdC4gSWYgd2UgZmluZCBhIHZpc2libGUgaXRlbSwgdGhlIGNvZGUgdGhhdCB1c2VzCiAgICogdGhpcyBmdW5jdGlvbiB3aWxsIHRoZW4gaXRlcmF0ZSBpbiBib3RoIGRpcmVjdGlvbnMgb3ZlciB0aGlzIHNvcnRlZCBsaXN0IHRvIGZpbmQgYWxsIHZpc2libGUgaXRlbXMuCiAgICoKICAgKiBAcGFyYW0ge0l0ZW1bXX0gb3JkZXJlZEl0ZW1zICAgICAgIHwgSXRlbXMgb3JkZXJlZCBieSBzdGFydAogICAqIEBwYXJhbSB7ZnVuY3Rpb259IHNlYXJjaEZ1bmN0aW9uICAgfCAtMSBpcyBsb3dlciwgMCBpcyBmb3VuZCwgMSBpcyBoaWdoZXIKICAgKiBAcGFyYW0ge1N0cmluZ30gZmllbGQKICAgKiBAcGFyYW0ge1N0cmluZ30gZmllbGQyCiAgICogQHJldHVybnMge251bWJlcn0KICAgKiBAcHJpdmF0ZQogICAqLwogIGV4cG9ydHMuYmluYXJ5U2VhcmNoQ3VzdG9tID0gZnVuY3Rpb24gKG9yZGVyZWRJdGVtcywgc2VhcmNoRnVuY3Rpb24sIGZpZWxkLCBmaWVsZDIpIHsKICAgIHZhciBtYXhJdGVyYXRpb25zID0gMTAwMDA7CiAgICB2YXIgaXRlcmF0aW9uID0gMDsKICAgIHZhciBsb3cgPSAwOwogICAgdmFyIGhpZ2ggPSBvcmRlcmVkSXRlbXMubGVuZ3RoIC0gMTsKCiAgICB3aGlsZSAobG93IDw9IGhpZ2ggJiYgaXRlcmF0aW9uIDwgbWF4SXRlcmF0aW9ucykgewogICAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTsKCiAgICAgIHZhciBpdGVtID0gb3JkZXJlZEl0ZW1zW21pZGRsZV07CiAgICAgIHZhciB2YWx1ZSA9IGZpZWxkMiA9PT0gdW5kZWZpbmVkID8gaXRlbVtmaWVsZF0gOiBpdGVtW2ZpZWxkXVtmaWVsZDJdOwoKICAgICAgdmFyIHNlYXJjaFJlc3VsdCA9IHNlYXJjaEZ1bmN0aW9uKHZhbHVlKTsKICAgICAgaWYgKHNlYXJjaFJlc3VsdCA9PSAwKSB7CiAgICAgICAgLy8gamloYWEsIGZvdW5kIGEgdmlzaWJsZSBpdGVtIQogICAgICAgIHJldHVybiBtaWRkbGU7CiAgICAgIH0gZWxzZSBpZiAoc2VhcmNoUmVzdWx0ID09IC0xKSB7CiAgICAgICAgLy8gaXQgaXMgdG9vIHNtYWxsIC0tPiBpbmNyZWFzZSBsb3cKICAgICAgICBsb3cgPSBtaWRkbGUgKyAxOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGl0IGlzIHRvbyBiaWcgLS0+IGRlY3JlYXNlIGhpZ2gKICAgICAgICBoaWdoID0gbWlkZGxlIC0gMTsKICAgICAgfQoKICAgICAgaXRlcmF0aW9uKys7CiAgICB9CgogICAgcmV0dXJuIC0xOwogIH07CgogIC8qKgogICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBhIGJpbmFyeSBzZWFyY2ggZm9yIGEgc3BlY2lmaWMgdmFsdWUgaW4gYSBzb3J0ZWQgYXJyYXkuIElmIGl0IGRvZXMgbm90IGV4aXN0IGJ1dCBpcyBpbiBiZXR3ZWVuIG9mCiAgICogdHdvIHZhbHVlcywgd2UgcmV0dXJuIGVpdGhlciB0aGUgb25lIGJlZm9yZSBvciB0aGUgb25lIGFmdGVyLCBkZXBlbmRpbmcgb24gdXNlciBpbnB1dAogICAqIElmIGl0IGlzIGZvdW5kLCB3ZSByZXR1cm4gdGhlIGluZGV4LCBlbHNlIC0xLgogICAqCiAgICogQHBhcmFtIHtBcnJheX0gb3JkZXJlZEl0ZW1zCiAgICogQHBhcmFtIHt7c3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXJ9fSB0YXJnZXQKICAgKiBAcGFyYW0ge1N0cmluZ30gZmllbGQKICAgKiBAcGFyYW0ge1N0cmluZ30gc2lkZVByZWZlcmVuY2UgICAnYmVmb3JlJyBvciAnYWZ0ZXInCiAgICogQHJldHVybnMge251bWJlcn0KICAgKiBAcHJpdmF0ZQogICAqLwogIGV4cG9ydHMuYmluYXJ5U2VhcmNoVmFsdWUgPSBmdW5jdGlvbiAob3JkZXJlZEl0ZW1zLCB0YXJnZXQsIGZpZWxkLCBzaWRlUHJlZmVyZW5jZSkgewogICAgdmFyIG1heEl0ZXJhdGlvbnMgPSAxMDAwMDsKICAgIHZhciBpdGVyYXRpb24gPSAwOwogICAgdmFyIGxvdyA9IDA7CiAgICB2YXIgaGlnaCA9IG9yZGVyZWRJdGVtcy5sZW5ndGggLSAxOwogICAgdmFyIHByZXZWYWx1ZSwgdmFsdWUsIG5leHRWYWx1ZSwgbWlkZGxlOwoKICAgIHdoaWxlIChsb3cgPD0gaGlnaCAmJiBpdGVyYXRpb24gPCBtYXhJdGVyYXRpb25zKSB7CiAgICAgIC8vIGdldCBhIG5ldyBndWVzcwogICAgICBtaWRkbGUgPSBNYXRoLmZsb29yKDAuNSAqIChoaWdoICsgbG93KSk7CiAgICAgIHByZXZWYWx1ZSA9IG9yZGVyZWRJdGVtc1tNYXRoLm1heCgwLCBtaWRkbGUgLSAxKV1bZmllbGRdOwogICAgICB2YWx1ZSA9IG9yZGVyZWRJdGVtc1ttaWRkbGVdW2ZpZWxkXTsKICAgICAgbmV4dFZhbHVlID0gb3JkZXJlZEl0ZW1zW01hdGgubWluKG9yZGVyZWRJdGVtcy5sZW5ndGggLSAxLCBtaWRkbGUgKyAxKV1bZmllbGRdOwoKICAgICAgaWYgKHZhbHVlID09IHRhcmdldCkgewogICAgICAgIC8vIHdlIGZvdW5kIHRoZSB0YXJnZXQKICAgICAgICByZXR1cm4gbWlkZGxlOwogICAgICB9IGVsc2UgaWYgKHByZXZWYWx1ZSA8IHRhcmdldCAmJiB2YWx1ZSA+IHRhcmdldCkgewogICAgICAgIC8vIHRhcmdldCBpcyBpbiBiZXR3ZWVuIG9mIHRoZSBwcmV2aW91cyBhbmQgdGhlIGN1cnJlbnQKICAgICAgICByZXR1cm4gc2lkZVByZWZlcmVuY2UgPT0gJ2JlZm9yZScgPyBNYXRoLm1heCgwLCBtaWRkbGUgLSAxKSA6IG1pZGRsZTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IHRhcmdldCAmJiBuZXh0VmFsdWUgPiB0YXJnZXQpIHsKICAgICAgICAvLyB0YXJnZXQgaXMgaW4gYmV0d2VlbiBvZiB0aGUgY3VycmVudCBhbmQgdGhlIG5leHQKICAgICAgICByZXR1cm4gc2lkZVByZWZlcmVuY2UgPT0gJ2JlZm9yZScgPyBtaWRkbGUgOiBNYXRoLm1pbihvcmRlcmVkSXRlbXMubGVuZ3RoIC0gMSwgbWlkZGxlICsgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZGlkbnQgZmluZCB0aGUgdGFyZ2V0LCB3ZSBuZWVkIHRvIGNoYW5nZSBvdXIgYm91bmRhcmllcy4KICAgICAgICBpZiAodmFsdWUgPCB0YXJnZXQpIHsKICAgICAgICAgIC8vIGl0IGlzIHRvbyBzbWFsbCAtLT4gaW5jcmVhc2UgbG93CiAgICAgICAgICBsb3cgPSBtaWRkbGUgKyAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBpdCBpcyB0b28gYmlnIC0tPiBkZWNyZWFzZSBoaWdoCiAgICAgICAgICBoaWdoID0gbWlkZGxlIC0gMTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaXRlcmF0aW9uKys7CiAgICB9CgogICAgLy8gZGlkbnQgZmluZCBhbnl0aGluZy4gUmV0dXJuIC0xLgogICAgcmV0dXJuIC0xOwogIH07CgogIC8qCiAgICogRWFzaW5nIEZ1bmN0aW9ucyAtIGluc3BpcmVkIGZyb20gaHR0cDovL2dpem1hLmNvbS9lYXNpbmcvCiAgICogb25seSBjb25zaWRlcmluZyB0aGUgdCB2YWx1ZSBmb3IgdGhlIHJhbmdlIFswLCAxXSA9PiBbMCwgMV0KICAgKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmUvMTY1MDI5NAogICAqLwogIGV4cG9ydHMuZWFzaW5nRnVuY3Rpb25zID0gewogICAgLy8gbm8gZWFzaW5nLCBubyBhY2NlbGVyYXRpb24KICAgIGxpbmVhcjogZnVuY3Rpb24gbGluZWFyKHQpIHsKICAgICAgcmV0dXJuIHQ7CiAgICB9LAogICAgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eQogICAgZWFzZUluUXVhZDogZnVuY3Rpb24gZWFzZUluUXVhZCh0KSB7CiAgICAgIHJldHVybiB0ICogdDsKICAgIH0sCiAgICAvLyBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eQogICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uIGVhc2VPdXRRdWFkKHQpIHsKICAgICAgcmV0dXJuIHQgKiAoMiAtIHQpOwogICAgfSwKICAgIC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvbgogICAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0KSB7CiAgICAgIHJldHVybiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQ7CiAgICB9LAogICAgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eQogICAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uIGVhc2VJbkN1YmljKHQpIHsKICAgICAgcmV0dXJuIHQgKiB0ICogdDsKICAgIH0sCiAgICAvLyBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eQogICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbiBlYXNlT3V0Q3ViaWModCkgewogICAgICByZXR1cm4gLS10ICogdCAqIHQgKyAxOwogICAgfSwKICAgIC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvbgogICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uIGVhc2VJbk91dEN1YmljKHQpIHsKICAgICAgcmV0dXJuIHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxOwogICAgfSwKICAgIC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHkKICAgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbiBlYXNlSW5RdWFydCh0KSB7CiAgICAgIHJldHVybiB0ICogdCAqIHQgKiB0OwogICAgfSwKICAgIC8vIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5CiAgICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uIGVhc2VPdXRRdWFydCh0KSB7CiAgICAgIHJldHVybiAxIC0gLS10ICogdCAqIHQgKiB0OwogICAgfSwKICAgIC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvbgogICAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KHQpIHsKICAgICAgcmV0dXJuIHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0OwogICAgfSwKICAgIC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHkKICAgIGVhc2VJblF1aW50OiBmdW5jdGlvbiBlYXNlSW5RdWludCh0KSB7CiAgICAgIHJldHVybiB0ICogdCAqIHQgKiB0ICogdDsKICAgIH0sCiAgICAvLyBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eQogICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbiBlYXNlT3V0UXVpbnQodCkgewogICAgICByZXR1cm4gMSArIC0tdCAqIHQgKiB0ICogdCAqIHQ7CiAgICB9LAogICAgLy8gYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uCiAgICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQodCkgewogICAgICByZXR1cm4gdCA8IDAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAtLXQgKiB0ICogdCAqIHQgKiB0OwogICAgfQogIH07CgovKioqLyB9LAovKiAyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAvLyBmaXJzdCBjaGVjayBpZiBtb21lbnQuanMgaXMgYWxyZWFkeSBsb2FkZWQgaW4gdGhlIGJyb3dzZXIgd2luZG93LCBpZiBzbywKICAvLyB1c2UgdGhpcyBpbnN0YW5jZS4gRWxzZSwgbG9hZCB2aWEgY29tbW9uanMuCiAgJ3VzZSBzdHJpY3QnOwoKICBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1snbW9tZW50J10gfHwgX193ZWJwYWNrX3JlcXVpcmVfXygzKTsKCi8qKiovIH0sCi8qIDMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogIC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihtb2R1bGUpIHsvLyEgbW9tZW50LmpzCiAgLy8hIHZlcnNpb24gOiAyLjEwLjMKICAvLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9ycwogIC8vISBsaWNlbnNlIDogTUlUCiAgLy8hIG1vbWVudGpzLmNvbQoKICAoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkgewogICAgICB0cnVlID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOgogICAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOgogICAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpCiAgfSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JzsKCiAgICAgIHZhciBob29rQ2FsbGJhY2s7CgogICAgICBmdW5jdGlvbiB1dGlsc19ob29rc19faG9va3MgKCkgewogICAgICAgICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICAvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKQogICAgICAvLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy4KICAgICAgZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrIChjYWxsYmFjaykgewogICAgICAgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHsKICAgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHsKICAgICAgICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nOwogICAgICB9CgogICAgICBmdW5jdGlvbiBtYXAoYXJyLCBmbikgewogICAgICAgICAgdmFyIHJlcyA9IFtdLCBpOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBleHRlbmQoYSwgYikgewogICAgICAgICAgZm9yICh2YXIgaSBpbiBiKSB7CiAgICAgICAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHsKICAgICAgICAgICAgICAgICAgYVtpXSA9IGJbaV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7CiAgICAgICAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkgewogICAgICAgICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gYTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY3JlYXRlX3V0Y19fY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkgewogICAgICAgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSwKICAgICAgICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSwKICAgICAgICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSwKICAgICAgICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMiwKICAgICAgICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLAogICAgICAgICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLAogICAgICAgICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsCiAgICAgICAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsCiAgICAgICAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsCiAgICAgICAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2UKICAgICAgICAgIH07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7CiAgICAgICAgICBpZiAobS5fcGYgPT0gbnVsbCkgewogICAgICAgICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIG0uX3BmOwogICAgICB9CgogICAgICBmdW5jdGlvbiB2YWxpZF9faXNWYWxpZChtKSB7CiAgICAgICAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pOwogICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmCiAgICAgICAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJgogICAgICAgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiYKICAgICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJgogICAgICAgICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmCiAgICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmCiAgICAgICAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQ7CgogICAgICAgICAgICAgIGlmIChtLl9zdHJpY3QpIHsKICAgICAgICAgICAgICAgICAgbS5faXNWYWxpZCA9IG0uX2lzVmFsaWQgJiYKICAgICAgICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiYKICAgICAgICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiYKICAgICAgICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbS5faXNWYWxpZDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdmFsaWRfX2NyZWF0ZUludmFsaWQgKGZsYWdzKSB7CiAgICAgICAgICB2YXIgbSA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQyhOYU4pOwogICAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHsKICAgICAgICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gbTsKICAgICAgfQoKICAgICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSB1dGlsc19ob29rc19faG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdOwoKICAgICAgZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkgewogICAgICAgICAgdmFyIGksIHByb3AsIHZhbDsKCiAgICAgICAgICBpZiAodHlwZW9mIGZyb20uX2lzQU1vbWVudE9iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0OwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9pICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgIHRvLl9pID0gZnJvbS5faTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0eXBlb2YgZnJvbS5fZiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICB0by5fZiA9IGZyb20uX2Y7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZW9mIGZyb20uX2wgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgdG8uX2wgPSBmcm9tLl9sOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9zdHJpY3QgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0eXBlb2YgZnJvbS5fdHptICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZW9mIGZyb20uX2lzVVRDICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9vZmZzZXQgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0eXBlb2YgZnJvbS5fcGYgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9sb2NhbGUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgZm9yIChpIGluIG1vbWVudFByb3BlcnRpZXMpIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07CiAgICAgICAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07CiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRvOwogICAgICB9CgogICAgICB2YXIgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlOwoKICAgICAgLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3QKICAgICAgZnVuY3Rpb24gTW9tZW50KGNvbmZpZykgewogICAgICAgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpOwogICAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKCtjb25maWcuX2QpOwogICAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudAogICAgICAgICAgLy8gb2JqZWN0cy4KICAgICAgICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkgewogICAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlOwogICAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQodGhpcyk7CiAgICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBpc01vbWVudCAob2JqKSB7CiAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdG9JbnQoYXJndW1lbnRGb3JDb2VyY2lvbikgewogICAgICAgICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbiwKICAgICAgICAgICAgICB2YWx1ZSA9IDA7CgogICAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHsKICAgICAgICAgICAgICBpZiAoY29lcmNlZE51bWJlciA+PSAwKSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5mbG9vcihjb2VyY2VkTnVtYmVyKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguY2VpbChjb2VyY2VkTnVtYmVyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjb21wYXJlQXJyYXlzKGFycmF5MSwgYXJyYXkyLCBkb250Q29udmVydCkgewogICAgICAgICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLAogICAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksCiAgICAgICAgICAgICAgZGlmZnMgPSAwLAogICAgICAgICAgICAgIGk7CiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoKGRvbnRDb252ZXJ0ICYmIGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB8fAogICAgICAgICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7CiAgICAgICAgICAgICAgICAgIGRpZmZzKys7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gTG9jYWxlKCkgewogICAgICB9CgogICAgICB2YXIgbG9jYWxlcyA9IHt9OwogICAgICB2YXIgZ2xvYmFsTG9jYWxlOwoKICAgICAgZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkgewogICAgICAgICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5OwogICAgICB9CgogICAgICAvLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXkKICAgICAgLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2gKICAgICAgLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdAogICAgICBmdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHsKICAgICAgICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDsKCiAgICAgICAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkgewogICAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpOwogICAgICAgICAgICAgIGogPSBzcGxpdC5sZW5ndGg7CiAgICAgICAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pOwogICAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDsKICAgICAgICAgICAgICB3aGlsZSAoaiA+IDApIHsKICAgICAgICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpOwogICAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmUKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGotLTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkgewogICAgICAgICAgdmFyIG9sZExvY2FsZSA9IG51bGw7CiAgICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZQogICAgICAgICAgaWYgKCFsb2NhbGVzW25hbWVdICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmCiAgICAgICAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjsKICAgICAgICAgICAgICAgICAgIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSBcIi4vbG9jYWxlXCIiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpOwogICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGRlZmluZUxvY2FsZSBjdXJyZW50bHkgYWxzbyBzZXRzIHRoZSBnbG9iYWwgbG9jYWxlLCB3ZQogICAgICAgICAgICAgICAgICAvLyB3YW50IHRvIHVuZG8gdGhhdCBmb3IgbGF6eSBsb2FkZWQgbG9jYWxlcwogICAgICAgICAgICAgICAgICBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTsKICAgICAgfQoKICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmCiAgICAgIC8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsCiAgICAgIC8vIGxvY2FsZSBrZXkuCiAgICAgIGZ1bmN0aW9uIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUgKGtleSwgdmFsdWVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIGlmIChrZXkpIHsKICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgZGF0YSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoa2V5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7CiAgICAgICAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgdmFsdWVzKSB7CiAgICAgICAgICBpZiAodmFsdWVzICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgdmFsdWVzLmFiYnIgPSBuYW1lOwogICAgICAgICAgICAgIGlmICghbG9jYWxlc1tuYW1lXSkgewogICAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdLnNldCh2YWx1ZXMpOwoKICAgICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGUKICAgICAgICAgICAgICBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpOwoKICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nCiAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07CiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIHJldHVybnMgbG9jYWxlIGRhdGEKICAgICAgZnVuY3Rpb24gbG9jYWxlX2xvY2FsZXNfX2dldExvY2FsZSAoa2V5KSB7CiAgICAgICAgICB2YXIgbG9jYWxlOwoKICAgICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHsKICAgICAgICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWtleSkgewogICAgICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFpc0FycmF5KGtleSkpIHsKICAgICAgICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlCiAgICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpOwogICAgICAgICAgICAgIGlmIChsb2NhbGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAga2V5ID0gW2tleV07CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGNob29zZUxvY2FsZShrZXkpOwogICAgICB9CgogICAgICB2YXIgYWxpYXNlcyA9IHt9OwoKICAgICAgZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHsKICAgICAgICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0OwogICAgICB9CgogICAgICBmdW5jdGlvbiBub3JtYWxpemVVbml0cyh1bml0cykgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkOwogICAgICB9CgogICAgICBmdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkgewogICAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IHt9LAogICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wLAogICAgICAgICAgICAgIHByb3A7CgogICAgICAgICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7CiAgICAgICAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7CiAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7CiAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkgewogICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBub3JtYWxpemVkSW5wdXQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgZ2V0X3NldF9fc2V0KHRoaXMsIHVuaXQsIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRfc2V0X19nZXQodGhpcywgdW5pdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0X3NldF9fZ2V0IChtb20sIHVuaXQpIHsKICAgICAgICAgIHJldHVybiBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0X3NldF9fc2V0IChtb20sIHVuaXQsIHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlKTsKICAgICAgfQoKICAgICAgLy8gTU9NRU5UUwoKICAgICAgZnVuY3Rpb24gZ2V0U2V0ICh1bml0cywgdmFsdWUpIHsKICAgICAgICAgIHZhciB1bml0OwogICAgICAgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICBmb3IgKHVuaXQgaW4gdW5pdHMpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zZXQodW5pdCwgdW5pdHNbdW5pdF0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzW3VuaXRzXSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7CiAgICAgICAgICB2YXIgb3V0cHV0ID0gJycgKyBNYXRoLmFicyhudW1iZXIpLAogICAgICAgICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDsKCiAgICAgICAgICB3aGlsZSAob3V0cHV0Lmxlbmd0aCA8IHRhcmdldExlbmd0aCkgewogICAgICAgICAgICAgIG91dHB1dCA9ICcwJyArIG91dHB1dDsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICsgb3V0cHV0OwogICAgICB9CgogICAgICB2YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFtbXlxbXSpcXSl8KFxcKT8oTW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UXxZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xtbT98c3M/fFN7MSw0fXx4fFh8eno/fFpaP3wuKS9nOwoKICAgICAgdmFyIGxvY2FsRm9ybWF0dGluZ1Rva2VucyA9IC8oXFtbXlxbXSpcXSl8KFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nOwoKICAgICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9OwoKICAgICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307CgogICAgICAvLyB0b2tlbjogICAgJ00nCiAgICAgIC8vIHBhZGRlZDogICBbJ01NJywgMl0KICAgICAgLy8gb3JkaW5hbDogICdNbycKICAgICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9CiAgICAgIGZ1bmN0aW9uIGFkZEZvcm1hdFRva2VuICh0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykgewogICAgICAgICAgdmFyIGZ1bmMgPSBjYWxsYmFjazsKICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0b2tlbikgewogICAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocGFkZGVkKSB7CiAgICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pOwogICAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAob3JkaW5hbCkgewogICAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7CiAgICAgICAgICBpZiAoaW5wdXQubWF0Y2goL1xbW1xzXFNdLykpIHsKICAgICAgICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXlxbfFxdJC9nLCAnJyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFwvZywgJycpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSB7CiAgICAgICAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDsKCiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHsKICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHsKICAgICAgICAgICAgICB2YXIgb3V0cHV0ID0gJyc7CiAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIG91dHB1dCArPSBhcnJheVtpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDsKICAgICAgICAgIH07CiAgICAgIH0KCiAgICAgIC8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdAogICAgICBmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7CiAgICAgICAgICBpZiAoIW0uaXNWYWxpZCgpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7CiAgICAgICAgICB9CgogICAgICAgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpOwoKICAgICAgICAgIGlmICghZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0pIHsKICAgICAgICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbG9jYWxlKSB7CiAgICAgICAgICB2YXIgaSA9IDU7CgogICAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7CiAgICAgICAgICB9CgogICAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7CiAgICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHsKICAgICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7CiAgICAgICAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7CiAgICAgICAgICAgICAgaSAtPSAxOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBmb3JtYXQ7CiAgICAgIH0KCiAgICAgIHZhciBtYXRjaDEgICAgICAgICA9IC9cZC87ICAgICAgICAgICAgLy8gICAgICAgMCAtIDkKICAgICAgdmFyIG1hdGNoMiAgICAgICAgID0gL1xkXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTkKICAgICAgdmFyIG1hdGNoMyAgICAgICAgID0gL1xkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5CiAgICAgIHZhciBtYXRjaDQgICAgICAgICA9IC9cZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTkKICAgICAgdmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5CiAgICAgIHZhciBtYXRjaDF0bzIgICAgICA9IC9cZFxkPy87ICAgICAgICAgLy8gICAgICAgMCAtIDk5CiAgICAgIHZhciBtYXRjaDF0bzMgICAgICA9IC9cZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OQogICAgICB2YXIgbWF0Y2gxdG80ICAgICAgPSAvXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5CiAgICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xkezEsNn0vOyAgLy8gLTk5OTk5OSAtIDk5OTk5OQoKICAgICAgdmFyIG1hdGNoVW5zaWduZWQgID0gL1xkKy87ICAgICAgICAgICAvLyAgICAgICAwIC0gaW5mCiAgICAgIHZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xkKy87ICAgICAgLy8gICAgLWluZiAtIGluZgoKICAgICAgdmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxkXGQ6P1xkXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWgoKICAgICAgdmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XGQrKFwuXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjMKCiAgICAgIC8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLgogICAgICB2YXIgbWF0Y2hXb3JkID0gL1swLTldKlsnYS16XHUwMEEwLVx1MDVGRlx1MDcwMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0rfFtcdTA2MDAtXHUwNkZGXC9dKyhccyo/W1x1MDYwMC1cdTA2RkZdKyl7MSwyfS9pOwoKICAgICAgdmFyIHJlZ2V4ZXMgPSB7fTsKCiAgICAgIGZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHsKICAgICAgICAgIHJlZ2V4ZXNbdG9rZW5dID0gdHlwZW9mIHJlZ2V4ID09PSAnZnVuY3Rpb24nID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QpIHsKICAgICAgICAgICAgICByZXR1cm4gKGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4KSA/IHN0cmljdFJlZ2V4IDogcmVnZXg7CiAgICAgICAgICB9OwogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4gKHRva2VuLCBjb25maWcpIHsKICAgICAgICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHsKICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpOwogICAgICB9CgogICAgICAvLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0CiAgICAgIGZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHsKICAgICAgICAgIHJldHVybiBzLnJlcGxhY2UoJ1xcJywgJycpLnJlcGxhY2UoL1xcKFxbKXxcXChcXSl8XFsoW15cXVxbXSopXF18XFwoLikvZywgZnVuY3Rpb24gKG1hdGNoZWQsIHAxLCBwMiwgcDMsIHA0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0OwogICAgICAgICAgfSkucmVwbGFjZSgvWy1cL1xcXiQqKz8uKCl8W1xde31dL2csICdcXCQmJyk7CiAgICAgIH0KCiAgICAgIHZhciB0b2tlbnMgPSB7fTsKCiAgICAgIGZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykgewogICAgICAgICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjazsKICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgdG9rZW4gPSBbdG9rZW5dOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkgewogICAgICAgICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGRXZWVrUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7CiAgICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7CiAgICAgICAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9OwogICAgICAgICAgICAgIGNhbGxiYWNrKGlucHV0LCBjb25maWcuX3csIGNvbmZpZywgdG9rZW4pOwogICAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7CiAgICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7CiAgICAgICAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIFlFQVIgPSAwOwogICAgICB2YXIgTU9OVEggPSAxOwogICAgICB2YXIgREFURSA9IDI7CiAgICAgIHZhciBIT1VSID0gMzsKICAgICAgdmFyIE1JTlVURSA9IDQ7CiAgICAgIHZhciBTRUNPTkQgPSA1OwogICAgICB2YXIgTUlMTElTRUNPTkQgPSA2OwoKICAgICAgZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHsKICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCArIDEsIDApKS5nZXRVVENEYXRlKCk7CiAgICAgIH0KCiAgICAgIC8vIEZPUk1BVFRJTkcKCiAgICAgIGFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5tb250aCgpICsgMTsKICAgICAgfSk7CgogICAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkgewogICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7CiAgICAgIH0pOwoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7CiAgICAgIH0pOwoKICAgICAgLy8gQUxJQVNFUwoKICAgICAgYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTsKICAgICAgYWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTsKICAgICAgYWRkUmVnZXhUb2tlbignTU1NJywgIG1hdGNoV29yZCk7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBtYXRjaFdvcmQpOwoKICAgICAgYWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkgewogICAgICAgICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTsKICAgICAgfSk7CgogICAgICBhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikgewogICAgICAgICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7CiAgICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC4KICAgICAgICAgIGlmIChtb250aCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0OwogICAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIExPQ0FMRVMKCiAgICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7CiAgICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1ttLm1vbnRoKCldOwogICAgICB9CgogICAgICB2YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpOwogICAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7CiAgICAgICAgICB2YXIgaSwgbW9tLCByZWdleDsKCiAgICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7CiAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTsKICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTsKICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHsKICAgICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHkKICAgICAgICAgICAgICBtb20gPSBjcmVhdGVfdXRjX19jcmVhdGVVVEMoWzIwMDAsIGldKTsKICAgICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHsKICAgICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpOwogICAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkgewogICAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleAogICAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICB9CgogICAgICAvLyBNT01FTlRTCgogICAgICBmdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkgewogICAgICAgICAgdmFyIGRheU9mTW9udGg7CgogICAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIG91dCBvZiBoZXJlIQogICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpOwogICAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7CiAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpOwogICAgICAgICAgcmV0dXJuIG1vbTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7CiAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkgewogICAgICAgICAgICAgIHNldE1vbnRoKHRoaXMsIHZhbHVlKTsKICAgICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpOwogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gZ2V0X3NldF9fZ2V0KHRoaXMsICdNb250aCcpOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7CiAgICAgICAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHsKICAgICAgICAgIHZhciBvdmVyZmxvdzsKICAgICAgICAgIHZhciBhID0gbS5fYTsKCiAgICAgICAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7CiAgICAgICAgICAgICAgb3ZlcmZsb3cgPQogICAgICAgICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6CiAgICAgICAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOgogICAgICAgICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOgogICAgICAgICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOgogICAgICAgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOgogICAgICAgICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6CiAgICAgICAgICAgICAgICAgIC0xOwoKICAgICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJiAob3ZlcmZsb3cgPCBZRUFSIHx8IG92ZXJmbG93ID4gREFURSkpIHsKICAgICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHdhcm4obXNnKSB7CiAgICAgICAgICBpZiAodXRpbHNfaG9va3NfX2hvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUud2FybikgewogICAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7CiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7CiAgICAgICAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZSwKICAgICAgICAgICAgICBtc2dXaXRoU3RhY2sgPSBtc2cgKyAnXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjazsKCiAgICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAoZmlyc3RUaW1lKSB7CiAgICAgICAgICAgICAgICAgIHdhcm4obXNnV2l0aFN0YWNrKTsKICAgICAgICAgICAgICAgICAgZmlyc3RUaW1lID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfSwgZm4pOwogICAgICB9CgogICAgICB2YXIgZGVwcmVjYXRpb25zID0ge307CgogICAgICBmdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7CiAgICAgICAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkgewogICAgICAgICAgICAgIHdhcm4obXNnKTsKICAgICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlOwogICAgICAgICAgfQogICAgICB9CgogICAgICB1dGlsc19ob29rc19faG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7CgogICAgICB2YXIgZnJvbV9zdHJpbmdfX2lzb1JlZ2V4ID0gL15ccyooPzpbKy1dXGR7Nn18XGR7NH0pLSg/OihcZFxkLVxkXGQpfChXXGRcZCQpfChXXGRcZC1cZCl8KFxkXGRcZCkpKChUfCApKFxkXGQoOlxkXGQoOlxkXGQoXC5cZCspPyk/KT8pPyhbXCtcLV1cZFxkKD86Oj9cZFxkKT98XHMqWik/KT8kLzsKCiAgICAgIHZhciBpc29EYXRlcyA9IFsKICAgICAgICAgIFsnWVlZWVlZLU1NLUREJywgL1srLV1cZHs2fS1cZHsyfS1cZHsyfS9dLAogICAgICAgICAgWydZWVlZLU1NLUREJywgL1xkezR9LVxkezJ9LVxkezJ9L10sCiAgICAgICAgICBbJ0dHR0ctW1ddV1ctRScsIC9cZHs0fS1XXGR7Mn0tXGQvXSwKICAgICAgICAgIFsnR0dHRy1bV11XVycsIC9cZHs0fS1XXGR7Mn0vXSwKICAgICAgICAgIFsnWVlZWS1EREQnLCAvXGR7NH0tXGR7M30vXQogICAgICBdOwoKICAgICAgLy8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlcwogICAgICB2YXIgaXNvVGltZXMgPSBbCiAgICAgICAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvKFR8IClcZFxkOlxkXGQ6XGRcZFwuXGQrL10sCiAgICAgICAgICBbJ0hIOm1tOnNzJywgLyhUfCApXGRcZDpcZFxkOlxkXGQvXSwKICAgICAgICAgIFsnSEg6bW0nLCAvKFR8IClcZFxkOlxkXGQvXSwKICAgICAgICAgIFsnSEgnLCAvKFR8IClcZFxkL10KICAgICAgXTsKCiAgICAgIHZhciBhc3BOZXRKc29uUmVnZXggPSAvXlwvP0RhdGVcKChcLT9cZCspL2k7CgogICAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdAogICAgICBmdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykgewogICAgICAgICAgdmFyIGksIGwsCiAgICAgICAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLAogICAgICAgICAgICAgIG1hdGNoID0gZnJvbV9zdHJpbmdfX2lzb1JlZ2V4LmV4ZWMoc3RyaW5nKTsKCiAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlOwogICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgICAgICAgaWYgKGlzb0RhdGVzW2ldWzFdLmV4ZWMoc3RyaW5nKSkgewogICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbNV0gc2hvdWxkIGJlICdUJyBvciB1bmRlZmluZWQKICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5fZiA9IGlzb0RhdGVzW2ldWzBdICsgKG1hdGNoWzZdIHx8ICcgJyk7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKHN0cmluZykpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5fZiArPSBpc29UaW1lc1tpXVswXTsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChzdHJpbmcubWF0Y2gobWF0Y2hPZmZzZXQpKSB7CiAgICAgICAgICAgICAgICAgIGNvbmZpZy5fZiArPSAnWic7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrCiAgICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7CiAgICAgICAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7CgogICAgICAgICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHsKICAgICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTsKICAgICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDsKICAgICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKAogICAgICAgICAgJ21vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlLiBUaGlzIGlzICcgKwogICAgICAgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdXBjb21pbmcgbWFqb3IgJyArCiAgICAgICAgICAncmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgKwogICAgICAgICAgJ2h0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDA3IGZvciBtb3JlIGluZm8uJywKICAgICAgICAgIGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpOwogICAgICAgICAgfQogICAgICApOwoKICAgICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHsKICAgICAgICAgIC8vY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6CiAgICAgICAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxMzQ4L2luc3RhbnRpYXRpbmctYS1qYXZhc2NyaXB0LW9iamVjdC1ieS1jYWxsaW5nLXByb3RvdHlwZS1jb25zdHJ1Y3Rvci1hcHBseQogICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7CgogICAgICAgICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciBkb2Vzbid0IGFjY2VwdCB5ZWFycyA8IDE5NzAKICAgICAgICAgIGlmICh5IDwgMTk3MCkgewogICAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZGF0ZTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkgewogICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTsKICAgICAgICAgIGlmICh5IDwgMTk3MCkgewogICAgICAgICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZGF0ZTsKICAgICAgfQoKICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7CiAgICAgIH0pOwoKICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTsKICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWScsICA1XSwgICAgICAgMCwgJ3llYXInKTsKICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTsKCiAgICAgIC8vIEFMSUFTRVMKCiAgICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCdZJywgICAgICBtYXRjaFNpZ25lZCk7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTsKICAgICAgYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpOwogICAgICBhZGRSZWdleFRva2VuKCdZWVlZWScsICBtYXRjaDF0bzYsIG1hdGNoNik7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTsKCiAgICAgIGFkZFBhcnNlVG9rZW4oWydZWVlZJywgJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTsKICAgICAgYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7CiAgICAgICAgICBhcnJheVtZRUFSXSA9IHV0aWxzX2hvb2tzX19ob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7CiAgICAgIH0pOwoKICAgICAgLy8gSEVMUEVSUwoKICAgICAgZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7CiAgICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7CiAgICAgICAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7CiAgICAgIH0KCiAgICAgIC8vIEhPT0tTCgogICAgICB1dGlsc19ob29rc19faG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHsKICAgICAgICAgIHJldHVybiB0b0ludChpbnB1dCkgKyAodG9JbnQoaW5wdXQpID4gNjggPyAxOTAwIDogMjAwMCk7CiAgICAgIH07CgogICAgICAvLyBNT01FTlRTCgogICAgICB2YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgZmFsc2UpOwoKICAgICAgZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7CiAgICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7CiAgICAgIH0KCiAgICAgIGFkZEZvcm1hdFRva2VuKCd3JywgWyd3dycsIDJdLCAnd28nLCAnd2VlaycpOwogICAgICBhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTsKCiAgICAgIC8vIEFMSUFTRVMKCiAgICAgIGFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7CiAgICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCd3JywgIG1hdGNoMXRvMik7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpOwogICAgICBhZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpOwoKICAgICAgYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7CiAgICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7CiAgICAgIH0pOwoKICAgICAgLy8gSEVMUEVSUwoKICAgICAgLy8gZmlyc3REYXlPZldlZWsgICAgICAgMCA9IHN1biwgNiA9IHNhdAogICAgICAvLyAgICAgICAgICAgICAgICAgICAgICB0aGUgZGF5IG9mIHRoZSB3ZWVrIHRoYXQgc3RhcnRzIHRoZSB3ZWVrCiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICh1c3VhbGx5IHN1bmRheSBvciBtb25kYXkpCiAgICAgIC8vIGZpcnN0RGF5T2ZXZWVrT2ZZZWFyIDAgPSBzdW4sIDYgPSBzYXQKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGhlIGZpcnN0IHdlZWsgaXMgdGhlIHdlZWsgdGhhdCBjb250YWlucyB0aGUgZmlyc3QKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgb2YgdGhpcyBkYXkgb2YgdGhlIHdlZWsKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgKGVnLiBJU08gd2Vla3MgdXNlIHRodXJzZGF5ICg0KSkKICAgICAgZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGZpcnN0RGF5T2ZXZWVrLCBmaXJzdERheU9mV2Vla09mWWVhcikgewogICAgICAgICAgdmFyIGVuZCA9IGZpcnN0RGF5T2ZXZWVrT2ZZZWFyIC0gZmlyc3REYXlPZldlZWssCiAgICAgICAgICAgICAgZGF5c1RvRGF5T2ZXZWVrID0gZmlyc3REYXlPZldlZWtPZlllYXIgLSBtb20uZGF5KCksCiAgICAgICAgICAgICAgYWRqdXN0ZWRNb21lbnQ7CgoKICAgICAgICAgIGlmIChkYXlzVG9EYXlPZldlZWsgPiBlbmQpIHsKICAgICAgICAgICAgICBkYXlzVG9EYXlPZldlZWsgLT0gNzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGF5c1RvRGF5T2ZXZWVrIDwgZW5kIC0gNykgewogICAgICAgICAgICAgIGRheXNUb0RheU9mV2VlayArPSA3OwogICAgICAgICAgfQoKICAgICAgICAgIGFkanVzdGVkTW9tZW50ID0gbG9jYWxfX2NyZWF0ZUxvY2FsKG1vbSkuYWRkKGRheXNUb0RheU9mV2VlaywgJ2QnKTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgd2VlazogTWF0aC5jZWlsKGFkanVzdGVkTW9tZW50LmRheU9mWWVhcigpIC8gNyksCiAgICAgICAgICAgICAgeWVhcjogYWRqdXN0ZWRNb21lbnQueWVhcigpCiAgICAgICAgICB9OwogICAgICB9CgogICAgICAvLyBMT0NBTEVTCgogICAgICBmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHsKICAgICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrOwogICAgICB9CgogICAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWsgPSB7CiAgICAgICAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay4KICAgICAgICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci4KICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZXZWVrICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95OwogICAgICB9CgogICAgICAvLyBNT01FTlRTCgogICAgICBmdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkgewogICAgICAgICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpOwogICAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkgewogICAgICAgICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7CiAgICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7CiAgICAgIH0KCiAgICAgIGFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7CgogICAgICAvLyBBTElBU0VTCgogICAgICBhZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTsKCiAgICAgIC8vIFBBUlNJTkcKCiAgICAgIGFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpOwogICAgICBhZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTsKICAgICAgYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykgewogICAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7CiAgICAgIH0pOwoKICAgICAgLy8gSEVMUEVSUwoKICAgICAgLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5CiAgICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBmaXJzdERheU9mV2Vla09mWWVhciwgZmlyc3REYXlPZldlZWspIHsKICAgICAgICAgIHZhciBkID0gY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCAxKS5nZXRVVENEYXkoKTsKICAgICAgICAgIHZhciBkYXlzVG9BZGQ7CiAgICAgICAgICB2YXIgZGF5T2ZZZWFyOwoKICAgICAgICAgIGQgPSBkID09PSAwID8gNyA6IGQ7CiAgICAgICAgICB3ZWVrZGF5ID0gd2Vla2RheSAhPSBudWxsID8gd2Vla2RheSA6IGZpcnN0RGF5T2ZXZWVrOwogICAgICAgICAgZGF5c1RvQWRkID0gZmlyc3REYXlPZldlZWsgLSBkICsgKGQgPiBmaXJzdERheU9mV2Vla09mWWVhciA/IDcgOiAwKSAtIChkIDwgZmlyc3REYXlPZldlZWsgPyA3IDogMCk7CiAgICAgICAgICBkYXlPZlllYXIgPSA3ICogKHdlZWsgLSAxKSArICh3ZWVrZGF5IC0gZmlyc3REYXlPZldlZWspICsgZGF5c1RvQWRkICsgMTsKCiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIHllYXIgICAgICA6IGRheU9mWWVhciA+IDAgPyB5ZWFyICAgICAgOiB5ZWFyIC0gMSwKICAgICAgICAgICAgICBkYXlPZlllYXIgOiBkYXlPZlllYXIgPiAwID8gZGF5T2ZZZWFyIDogZGF5c0luWWVhcih5ZWFyIC0gMSkgKyBkYXlPZlllYXIKICAgICAgICAgIH07CiAgICAgIH0KCiAgICAgIC8vIE1PTUVOVFMKCiAgICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHsKICAgICAgICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7CiAgICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IGRheU9mWWVhciA6IHRoaXMuYWRkKChpbnB1dCAtIGRheU9mWWVhciksICdkJyk7CiAgICAgIH0KCiAgICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy4KICAgICAgZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykgewogICAgICAgICAgaWYgKGEgIT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBhOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGIgIT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBiOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7CiAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgIGlmIChjb25maWcuX3VzZVVUQykgewogICAgICAgICAgICAgIHJldHVybiBbbm93LmdldFVUQ0Z1bGxZZWFyKCksIG5vdy5nZXRVVENNb250aCgpLCBub3cuZ2V0VVRDRGF0ZSgpXTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBbbm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpXTsKICAgICAgfQoKICAgICAgLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuCiAgICAgIC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93CiAgICAgIC8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLgogICAgICAvLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF0KICAgICAgZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHsKICAgICAgICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgeWVhclRvVXNlOwoKICAgICAgICAgIGlmIChjb25maWcuX2QpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7CgogICAgICAgICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5cwogICAgICAgICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHsKICAgICAgICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXMKICAgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhcikgewogICAgICAgICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pOwoKICAgICAgICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkpIHsKICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpOwogICAgICAgICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7CiAgICAgICAgICAgICAgY29uZmlnLl9hW0RBVEVdID0gZGF0ZS5nZXRVVENEYXRlKCk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuCiAgICAgICAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5CiAgICAgICAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhcgogICAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXIKICAgICAgICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkgewogICAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07CiAgICAgICAgICB9CgogICAgICAgICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lCiAgICAgICAgICBmb3IgKDsgaSA8IDc7IGkrKykgewogICAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDAKICAgICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmCiAgICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmCiAgICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmCiAgICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDApIHsKICAgICAgICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlOwogICAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7CiAgICAgICAgICB9CgogICAgICAgICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTsKICAgICAgICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZAogICAgICAgICAgLy8gd2l0aCBwYXJzZVpvbmUuCiAgICAgICAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkgewogICAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGNvbmZpZy5fbmV4dERheSkgewogICAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0OwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7CiAgICAgICAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wOwoKICAgICAgICAgIHcgPSBjb25maWcuX3c7CiAgICAgICAgICBpZiAody5HRyAhPSBudWxsIHx8IHcuVyAhPSBudWxsIHx8IHcuRSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgZG93ID0gMTsKICAgICAgICAgICAgICBkb3kgPSA0OwoKICAgICAgICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb24KICAgICAgICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlCiAgICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmQKICAgICAgICAgICAgICAvLyBjcmVhdGUgbm93KS4KICAgICAgICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihsb2NhbF9fY3JlYXRlTG9jYWwoKSwgMSwgNCkueWVhcik7CiAgICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7CiAgICAgICAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdzsKICAgICAgICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7CgogICAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGxvY2FsX19jcmVhdGVMb2NhbCgpLCBkb3csIGRveSkueWVhcik7CiAgICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcudywgMSk7CgogICAgICAgICAgICAgIGlmICh3LmQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWsKICAgICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZDsKICAgICAgICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCBkb3cpIHsKICAgICAgICAgICAgICAgICAgICAgICsrd2VlazsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrCiAgICAgICAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byBiZWdpbmluZyBvZiB3ZWVrCiAgICAgICAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdGVtcCA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG95LCBkb3cpOwoKICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjsKICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7CiAgICAgIH0KCiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9OwoKICAgICAgLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZwogICAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykgewogICAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHMKICAgICAgICAgIGlmIChjb25maWcuX2YgPT09IHV0aWxzX2hvb2tzX19ob29rcy5JU09fODYwMSkgewogICAgICAgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgY29uZmlnLl9hID0gW107CiAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7CgogICAgICAgICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2AKICAgICAgICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSwKICAgICAgICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCwKICAgICAgICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLAogICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwOwoKICAgICAgICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTsKCiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07CiAgICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdOwogICAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkgewogICAgICAgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpOwogICAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpOwogICAgICAgICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlbgogICAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHsKICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7CiAgICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7CiAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZwogICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7CiAgICAgICAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTIKICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID09PSB0cnVlICYmCiAgICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA8PSAxMiAmJgogICAgICAgICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7CiAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbQogICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gbWVyaWRpZW1GaXhXcmFwKGNvbmZpZy5fbG9jYWxlLCBjb25maWcuX2FbSE9VUl0sIGNvbmZpZy5fbWVyaWRpZW0pOwoKICAgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpOwogICAgICAgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpOwogICAgICB9CgoKICAgICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7CiAgICAgICAgICB2YXIgaXNQbTsKCiAgICAgICAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkgewogICAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG8KICAgICAgICAgICAgICByZXR1cm4gaG91cjsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChsb2NhbGUubWVyaWRpZW1Ib3VyICE9IG51bGwpIHsKICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHsKICAgICAgICAgICAgICAvLyBGYWxsYmFjawogICAgICAgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7CiAgICAgICAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7CiAgICAgICAgICAgICAgICAgIGhvdXIgKz0gMTI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikgewogICAgICAgICAgICAgICAgICBob3VyID0gMDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIGhvdXI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlbgogICAgICAgICAgICAgIHJldHVybiBob3VyOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7CiAgICAgICAgICB2YXIgdGVtcENvbmZpZywKICAgICAgICAgICAgICBiZXN0TW9tZW50LAoKICAgICAgICAgICAgICBzY29yZVRvQmVhdCwKICAgICAgICAgICAgICBpLAogICAgICAgICAgICAgIGN1cnJlbnRTY29yZTsKCiAgICAgICAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlOwogICAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBjdXJyZW50U2NvcmUgPSAwOwogICAgICAgICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpOwogICAgICAgICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldOwogICAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7CgogICAgICAgICAgICAgIGlmICghdmFsaWRfX2lzVmFsaWQodGVtcENvbmZpZykpIHsKICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdAogICAgICAgICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3ZlcjsKCiAgICAgICAgICAgICAgLy9vciB0b2tlbnMKICAgICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDsKCiAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlOwoKICAgICAgICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkgewogICAgICAgICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTsKICAgICAgICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7CiAgICAgICAgICBpZiAoY29uZmlnLl9kKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTsKICAgICAgICAgIGNvbmZpZy5fYSA9IFtpLnllYXIsIGkubW9udGgsIGkuZGF5IHx8IGkuZGF0ZSwgaS5ob3VyLCBpLm1pbnV0ZSwgaS5zZWNvbmQsIGkubWlsbGlzZWNvbmRdOwoKICAgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnIChjb25maWcpIHsKICAgICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSwKICAgICAgICAgICAgICBmb3JtYXQgPSBjb25maWcuX2YsCiAgICAgICAgICAgICAgcmVzOwoKICAgICAgICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgbG9jYWxlX2xvY2FsZXNfX2dldExvY2FsZShjb25maWcuX2wpOwoKICAgICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkgewogICAgICAgICAgICAgIHJldHVybiB2YWxpZF9fY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpOwogICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHsKICAgICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7CiAgICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpOwogICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7CiAgICAgICAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpOwogICAgICAgICAgfQoKICAgICAgICAgIHJlcyA9IG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhjb25maWcpKTsKICAgICAgICAgIGlmIChyZXMuX25leHREYXkpIHsKICAgICAgICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1QKICAgICAgICAgICAgICByZXMuYWRkKDEsICdkJyk7CiAgICAgICAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHsKICAgICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTsKICAgICAgICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkgewogICAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCtpbnB1dCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7CiAgICAgICAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTsKICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICBjb25maWdGcm9tT2JqZWN0KGNvbmZpZyk7CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihpbnB1dCkgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHMKICAgICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHsKICAgICAgICAgIHZhciBjID0ge307CgogICAgICAgICAgaWYgKHR5cGVvZihsb2NhbGUpID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgICBzdHJpY3QgPSBsb2NhbGU7CiAgICAgICAgICAgICAgbG9jYWxlID0gdW5kZWZpbmVkOwogICAgICAgICAgfQogICAgICAgICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuCiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyMwogICAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTsKICAgICAgICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7CiAgICAgICAgICBjLl9sID0gbG9jYWxlOwogICAgICAgICAgYy5faSA9IGlucHV0OwogICAgICAgICAgYy5fZiA9IGZvcm1hdDsKICAgICAgICAgIGMuX3N0cmljdCA9IHN0cmljdDsKCiAgICAgICAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbG9jYWxfX2NyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTsKICAgICAgfQoKICAgICAgdmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZSgKICAgICAgICAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4JywKICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgIHZhciBvdGhlciA9IGxvY2FsX19jcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyOwogICAgICAgICAgIH0KICAgICAgICk7CgogICAgICB2YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKAogICAgICAgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OCcsCiAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdmFyIG90aGVyID0gbG9jYWxfX2NyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjsKICAgICAgICAgIH0KICAgICAgKTsKCiAgICAgIC8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsCiAgICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS4KICAgICAgLy8KICAgICAgLy8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZQogICAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLgogICAgICBmdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHsKICAgICAgICAgIHZhciByZXMsIGk7CiAgICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkgewogICAgICAgICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwoKTsKICAgICAgICAgIH0KICAgICAgICAgIHJlcyA9IG1vbWVudHNbMF07CiAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgIGlmIChtb21lbnRzW2ldW2ZuXShyZXMpKSB7CiAgICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfQoKICAgICAgLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD8KICAgICAgZnVuY3Rpb24gbWluICgpIHsKICAgICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwoKICAgICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1heCAoKSB7CiAgICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKCiAgICAgICAgICByZXR1cm4gcGlja0J5KCdpc0FmdGVyJywgYXJncyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikgewogICAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSwKICAgICAgICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsCiAgICAgICAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLAogICAgICAgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLAogICAgICAgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgMCwKICAgICAgICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLAogICAgICAgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCwKICAgICAgICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLAogICAgICAgICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsCiAgICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7CgogICAgICAgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmUKICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9ICttaWxsaXNlY29uZHMgKwogICAgICAgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwCiAgICAgICAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MAogICAgICAgICAgICAgIGhvdXJzICogMzZlNTsgLy8gMTAwMCAqIDYwICogNjAKICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYQogICAgICAgICAgLy8gZGF5IHdoZW4gd29ya2luZyBhcm91bmQgRFNULCB3ZSBuZWVkIHRvIHN0b3JlIHRoZW0gc2VwYXJhdGVseQogICAgICAgICAgdGhpcy5fZGF5cyA9ICtkYXlzICsKICAgICAgICAgICAgICB3ZWVrcyAqIDc7CiAgICAgICAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZwogICAgICAgICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmUKICAgICAgICAgIC8vIGl0IHNlcGFyYXRlbHkuCiAgICAgICAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICsKICAgICAgICAgICAgICBxdWFydGVycyAqIDMgKwogICAgICAgICAgICAgIHllYXJzICogMTI7CgogICAgICAgICAgdGhpcy5fZGF0YSA9IHt9OwoKICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoKTsKCiAgICAgICAgICB0aGlzLl9idWJibGUoKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7CiAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG9mZnNldCAodG9rZW4sIHNlcGFyYXRvcikgewogICAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTsKICAgICAgICAgICAgICB2YXIgc2lnbiA9ICcrJzsKICAgICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCkgewogICAgICAgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0OwogICAgICAgICAgICAgICAgICBzaWduID0gJy0nOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpOwogICAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIG9mZnNldCgnWicsICc6Jyk7CiAgICAgIG9mZnNldCgnWlonLCAnJyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCdaJywgIG1hdGNoT2Zmc2V0KTsKICAgICAgYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaE9mZnNldCk7CiAgICAgIGFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykgewogICAgICAgICAgY29uZmlnLl91c2VVVEMgPSB0cnVlOwogICAgICAgICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKGlucHV0KTsKICAgICAgfSk7CgogICAgICAvLyBIRUxQRVJTCgogICAgICAvLyB0aW1lem9uZSBjaHVua2VyCiAgICAgIC8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXQogICAgICAvLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ10KICAgICAgdmFyIGNodW5rT2Zmc2V0ID0gLyhbXCtcLV18XGRcZCkvZ2k7CgogICAgICBmdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKHN0cmluZykgewogICAgICAgICAgdmFyIG1hdGNoZXMgPSAoKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hPZmZzZXQpIHx8IFtdKTsKICAgICAgICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdOwogICAgICAgICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdOwogICAgICAgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pOwoKICAgICAgICAgIHJldHVybiBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzOwogICAgICB9CgogICAgICAvLyBSZXR1cm4gYSBtb21lbnQgZnJvbSBpbnB1dCwgdGhhdCBpcyBsb2NhbC91dGMvem9uZSBlcXVpdmFsZW50IHRvIG1vZGVsLgogICAgICBmdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7CiAgICAgICAgICB2YXIgcmVzLCBkaWZmOwogICAgICAgICAgaWYgKG1vZGVsLl9pc1VUQykgewogICAgICAgICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7CiAgICAgICAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/ICtpbnB1dCA6ICtsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQpKSAtICgrcmVzKTsKICAgICAgICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuCiAgICAgICAgICAgICAgcmVzLl9kLnNldFRpbWUoK3Jlcy5fZCArIGRpZmYpOwogICAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7CiAgICAgICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBtb2RlbC5faXNVVEMgPyBsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQpLnpvbmUobW9kZWwuX29mZnNldCB8fCAwKSA6IGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkgewogICAgICAgICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC4KICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MQogICAgICAgICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1OwogICAgICB9CgogICAgICAvLyBIT09LUwoKICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLgogICAgICAvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS4KICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9OwoKICAgICAgLy8gTU9NRU5UUwoKICAgICAgLy8ga2VlcExvY2FsVGltZSA9IHRydWUgbWVhbnMgb25seSBjaGFuZ2UgdGhlIHRpbWV6b25lLCB3aXRob3V0CiAgICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+CiAgICAgIC8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXQKICAgICAgLy8gKzAyMDAsIHNvIHdlIGFkanVzdCB0aGUgdGltZSBhcyBuZWVkZWQsIHRvIGJlIHZhbGlkLgogICAgICAvLwogICAgICAvLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cikKICAgICAgLy8gZnJvbSB0aGUgYWN0dWFsIHJlcHJlc2VudGVkIHRpbWUuIFRoYXQgaXMgd2h5IHdlIGNhbGwgdXBkYXRlT2Zmc2V0CiAgICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW4KICAgICAgLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlCiAgICAgIC8vIHRoZXJlIGlzIG5vIHN1Y2ggdGltZSBpbiB0aGUgZ2l2ZW4gdGltZXpvbmUuCiAgICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHsKICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCwKICAgICAgICAgICAgICBsb2NhbEFkanVzdDsKICAgICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKGlucHV0KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGlucHV0KSA8IDE2KSB7CiAgICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlOwogICAgICAgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkgewogICAgICAgICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykgewogICAgICAgICAgICAgICAgICAgICAgYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSBudWxsOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkgewogICAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHsKICAgICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTsKCiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkgewogICAgICAgICAgaWYgKHRoaXMuX2lzVVRDKSB7CiAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7CiAgICAgICAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zdWJ0cmFjdChnZXREYXRlT2Zmc2V0KHRoaXMpLCAnbScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7CiAgICAgICAgICBpZiAodGhpcy5fdHptKSB7CiAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTsKICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQob2Zmc2V0RnJvbVN0cmluZyh0aGlzLl9pKSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7CiAgICAgICAgICBpZiAoIWlucHV0KSB7CiAgICAgICAgICAgICAgaW5wdXQgPSAwOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgaW5wdXQgPSBsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiAodGhpcy51dGNPZmZzZXQoKSAtIGlucHV0KSAlIDYwID09PSAwOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7CiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHwKICAgICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpCiAgICAgICAgICApOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQgKCkgewogICAgICAgICAgaWYgKHRoaXMuX2EpIHsKICAgICAgICAgICAgICB2YXIgb3RoZXIgPSB0aGlzLl9pc1VUQyA/IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQyh0aGlzLl9hKSA6IGxvY2FsX19jcmVhdGVMb2NhbCh0aGlzLl9hKTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgJiYgY29tcGFyZUFycmF5cyh0aGlzLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGlzTG9jYWwgKCkgewogICAgICAgICAgcmV0dXJuICF0aGlzLl9pc1VUQzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpc1V0YyAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwOwogICAgICB9CgogICAgICB2YXIgYXNwTmV0UmVnZXggPSAvKFwtKT8oPzooXGQqKVwuKT8oXGQrKVw6KFxkKykoPzpcOihcZCspXC4/KFxkezN9KT8pPy87CgogICAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbAogICAgICAvLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlCiAgICAgIHZhciBjcmVhdGVfX2lzb1JlZ2V4ID0gL14oLSk/UCg/Oig/OihbMC05LC5dKilZKT8oPzooWzAtOSwuXSopTSk/KD86KFswLTksLl0qKUQpPyg/OlQoPzooWzAtOSwuXSopSCk/KD86KFswLTksLl0qKU0pPyg/OihbMC05LC5dKilTKT8pP3woWzAtOSwuXSopVykkLzsKCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24gKGlucHV0LCBrZXkpIHsKICAgICAgICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LAogICAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kCiAgICAgICAgICAgICAgbWF0Y2ggPSBudWxsLAogICAgICAgICAgICAgIHNpZ24sCiAgICAgICAgICAgICAgcmV0LAogICAgICAgICAgICAgIGRpZmZSZXM7CgogICAgICAgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7CiAgICAgICAgICAgICAgZHVyYXRpb24gPSB7CiAgICAgICAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcywKICAgICAgICAgICAgICAgICAgZCAgOiBpbnB1dC5fZGF5cywKICAgICAgICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzCiAgICAgICAgICAgICAgfTsKICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgIGR1cmF0aW9uID0ge307CiAgICAgICAgICAgICAgaWYgKGtleSkgewogICAgICAgICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZHVyYXRpb24ubWlsbGlzZWNvbmRzID0gaW5wdXQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkgewogICAgICAgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7CiAgICAgICAgICAgICAgZHVyYXRpb24gPSB7CiAgICAgICAgICAgICAgICAgIHkgIDogMCwKICAgICAgICAgICAgICAgICAgZCAgOiB0b0ludChtYXRjaFtEQVRFXSkgICAgICAgICogc2lnbiwKICAgICAgICAgICAgICAgICAgaCAgOiB0b0ludChtYXRjaFtIT1VSXSkgICAgICAgICogc2lnbiwKICAgICAgICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICogc2lnbiwKICAgICAgICAgICAgICAgICAgcyAgOiB0b0ludChtYXRjaFtTRUNPTkRdKSAgICAgICogc2lnbiwKICAgICAgICAgICAgICAgICAgbXMgOiB0b0ludChtYXRjaFtNSUxMSVNFQ09ORF0pICogc2lnbgogICAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gY3JlYXRlX19pc29SZWdleC5leGVjKGlucHV0KSkpIHsKICAgICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxOwogICAgICAgICAgICAgIGR1cmF0aW9uID0gewogICAgICAgICAgICAgICAgICB5IDogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLAogICAgICAgICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLAogICAgICAgICAgICAgICAgICBkIDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLAogICAgICAgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLAogICAgICAgICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLAogICAgICAgICAgICAgICAgICBzIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLAogICAgICAgICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pCiAgICAgICAgICAgICAgfTsKICAgICAgICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWQKICAgICAgICAgICAgICBkdXJhdGlvbiA9IHt9OwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHsKICAgICAgICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UobG9jYWxfX2NyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBsb2NhbF9fY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTsKCiAgICAgICAgICAgICAgZHVyYXRpb24gPSB7fTsKICAgICAgICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzOwogICAgICAgICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRoczsKICAgICAgICAgIH0KCiAgICAgICAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pOwoKICAgICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7CiAgICAgICAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0KCiAgICAgIGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7CgogICAgICBmdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7CiAgICAgICAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzbwogICAgICAgICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuCiAgICAgICAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuCiAgICAgICAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTsKICAgICAgICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXQKICAgICAgICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikgewogICAgICAgICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07CgogICAgICAgICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgKwogICAgICAgICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjsKICAgICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHsKICAgICAgICAgICAgICAtLXJlcy5tb250aHM7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICsoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpKTsKCiAgICAgICAgICByZXR1cm4gcmVzOwogICAgICB9CgogICAgICBmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikgewogICAgICAgICAgdmFyIHJlczsKICAgICAgICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTsKICAgICAgICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkgewogICAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTsKICAgICAgICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gLXJlcy5taWxsaXNlY29uZHM7CiAgICAgICAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkgewogICAgICAgICAgICAgIHZhciBkdXIsIHRtcDsKICAgICAgICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXQKICAgICAgICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkgewogICAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4nKTsKICAgICAgICAgICAgICAgICAgdG1wID0gdmFsOyB2YWwgPSBwZXJpb2Q7IHBlcmlvZCA9IHRtcDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gK3ZhbCA6IHZhbDsKICAgICAgICAgICAgICBkdXIgPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTsKICAgICAgICAgICAgICBhZGRfc3VidHJhY3RfX2FkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHsKICAgICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzLAogICAgICAgICAgICAgIGRheXMgPSBkdXJhdGlvbi5fZGF5cywKICAgICAgICAgICAgICBtb250aHMgPSBkdXJhdGlvbi5fbW9udGhzOwogICAgICAgICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0OwoKICAgICAgICAgIGlmIChtaWxsaXNlY29uZHMpIHsKICAgICAgICAgICAgICBtb20uX2Quc2V0VGltZSgrbW9tLl9kICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGRheXMpIHsKICAgICAgICAgICAgICBnZXRfc2V0X19zZXQobW9tLCAnRGF0ZScsIGdldF9zZXRfX2dldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG1vbnRocykgewogICAgICAgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0X3NldF9fZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodXBkYXRlT2Zmc2V0KSB7CiAgICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGFkZF9zdWJ0cmFjdF9fYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7CiAgICAgIHZhciBhZGRfc3VidHJhY3RfX3N1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpOwoKICAgICAgZnVuY3Rpb24gbW9tZW50X2NhbGVuZGFyX19jYWxlbmRhciAodGltZSkgewogICAgICAgICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy4KICAgICAgICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LgogICAgICAgICAgdmFyIG5vdyA9IHRpbWUgfHwgbG9jYWxfX2NyZWF0ZUxvY2FsKCksCiAgICAgICAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksCiAgICAgICAgICAgICAgZGlmZiA9IHRoaXMuZGlmZihzb2QsICdkYXlzJywgdHJ1ZSksCiAgICAgICAgICAgICAgZm9ybWF0ID0gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6CiAgICAgICAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOgogICAgICAgICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6CiAgICAgICAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDoKICAgICAgICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOgogICAgICAgICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnOwogICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgbG9jYWxfX2NyZWF0ZUxvY2FsKG5vdykpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2xvbmUgKCkgewogICAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykgewogICAgICAgICAgdmFyIGlucHV0TXM7CiAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHR5cGVvZiB1bml0cyAhPT0gJ3VuZGVmaW5lZCcgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpOwogICAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7CiAgICAgICAgICAgICAgaW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7CiAgICAgICAgICAgICAgcmV0dXJuICt0aGlzID4gK2lucHV0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpbnB1dE1zID0gaXNNb21lbnQoaW5wdXQpID8gK2lucHV0IDogK2xvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7CiAgICAgICAgICAgICAgcmV0dXJuIGlucHV0TXMgPCArdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBpc0JlZm9yZSAoaW5wdXQsIHVuaXRzKSB7CiAgICAgICAgICB2YXIgaW5wdXRNczsKICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModHlwZW9mIHVuaXRzICE9PSAndW5kZWZpbmVkJyA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7CiAgICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHsKICAgICAgICAgICAgICBpbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTsKICAgICAgICAgICAgICByZXR1cm4gK3RoaXMgPCAraW5wdXQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlucHV0TXMgPSBpc01vbWVudChpbnB1dCkgPyAraW5wdXQgOiArbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTsKICAgICAgICAgICAgICByZXR1cm4gK3RoaXMuY2xvbmUoKS5lbmRPZih1bml0cykgPCBpbnB1dE1zOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cykgewogICAgICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgJiYgdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykgewogICAgICAgICAgdmFyIGlucHV0TXM7CiAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpOwogICAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7CiAgICAgICAgICAgICAgaW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7CiAgICAgICAgICAgICAgcmV0dXJuICt0aGlzID09PSAraW5wdXQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlucHV0TXMgPSArbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTsKICAgICAgICAgICAgICByZXR1cm4gKyh0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSArKHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykpOwogICAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7CiAgICAgICAgICBpZiAobnVtYmVyIDwgMCkgewogICAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7CiAgICAgICAgICB2YXIgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyksCiAgICAgICAgICAgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNCwKICAgICAgICAgICAgICBkZWx0YSwgb3V0cHV0OwoKICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpOwoKICAgICAgICAgIGlmICh1bml0cyA9PT0gJ3llYXInIHx8IHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicpIHsKICAgICAgICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7CiAgICAgICAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHsKICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMzsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVuaXRzID09PSAneWVhcicpIHsKICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMTI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBkZWx0YSA9IHRoaXMgLSB0aGF0OwogICAgICAgICAgICAgIG91dHB1dCA9IHVuaXRzID09PSAnc2Vjb25kJyA/IGRlbHRhIC8gMWUzIDogLy8gMTAwMAogICAgICAgICAgICAgICAgICB1bml0cyA9PT0gJ21pbnV0ZScgPyBkZWx0YSAvIDZlNCA6IC8vIDEwMDAgKiA2MAogICAgICAgICAgICAgICAgICB1bml0cyA9PT0gJ2hvdXInID8gZGVsdGEgLyAzNmU1IDogLy8gMTAwMCAqIDYwICogNjAKICAgICAgICAgICAgICAgICAgdW5pdHMgPT09ICdkYXknID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDg2NGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdAogICAgICAgICAgICAgICAgICB1bml0cyA9PT0gJ3dlZWsnID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDYwNDhlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0CiAgICAgICAgICAgICAgICAgIGRlbHRhOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHsKICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzCiAgICAgICAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoKGIueWVhcigpIC0gYS55ZWFyKCkpICogMTIpICsgKGIubW9udGgoKSAtIGEubW9udGgoKSksCiAgICAgICAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aCkKICAgICAgICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksCiAgICAgICAgICAgICAgYW5jaG9yMiwgYWRqdXN0OwoKICAgICAgICAgIGlmIChiIC0gYW5jaG9yIDwgMCkgewogICAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpOwogICAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoCiAgICAgICAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTsKICAgICAgICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aAogICAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCk7CiAgICAgIH0KCiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJzsKCiAgICAgIGZ1bmN0aW9uIHRvU3RyaW5nICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbW9tZW50X2Zvcm1hdF9fdG9JU09TdHJpbmcgKCkgewogICAgICAgICAgdmFyIG0gPSB0aGlzLmNsb25lKCkudXRjKCk7CiAgICAgICAgICBpZiAoMCA8IG0ueWVhcigpICYmIG0ueWVhcigpIDw9IDk5OTkpIHsKICAgICAgICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSB7CiAgICAgICAgICAgICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuCiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7CiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHsKICAgICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcgfHwgdXRpbHNfaG9va3NfX2hvb2tzLmRlZmF1bHRGb3JtYXQpOwogICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkgewogICAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbShsb2NhbF9fY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7CiAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gY3JlYXRlX19jcmVhdGVEdXJhdGlvbih7ZnJvbTogdGhpcywgdG86IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpOwogICAgICB9CgogICAgICBmdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkgewogICAgICAgICAgcmV0dXJuIHRoaXMudG8obG9jYWxfX2NyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBsb2NhbGUgKGtleSkgewogICAgICAgICAgdmFyIG5ld0xvY2FsZURhdGE7CgogICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoa2V5KTsKICAgICAgICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgbGFuZyA9IGRlcHJlY2F0ZSgKICAgICAgICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsCiAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICk7CgogICAgICBmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGU7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHN0YXJ0T2YgKHVuaXRzKSB7CiAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTsKICAgICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHMKICAgICAgICAgIC8vIHRvIHV0aWxpemUgZmFsbGluZyB0aHJvdWdoIHRoZSBjYXNlcy4KICAgICAgICAgIHN3aXRjaCAodW5pdHMpIHsKICAgICAgICAgIGNhc2UgJ3llYXInOgogICAgICAgICAgICAgIHRoaXMubW9udGgoMCk7CiAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICAgICAgY2FzZSAncXVhcnRlcic6CiAgICAgICAgICBjYXNlICdtb250aCc6CiAgICAgICAgICAgICAgdGhpcy5kYXRlKDEpOwogICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi8KICAgICAgICAgIGNhc2UgJ3dlZWsnOgogICAgICAgICAgY2FzZSAnaXNvV2Vlayc6CiAgICAgICAgICBjYXNlICdkYXknOgogICAgICAgICAgICAgIHRoaXMuaG91cnMoMCk7CiAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICAgICAgY2FzZSAnaG91cic6CiAgICAgICAgICAgICAgdGhpcy5taW51dGVzKDApOwogICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi8KICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6CiAgICAgICAgICAgICAgdGhpcy5zZWNvbmRzKDApOwogICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi8KICAgICAgICAgIGNhc2UgJ3NlY29uZCc6CiAgICAgICAgICAgICAgdGhpcy5taWxsaXNlY29uZHMoMCk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gd2Vla3MgYXJlIGEgc3BlY2lhbCBjYXNlCiAgICAgICAgICBpZiAodW5pdHMgPT09ICd3ZWVrJykgewogICAgICAgICAgICAgIHRoaXMud2Vla2RheSgwKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh1bml0cyA9PT0gJ2lzb1dlZWsnKSB7CiAgICAgICAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWwKICAgICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7CiAgICAgICAgICAgICAgdGhpcy5tb250aChNYXRoLmZsb29yKHRoaXMubW9udGgoKSAvIDMpICogMyk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGVuZE9mICh1bml0cykgewogICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7CiAgICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykgewogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdG9fdHlwZV9fdmFsdWVPZiAoKSB7CiAgICAgICAgICByZXR1cm4gK3RoaXMuX2QgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdW5peCAoKSB7CiAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigrdGhpcyAvIDEwMDApOwogICAgICB9CgogICAgICBmdW5jdGlvbiB0b0RhdGUgKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldCA/IG5ldyBEYXRlKCt0aGlzKSA6IHRoaXMuX2Q7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHRvQXJyYXkgKCkgewogICAgICAgICAgdmFyIG0gPSB0aGlzOwogICAgICAgICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1vbWVudF92YWxpZF9faXNWYWxpZCAoKSB7CiAgICAgICAgICByZXR1cm4gdmFsaWRfX2lzVmFsaWQodGhpcyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7CiAgICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBnZXRQYXJzaW5nRmxhZ3ModGhpcykpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpbnZhbGlkQXQgKCkgewogICAgICAgICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdzsKICAgICAgfQoKICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwOwogICAgICB9KTsKCiAgICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7CiAgICAgICAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7CiAgICAgIH0KCiAgICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7CiAgICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7CiAgICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7CiAgICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7CgogICAgICAvLyBBTElBU0VTCgogICAgICBhZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7CiAgICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTsKCiAgICAgIC8vIFBBUlNJTkcKCiAgICAgIGFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTsKICAgICAgYWRkUmVnZXhUb2tlbignZycsICAgICAgbWF0Y2hTaWduZWQpOwogICAgICBhZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTsKICAgICAgYWRkUmVnZXhUb2tlbignR0dHRycsICAgbWF0Y2gxdG80LCBtYXRjaDQpOwogICAgICBhZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTsKICAgICAgYWRkUmVnZXhUb2tlbignZ2dnZ2cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpOwoKICAgICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7CiAgICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7CiAgICAgIH0pOwoKICAgICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHsKICAgICAgICAgIHdlZWtbdG9rZW5dID0gdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTsKICAgICAgfSk7CgogICAgICAvLyBIRUxQRVJTCgogICAgICBmdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkgewogICAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKFt5ZWFyLCAxMSwgMzEgKyBkb3cgLSBkb3ldKSwgZG93LCBkb3kpLndlZWs7CiAgICAgIH0KCiAgICAgIC8vIE1PTUVOVFMKCiAgICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkgewogICAgICAgICAgdmFyIHllYXIgPSB3ZWVrT2ZZZWFyKHRoaXMsIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdywgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KS55ZWFyOwogICAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB5ZWFyIDogdGhpcy5hZGQoKGlucHV0IC0geWVhciksICd5Jyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkgewogICAgICAgICAgdmFyIHllYXIgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLnllYXI7CiAgICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSB5ZWFyKSwgJ3knKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0SVNPV2Vla3NJblllYXIgKCkgewogICAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkgewogICAgICAgICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7CiAgICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTsKICAgICAgfQoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAwLCAncXVhcnRlcicpOwoKICAgICAgLy8gQUxJQVNFUwoKICAgICAgYWRkVW5pdEFsaWFzKCdxdWFydGVyJywgJ1EnKTsKCiAgICAgIC8vIFBBUlNJTkcKCiAgICAgIGFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpOwogICAgICBhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkgewogICAgICAgICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMzsKICAgICAgfSk7CgogICAgICAvLyBNT01FTlRTCgogICAgICBmdW5jdGlvbiBnZXRTZXRRdWFydGVyIChpbnB1dCkgewogICAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpOwogICAgICB9CgogICAgICBhZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTsKCiAgICAgIC8vIEFMSUFTRVMKCiAgICAgIGFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpOwogICAgICBhZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7CiAgICAgICAgICByZXR1cm4gaXNTdHJpY3QgPyBsb2NhbGUuX29yZGluYWxQYXJzZSA6IGxvY2FsZS5fb3JkaW5hbFBhcnNlTGVuaWVudDsKICAgICAgfSk7CgogICAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTsKICAgICAgYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7CiAgICAgICAgICBhcnJheVtEQVRFXSA9IHRvSW50KGlucHV0Lm1hdGNoKG1hdGNoMXRvMilbMF0sIDEwKTsKICAgICAgfSk7CgogICAgICAvLyBNT01FTlRTCgogICAgICB2YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTsKCiAgICAgIGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpOwoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkgewogICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7CiAgICAgIH0pOwoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ2RkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7CiAgICAgIH0pOwoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcywgZm9ybWF0KTsKICAgICAgfSk7CgogICAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7CiAgICAgIGFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTsKCiAgICAgIC8vIEFMSUFTRVMKCiAgICAgIGFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTsKICAgICAgYWRkVW5pdEFsaWFzKCd3ZWVrZGF5JywgJ2UnKTsKICAgICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTsKCiAgICAgIC8vIFBBUlNJTkcKCiAgICAgIGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpOwogICAgICBhZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTsKICAgICAgYWRkUmVnZXhUb2tlbignRScsICAgIG1hdGNoMXRvMik7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBtYXRjaFdvcmQpOwogICAgICBhZGRSZWdleFRva2VuKCdkZGQnLCAgbWF0Y2hXb3JkKTsKICAgICAgYWRkUmVnZXhUb2tlbignZGRkZCcsIG1hdGNoV29yZCk7CgogICAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnKSB7CiAgICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpOwogICAgICAgICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkCiAgICAgICAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgd2Vlay5kID0gd2Vla2RheTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDsKICAgICAgICAgIH0KICAgICAgfSk7CgogICAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikgewogICAgICAgICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7CiAgICAgIH0pOwoKICAgICAgLy8gSEVMUEVSUwoKICAgICAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHsKICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgaWYgKCFpc05hTihpbnB1dCkpIHsKICAgICAgICAgICAgICAgICAgaW5wdXQgPSBwYXJzZUludChpbnB1dCwgMTApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7CiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBpbnB1dDsKICAgICAgfQoKICAgICAgLy8gTE9DQUxFUwoKICAgICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTsKICAgICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXMgKG0pIHsKICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXTsKICAgICAgfQoKICAgICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTsKICAgICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydCAobSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV07CiAgICAgIH0KCiAgICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7CiAgICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lKSB7CiAgICAgICAgICB2YXIgaSwgbW9tLCByZWdleDsKCiAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHsKICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykgewogICAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeQogICAgICAgICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkgewogICAgICAgICAgICAgICAgICBtb20gPSBsb2NhbF9fY3JlYXRlTG9jYWwoWzIwMDAsIDFdKS5kYXkoaSk7CiAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTsKICAgICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXgKICAgICAgICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIE1PTUVOVFMKCiAgICAgIGZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHsKICAgICAgICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpOwogICAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHsKICAgICAgICAgICAgICBpbnB1dCA9IHBhcnNlV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGRheTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkgewogICAgICAgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNzsKICAgICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkgewogICAgICAgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdAogICAgICAgICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNikKICAgICAgICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay4KICAgICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gdGhpcy5kYXkoKSB8fCA3IDogdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyBpbnB1dCA6IGlucHV0IC0gNyk7CiAgICAgIH0KCiAgICAgIGFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpOwogICAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyOwogICAgICB9KTsKCiAgICAgIGZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7CiAgICAgICAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksIHRoaXMubWludXRlcygpLCBsb3dlcmNhc2UpOwogICAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIG1lcmlkaWVtKCdhJywgdHJ1ZSk7CiAgICAgIG1lcmlkaWVtKCdBJywgZmFsc2UpOwoKICAgICAgLy8gQUxJQVNFUwoKICAgICAgYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTsKCiAgICAgIC8vIFBBUlNJTkcKCiAgICAgIGZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHsKICAgICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7CiAgICAgIH0KCiAgICAgIGFkZFJlZ2V4VG9rZW4oJ2EnLCAgbWF0Y2hNZXJpZGllbSk7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ0EnLCAgbWF0Y2hNZXJpZGllbSk7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTsKICAgICAgYWRkUmVnZXhUb2tlbignaCcsICBtYXRjaDF0bzIpOwogICAgICBhZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTsKICAgICAgYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7CgogICAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTsKICAgICAgYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHsKICAgICAgICAgIGNvbmZpZy5faXNQbSA9IGNvbmZpZy5fbG9jYWxlLmlzUE0oaW5wdXQpOwogICAgICAgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0OwogICAgICB9KTsKICAgICAgYWRkUGFyc2VUb2tlbihbJ2gnLCAnaGgnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7CiAgICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTsKICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlOwogICAgICB9KTsKCiAgICAgIC8vIExPQ0FMRVMKCiAgICAgIGZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7CiAgICAgICAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzCiAgICAgICAgICAvLyBVc2luZyBjaGFyQXQgc2hvdWxkIGJlIG1vcmUgY29tcGF0aWJsZS4KICAgICAgICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpOwogICAgICB9CgogICAgICB2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVwuP20/XC4/L2k7CiAgICAgIGZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikgewogICAgICAgICAgaWYgKGhvdXJzID4gMTEpIHsKICAgICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdwbScgOiAnUE0nOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nOwogICAgICAgICAgfQogICAgICB9CgoKICAgICAgLy8gTU9NRU5UUwoKICAgICAgLy8gU2V0dGluZyB0aGUgaG91ciBzaG91bGQga2VlcCB0aGUgdGltZSwgYmVjYXVzZSB0aGUgdXNlciBleHBsaWNpdGx5CiAgICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW4KICAgICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93CiAgICAgIC8vIHRoaXMgcnVsZS4KICAgICAgdmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpOwoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ20nLCBbJ21tJywgMl0sIDAsICdtaW51dGUnKTsKCiAgICAgIC8vIEFMSUFTRVMKCiAgICAgIGFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTsKCiAgICAgIC8vIFBBUlNJTkcKCiAgICAgIGFkZFJlZ2V4VG9rZW4oJ20nLCAgbWF0Y2gxdG8yKTsKICAgICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7CiAgICAgIGFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7CgogICAgICAvLyBNT01FTlRTCgogICAgICB2YXIgZ2V0U2V0TWludXRlID0gbWFrZUdldFNldCgnTWludXRlcycsIGZhbHNlKTsKCiAgICAgIGFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7CgogICAgICAvLyBBTElBU0VTCgogICAgICBhZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7CiAgICAgIGFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpOwogICAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpOwoKICAgICAgLy8gTU9NRU5UUwoKICAgICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7CgogICAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApOwogICAgICB9KTsKCiAgICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1MnLCAyXSwgMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBtaWxsaXNlY29uZF9fbWlsbGlzZWNvbmRzICh0b2tlbikgewogICAgICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCAzXSwgMCwgJ21pbGxpc2Vjb25kJyk7CiAgICAgIH0KCiAgICAgIG1pbGxpc2Vjb25kX19taWxsaXNlY29uZHMoJ1NTUycpOwogICAgICBtaWxsaXNlY29uZF9fbWlsbGlzZWNvbmRzKCdTU1NTJyk7CgogICAgICAvLyBBTElBU0VTCgogICAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpOwogICAgICBhZGRSZWdleFRva2VuKCdTUycsICAgbWF0Y2gxdG8zLCBtYXRjaDIpOwogICAgICBhZGRSZWdleFRva2VuKCdTU1MnLCAgbWF0Y2gxdG8zLCBtYXRjaDMpOwogICAgICBhZGRSZWdleFRva2VuKCdTU1NTJywgbWF0Y2hVbnNpZ25lZCk7CiAgICAgIGFkZFBhcnNlVG9rZW4oWydTJywgJ1NTJywgJ1NTUycsICdTU1NTJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHsKICAgICAgICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7CiAgICAgIH0pOwoKICAgICAgLy8gTU9NRU5UUwoKICAgICAgdmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpOwoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7CiAgICAgIGFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpOwoKICAgICAgLy8gTU9NRU5UUwoKICAgICAgZnVuY3Rpb24gZ2V0Wm9uZUFiYnIgKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnOwogICAgICB9CgogICAgICB2YXIgbW9tZW50UHJvdG90eXBlX19wcm90byA9IE1vbWVudC5wcm90b3R5cGU7CgogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmFkZCAgICAgICAgICA9IGFkZF9zdWJ0cmFjdF9fYWRkOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmNhbGVuZGFyICAgICA9IG1vbWVudF9jYWxlbmRhcl9fY2FsZW5kYXI7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uY2xvbmUgICAgICAgID0gY2xvbmU7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uZGlmZiAgICAgICAgID0gZGlmZjsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5lbmRPZiAgICAgICAgPSBlbmRPZjsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5mb3JtYXQgICAgICAgPSBmb3JtYXQ7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uZnJvbSAgICAgICAgID0gZnJvbTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5mcm9tTm93ICAgICAgPSBmcm9tTm93OwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvICAgICAgICAgICA9IHRvOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvTm93ICAgICAgICA9IHRvTm93OwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmdldCAgICAgICAgICA9IGdldFNldDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pbnZhbGlkQXQgICAgPSBpbnZhbGlkQXQ7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNBZnRlciAgICAgID0gaXNBZnRlcjsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0JlZm9yZSAgICAgPSBpc0JlZm9yZTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0JldHdlZW4gICAgPSBpc0JldHdlZW47CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNTYW1lICAgICAgID0gaXNTYW1lOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVmFsaWQgICAgICA9IG1vbWVudF92YWxpZF9faXNWYWxpZDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5sYW5nICAgICAgICAgPSBsYW5nOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmxvY2FsZSAgICAgICA9IGxvY2FsZTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5sb2NhbGVEYXRhICAgPSBsb2NhbGVEYXRhOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1heCAgICAgICAgICA9IHByb3RvdHlwZU1heDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5taW4gICAgICAgICAgPSBwcm90b3R5cGVNaW47CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucGFyc2luZ0ZsYWdzID0gcGFyc2luZ0ZsYWdzOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnNldCAgICAgICAgICA9IGdldFNldDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5zdGFydE9mICAgICAgPSBzdGFydE9mOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnN1YnRyYWN0ICAgICA9IGFkZF9zdWJ0cmFjdF9fc3VidHJhY3Q7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9BcnJheSAgICAgID0gdG9BcnJheTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0RhdGUgICAgICAgPSB0b0RhdGU7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9JU09TdHJpbmcgID0gbW9tZW50X2Zvcm1hdF9fdG9JU09TdHJpbmc7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9KU09OICAgICAgID0gbW9tZW50X2Zvcm1hdF9fdG9JU09TdHJpbmc7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9TdHJpbmcgICAgID0gdG9TdHJpbmc7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udW5peCAgICAgICAgID0gdW5peDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by52YWx1ZU9mICAgICAgPSB0b190eXBlX192YWx1ZU9mOwoKICAgICAgLy8gWWVhcgogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyOwoKICAgICAgLy8gV2VlayBZZWFyCiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyOwoKICAgICAgLy8gUXVhcnRlcgogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnF1YXJ0ZXIgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnF1YXJ0ZXJzID0gZ2V0U2V0UXVhcnRlcjsKCiAgICAgIC8vIE1vbnRoCiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoOwoKICAgICAgLy8gV2VlawogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWsgICAgICAgICAgID0gbW9tZW50UHJvdG90eXBlX19wcm90by53ZWVrcyAgICAgICAgPSBnZXRTZXRXZWVrOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzb1dlZWsgICAgICAgID0gbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNvV2Vla3NJblllYXIgPSBnZXRJU09XZWVrc0luWWVhcjsKCiAgICAgIC8vIERheQogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheSAgICAgICAgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ud2Vla2RheSAgICA9IGdldFNldExvY2FsZURheU9mV2VlazsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7CgogICAgICAvLyBIb3VyCiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaG91ciA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyOwoKICAgICAgLy8gTWludXRlCiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWludXRlID0gbW9tZW50UHJvdG90eXBlX19wcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlOwoKICAgICAgLy8gU2Vjb25kCiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc2Vjb25kID0gbW9tZW50UHJvdG90eXBlX19wcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kOwoKICAgICAgLy8gTWlsbGlzZWNvbmQKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5taWxsaXNlY29uZCA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7CgogICAgICAvLyBPZmZzZXQKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by51dGMgICAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvVVRDOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmxvY2FsICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9Mb2NhbDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0OwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNEU1QgICAgICAgICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0RTVFNoaWZ0ZWQgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNVdGNPZmZzZXQgICAgICAgICAgPSBpc1V0Y09mZnNldDsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc1V0YyAgICAgICAgICAgICAgICA9IGlzVXRjOwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7CgogICAgICAvLyBUaW1lem9uZQogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7CiAgICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTsKCiAgICAgIC8vIERlcHJlY2F0aW9ucwogICAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by55ZWFycyAgPSBkZXByZWNhdGUoJ3llYXJzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSB5ZWFyIGluc3RlYWQnLCBnZXRTZXRZZWFyKTsKICAgICAgbW9tZW50UHJvdG90eXBlX19wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTc3OScsIGdldFNldFpvbmUpOwoKICAgICAgdmFyIG1vbWVudFByb3RvdHlwZSA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG87CgogICAgICBmdW5jdGlvbiBtb21lbnRfX2NyZWF0ZVVuaXggKGlucHV0KSB7CiAgICAgICAgICByZXR1cm4gbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0ICogMTAwMCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1vbWVudF9fY3JlYXRlSW5ab25lICgpIHsKICAgICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTsKICAgICAgfQoKICAgICAgdmFyIGRlZmF1bHRDYWxlbmRhciA9IHsKICAgICAgICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsCiAgICAgICAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLAogICAgICAgICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJywKICAgICAgICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLAogICAgICAgICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsCiAgICAgICAgICBzYW1lRWxzZSA6ICdMJwogICAgICB9OwoKICAgICAgZnVuY3Rpb24gbG9jYWxlX2NhbGVuZGFyX19jYWxlbmRhciAoa2V5LCBtb20sIG5vdykgewogICAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV07CiAgICAgICAgICByZXR1cm4gdHlwZW9mIG91dHB1dCA9PT0gJ2Z1bmN0aW9uJyA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDsKICAgICAgfQoKICAgICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHsKICAgICAgICAgIExUUyAgOiAnaDptbTpzcyBBJywKICAgICAgICAgIExUICAgOiAnaDptbSBBJywKICAgICAgICAgIEwgICAgOiAnTU0vREQvWVlZWScsCiAgICAgICAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsCiAgICAgICAgICBMTEwgIDogJ01NTU0gRCwgWVlZWSBMVCcsCiAgICAgICAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBMVCcKICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIGxvbmdEYXRlRm9ybWF0IChrZXkpIHsKICAgICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldOwogICAgICAgICAgaWYgKCFvdXRwdXQgJiYgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldKSB7CiAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IG91dHB1dDsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBvdXRwdXQ7CiAgICAgIH0KCiAgICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJzsKCiAgICAgIGZ1bmN0aW9uIGludmFsaWREYXRlICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTsKICAgICAgfQoKICAgICAgdmFyIGRlZmF1bHRPcmRpbmFsID0gJyVkJzsKICAgICAgdmFyIGRlZmF1bHRPcmRpbmFsUGFyc2UgPSAvXGR7MSwyfS87CgogICAgICBmdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgIH0KCiAgICAgIHZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0gewogICAgICAgICAgZnV0dXJlIDogJ2luICVzJywKICAgICAgICAgIHBhc3QgICA6ICclcyBhZ28nLAogICAgICAgICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsCiAgICAgICAgICBtICA6ICdhIG1pbnV0ZScsCiAgICAgICAgICBtbSA6ICclZCBtaW51dGVzJywKICAgICAgICAgIGggIDogJ2FuIGhvdXInLAogICAgICAgICAgaGggOiAnJWQgaG91cnMnLAogICAgICAgICAgZCAgOiAnYSBkYXknLAogICAgICAgICAgZGQgOiAnJWQgZGF5cycsCiAgICAgICAgICBNICA6ICdhIG1vbnRoJywKICAgICAgICAgIE1NIDogJyVkIG1vbnRocycsCiAgICAgICAgICB5ICA6ICdhIHllYXInLAogICAgICAgICAgeXkgOiAnJWQgeWVhcnMnCiAgICAgIH07CgogICAgICBmdW5jdGlvbiByZWxhdGl2ZV9fcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHsKICAgICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTsKICAgICAgICAgIHJldHVybiAodHlwZW9mIG91dHB1dCA9PT0gJ2Z1bmN0aW9uJykgPwogICAgICAgICAgICAgIG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIDoKICAgICAgICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7CiAgICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddOwogICAgICAgICAgcmV0dXJuIHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBsb2NhbGVfc2V0X19zZXQgKGNvbmZpZykgewogICAgICAgICAgdmFyIHByb3AsIGk7CiAgICAgICAgICBmb3IgKGkgaW4gY29uZmlnKSB7CiAgICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTsKICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3AgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvCiAgICAgICAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9vcmRpbmFsUGFyc2VMZW5pZW50LgogICAgICAgICAgdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSArICd8JyArICgvXGR7MSwyfS8pLnNvdXJjZSk7CiAgICAgIH0KCiAgICAgIHZhciBwcm90b3R5cGVfX3Byb3RvID0gTG9jYWxlLnByb3RvdHlwZTsKCiAgICAgIHByb3RvdHlwZV9fcHJvdG8uX2NhbGVuZGFyICAgICAgID0gZGVmYXVsdENhbGVuZGFyOwogICAgICBwcm90b3R5cGVfX3Byb3RvLmNhbGVuZGFyICAgICAgICA9IGxvY2FsZV9jYWxlbmRhcl9fY2FsZW5kYXI7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8uX2xvbmdEYXRlRm9ybWF0ID0gZGVmYXVsdExvbmdEYXRlRm9ybWF0OwogICAgICBwcm90b3R5cGVfX3Byb3RvLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0OwogICAgICBwcm90b3R5cGVfX3Byb3RvLl9pbnZhbGlkRGF0ZSAgICA9IGRlZmF1bHRJbnZhbGlkRGF0ZTsKICAgICAgcHJvdG90eXBlX19wcm90by5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTsKICAgICAgcHJvdG90eXBlX19wcm90by5fb3JkaW5hbCAgICAgICAgPSBkZWZhdWx0T3JkaW5hbDsKICAgICAgcHJvdG90eXBlX19wcm90by5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsOwogICAgICBwcm90b3R5cGVfX3Byb3RvLl9vcmRpbmFsUGFyc2UgICA9IGRlZmF1bHRPcmRpbmFsUGFyc2U7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8ucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0OwogICAgICBwcm90b3R5cGVfX3Byb3RvLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDsKICAgICAgcHJvdG90eXBlX19wcm90by5fcmVsYXRpdmVUaW1lICAgPSBkZWZhdWx0UmVsYXRpdmVUaW1lOwogICAgICBwcm90b3R5cGVfX3Byb3RvLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlX19yZWxhdGl2ZVRpbWU7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8ucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTsKICAgICAgcHJvdG90eXBlX19wcm90by5zZXQgICAgICAgICAgICAgPSBsb2NhbGVfc2V0X19zZXQ7CgogICAgICAvLyBNb250aAogICAgICBwcm90b3R5cGVfX3Byb3RvLm1vbnRocyAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8uX21vbnRocyAgICAgID0gZGVmYXVsdExvY2FsZU1vbnRoczsKICAgICAgcHJvdG90eXBlX19wcm90by5tb250aHNTaG9ydCAgPSAgICAgICAgbG9jYWxlTW9udGhzU2hvcnQ7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8uX21vbnRoc1Nob3J0ID0gZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0OwogICAgICBwcm90b3R5cGVfX3Byb3RvLm1vbnRoc1BhcnNlICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTsKCiAgICAgIC8vIFdlZWsKICAgICAgcHJvdG90eXBlX19wcm90by53ZWVrID0gbG9jYWxlV2VlazsKICAgICAgcHJvdG90eXBlX19wcm90by5fd2VlayA9IGRlZmF1bHRMb2NhbGVXZWVrOwogICAgICBwcm90b3R5cGVfX3Byb3RvLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8uZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2VlazsKCiAgICAgIC8vIERheSBvZiBXZWVrCiAgICAgIHByb3RvdHlwZV9fcHJvdG8ud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzICAgICAgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXM7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8ud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47CiAgICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzTWluICAgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW47CiAgICAgIHByb3RvdHlwZV9fcHJvdG8ud2Vla2RheXNTaG9ydCAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNTaG9ydDsKICAgICAgcHJvdG90eXBlX19wcm90by5fd2Vla2RheXNTaG9ydCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0OwogICAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7CgogICAgICAvLyBIb3VycwogICAgICBwcm90b3R5cGVfX3Byb3RvLmlzUE0gPSBsb2NhbGVJc1BNOwogICAgICBwcm90b3R5cGVfX3Byb3RvLl9tZXJpZGllbVBhcnNlID0gZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2U7CiAgICAgIHByb3RvdHlwZV9fcHJvdG8ubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTsKCiAgICAgIGZ1bmN0aW9uIGxpc3RzX19nZXQgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHsKICAgICAgICAgIHZhciBsb2NhbGUgPSBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlKCk7CiAgICAgICAgICB2YXIgdXRjID0gY3JlYXRlX3V0Y19fY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpOwogICAgICAgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBsaXN0IChmb3JtYXQsIGluZGV4LCBmaWVsZCwgY291bnQsIHNldHRlcikgewogICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7CiAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkOwogICAgICAgICAgfQoKICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJzsKCiAgICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBsaXN0c19fZ2V0KGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBpOwogICAgICAgICAgdmFyIG91dCA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgICAgICBvdXRbaV0gPSBsaXN0c19fZ2V0KGZvcm1hdCwgaSwgZmllbGQsIHNldHRlcik7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gb3V0OwogICAgICB9CgogICAgICBmdW5jdGlvbiBsaXN0c19fbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGxpc3QoZm9ybWF0LCBpbmRleCwgJ21vbnRocycsIDEyLCAnbW9udGgnKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGxpc3QoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0JywgMTIsICdtb250aCcpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBsaXN0c19fbGlzdFdlZWtkYXlzIChmb3JtYXQsIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gbGlzdChmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnLCA3LCAnZGF5Jyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0V2Vla2RheXNTaG9ydCAoZm9ybWF0LCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGxpc3QoZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnLCA3LCAnZGF5Jyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0V2Vla2RheXNNaW4gKGZvcm1hdCwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBsaXN0KGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicsIDcsICdkYXknKTsKICAgICAgfQoKICAgICAgbG9jYWxlX2xvY2FsZXNfX2dldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7CiAgICAgICAgICBvcmRpbmFsUGFyc2U6IC9cZHsxLDJ9KHRofHN0fG5kfHJkKS8sCiAgICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsCiAgICAgICAgICAgICAgICAgIG91dHB1dCA9ICh0b0ludChudW1iZXIgJSAxMDAgLyAxMCkgPT09IDEpID8gJ3RoJyA6CiAgICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOgogICAgICAgICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDoKICAgICAgICAgICAgICAgICAgKGIgPT09IDMpID8gJ3JkJyA6ICd0aCc7CiAgICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDsKICAgICAgICAgIH0KICAgICAgfSk7CgogICAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzCiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUpOwogICAgICB1dGlsc19ob29rc19faG9va3MubGFuZ0RhdGEgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nRGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZURhdGEgaW5zdGVhZC4nLCBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlKTsKCiAgICAgIHZhciBtYXRoQWJzID0gTWF0aC5hYnM7CgogICAgICBmdW5jdGlvbiBkdXJhdGlvbl9hYnNfX2FicyAoKSB7CiAgICAgICAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhOwoKICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTsKICAgICAgICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7CiAgICAgICAgICB0aGlzLl9tb250aHMgICAgICAgPSBtYXRoQWJzKHRoaXMuX21vbnRocyk7CgogICAgICAgICAgZGF0YS5taWxsaXNlY29uZHMgID0gbWF0aEFicyhkYXRhLm1pbGxpc2Vjb25kcyk7CiAgICAgICAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7CiAgICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7CiAgICAgICAgICBkYXRhLmhvdXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEuaG91cnMpOwogICAgICAgICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7CiAgICAgICAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpOwoKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICBmdW5jdGlvbiBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX2FkZFN1YnRyYWN0IChkdXJhdGlvbiwgaW5wdXQsIHZhbHVlLCBkaXJlY3Rpb24pIHsKICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTsKCiAgICAgICAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7CiAgICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzOwogICAgICAgICAgZHVyYXRpb24uX21vbnRocyAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fbW9udGhzOwoKICAgICAgICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7CiAgICAgIH0KCiAgICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbikKICAgICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGQgKGlucHV0LCB2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIGR1cmF0aW9uX2FkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QodGhpcywgaW5wdXQsIHZhbHVlLCAxKTsKICAgICAgfQoKICAgICAgLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbikKICAgICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19zdWJ0cmFjdCAoaW5wdXQsIHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYnViYmxlICgpIHsKICAgICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7CiAgICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5czsKICAgICAgICAgIHZhciBtb250aHMgICAgICAgPSB0aGlzLl9tb250aHM7CiAgICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTsKICAgICAgICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMgPSAwOwoKICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3IKICAgICAgICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy4KICAgICAgICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzICUgMTAwMDsKCiAgICAgICAgICBzZWNvbmRzICAgICAgICAgICA9IGFic0Zsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApOwogICAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7CgogICAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApOwogICAgICAgICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7CgogICAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApOwogICAgICAgICAgZGF0YS5ob3VycyAgICAgICAgPSBob3VycyAlIDI0OwoKICAgICAgICAgIGRheXMgKz0gYWJzRmxvb3IoaG91cnMgLyAyNCk7CgogICAgICAgICAgLy8gQWNjdXJhdGVseSBjb252ZXJ0IGRheXMgdG8geWVhcnMsIGFzc3VtZSBzdGFydCBmcm9tIHllYXIgMC4KICAgICAgICAgIHllYXJzID0gYWJzRmxvb3IoZGF5c1RvWWVhcnMoZGF5cykpOwogICAgICAgICAgZGF5cyAtPSBhYnNGbG9vcih5ZWFyc1RvRGF5cyh5ZWFycykpOwoKICAgICAgICAgIC8vIDMwIGRheXMgdG8gYSBtb250aAogICAgICAgICAgLy8gVE9ETyAoaXNrcmVuKTogVXNlIGFuY2hvciBkYXRlIChsaWtlIDFzdCBKYW4pIHRvIGNvbXB1dGUgdGhpcy4KICAgICAgICAgIG1vbnRocyArPSBhYnNGbG9vcihkYXlzIC8gMzApOwogICAgICAgICAgZGF5cyAgICU9IDMwOwoKICAgICAgICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXIKICAgICAgICAgIHllYXJzICArPSBhYnNGbG9vcihtb250aHMgLyAxMik7CiAgICAgICAgICBtb250aHMgJT0gMTI7CgogICAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzOwogICAgICAgICAgZGF0YS5tb250aHMgPSBtb250aHM7CiAgICAgICAgICBkYXRhLnllYXJzICA9IHllYXJzOwoKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICBmdW5jdGlvbiBkYXlzVG9ZZWFycyAoZGF5cykgewogICAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKQogICAgICAgICAgcmV0dXJuIGRheXMgKiA0MDAgLyAxNDYwOTc7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHllYXJzVG9EYXlzICh5ZWFycykgewogICAgICAgICAgLy8geWVhcnMgKiAzNjUgKyBhYnNGbG9vcih5ZWFycyAvIDQpIC0KICAgICAgICAgIC8vICAgICBhYnNGbG9vcih5ZWFycyAvIDEwMCkgKyBhYnNGbG9vcih5ZWFycyAvIDQwMCk7CiAgICAgICAgICByZXR1cm4geWVhcnMgKiAxNDYwOTcgLyA0MDA7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFzICh1bml0cykgewogICAgICAgICAgdmFyIGRheXM7CiAgICAgICAgICB2YXIgbW9udGhzOwogICAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kczsKCiAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTsKCiAgICAgICAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICd5ZWFyJykgewogICAgICAgICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1OwogICAgICAgICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb1llYXJzKGRheXMpICogMTI7CiAgICAgICAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NykKICAgICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQoeWVhcnNUb0RheXModGhpcy5fbW9udGhzIC8gMTIpKTsKICAgICAgICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1OwogICAgICAgICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1OwogICAgICAgICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7CiAgICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0OwogICAgICAgICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7CiAgICAgICAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZQogICAgICAgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICB9CgogICAgICAvLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT8KICAgICAgZnVuY3Rpb24gZHVyYXRpb25fYXNfX3ZhbHVlT2YgKCkgewogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgKwogICAgICAgICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArCiAgICAgICAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArCiAgICAgICAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNgogICAgICAgICAgKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbWFrZUFzIChhbGlhcykgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7CiAgICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7CiAgICAgIHZhciBhc1NlY29uZHMgICAgICA9IG1ha2VBcygncycpOwogICAgICB2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTsKICAgICAgdmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7CiAgICAgIHZhciBhc0RheXMgICAgICAgICA9IG1ha2VBcygnZCcpOwogICAgICB2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTsKICAgICAgdmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7CiAgICAgIHZhciBhc1llYXJzICAgICAgICA9IG1ha2VBcygneScpOwoKICAgICAgZnVuY3Rpb24gZHVyYXRpb25fZ2V0X19nZXQgKHVuaXRzKSB7CiAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTsKICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzICsgJ3MnXSgpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbbmFtZV07CiAgICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgZHVyYXRpb25fZ2V0X19taWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTsKICAgICAgdmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTsKICAgICAgdmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTsKICAgICAgdmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7CiAgICAgIHZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7CiAgICAgIHZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTsKICAgICAgdmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7CgogICAgICBmdW5jdGlvbiB3ZWVrcyAoKSB7CiAgICAgICAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTsKICAgICAgfQoKICAgICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDsKICAgICAgdmFyIHRocmVzaG9sZHMgPSB7CiAgICAgICAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlCiAgICAgICAgICBtOiA0NSwgIC8vIG1pbnV0ZXMgdG8gaG91cgogICAgICAgICAgaDogMjIsICAvLyBob3VycyB0byBkYXkKICAgICAgICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aAogICAgICAgICAgTTogMTEgICAvLyBtb250aHMgdG8geWVhcgogICAgICB9OwoKICAgICAgLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemUKICAgICAgZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHsKICAgICAgICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBkdXJhdGlvbl9odW1hbml6ZV9fcmVsYXRpdmVUaW1lIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7CiAgICAgICAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTsKICAgICAgICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpOwogICAgICAgICAgdmFyIG1pbnV0ZXMgID0gcm91bmQoZHVyYXRpb24uYXMoJ20nKSk7CiAgICAgICAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTsKICAgICAgICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpOwogICAgICAgICAgdmFyIG1vbnRocyAgID0gcm91bmQoZHVyYXRpb24uYXMoJ00nKSk7CiAgICAgICAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTsKCiAgICAgICAgICB2YXIgYSA9IHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzJywgc2Vjb25kc10gIHx8CiAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPT09IDEgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8CiAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gJiYgWydtbScsIG1pbnV0ZXNdIHx8CiAgICAgICAgICAgICAgICAgIGhvdXJzICAgPT09IDEgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8CiAgICAgICAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSAgIHx8CiAgICAgICAgICAgICAgICAgIGRheXMgICAgPT09IDEgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8CiAgICAgICAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdICAgIHx8CiAgICAgICAgICAgICAgICAgIG1vbnRocyAgPT09IDEgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8CiAgICAgICAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gJiYgWydNTScsIG1vbnRoc10gIHx8CiAgICAgICAgICAgICAgICAgIHllYXJzICAgPT09IDEgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107CgogICAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7CiAgICAgICAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDsKICAgICAgICAgIGFbNF0gPSBsb2NhbGU7CiAgICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7CiAgICAgIH0KCiAgICAgIC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgYSB0aHJlc2hvbGQgZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5ncwogICAgICBmdW5jdGlvbiBkdXJhdGlvbl9odW1hbml6ZV9fZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkICh0aHJlc2hvbGQsIGxpbWl0KSB7CiAgICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07CiAgICAgICAgICB9CiAgICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBmdW5jdGlvbiBodW1hbml6ZSAod2l0aFN1ZmZpeCkgewogICAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpOwogICAgICAgICAgdmFyIG91dHB1dCA9IGR1cmF0aW9uX2h1bWFuaXplX19yZWxhdGl2ZVRpbWUodGhpcywgIXdpdGhTdWZmaXgsIGxvY2FsZSk7CgogICAgICAgICAgaWYgKHdpdGhTdWZmaXgpIHsKICAgICAgICAgICAgICBvdXRwdXQgPSBsb2NhbGUucGFzdEZ1dHVyZSgrdGhpcywgb3V0cHV0KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTsKICAgICAgfQoKICAgICAgdmFyIGlzb19zdHJpbmdfX2FicyA9IE1hdGguYWJzOwoKICAgICAgZnVuY3Rpb24gaXNvX3N0cmluZ19fdG9JU09TdHJpbmcoKSB7CiAgICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qcwogICAgICAgICAgdmFyIFkgPSBpc29fc3RyaW5nX19hYnModGhpcy55ZWFycygpKTsKICAgICAgICAgIHZhciBNID0gaXNvX3N0cmluZ19fYWJzKHRoaXMubW9udGhzKCkpOwogICAgICAgICAgdmFyIEQgPSBpc29fc3RyaW5nX19hYnModGhpcy5kYXlzKCkpOwogICAgICAgICAgdmFyIGggPSBpc29fc3RyaW5nX19hYnModGhpcy5ob3VycygpKTsKICAgICAgICAgIHZhciBtID0gaXNvX3N0cmluZ19fYWJzKHRoaXMubWludXRlcygpKTsKICAgICAgICAgIHZhciBzID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuc2Vjb25kcygpICsgdGhpcy5taWxsaXNlY29uZHMoKSAvIDEwMDApOwogICAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTsKCiAgICAgICAgICBpZiAoIXRvdGFsKSB7CiAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLgogICAgICAgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSkKICAgICAgICAgICAgICByZXR1cm4gJ1AwRCc7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuICh0b3RhbCA8IDAgPyAnLScgOiAnJykgKwogICAgICAgICAgICAgICdQJyArCiAgICAgICAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICsKICAgICAgICAgICAgICAoTSA/IE0gKyAnTScgOiAnJykgKwogICAgICAgICAgICAgIChEID8gRCArICdEJyA6ICcnKSArCiAgICAgICAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgKwogICAgICAgICAgICAgIChoID8gaCArICdIJyA6ICcnKSArCiAgICAgICAgICAgICAgKG0gPyBtICsgJ00nIDogJycpICsKICAgICAgICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7CiAgICAgIH0KCiAgICAgIHZhciBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvID0gRHVyYXRpb24ucHJvdG90eXBlOwoKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hYnMgICAgICAgICAgICA9IGR1cmF0aW9uX2Fic19fYWJzOwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFkZCAgICAgICAgICAgID0gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGQ7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uc3VidHJhY3QgICAgICAgPSBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX3N1YnRyYWN0OwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzICAgICAgICAgICAgID0gYXM7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kczsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kczsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlczsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNEYXlzICAgICAgICAgPSBhc0RheXM7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzOwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNZZWFycyAgICAgICAgPSBhc1llYXJzOwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnZhbHVlT2YgICAgICAgID0gZHVyYXRpb25fYXNfX3ZhbHVlT2Y7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uX2J1YmJsZSAgICAgICAgPSBidWJibGU7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uZ2V0ICAgICAgICAgICAgPSBkdXJhdGlvbl9nZXRfX2dldDsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5taWxsaXNlY29uZHMgICA9IGR1cmF0aW9uX2dldF9fbWlsbGlzZWNvbmRzOwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnNlY29uZHMgICAgICAgID0gc2Vjb25kczsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uaG91cnMgICAgICAgICAgPSBob3VyczsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5kYXlzICAgICAgICAgICA9IGRheXM7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ud2Vla3MgICAgICAgICAgPSB3ZWVrczsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5tb250aHMgICAgICAgICA9IG1vbnRoczsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by55ZWFycyAgICAgICAgICA9IHllYXJzOwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udG9JU09TdHJpbmcgICAgPSBpc29fc3RyaW5nX190b0lTT1N0cmluZzsKICAgICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by50b1N0cmluZyAgICAgICA9IGlzb19zdHJpbmdfX3RvSVNPU3RyaW5nOwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnRvSlNPTiAgICAgICAgID0gaXNvX3N0cmluZ19fdG9JU09TdHJpbmc7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubG9jYWxlICAgICAgICAgPSBsb2NhbGU7CiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhOwoKICAgICAgLy8gRGVwcmVjYXRpb25zCiAgICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgaXNvX3N0cmluZ19fdG9JU09TdHJpbmcpOwogICAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmxhbmcgPSBsYW5nOwoKICAgICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0cwoKICAgICAgYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpOwogICAgICBhZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7CgogICAgICAvLyBQQVJTSU5HCgogICAgICBhZGRSZWdleFRva2VuKCd4JywgbWF0Y2hTaWduZWQpOwogICAgICBhZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApOwogICAgICBhZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7CiAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KGlucHV0LCAxMCkgKiAxMDAwKTsKICAgICAgfSk7CiAgICAgIGFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHsKICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7CiAgICAgIH0pOwoKICAgICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0cwoKCiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy52ZXJzaW9uID0gJzIuMTAuMyc7CgogICAgICBzZXRIb29rQ2FsbGJhY2sobG9jYWxfX2NyZWF0ZUxvY2FsKTsKCiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBtb21lbnRQcm90b3R5cGU7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5taW4gICAgICAgICAgICAgICAgICAgPSBtaW47CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5tYXggICAgICAgICAgICAgICAgICAgPSBtYXg7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51dGMgICAgICAgICAgICAgICAgICAgPSBjcmVhdGVfdXRjX19jcmVhdGVVVEM7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51bml4ICAgICAgICAgICAgICAgICAgPSBtb21lbnRfX2NyZWF0ZVVuaXg7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0c19fbGlzdE1vbnRoczsKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmlzRGF0ZSAgICAgICAgICAgICAgICA9IGlzRGF0ZTsKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmxvY2FsZSAgICAgICAgICAgICAgICA9IGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGU7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSB2YWxpZF9fY3JlYXRlSW52YWxpZDsKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZV9fY3JlYXRlRHVyYXRpb247CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDsKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXM7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBtb21lbnRfX2NyZWF0ZUluWm9uZTsKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGU7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uOwogICAgICB1dGlsc19ob29rc19faG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdHNfX2xpc3RNb250aHNTaG9ydDsKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzTWluICAgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXNNaW47CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0c19fbGlzdFdlZWtkYXlzU2hvcnQ7CiAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5ub3JtYWxpemVVbml0cyAgICAgICAgPSBub3JtYWxpemVVbml0czsKICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGR1cmF0aW9uX2h1bWFuaXplX19nZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7CgogICAgICB2YXIgX21vbWVudCA9IHV0aWxzX2hvb2tzX19ob29rczsKCiAgICAgIHJldHVybiBfbW9tZW50OwoKICB9KSk7CiAgLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNCkobW9kdWxlKSkpCgovKioqLyB9LAovKiA0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkgewogIAlpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkgewogIAkJbW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307CiAgCQltb2R1bGUucGF0aHMgPSBbXTsKICAJCS8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdAogIAkJbW9kdWxlLmNoaWxkcmVuID0gW107CiAgCQltb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTsKICAJfQogIAlyZXR1cm4gbW9kdWxlOwogIH0KCgovKioqLyB9LAovKiA1ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHsKICAJdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIgKyByZXEgKyAiJy4iKTsKICB9CiAgd2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gW107IH07CiAgd2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0OwogIG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7CiAgd2VicGFja0NvbnRleHQuaWQgPSA1OwoKCi8qKiovIH0sCi8qIDYgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgogIC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsndXNlIHN0cmljdCc7CgogIHZhciBfcm5nOwoKICB2YXIgZ2xvYmFsVmFyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IG51bGw7CgogIGlmIChnbG9iYWxWYXIgJiYgZ2xvYmFsVmFyLmNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7CiAgICAvLyBXSEFUV0cgY3J5cHRvLWJhc2VkIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG8KICAgIC8vIE1vZGVyYXRlbHkgZmFzdCwgaGlnaCBxdWFsaXR5CiAgICB2YXIgX3JuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOwogICAgX3JuZyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHsKICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhfcm5kczgpOwogICAgICByZXR1cm4gX3JuZHM4OwogICAgfTsKICB9CgogIGlmICghX3JuZykgewogICAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKQogICAgLy8KICAgIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkCiAgICAvLyBxdWFsaXR5LgogICAgdmFyIF9ybmRzID0gbmV3IEFycmF5KDE2KTsKICAgIF9ybmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykgewogICAgICAgIGlmICgoaSAmIDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDQyOTQ5NjcyOTY7CiAgICAgICAgX3JuZHNbaV0gPSByID4+PiAoKGkgJiAzKSA8PCAzKSAmIDI1NTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9ybmRzOwogICAgfTsKICB9CgogIC8vICAgICB1dWlkLmpzCiAgLy8KICAvLyAgICAgQ29weXJpZ2h0IChjKSAyMDEwLTIwMTIgUm9iZXJ0IEtpZWZmZXIKICAvLyAgICAgTUlUIExpY2Vuc2UgLSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwCgogIC8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBXZSBmZWF0dXJlCiAgLy8gZGV0ZWN0IHRvIGRldGVybWluZSB0aGUgYmVzdCBSTkcgc291cmNlLCBub3JtYWxpemluZyB0byBhIGZ1bmN0aW9uIHRoYXQKICAvLyByZXR1cm5zIDEyOC1iaXRzIG9mIHJhbmRvbW5lc3MsIHNpbmNlIHRoYXQncyB3aGF0J3MgdXN1YWxseSByZXF1aXJlZAoKICAvL3ZhciBfcm5nID0gcmVxdWlyZSgnLi9ybmcnKTsKCiAgLy8gTWFwcyBmb3IgbnVtYmVyIDwtPiBoZXggc3RyaW5nIGNvbnZlcnNpb24KICB2YXIgX2J5dGVUb0hleCA9IFtdOwogIHZhciBfaGV4VG9CeXRlID0ge307CiAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykgewogICAgX2J5dGVUb0hleFtpXSA9IChpICsgMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpOwogICAgX2hleFRvQnl0ZVtfYnl0ZVRvSGV4W2ldXSA9IGk7CiAgfQoKICAvLyAqKmBwYXJzZSgpYCAtIFBhcnNlIGEgVVVJRCBpbnRvIGl0J3MgY29tcG9uZW50IGJ5dGVzKioKICBmdW5jdGlvbiBwYXJzZShzLCBidWYsIG9mZnNldCkgewogICAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDAsCiAgICAgICAgaWkgPSAwOwoKICAgIGJ1ZiA9IGJ1ZiB8fCBbXTsKICAgIHMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bMC05YS1mXXsyfS9nLCBmdW5jdGlvbiAob2N0KSB7CiAgICAgIGlmIChpaSA8IDE2KSB7CiAgICAgICAgLy8gRG9uJ3Qgb3ZlcmZsb3chCiAgICAgICAgYnVmW2kgKyBpaSsrXSA9IF9oZXhUb0J5dGVbb2N0XTsKICAgICAgfQogICAgfSk7CgogICAgLy8gWmVybyBvdXQgcmVtYWluaW5nIGJ5dGVzIGlmIHN0cmluZyB3YXMgc2hvcnQKICAgIHdoaWxlIChpaSA8IDE2KSB7CiAgICAgIGJ1ZltpICsgaWkrK10gPSAwOwogICAgfQoKICAgIHJldHVybiBidWY7CiAgfQoKICAvLyAqKmB1bnBhcnNlKClgIC0gQ29udmVydCBVVUlEIGJ5dGUgYXJyYXkgKGFsYSBwYXJzZSgpKSBpbnRvIGEgc3RyaW5nKioKICBmdW5jdGlvbiB1bnBhcnNlKGJ1Ziwgb2Zmc2V0KSB7CiAgICB2YXIgaSA9IG9mZnNldCB8fCAwLAogICAgICAgIGJ0aCA9IF9ieXRlVG9IZXg7CiAgICByZXR1cm4gYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICsgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgKyBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXTsKICB9CgogIC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKioKICAvLwogIC8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzCiAgLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWwKCiAgLy8gcmFuZG9tICMncyB3ZSBuZWVkIHRvIGluaXQgbm9kZSBhbmQgY2xvY2tzZXEKICB2YXIgX3NlZWRCeXRlcyA9IF9ybmcoKTsKCiAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpCiAgdmFyIF9ub2RlSWQgPSBbX3NlZWRCeXRlc1swXSB8IDEsIF9zZWVkQnl0ZXNbMV0sIF9zZWVkQnl0ZXNbMl0sIF9zZWVkQnl0ZXNbM10sIF9zZWVkQnl0ZXNbNF0sIF9zZWVkQnl0ZXNbNV1dOwoKICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcQogIHZhciBfY2xvY2tzZXEgPSAoX3NlZWRCeXRlc1s2XSA8PCA4IHwgX3NlZWRCeXRlc1s3XSkgJiAxNjM4MzsKCiAgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lCiAgdmFyIF9sYXN0TVNlY3MgPSAwLAogICAgICBfbGFzdE5TZWNzID0gMDsKCiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS11dWlkIGZvciBBUEkgZGV0YWlscwogIGZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7CiAgICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDsKICAgIHZhciBiID0gYnVmIHx8IFtdOwoKICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoKICAgIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7CgogICAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCwKICAgIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvCiAgICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcycKICAgIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuCiAgICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7CgogICAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9jawogICAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2sKICAgIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTsKCiAgICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpCiAgICB2YXIgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwOwoKICAgIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb24KICAgIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMTYzODM7CiAgICB9CgogICAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXcKICAgIC8vIHRpbWUgaW50ZXJ2YWwKICAgIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIG5zZWNzID0gMDsKICAgIH0KCiAgICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkCiAgICBpZiAobnNlY3MgPj0gMTAwMDApIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblwndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMnKTsKICAgIH0KCiAgICBfbGFzdE1TZWNzID0gbXNlY3M7CiAgICBfbGFzdE5TZWNzID0gbnNlY3M7CiAgICBfY2xvY2tzZXEgPSBjbG9ja3NlcTsKCiAgICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2gKICAgIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwOwoKICAgIC8vIGB0aW1lX2xvd2AKICAgIHZhciB0bCA9ICgobXNlY3MgJiAyNjg0MzU0NTUpICogMTAwMDAgKyBuc2VjcykgJSA0Mjk0OTY3Mjk2OwogICAgYltpKytdID0gdGwgPj4+IDI0ICYgMjU1OwogICAgYltpKytdID0gdGwgPj4+IDE2ICYgMjU1OwogICAgYltpKytdID0gdGwgPj4+IDggJiAyNTU7CiAgICBiW2krK10gPSB0bCAmIDI1NTsKCiAgICAvLyBgdGltZV9taWRgCiAgICB2YXIgdG1oID0gbXNlY3MgLyA0Mjk0OTY3Mjk2ICogMTAwMDAgJiAyNjg0MzU0NTU7CiAgICBiW2krK10gPSB0bWggPj4+IDggJiAyNTU7CiAgICBiW2krK10gPSB0bWggJiAyNTU7CgogICAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmAKICAgIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAxNSB8IDE2OyAvLyBpbmNsdWRlIHZlcnNpb24KICAgIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAyNTU7CgogICAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpCiAgICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDEyODsKCiAgICAvLyBgY2xvY2tfc2VxX2xvd2AKICAgIGJbaSsrXSA9IGNsb2Nrc2VxICYgMjU1OwoKICAgIC8vIGBub2RlYAogICAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDsKICAgIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgbisrKSB7CiAgICAgIGJbaSArIG5dID0gbm9kZVtuXTsKICAgIH0KCiAgICByZXR1cm4gYnVmID8gYnVmIDogdW5wYXJzZShiKTsKICB9CgogIC8vICoqYHY0KClgIC0gR2VuZXJhdGUgcmFuZG9tIFVVSUQqKgoKICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Jyb29mYS9ub2RlLXV1aWQgZm9yIEFQSSBkZXRhaWxzCiAgZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHsKICAgIC8vIERlcHJlY2F0ZWQgLSAnZm9ybWF0JyBhcmd1bWVudCwgYXMgc3VwcG9ydGVkIGluIHYxLjIKICAgIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwOwoKICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnc3RyaW5nJykgewogICAgICBidWYgPSBvcHRpb25zID09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7CiAgICAgIG9wdGlvbnMgPSBudWxsOwogICAgfQogICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgogICAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgX3JuZykoKTsKCiAgICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgCiAgICBybmRzWzZdID0gcm5kc1s2XSAmIDE1IHwgNjQ7CiAgICBybmRzWzhdID0gcm5kc1s4XSAmIDYzIHwgMTI4OwoKICAgIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZAogICAgaWYgKGJ1ZikgewogICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7IGlpKyspIHsKICAgICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGJ1ZiB8fCB1bnBhcnNlKHJuZHMpOwogIH0KCiAgLy8gRXhwb3J0IHB1YmxpYyBBUEkKICB2YXIgdXVpZCA9IHY0OwogIHV1aWQudjEgPSB2MTsKICB1dWlkLnY0ID0gdjQ7CiAgdXVpZC5wYXJzZSA9IHBhcnNlOwogIHV1aWQudW5wYXJzZSA9IHVucGFyc2U7CgogIG1vZHVsZS5leHBvcnRzID0gdXVpZDsKICAvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpCgovKioqLyB9LAovKiA3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICAvLyBET00gdXRpbGl0eSBtZXRob2RzCgogIC8qKgogICAqIHRoaXMgcHJlcGFyZXMgdGhlIEpTT04gY29udGFpbmVyIGZvciBhbGxvY2F0aW5nIFNWRyBlbGVtZW50cwogICAqIEBwYXJhbSBKU09OY29udGFpbmVyCiAgICogQHByaXZhdGUKICAgKi8KICAndXNlIHN0cmljdCc7CgogIGV4cG9ydHMucHJlcGFyZUVsZW1lbnRzID0gZnVuY3Rpb24gKEpTT05jb250YWluZXIpIHsKICAgIC8vIGNsZWFudXAgdGhlIHJlZHVuZGFudCBzdmdFbGVtZW50czsKICAgIGZvciAodmFyIGVsZW1lbnRUeXBlIGluIEpTT05jb250YWluZXIpIHsKICAgICAgaWYgKEpTT05jb250YWluZXIuaGFzT3duUHJvcGVydHkoZWxlbWVudFR5cGUpKSB7CiAgICAgICAgSlNPTmNvbnRhaW5lcltlbGVtZW50VHlwZV0ucmVkdW5kYW50ID0gSlNPTmNvbnRhaW5lcltlbGVtZW50VHlwZV0udXNlZDsKICAgICAgICBKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS51c2VkID0gW107CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiB0aGlzIGNsZWFucyB1cCBhbGwgdGhlIHVudXNlZCBTVkcgZWxlbWVudHMuIEJ5IGFza2luZyBmb3IgdGhlIHBhcmVudE5vZGUsIHdlIG9ubHkgbmVlZCB0byBzdXBwbHkgdGhlIEpTT04gY29udGFpbmVyIGZyb20KICAgKiB3aGljaCB0byByZW1vdmUgdGhlIHJlZHVuZGFudCBlbGVtZW50cy4KICAgKgogICAqIEBwYXJhbSBKU09OY29udGFpbmVyCiAgICogQHByaXZhdGUKICAgKi8KICBleHBvcnRzLmNsZWFudXBFbGVtZW50cyA9IGZ1bmN0aW9uIChKU09OY29udGFpbmVyKSB7CiAgICAvLyBjbGVhbnVwIHRoZSByZWR1bmRhbnQgc3ZnRWxlbWVudHM7CiAgICBmb3IgKHZhciBlbGVtZW50VHlwZSBpbiBKU09OY29udGFpbmVyKSB7CiAgICAgIGlmIChKU09OY29udGFpbmVyLmhhc093blByb3BlcnR5KGVsZW1lbnRUeXBlKSkgewogICAgICAgIGlmIChKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS5yZWR1bmRhbnQpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgSlNPTmNvbnRhaW5lcltlbGVtZW50VHlwZV0ucmVkdW5kYW50Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIEpTT05jb250YWluZXJbZWxlbWVudFR5cGVdLnJlZHVuZGFudFtpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEpTT05jb250YWluZXJbZWxlbWVudFR5cGVdLnJlZHVuZGFudFtpXSk7CiAgICAgICAgICB9CiAgICAgICAgICBKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS5yZWR1bmRhbnQgPSBbXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBBbGxvY2F0ZSBvciBnZW5lcmF0ZSBhbiBTVkcgZWxlbWVudCBpZiBuZWVkZWQuIFN0b3JlIGEgcmVmZXJlbmNlIHRvIGl0IGluIHRoZSBKU09OIGNvbnRhaW5lciBhbmQgZHJhdyBpdCBpbiB0aGUgc3ZnQ29udGFpbmVyCiAgICogdGhlIEpTT04gY29udGFpbmVyIGFuZCB0aGUgU1ZHIGNvbnRhaW5lciBoYXZlIHRvIGJlIHN1cHBsaWVkIHNvIG90aGVyIHN2ZyBjb250YWluZXJzIChsaWtlIHRoZSBsZWdlbmQpIGNhbiB1c2UgdGhpcy4KICAgKgogICAqIEBwYXJhbSBlbGVtZW50VHlwZQogICAqIEBwYXJhbSBKU09OY29udGFpbmVyCiAgICogQHBhcmFtIHN2Z0NvbnRhaW5lcgogICAqIEByZXR1cm5zIHsqfQogICAqIEBwcml2YXRlCiAgICovCiAgZXhwb3J0cy5nZXRTVkdFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnRUeXBlLCBKU09OY29udGFpbmVyLCBzdmdDb250YWluZXIpIHsKICAgIHZhciBlbGVtZW50OwogICAgLy8gYWxsb2NhdGUgU1ZHIGVsZW1lbnQsIGlmIGl0IGRvZXNudCB5ZXQgZXhpc3QsIGNyZWF0ZSBvbmUuCiAgICBpZiAoSlNPTmNvbnRhaW5lci5oYXNPd25Qcm9wZXJ0eShlbGVtZW50VHlwZSkpIHsKICAgICAgLy8gdGhpcyBlbGVtZW50IGhhcyBiZWVuIGNyZWF0ZWQgYmVmb3JlCiAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGFuIHJlZHVuZGFudCBlbGVtZW50CiAgICAgIGlmIChKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS5yZWR1bmRhbnQubGVuZ3RoID4gMCkgewogICAgICAgIGVsZW1lbnQgPSBKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS5yZWR1bmRhbnRbMF07CiAgICAgICAgSlNPTmNvbnRhaW5lcltlbGVtZW50VHlwZV0ucmVkdW5kYW50LnNoaWZ0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IGVsZW1lbnQgYW5kIGFkZCBpdCB0byB0aGUgU1ZHCiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBlbGVtZW50VHlwZSk7CiAgICAgICAgc3ZnQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBjcmVhdGUgYSBuZXcgZWxlbWVudCBhbmQgYWRkIGl0IHRvIHRoZSBTVkcsIGFsc28gY3JlYXRlIGEgbmV3IG9iamVjdCBpbiB0aGUgc3ZnRWxlbWVudHMgdG8ga2VlcCB0cmFjayBvZiBpdC4KICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBlbGVtZW50VHlwZSk7CiAgICAgIEpTT05jb250YWluZXJbZWxlbWVudFR5cGVdID0geyB1c2VkOiBbXSwgcmVkdW5kYW50OiBbXSB9OwogICAgICBzdmdDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgICB9CiAgICBKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS51c2VkLnB1c2goZWxlbWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9OwoKICAvKioKICAgKiBBbGxvY2F0ZSBvciBnZW5lcmF0ZSBhbiBTVkcgZWxlbWVudCBpZiBuZWVkZWQuIFN0b3JlIGEgcmVmZXJlbmNlIHRvIGl0IGluIHRoZSBKU09OIGNvbnRhaW5lciBhbmQgZHJhdyBpdCBpbiB0aGUgc3ZnQ29udGFpbmVyCiAgICogdGhlIEpTT04gY29udGFpbmVyIGFuZCB0aGUgU1ZHIGNvbnRhaW5lciBoYXZlIHRvIGJlIHN1cHBsaWVkIHNvIG90aGVyIHN2ZyBjb250YWluZXJzIChsaWtlIHRoZSBsZWdlbmQpIGNhbiB1c2UgdGhpcy4KICAgKgogICAqIEBwYXJhbSBlbGVtZW50VHlwZQogICAqIEBwYXJhbSBKU09OY29udGFpbmVyCiAgICogQHBhcmFtIERPTUNvbnRhaW5lcgogICAqIEByZXR1cm5zIHsqfQogICAqIEBwcml2YXRlCiAgICovCiAgZXhwb3J0cy5nZXRET01FbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnRUeXBlLCBKU09OY29udGFpbmVyLCBET01Db250YWluZXIsIGluc2VydEJlZm9yZSkgewogICAgdmFyIGVsZW1lbnQ7CiAgICAvLyBhbGxvY2F0ZSBET00gZWxlbWVudCwgaWYgaXQgZG9lc250IHlldCBleGlzdCwgY3JlYXRlIG9uZS4KICAgIGlmIChKU09OY29udGFpbmVyLmhhc093blByb3BlcnR5KGVsZW1lbnRUeXBlKSkgewogICAgICAvLyB0aGlzIGVsZW1lbnQgaGFzIGJlZW4gY3JlYXRlZCBiZWZvcmUKICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYW4gcmVkdW5kYW50IGVsZW1lbnQKICAgICAgaWYgKEpTT05jb250YWluZXJbZWxlbWVudFR5cGVdLnJlZHVuZGFudC5sZW5ndGggPiAwKSB7CiAgICAgICAgZWxlbWVudCA9IEpTT05jb250YWluZXJbZWxlbWVudFR5cGVdLnJlZHVuZGFudFswXTsKICAgICAgICBKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS5yZWR1bmRhbnQuc2hpZnQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBjcmVhdGUgYSBuZXcgZWxlbWVudCBhbmQgYWRkIGl0IHRvIHRoZSBTVkcKICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50VHlwZSk7CiAgICAgICAgaWYgKGluc2VydEJlZm9yZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBET01Db250YWluZXIuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGluc2VydEJlZm9yZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIERPTUNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBlbGVtZW50IGFuZCBhZGQgaXQgdG8gdGhlIFNWRywgYWxzbyBjcmVhdGUgYSBuZXcgb2JqZWN0IGluIHRoZSBzdmdFbGVtZW50cyB0byBrZWVwIHRyYWNrIG9mIGl0LgogICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50VHlwZSk7CiAgICAgIEpTT05jb250YWluZXJbZWxlbWVudFR5cGVdID0geyB1c2VkOiBbXSwgcmVkdW5kYW50OiBbXSB9OwogICAgICBpZiAoaW5zZXJ0QmVmb3JlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBET01Db250YWluZXIuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGluc2VydEJlZm9yZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgRE9NQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpOwogICAgICB9CiAgICB9CiAgICBKU09OY29udGFpbmVyW2VsZW1lbnRUeXBlXS51c2VkLnB1c2goZWxlbWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9OwoKICAvKioKICAgKiBkcmF3IGEgcG9pbnQgb2JqZWN0LiB0aGlzIGlzIGEgc2VwZXJhdGUgZnVuY3Rpb24gYmVjYXVzZSBpdCBjYW4gYWxzbyBiZSBjYWxsZWQgYnkgdGhlIGxlZ2VuZC4KICAgKiBUaGUgcmVhc29uIHRoZSBKU09OY29udGFpbmVyIGFuZCB0aGUgdGFyZ2V0IFNWRyBzdmdDb250YWluZXIgaGF2ZSB0byBiZSBzdXBwbGllZCBpcyBzbyB0aGUgbGVnZW5kIGNhbiB1c2UgdGhlc2UgZnVuY3Rpb25zCiAgICogYXMgd2VsbC4KICAgKgogICAqIEBwYXJhbSB4CiAgICogQHBhcmFtIHkKICAgKiBAcGFyYW0gZ3JvdXAKICAgKiBAcGFyYW0gSlNPTmNvbnRhaW5lcgogICAqIEBwYXJhbSBzdmdDb250YWluZXIKICAgKiBAcGFyYW0gbGFiZWxPYmoKICAgKiBAcmV0dXJucyB7Kn0KICAgKi8KICBleHBvcnRzLmRyYXdQb2ludCA9IGZ1bmN0aW9uICh4LCB5LCBncm91cCwgSlNPTmNvbnRhaW5lciwgc3ZnQ29udGFpbmVyLCBsYWJlbE9iaikgewogICAgdmFyIHBvaW50OwogICAgaWYgKGdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5zdHlsZSA9PSAnY2lyY2xlJykgewogICAgICBwb2ludCA9IGV4cG9ydHMuZ2V0U1ZHRWxlbWVudCgnY2lyY2xlJywgSlNPTmNvbnRhaW5lciwgc3ZnQ29udGFpbmVyKTsKICAgICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgeCk7CiAgICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsIHkpOwogICAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncicsIDAuNSAqIGdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5zaXplKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvaW50ID0gZXhwb3J0cy5nZXRTVkdFbGVtZW50KCdyZWN0JywgSlNPTmNvbnRhaW5lciwgc3ZnQ29udGFpbmVyKTsKICAgICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCB4IC0gMC41ICogZ3JvdXAub3B0aW9ucy5kcmF3UG9pbnRzLnNpemUpOwogICAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsIHkgLSAwLjUgKiBncm91cC5vcHRpb25zLmRyYXdQb2ludHMuc2l6ZSk7CiAgICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIGdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5zaXplKTsKICAgICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIGdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5zaXplKTsKICAgIH0KCiAgICBpZiAoZ3JvdXAub3B0aW9ucy5kcmF3UG9pbnRzLnN0eWxlcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHlsZScsIGdyb3VwLmdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5zdHlsZXMpOwogICAgfQogICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2NsYXNzJywgZ3JvdXAuY2xhc3NOYW1lICsgJyB2aXMtcG9pbnQnKTsKICAgIC8vaGFuZGxlIGxhYmVsCgogICAgaWYgKGxhYmVsT2JqKSB7CiAgICAgIHZhciBsYWJlbCA9IGV4cG9ydHMuZ2V0U1ZHRWxlbWVudCgndGV4dCcsIEpTT05jb250YWluZXIsIHN2Z0NvbnRhaW5lcik7CiAgICAgIGlmIChsYWJlbE9iai54T2Zmc2V0KSB7CiAgICAgICAgeCA9IHggKyBsYWJlbE9iai54T2Zmc2V0OwogICAgICB9CgogICAgICBpZiAobGFiZWxPYmoueU9mZnNldCkgewogICAgICAgIHkgPSB5ICsgbGFiZWxPYmoueU9mZnNldDsKICAgICAgfQogICAgICBpZiAobGFiZWxPYmouY29udGVudCkgewogICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gbGFiZWxPYmouY29udGVudDsKICAgICAgfQoKICAgICAgaWYgKGxhYmVsT2JqLmNsYXNzTmFtZSkgewogICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsIGxhYmVsT2JqLmNsYXNzTmFtZSArICcgdmlzLWxhYmVsJyk7CiAgICAgIH0KICAgICAgbGFiZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCB4KTsKICAgICAgbGFiZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3knLCB5KTsKICAgIH0KCiAgICByZXR1cm4gcG9pbnQ7CiAgfTsKCiAgLyoqCiAgICogZHJhdyBhIGJhciBTVkcgZWxlbWVudCBjZW50ZXJlZCBvbiB0aGUgWCBjb29yZGluYXRlCiAgICoKICAgKiBAcGFyYW0geAogICAqIEBwYXJhbSB5CiAgICogQHBhcmFtIGNsYXNzTmFtZQogICAqLwogIGV4cG9ydHMuZHJhd0JhciA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjbGFzc05hbWUsIEpTT05jb250YWluZXIsIHN2Z0NvbnRhaW5lciwgc3R5bGUpIHsKICAgIGlmIChoZWlnaHQgIT0gMCkgewogICAgICBpZiAoaGVpZ2h0IDwgMCkgewogICAgICAgIGhlaWdodCAqPSAtMTsKICAgICAgICB5IC09IGhlaWdodDsKICAgICAgfQogICAgICB2YXIgcmVjdCA9IGV4cG9ydHMuZ2V0U1ZHRWxlbWVudCgncmVjdCcsIEpTT05jb250YWluZXIsIHN2Z0NvbnRhaW5lcik7CiAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCB4IC0gMC41ICogd2lkdGgpOwogICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgeSk7CiAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgd2lkdGgpOwogICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCBoZWlnaHQpOwogICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsIGNsYXNzTmFtZSk7CiAgICAgIGlmIChzdHlsZSkgewogICAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgc3R5bGUpOwogICAgICB9CiAgICB9CiAgfTsKCi8qKiovIH0sCi8qIDggKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogIHZhciBRdWV1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7CgogIC8qKgogICAqIERhdGFTZXQKICAgKgogICAqIFVzYWdlOgogICAqICAgICB2YXIgZGF0YVNldCA9IG5ldyBEYXRhU2V0KHsKICAgKiAgICAgICAgIGZpZWxkSWQ6ICdfaWQnLAogICAqICAgICAgICAgdHlwZTogewogICAqICAgICAgICAgICAgIC8vIC4uLgogICAqICAgICAgICAgfQogICAqICAgICB9KTsKICAgKgogICAqICAgICBkYXRhU2V0LmFkZChpdGVtKTsKICAgKiAgICAgZGF0YVNldC5hZGQoZGF0YSk7CiAgICogICAgIGRhdGFTZXQudXBkYXRlKGl0ZW0pOwogICAqICAgICBkYXRhU2V0LnVwZGF0ZShkYXRhKTsKICAgKiAgICAgZGF0YVNldC5yZW1vdmUoaWQpOwogICAqICAgICBkYXRhU2V0LnJlbW92ZShpZHMpOwogICAqICAgICB2YXIgZGF0YSA9IGRhdGFTZXQuZ2V0KCk7CiAgICogICAgIHZhciBkYXRhID0gZGF0YVNldC5nZXQoaWQpOwogICAqICAgICB2YXIgZGF0YSA9IGRhdGFTZXQuZ2V0KGlkcyk7CiAgICogICAgIHZhciBkYXRhID0gZGF0YVNldC5nZXQoaWRzLCBvcHRpb25zLCBkYXRhKTsKICAgKiAgICAgZGF0YVNldC5jbGVhcigpOwogICAqCiAgICogQSBkYXRhIHNldCBjYW46CiAgICogLSBhZGQvcmVtb3ZlL3VwZGF0ZSBkYXRhCiAgICogLSBnaXZlcyB0cmlnZ2VycyB1cG9uIGNoYW5nZXMgaW4gdGhlIGRhdGEKICAgKiAtIGNhbiAgaW1wb3J0L2V4cG9ydCBkYXRhIGluIHZhcmlvdXMgZGF0YSBmb3JtYXRzCiAgICoKICAgKiBAcGFyYW0ge0FycmF5fSBbZGF0YV0gICAgT3B0aW9uYWwgYXJyYXkgd2l0aCBpbml0aWFsIGRhdGEKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgQXZhaWxhYmxlIG9wdGlvbnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmd9IGZpZWxkSWQgRmllbGQgbmFtZSBvZiB0aGUgaWQgaW4gdGhlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMsICdpZCcgYnkgZGVmYXVsdC4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC48U3RyaW5nLCBTdHJpbmd9IHR5cGUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBIG1hcCB3aXRoIGZpZWxkIG5hbWVzIGFzIGtleSwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgdGhlIGZpZWxkIHR5cGUgYXMgdmFsdWUuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3R9IHF1ZXVlICAgUXVldWUgY2hhbmdlcyB0byB0aGUgRGF0YVNldCwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVzaCB0aGVtIGFsbCBhdCBvbmNlLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlIG9wdGlvbnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSB7bnVtYmVyfSBkZWxheSAgRGVsYXkgaW4gbXMsIG51bGwgYnkgZGVmYXVsdAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0ge251bWJlcn0gbWF4ICAgIE1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhlIHF1ZXVlLCBJbmZpbml0eSBieSBkZWZhdWx0CiAgICogQGNvbnN0cnVjdG9yIERhdGFTZXQKICAgKi8KICAvLyBUT0RPOiBhZGQgYSBEYXRhU2V0IGNvbnN0cnVjdG9yIERhdGFTZXQoZGF0YSwgb3B0aW9ucykKICBmdW5jdGlvbiBEYXRhU2V0KGRhdGEsIG9wdGlvbnMpIHsKICAgIC8vIGNvcnJlY3RseSByZWFkIG9wdGlvbmFsIGFyZ3VtZW50cwogICAgaWYgKGRhdGEgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSkpIHsKICAgICAgb3B0aW9ucyA9IGRhdGE7CiAgICAgIGRhdGEgPSBudWxsOwogICAgfQoKICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgdGhpcy5fZGF0YSA9IHt9OyAvLyBtYXAgd2l0aCBkYXRhIGluZGV4ZWQgYnkgaWQKICAgIHRoaXMubGVuZ3RoID0gMDsgLy8gbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBEYXRhU2V0CiAgICB0aGlzLl9maWVsZElkID0gdGhpcy5fb3B0aW9ucy5maWVsZElkIHx8ICdpZCc7IC8vIG5hbWUgb2YgdGhlIGZpZWxkIGNvbnRhaW5pbmcgaWQKICAgIHRoaXMuX3R5cGUgPSB7fTsgLy8gaW50ZXJuYWwgZmllbGQgdHlwZXMgKE5PVEU6IHRoaXMgY2FuIGRpZmZlciBmcm9tIHRoaXMuX29wdGlvbnMudHlwZSkKCiAgICAvLyBhbGwgdmFyaWFudHMgb2YgYSBEYXRlIGFyZSBpbnRlcm5hbGx5IHN0b3JlZCBhcyBEYXRlLCBzbyB3ZSBjYW4gY29udmVydAogICAgLy8gZnJvbSBldmVyeXRoaW5nIHRvIGV2ZXJ5dGhpbmcgKGFsc28gZnJvbSBJU09EYXRlIHRvIE51bWJlciBmb3IgZXhhbXBsZSkKICAgIGlmICh0aGlzLl9vcHRpb25zLnR5cGUpIHsKICAgICAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5fb3B0aW9ucy50eXBlKSB7CiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHlwZS5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX29wdGlvbnMudHlwZVtmaWVsZF07CiAgICAgICAgICBpZiAodmFsdWUgPT0gJ0RhdGUnIHx8IHZhbHVlID09ICdJU09EYXRlJyB8fCB2YWx1ZSA9PSAnQVNQRGF0ZScpIHsKICAgICAgICAgICAgdGhpcy5fdHlwZVtmaWVsZF0gPSAnRGF0ZSc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLl90eXBlW2ZpZWxkXSA9IHZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIFRPRE86IGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjEuMSAob3IgMi4wLjA/KQogICAgaWYgKHRoaXMuX29wdGlvbnMuY29udmVydCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wdGlvbiAiY29udmVydCIgaXMgZGVwcmVjYXRlZC4gVXNlICJ0eXBlIiBpbnN0ZWFkLicpOwogICAgfQoKICAgIHRoaXMuX3N1YnNjcmliZXJzID0ge307IC8vIGV2ZW50IHN1YnNjcmliZXJzCgogICAgLy8gYWRkIGluaXRpYWwgZGF0YSB3aGVuIHByb3ZpZGVkCiAgICBpZiAoZGF0YSkgewogICAgICB0aGlzLmFkZChkYXRhKTsKICAgIH0KCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgfQoKICAvKioKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgQXZhaWxhYmxlIG9wdGlvbnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3R9IHF1ZXVlICAgUXVldWUgY2hhbmdlcyB0byB0aGUgRGF0YVNldCwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVzaCB0aGVtIGFsbCBhdCBvbmNlLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXVlIG9wdGlvbnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSB7bnVtYmVyfSBkZWxheSAgRGVsYXkgaW4gbXMsIG51bGwgYnkgZGVmYXVsdAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0ge251bWJlcn0gbWF4ICAgIE1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhlIHF1ZXVlLCBJbmZpbml0eSBieSBkZWZhdWx0CiAgICogQHBhcmFtIG9wdGlvbnMKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucXVldWUgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAob3B0aW9ucy5xdWV1ZSA9PT0gZmFsc2UpIHsKICAgICAgICAvLyBkZWxldGUgcXVldWUgaWYgbG9hZGVkCiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlKSB7CiAgICAgICAgICB0aGlzLl9xdWV1ZS5kZXN0cm95KCk7CiAgICAgICAgICBkZWxldGUgdGhpcy5fcXVldWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIGNyZWF0ZSBxdWV1ZSBhbmQgdXBkYXRlIGl0cyBvcHRpb25zCiAgICAgICAgaWYgKCF0aGlzLl9xdWV1ZSkgewogICAgICAgICAgdGhpcy5fcXVldWUgPSBRdWV1ZS5leHRlbmQodGhpcywgewogICAgICAgICAgICByZXBsYWNlOiBbJ2FkZCcsICd1cGRhdGUnLCAncmVtb3ZlJ10KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnF1ZXVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgdGhpcy5fcXVldWUuc2V0T3B0aW9ucyhvcHRpb25zLnF1ZXVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBTdWJzY3JpYmUgdG8gYW4gZXZlbnQsIGFkZCBhbiBldmVudCBsaXN0ZW5lcgogICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAgICAgICAgRXZlbnQgbmFtZS4gQXZhaWxhYmxlIGV2ZW50czogJ3B1dCcsICd1cGRhdGUnLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JlbW92ZScKICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIENhbGxiYWNrIG1ldGhvZC4gQ2FsbGVkIHdpdGggdGhyZWUgcGFyYW1ldGVyczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nfSBldmVudAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3QgfCBudWxsfSBwYXJhbXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nIHwgTnVtYmVyfSBzZW5kZXJJZAogICAqLwogIERhdGFTZXQucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykgewogICAgdmFyIHN1YnNjcmliZXJzID0gdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdOwogICAgaWYgKCFzdWJzY3JpYmVycykgewogICAgICBzdWJzY3JpYmVycyA9IFtdOwogICAgICB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0gPSBzdWJzY3JpYmVyczsKICAgIH0KCiAgICBzdWJzY3JpYmVycy5wdXNoKHsKICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrCiAgICB9KTsKICB9OwoKICAvLyBUT0RPOiByZW1vdmUgdGhpcyBkZXByZWNhdGVkIGZ1bmN0aW9uIHNvbWUgZGF5IChyZXBsYWNlZCB3aXRoIGBvbmAgc2luY2UgdmVyc2lvbiAwLjUsIGRlcHJlY2F0ZWQgc2luY2UgdjQuMCkKICBEYXRhU2V0LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFTZXQuc3Vic2NyaWJlIGlzIGRlcHJlY2F0ZWQuIFVzZSBEYXRhU2V0Lm9uIGluc3RlYWQuJyk7CiAgfTsKCiAgLyoqCiAgICogVW5zdWJzY3JpYmUgZnJvbSBhbiBldmVudCwgcmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyCiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50CiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7CiAgICB2YXIgc3Vic2NyaWJlcnMgPSB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF07CiAgICBpZiAoc3Vic2NyaWJlcnMpIHsKICAgICAgdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdID0gc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChsaXN0ZW5lcikgewogICAgICAgIHJldHVybiBsaXN0ZW5lci5jYWxsYmFjayAhPSBjYWxsYmFjazsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgZGVwcmVjYXRlZCBmdW5jdGlvbiBzb21lIGRheSAocmVwbGFjZWQgd2l0aCBgb25gIHNpbmNlIHZlcnNpb24gMC41LCBkZXByZWNhdGVkIHNpbmNlIHY0LjApCiAgRGF0YVNldC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFTZXQudW5zdWJzY3JpYmUgaXMgZGVwcmVjYXRlZC4gVXNlIERhdGFTZXQub2ZmIGluc3RlYWQuJyk7CiAgfTsKCiAgLyoqCiAgICogVHJpZ2dlciBhbiBldmVudAogICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudAogICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gcGFyYW1zCiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZW5kZXJJZF0gICAgICAgT3B0aW9uYWwgaWQgb2YgdGhlIHNlbmRlci4KICAgKiBAcHJpdmF0ZQogICAqLwogIERhdGFTZXQucHJvdG90eXBlLl90cmlnZ2VyID0gZnVuY3Rpb24gKGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkKSB7CiAgICBpZiAoZXZlbnQgPT0gJyonKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHRyaWdnZXIgZXZlbnQgKicpOwogICAgfQoKICAgIHZhciBzdWJzY3JpYmVycyA9IFtdOwogICAgaWYgKGV2ZW50IGluIHRoaXMuX3N1YnNjcmliZXJzKSB7CiAgICAgIHN1YnNjcmliZXJzID0gc3Vic2NyaWJlcnMuY29uY2F0KHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSk7CiAgICB9CiAgICBpZiAoJyonIGluIHRoaXMuX3N1YnNjcmliZXJzKSB7CiAgICAgIHN1YnNjcmliZXJzID0gc3Vic2NyaWJlcnMuY29uY2F0KHRoaXMuX3N1YnNjcmliZXJzWycqJ10pOwogICAgfQoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHN1YnNjcmliZXIgPSBzdWJzY3JpYmVyc1tpXTsKICAgICAgaWYgKHN1YnNjcmliZXIuY2FsbGJhY2spIHsKICAgICAgICBzdWJzY3JpYmVyLmNhbGxiYWNrKGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkIHx8IG51bGwpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQWRkIGRhdGEuCiAgICogQWRkaW5nIGFuIGl0ZW0gd2lsbCBmYWlsIHdoZW4gdGhlcmUgYWxyZWFkeSBpcyBhbiBpdGVtIHdpdGggdGhlIHNhbWUgaWQuCiAgICogQHBhcmFtIHtPYmplY3QgfCBBcnJheX0gZGF0YQogICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VuZGVySWRdIE9wdGlvbmFsIHNlbmRlciBpZAogICAqIEByZXR1cm4ge0FycmF5fSBhZGRlZElkcyAgICAgIEFycmF5IHdpdGggdGhlIGlkcyBvZiB0aGUgYWRkZWQgaXRlbXMKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSwgc2VuZGVySWQpIHsKICAgIHZhciBhZGRlZElkcyA9IFtdLAogICAgICAgIGlkLAogICAgICAgIG1lID0gdGhpczsKCiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkgewogICAgICAvLyBBcnJheQogICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIGlkID0gbWUuX2FkZEl0ZW0oZGF0YVtpXSk7CiAgICAgICAgYWRkZWRJZHMucHVzaChpZCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIE9iamVjdCkgewogICAgICAvLyBTaW5nbGUgaXRlbQogICAgICBpZCA9IG1lLl9hZGRJdGVtKGRhdGEpOwogICAgICBhZGRlZElkcy5wdXNoKGlkKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBkYXRhVHlwZScpOwogICAgfQoKICAgIGlmIChhZGRlZElkcy5sZW5ndGgpIHsKICAgICAgdGhpcy5fdHJpZ2dlcignYWRkJywgeyBpdGVtczogYWRkZWRJZHMgfSwgc2VuZGVySWQpOwogICAgfQoKICAgIHJldHVybiBhZGRlZElkczsKICB9OwoKICAvKioKICAgKiBVcGRhdGUgZXhpc3RpbmcgaXRlbXMuIFdoZW4gYW4gaXRlbSBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkCiAgICogQHBhcmFtIHtPYmplY3QgfCBBcnJheX0gZGF0YQogICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VuZGVySWRdIE9wdGlvbmFsIHNlbmRlciBpZAogICAqIEByZXR1cm4ge0FycmF5fSB1cGRhdGVkSWRzICAgICBUaGUgaWRzIG9mIHRoZSBhZGRlZCBvciB1cGRhdGVkIGl0ZW1zCiAgICovCiAgRGF0YVNldC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEsIHNlbmRlcklkKSB7CiAgICB2YXIgYWRkZWRJZHMgPSBbXTsKICAgIHZhciB1cGRhdGVkSWRzID0gW107CiAgICB2YXIgdXBkYXRlZERhdGEgPSBbXTsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgZmllbGRJZCA9IG1lLl9maWVsZElkOwoKICAgIHZhciBhZGRPclVwZGF0ZSA9IGZ1bmN0aW9uIGFkZE9yVXBkYXRlKGl0ZW0pIHsKICAgICAgdmFyIGlkID0gaXRlbVtmaWVsZElkXTsKICAgICAgaWYgKG1lLl9kYXRhW2lkXSkgewogICAgICAgIC8vIHVwZGF0ZSBpdGVtCiAgICAgICAgaWQgPSBtZS5fdXBkYXRlSXRlbShpdGVtKTsKICAgICAgICB1cGRhdGVkSWRzLnB1c2goaWQpOwogICAgICAgIHVwZGF0ZWREYXRhLnB1c2goaXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gYWRkIG5ldyBpdGVtCiAgICAgICAgaWQgPSBtZS5fYWRkSXRlbShpdGVtKTsKICAgICAgICBhZGRlZElkcy5wdXNoKGlkKTsKICAgICAgfQogICAgfTsKCiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkgewogICAgICAvLyBBcnJheQogICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIGFkZE9yVXBkYXRlKGRhdGFbaV0pOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgLy8gU2luZ2xlIGl0ZW0KICAgICAgYWRkT3JVcGRhdGUoZGF0YSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZGF0YVR5cGUnKTsKICAgIH0KCiAgICBpZiAoYWRkZWRJZHMubGVuZ3RoKSB7CiAgICAgIHRoaXMuX3RyaWdnZXIoJ2FkZCcsIHsgaXRlbXM6IGFkZGVkSWRzIH0sIHNlbmRlcklkKTsKICAgIH0KICAgIGlmICh1cGRhdGVkSWRzLmxlbmd0aCkgewogICAgICB0aGlzLl90cmlnZ2VyKCd1cGRhdGUnLCB7IGl0ZW1zOiB1cGRhdGVkSWRzLCBkYXRhOiB1cGRhdGVkRGF0YSB9LCBzZW5kZXJJZCk7CiAgICB9CgogICAgcmV0dXJuIGFkZGVkSWRzLmNvbmNhdCh1cGRhdGVkSWRzKTsKICB9OwoKICAvKioKICAgKiBHZXQgYSBkYXRhIGl0ZW0gb3IgbXVsdGlwbGUgaXRlbXMuCiAgICoKICAgKiBVc2FnZToKICAgKgogICAqICAgICBnZXQoKQogICAqICAgICBnZXQob3B0aW9uczogT2JqZWN0KQogICAqCiAgICogICAgIGdldChpZDogTnVtYmVyIHwgU3RyaW5nKQogICAqICAgICBnZXQoaWQ6IE51bWJlciB8IFN0cmluZywgb3B0aW9uczogT2JqZWN0KQogICAqCiAgICogICAgIGdldChpZHM6IE51bWJlcltdIHwgU3RyaW5nW10pCiAgICogICAgIGdldChpZHM6IE51bWJlcltdIHwgU3RyaW5nW10sIG9wdGlvbnM6IE9iamVjdCkKICAgKgogICAqIFdoZXJlOgogICAqCiAgICoge051bWJlciB8IFN0cmluZ30gaWQgICAgICAgICBUaGUgaWQgb2YgYW4gaXRlbQogICAqIHtOdW1iZXJbXSB8IFN0cmluZ3t9fSBpZHMgICAgQW4gYXJyYXkgd2l0aCBpZHMgb2YgaXRlbXMKICAgKiB7T2JqZWN0fSBvcHRpb25zICAgICAgICAgICAgIEFuIE9iamVjdCB3aXRoIG9wdGlvbnMuIEF2YWlsYWJsZSBvcHRpb25zOgogICAqIHtTdHJpbmd9IFtyZXR1cm5UeXBlXSAgICAgICAgVHlwZSBvZiBkYXRhIHRvIGJlIHJldHVybmVkLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuIGJlICdBcnJheScgKGRlZmF1bHQpIG9yICdPYmplY3QnLgogICAqIHtPYmplY3QuPFN0cmluZywgU3RyaW5nPn0gW3R5cGVdCiAgICoge1N0cmluZ1tdfSBbZmllbGRzXSAgICAgICAgICBmaWVsZCBuYW1lcyB0byBiZSByZXR1cm5lZAogICAqIHtmdW5jdGlvbn0gW2ZpbHRlcl0gICAgICAgICAgZmlsdGVyIGl0ZW1zCiAgICoge1N0cmluZyB8IGZ1bmN0aW9ufSBbb3JkZXJdICBPcmRlciB0aGUgaXRlbXMgYnkgYSBmaWVsZCBuYW1lIG9yIGN1c3RvbSBzb3J0IGZ1bmN0aW9uLgogICAqIEB0aHJvd3MgRXJyb3IKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoYXJncykgewogICAgdmFyIG1lID0gdGhpczsKCiAgICAvLyBwYXJzZSB0aGUgYXJndW1lbnRzCiAgICB2YXIgaWQsIGlkcywgb3B0aW9uczsKICAgIHZhciBmaXJzdFR5cGUgPSB1dGlsLmdldFR5cGUoYXJndW1lbnRzWzBdKTsKICAgIGlmIChmaXJzdFR5cGUgPT0gJ1N0cmluZycgfHwgZmlyc3RUeXBlID09ICdOdW1iZXInKSB7CiAgICAgIC8vIGdldChpZCBbLCBvcHRpb25zXSkKICAgICAgaWQgPSBhcmd1bWVudHNbMF07CiAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbMV07CiAgICB9IGVsc2UgaWYgKGZpcnN0VHlwZSA9PSAnQXJyYXknKSB7CiAgICAgIC8vIGdldChpZHMgWywgb3B0aW9uc10pCiAgICAgIGlkcyA9IGFyZ3VtZW50c1swXTsKICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGdldChbLCBvcHRpb25zXSkKICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1swXTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgdGhlIHJldHVybiB0eXBlCiAgICB2YXIgcmV0dXJuVHlwZTsKICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmV0dXJuVHlwZSkgewogICAgICB2YXIgYWxsb3dlZFZhbHVlcyA9IFsnQXJyYXknLCAnT2JqZWN0J107CiAgICAgIHJldHVyblR5cGUgPSBhbGxvd2VkVmFsdWVzLmluZGV4T2Yob3B0aW9ucy5yZXR1cm5UeXBlKSA9PSAtMSA/ICdBcnJheScgOiBvcHRpb25zLnJldHVyblR5cGU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm5UeXBlID0gJ0FycmF5JzsKICAgIH0KCiAgICAvLyBidWlsZCBvcHRpb25zCiAgICB2YXIgdHlwZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy50eXBlIHx8IHRoaXMuX29wdGlvbnMudHlwZTsKICAgIHZhciBmaWx0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZmlsdGVyOwogICAgdmFyIGl0ZW1zID0gW10sCiAgICAgICAgaXRlbSwKICAgICAgICBpdGVtSWQsCiAgICAgICAgaSwKICAgICAgICBsZW47CgogICAgLy8gY29udmVydCBpdGVtcwogICAgaWYgKGlkICE9IHVuZGVmaW5lZCkgewogICAgICAvLyByZXR1cm4gYSBzaW5nbGUgaXRlbQogICAgICBpdGVtID0gbWUuX2dldEl0ZW0oaWQsIHR5cGUpOwogICAgICBpZiAoZmlsdGVyICYmICFmaWx0ZXIoaXRlbSkpIHsKICAgICAgICBpdGVtID0gbnVsbDsKICAgICAgfQogICAgfSBlbHNlIGlmIChpZHMgIT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vIHJldHVybiBhIHN1YnNldCBvZiBpdGVtcwogICAgICBmb3IgKGkgPSAwLCBsZW4gPSBpZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBpdGVtID0gbWUuX2dldEl0ZW0oaWRzW2ldLCB0eXBlKTsKICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoaXRlbSkpIHsKICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyByZXR1cm4gYWxsIGl0ZW1zCiAgICAgIGZvciAoaXRlbUlkIGluIHRoaXMuX2RhdGEpIHsKICAgICAgICBpZiAodGhpcy5fZGF0YS5oYXNPd25Qcm9wZXJ0eShpdGVtSWQpKSB7CiAgICAgICAgICBpdGVtID0gbWUuX2dldEl0ZW0oaXRlbUlkLCB0eXBlKTsKICAgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihpdGVtKSkgewogICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIG9yZGVyIHRoZSByZXN1bHRzCiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyICYmIGlkID09IHVuZGVmaW5lZCkgewogICAgICB0aGlzLl9zb3J0KGl0ZW1zLCBvcHRpb25zLm9yZGVyKTsKICAgIH0KCiAgICAvLyBmaWx0ZXIgZmllbGRzIG9mIHRoZSBpdGVtcwogICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5maWVsZHMpIHsKICAgICAgdmFyIGZpZWxkcyA9IG9wdGlvbnMuZmllbGRzOwogICAgICBpZiAoaWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaXRlbSA9IHRoaXMuX2ZpbHRlckZpZWxkcyhpdGVtLCBmaWVsZHMpOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICBpdGVtc1tpXSA9IHRoaXMuX2ZpbHRlckZpZWxkcyhpdGVtc1tpXSwgZmllbGRzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXR1cm4gdGhlIHJlc3VsdHMKICAgIGlmIChyZXR1cm5UeXBlID09ICdPYmplY3QnKSB7CiAgICAgIHZhciByZXN1bHQgPSB7fTsKICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcmVzdWx0W2l0ZW1zW2ldLmlkXSA9IGl0ZW1zW2ldOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9IGVsc2UgewogICAgICBpZiAoaWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gYSBzaW5nbGUgaXRlbQogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGp1c3QgcmV0dXJuIG91ciBhcnJheQogICAgICAgIHJldHVybiBpdGVtczsKICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIEdldCBpZHMgb2YgYWxsIGl0ZW1zIG9yIGZyb20gYSBmaWx0ZXJlZCBzZXQgb2YgaXRlbXMuCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICBBbiBPYmplY3Qgd2l0aCBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmdW5jdGlvbn0gW2ZpbHRlcl0gZmlsdGVyIGl0ZW1zCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nIHwgZnVuY3Rpb259IFtvcmRlcl0gT3JkZXIgdGhlIGl0ZW1zIGJ5CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBmaWVsZCBuYW1lIG9yIGN1c3RvbSBzb3J0IGZ1bmN0aW9uLgogICAqIEByZXR1cm4ge0FycmF5fSBpZHMKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5nZXRJZHMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhLAogICAgICAgIGZpbHRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5maWx0ZXIsCiAgICAgICAgb3JkZXIgPSBvcHRpb25zICYmIG9wdGlvbnMub3JkZXIsCiAgICAgICAgdHlwZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy50eXBlIHx8IHRoaXMuX29wdGlvbnMudHlwZSwKICAgICAgICBpLAogICAgICAgIGxlbiwKICAgICAgICBpZCwKICAgICAgICBpdGVtLAogICAgICAgIGl0ZW1zLAogICAgICAgIGlkcyA9IFtdOwoKICAgIGlmIChmaWx0ZXIpIHsKICAgICAgLy8gZ2V0IGZpbHRlcmVkIGl0ZW1zCiAgICAgIGlmIChvcmRlcikgewogICAgICAgIC8vIGNyZWF0ZSBvcmRlcmVkIGxpc3QKICAgICAgICBpdGVtcyA9IFtdOwogICAgICAgIGZvciAoaWQgaW4gZGF0YSkgewogICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSB7CiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLl9nZXRJdGVtKGlkLCB0eXBlKTsKICAgICAgICAgICAgaWYgKGZpbHRlcihpdGVtKSkgewogICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX3NvcnQoaXRlbXMsIG9yZGVyKTsKCiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgIGlkc1tpXSA9IGl0ZW1zW2ldW3RoaXMuX2ZpZWxkSWRdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBjcmVhdGUgdW5vcmRlcmVkIGxpc3QKICAgICAgICBmb3IgKGlkIGluIGRhdGEpIHsKICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgICAgICBpdGVtID0gdGhpcy5fZ2V0SXRlbShpZCwgdHlwZSk7CiAgICAgICAgICAgIGlmIChmaWx0ZXIoaXRlbSkpIHsKICAgICAgICAgICAgICBpZHMucHVzaChpdGVtW3RoaXMuX2ZpZWxkSWRdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8gZ2V0IGFsbCBpdGVtcwogICAgICBpZiAob3JkZXIpIHsKICAgICAgICAvLyBjcmVhdGUgYW4gb3JkZXJlZCBsaXN0CiAgICAgICAgaXRlbXMgPSBbXTsKICAgICAgICBmb3IgKGlkIGluIGRhdGEpIHsKICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgICAgICBpdGVtcy5wdXNoKGRhdGFbaWRdKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX3NvcnQoaXRlbXMsIG9yZGVyKTsKCiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgIGlkc1tpXSA9IGl0ZW1zW2ldW3RoaXMuX2ZpZWxkSWRdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBjcmVhdGUgdW5vcmRlcmVkIGxpc3QKICAgICAgICBmb3IgKGlkIGluIGRhdGEpIHsKICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgICAgICBpdGVtID0gZGF0YVtpZF07CiAgICAgICAgICAgIGlkcy5wdXNoKGl0ZW1bdGhpcy5fZmllbGRJZF0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBpZHM7CiAgfTsKCiAgLyoqCiAgICogUmV0dXJucyB0aGUgRGF0YVNldCBpdHNlbGYuIElzIG92ZXJ3cml0dGVuIGZvciBleGFtcGxlIGJ5IHRoZSBEYXRhVmlldywKICAgKiB3aGljaCByZXR1cm5zIHRoZSBEYXRhU2V0IGl0IGlzIGNvbm5lY3RlZCB0byBpbnN0ZWFkLgogICAqLwogIERhdGFTZXQucHJvdG90eXBlLmdldERhdGFTZXQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvKioKICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGV2ZXJ5IGl0ZW0gaW4gdGhlIGRhdGFzZXQuCiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgIEF2YWlsYWJsZSBvcHRpb25zOgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC48U3RyaW5nLCBTdHJpbmc+fSBbdHlwZV0KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmdbXX0gW2ZpZWxkc10gZmlsdGVyIGZpZWxkcwogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Z1bmN0aW9ufSBbZmlsdGVyXSBmaWx0ZXIgaXRlbXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcgfCBmdW5jdGlvbn0gW29yZGVyXSBPcmRlciB0aGUgaXRlbXMgYnkKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIGZpZWxkIG5hbWUgb3IgY3VzdG9tIHNvcnQgZnVuY3Rpb24uCiAgICovCiAgRGF0YVNldC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgb3B0aW9ucykgewogICAgdmFyIGZpbHRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5maWx0ZXIsCiAgICAgICAgdHlwZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy50eXBlIHx8IHRoaXMuX29wdGlvbnMudHlwZSwKICAgICAgICBkYXRhID0gdGhpcy5fZGF0YSwKICAgICAgICBpdGVtLAogICAgICAgIGlkOwoKICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMub3JkZXIpIHsKICAgICAgLy8gZXhlY3V0ZSBmb3JFYWNoIG9uIG9yZGVyZWQgbGlzdAogICAgICB2YXIgaXRlbXMgPSB0aGlzLmdldChvcHRpb25zKTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIGl0ZW0gPSBpdGVtc1tpXTsKICAgICAgICBpZCA9IGl0ZW1bdGhpcy5fZmllbGRJZF07CiAgICAgICAgY2FsbGJhY2soaXRlbSwgaWQpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyB1bm9yZGVyZWQKICAgICAgZm9yIChpZCBpbiBkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSB7CiAgICAgICAgICBpdGVtID0gdGhpcy5fZ2V0SXRlbShpZCwgdHlwZSk7CiAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoaXRlbSkpIHsKICAgICAgICAgICAgY2FsbGJhY2soaXRlbSwgaWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIE1hcCBldmVyeSBpdGVtIGluIHRoZSBkYXRhc2V0LgogICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3QuPFN0cmluZywgU3RyaW5nPn0gW3R5cGVdCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nW119IFtmaWVsZHNdIGZpbHRlciBmaWVsZHMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmdW5jdGlvbn0gW2ZpbHRlcl0gZmlsdGVyIGl0ZW1zCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nIHwgZnVuY3Rpb259IFtvcmRlcl0gT3JkZXIgdGhlIGl0ZW1zIGJ5CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBmaWVsZCBuYW1lIG9yIGN1c3RvbSBzb3J0IGZ1bmN0aW9uLgogICAqIEByZXR1cm4ge09iamVjdFtdfSBtYXBwZWRJdGVtcwogICAqLwogIERhdGFTZXQucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgb3B0aW9ucykgewogICAgdmFyIGZpbHRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5maWx0ZXIsCiAgICAgICAgdHlwZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy50eXBlIHx8IHRoaXMuX29wdGlvbnMudHlwZSwKICAgICAgICBtYXBwZWRJdGVtcyA9IFtdLAogICAgICAgIGRhdGEgPSB0aGlzLl9kYXRhLAogICAgICAgIGl0ZW07CgogICAgLy8gY29udmVydCBhbmQgZmlsdGVyIGl0ZW1zCiAgICBmb3IgKHZhciBpZCBpbiBkYXRhKSB7CiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgIGl0ZW0gPSB0aGlzLl9nZXRJdGVtKGlkLCB0eXBlKTsKICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoaXRlbSkpIHsKICAgICAgICAgIG1hcHBlZEl0ZW1zLnB1c2goY2FsbGJhY2soaXRlbSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyBvcmRlciBpdGVtcwogICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vcmRlcikgewogICAgICB0aGlzLl9zb3J0KG1hcHBlZEl0ZW1zLCBvcHRpb25zLm9yZGVyKTsKICAgIH0KCiAgICByZXR1cm4gbWFwcGVkSXRlbXM7CiAgfTsKCiAgLyoqCiAgICogRmlsdGVyIHRoZSBmaWVsZHMgb2YgYW4gaXRlbQogICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gaXRlbQogICAqIEBwYXJhbSB7U3RyaW5nW119IGZpZWxkcyAgICAgRmllbGQgbmFtZXMKICAgKiBAcmV0dXJuIHtPYmplY3QgfCBudWxsfSBmaWx0ZXJlZEl0ZW0gb3IgbnVsbCBpZiBubyBpdGVtIGlzIHByb3ZpZGVkCiAgICogQHByaXZhdGUKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5fZmlsdGVyRmllbGRzID0gZnVuY3Rpb24gKGl0ZW0sIGZpZWxkcykgewogICAgaWYgKCFpdGVtKSB7CiAgICAgIC8vIGl0ZW0gaXMgbnVsbAogICAgICByZXR1cm4gaXRlbTsKICAgIH0KCiAgICB2YXIgZmlsdGVyZWRJdGVtID0ge307CgogICAgaWYgKEFycmF5LmlzQXJyYXkoZmllbGRzKSkgewogICAgICBmb3IgKHZhciBmaWVsZCBpbiBpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoZmllbGQpICYmIGZpZWxkcy5pbmRleE9mKGZpZWxkKSAhPSAtMSkgewogICAgICAgICAgZmlsdGVyZWRJdGVtW2ZpZWxkXSA9IGl0ZW1bZmllbGRdOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZm9yICh2YXIgZmllbGQgaW4gaXRlbSkgewogICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KGZpZWxkKSAmJiBmaWVsZHMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7CiAgICAgICAgICBmaWx0ZXJlZEl0ZW1bZmllbGRzW2ZpZWxkXV0gPSBpdGVtW2ZpZWxkXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmlsdGVyZWRJdGVtOwogIH07CgogIC8qKgogICAqIFNvcnQgdGhlIHByb3ZpZGVkIGFycmF5IHdpdGggaXRlbXMKICAgKiBAcGFyYW0ge09iamVjdFtdfSBpdGVtcwogICAqIEBwYXJhbSB7U3RyaW5nIHwgZnVuY3Rpb259IG9yZGVyICAgICAgQSBmaWVsZCBuYW1lIG9yIGN1c3RvbSBzb3J0IGZ1bmN0aW9uLgogICAqIEBwcml2YXRlCiAgICovCiAgRGF0YVNldC5wcm90b3R5cGUuX3NvcnQgPSBmdW5jdGlvbiAoaXRlbXMsIG9yZGVyKSB7CiAgICBpZiAodXRpbC5pc1N0cmluZyhvcmRlcikpIHsKICAgICAgLy8gb3JkZXIgYnkgcHJvdmlkZWQgZmllbGQgbmFtZQogICAgICB2YXIgbmFtZSA9IG9yZGVyOyAvLyBmaWVsZCBuYW1lCiAgICAgIGl0ZW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICB2YXIgYXYgPSBhW25hbWVdOwogICAgICAgIHZhciBidiA9IGJbbmFtZV07CiAgICAgICAgcmV0dXJuIGF2ID4gYnYgPyAxIDogYXYgPCBidiA/IC0xIDogMDsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcmRlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAvLyBvcmRlciBieSBzb3J0IGZ1bmN0aW9uCiAgICAgIGl0ZW1zLnNvcnQob3JkZXIpOwogICAgfQogICAgLy8gVE9ETzogZXh0ZW5kIG9yZGVyIGJ5IGFuIE9iamVjdCB7ZmllbGQ6U3RyaW5nLCBkaXJlY3Rpb246U3RyaW5nfQogICAgLy8gICAgICAgd2hlcmUgZGlyZWN0aW9uIGNhbiBiZSAnYXNjJyBvciAnZGVzYycKICAgIGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPcmRlciBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmcnKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBSZW1vdmUgYW4gb2JqZWN0IGJ5IHBvaW50ZXIgb3IgYnkgaWQKICAgKiBAcGFyYW0ge1N0cmluZyB8IE51bWJlciB8IE9iamVjdCB8IEFycmF5fSBpZCBPYmplY3Qgb3IgaWQsIG9yIGFuIGFycmF5IHdpdGgKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RzIG9yIGlkcyB0byBiZSByZW1vdmVkCiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZW5kZXJJZF0gT3B0aW9uYWwgc2VuZGVyIGlkCiAgICogQHJldHVybiB7QXJyYXl9IHJlbW92ZWRJZHMKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaWQsIHNlbmRlcklkKSB7CiAgICB2YXIgcmVtb3ZlZElkcyA9IFtdLAogICAgICAgIGksCiAgICAgICAgbGVuLAogICAgICAgIHJlbW92ZWRJZDsKCiAgICBpZiAoQXJyYXkuaXNBcnJheShpZCkpIHsKICAgICAgZm9yIChpID0gMCwgbGVuID0gaWQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICByZW1vdmVkSWQgPSB0aGlzLl9yZW1vdmUoaWRbaV0pOwogICAgICAgIGlmIChyZW1vdmVkSWQgIT0gbnVsbCkgewogICAgICAgICAgcmVtb3ZlZElkcy5wdXNoKHJlbW92ZWRJZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZW1vdmVkSWQgPSB0aGlzLl9yZW1vdmUoaWQpOwogICAgICBpZiAocmVtb3ZlZElkICE9IG51bGwpIHsKICAgICAgICByZW1vdmVkSWRzLnB1c2gocmVtb3ZlZElkKTsKICAgICAgfQogICAgfQoKICAgIGlmIChyZW1vdmVkSWRzLmxlbmd0aCkgewogICAgICB0aGlzLl90cmlnZ2VyKCdyZW1vdmUnLCB7IGl0ZW1zOiByZW1vdmVkSWRzIH0sIHNlbmRlcklkKTsKICAgIH0KCiAgICByZXR1cm4gcmVtb3ZlZElkczsKICB9OwoKICAvKioKICAgKiBSZW1vdmUgYW4gaXRlbSBieSBpdHMgaWQKICAgKiBAcGFyYW0ge051bWJlciB8IFN0cmluZyB8IE9iamVjdH0gaWQgICBpZCBvciBpdGVtCiAgICogQHJldHVybnMge051bWJlciB8IFN0cmluZyB8IG51bGx9IGlkCiAgICogQHByaXZhdGUKICAgKi8KICBEYXRhU2V0LnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24gKGlkKSB7CiAgICBpZiAodXRpbC5pc051bWJlcihpZCkgfHwgdXRpbC5pc1N0cmluZyhpZCkpIHsKICAgICAgaWYgKHRoaXMuX2RhdGFbaWRdKSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFbaWRdOwogICAgICAgIHRoaXMubGVuZ3RoLS07CiAgICAgICAgcmV0dXJuIGlkOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGlkIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgIHZhciBpdGVtSWQgPSBpZFt0aGlzLl9maWVsZElkXTsKICAgICAgaWYgKGl0ZW1JZCAmJiB0aGlzLl9kYXRhW2l0ZW1JZF0pIHsKICAgICAgICBkZWxldGUgdGhpcy5fZGF0YVtpdGVtSWRdOwogICAgICAgIHRoaXMubGVuZ3RoLS07CiAgICAgICAgcmV0dXJuIGl0ZW1JZDsKICAgICAgfQogICAgfQogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLyoqCiAgICogQ2xlYXIgdGhlIGRhdGEKICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbmRlcklkXSBPcHRpb25hbCBzZW5kZXIgaWQKICAgKiBAcmV0dXJuIHtBcnJheX0gcmVtb3ZlZElkcyAgICBUaGUgaWRzIG9mIGFsbCByZW1vdmVkIGl0ZW1zCiAgICovCiAgRGF0YVNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoc2VuZGVySWQpIHsKICAgIHZhciBpZHMgPSBPYmplY3Qua2V5cyh0aGlzLl9kYXRhKTsKCiAgICB0aGlzLl9kYXRhID0ge307CiAgICB0aGlzLmxlbmd0aCA9IDA7CgogICAgdGhpcy5fdHJpZ2dlcigncmVtb3ZlJywgeyBpdGVtczogaWRzIH0sIHNlbmRlcklkKTsKCiAgICByZXR1cm4gaWRzOwogIH07CgogIC8qKgogICAqIEZpbmQgdGhlIGl0ZW0gd2l0aCBtYXhpbXVtIHZhbHVlIG9mIGEgc3BlY2lmaWVkIGZpZWxkCiAgICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkCiAgICogQHJldHVybiB7T2JqZWN0IHwgbnVsbH0gaXRlbSAgSXRlbSBjb250YWluaW5nIG1heCB2YWx1ZSwgb3IgbnVsbCBpZiBubyBpdGVtcwogICAqLwogIERhdGFTZXQucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uIChmaWVsZCkgewogICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhLAogICAgICAgIG1heCA9IG51bGwsCiAgICAgICAgbWF4RmllbGQgPSBudWxsOwoKICAgIGZvciAodmFyIGlkIGluIGRhdGEpIHsKICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBkYXRhW2lkXTsKICAgICAgICB2YXIgaXRlbUZpZWxkID0gaXRlbVtmaWVsZF07CiAgICAgICAgaWYgKGl0ZW1GaWVsZCAhPSBudWxsICYmICghbWF4IHx8IGl0ZW1GaWVsZCA+IG1heEZpZWxkKSkgewogICAgICAgICAgbWF4ID0gaXRlbTsKICAgICAgICAgIG1heEZpZWxkID0gaXRlbUZpZWxkOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBtYXg7CiAgfTsKCiAgLyoqCiAgICogRmluZCB0aGUgaXRlbSB3aXRoIG1pbmltdW0gdmFsdWUgb2YgYSBzcGVjaWZpZWQgZmllbGQKICAgKiBAcGFyYW0ge1N0cmluZ30gZmllbGQKICAgKiBAcmV0dXJuIHtPYmplY3QgfCBudWxsfSBpdGVtICBJdGVtIGNvbnRhaW5pbmcgbWF4IHZhbHVlLCBvciBudWxsIGlmIG5vIGl0ZW1zCiAgICovCiAgRGF0YVNldC5wcm90b3R5cGUubWluID0gZnVuY3Rpb24gKGZpZWxkKSB7CiAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGEsCiAgICAgICAgbWluID0gbnVsbCwKICAgICAgICBtaW5GaWVsZCA9IG51bGw7CgogICAgZm9yICh2YXIgaWQgaW4gZGF0YSkgewogICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkpIHsKICAgICAgICB2YXIgaXRlbSA9IGRhdGFbaWRdOwogICAgICAgIHZhciBpdGVtRmllbGQgPSBpdGVtW2ZpZWxkXTsKICAgICAgICBpZiAoaXRlbUZpZWxkICE9IG51bGwgJiYgKCFtaW4gfHwgaXRlbUZpZWxkIDwgbWluRmllbGQpKSB7CiAgICAgICAgICBtaW4gPSBpdGVtOwogICAgICAgICAgbWluRmllbGQgPSBpdGVtRmllbGQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1pbjsKICB9OwoKICAvKioKICAgKiBGaW5kIGFsbCBkaXN0aW5jdCB2YWx1ZXMgb2YgYSBzcGVjaWZpZWQgZmllbGQKICAgKiBAcGFyYW0ge1N0cmluZ30gZmllbGQKICAgKiBAcmV0dXJuIHtBcnJheX0gdmFsdWVzICBBcnJheSBjb250YWluaW5nIGFsbCBkaXN0aW5jdCB2YWx1ZXMuIElmIGRhdGEgaXRlbXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBkbyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIGZpZWxkIGFyZSBpZ25vcmVkLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSByZXR1cm5lZCBhcnJheSBpcyB1bm9yZGVyZWQuCiAgICovCiAgRGF0YVNldC5wcm90b3R5cGUuZGlzdGluY3QgPSBmdW5jdGlvbiAoZmllbGQpIHsKICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTsKICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgIHZhciBmaWVsZFR5cGUgPSB0aGlzLl9vcHRpb25zLnR5cGUgJiYgdGhpcy5fb3B0aW9ucy50eXBlW2ZpZWxkXSB8fCBudWxsOwogICAgdmFyIGNvdW50ID0gMDsKICAgIHZhciBpOwoKICAgIGZvciAodmFyIHByb3AgaW4gZGF0YSkgewogICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgIHZhciBpdGVtID0gZGF0YVtwcm9wXTsKICAgICAgICB2YXIgdmFsdWUgPSBpdGVtW2ZpZWxkXTsKICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgIGlmICh2YWx1ZXNbaV0gPT0gdmFsdWUpIHsKICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZXhpc3RzICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhbHVlc1tjb3VudF0gPSB2YWx1ZTsKICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKGZpZWxkVHlwZSkgewogICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFsdWVzW2ldID0gdXRpbC5jb252ZXJ0KHZhbHVlc1tpXSwgZmllbGRUeXBlKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB2YWx1ZXM7CiAgfTsKCiAgLyoqCiAgICogQWRkIGEgc2luZ2xlIGl0ZW0uIFdpbGwgZmFpbCB3aGVuIGFuIGl0ZW0gd2l0aCB0aGUgc2FtZSBpZCBhbHJlYWR5IGV4aXN0cy4KICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbQogICAqIEByZXR1cm4ge1N0cmluZ30gaWQKICAgKiBAcHJpdmF0ZQogICAqLwogIERhdGFTZXQucHJvdG90eXBlLl9hZGRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHZhciBpZCA9IGl0ZW1bdGhpcy5fZmllbGRJZF07CgogICAgaWYgKGlkICE9IHVuZGVmaW5lZCkgewogICAgICAvLyBjaGVjayB3aGV0aGVyIHRoaXMgaWQgaXMgYWxyZWFkeSB0YWtlbgogICAgICBpZiAodGhpcy5fZGF0YVtpZF0pIHsKICAgICAgICAvLyBpdGVtIGFscmVhZHkgZXhpc3RzCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIGl0ZW06IGl0ZW0gd2l0aCBpZCAnICsgaWQgKyAnIGFscmVhZHkgZXhpc3RzJyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIGdlbmVyYXRlIGFuIGlkCiAgICAgIGlkID0gdXRpbC5yYW5kb21VVUlEKCk7CiAgICAgIGl0ZW1bdGhpcy5fZmllbGRJZF0gPSBpZDsKICAgIH0KCiAgICB2YXIgZCA9IHt9OwogICAgZm9yICh2YXIgZmllbGQgaW4gaXRlbSkgewogICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHsKICAgICAgICB2YXIgZmllbGRUeXBlID0gdGhpcy5fdHlwZVtmaWVsZF07IC8vIHR5cGUgbWF5IGJlIHVuZGVmaW5lZAogICAgICAgIGRbZmllbGRdID0gdXRpbC5jb252ZXJ0KGl0ZW1bZmllbGRdLCBmaWVsZFR5cGUpOwogICAgICB9CiAgICB9CiAgICB0aGlzLl9kYXRhW2lkXSA9IGQ7CiAgICB0aGlzLmxlbmd0aCsrOwoKICAgIHJldHVybiBpZDsKICB9OwoKICAvKioKICAgKiBHZXQgYW4gaXRlbS4gRmllbGRzIGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBzcGVjaWZpYyB0eXBlCiAgICogQHBhcmFtIHtTdHJpbmd9IGlkCiAgICogQHBhcmFtIHtPYmplY3QuPFN0cmluZywgU3RyaW5nPn0gW3R5cGVzXSAgZmllbGQgdHlwZXMgdG8gY29udmVydAogICAqIEByZXR1cm4ge09iamVjdCB8IG51bGx9IGl0ZW0KICAgKiBAcHJpdmF0ZQogICAqLwogIERhdGFTZXQucHJvdG90eXBlLl9nZXRJdGVtID0gZnVuY3Rpb24gKGlkLCB0eXBlcykgewogICAgdmFyIGZpZWxkLCB2YWx1ZTsKCiAgICAvLyBnZXQgdGhlIGl0ZW0gZnJvbSB0aGUgZGF0YXNldAogICAgdmFyIHJhdyA9IHRoaXMuX2RhdGFbaWRdOwogICAgaWYgKCFyYXcpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgLy8gY29udmVydCB0aGUgaXRlbXMgZmllbGQgdHlwZXMKICAgIHZhciBjb252ZXJ0ZWQgPSB7fTsKICAgIGlmICh0eXBlcykgewogICAgICBmb3IgKGZpZWxkIGluIHJhdykgewogICAgICAgIGlmIChyYXcuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7CiAgICAgICAgICB2YWx1ZSA9IHJhd1tmaWVsZF07CiAgICAgICAgICBjb252ZXJ0ZWRbZmllbGRdID0gdXRpbC5jb252ZXJ0KHZhbHVlLCB0eXBlc1tmaWVsZF0pOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8gbm8gZmllbGQgdHlwZXMgc3BlY2lmaWVkLCBubyBjb252ZXJ0aW5nIG5lZWRlZAogICAgICBmb3IgKGZpZWxkIGluIHJhdykgewogICAgICAgIGlmIChyYXcuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7CiAgICAgICAgICB2YWx1ZSA9IHJhd1tmaWVsZF07CiAgICAgICAgICBjb252ZXJ0ZWRbZmllbGRdID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gY29udmVydGVkOwogIH07CgogIC8qKgogICAqIFVwZGF0ZSBhIHNpbmdsZSBpdGVtOiBtZXJnZSB3aXRoIGV4aXN0aW5nIGl0ZW0uCiAgICogV2lsbCBmYWlsIHdoZW4gdGhlIGl0ZW0gaGFzIG5vIGlkLCBvciB3aGVuIHRoZXJlIGRvZXMgbm90IGV4aXN0IGFuIGl0ZW0KICAgKiB3aXRoIHRoZSBzYW1lIGlkLgogICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtCiAgICogQHJldHVybiB7U3RyaW5nfSBpZAogICAqIEBwcml2YXRlCiAgICovCiAgRGF0YVNldC5wcm90b3R5cGUuX3VwZGF0ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkgewogICAgdmFyIGlkID0gaXRlbVt0aGlzLl9maWVsZElkXTsKICAgIGlmIChpZCA9PSB1bmRlZmluZWQpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXBkYXRlIGl0ZW06IGl0ZW0gaGFzIG5vIGlkIChpdGVtOiAnICsgSlNPTi5zdHJpbmdpZnkoaXRlbSkgKyAnKScpOwogICAgfQogICAgdmFyIGQgPSB0aGlzLl9kYXRhW2lkXTsKICAgIGlmICghZCkgewogICAgICAvLyBpdGVtIGRvZXNuJ3QgZXhpc3QKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXBkYXRlIGl0ZW06IG5vIGl0ZW0gd2l0aCBpZCAnICsgaWQgKyAnIGZvdW5kJyk7CiAgICB9CgogICAgLy8gbWVyZ2Ugd2l0aCBjdXJyZW50IGl0ZW0KICAgIGZvciAodmFyIGZpZWxkIGluIGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoZmllbGQpKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHRoaXMuX3R5cGVbZmllbGRdOyAvLyB0eXBlIG1heSBiZSB1bmRlZmluZWQKICAgICAgICBkW2ZpZWxkXSA9IHV0aWwuY29udmVydChpdGVtW2ZpZWxkXSwgZmllbGRUeXBlKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBpZDsKICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IERhdGFTZXQ7CgovKioqLyB9LAovKiA5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICAvKioKICAgKiBBIHF1ZXVlCiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMKICAgKiAgICAgICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOgogICAqICAgICAgICAgICAgLSBkZWxheTogbnVtYmVyICAgIFdoZW4gcHJvdmlkZWQsIHRoZSBxdWV1ZSB3aWxsIGJlIGZsdXNoZWQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aWNhbGx5IGFmdGVyIGFuIGluYWN0aXZpdHkgb2YgdGhpcyBkZWxheQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIG1pbGxpc2Vjb25kcy4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIG51bGwuCiAgICogICAgICAgICAgICAtIG1heDogbnVtYmVyICAgICAgV2hlbiB0aGUgcXVldWUgZXhjZWVkcyB0aGUgZ2l2ZW4gbWF4aW11bSBudW1iZXIKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiBlbnRyaWVzLCB0aGUgcXVldWUgaXMgZmx1c2hlZCBhdXRvbWF0aWNhbGx5LgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgb2YgbWF4IGlzIEluZmluaXR5LgogICAqIEBjb25zdHJ1Y3RvcgogICAqLwogICd1c2Ugc3RyaWN0JzsKCiAgZnVuY3Rpb24gUXVldWUob3B0aW9ucykgewogICAgLy8gb3B0aW9ucwogICAgdGhpcy5kZWxheSA9IG51bGw7CiAgICB0aGlzLm1heCA9IEluZmluaXR5OwoKICAgIC8vIHByb3BlcnRpZXMKICAgIHRoaXMuX3F1ZXVlID0gW107CiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDsKICAgIHRoaXMuX2V4dGVuZGVkID0gbnVsbDsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgfQoKICAvKioKICAgKiBVcGRhdGUgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIHF1ZXVlCiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMKICAgKiAgICAgICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOgogICAqICAgICAgICAgICAgLSBkZWxheTogbnVtYmVyICAgIFdoZW4gcHJvdmlkZWQsIHRoZSBxdWV1ZSB3aWxsIGJlIGZsdXNoZWQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aWNhbGx5IGFmdGVyIGFuIGluYWN0aXZpdHkgb2YgdGhpcyBkZWxheQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIG1pbGxpc2Vjb25kcy4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIG51bGwuCiAgICogICAgICAgICAgICAtIG1heDogbnVtYmVyICAgICAgV2hlbiB0aGUgcXVldWUgZXhjZWVkcyB0aGUgZ2l2ZW4gbWF4aW11bSBudW1iZXIKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiBlbnRyaWVzLCB0aGUgcXVldWUgaXMgZmx1c2hlZCBhdXRvbWF0aWNhbGx5LgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgb2YgbWF4IGlzIEluZmluaXR5LgogICAqIEBwYXJhbSBvcHRpb25zCiAgICovCiAgUXVldWUucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHRoaXMuZGVsYXkgPSBvcHRpb25zLmRlbGF5OwogICAgfQogICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4ICE9PSAndW5kZWZpbmVkJykgewogICAgICB0aGlzLm1heCA9IG9wdGlvbnMubWF4OwogICAgfQoKICAgIHRoaXMuX2ZsdXNoSWZOZWVkZWQoKTsKICB9OwoKICAvKioKICAgKiBFeHRlbmQgYW4gb2JqZWN0IHdpdGggcXVldWluZyBmdW5jdGlvbmFsaXR5LgogICAqIFRoZSBvYmplY3Qgd2lsbCBiZSBleHRlbmRlZCB3aXRoIGEgZnVuY3Rpb24gZmx1c2gsIGFuZCB0aGUgbWV0aG9kcyBwcm92aWRlZAogICAqIGluIG9wdGlvbnMucmVwbGFjZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggcXVldWVkIG9uZXMuCiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdAogICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zCiAgICogICAgICAgICAgICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgIC0gcmVwbGFjZTogQXJyYXkuPHN0cmluZz4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBIGxpc3Qgd2l0aCBtZXRob2QgbmFtZXMgb2YgdGhlIG1ldGhvZHMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiB0aGUgb2JqZWN0IHRvIGJlIHJlcGxhY2VkIHdpdGggcXVldWVkIG9uZXMuCiAgICogICAgICAgICAgICAtIGRlbGF5OiBudW1iZXIgICAgV2hlbiBwcm92aWRlZCwgdGhlIHF1ZXVlIHdpbGwgYmUgZmx1c2hlZAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpY2FsbHkgYWZ0ZXIgYW4gaW5hY3Rpdml0eSBvZiB0aGlzIGRlbGF5CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gbWlsbGlzZWNvbmRzLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgdmFsdWUgaXMgbnVsbC4KICAgKiAgICAgICAgICAgIC0gbWF4OiBudW1iZXIgICAgICBXaGVuIHRoZSBxdWV1ZSBleGNlZWRzIHRoZSBnaXZlbiBtYXhpbXVtIG51bWJlcgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIGVudHJpZXMsIHRoZSBxdWV1ZSBpcyBmbHVzaGVkIGF1dG9tYXRpY2FsbHkuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB2YWx1ZSBvZiBtYXggaXMgSW5maW5pdHkuCiAgICogQHJldHVybiB7UXVldWV9IFJldHVybnMgdGhlIGNyZWF0ZWQgcXVldWUKICAgKi8KICBRdWV1ZS5leHRlbmQgPSBmdW5jdGlvbiAob2JqZWN0LCBvcHRpb25zKSB7CiAgICB2YXIgcXVldWUgPSBuZXcgUXVldWUob3B0aW9ucyk7CgogICAgaWYgKG9iamVjdC5mbHVzaCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVGFyZ2V0IG9iamVjdCBhbHJlYWR5IGhhcyBhIHByb3BlcnR5IGZsdXNoJyk7CiAgICB9CiAgICBvYmplY3QuZmx1c2ggPSBmdW5jdGlvbiAoKSB7CiAgICAgIHF1ZXVlLmZsdXNoKCk7CiAgICB9OwoKICAgIHZhciBtZXRob2RzID0gW3sKICAgICAgbmFtZTogJ2ZsdXNoJywKICAgICAgb3JpZ2luYWw6IHVuZGVmaW5lZAogICAgfV07CgogICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZXBsYWNlKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5yZXBsYWNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLnJlcGxhY2VbaV07CiAgICAgICAgbWV0aG9kcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICBvcmlnaW5hbDogb2JqZWN0W25hbWVdCiAgICAgICAgfSk7CiAgICAgICAgcXVldWUucmVwbGFjZShvYmplY3QsIG5hbWUpOwogICAgICB9CiAgICB9CgogICAgcXVldWUuX2V4dGVuZGVkID0gewogICAgICBvYmplY3Q6IG9iamVjdCwKICAgICAgbWV0aG9kczogbWV0aG9kcwogICAgfTsKCiAgICByZXR1cm4gcXVldWU7CiAgfTsKCiAgLyoqCiAgICogRGVzdHJveSB0aGUgcXVldWUuIFRoZSBxdWV1ZSB3aWxsIGZpcnN0IGZsdXNoIGFsbCBxdWV1ZWQgYWN0aW9ucywgYW5kIGluCiAgICogY2FzZSBpdCBoYXMgZXh0ZW5kZWQgYW4gb2JqZWN0LCB3aWxsIHJlc3RvcmUgdGhlIG9yaWdpbmFsIG9iamVjdC4KICAgKi8KICBRdWV1ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZmx1c2goKTsKCiAgICBpZiAodGhpcy5fZXh0ZW5kZWQpIHsKICAgICAgdmFyIG9iamVjdCA9IHRoaXMuX2V4dGVuZGVkLm9iamVjdDsKICAgICAgdmFyIG1ldGhvZHMgPSB0aGlzLl9leHRlbmRlZC5tZXRob2RzOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGhvZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbWV0aG9kID0gbWV0aG9kc1tpXTsKICAgICAgICBpZiAobWV0aG9kLm9yaWdpbmFsKSB7CiAgICAgICAgICBvYmplY3RbbWV0aG9kLm5hbWVdID0gbWV0aG9kLm9yaWdpbmFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWxldGUgb2JqZWN0W21ldGhvZC5uYW1lXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5fZXh0ZW5kZWQgPSBudWxsOwogICAgfQogIH07CgogIC8qKgogICAqIFJlcGxhY2UgYSBtZXRob2Qgb24gYW4gb2JqZWN0IHdpdGggYSBxdWV1ZWQgdmVyc2lvbgogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgICBPYmplY3QgaGF2aW5nIHRoZSBtZXRob2QKICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kICAgVGhlIG1ldGhvZCBuYW1lCiAgICovCiAgUXVldWUucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAob2JqZWN0LCBtZXRob2QpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgb3JpZ2luYWwgPSBvYmplY3RbbWV0aG9kXTsKICAgIGlmICghb3JpZ2luYWwpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgJyArIG1ldGhvZCArICcgdW5kZWZpbmVkJyk7CiAgICB9CgogICAgb2JqZWN0W21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIGNyZWF0ZSBhbiBBcnJheSB3aXRoIHRoZSBhcmd1bWVudHMKICAgICAgdmFyIGFyZ3MgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldOwogICAgICB9CgogICAgICAvLyBhZGQgdGhpcyBjYWxsIHRvIHRoZSBxdWV1ZQogICAgICBtZS5xdWV1ZSh7CiAgICAgICAgYXJnczogYXJncywKICAgICAgICBmbjogb3JpZ2luYWwsCiAgICAgICAgY29udGV4dDogdGhpcwogICAgICB9KTsKICAgIH07CiAgfTsKCiAgLyoqCiAgICogUXVldWUgYSBjYWxsCiAgICogQHBhcmFtIHtmdW5jdGlvbiB8IHtmbjogZnVuY3Rpb24sIGFyZ3M6IEFycmF5fSB8IHtmbjogZnVuY3Rpb24sIGFyZ3M6IEFycmF5LCBjb250ZXh0OiBPYmplY3R9fSBlbnRyeQogICAqLwogIFF1ZXVlLnByb3RvdHlwZS5xdWV1ZSA9IGZ1bmN0aW9uIChlbnRyeSkgewogICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICB0aGlzLl9xdWV1ZS5wdXNoKHsgZm46IGVudHJ5IH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5fcXVldWUucHVzaChlbnRyeSk7CiAgICB9CgogICAgdGhpcy5fZmx1c2hJZk5lZWRlZCgpOwogIH07CgogIC8qKgogICAqIENoZWNrIHdoZXRoZXIgdGhlIHF1ZXVlIG5lZWRzIHRvIGJlIGZsdXNoZWQKICAgKiBAcHJpdmF0ZQogICAqLwogIFF1ZXVlLnByb3RvdHlwZS5fZmx1c2hJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIGZsdXNoIHdoZW4gdGhlIG1heGltdW0gaXMgZXhjZWVkZWQuCiAgICBpZiAodGhpcy5fcXVldWUubGVuZ3RoID4gdGhpcy5tYXgpIHsKICAgICAgdGhpcy5mbHVzaCgpOwogICAgfQoKICAgIC8vIGZsdXNoIGFmdGVyIGEgcGVyaW9kIG9mIGluYWN0aXZpdHkgd2hlbiBhIGRlbGF5IGlzIGNvbmZpZ3VyZWQKICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTsKICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDAgJiYgdHlwZW9mIHRoaXMuZGVsYXkgPT09ICdudW1iZXInKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBtZS5mbHVzaCgpOwogICAgICB9LCB0aGlzLmRlbGF5KTsKICAgIH0KICB9OwoKICAvKioKICAgKiBGbHVzaCBhbGwgcXVldWVkIGNhbGxzCiAgICovCiAgUXVldWUucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkgewogICAgd2hpbGUgKHRoaXMuX3F1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIGVudHJ5ID0gdGhpcy5fcXVldWUuc2hpZnQoKTsKICAgICAgZW50cnkuZm4uYXBwbHkoZW50cnkuY29udGV4dCB8fCBlbnRyeS5mbiwgZW50cnkuYXJncyB8fCBbXSk7CiAgICB9CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBRdWV1ZTsKCi8qKiovIH0sCi8qIDEwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICB2YXIgRGF0YVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7CgogIC8qKgogICAqIERhdGFWaWV3CiAgICoKICAgKiBhIGRhdGF2aWV3IG9mZmVycyBhIGZpbHRlcmVkIHZpZXcgb24gYSBkYXRhc2V0IG9yIGFuIG90aGVyIGRhdGF2aWV3LgogICAqCiAgICogQHBhcmFtIHtEYXRhU2V0IHwgRGF0YVZpZXd9IGRhdGEKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgQXZhaWxhYmxlIG9wdGlvbnM6IHNlZSBtZXRob2QgZ2V0CiAgICoKICAgKiBAY29uc3RydWN0b3IgRGF0YVZpZXcKICAgKi8KICBmdW5jdGlvbiBEYXRhVmlldyhkYXRhLCBvcHRpb25zKSB7CiAgICB0aGlzLl9kYXRhID0gbnVsbDsKICAgIHRoaXMuX2lkcyA9IHt9OyAvLyBpZHMgb2YgdGhlIGl0ZW1zIGN1cnJlbnRseSBpbiBtZW1vcnkgKGp1c3QgY29udGFpbnMgYSBib29sZWFuIHRydWUpCiAgICB0aGlzLmxlbmd0aCA9IDA7IC8vIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgRGF0YVZpZXcKICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgdGhpcy5fZmllbGRJZCA9ICdpZCc7IC8vIG5hbWUgb2YgdGhlIGZpZWxkIGNvbnRhaW5pbmcgaWQKICAgIHRoaXMuX3N1YnNjcmliZXJzID0ge307IC8vIGV2ZW50IHN1YnNjcmliZXJzCgogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgIG1lLl9vbkV2ZW50LmFwcGx5KG1lLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB0aGlzLnNldERhdGEoZGF0YSk7CiAgfQoKICAvLyBUT0RPOiBpbXBsZW1lbnQgYSBmdW5jdGlvbiAuY29uZmlnKCkgdG8gZHluYW1pY2FsbHkgdXBkYXRlIHRoaW5ncyBsaWtlIGNvbmZpZ3VyZWQgZmlsdGVyCiAgLy8gYW5kIHRyaWdnZXIgY2hhbmdlcyBhY2NvcmRpbmdseQoKICAvKioKICAgKiBTZXQgYSBkYXRhIHNvdXJjZSBmb3IgdGhlIHZpZXcKICAgKiBAcGFyYW0ge0RhdGFTZXQgfCBEYXRhVmlld30gZGF0YQogICAqLwogIERhdGFWaWV3LnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgIHZhciBpZHMsIGksIGxlbjsKCiAgICBpZiAodGhpcy5fZGF0YSkgewogICAgICAvLyB1bnN1YnNjcmliZSBmcm9tIGN1cnJlbnQgZGF0YXNldAogICAgICBpZiAodGhpcy5fZGF0YS5vZmYpIHsKICAgICAgICB0aGlzLl9kYXRhLm9mZignKicsIHRoaXMubGlzdGVuZXIpOwogICAgICB9CgogICAgICAvLyB0cmlnZ2VyIGEgcmVtb3ZlIG9mIGFsbCBpdGVtcyBpbiBtZW1vcnkKICAgICAgaWRzID0gW107CiAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuX2lkcykgewogICAgICAgIGlmICh0aGlzLl9pZHMuaGFzT3duUHJvcGVydHkoaWQpKSB7CiAgICAgICAgICBpZHMucHVzaChpZCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuX2lkcyA9IHt9OwogICAgICB0aGlzLmxlbmd0aCA9IDA7CiAgICAgIHRoaXMuX3RyaWdnZXIoJ3JlbW92ZScsIHsgaXRlbXM6IGlkcyB9KTsKICAgIH0KCiAgICB0aGlzLl9kYXRhID0gZGF0YTsKCiAgICBpZiAodGhpcy5fZGF0YSkgewogICAgICAvLyB1cGRhdGUgZmllbGRJZAogICAgICB0aGlzLl9maWVsZElkID0gdGhpcy5fb3B0aW9ucy5maWVsZElkIHx8IHRoaXMuX2RhdGEgJiYgdGhpcy5fZGF0YS5vcHRpb25zICYmIHRoaXMuX2RhdGEub3B0aW9ucy5maWVsZElkIHx8ICdpZCc7CgogICAgICAvLyB0cmlnZ2VyIGFuIGFkZCBvZiBhbGwgYWRkZWQgaXRlbXMKICAgICAgaWRzID0gdGhpcy5fZGF0YS5nZXRJZHMoeyBmaWx0ZXI6IHRoaXMuX29wdGlvbnMgJiYgdGhpcy5fb3B0aW9ucy5maWx0ZXIgfSk7CiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGlkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIGlkID0gaWRzW2ldOwogICAgICAgIHRoaXMuX2lkc1tpZF0gPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMubGVuZ3RoID0gaWRzLmxlbmd0aDsKICAgICAgdGhpcy5fdHJpZ2dlcignYWRkJywgeyBpdGVtczogaWRzIH0pOwoKICAgICAgLy8gc3Vic2NyaWJlIHRvIG5ldyBkYXRhc2V0CiAgICAgIGlmICh0aGlzLl9kYXRhLm9uKSB7CiAgICAgICAgdGhpcy5fZGF0YS5vbignKicsIHRoaXMubGlzdGVuZXIpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVmcmVzaCB0aGUgRGF0YVZpZXcuIFVzZWZ1bCB3aGVuIHRoZSBEYXRhVmlldyBoYXMgYSBmaWx0ZXIgZnVuY3Rpb24KICAgKiBjb250YWluaW5nIGEgdmFyaWFibGUgcGFyYW1ldGVyLgogICAqLwogIERhdGFWaWV3LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGlkOwogICAgdmFyIGlkcyA9IHRoaXMuX2RhdGEuZ2V0SWRzKHsgZmlsdGVyOiB0aGlzLl9vcHRpb25zICYmIHRoaXMuX29wdGlvbnMuZmlsdGVyIH0pOwogICAgdmFyIG5ld0lkcyA9IHt9OwogICAgdmFyIGFkZGVkID0gW107CiAgICB2YXIgcmVtb3ZlZCA9IFtdOwoKICAgIC8vIGNoZWNrIGZvciBhZGRpdGlvbnMKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlkID0gaWRzW2ldOwogICAgICBuZXdJZHNbaWRdID0gdHJ1ZTsKICAgICAgaWYgKCF0aGlzLl9pZHNbaWRdKSB7CiAgICAgICAgYWRkZWQucHVzaChpZCk7CiAgICAgICAgdGhpcy5faWRzW2lkXSA9IHRydWU7CiAgICAgICAgdGhpcy5sZW5ndGgrKzsKICAgICAgfQogICAgfQoKICAgIC8vIGNoZWNrIGZvciByZW1vdmFscwogICAgZm9yIChpZCBpbiB0aGlzLl9pZHMpIHsKICAgICAgaWYgKHRoaXMuX2lkcy5oYXNPd25Qcm9wZXJ0eShpZCkpIHsKICAgICAgICBpZiAoIW5ld0lkc1tpZF0pIHsKICAgICAgICAgIHJlbW92ZWQucHVzaChpZCk7CiAgICAgICAgICBkZWxldGUgdGhpcy5faWRzW2lkXTsKICAgICAgICAgIHRoaXMubGVuZ3RoLS07CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy8gdHJpZ2dlciBldmVudHMKICAgIGlmIChhZGRlZC5sZW5ndGgpIHsKICAgICAgdGhpcy5fdHJpZ2dlcignYWRkJywgeyBpdGVtczogYWRkZWQgfSk7CiAgICB9CiAgICBpZiAocmVtb3ZlZC5sZW5ndGgpIHsKICAgICAgdGhpcy5fdHJpZ2dlcigncmVtb3ZlJywgeyBpdGVtczogcmVtb3ZlZCB9KTsKICAgIH0KICB9OwoKICAvKioKICAgKiBHZXQgZGF0YSBmcm9tIHRoZSBkYXRhIHZpZXcKICAgKgogICAqIFVzYWdlOgogICAqCiAgICogICAgIGdldCgpCiAgICogICAgIGdldChvcHRpb25zOiBPYmplY3QpCiAgICogICAgIGdldChvcHRpb25zOiBPYmplY3QsIGRhdGE6IEFycmF5IHwgRGF0YVRhYmxlKQogICAqCiAgICogICAgIGdldChpZDogTnVtYmVyKQogICAqICAgICBnZXQoaWQ6IE51bWJlciwgb3B0aW9uczogT2JqZWN0KQogICAqICAgICBnZXQoaWQ6IE51bWJlciwgb3B0aW9uczogT2JqZWN0LCBkYXRhOiBBcnJheSB8IERhdGFUYWJsZSkKICAgKgogICAqICAgICBnZXQoaWRzOiBOdW1iZXJbXSkKICAgKiAgICAgZ2V0KGlkczogTnVtYmVyW10sIG9wdGlvbnM6IE9iamVjdCkKICAgKiAgICAgZ2V0KGlkczogTnVtYmVyW10sIG9wdGlvbnM6IE9iamVjdCwgZGF0YTogQXJyYXkgfCBEYXRhVGFibGUpCiAgICoKICAgKiBXaGVyZToKICAgKgogICAqIHtOdW1iZXIgfCBTdHJpbmd9IGlkICAgICAgICAgVGhlIGlkIG9mIGFuIGl0ZW0KICAgKiB7TnVtYmVyW10gfCBTdHJpbmd7fX0gaWRzICAgIEFuIGFycmF5IHdpdGggaWRzIG9mIGl0ZW1zCiAgICoge09iamVjdH0gb3B0aW9ucyAgICAgICAgICAgICBBbiBPYmplY3Qgd2l0aCBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmd9IFt0eXBlXSBUeXBlIG9mIGRhdGEgdG8gYmUgcmV0dXJuZWQuIENhbgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlICdEYXRhVGFibGUnIG9yICdBcnJheScgKGRlZmF1bHQpCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IFtjb252ZXJ0XQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZ1tdfSBbZmllbGRzXSBmaWVsZCBuYW1lcyB0byBiZSByZXR1cm5lZAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Z1bmN0aW9ufSBbZmlsdGVyXSBmaWx0ZXIgaXRlbXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcgfCBmdW5jdGlvbn0gW29yZGVyXSBPcmRlciB0aGUgaXRlbXMgYnkKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIGZpZWxkIG5hbWUgb3IgY3VzdG9tIHNvcnQgZnVuY3Rpb24uCiAgICoge0FycmF5IHwgRGF0YVRhYmxlfSBbZGF0YV0gICBJZiBwcm92aWRlZCwgaXRlbXMgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGlzCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheSBvciB0YWJsZS4gUmVxdWlyZWQgaW4gY2FzZSBvZiBHb29nbGUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGFUYWJsZS4KICAgKiBAcGFyYW0gYXJncwogICAqLwogIERhdGFWaWV3LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoYXJncykgewogICAgdmFyIG1lID0gdGhpczsKCiAgICAvLyBwYXJzZSB0aGUgYXJndW1lbnRzCiAgICB2YXIgaWRzLCBvcHRpb25zLCBkYXRhOwogICAgdmFyIGZpcnN0VHlwZSA9IHV0aWwuZ2V0VHlwZShhcmd1bWVudHNbMF0pOwogICAgaWYgKGZpcnN0VHlwZSA9PSAnU3RyaW5nJyB8fCBmaXJzdFR5cGUgPT0gJ051bWJlcicgfHwgZmlyc3RUeXBlID09ICdBcnJheScpIHsKICAgICAgLy8gZ2V0KGlkKHMpIFssIG9wdGlvbnNdIFssIGRhdGFdKQogICAgICBpZHMgPSBhcmd1bWVudHNbMF07IC8vIGNhbiBiZSBhIHNpbmdsZSBpZCBvciBhbiBhcnJheSB3aXRoIGlkcwogICAgICBvcHRpb25zID0gYXJndW1lbnRzWzFdOwogICAgICBkYXRhID0gYXJndW1lbnRzWzJdOwogICAgfSBlbHNlIHsKICAgICAgLy8gZ2V0KFssIG9wdGlvbnNdIFssIGRhdGFdKQogICAgICBvcHRpb25zID0gYXJndW1lbnRzWzBdOwogICAgICBkYXRhID0gYXJndW1lbnRzWzFdOwogICAgfQoKICAgIC8vIGV4dGVuZCB0aGUgb3B0aW9ucyB3aXRoIHRoZSBkZWZhdWx0IG9wdGlvbnMgYW5kIHByb3ZpZGVkIG9wdGlvbnMKICAgIHZhciB2aWV3T3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTsKCiAgICAvLyBjcmVhdGUgYSBjb21iaW5lZCBmaWx0ZXIgbWV0aG9kIHdoZW4gbmVlZGVkCiAgICBpZiAodGhpcy5fb3B0aW9ucy5maWx0ZXIgJiYgb3B0aW9ucyAmJiBvcHRpb25zLmZpbHRlcikgewogICAgICB2aWV3T3B0aW9ucy5maWx0ZXIgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBtZS5fb3B0aW9ucy5maWx0ZXIoaXRlbSkgJiYgb3B0aW9ucy5maWx0ZXIoaXRlbSk7CiAgICAgIH07CiAgICB9CgogICAgLy8gYnVpbGQgdXAgdGhlIGNhbGwgdG8gdGhlIGxpbmtlZCBkYXRhIHNldAogICAgdmFyIGdldEFyZ3VtZW50cyA9IFtdOwogICAgaWYgKGlkcyAhPSB1bmRlZmluZWQpIHsKICAgICAgZ2V0QXJndW1lbnRzLnB1c2goaWRzKTsKICAgIH0KICAgIGdldEFyZ3VtZW50cy5wdXNoKHZpZXdPcHRpb25zKTsKICAgIGdldEFyZ3VtZW50cy5wdXNoKGRhdGEpOwoKICAgIHJldHVybiB0aGlzLl9kYXRhICYmIHRoaXMuX2RhdGEuZ2V0LmFwcGx5KHRoaXMuX2RhdGEsIGdldEFyZ3VtZW50cyk7CiAgfTsKCiAgLyoqCiAgICogR2V0IGlkcyBvZiBhbGwgaXRlbXMgb3IgZnJvbSBhIGZpbHRlcmVkIHNldCBvZiBpdGVtcy4KICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgIEFuIE9iamVjdCB3aXRoIG9wdGlvbnMuIEF2YWlsYWJsZSBvcHRpb25zOgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Z1bmN0aW9ufSBbZmlsdGVyXSBmaWx0ZXIgaXRlbXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcgfCBmdW5jdGlvbn0gW29yZGVyXSBPcmRlciB0aGUgaXRlbXMgYnkKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIGZpZWxkIG5hbWUgb3IgY3VzdG9tIHNvcnQgZnVuY3Rpb24uCiAgICogQHJldHVybiB7QXJyYXl9IGlkcwogICAqLwogIERhdGFWaWV3LnByb3RvdHlwZS5nZXRJZHMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgdmFyIGlkczsKCiAgICBpZiAodGhpcy5fZGF0YSkgewogICAgICB2YXIgZGVmYXVsdEZpbHRlciA9IHRoaXMuX29wdGlvbnMuZmlsdGVyOwogICAgICB2YXIgZmlsdGVyOwoKICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5maWx0ZXIpIHsKICAgICAgICBpZiAoZGVmYXVsdEZpbHRlcikgewogICAgICAgICAgZmlsdGVyID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGaWx0ZXIoaXRlbSkgJiYgb3B0aW9ucy5maWx0ZXIoaXRlbSk7CiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlsdGVyID0gZGVmYXVsdEZpbHRlcjsKICAgICAgfQoKICAgICAgaWRzID0gdGhpcy5fZGF0YS5nZXRJZHMoewogICAgICAgIGZpbHRlcjogZmlsdGVyLAogICAgICAgIG9yZGVyOiBvcHRpb25zICYmIG9wdGlvbnMub3JkZXIKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBpZHMgPSBbXTsKICAgIH0KCiAgICByZXR1cm4gaWRzOwogIH07CgogIC8qKgogICAqIEdldCB0aGUgRGF0YVNldCB0byB3aGljaCB0aGlzIERhdGFWaWV3IGlzIGNvbm5lY3RlZC4gSW4gY2FzZSB0aGVyZSBpcyBhIGNoYWluCiAgICogb2YgbXVsdGlwbGUgRGF0YVZpZXdzLCB0aGUgcm9vdCBEYXRhU2V0IG9mIHRoaXMgY2hhaW4gaXMgcmV0dXJuZWQuCiAgICogQHJldHVybiB7RGF0YVNldH0gZGF0YVNldAogICAqLwogIERhdGFWaWV3LnByb3RvdHlwZS5nZXREYXRhU2V0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGRhdGFTZXQgPSB0aGlzOwogICAgd2hpbGUgKGRhdGFTZXQgaW5zdGFuY2VvZiBEYXRhVmlldykgewogICAgICBkYXRhU2V0ID0gZGF0YVNldC5fZGF0YTsKICAgIH0KICAgIHJldHVybiBkYXRhU2V0IHx8IG51bGw7CiAgfTsKCiAgLyoqCiAgICogRXZlbnQgbGlzdGVuZXIuIFdpbGwgcHJvcGFnYXRlIGFsbCBldmVudHMgZnJvbSB0aGUgY29ubmVjdGVkIGRhdGEgc2V0IHRvCiAgICogdGhlIHN1YnNjcmliZXJzIG9mIHRoZSBEYXRhVmlldywgYnV0IHdpbGwgZmlsdGVyIHRoZSBpdGVtcyBhbmQgb25seSB0cmlnZ2VyCiAgICogd2hlbiB0aGVyZSBhcmUgY2hhbmdlcyBpbiB0aGUgZmlsdGVyZWQgZGF0YSBzZXQuCiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50CiAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBwYXJhbXMKICAgKiBAcGFyYW0ge1N0cmluZ30gc2VuZGVySWQKICAgKiBAcHJpdmF0ZQogICAqLwogIERhdGFWaWV3LnByb3RvdHlwZS5fb25FdmVudCA9IGZ1bmN0aW9uIChldmVudCwgcGFyYW1zLCBzZW5kZXJJZCkgewogICAgdmFyIGksIGxlbiwgaWQsIGl0ZW07CiAgICB2YXIgaWRzID0gcGFyYW1zICYmIHBhcmFtcy5pdGVtczsKICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTsKICAgIHZhciB1cGRhdGVkRGF0YSA9IFtdOwogICAgdmFyIGFkZGVkID0gW107CiAgICB2YXIgdXBkYXRlZCA9IFtdOwogICAgdmFyIHJlbW92ZWQgPSBbXTsKCiAgICBpZiAoaWRzICYmIGRhdGEpIHsKICAgICAgc3dpdGNoIChldmVudCkgewogICAgICAgIGNhc2UgJ2FkZCc6CiAgICAgICAgICAvLyBmaWx0ZXIgdGhlIGlkcyBvZiB0aGUgYWRkZWQgaXRlbXMKICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGlkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICBpZCA9IGlkc1tpXTsKICAgICAgICAgICAgaXRlbSA9IHRoaXMuZ2V0KGlkKTsKICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICB0aGlzLl9pZHNbaWRdID0gdHJ1ZTsKICAgICAgICAgICAgICBhZGRlZC5wdXNoKGlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd1cGRhdGUnOgogICAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBldmVudCBmcm9tIHRoZSB2aWV3cyB2aWV3cG9pbnQ6IGFuIHVwZGF0ZWQKICAgICAgICAgIC8vIGl0ZW0gY2FuIGJlIGFkZGVkLCB1cGRhdGVkLCBvciByZW1vdmVkIGZyb20gdGhpcyB2aWV3LgogICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gaWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGlkID0gaWRzW2ldOwogICAgICAgICAgICBpdGVtID0gdGhpcy5nZXQoaWQpOwoKICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICBpZiAodGhpcy5faWRzW2lkXSkgewogICAgICAgICAgICAgICAgdXBkYXRlZC5wdXNoKGlkKTsKICAgICAgICAgICAgICAgIHVwZGF0ZWREYXRhLnB1c2gocGFyYW1zLmRhdGFbaV0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLl9pZHNbaWRdID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGFkZGVkLnB1c2goaWQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGhpcy5faWRzW2lkXSkgewogICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2lkc1tpZF07CiAgICAgICAgICAgICAgICByZW1vdmVkLnB1c2goaWQpOwogICAgICAgICAgICAgIH0gZWxzZSB7fQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3JlbW92ZSc6CiAgICAgICAgICAvLyBmaWx0ZXIgdGhlIGlkcyBvZiB0aGUgcmVtb3ZlZCBpdGVtcwogICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gaWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGlkID0gaWRzW2ldOwogICAgICAgICAgICBpZiAodGhpcy5faWRzW2lkXSkgewogICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pZHNbaWRdOwogICAgICAgICAgICAgIHJlbW92ZWQucHVzaChpZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdGhpcy5sZW5ndGggKz0gYWRkZWQubGVuZ3RoIC0gcmVtb3ZlZC5sZW5ndGg7CgogICAgICBpZiAoYWRkZWQubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fdHJpZ2dlcignYWRkJywgeyBpdGVtczogYWRkZWQgfSwgc2VuZGVySWQpOwogICAgICB9CiAgICAgIGlmICh1cGRhdGVkLmxlbmd0aCkgewogICAgICAgIHRoaXMuX3RyaWdnZXIoJ3VwZGF0ZScsIHsgaXRlbXM6IHVwZGF0ZWQsIGRhdGE6IHVwZGF0ZWREYXRhIH0sIHNlbmRlcklkKTsKICAgICAgfQogICAgICBpZiAocmVtb3ZlZC5sZW5ndGgpIHsKICAgICAgICB0aGlzLl90cmlnZ2VyKCdyZW1vdmUnLCB7IGl0ZW1zOiByZW1vdmVkIH0sIHNlbmRlcklkKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIGNvcHkgc3Vic2NyaXB0aW9uIGZ1bmN0aW9uYWxpdHkgZnJvbSBEYXRhU2V0CiAgRGF0YVZpZXcucHJvdG90eXBlLm9uID0gRGF0YVNldC5wcm90b3R5cGUub247CiAgRGF0YVZpZXcucHJvdG90eXBlLm9mZiA9IERhdGFTZXQucHJvdG90eXBlLm9mZjsKICBEYXRhVmlldy5wcm90b3R5cGUuX3RyaWdnZXIgPSBEYXRhU2V0LnByb3RvdHlwZS5fdHJpZ2dlcjsKCiAgLy8gVE9ETzogbWFrZSB0aGVzZSBmdW5jdGlvbnMgZGVwcmVjYXRlZCAocmVwbGFjZWQgd2l0aCBgb25gIGFuZCBgb2ZmYCBzaW5jZSB2ZXJzaW9uIDAuNSkKICBEYXRhVmlldy5wcm90b3R5cGUuc3Vic2NyaWJlID0gRGF0YVZpZXcucHJvdG90eXBlLm9uOwogIERhdGFWaWV3LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IERhdGFWaWV3LnByb3RvdHlwZS5vZmY7CgogIG1vZHVsZS5leHBvcnRzID0gRGF0YVZpZXc7CgogIC8vIG5vdGhpbmcgaW50ZXJlc3RpbmcgZm9yIG1lIDotKAoKLyoqKi8gfSwKLyogMTEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTsKICB2YXIgRGF0YVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7CiAgdmFyIERhdGFWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7CiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogIHZhciBQb2ludDNkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7CiAgdmFyIFBvaW50MmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTsKICB2YXIgQ2FtZXJhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7CiAgdmFyIEZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpOwogIHZhciBTbGlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTsKICB2YXIgU3RlcE51bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpOwoKICAvKioKICAgKiBAY29uc3RydWN0b3IgR3JhcGgzZAogICAqIEdyYXBoM2QgZGlzcGxheXMgZGF0YSBpbiAzZC4KICAgKgogICAqIEdyYXBoM2QgaXMgZGV2ZWxvcGVkIGluIGphdmFzY3JpcHQgYXMgYSBHb29nbGUgVmlzdWFsaXphdGlvbiBDaGFydC4KICAgKgogICAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVyICAgVGhlIERPTSBlbGVtZW50IGluIHdoaWNoIHRoZSBHcmFwaDNkIHdpbGwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGNyZWF0ZWQuIE5vcm1hbGx5IGEgZGl2IGVsZW1lbnQuCiAgICogQHBhcmFtIHtEYXRhU2V0IHwgRGF0YVZpZXcgfCBBcnJheX0gW2RhdGFdCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQogICAqLwogIGZ1bmN0aW9uIEdyYXBoM2QoY29udGFpbmVyLCBkYXRhLCBvcHRpb25zKSB7CiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgR3JhcGgzZCkpIHsKICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTsKICAgIH0KCiAgICAvLyBjcmVhdGUgdmFyaWFibGVzIGFuZCBzZXQgZGVmYXVsdCB2YWx1ZXMKICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IGNvbnRhaW5lcjsKICAgIHRoaXMud2lkdGggPSAnNDAwcHgnOwogICAgdGhpcy5oZWlnaHQgPSAnNDAwcHgnOwogICAgdGhpcy5tYXJnaW4gPSAxMDsgLy8gcHgKICAgIHRoaXMuZGVmYXVsdFhDZW50ZXIgPSAnNTUlJzsKICAgIHRoaXMuZGVmYXVsdFlDZW50ZXIgPSAnNTAlJzsKCiAgICB0aGlzLnhMYWJlbCA9ICd4JzsKICAgIHRoaXMueUxhYmVsID0gJ3knOwogICAgdGhpcy56TGFiZWwgPSAneic7CgogICAgdmFyIHBhc3NWYWx1ZUZuID0gZnVuY3Rpb24gcGFzc1ZhbHVlRm4odikgewogICAgICByZXR1cm4gdjsKICAgIH07CiAgICB0aGlzLnhWYWx1ZUxhYmVsID0gcGFzc1ZhbHVlRm47CiAgICB0aGlzLnlWYWx1ZUxhYmVsID0gcGFzc1ZhbHVlRm47CiAgICB0aGlzLnpWYWx1ZUxhYmVsID0gcGFzc1ZhbHVlRm47CgogICAgdGhpcy5maWx0ZXJMYWJlbCA9ICd0aW1lJzsKICAgIHRoaXMubGVnZW5kTGFiZWwgPSAndmFsdWUnOwoKICAgIHRoaXMuc3R5bGUgPSBHcmFwaDNkLlNUWUxFLkRPVDsKICAgIHRoaXMuc2hvd1BlcnNwZWN0aXZlID0gdHJ1ZTsKICAgIHRoaXMuc2hvd0dyaWQgPSB0cnVlOwogICAgdGhpcy5rZWVwQXNwZWN0UmF0aW8gPSB0cnVlOwogICAgdGhpcy5zaG93U2hhZG93ID0gZmFsc2U7CiAgICB0aGlzLnNob3dHcmF5Qm90dG9tID0gZmFsc2U7IC8vIFRPRE86IHRoaXMgZG9lcyBub3Qgd29yayBjb3JyZWN0bHkKICAgIHRoaXMuc2hvd1Rvb2x0aXAgPSBmYWxzZTsKICAgIHRoaXMudmVydGljYWxSYXRpbyA9IDAuNTsgLy8gMC4xIHRvIDEuMCwgd2hlcmUgMS4wIHJlc3VsdHMgaW4gYSAnY3ViZScKCiAgICB0aGlzLmFuaW1hdGlvbkludGVydmFsID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzCiAgICB0aGlzLmFuaW1hdGlvblByZWxvYWQgPSBmYWxzZTsKCiAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEoKTsKICAgIHRoaXMuZXllID0gbmV3IFBvaW50M2QoMCwgMCwgLTEpOyAvLyBUT0RPOiBzZXQgZXllLnogYWJvdXQgMy80IG9mIHRoZSB3aWR0aCBvZiB0aGUgd2luZG93PwoKICAgIHRoaXMuZGF0YVRhYmxlID0gbnVsbDsgLy8gVGhlIG9yaWdpbmFsIGRhdGEgdGFibGUKICAgIHRoaXMuZGF0YVBvaW50cyA9IG51bGw7IC8vIFRoZSB0YWJsZSB3aXRoIHBvaW50IG9iamVjdHMKCiAgICAvLyB0aGUgY29sdW1uIGluZGV4ZXMKICAgIHRoaXMuY29sWCA9IHVuZGVmaW5lZDsKICAgIHRoaXMuY29sWSA9IHVuZGVmaW5lZDsKICAgIHRoaXMuY29sWiA9IHVuZGVmaW5lZDsKICAgIHRoaXMuY29sVmFsdWUgPSB1bmRlZmluZWQ7CiAgICB0aGlzLmNvbEZpbHRlciA9IHVuZGVmaW5lZDsKCiAgICB0aGlzLnhNaW4gPSAwOwogICAgdGhpcy54U3RlcCA9IHVuZGVmaW5lZDsgLy8gYXV0byBieSBkZWZhdWx0CiAgICB0aGlzLnhNYXggPSAxOwogICAgdGhpcy55TWluID0gMDsKICAgIHRoaXMueVN0ZXAgPSB1bmRlZmluZWQ7IC8vIGF1dG8gYnkgZGVmYXVsdAogICAgdGhpcy55TWF4ID0gMTsKICAgIHRoaXMuek1pbiA9IDA7CiAgICB0aGlzLnpTdGVwID0gdW5kZWZpbmVkOyAvLyBhdXRvIGJ5IGRlZmF1bHQKICAgIHRoaXMuek1heCA9IDE7CiAgICB0aGlzLnZhbHVlTWluID0gMDsKICAgIHRoaXMudmFsdWVNYXggPSAxOwogICAgdGhpcy54QmFyV2lkdGggPSAxOwogICAgdGhpcy55QmFyV2lkdGggPSAxOwogICAgLy8gVE9ETzogY3VzdG9taXplIGF4aXMgcmFuZ2UKCiAgICAvLyBjb25zdGFudHMKICAgIHRoaXMuY29sb3JBeGlzID0gJyM0RDRENEQnOwogICAgdGhpcy5jb2xvckdyaWQgPSAnI0QzRDNEMyc7CiAgICB0aGlzLmNvbG9yRG90ID0gJyM3REMxRkYnOwogICAgdGhpcy5jb2xvckRvdEJvcmRlciA9ICcjMzI2N0QyJzsKCiAgICAvLyBjcmVhdGUgYSBmcmFtZSBhbmQgY2FudmFzCiAgICB0aGlzLmNyZWF0ZSgpOwoKICAgIC8vIGFwcGx5IG9wdGlvbnMgKGFsc28gd2hlbiB1bmRlZmluZWQpCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CgogICAgLy8gYXBwbHkgZGF0YQogICAgaWYgKGRhdGEpIHsKICAgICAgdGhpcy5zZXREYXRhKGRhdGEpOwogICAgfQogIH0KCiAgLy8gRXh0ZW5kIEdyYXBoM2Qgd2l0aCBhbiBFbWl0dGVyIG1peGluCiAgRW1pdHRlcihHcmFwaDNkLnByb3RvdHlwZSk7CgogIC8qKgogICAqIENhbGN1bGF0ZSB0aGUgc2NhbGluZyB2YWx1ZXMsIGRlcGVuZGVudCBvbiB0aGUgcmFuZ2UgaW4geCwgeSwgYW5kIHogZGlyZWN0aW9uCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX3NldFNjYWxlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5zY2FsZSA9IG5ldyBQb2ludDNkKDEgLyAodGhpcy54TWF4IC0gdGhpcy54TWluKSwgMSAvICh0aGlzLnlNYXggLSB0aGlzLnlNaW4pLCAxIC8gKHRoaXMuek1heCAtIHRoaXMuek1pbikpOwoKICAgIC8vIGtlZXAgYXNwZWN0IHJhdGlvbiBiZXR3ZWVuIHggYW5kIHkgc2NhbGUgaWYgZGVzaXJlZAogICAgaWYgKHRoaXMua2VlcEFzcGVjdFJhdGlvKSB7CiAgICAgIGlmICh0aGlzLnNjYWxlLnggPCB0aGlzLnNjYWxlLnkpIHsKICAgICAgICAvL25vaW5zcGVjdGlvbiBKU1N1c3BpY2lvdXNOYW1lQ29tYmluYXRpb24KICAgICAgICB0aGlzLnNjYWxlLnkgPSB0aGlzLnNjYWxlLng7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9ub2luc3BlY3Rpb24gSlNTdXNwaWNpb3VzTmFtZUNvbWJpbmF0aW9uCiAgICAgICAgdGhpcy5zY2FsZS54ID0gdGhpcy5zY2FsZS55OwogICAgICB9CiAgICB9CgogICAgLy8gc2NhbGUgdGhlIHZlcnRpY2FsIGF4aXMKICAgIHRoaXMuc2NhbGUueiAqPSB0aGlzLnZlcnRpY2FsUmF0aW87CiAgICAvLyBUT0RPOiBjYW4gdGhpcyBiZSBhdXRvbWF0ZWQ/IHZlcnRpY2FsUmF0aW8/CgogICAgLy8gZGV0ZXJtaW5lIHNjYWxlIGZvciAob3B0aW9uYWwpIHZhbHVlCiAgICB0aGlzLnNjYWxlLnZhbHVlID0gMSAvICh0aGlzLnZhbHVlTWF4IC0gdGhpcy52YWx1ZU1pbik7CgogICAgLy8gcG9zaXRpb24gdGhlIGNhbWVyYSBhcm0KICAgIHZhciB4Q2VudGVyID0gKHRoaXMueE1heCArIHRoaXMueE1pbikgLyAyICogdGhpcy5zY2FsZS54OwogICAgdmFyIHlDZW50ZXIgPSAodGhpcy55TWF4ICsgdGhpcy55TWluKSAvIDIgKiB0aGlzLnNjYWxlLnk7CiAgICB2YXIgekNlbnRlciA9ICh0aGlzLnpNYXggKyB0aGlzLnpNaW4pIC8gMiAqIHRoaXMuc2NhbGUuejsKICAgIHRoaXMuY2FtZXJhLnNldEFybUxvY2F0aW9uKHhDZW50ZXIsIHlDZW50ZXIsIHpDZW50ZXIpOwogIH07CgogIC8qKgogICAqIENvbnZlcnQgYSAzRCBsb2NhdGlvbiB0byBhIDJEIGxvY2F0aW9uIG9uIHNjcmVlbgogICAqIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvM0RfcHJvamVjdGlvbgogICAqIEBwYXJhbSB7UG9pbnQzZH0gcG9pbnQzZCAgIEEgM0QgcG9pbnQgd2l0aCBwYXJhbWV0ZXJzIHgsIHksIHoKICAgKiBAcmV0dXJuIHtQb2ludDJkfSBwb2ludDJkICBBIDJEIHBvaW50IHdpdGggcGFyYW1ldGVycyB4LCB5CiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX2NvbnZlcnQzRHRvMkQgPSBmdW5jdGlvbiAocG9pbnQzZCkgewogICAgdmFyIHRyYW5zbGF0aW9uID0gdGhpcy5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbihwb2ludDNkKTsKICAgIHJldHVybiB0aGlzLl9jb252ZXJ0VHJhbnNsYXRpb25Ub1NjcmVlbih0cmFuc2xhdGlvbik7CiAgfTsKCiAgLyoqCiAgICogQ29udmVydCBhIDNEIGxvY2F0aW9uIGl0cyB0cmFuc2xhdGlvbiBzZWVuIGZyb20gdGhlIGNhbWVyYQogICAqIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvM0RfcHJvamVjdGlvbgogICAqIEBwYXJhbSB7UG9pbnQzZH0gcG9pbnQzZCAgICBBIDNEIHBvaW50IHdpdGggcGFyYW1ldGVycyB4LCB5LCB6CiAgICogQHJldHVybiB7UG9pbnQzZH0gdHJhbnNsYXRpb24gQSAzRCBwb2ludCB3aXRoIHBhcmFtZXRlcnMgeCwgeSwgeiBUaGlzIGlzCiAgICogICAgICAgICAgICAgICAgICAgdGhlIHRyYW5zbGF0aW9uIG9mIHRoZSBwb2ludCwgc2VlbiBmcm9tIHRoZQogICAqICAgICAgICAgICAgICAgICAgIGNhbWVyYQogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9jb252ZXJ0UG9pbnRUb1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHBvaW50M2QpIHsKICAgIHZhciBheCA9IHBvaW50M2QueCAqIHRoaXMuc2NhbGUueCwKICAgICAgICBheSA9IHBvaW50M2QueSAqIHRoaXMuc2NhbGUueSwKICAgICAgICBheiA9IHBvaW50M2QueiAqIHRoaXMuc2NhbGUueiwKICAgICAgICBjeCA9IHRoaXMuY2FtZXJhLmdldENhbWVyYUxvY2F0aW9uKCkueCwKICAgICAgICBjeSA9IHRoaXMuY2FtZXJhLmdldENhbWVyYUxvY2F0aW9uKCkueSwKICAgICAgICBjeiA9IHRoaXMuY2FtZXJhLmdldENhbWVyYUxvY2F0aW9uKCkueiwKCiAgICAvLyBjYWxjdWxhdGUgYW5nbGVzCiAgICBzaW5UeCA9IE1hdGguc2luKHRoaXMuY2FtZXJhLmdldENhbWVyYVJvdGF0aW9uKCkueCksCiAgICAgICAgY29zVHggPSBNYXRoLmNvcyh0aGlzLmNhbWVyYS5nZXRDYW1lcmFSb3RhdGlvbigpLngpLAogICAgICAgIHNpblR5ID0gTWF0aC5zaW4odGhpcy5jYW1lcmEuZ2V0Q2FtZXJhUm90YXRpb24oKS55KSwKICAgICAgICBjb3NUeSA9IE1hdGguY29zKHRoaXMuY2FtZXJhLmdldENhbWVyYVJvdGF0aW9uKCkueSksCiAgICAgICAgc2luVHogPSBNYXRoLnNpbih0aGlzLmNhbWVyYS5nZXRDYW1lcmFSb3RhdGlvbigpLnopLAogICAgICAgIGNvc1R6ID0gTWF0aC5jb3ModGhpcy5jYW1lcmEuZ2V0Q2FtZXJhUm90YXRpb24oKS56KSwKCiAgICAvLyBjYWxjdWxhdGUgdHJhbnNsYXRpb24KICAgIGR4ID0gY29zVHkgKiAoc2luVHogKiAoYXkgLSBjeSkgKyBjb3NUeiAqIChheCAtIGN4KSkgLSBzaW5UeSAqIChheiAtIGN6KSwKICAgICAgICBkeSA9IHNpblR4ICogKGNvc1R5ICogKGF6IC0gY3opICsgc2luVHkgKiAoc2luVHogKiAoYXkgLSBjeSkgKyBjb3NUeiAqIChheCAtIGN4KSkpICsgY29zVHggKiAoY29zVHogKiAoYXkgLSBjeSkgLSBzaW5UeiAqIChheCAtIGN4KSksCiAgICAgICAgZHogPSBjb3NUeCAqIChjb3NUeSAqIChheiAtIGN6KSArIHNpblR5ICogKHNpblR6ICogKGF5IC0gY3kpICsgY29zVHogKiAoYXggLSBjeCkpKSAtIHNpblR4ICogKGNvc1R6ICogKGF5IC0gY3kpIC0gc2luVHogKiAoYXggLSBjeCkpOwoKICAgIHJldHVybiBuZXcgUG9pbnQzZChkeCwgZHksIGR6KTsKICB9OwoKICAvKioKICAgKiBDb252ZXJ0IGEgdHJhbnNsYXRpb24gcG9pbnQgdG8gYSBwb2ludCBvbiB0aGUgc2NyZWVuCiAgICogQHBhcmFtIHtQb2ludDNkfSB0cmFuc2xhdGlvbiAgIEEgM0QgcG9pbnQgd2l0aCBwYXJhbWV0ZXJzIHgsIHksIHogVGhpcyBpcwogICAqICAgICAgICAgICAgICAgICAgICB0aGUgdHJhbnNsYXRpb24gb2YgdGhlIHBvaW50LCBzZWVuIGZyb20gdGhlCiAgICogICAgICAgICAgICAgICAgICAgIGNhbWVyYQogICAqIEByZXR1cm4ge1BvaW50MmR9IHBvaW50MmQgICAgQSAyRCBwb2ludCB3aXRoIHBhcmFtZXRlcnMgeCwgeQogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9jb252ZXJ0VHJhbnNsYXRpb25Ub1NjcmVlbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbikgewogICAgdmFyIGV4ID0gdGhpcy5leWUueCwKICAgICAgICBleSA9IHRoaXMuZXllLnksCiAgICAgICAgZXogPSB0aGlzLmV5ZS56LAogICAgICAgIGR4ID0gdHJhbnNsYXRpb24ueCwKICAgICAgICBkeSA9IHRyYW5zbGF0aW9uLnksCiAgICAgICAgZHogPSB0cmFuc2xhdGlvbi56OwoKICAgIC8vIGNhbGN1bGF0ZSBwb3NpdGlvbiBvbiBzY3JlZW4gZnJvbSB0cmFuc2xhdGlvbgogICAgdmFyIGJ4OwogICAgdmFyIGJ5OwogICAgaWYgKHRoaXMuc2hvd1BlcnNwZWN0aXZlKSB7CiAgICAgIGJ4ID0gKGR4IC0gZXgpICogKGV6IC8gZHopOwogICAgICBieSA9IChkeSAtIGV5KSAqIChleiAvIGR6KTsKICAgIH0gZWxzZSB7CiAgICAgIGJ4ID0gZHggKiAtKGV6IC8gdGhpcy5jYW1lcmEuZ2V0QXJtTGVuZ3RoKCkpOwogICAgICBieSA9IGR5ICogLShleiAvIHRoaXMuY2FtZXJhLmdldEFybUxlbmd0aCgpKTsKICAgIH0KCiAgICAvLyBzaGlmdCBhbmQgc2NhbGUgdGhlIHBvaW50IHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlbgogICAgLy8gdXNlIHRoZSB3aWR0aCBvZiB0aGUgZ3JhcGggdG8gc2NhbGUgYm90aCBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHkuCiAgICByZXR1cm4gbmV3IFBvaW50MmQodGhpcy54Y2VudGVyICsgYnggKiB0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCwgdGhpcy55Y2VudGVyIC0gYnkgKiB0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCk7CiAgfTsKCiAgLyoqCiAgICogU2V0IHRoZSBiYWNrZ3JvdW5kIHN0eWxpbmcgZm9yIHRoZSBncmFwaAogICAqIEBwYXJhbSB7c3RyaW5nIHwge2ZpbGw6IHN0cmluZywgc3Ryb2tlOiBzdHJpbmcsIHN0cm9rZVdpZHRoOiBzdHJpbmd9fSBiYWNrZ3JvdW5kQ29sb3IKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5fc2V0QmFja2dyb3VuZENvbG9yID0gZnVuY3Rpb24gKGJhY2tncm91bmRDb2xvcikgewogICAgdmFyIGZpbGwgPSAnd2hpdGUnOwogICAgdmFyIHN0cm9rZSA9ICdncmF5JzsKICAgIHZhciBzdHJva2VXaWR0aCA9IDE7CgogICAgaWYgKHR5cGVvZiBiYWNrZ3JvdW5kQ29sb3IgPT09ICdzdHJpbmcnKSB7CiAgICAgIGZpbGwgPSBiYWNrZ3JvdW5kQ29sb3I7CiAgICAgIHN0cm9rZSA9ICdub25lJzsKICAgICAgc3Ryb2tlV2lkdGggPSAwOwogICAgfSBlbHNlIGlmICh0eXBlb2YgYmFja2dyb3VuZENvbG9yID09PSAnb2JqZWN0JykgewogICAgICBpZiAoYmFja2dyb3VuZENvbG9yLmZpbGwgIT09IHVuZGVmaW5lZCkgZmlsbCA9IGJhY2tncm91bmRDb2xvci5maWxsOwogICAgICBpZiAoYmFja2dyb3VuZENvbG9yLnN0cm9rZSAhPT0gdW5kZWZpbmVkKSBzdHJva2UgPSBiYWNrZ3JvdW5kQ29sb3Iuc3Ryb2tlOwogICAgICBpZiAoYmFja2dyb3VuZENvbG9yLnN0cm9rZVdpZHRoICE9PSB1bmRlZmluZWQpIHN0cm9rZVdpZHRoID0gYmFja2dyb3VuZENvbG9yLnN0cm9rZVdpZHRoOwogICAgfSBlbHNlIGlmIChiYWNrZ3JvdW5kQ29sb3IgPT09IHVuZGVmaW5lZCkge30gZWxzZSB7CiAgICAgIHRocm93ICdVbnN1cHBvcnRlZCB0eXBlIG9mIGJhY2tncm91bmRDb2xvcic7CiAgICB9CgogICAgdGhpcy5mcmFtZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBmaWxsOwogICAgdGhpcy5mcmFtZS5zdHlsZS5ib3JkZXJDb2xvciA9IHN0cm9rZTsKICAgIHRoaXMuZnJhbWUuc3R5bGUuYm9yZGVyV2lkdGggPSBzdHJva2VXaWR0aCArICdweCc7CiAgICB0aGlzLmZyYW1lLnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJzsKICB9OwoKICAvLy8gZW51bWVyYXRlIHRoZSBhdmFpbGFibGUgc3R5bGVzCiAgR3JhcGgzZC5TVFlMRSA9IHsKICAgIEJBUjogMCwKICAgIEJBUkNPTE9SOiAxLAogICAgQkFSU0laRTogMiwKICAgIERPVDogMywKICAgIERPVExJTkU6IDQsCiAgICBET1RDT0xPUjogNSwKICAgIERPVFNJWkU6IDYsCiAgICBHUklEOiA3LAogICAgTElORTogOCwKICAgIFNVUkZBQ0U6IDkKICB9OwoKICAvKioKICAgKiBSZXRyaWV2ZSB0aGUgc3R5bGUgaW5kZXggZnJvbSBnaXZlbiBzdHlsZU5hbWUKICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVOYW1lICBTdHlsZSBuYW1lIHN1Y2ggYXMgJ2RvdCcsICdncmlkJywgJ2RvdC1saW5lJwogICAqIEByZXR1cm4ge051bWJlcn0gc3R5bGVOdW1iZXIgRW51bWVyYXRpb24gdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSwgb3IgLTEKICAgKiAgICAgICAgICAgICAgICB3aGVuIG5vdCBmb3VuZAogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9nZXRTdHlsZU51bWJlciA9IGZ1bmN0aW9uIChzdHlsZU5hbWUpIHsKICAgIHN3aXRjaCAoc3R5bGVOYW1lKSB7CiAgICAgIGNhc2UgJ2RvdCc6CiAgICAgICAgcmV0dXJuIEdyYXBoM2QuU1RZTEUuRE9UOwogICAgICBjYXNlICdkb3QtbGluZSc6CiAgICAgICAgcmV0dXJuIEdyYXBoM2QuU1RZTEUuRE9UTElORTsKICAgICAgY2FzZSAnZG90LWNvbG9yJzoKICAgICAgICByZXR1cm4gR3JhcGgzZC5TVFlMRS5ET1RDT0xPUjsKICAgICAgY2FzZSAnZG90LXNpemUnOgogICAgICAgIHJldHVybiBHcmFwaDNkLlNUWUxFLkRPVFNJWkU7CiAgICAgIGNhc2UgJ2xpbmUnOgogICAgICAgIHJldHVybiBHcmFwaDNkLlNUWUxFLkxJTkU7CiAgICAgIGNhc2UgJ2dyaWQnOgogICAgICAgIHJldHVybiBHcmFwaDNkLlNUWUxFLkdSSUQ7CiAgICAgIGNhc2UgJ3N1cmZhY2UnOgogICAgICAgIHJldHVybiBHcmFwaDNkLlNUWUxFLlNVUkZBQ0U7CiAgICAgIGNhc2UgJ2Jhcic6CiAgICAgICAgcmV0dXJuIEdyYXBoM2QuU1RZTEUuQkFSOwogICAgICBjYXNlICdiYXItY29sb3InOgogICAgICAgIHJldHVybiBHcmFwaDNkLlNUWUxFLkJBUkNPTE9SOwogICAgICBjYXNlICdiYXItc2l6ZSc6CiAgICAgICAgcmV0dXJuIEdyYXBoM2QuU1RZTEUuQkFSU0laRTsKICAgIH0KCiAgICByZXR1cm4gLTE7CiAgfTsKCiAgLyoqCiAgICogRGV0ZXJtaW5lIHRoZSBpbmRleGVzIG9mIHRoZSBkYXRhIGNvbHVtbnMsIGJhc2VkIG9uIHRoZSBnaXZlbiBzdHlsZSBhbmQgZGF0YQogICAqIEBwYXJhbSB7RGF0YVNldH0gZGF0YQogICAqIEBwYXJhbSB7TnVtYmVyfSAgc3R5bGUKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5fZGV0ZXJtaW5lQ29sdW1uSW5kZXhlcyA9IGZ1bmN0aW9uIChkYXRhLCBzdHlsZSkgewogICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UIHx8IHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UTElORSB8fCB0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLkxJTkUgfHwgdGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5HUklEIHx8IHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuU1VSRkFDRSB8fCB0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLkJBUikgewogICAgICAvLyAzIGNvbHVtbnMgZXhwZWN0ZWQsIGFuZCBvcHRpb25hbGx5IGEgNHRoIHdpdGggZmlsdGVyIHZhbHVlcwogICAgICB0aGlzLmNvbFggPSAwOwogICAgICB0aGlzLmNvbFkgPSAxOwogICAgICB0aGlzLmNvbFogPSAyOwogICAgICB0aGlzLmNvbFZhbHVlID0gdW5kZWZpbmVkOwoKICAgICAgaWYgKGRhdGEuZ2V0TnVtYmVyT2ZDb2x1bW5zKCkgPiAzKSB7CiAgICAgICAgdGhpcy5jb2xGaWx0ZXIgPSAzOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UQ09MT1IgfHwgdGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5ET1RTSVpFIHx8IHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuQkFSQ09MT1IgfHwgdGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5CQVJTSVpFKSB7CiAgICAgIC8vIDQgY29sdW1ucyBleHBlY3RlZCwgYW5kIG9wdGlvbmFsbHkgYSA1dGggd2l0aCBmaWx0ZXIgdmFsdWVzCiAgICAgIHRoaXMuY29sWCA9IDA7CiAgICAgIHRoaXMuY29sWSA9IDE7CiAgICAgIHRoaXMuY29sWiA9IDI7CiAgICAgIHRoaXMuY29sVmFsdWUgPSAzOwoKICAgICAgaWYgKGRhdGEuZ2V0TnVtYmVyT2ZDb2x1bW5zKCkgPiA0KSB7CiAgICAgICAgdGhpcy5jb2xGaWx0ZXIgPSA0OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyAnVW5rbm93biBzdHlsZSAiJyArIHRoaXMuc3R5bGUgKyAnIic7CiAgICB9CiAgfTsKCiAgR3JhcGgzZC5wcm90b3R5cGUuZ2V0TnVtYmVyT2ZSb3dzID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgIHJldHVybiBkYXRhLmxlbmd0aDsKICB9OwoKICBHcmFwaDNkLnByb3RvdHlwZS5nZXROdW1iZXJPZkNvbHVtbnMgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgdmFyIGNvdW50ZXIgPSAwOwogICAgZm9yICh2YXIgY29sdW1uIGluIGRhdGFbMF0pIHsKICAgICAgaWYgKGRhdGFbMF0uaGFzT3duUHJvcGVydHkoY29sdW1uKSkgewogICAgICAgIGNvdW50ZXIrKzsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGNvdW50ZXI7CiAgfTsKCiAgR3JhcGgzZC5wcm90b3R5cGUuZ2V0RGlzdGluY3RWYWx1ZXMgPSBmdW5jdGlvbiAoZGF0YSwgY29sdW1uKSB7CiAgICB2YXIgZGlzdGluY3RWYWx1ZXMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBpZiAoZGlzdGluY3RWYWx1ZXMuaW5kZXhPZihkYXRhW2ldW2NvbHVtbl0pID09IC0xKSB7CiAgICAgICAgZGlzdGluY3RWYWx1ZXMucHVzaChkYXRhW2ldW2NvbHVtbl0pOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZGlzdGluY3RWYWx1ZXM7CiAgfTsKCiAgR3JhcGgzZC5wcm90b3R5cGUuZ2V0Q29sdW1uUmFuZ2UgPSBmdW5jdGlvbiAoZGF0YSwgY29sdW1uKSB7CiAgICB2YXIgbWluTWF4ID0geyBtaW46IGRhdGFbMF1bY29sdW1uXSwgbWF4OiBkYXRhWzBdW2NvbHVtbl0gfTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBpZiAobWluTWF4Lm1pbiA+IGRhdGFbaV1bY29sdW1uXSkgewogICAgICAgIG1pbk1heC5taW4gPSBkYXRhW2ldW2NvbHVtbl07CiAgICAgIH0KICAgICAgaWYgKG1pbk1heC5tYXggPCBkYXRhW2ldW2NvbHVtbl0pIHsKICAgICAgICBtaW5NYXgubWF4ID0gZGF0YVtpXVtjb2x1bW5dOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gbWluTWF4OwogIH07CgogIC8qKgogICAqIEluaXRpYWxpemUgdGhlIGRhdGEgZnJvbSB0aGUgZGF0YSB0YWJsZS4gQ2FsY3VsYXRlIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzCiAgICogYW5kIGNvbHVtbiBpbmRleCB2YWx1ZXMKICAgKiBAcGFyYW0ge0FycmF5IHwgRGF0YVNldCB8IERhdGFWaWV3fSByYXdEYXRhICAgVGhlIGRhdGEgY29udGFpbmluZyB0aGUgaXRlbXMgZm9yIHRoZSBHcmFwaC4KICAgKiBAcGFyYW0ge051bWJlcn0gICAgIHN0eWxlICAgU3R5bGUgTnVtYmVyCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX2RhdGFJbml0aWFsaXplID0gZnVuY3Rpb24gKHJhd0RhdGEsIHN0eWxlKSB7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gdGhlIGRhdGFUYWJsZQogICAgaWYgKHRoaXMuZGF0YVNldCkgewogICAgICB0aGlzLmRhdGFTZXQub2ZmKCcqJywgdGhpcy5fb25DaGFuZ2UpOwogICAgfQoKICAgIGlmIChyYXdEYXRhID09PSB1bmRlZmluZWQpIHJldHVybjsKCiAgICBpZiAoQXJyYXkuaXNBcnJheShyYXdEYXRhKSkgewogICAgICByYXdEYXRhID0gbmV3IERhdGFTZXQocmF3RGF0YSk7CiAgICB9CgogICAgdmFyIGRhdGE7CiAgICBpZiAocmF3RGF0YSBpbnN0YW5jZW9mIERhdGFTZXQgfHwgcmF3RGF0YSBpbnN0YW5jZW9mIERhdGFWaWV3KSB7CiAgICAgIGRhdGEgPSByYXdEYXRhLmdldCgpOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheSwgRGF0YVNldCwgb3IgRGF0YVZpZXcgZXhwZWN0ZWQnKTsKICAgIH0KCiAgICBpZiAoZGF0YS5sZW5ndGggPT0gMCkgcmV0dXJuOwoKICAgIHRoaXMuZGF0YVNldCA9IHJhd0RhdGE7CiAgICB0aGlzLmRhdGFUYWJsZSA9IGRhdGE7CgogICAgLy8gc3Vic2NyaWJlIHRvIGNoYW5nZXMgaW4gdGhlIGRhdGFzZXQKICAgIHRoaXMuX29uQ2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICBtZS5zZXREYXRhKG1lLmRhdGFTZXQpOwogICAgfTsKICAgIHRoaXMuZGF0YVNldC5vbignKicsIHRoaXMuX29uQ2hhbmdlKTsKCiAgICAvLyBfZGV0ZXJtaW5lQ29sdW1uSW5kZXhlcwogICAgLy8gZ2V0TnVtYmVyT2ZSb3dzIChwb2ludHMpCiAgICAvLyBnZXROdW1iZXJPZkNvbHVtbnMgKHgseSx6LHYsdCx0MSx0Mi4uLikKICAgIC8vIGdldERpc3RpbmN0VmFsdWVzICh1bmlxdWUgdmFsdWVzPykKICAgIC8vIGdldENvbHVtblJhbmdlCgogICAgLy8gZGV0ZXJtaW5lIHRoZSBsb2NhdGlvbiBvZiB4LHkseix2YWx1ZSxmaWx0ZXIgY29sdW1ucwogICAgdGhpcy5jb2xYID0gJ3gnOwogICAgdGhpcy5jb2xZID0gJ3knOwogICAgdGhpcy5jb2xaID0gJ3onOwogICAgdGhpcy5jb2xWYWx1ZSA9ICdzdHlsZSc7CiAgICB0aGlzLmNvbEZpbHRlciA9ICdmaWx0ZXInOwoKICAgIC8vIGNoZWNrIGlmIGEgZmlsdGVyIGNvbHVtbiBpcyBwcm92aWRlZAogICAgaWYgKGRhdGFbMF0uaGFzT3duUHJvcGVydHkoJ2ZpbHRlcicpKSB7CiAgICAgIGlmICh0aGlzLmRhdGFGaWx0ZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuZGF0YUZpbHRlciA9IG5ldyBGaWx0ZXIocmF3RGF0YSwgdGhpcy5jb2xGaWx0ZXIsIHRoaXMpOwogICAgICAgIHRoaXMuZGF0YUZpbHRlci5zZXRPbkxvYWRDYWxsYmFjayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBtZS5yZWRyYXcoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIHZhciB3aXRoQmFycyA9IHRoaXMuc3R5bGUgPT0gR3JhcGgzZC5TVFlMRS5CQVIgfHwgdGhpcy5zdHlsZSA9PSBHcmFwaDNkLlNUWUxFLkJBUkNPTE9SIHx8IHRoaXMuc3R5bGUgPT0gR3JhcGgzZC5TVFlMRS5CQVJTSVpFOwoKICAgIC8vIGRldGVybWluZSBiYXJXaWR0aCBmcm9tIGRhdGEKICAgIGlmICh3aXRoQmFycykgewogICAgICBpZiAodGhpcy5kZWZhdWx0WEJhcldpZHRoICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLnhCYXJXaWR0aCA9IHRoaXMuZGVmYXVsdFhCYXJXaWR0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZGF0YVggPSB0aGlzLmdldERpc3RpbmN0VmFsdWVzKGRhdGEsIHRoaXMuY29sWCk7CiAgICAgICAgdGhpcy54QmFyV2lkdGggPSBkYXRhWFsxXSAtIGRhdGFYWzBdIHx8IDE7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRlZmF1bHRZQmFyV2lkdGggIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMueUJhcldpZHRoID0gdGhpcy5kZWZhdWx0WUJhcldpZHRoOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBkYXRhWSA9IHRoaXMuZ2V0RGlzdGluY3RWYWx1ZXMoZGF0YSwgdGhpcy5jb2xZKTsKICAgICAgICB0aGlzLnlCYXJXaWR0aCA9IGRhdGFZWzFdIC0gZGF0YVlbMF0gfHwgMTsKICAgICAgfQogICAgfQoKICAgIC8vIGNhbGN1bGF0ZSBtaW5pbXVtcyBhbmQgbWF4aW11bXMKICAgIHZhciB4UmFuZ2UgPSB0aGlzLmdldENvbHVtblJhbmdlKGRhdGEsIHRoaXMuY29sWCk7CiAgICBpZiAod2l0aEJhcnMpIHsKICAgICAgeFJhbmdlLm1pbiAtPSB0aGlzLnhCYXJXaWR0aCAvIDI7CiAgICAgIHhSYW5nZS5tYXggKz0gdGhpcy54QmFyV2lkdGggLyAyOwogICAgfQogICAgdGhpcy54TWluID0gdGhpcy5kZWZhdWx0WE1pbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5kZWZhdWx0WE1pbiA6IHhSYW5nZS5taW47CiAgICB0aGlzLnhNYXggPSB0aGlzLmRlZmF1bHRYTWF4ICE9PSB1bmRlZmluZWQgPyB0aGlzLmRlZmF1bHRYTWF4IDogeFJhbmdlLm1heDsKICAgIGlmICh0aGlzLnhNYXggPD0gdGhpcy54TWluKSB0aGlzLnhNYXggPSB0aGlzLnhNaW4gKyAxOwogICAgdGhpcy54U3RlcCA9IHRoaXMuZGVmYXVsdFhTdGVwICE9PSB1bmRlZmluZWQgPyB0aGlzLmRlZmF1bHRYU3RlcCA6ICh0aGlzLnhNYXggLSB0aGlzLnhNaW4pIC8gNTsKCiAgICB2YXIgeVJhbmdlID0gdGhpcy5nZXRDb2x1bW5SYW5nZShkYXRhLCB0aGlzLmNvbFkpOwogICAgaWYgKHdpdGhCYXJzKSB7CiAgICAgIHlSYW5nZS5taW4gLT0gdGhpcy55QmFyV2lkdGggLyAyOwogICAgICB5UmFuZ2UubWF4ICs9IHRoaXMueUJhcldpZHRoIC8gMjsKICAgIH0KICAgIHRoaXMueU1pbiA9IHRoaXMuZGVmYXVsdFlNaW4gIT09IHVuZGVmaW5lZCA/IHRoaXMuZGVmYXVsdFlNaW4gOiB5UmFuZ2UubWluOwogICAgdGhpcy55TWF4ID0gdGhpcy5kZWZhdWx0WU1heCAhPT0gdW5kZWZpbmVkID8gdGhpcy5kZWZhdWx0WU1heCA6IHlSYW5nZS5tYXg7CiAgICBpZiAodGhpcy55TWF4IDw9IHRoaXMueU1pbikgdGhpcy55TWF4ID0gdGhpcy55TWluICsgMTsKICAgIHRoaXMueVN0ZXAgPSB0aGlzLmRlZmF1bHRZU3RlcCAhPT0gdW5kZWZpbmVkID8gdGhpcy5kZWZhdWx0WVN0ZXAgOiAodGhpcy55TWF4IC0gdGhpcy55TWluKSAvIDU7CgogICAgdmFyIHpSYW5nZSA9IHRoaXMuZ2V0Q29sdW1uUmFuZ2UoZGF0YSwgdGhpcy5jb2xaKTsKICAgIHRoaXMuek1pbiA9IHRoaXMuZGVmYXVsdFpNaW4gIT09IHVuZGVmaW5lZCA/IHRoaXMuZGVmYXVsdFpNaW4gOiB6UmFuZ2UubWluOwogICAgdGhpcy56TWF4ID0gdGhpcy5kZWZhdWx0Wk1heCAhPT0gdW5kZWZpbmVkID8gdGhpcy5kZWZhdWx0Wk1heCA6IHpSYW5nZS5tYXg7CiAgICBpZiAodGhpcy56TWF4IDw9IHRoaXMuek1pbikgdGhpcy56TWF4ID0gdGhpcy56TWluICsgMTsKICAgIHRoaXMuelN0ZXAgPSB0aGlzLmRlZmF1bHRaU3RlcCAhPT0gdW5kZWZpbmVkID8gdGhpcy5kZWZhdWx0WlN0ZXAgOiAodGhpcy56TWF4IC0gdGhpcy56TWluKSAvIDU7CgogICAgaWYgKHRoaXMuY29sVmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdmFsdWVSYW5nZSA9IHRoaXMuZ2V0Q29sdW1uUmFuZ2UoZGF0YSwgdGhpcy5jb2xWYWx1ZSk7CiAgICAgIHRoaXMudmFsdWVNaW4gPSB0aGlzLmRlZmF1bHRWYWx1ZU1pbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5kZWZhdWx0VmFsdWVNaW4gOiB2YWx1ZVJhbmdlLm1pbjsKICAgICAgdGhpcy52YWx1ZU1heCA9IHRoaXMuZGVmYXVsdFZhbHVlTWF4ICE9PSB1bmRlZmluZWQgPyB0aGlzLmRlZmF1bHRWYWx1ZU1heCA6IHZhbHVlUmFuZ2UubWF4OwogICAgICBpZiAodGhpcy52YWx1ZU1heCA8PSB0aGlzLnZhbHVlTWluKSB0aGlzLnZhbHVlTWF4ID0gdGhpcy52YWx1ZU1pbiArIDE7CiAgICB9CgogICAgLy8gc2V0IHRoZSBzY2FsZSBkZXBlbmRlbnQgb24gdGhlIHJhbmdlcy4KICAgIHRoaXMuX3NldFNjYWxlKCk7CiAgfTsKCiAgLyoqCiAgICogRmlsdGVyIHRoZSBkYXRhIGJhc2VkIG9uIHRoZSBjdXJyZW50IGZpbHRlcgogICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEKICAgKiBAcmV0dXJuIHtBcnJheX0gZGF0YVBvaW50cyAgIEFycmF5IHdpdGggcG9pbnQgb2JqZWN0cyB3aGljaCBjYW4gYmUgZHJhd24gb24gc2NyZWVuCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX2dldERhdGFQb2ludHMgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgLy8gVE9ETzogc3RvcmUgdGhlIGNyZWF0ZWQgbWF0cml4IGRhdGFQb2ludHMgaW4gdGhlIGZpbHRlcnMgaW5zdGVhZCBvZiByZWxvYWRpbmcgZWFjaCB0aW1lCiAgICB2YXIgeCwgeSwgaSwgeiwgb2JqLCBwb2ludDsKCiAgICB2YXIgZGF0YVBvaW50cyA9IFtdOwoKICAgIGlmICh0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLkdSSUQgfHwgdGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5TVVJGQUNFKSB7CiAgICAgIC8vIGNvcHkgYWxsIHZhbHVlcyBmcm9tIHRoZSBnb29nbGUgZGF0YSB0YWJsZSB0byBhIG1hdHJpeAogICAgICAvLyB0aGUgcHJvdmlkZWQgdmFsdWVzIGFyZSBzdXBwb3NlZCB0byBmb3JtIGEgZ3JpZCBvZiAoeCx5KSBwb3NpdGlvbnMKCiAgICAgIC8vIGNyZWF0ZSB0d28gbGlzdHMgd2l0aCBhbGwgcHJlc2VudCB4IGFuZCB5IHZhbHVlcwogICAgICB2YXIgZGF0YVggPSBbXTsKICAgICAgdmFyIGRhdGFZID0gW107CiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmdldE51bWJlck9mUm93cyhkYXRhKTsgaSsrKSB7CiAgICAgICAgeCA9IGRhdGFbaV1bdGhpcy5jb2xYXSB8fCAwOwogICAgICAgIHkgPSBkYXRhW2ldW3RoaXMuY29sWV0gfHwgMDsKCiAgICAgICAgaWYgKGRhdGFYLmluZGV4T2YoeCkgPT09IC0xKSB7CiAgICAgICAgICBkYXRhWC5wdXNoKHgpOwogICAgICAgIH0KICAgICAgICBpZiAoZGF0YVkuaW5kZXhPZih5KSA9PT0gLTEpIHsKICAgICAgICAgIGRhdGFZLnB1c2goeSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgc29ydE51bWJlciA9IGZ1bmN0aW9uIHNvcnROdW1iZXIoYSwgYikgewogICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgfTsKICAgICAgZGF0YVguc29ydChzb3J0TnVtYmVyKTsKICAgICAgZGF0YVkuc29ydChzb3J0TnVtYmVyKTsKCiAgICAgIC8vIGNyZWF0ZSBhIGdyaWQsIGEgMmQgbWF0cml4LCB3aXRoIGFsbCB2YWx1ZXMuCiAgICAgIHZhciBkYXRhTWF0cml4ID0gW107IC8vIHRlbXBvcmFyeSBkYXRhIG1hdHJpeAogICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIHggPSBkYXRhW2ldW3RoaXMuY29sWF0gfHwgMDsKICAgICAgICB5ID0gZGF0YVtpXVt0aGlzLmNvbFldIHx8IDA7CiAgICAgICAgeiA9IGRhdGFbaV1bdGhpcy5jb2xaXSB8fCAwOwoKICAgICAgICB2YXIgeEluZGV4ID0gZGF0YVguaW5kZXhPZih4KTsgLy8gVE9ETzogaW1wbGVtZW50IEFycmF5KCkuaW5kZXhPZigpIGZvciBJbnRlcm5ldCBFeHBsb3JlcgogICAgICAgIHZhciB5SW5kZXggPSBkYXRhWS5pbmRleE9mKHkpOwoKICAgICAgICBpZiAoZGF0YU1hdHJpeFt4SW5kZXhdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGRhdGFNYXRyaXhbeEluZGV4XSA9IFtdOwogICAgICAgIH0KCiAgICAgICAgdmFyIHBvaW50M2QgPSBuZXcgUG9pbnQzZCgpOwogICAgICAgIHBvaW50M2QueCA9IHg7CiAgICAgICAgcG9pbnQzZC55ID0geTsKICAgICAgICBwb2ludDNkLnogPSB6OwoKICAgICAgICBvYmogPSB7fTsKICAgICAgICBvYmoucG9pbnQgPSBwb2ludDNkOwogICAgICAgIG9iai50cmFucyA9IHVuZGVmaW5lZDsKICAgICAgICBvYmouc2NyZWVuID0gdW5kZWZpbmVkOwogICAgICAgIG9iai5ib3R0b20gPSBuZXcgUG9pbnQzZCh4LCB5LCB0aGlzLnpNaW4pOwoKICAgICAgICBkYXRhTWF0cml4W3hJbmRleF1beUluZGV4XSA9IG9iajsKCiAgICAgICAgZGF0YVBvaW50cy5wdXNoKG9iaik7CiAgICAgIH0KCiAgICAgIC8vIGZpbGwgaW4gdGhlIHBvaW50ZXJzIHRvIHRoZSBuZWlnaGJvcnMuCiAgICAgIGZvciAoeCA9IDA7IHggPCBkYXRhTWF0cml4Lmxlbmd0aDsgeCsrKSB7CiAgICAgICAgZm9yICh5ID0gMDsgeSA8IGRhdGFNYXRyaXhbeF0ubGVuZ3RoOyB5KyspIHsKICAgICAgICAgIGlmIChkYXRhTWF0cml4W3hdW3ldKSB7CiAgICAgICAgICAgIGRhdGFNYXRyaXhbeF1beV0ucG9pbnRSaWdodCA9IHggPCBkYXRhTWF0cml4Lmxlbmd0aCAtIDEgPyBkYXRhTWF0cml4W3ggKyAxXVt5XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgZGF0YU1hdHJpeFt4XVt5XS5wb2ludFRvcCA9IHkgPCBkYXRhTWF0cml4W3hdLmxlbmd0aCAtIDEgPyBkYXRhTWF0cml4W3hdW3kgKyAxXSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgZGF0YU1hdHJpeFt4XVt5XS5wb2ludENyb3NzID0geCA8IGRhdGFNYXRyaXgubGVuZ3RoIC0gMSAmJiB5IDwgZGF0YU1hdHJpeFt4XS5sZW5ndGggLSAxID8gZGF0YU1hdHJpeFt4ICsgMV1beSArIDFdIDogdW5kZWZpbmVkOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8gJ2RvdCcsICdkb3QtbGluZScsIGV0Yy4KICAgICAgLy8gY29weSBhbGwgdmFsdWVzIGZyb20gdGhlIGdvb2dsZSBkYXRhIHRhYmxlIHRvIGEgbGlzdCB3aXRoIFBvaW50M2Qgb2JqZWN0cwogICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIHBvaW50ID0gbmV3IFBvaW50M2QoKTsKICAgICAgICBwb2ludC54ID0gZGF0YVtpXVt0aGlzLmNvbFhdIHx8IDA7CiAgICAgICAgcG9pbnQueSA9IGRhdGFbaV1bdGhpcy5jb2xZXSB8fCAwOwogICAgICAgIHBvaW50LnogPSBkYXRhW2ldW3RoaXMuY29sWl0gfHwgMDsKCiAgICAgICAgaWYgKHRoaXMuY29sVmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcG9pbnQudmFsdWUgPSBkYXRhW2ldW3RoaXMuY29sVmFsdWVdIHx8IDA7CiAgICAgICAgfQoKICAgICAgICBvYmogPSB7fTsKICAgICAgICBvYmoucG9pbnQgPSBwb2ludDsKICAgICAgICBvYmouYm90dG9tID0gbmV3IFBvaW50M2QocG9pbnQueCwgcG9pbnQueSwgdGhpcy56TWluKTsKICAgICAgICBvYmoudHJhbnMgPSB1bmRlZmluZWQ7CiAgICAgICAgb2JqLnNjcmVlbiA9IHVuZGVmaW5lZDsKCiAgICAgICAgZGF0YVBvaW50cy5wdXNoKG9iaik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YVBvaW50czsKICB9OwoKICAvKioKICAgKiBDcmVhdGUgdGhlIG1haW4gZnJhbWUgZm9yIHRoZSBHcmFwaDNkLgogICAqIFRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgb25jZSB3aGVuIGEgR3JhcGgzZCBvYmplY3QgaXMgY3JlYXRlZC4gVGhlIGZyYW1lCiAgICogY29udGFpbnMgYSBjYW52YXMsIGFuZCB0aGlzIGNhbnZhcyBjb250YWlucyBhbGwgb2JqZWN0cyBsaWtlIHRoZSBheGlzIGFuZAogICAqIG5vZGVzLgogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIHJlbW92ZSBhbGwgZWxlbWVudHMgZnJvbSB0aGUgY29udGFpbmVyIGVsZW1lbnQuCiAgICB3aGlsZSAodGhpcy5jb250YWluZXJFbGVtZW50Lmhhc0NoaWxkTm9kZXMoKSkgewogICAgICB0aGlzLmNvbnRhaW5lckVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXJFbGVtZW50LmZpcnN0Q2hpbGQpOwogICAgfQoKICAgIHRoaXMuZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHRoaXMuZnJhbWUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOwogICAgdGhpcy5mcmFtZS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwoKICAgIC8vIGNyZWF0ZSB0aGUgZ3JhcGggY2FudmFzIChIVE1MIGNhbnZhcyBlbGVtZW50KQogICAgdGhpcy5mcmFtZS5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgIHRoaXMuZnJhbWUuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgIHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZS5jYW52YXMpOwogICAgLy9pZiAoIXRoaXMuZnJhbWUuY2FudmFzLmdldENvbnRleHQpIHsKICAgIHsKICAgICAgdmFyIG5vQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7CiAgICAgIG5vQ2FudmFzLnN0eWxlLmNvbG9yID0gJ3JlZCc7CiAgICAgIG5vQ2FudmFzLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7CiAgICAgIG5vQ2FudmFzLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7CiAgICAgIG5vQ2FudmFzLmlubmVySFRNTCA9ICdFcnJvcjogeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgSFRNTCBjYW52YXMnOwogICAgICB0aGlzLmZyYW1lLmNhbnZhcy5hcHBlbmRDaGlsZChub0NhbnZhcyk7CiAgICB9CgogICAgdGhpcy5mcmFtZS5maWx0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHRoaXMuZnJhbWUuZmlsdGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgIHRoaXMuZnJhbWUuZmlsdGVyLnN0eWxlLmJvdHRvbSA9ICcwcHgnOwogICAgdGhpcy5mcmFtZS5maWx0ZXIuc3R5bGUubGVmdCA9ICcwcHgnOwogICAgdGhpcy5mcmFtZS5maWx0ZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUuZmlsdGVyKTsKCiAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzIHRvIGhhbmRsZSBtb3ZpbmcgYW5kIHpvb21pbmcgdGhlIGNvbnRlbnRzCiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIG9ubW91c2Vkb3duID0gZnVuY3Rpb24gb25tb3VzZWRvd24oZXZlbnQpIHsKICAgICAgbWUuX29uTW91c2VEb3duKGV2ZW50KTsKICAgIH07CiAgICB2YXIgb250b3VjaHN0YXJ0ID0gZnVuY3Rpb24gb250b3VjaHN0YXJ0KGV2ZW50KSB7CiAgICAgIG1lLl9vblRvdWNoU3RhcnQoZXZlbnQpOwogICAgfTsKICAgIHZhciBvbm1vdXNld2hlZWwgPSBmdW5jdGlvbiBvbm1vdXNld2hlZWwoZXZlbnQpIHsKICAgICAgbWUuX29uV2hlZWwoZXZlbnQpOwogICAgfTsKICAgIHZhciBvbnRvb2x0aXAgPSBmdW5jdGlvbiBvbnRvb2x0aXAoZXZlbnQpIHsKICAgICAgbWUuX29uVG9vbHRpcChldmVudCk7CiAgICB9OwogICAgLy8gVE9ETzogdGhlc2UgZXZlbnRzIGFyZSBuZXZlciBjbGVhbmVkIHVwLi4uIGNhbiBnaXZlIGEgJ21lbW9yeSBsZWFrYWdlJwoKICAgIHV0aWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmZyYW1lLmNhbnZhcywgJ2tleWRvd24nLCBvbmtleWRvd24pOwogICAgdXRpbC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZnJhbWUuY2FudmFzLCAnbW91c2Vkb3duJywgb25tb3VzZWRvd24pOwogICAgdXRpbC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZnJhbWUuY2FudmFzLCAndG91Y2hzdGFydCcsIG9udG91Y2hzdGFydCk7CiAgICB1dGlsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5mcmFtZS5jYW52YXMsICdtb3VzZXdoZWVsJywgb25tb3VzZXdoZWVsKTsKICAgIHV0aWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmZyYW1lLmNhbnZhcywgJ21vdXNlbW92ZScsIG9udG9vbHRpcCk7CgogICAgLy8gYWRkIHRoZSBuZXcgZ3JhcGggdG8gdGhlIGNvbnRhaW5lciBlbGVtZW50CiAgICB0aGlzLmNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSk7CiAgfTsKCiAgLyoqCiAgICogU2V0IGEgbmV3IHNpemUgZm9yIHRoZSBncmFwaAogICAqIEBwYXJhbSB7c3RyaW5nfSB3aWR0aCAgIFdpZHRoIGluIHBpeGVscyBvciBwZXJjZW50YWdlIChmb3IgZXhhbXBsZSAnODAwcHgnCiAgICogICAgICAgICAgICAgb3IgJzUwJScpCiAgICogQHBhcmFtIHtzdHJpbmd9IGhlaWdodCAgSGVpZ2h0IGluIHBpeGVscyBvciBwZXJjZW50YWdlICAoZm9yIGV4YW1wbGUgJzQwMHB4JwogICAqICAgICAgICAgICAgIG9yICczMCUnKQogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkgewogICAgdGhpcy5mcmFtZS5zdHlsZS53aWR0aCA9IHdpZHRoOwogICAgdGhpcy5mcmFtZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7CgogICAgdGhpcy5fcmVzaXplQ2FudmFzKCk7CiAgfTsKCiAgLyoqCiAgICogUmVzaXplIHRoZSBjYW52YXMgdG8gdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgZnJhbWUKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5fcmVzaXplQ2FudmFzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5mcmFtZS5jYW52YXMuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICB0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7CgogICAgdGhpcy5mcmFtZS5jYW52YXMud2lkdGggPSB0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aDsKICAgIHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodCA9IHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodDsKCiAgICAvLyBhZGp1c3Qgd2l0aCBmb3IgbWFyZ2luCiAgICB0aGlzLmZyYW1lLmZpbHRlci5zdHlsZS53aWR0aCA9IHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoIC0gMiAqIDEwICsgJ3B4JzsKICB9OwoKICAvKioKICAgKiBTdGFydCBhbmltYXRpb24KICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5hbmltYXRpb25TdGFydCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5mcmFtZS5maWx0ZXIgfHwgIXRoaXMuZnJhbWUuZmlsdGVyLnNsaWRlcikgdGhyb3cgJ05vIGFuaW1hdGlvbiBhdmFpbGFibGUnOwoKICAgIHRoaXMuZnJhbWUuZmlsdGVyLnNsaWRlci5wbGF5KCk7CiAgfTsKCiAgLyoqCiAgICogU3RvcCBhbmltYXRpb24KICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5hbmltYXRpb25TdG9wID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLmZyYW1lLmZpbHRlciB8fCAhdGhpcy5mcmFtZS5maWx0ZXIuc2xpZGVyKSByZXR1cm47CgogICAgdGhpcy5mcmFtZS5maWx0ZXIuc2xpZGVyLnN0b3AoKTsKICB9OwoKICAvKioKICAgKiBSZXNpemUgdGhlIGNlbnRlciBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgY3VycmVudCB2YWx1ZXMgaW4gdGhpcy5kZWZhdWx0WENlbnRlcgogICAqIGFuZCB0aGlzLmRlZmF1bHRZQ2VudGVyICh3aGljaCBhcmUgc3RyaW5ncyB3aXRoIGEgcGVyY2VudGFnZSBvciBhIHZhbHVlCiAgICogaW4gcGl4ZWxzKS4gVGhlIGNlbnRlciBwb3NpdGlvbnMgYXJlIHRoZSB2YXJpYWJsZXMgdGhpcy54Q2VudGVyCiAgICogYW5kIHRoaXMueUNlbnRlcgogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9yZXNpemVDZW50ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyBjYWxjdWxhdGUgdGhlIGhvcml6b250YWwgY2VudGVyIHBvc2l0aW9uCiAgICBpZiAodGhpcy5kZWZhdWx0WENlbnRlci5jaGFyQXQodGhpcy5kZWZhdWx0WENlbnRlci5sZW5ndGggLSAxKSA9PT0gJyUnKSB7CiAgICAgIHRoaXMueGNlbnRlciA9IHBhcnNlRmxvYXQodGhpcy5kZWZhdWx0WENlbnRlcikgLyAxMDAgKiB0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMueGNlbnRlciA9IHBhcnNlRmxvYXQodGhpcy5kZWZhdWx0WENlbnRlcik7IC8vIHN1cHBvc2VkIHRvIGJlIGluIHB4CiAgICB9CgogICAgLy8gY2FsY3VsYXRlIHRoZSB2ZXJ0aWNhbCBjZW50ZXIgcG9zaXRpb24KICAgIGlmICh0aGlzLmRlZmF1bHRZQ2VudGVyLmNoYXJBdCh0aGlzLmRlZmF1bHRZQ2VudGVyLmxlbmd0aCAtIDEpID09PSAnJScpIHsKICAgICAgdGhpcy55Y2VudGVyID0gcGFyc2VGbG9hdCh0aGlzLmRlZmF1bHRZQ2VudGVyKSAvIDEwMCAqICh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQgLSB0aGlzLmZyYW1lLmZpbHRlci5jbGllbnRIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy55Y2VudGVyID0gcGFyc2VGbG9hdCh0aGlzLmRlZmF1bHRZQ2VudGVyKTsgLy8gc3VwcG9zZWQgdG8gYmUgaW4gcHgKICAgIH0KICB9OwoKICAvKioKICAgKiBTZXQgdGhlIHJvdGF0aW9uIGFuZCBkaXN0YW5jZSBvZiB0aGUgY2FtZXJhCiAgICogQHBhcmFtIHtPYmplY3R9IHBvcyAgIEFuIG9iamVjdCB3aXRoIHRoZSBjYW1lcmEgcG9zaXRpb24uIFRoZSBvYmplY3QKICAgKiAgICAgICAgICAgICBjb250YWlucyB0aHJlZSBwYXJhbWV0ZXJzOgogICAqICAgICAgICAgICAgIC0gaG9yaXpvbnRhbCB7TnVtYmVyfQogICAqICAgICAgICAgICAgIFRoZSBob3Jpem9udGFsIHJvdGF0aW9uLCBiZXR3ZWVuIDAgYW5kIDIqUEkuCiAgICogICAgICAgICAgICAgT3B0aW9uYWwsIGNhbiBiZSBsZWZ0IHVuZGVmaW5lZC4KICAgKiAgICAgICAgICAgICAtIHZlcnRpY2FsIHtOdW1iZXJ9CiAgICogICAgICAgICAgICAgVGhlIHZlcnRpY2FsIHJvdGF0aW9uLCBiZXR3ZWVuIDAgYW5kIDAuNSpQSQogICAqICAgICAgICAgICAgIGlmIHZlcnRpY2FsPTAuNSpQSSwgdGhlIGdyYXBoIGlzIHNob3duIGZyb20gdGhlCiAgICogICAgICAgICAgICAgdG9wLiBPcHRpb25hbCwgY2FuIGJlIGxlZnQgdW5kZWZpbmVkLgogICAqICAgICAgICAgICAgIC0gZGlzdGFuY2Uge051bWJlcn0KICAgKiAgICAgICAgICAgICBUaGUgKG5vcm1hbGl6ZWQpIGRpc3RhbmNlIG9mIHRoZSBjYW1lcmEgdG8gdGhlCiAgICogICAgICAgICAgICAgY2VudGVyIG9mIHRoZSBncmFwaCwgYSB2YWx1ZSBiZXR3ZWVuIDAuNzEgYW5kIDUuMC4KICAgKiAgICAgICAgICAgICBPcHRpb25hbCwgY2FuIGJlIGxlZnQgdW5kZWZpbmVkLgogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLnNldENhbWVyYVBvc2l0aW9uID0gZnVuY3Rpb24gKHBvcykgewogICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAocG9zLmhvcml6b250YWwgIT09IHVuZGVmaW5lZCAmJiBwb3MudmVydGljYWwgIT09IHVuZGVmaW5lZCkgewogICAgICB0aGlzLmNhbWVyYS5zZXRBcm1Sb3RhdGlvbihwb3MuaG9yaXpvbnRhbCwgcG9zLnZlcnRpY2FsKTsKICAgIH0KCiAgICBpZiAocG9zLmRpc3RhbmNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5jYW1lcmEuc2V0QXJtTGVuZ3RoKHBvcy5kaXN0YW5jZSk7CiAgICB9CgogICAgdGhpcy5yZWRyYXcoKTsKICB9OwoKICAvKioKICAgKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBjYW1lcmEgcm90YXRpb24KICAgKiBAcmV0dXJuIHtvYmplY3R9ICAgQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVycyBob3Jpem9udGFsLCB2ZXJ0aWNhbCwgYW5kCiAgICogICAgICAgICAgZGlzdGFuY2UKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5nZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBwb3MgPSB0aGlzLmNhbWVyYS5nZXRBcm1Sb3RhdGlvbigpOwogICAgcG9zLmRpc3RhbmNlID0gdGhpcy5jYW1lcmEuZ2V0QXJtTGVuZ3RoKCk7CiAgICByZXR1cm4gcG9zOwogIH07CgogIC8qKgogICAqIExvYWQgZGF0YSBpbnRvIHRoZSAzRCBHcmFwaAogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9yZWFkRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAvLyByZWFkIHRoZSBkYXRhCiAgICB0aGlzLl9kYXRhSW5pdGlhbGl6ZShkYXRhLCB0aGlzLnN0eWxlKTsKCiAgICBpZiAodGhpcy5kYXRhRmlsdGVyKSB7CiAgICAgIC8vIGFwcGx5IGZpbHRlcmluZwogICAgICB0aGlzLmRhdGFQb2ludHMgPSB0aGlzLmRhdGFGaWx0ZXIuX2dldERhdGFQb2ludHMoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIG5vIGZpbHRlcmluZy4gbG9hZCBhbGwgZGF0YQogICAgICB0aGlzLmRhdGFQb2ludHMgPSB0aGlzLl9nZXREYXRhUG9pbnRzKHRoaXMuZGF0YVRhYmxlKTsKICAgIH0KCiAgICAvLyBkcmF3IHRoZSBmaWx0ZXIKICAgIHRoaXMuX3JlZHJhd0ZpbHRlcigpOwogIH07CgogIC8qKgogICAqIFJlcGxhY2UgdGhlIGRhdGFzZXQgb2YgdGhlIEdyYXBoM2QKICAgKiBAcGFyYW0ge0FycmF5IHwgRGF0YVNldCB8IERhdGFWaWV3fSBkYXRhCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICB0aGlzLl9yZWFkRGF0YShkYXRhKTsKICAgIHRoaXMucmVkcmF3KCk7CgogICAgLy8gc3RhcnQgYW5pbWF0aW9uIHdoZW4gb3B0aW9uIGlzIHRydWUKICAgIGlmICh0aGlzLmFuaW1hdGlvbkF1dG9TdGFydCAmJiB0aGlzLmRhdGFGaWx0ZXIpIHsKICAgICAgdGhpcy5hbmltYXRpb25TdGFydCgpOwogICAgfQogIH07CgogIC8qKgogICAqIFVwZGF0ZSB0aGUgb3B0aW9ucy4gT3B0aW9ucyB3aWxsIGJlIG1lcmdlZCB3aXRoIGN1cnJlbnQgb3B0aW9ucwogICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICB2YXIgY2FtZXJhUG9zaXRpb24gPSB1bmRlZmluZWQ7CgogICAgdGhpcy5hbmltYXRpb25TdG9wKCk7CgogICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewogICAgICAvLyByZXRyaWV2ZSBwYXJhbWV0ZXIgdmFsdWVzCiAgICAgIGlmIChvcHRpb25zLndpZHRoICE9PSB1bmRlZmluZWQpIHRoaXMud2lkdGggPSBvcHRpb25zLndpZHRoOwogICAgICBpZiAob3B0aW9ucy5oZWlnaHQgIT09IHVuZGVmaW5lZCkgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodDsKCiAgICAgIGlmIChvcHRpb25zLnhDZW50ZXIgIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0WENlbnRlciA9IG9wdGlvbnMueENlbnRlcjsKICAgICAgaWYgKG9wdGlvbnMueUNlbnRlciAhPT0gdW5kZWZpbmVkKSB0aGlzLmRlZmF1bHRZQ2VudGVyID0gb3B0aW9ucy55Q2VudGVyOwoKICAgICAgaWYgKG9wdGlvbnMuZmlsdGVyTGFiZWwgIT09IHVuZGVmaW5lZCkgdGhpcy5maWx0ZXJMYWJlbCA9IG9wdGlvbnMuZmlsdGVyTGFiZWw7CiAgICAgIGlmIChvcHRpb25zLmxlZ2VuZExhYmVsICE9PSB1bmRlZmluZWQpIHRoaXMubGVnZW5kTGFiZWwgPSBvcHRpb25zLmxlZ2VuZExhYmVsOwogICAgICBpZiAob3B0aW9ucy54TGFiZWwgIT09IHVuZGVmaW5lZCkgdGhpcy54TGFiZWwgPSBvcHRpb25zLnhMYWJlbDsKICAgICAgaWYgKG9wdGlvbnMueUxhYmVsICE9PSB1bmRlZmluZWQpIHRoaXMueUxhYmVsID0gb3B0aW9ucy55TGFiZWw7CiAgICAgIGlmIChvcHRpb25zLnpMYWJlbCAhPT0gdW5kZWZpbmVkKSB0aGlzLnpMYWJlbCA9IG9wdGlvbnMuekxhYmVsOwoKICAgICAgaWYgKG9wdGlvbnMueFZhbHVlTGFiZWwgIT09IHVuZGVmaW5lZCkgdGhpcy54VmFsdWVMYWJlbCA9IG9wdGlvbnMueFZhbHVlTGFiZWw7CiAgICAgIGlmIChvcHRpb25zLnlWYWx1ZUxhYmVsICE9PSB1bmRlZmluZWQpIHRoaXMueVZhbHVlTGFiZWwgPSBvcHRpb25zLnlWYWx1ZUxhYmVsOwogICAgICBpZiAob3B0aW9ucy56VmFsdWVMYWJlbCAhPT0gdW5kZWZpbmVkKSB0aGlzLnpWYWx1ZUxhYmVsID0gb3B0aW9ucy56VmFsdWVMYWJlbDsKCiAgICAgIGlmIChvcHRpb25zLnN0eWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB2YXIgc3R5bGVOdW1iZXIgPSB0aGlzLl9nZXRTdHlsZU51bWJlcihvcHRpb25zLnN0eWxlKTsKICAgICAgICBpZiAoc3R5bGVOdW1iZXIgIT09IC0xKSB7CiAgICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGVOdW1iZXI7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChvcHRpb25zLnNob3dHcmlkICE9PSB1bmRlZmluZWQpIHRoaXMuc2hvd0dyaWQgPSBvcHRpb25zLnNob3dHcmlkOwogICAgICBpZiAob3B0aW9ucy5zaG93UGVyc3BlY3RpdmUgIT09IHVuZGVmaW5lZCkgdGhpcy5zaG93UGVyc3BlY3RpdmUgPSBvcHRpb25zLnNob3dQZXJzcGVjdGl2ZTsKICAgICAgaWYgKG9wdGlvbnMuc2hvd1NoYWRvdyAhPT0gdW5kZWZpbmVkKSB0aGlzLnNob3dTaGFkb3cgPSBvcHRpb25zLnNob3dTaGFkb3c7CiAgICAgIGlmIChvcHRpb25zLnRvb2x0aXAgIT09IHVuZGVmaW5lZCkgdGhpcy5zaG93VG9vbHRpcCA9IG9wdGlvbnMudG9vbHRpcDsKICAgICAgaWYgKG9wdGlvbnMuc2hvd0FuaW1hdGlvbkNvbnRyb2xzICE9PSB1bmRlZmluZWQpIHRoaXMuc2hvd0FuaW1hdGlvbkNvbnRyb2xzID0gb3B0aW9ucy5zaG93QW5pbWF0aW9uQ29udHJvbHM7CiAgICAgIGlmIChvcHRpb25zLmtlZXBBc3BlY3RSYXRpbyAhPT0gdW5kZWZpbmVkKSB0aGlzLmtlZXBBc3BlY3RSYXRpbyA9IG9wdGlvbnMua2VlcEFzcGVjdFJhdGlvOwogICAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbFJhdGlvICE9PSB1bmRlZmluZWQpIHRoaXMudmVydGljYWxSYXRpbyA9IG9wdGlvbnMudmVydGljYWxSYXRpbzsKCiAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbkludGVydmFsICE9PSB1bmRlZmluZWQpIHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWwgPSBvcHRpb25zLmFuaW1hdGlvbkludGVydmFsOwogICAgICBpZiAob3B0aW9ucy5hbmltYXRpb25QcmVsb2FkICE9PSB1bmRlZmluZWQpIHRoaXMuYW5pbWF0aW9uUHJlbG9hZCA9IG9wdGlvbnMuYW5pbWF0aW9uUHJlbG9hZDsKICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uQXV0b1N0YXJ0ICE9PSB1bmRlZmluZWQpIHRoaXMuYW5pbWF0aW9uQXV0b1N0YXJ0ID0gb3B0aW9ucy5hbmltYXRpb25BdXRvU3RhcnQ7CgogICAgICBpZiAob3B0aW9ucy54QmFyV2lkdGggIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0WEJhcldpZHRoID0gb3B0aW9ucy54QmFyV2lkdGg7CiAgICAgIGlmIChvcHRpb25zLnlCYXJXaWR0aCAhPT0gdW5kZWZpbmVkKSB0aGlzLmRlZmF1bHRZQmFyV2lkdGggPSBvcHRpb25zLnlCYXJXaWR0aDsKCiAgICAgIGlmIChvcHRpb25zLnhNaW4gIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0WE1pbiA9IG9wdGlvbnMueE1pbjsKICAgICAgaWYgKG9wdGlvbnMueFN0ZXAgIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0WFN0ZXAgPSBvcHRpb25zLnhTdGVwOwogICAgICBpZiAob3B0aW9ucy54TWF4ICE9PSB1bmRlZmluZWQpIHRoaXMuZGVmYXVsdFhNYXggPSBvcHRpb25zLnhNYXg7CiAgICAgIGlmIChvcHRpb25zLnlNaW4gIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0WU1pbiA9IG9wdGlvbnMueU1pbjsKICAgICAgaWYgKG9wdGlvbnMueVN0ZXAgIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0WVN0ZXAgPSBvcHRpb25zLnlTdGVwOwogICAgICBpZiAob3B0aW9ucy55TWF4ICE9PSB1bmRlZmluZWQpIHRoaXMuZGVmYXVsdFlNYXggPSBvcHRpb25zLnlNYXg7CiAgICAgIGlmIChvcHRpb25zLnpNaW4gIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0Wk1pbiA9IG9wdGlvbnMuek1pbjsKICAgICAgaWYgKG9wdGlvbnMuelN0ZXAgIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0WlN0ZXAgPSBvcHRpb25zLnpTdGVwOwogICAgICBpZiAob3B0aW9ucy56TWF4ICE9PSB1bmRlZmluZWQpIHRoaXMuZGVmYXVsdFpNYXggPSBvcHRpb25zLnpNYXg7CiAgICAgIGlmIChvcHRpb25zLnZhbHVlTWluICE9PSB1bmRlZmluZWQpIHRoaXMuZGVmYXVsdFZhbHVlTWluID0gb3B0aW9ucy52YWx1ZU1pbjsKICAgICAgaWYgKG9wdGlvbnMudmFsdWVNYXggIT09IHVuZGVmaW5lZCkgdGhpcy5kZWZhdWx0VmFsdWVNYXggPSBvcHRpb25zLnZhbHVlTWF4OwoKICAgICAgaWYgKG9wdGlvbnMuY2FtZXJhUG9zaXRpb24gIT09IHVuZGVmaW5lZCkgY2FtZXJhUG9zaXRpb24gPSBvcHRpb25zLmNhbWVyYVBvc2l0aW9uOwoKICAgICAgaWYgKGNhbWVyYVBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmNhbWVyYS5zZXRBcm1Sb3RhdGlvbihjYW1lcmFQb3NpdGlvbi5ob3Jpem9udGFsLCBjYW1lcmFQb3NpdGlvbi52ZXJ0aWNhbCk7CiAgICAgICAgdGhpcy5jYW1lcmEuc2V0QXJtTGVuZ3RoKGNhbWVyYVBvc2l0aW9uLmRpc3RhbmNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhbWVyYS5zZXRBcm1Sb3RhdGlvbigxLCAwLjUpOwogICAgICAgIHRoaXMuY2FtZXJhLnNldEFybUxlbmd0aCgxLjcpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5fc2V0QmFja2dyb3VuZENvbG9yKG9wdGlvbnMgJiYgb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpOwoKICAgIHRoaXMuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7CgogICAgLy8gcmUtbG9hZCB0aGUgZGF0YQogICAgaWYgKHRoaXMuZGF0YVRhYmxlKSB7CiAgICAgIHRoaXMuc2V0RGF0YSh0aGlzLmRhdGFUYWJsZSk7CiAgICB9CgogICAgLy8gc3RhcnQgYW5pbWF0aW9uIHdoZW4gb3B0aW9uIGlzIHRydWUKICAgIGlmICh0aGlzLmFuaW1hdGlvbkF1dG9TdGFydCAmJiB0aGlzLmRhdGFGaWx0ZXIpIHsKICAgICAgdGhpcy5hbmltYXRpb25TdGFydCgpOwogICAgfQogIH07CgogIC8qKgogICAqIFJlZHJhdyB0aGUgR3JhcGguCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUucmVkcmF3ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuZGF0YVBvaW50cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRocm93ICdFcnJvcjogZ3JhcGggZGF0YSBub3QgaW5pdGlhbGl6ZWQnOwogICAgfQoKICAgIHRoaXMuX3Jlc2l6ZUNhbnZhcygpOwogICAgdGhpcy5fcmVzaXplQ2VudGVyKCk7CiAgICB0aGlzLl9yZWRyYXdTbGlkZXIoKTsKICAgIHRoaXMuX3JlZHJhd0NsZWFyKCk7CiAgICB0aGlzLl9yZWRyYXdBeGlzKCk7CgogICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuR1JJRCB8fCB0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLlNVUkZBQ0UpIHsKICAgICAgdGhpcy5fcmVkcmF3RGF0YUdyaWQoKTsKICAgIH0gZWxzZSBpZiAodGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5MSU5FKSB7CiAgICAgIHRoaXMuX3JlZHJhd0RhdGFMaW5lKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuQkFSIHx8IHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuQkFSQ09MT1IgfHwgdGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5CQVJTSVpFKSB7CiAgICAgIHRoaXMuX3JlZHJhd0RhdGFCYXIoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIHN0eWxlIGlzIERPVCwgRE9UTElORSwgRE9UQ09MT1IsIERPVFNJWkUKICAgICAgdGhpcy5fcmVkcmF3RGF0YURvdCgpOwogICAgfQoKICAgIHRoaXMuX3JlZHJhd0luZm8oKTsKICAgIHRoaXMuX3JlZHJhd0xlZ2VuZCgpOwogIH07CgogIC8qKgogICAqIENsZWFyIHRoZSBjYW52YXMgYmVmb3JlIHJlZHJhd2luZwogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9yZWRyYXdDbGVhciA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBjYW52YXMgPSB0aGlzLmZyYW1lLmNhbnZhczsKICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgfTsKCiAgLyoqCiAgICogUmVkcmF3IHRoZSBsZWdlbmQgc2hvd2luZyB0aGUgY29sb3JzCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX3JlZHJhd0xlZ2VuZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB5OwoKICAgIGlmICh0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLkRPVENPTE9SIHx8IHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UU0laRSkgewoKICAgICAgdmFyIGRvdFNpemUgPSB0aGlzLmZyYW1lLmNsaWVudFdpZHRoICogMC4wMjsKCiAgICAgIHZhciB3aWR0aE1pbiwgd2lkdGhNYXg7CiAgICAgIGlmICh0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLkRPVFNJWkUpIHsKICAgICAgICB3aWR0aE1pbiA9IGRvdFNpemUgLyAyOyAvLyBweAogICAgICAgIHdpZHRoTWF4ID0gZG90U2l6ZSAvIDIgKyBkb3RTaXplICogMjsgLy8gVG9kbzogcHV0IHRoaXMgaW4gb25lIGZ1bmN0aW9uCiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2lkdGhNaW4gPSAyMDsgLy8gcHgKICAgICAgICB3aWR0aE1heCA9IDIwOyAvLyBweAogICAgICB9CgogICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5mcmFtZS5jbGllbnRIZWlnaHQgKiAwLjI1LCAxMDApOwogICAgICB2YXIgdG9wID0gdGhpcy5tYXJnaW47CiAgICAgIHZhciByaWdodCA9IHRoaXMuZnJhbWUuY2xpZW50V2lkdGggLSB0aGlzLm1hcmdpbjsKICAgICAgdmFyIGxlZnQgPSByaWdodCAtIHdpZHRoTWF4OwogICAgICB2YXIgYm90dG9tID0gdG9wICsgaGVpZ2h0OwogICAgfQoKICAgIHZhciBjYW52YXMgPSB0aGlzLmZyYW1lLmNhbnZhczsKICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgY3R4LmZvbnQgPSAnMTRweCBhcmlhbCc7IC8vIFRPRE86IHB1dCBpbiBvcHRpb25zCgogICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UQ09MT1IpIHsKICAgICAgLy8gZHJhdyB0aGUgY29sb3IgYmFyCiAgICAgIHZhciB5bWluID0gMDsKICAgICAgdmFyIHltYXggPSBoZWlnaHQ7IC8vIFRvZG86IG1ha2UgaGVpZ2h0IGN1c3RvbWl6YWJsZQogICAgICBmb3IgKHkgPSB5bWluOyB5IDwgeW1heDsgeSsrKSB7CiAgICAgICAgdmFyIGYgPSAoeSAtIHltaW4pIC8gKHltYXggLSB5bWluKTsKCiAgICAgICAgLy92YXIgd2lkdGggPSAoZG90U2l6ZSAvIDIgKyAoMS1mKSAqIGRvdFNpemUgKiAyKTsgLy8gVG9kbzogcHV0IHRoaXMgaW4gb25lIGZ1bmN0aW9uCiAgICAgICAgdmFyIGh1ZSA9IGYgKiAyNDA7CiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5faHN2MnJnYihodWUsIDEsIDEpOwoKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhsZWZ0LCB0b3AgKyB5KTsKICAgICAgICBjdHgubGluZVRvKHJpZ2h0LCB0b3AgKyB5KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KCiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3JBeGlzOwogICAgICBjdHguc3Ryb2tlUmVjdChsZWZ0LCB0b3AsIHdpZHRoTWF4LCBoZWlnaHQpOwogICAgfQoKICAgIGlmICh0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLkRPVFNJWkUpIHsKICAgICAgLy8gZHJhdyBib3JkZXIgYXJvdW5kIGNvbG9yIGJhcgogICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3JEb3Q7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4Lm1vdmVUbyhsZWZ0LCB0b3ApOwogICAgICBjdHgubGluZVRvKHJpZ2h0LCB0b3ApOwogICAgICBjdHgubGluZVRvKHJpZ2h0IC0gd2lkdGhNYXggKyB3aWR0aE1pbiwgYm90dG9tKTsKICAgICAgY3R4LmxpbmVUbyhsZWZ0LCBib3R0b20pOwogICAgICBjdHguY2xvc2VQYXRoKCk7CiAgICAgIGN0eC5maWxsKCk7CiAgICAgIGN0eC5zdHJva2UoKTsKICAgIH0KCiAgICBpZiAodGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5ET1RDT0xPUiB8fCB0aGlzLnN0eWxlID09PSBHcmFwaDNkLlNUWUxFLkRPVFNJWkUpIHsKICAgICAgLy8gcHJpbnQgdmFsdWVzIGFsb25nIHRoZSBjb2xvciBiYXIKICAgICAgdmFyIGdyaWRMaW5lTGVuID0gNTsgLy8gcHgKICAgICAgdmFyIHN0ZXAgPSBuZXcgU3RlcE51bWJlcih0aGlzLnZhbHVlTWluLCB0aGlzLnZhbHVlTWF4LCAodGhpcy52YWx1ZU1heCAtIHRoaXMudmFsdWVNaW4pIC8gNSwgdHJ1ZSk7CiAgICAgIHN0ZXAuc3RhcnQoKTsKICAgICAgaWYgKHN0ZXAuZ2V0Q3VycmVudCgpIDwgdGhpcy52YWx1ZU1pbikgewogICAgICAgIHN0ZXAubmV4dCgpOwogICAgICB9CiAgICAgIHdoaWxlICghc3RlcC5lbmQoKSkgewogICAgICAgIHkgPSBib3R0b20gLSAoc3RlcC5nZXRDdXJyZW50KCkgLSB0aGlzLnZhbHVlTWluKSAvICh0aGlzLnZhbHVlTWF4IC0gdGhpcy52YWx1ZU1pbikgKiBoZWlnaHQ7CgogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubW92ZVRvKGxlZnQgLSBncmlkTGluZUxlbiwgeSk7CiAgICAgICAgY3R4LmxpbmVUbyhsZWZ0LCB5KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgIGN0eC50ZXh0QWxpZ24gPSAncmlnaHQnOwogICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvckF4aXM7CiAgICAgICAgY3R4LmZpbGxUZXh0KHN0ZXAuZ2V0Q3VycmVudCgpLCBsZWZ0IC0gMiAqIGdyaWRMaW5lTGVuLCB5KTsKCiAgICAgICAgc3RlcC5uZXh0KCk7CiAgICAgIH0KCiAgICAgIGN0eC50ZXh0QWxpZ24gPSAncmlnaHQnOwogICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7CiAgICAgIHZhciBsYWJlbCA9IHRoaXMubGVnZW5kTGFiZWw7CiAgICAgIGN0eC5maWxsVGV4dChsYWJlbCwgcmlnaHQsIGJvdHRvbSArIHRoaXMubWFyZ2luKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBSZWRyYXcgdGhlIGZpbHRlcgogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9yZWRyYXdGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZyYW1lLmZpbHRlci5pbm5lckhUTUwgPSAnJzsKCiAgICBpZiAodGhpcy5kYXRhRmlsdGVyKSB7CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgICd2aXNpYmxlJzogdGhpcy5zaG93QW5pbWF0aW9uQ29udHJvbHMKICAgICAgfTsKICAgICAgdmFyIHNsaWRlciA9IG5ldyBTbGlkZXIodGhpcy5mcmFtZS5maWx0ZXIsIG9wdGlvbnMpOwogICAgICB0aGlzLmZyYW1lLmZpbHRlci5zbGlkZXIgPSBzbGlkZXI7CgogICAgICAvLyBUT0RPOiBjc3MgaGVyZSBpcyBub3QgbmljZSBoZXJlLi4uCiAgICAgIHRoaXMuZnJhbWUuZmlsdGVyLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7CiAgICAgIC8vdGhpcy5mcmFtZS5maWx0ZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNFRkVGRUYnOwoKICAgICAgc2xpZGVyLnNldFZhbHVlcyh0aGlzLmRhdGFGaWx0ZXIudmFsdWVzKTsKICAgICAgc2xpZGVyLnNldFBsYXlJbnRlcnZhbCh0aGlzLmFuaW1hdGlvbkludGVydmFsKTsKCiAgICAgIC8vIGNyZWF0ZSBhbiBldmVudCBoYW5kbGVyCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBvbmNoYW5nZSA9IGZ1bmN0aW9uIG9uY2hhbmdlKCkgewogICAgICAgIHZhciBpbmRleCA9IHNsaWRlci5nZXRJbmRleCgpOwoKICAgICAgICBtZS5kYXRhRmlsdGVyLnNlbGVjdFZhbHVlKGluZGV4KTsKICAgICAgICBtZS5kYXRhUG9pbnRzID0gbWUuZGF0YUZpbHRlci5fZ2V0RGF0YVBvaW50cygpOwoKICAgICAgICBtZS5yZWRyYXcoKTsKICAgICAgfTsKICAgICAgc2xpZGVyLnNldE9uQ2hhbmdlQ2FsbGJhY2sob25jaGFuZ2UpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5mcmFtZS5maWx0ZXIuc2xpZGVyID0gdW5kZWZpbmVkOwogICAgfQogIH07CgogIC8qKgogICAqIFJlZHJhdyB0aGUgc2xpZGVyCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX3JlZHJhd1NsaWRlciA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmZyYW1lLmZpbHRlci5zbGlkZXIgIT09IHVuZGVmaW5lZCkgewogICAgICB0aGlzLmZyYW1lLmZpbHRlci5zbGlkZXIucmVkcmF3KCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVkcmF3IGNvbW1vbiBpbmZvcm1hdGlvbgogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9yZWRyYXdJbmZvID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuZGF0YUZpbHRlcikgewogICAgICB2YXIgY2FudmFzID0gdGhpcy5mcmFtZS5jYW52YXM7CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgICAgIGN0eC5mb250ID0gJzE0cHggYXJpYWwnOyAvLyBUT0RPOiBwdXQgaW4gb3B0aW9ucwogICAgICBjdHgubGluZVN0eWxlID0gJ2dyYXknOwogICAgICBjdHguZmlsbFN0eWxlID0gJ2dyYXknOwogICAgICBjdHgudGV4dEFsaWduID0gJ2xlZnQnOwogICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7CgogICAgICB2YXIgeCA9IHRoaXMubWFyZ2luOwogICAgICB2YXIgeSA9IHRoaXMubWFyZ2luOwogICAgICBjdHguZmlsbFRleHQodGhpcy5kYXRhRmlsdGVyLmdldExhYmVsKCkgKyAnOiAnICsgdGhpcy5kYXRhRmlsdGVyLmdldFNlbGVjdGVkVmFsdWUoKSwgeCwgeSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVkcmF3IHRoZSBheGlzCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX3JlZHJhd0F4aXMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY2FudmFzID0gdGhpcy5mcmFtZS5jYW52YXMsCiAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksCiAgICAgICAgZnJvbSwKICAgICAgICB0bywKICAgICAgICBzdGVwLAogICAgICAgIHByZXR0eVN0ZXAsCiAgICAgICAgdGV4dCwKICAgICAgICB4VGV4dCwKICAgICAgICB5VGV4dCwKICAgICAgICB6VGV4dCwKICAgICAgICBvZmZzZXQsCiAgICAgICAgeE9mZnNldCwKICAgICAgICB5T2Zmc2V0LAogICAgICAgIHhNaW4yZCwKICAgICAgICB4TWF4MmQ7CgogICAgLy8gVE9ETzogZ2V0IHRoZSBhY3R1YWwgcmVuZGVyZWQgc3R5bGUgb2YgdGhlIGNvbnRhaW5lckVsZW1lbnQKICAgIC8vY3R4LmZvbnQgPSB0aGlzLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUuZm9udDsKICAgIGN0eC5mb250ID0gMjQgLyB0aGlzLmNhbWVyYS5nZXRBcm1MZW5ndGgoKSArICdweCBhcmlhbCc7CgogICAgLy8gY2FsY3VsYXRlIHRoZSBsZW5ndGggZm9yIHRoZSBzaG9ydCBncmlkIGxpbmVzCiAgICB2YXIgZ3JpZExlblggPSAwLjAyNSAvIHRoaXMuc2NhbGUueDsKICAgIHZhciBncmlkTGVuWSA9IDAuMDI1IC8gdGhpcy5zY2FsZS55OwogICAgdmFyIHRleHRNYXJnaW4gPSA1IC8gdGhpcy5jYW1lcmEuZ2V0QXJtTGVuZ3RoKCk7IC8vIHB4CiAgICB2YXIgYXJtQW5nbGUgPSB0aGlzLmNhbWVyYS5nZXRBcm1Sb3RhdGlvbigpLmhvcml6b250YWw7CgogICAgLy8gZHJhdyB4LWdyaWQgbGluZXMKICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgcHJldHR5U3RlcCA9IHRoaXMuZGVmYXVsdFhTdGVwID09PSB1bmRlZmluZWQ7CiAgICBzdGVwID0gbmV3IFN0ZXBOdW1iZXIodGhpcy54TWluLCB0aGlzLnhNYXgsIHRoaXMueFN0ZXAsIHByZXR0eVN0ZXApOwogICAgc3RlcC5zdGFydCgpOwogICAgaWYgKHN0ZXAuZ2V0Q3VycmVudCgpIDwgdGhpcy54TWluKSB7CiAgICAgIHN0ZXAubmV4dCgpOwogICAgfQogICAgd2hpbGUgKCFzdGVwLmVuZCgpKSB7CiAgICAgIHZhciB4ID0gc3RlcC5nZXRDdXJyZW50KCk7CgogICAgICBpZiAodGhpcy5zaG93R3JpZCkgewogICAgICAgIGZyb20gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHgsIHRoaXMueU1pbiwgdGhpcy56TWluKSk7CiAgICAgICAgdG8gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHgsIHRoaXMueU1heCwgdGhpcy56TWluKSk7CiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvckdyaWQ7CiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpOwogICAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGZyb20gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHgsIHRoaXMueU1pbiwgdGhpcy56TWluKSk7CiAgICAgICAgdG8gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHgsIHRoaXMueU1pbiArIGdyaWRMZW5YLCB0aGlzLnpNaW4pKTsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7CiAgICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgIGZyb20gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHgsIHRoaXMueU1heCwgdGhpcy56TWluKSk7CiAgICAgICAgdG8gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHgsIHRoaXMueU1heCAtIGdyaWRMZW5YLCB0aGlzLnpNaW4pKTsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7CiAgICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KCiAgICAgIHlUZXh0ID0gTWF0aC5jb3MoYXJtQW5nbGUpID4gMCA/IHRoaXMueU1pbiA6IHRoaXMueU1heDsKICAgICAgdGV4dCA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QoeCwgeVRleHQsIHRoaXMuek1pbikpOwogICAgICBpZiAoTWF0aC5jb3MoYXJtQW5nbGUgKiAyKSA+IDApIHsKICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnOwogICAgICAgIHRleHQueSArPSB0ZXh0TWFyZ2luOwogICAgICB9IGVsc2UgaWYgKE1hdGguc2luKGFybUFuZ2xlICogMikgPCAwKSB7CiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdyaWdodCc7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnOwogICAgICB9IGVsc2UgewogICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnOwogICAgICB9CiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgY3R4LmZpbGxUZXh0KCcgICcgKyB0aGlzLnhWYWx1ZUxhYmVsKHN0ZXAuZ2V0Q3VycmVudCgpKSArICcgICcsIHRleHQueCwgdGV4dC55KTsKCiAgICAgIHN0ZXAubmV4dCgpOwogICAgfQoKICAgIC8vIGRyYXcgeS1ncmlkIGxpbmVzCiAgICBjdHgubGluZVdpZHRoID0gMTsKICAgIHByZXR0eVN0ZXAgPSB0aGlzLmRlZmF1bHRZU3RlcCA9PT0gdW5kZWZpbmVkOwogICAgc3RlcCA9IG5ldyBTdGVwTnVtYmVyKHRoaXMueU1pbiwgdGhpcy55TWF4LCB0aGlzLnlTdGVwLCBwcmV0dHlTdGVwKTsKICAgIHN0ZXAuc3RhcnQoKTsKICAgIGlmIChzdGVwLmdldEN1cnJlbnQoKSA8IHRoaXMueU1pbikgewogICAgICBzdGVwLm5leHQoKTsKICAgIH0KICAgIHdoaWxlICghc3RlcC5lbmQoKSkgewogICAgICBpZiAodGhpcy5zaG93R3JpZCkgewogICAgICAgIGZyb20gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHRoaXMueE1pbiwgc3RlcC5nZXRDdXJyZW50KCksIHRoaXMuek1pbikpOwogICAgICAgIHRvID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZCh0aGlzLnhNYXgsIHN0ZXAuZ2V0Q3VycmVudCgpLCB0aGlzLnpNaW4pKTsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yR3JpZDsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7CiAgICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZnJvbSA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QodGhpcy54TWluLCBzdGVwLmdldEN1cnJlbnQoKSwgdGhpcy56TWluKSk7CiAgICAgICAgdG8gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHRoaXMueE1pbiArIGdyaWRMZW5ZLCBzdGVwLmdldEN1cnJlbnQoKSwgdGhpcy56TWluKSk7CiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvckF4aXM7CiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpOwogICAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICBmcm9tID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZCh0aGlzLnhNYXgsIHN0ZXAuZ2V0Q3VycmVudCgpLCB0aGlzLnpNaW4pKTsKICAgICAgICB0byA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QodGhpcy54TWF4IC0gZ3JpZExlblksIHN0ZXAuZ2V0Q3VycmVudCgpLCB0aGlzLnpNaW4pKTsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7CiAgICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KCiAgICAgIHhUZXh0ID0gTWF0aC5zaW4oYXJtQW5nbGUpID4gMCA/IHRoaXMueE1pbiA6IHRoaXMueE1heDsKICAgICAgdGV4dCA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QoeFRleHQsIHN0ZXAuZ2V0Q3VycmVudCgpLCB0aGlzLnpNaW4pKTsKICAgICAgaWYgKE1hdGguY29zKGFybUFuZ2xlICogMikgPCAwKSB7CiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAndG9wJzsKICAgICAgICB0ZXh0LnkgKz0gdGV4dE1hcmdpbjsKICAgICAgfSBlbHNlIGlmIChNYXRoLnNpbihhcm1BbmdsZSAqIDIpID4gMCkgewogICAgICAgIGN0eC50ZXh0QWxpZ24gPSAncmlnaHQnOwogICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBjdHgudGV4dEFsaWduID0gJ2xlZnQnOwogICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgfQogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvckF4aXM7CiAgICAgIGN0eC5maWxsVGV4dCgnICAnICsgdGhpcy55VmFsdWVMYWJlbChzdGVwLmdldEN1cnJlbnQoKSkgKyAnICAnLCB0ZXh0LngsIHRleHQueSk7CgogICAgICBzdGVwLm5leHQoKTsKICAgIH0KCiAgICAvLyBkcmF3IHotZ3JpZCBsaW5lcyBhbmQgYXhpcwogICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICBwcmV0dHlTdGVwID0gdGhpcy5kZWZhdWx0WlN0ZXAgPT09IHVuZGVmaW5lZDsKICAgIHN0ZXAgPSBuZXcgU3RlcE51bWJlcih0aGlzLnpNaW4sIHRoaXMuek1heCwgdGhpcy56U3RlcCwgcHJldHR5U3RlcCk7CiAgICBzdGVwLnN0YXJ0KCk7CiAgICBpZiAoc3RlcC5nZXRDdXJyZW50KCkgPCB0aGlzLnpNaW4pIHsKICAgICAgc3RlcC5uZXh0KCk7CiAgICB9CiAgICB4VGV4dCA9IE1hdGguY29zKGFybUFuZ2xlKSA+IDAgPyB0aGlzLnhNaW4gOiB0aGlzLnhNYXg7CiAgICB5VGV4dCA9IE1hdGguc2luKGFybUFuZ2xlKSA8IDAgPyB0aGlzLnlNaW4gOiB0aGlzLnlNYXg7CiAgICB3aGlsZSAoIXN0ZXAuZW5kKCkpIHsKICAgICAgLy8gVE9ETzogbWFrZSB6LWdyaWQgbGluZXMgcmVhbGx5IDNkPwogICAgICBmcm9tID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZCh4VGV4dCwgeVRleHQsIHN0ZXAuZ2V0Q3VycmVudCgpKSk7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3JBeGlzOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpOwogICAgICBjdHgubGluZVRvKGZyb20ueCAtIHRleHRNYXJnaW4sIGZyb20ueSk7CiAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgIGN0eC50ZXh0QWxpZ24gPSAncmlnaHQnOwogICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgY3R4LmZpbGxUZXh0KHRoaXMuelZhbHVlTGFiZWwoc3RlcC5nZXRDdXJyZW50KCkpICsgJyAnLCBmcm9tLnggLSA1LCBmcm9tLnkpOwoKICAgICAgc3RlcC5uZXh0KCk7CiAgICB9CiAgICBjdHgubGluZVdpZHRoID0gMTsKICAgIGZyb20gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHhUZXh0LCB5VGV4dCwgdGhpcy56TWluKSk7CiAgICB0byA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QoeFRleHQsIHlUZXh0LCB0aGlzLnpNYXgpKTsKICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3JBeGlzOwogICAgY3R4LmJlZ2luUGF0aCgpOwogICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7CiAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpOwogICAgY3R4LnN0cm9rZSgpOwoKICAgIC8vIGRyYXcgeC1heGlzCiAgICBjdHgubGluZVdpZHRoID0gMTsKICAgIC8vIGxpbmUgYXQgeU1pbgogICAgeE1pbjJkID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZCh0aGlzLnhNaW4sIHRoaXMueU1pbiwgdGhpcy56TWluKSk7CiAgICB4TWF4MmQgPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHRoaXMueE1heCwgdGhpcy55TWluLCB0aGlzLnpNaW4pKTsKICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3JBeGlzOwogICAgY3R4LmJlZ2luUGF0aCgpOwogICAgY3R4Lm1vdmVUbyh4TWluMmQueCwgeE1pbjJkLnkpOwogICAgY3R4LmxpbmVUbyh4TWF4MmQueCwgeE1heDJkLnkpOwogICAgY3R4LnN0cm9rZSgpOwogICAgLy8gbGluZSBhdCB5bWF4CiAgICB4TWluMmQgPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHRoaXMueE1pbiwgdGhpcy55TWF4LCB0aGlzLnpNaW4pKTsKICAgIHhNYXgyZCA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QodGhpcy54TWF4LCB0aGlzLnlNYXgsIHRoaXMuek1pbikpOwogICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvckF4aXM7CiAgICBjdHguYmVnaW5QYXRoKCk7CiAgICBjdHgubW92ZVRvKHhNaW4yZC54LCB4TWluMmQueSk7CiAgICBjdHgubGluZVRvKHhNYXgyZC54LCB4TWF4MmQueSk7CiAgICBjdHguc3Ryb2tlKCk7CgogICAgLy8gZHJhdyB5LWF4aXMKICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgLy8gbGluZSBhdCB4TWluCiAgICBmcm9tID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZCh0aGlzLnhNaW4sIHRoaXMueU1pbiwgdGhpcy56TWluKSk7CiAgICB0byA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QodGhpcy54TWluLCB0aGlzLnlNYXgsIHRoaXMuek1pbikpOwogICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvckF4aXM7CiAgICBjdHguYmVnaW5QYXRoKCk7CiAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTsKICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7CiAgICBjdHguc3Ryb2tlKCk7CiAgICAvLyBsaW5lIGF0IHhNYXgKICAgIGZyb20gPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHRoaXMueE1heCwgdGhpcy55TWluLCB0aGlzLnpNaW4pKTsKICAgIHRvID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZCh0aGlzLnhNYXgsIHRoaXMueU1heCwgdGhpcy56TWluKSk7CiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpOwogICAgY3R4LmxpbmVUbyh0by54LCB0by55KTsKICAgIGN0eC5zdHJva2UoKTsKCiAgICAvLyBkcmF3IHgtbGFiZWwKICAgIHZhciB4TGFiZWwgPSB0aGlzLnhMYWJlbDsKICAgIGlmICh4TGFiZWwubGVuZ3RoID4gMCkgewogICAgICB5T2Zmc2V0ID0gMC4xIC8gdGhpcy5zY2FsZS55OwogICAgICB4VGV4dCA9ICh0aGlzLnhNaW4gKyB0aGlzLnhNYXgpIC8gMjsKICAgICAgeVRleHQgPSBNYXRoLmNvcyhhcm1BbmdsZSkgPiAwID8gdGhpcy55TWluIC0geU9mZnNldCA6IHRoaXMueU1heCArIHlPZmZzZXQ7CiAgICAgIHRleHQgPSB0aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBQb2ludDNkKHhUZXh0LCB5VGV4dCwgdGhpcy56TWluKSk7CiAgICAgIGlmIChNYXRoLmNvcyhhcm1BbmdsZSAqIDIpID4gMCkgewogICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7CiAgICAgIH0gZWxzZSBpZiAoTWF0aC5zaW4oYXJtQW5nbGUgKiAyKSA8IDApIHsKICAgICAgICBjdHgudGV4dEFsaWduID0gJ3JpZ2h0JzsKICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgIH0KICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3JBeGlzOwogICAgICBjdHguZmlsbFRleHQoeExhYmVsLCB0ZXh0LngsIHRleHQueSk7CiAgICB9CgogICAgLy8gZHJhdyB5LWxhYmVsCiAgICB2YXIgeUxhYmVsID0gdGhpcy55TGFiZWw7CiAgICBpZiAoeUxhYmVsLmxlbmd0aCA+IDApIHsKICAgICAgeE9mZnNldCA9IDAuMSAvIHRoaXMuc2NhbGUueDsKICAgICAgeFRleHQgPSBNYXRoLnNpbihhcm1BbmdsZSkgPiAwID8gdGhpcy54TWluIC0geE9mZnNldCA6IHRoaXMueE1heCArIHhPZmZzZXQ7CiAgICAgIHlUZXh0ID0gKHRoaXMueU1pbiArIHRoaXMueU1heCkgLyAyOwogICAgICB0ZXh0ID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZCh4VGV4dCwgeVRleHQsIHRoaXMuek1pbikpOwogICAgICBpZiAoTWF0aC5jb3MoYXJtQW5nbGUgKiAyKSA8IDApIHsKICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnOwogICAgICB9IGVsc2UgaWYgKE1hdGguc2luKGFybUFuZ2xlICogMikgPiAwKSB7CiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdyaWdodCc7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnOwogICAgICB9IGVsc2UgewogICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnOwogICAgICB9CiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgY3R4LmZpbGxUZXh0KHlMYWJlbCwgdGV4dC54LCB0ZXh0LnkpOwogICAgfQoKICAgIC8vIGRyYXcgei1sYWJlbAogICAgdmFyIHpMYWJlbCA9IHRoaXMuekxhYmVsOwogICAgaWYgKHpMYWJlbC5sZW5ndGggPiAwKSB7CiAgICAgIG9mZnNldCA9IDMwOyAvLyBwaXhlbHMuICAvLyBUT0RPOiByZWxhdGUgdG8gdGhlIG1heCB3aWR0aCBvZiB0aGUgdmFsdWVzIG9uIHRoZSB6IGF4aXM/CiAgICAgIHhUZXh0ID0gTWF0aC5jb3MoYXJtQW5nbGUpID4gMCA/IHRoaXMueE1pbiA6IHRoaXMueE1heDsKICAgICAgeVRleHQgPSBNYXRoLnNpbihhcm1BbmdsZSkgPCAwID8gdGhpcy55TWluIDogdGhpcy55TWF4OwogICAgICB6VGV4dCA9ICh0aGlzLnpNaW4gKyB0aGlzLnpNYXgpIC8gMjsKICAgICAgdGV4dCA9IHRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IFBvaW50M2QoeFRleHQsIHlUZXh0LCB6VGV4dCkpOwogICAgICBjdHgudGV4dEFsaWduID0gJ3JpZ2h0JzsKICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnOwogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvckF4aXM7CiAgICAgIGN0eC5maWxsVGV4dCh6TGFiZWwsIHRleHQueCAtIG9mZnNldCwgdGV4dC55KTsKICAgIH0KICB9OwoKICAvKioKICAgKiBDYWxjdWxhdGUgdGhlIGNvbG9yIGJhc2VkIG9uIHRoZSBnaXZlbiB2YWx1ZS4KICAgKiBAcGFyYW0ge051bWJlcn0gSCAgIEh1ZSwgYSB2YWx1ZSBiZSBiZXR3ZWVuIDAgYW5kIDM2MAogICAqIEBwYXJhbSB7TnVtYmVyfSBTICAgU2F0dXJhdGlvbiwgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEKICAgKiBAcGFyYW0ge051bWJlcn0gViAgIFZhbHVlLCBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMQogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9oc3YycmdiID0gZnVuY3Rpb24gKEgsIFMsIFYpIHsKICAgIHZhciBSLCBHLCBCLCBDLCBIaSwgWDsKCiAgICBDID0gViAqIFM7CiAgICBIaSA9IE1hdGguZmxvb3IoSCAvIDYwKTsgLy8gaGkgPSAwLDEsMiwzLDQsNQogICAgWCA9IEMgKiAoMSAtIE1hdGguYWJzKEggLyA2MCAlIDIgLSAxKSk7CgogICAgc3dpdGNoIChIaSkgewogICAgICBjYXNlIDA6CiAgICAgICAgUiA9IEM7RyA9IFg7QiA9IDA7YnJlYWs7CiAgICAgIGNhc2UgMToKICAgICAgICBSID0gWDtHID0gQztCID0gMDticmVhazsKICAgICAgY2FzZSAyOgogICAgICAgIFIgPSAwO0cgPSBDO0IgPSBYO2JyZWFrOwogICAgICBjYXNlIDM6CiAgICAgICAgUiA9IDA7RyA9IFg7QiA9IEM7YnJlYWs7CiAgICAgIGNhc2UgNDoKICAgICAgICBSID0gWDtHID0gMDtCID0gQzticmVhazsKICAgICAgY2FzZSA1OgogICAgICAgIFIgPSBDO0cgPSAwO0IgPSBYO2JyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBSID0gMDtHID0gMDtCID0gMDticmVhazsKICAgIH0KCiAgICByZXR1cm4gJ1JHQignICsgcGFyc2VJbnQoUiAqIDI1NSkgKyAnLCcgKyBwYXJzZUludChHICogMjU1KSArICcsJyArIHBhcnNlSW50KEIgKiAyNTUpICsgJyknOwogIH07CgogIC8qKgogICAqIERyYXcgYWxsIGRhdGFwb2ludHMgYXMgYSBncmlkCiAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB3aGVuIHRoZSBzdHlsZSBpcyAnZ3JpZCcKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5fcmVkcmF3RGF0YUdyaWQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY2FudmFzID0gdGhpcy5mcmFtZS5jYW52YXMsCiAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksCiAgICAgICAgcG9pbnQsCiAgICAgICAgcmlnaHQsCiAgICAgICAgdG9wLAogICAgICAgIGNyb3NzLAogICAgICAgIGksCiAgICAgICAgdG9wU2lkZVZpc2libGUsCiAgICAgICAgZmlsbFN0eWxlLAogICAgICAgIHN0cm9rZVN0eWxlLAogICAgICAgIGxpbmVXaWR0aCwKICAgICAgICBoLAogICAgICAgIHMsCiAgICAgICAgdiwKICAgICAgICB6QXZnOwoKICAgIGlmICh0aGlzLmRhdGFQb2ludHMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoIDw9IDApIHJldHVybjsgLy8gVE9ETzogdGhyb3cgZXhjZXB0aW9uPwoKICAgIC8vIGNhbGN1bGF0ZSB0aGUgdHJhbnNsYXRpb25zIGFuZCBzY3JlZW4gcG9zaXRpb24gb2YgYWxsIHBvaW50cwogICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZGF0YVBvaW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgdHJhbnMgPSB0aGlzLl9jb252ZXJ0UG9pbnRUb1RyYW5zbGF0aW9uKHRoaXMuZGF0YVBvaW50c1tpXS5wb2ludCk7CiAgICAgIHZhciBzY3JlZW4gPSB0aGlzLl9jb252ZXJ0VHJhbnNsYXRpb25Ub1NjcmVlbih0cmFucyk7CgogICAgICB0aGlzLmRhdGFQb2ludHNbaV0udHJhbnMgPSB0cmFuczsKICAgICAgdGhpcy5kYXRhUG9pbnRzW2ldLnNjcmVlbiA9IHNjcmVlbjsKCiAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgdHJhbnNsYXRpb24gb2YgdGhlIHBvaW50IGF0IHRoZSBib3R0b20gKG5lZWRlZCBmb3Igc29ydGluZykKICAgICAgdmFyIHRyYW5zQm90dG9tID0gdGhpcy5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbih0aGlzLmRhdGFQb2ludHNbaV0uYm90dG9tKTsKICAgICAgdGhpcy5kYXRhUG9pbnRzW2ldLmRpc3QgPSB0aGlzLnNob3dQZXJzcGVjdGl2ZSA/IHRyYW5zQm90dG9tLmxlbmd0aCgpIDogLXRyYW5zQm90dG9tLno7CiAgICB9CgogICAgLy8gc29ydCB0aGUgcG9pbnRzIG9uIGRlcHRoIG9mIHRoZWlyICh4LHkpIHBvc2l0aW9uIChub3Qgb24geikKICAgIHZhciBzb3J0RGVwdGggPSBmdW5jdGlvbiBzb3J0RGVwdGgoYSwgYikgewogICAgICByZXR1cm4gYi5kaXN0IC0gYS5kaXN0OwogICAgfTsKICAgIHRoaXMuZGF0YVBvaW50cy5zb3J0KHNvcnREZXB0aCk7CgogICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuU1VSRkFDRSkgewogICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcG9pbnQgPSB0aGlzLmRhdGFQb2ludHNbaV07CiAgICAgICAgcmlnaHQgPSB0aGlzLmRhdGFQb2ludHNbaV0ucG9pbnRSaWdodDsKICAgICAgICB0b3AgPSB0aGlzLmRhdGFQb2ludHNbaV0ucG9pbnRUb3A7CiAgICAgICAgY3Jvc3MgPSB0aGlzLmRhdGFQb2ludHNbaV0ucG9pbnRDcm9zczsKCiAgICAgICAgaWYgKHBvaW50ICE9PSB1bmRlZmluZWQgJiYgcmlnaHQgIT09IHVuZGVmaW5lZCAmJiB0b3AgIT09IHVuZGVmaW5lZCAmJiBjcm9zcyAhPT0gdW5kZWZpbmVkKSB7CgogICAgICAgICAgaWYgKHRoaXMuc2hvd0dyYXlCb3R0b20gfHwgdGhpcy5zaG93U2hhZG93KSB7CiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGUgdHdvIHZlY3RvcnMgZnJvbSBjZW50ZXIKICAgICAgICAgICAgLy8gdG8gbGVmdCBhbmQgcmlnaHQsIGluIG9yZGVyIHRvIGtub3cgd2hldGhlciB3ZSBhcmUgbG9va2luZyBhdCB0aGUKICAgICAgICAgICAgLy8gYm90dG9tIG9yIGF0IHRoZSB0b3Agc2lkZS4gV2UgY2FuIGFsc28gdXNlIHRoZSBjcm9zcyBwcm9kdWN0CiAgICAgICAgICAgIC8vIGZvciBjYWxjdWxhdGluZyBsaWdodCBpbnRlbnNpdHkKICAgICAgICAgICAgdmFyIGFEaWZmID0gUG9pbnQzZC5zdWJ0cmFjdChjcm9zcy50cmFucywgcG9pbnQudHJhbnMpOwogICAgICAgICAgICB2YXIgYkRpZmYgPSBQb2ludDNkLnN1YnRyYWN0KHRvcC50cmFucywgcmlnaHQudHJhbnMpOwogICAgICAgICAgICB2YXIgY3Jvc3Nwcm9kdWN0ID0gUG9pbnQzZC5jcm9zc1Byb2R1Y3QoYURpZmYsIGJEaWZmKTsKICAgICAgICAgICAgdmFyIGxlbiA9IGNyb3NzcHJvZHVjdC5sZW5ndGgoKTsKICAgICAgICAgICAgLy8gRklYTUU6IHRoZXJlIGlzIGEgYnVnIHdpdGggZGV0ZXJtaW5pbmcgdGhlIHN1cmZhY2Ugc2lkZSAoc2hhZG93IG9yIGNvbG9yZWQpCgogICAgICAgICAgICB0b3BTaWRlVmlzaWJsZSA9IGNyb3NzcHJvZHVjdC56ID4gMDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvcFNpZGVWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodG9wU2lkZVZpc2libGUpIHsKICAgICAgICAgICAgLy8gY2FsY3VsYXRlIEh1ZSBmcm9tIHRoZSBjdXJyZW50IHZhbHVlLiBBdCB6TWluIHRoZSBodWUgaXMgMjQwLCBhdCB6TWF4IHRoZSBodWUgaXMgMAogICAgICAgICAgICB6QXZnID0gKHBvaW50LnBvaW50LnogKyByaWdodC5wb2ludC56ICsgdG9wLnBvaW50LnogKyBjcm9zcy5wb2ludC56KSAvIDQ7CiAgICAgICAgICAgIGggPSAoMSAtICh6QXZnIC0gdGhpcy56TWluKSAqIHRoaXMuc2NhbGUueiAvIHRoaXMudmVydGljYWxSYXRpbykgKiAyNDA7CiAgICAgICAgICAgIHMgPSAxOyAvLyBzYXR1cmF0aW9uCgogICAgICAgICAgICBpZiAodGhpcy5zaG93U2hhZG93KSB7CiAgICAgICAgICAgICAgdiA9IE1hdGgubWluKDEgKyBjcm9zc3Byb2R1Y3QueCAvIGxlbiAvIDIsIDEpOyAvLyB2YWx1ZS4gVE9ETzogc2NhbGUKICAgICAgICAgICAgICBmaWxsU3R5bGUgPSB0aGlzLl9oc3YycmdiKGgsIHMsIHYpOwogICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gZmlsbFN0eWxlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHYgPSAxOwogICAgICAgICAgICAgIGZpbGxTdHlsZSA9IHRoaXMuX2hzdjJyZ2IoaCwgcywgdik7CiAgICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yQXhpczsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZmlsbFN0eWxlID0gJ2dyYXknOwogICAgICAgICAgICBzdHJva2VTdHlsZSA9IHRoaXMuY29sb3JBeGlzOwogICAgICAgICAgfQogICAgICAgICAgbGluZVdpZHRoID0gMC41OwoKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKHBvaW50LnNjcmVlbi54LCBwb2ludC5zY3JlZW4ueSk7CiAgICAgICAgICBjdHgubGluZVRvKHJpZ2h0LnNjcmVlbi54LCByaWdodC5zY3JlZW4ueSk7CiAgICAgICAgICBjdHgubGluZVRvKGNyb3NzLnNjcmVlbi54LCBjcm9zcy5zY3JlZW4ueSk7CiAgICAgICAgICBjdHgubGluZVRvKHRvcC5zY3JlZW4ueCwgdG9wLnNjcmVlbi55KTsKICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBncmlkIHN0eWxlCiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBwb2ludCA9IHRoaXMuZGF0YVBvaW50c1tpXTsKICAgICAgICByaWdodCA9IHRoaXMuZGF0YVBvaW50c1tpXS5wb2ludFJpZ2h0OwogICAgICAgIHRvcCA9IHRoaXMuZGF0YVBvaW50c1tpXS5wb2ludFRvcDsKCiAgICAgICAgaWYgKHBvaW50ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmICh0aGlzLnNob3dQZXJzcGVjdGl2ZSkgewogICAgICAgICAgICBsaW5lV2lkdGggPSAyIC8gLXBvaW50LnRyYW5zLno7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaW5lV2lkdGggPSAyICogLSh0aGlzLmV5ZS56IC8gdGhpcy5jYW1lcmEuZ2V0QXJtTGVuZ3RoKCkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHBvaW50ICE9PSB1bmRlZmluZWQgJiYgcmlnaHQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy8gY2FsY3VsYXRlIEh1ZSBmcm9tIHRoZSBjdXJyZW50IHZhbHVlLiBBdCB6TWluIHRoZSBodWUgaXMgMjQwLCBhdCB6TWF4IHRoZSBodWUgaXMgMAogICAgICAgICAgekF2ZyA9IChwb2ludC5wb2ludC56ICsgcmlnaHQucG9pbnQueikgLyAyOwogICAgICAgICAgaCA9ICgxIC0gKHpBdmcgLSB0aGlzLnpNaW4pICogdGhpcy5zY2FsZS56IC8gdGhpcy52ZXJ0aWNhbFJhdGlvKSAqIDI0MDsKCiAgICAgICAgICBjdHgubGluZVdpZHRoID0gbGluZVdpZHRoOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5faHN2MnJnYihoLCAxLCAxKTsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocG9pbnQuc2NyZWVuLngsIHBvaW50LnNjcmVlbi55KTsKICAgICAgICAgIGN0eC5saW5lVG8ocmlnaHQuc2NyZWVuLngsIHJpZ2h0LnNjcmVlbi55KTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICB9CgogICAgICAgIGlmIChwb2ludCAhPT0gdW5kZWZpbmVkICYmIHRvcCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyBjYWxjdWxhdGUgSHVlIGZyb20gdGhlIGN1cnJlbnQgdmFsdWUuIEF0IHpNaW4gdGhlIGh1ZSBpcyAyNDAsIGF0IHpNYXggdGhlIGh1ZSBpcyAwCiAgICAgICAgICB6QXZnID0gKHBvaW50LnBvaW50LnogKyB0b3AucG9pbnQueikgLyAyOwogICAgICAgICAgaCA9ICgxIC0gKHpBdmcgLSB0aGlzLnpNaW4pICogdGhpcy5zY2FsZS56IC8gdGhpcy52ZXJ0aWNhbFJhdGlvKSAqIDI0MDsKCiAgICAgICAgICBjdHgubGluZVdpZHRoID0gbGluZVdpZHRoOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5faHN2MnJnYihoLCAxLCAxKTsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8ocG9pbnQuc2NyZWVuLngsIHBvaW50LnNjcmVlbi55KTsKICAgICAgICAgIGN0eC5saW5lVG8odG9wLnNjcmVlbi54LCB0b3Auc2NyZWVuLnkpOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIERyYXcgYWxsIGRhdGFwb2ludHMgYXMgZG90cy4KICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHdoZW4gdGhlIHN0eWxlIGlzICdkb3QnIG9yICdkb3QtbGluZScKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5fcmVkcmF3RGF0YURvdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBjYW52YXMgPSB0aGlzLmZyYW1lLmNhbnZhczsKICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIHZhciBpOwoKICAgIGlmICh0aGlzLmRhdGFQb2ludHMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoIDw9IDApIHJldHVybjsgLy8gVE9ETzogdGhyb3cgZXhjZXB0aW9uPwoKICAgIC8vIGNhbGN1bGF0ZSB0aGUgdHJhbnNsYXRpb25zIG9mIGFsbCBwb2ludHMKICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHRyYW5zID0gdGhpcy5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbih0aGlzLmRhdGFQb2ludHNbaV0ucG9pbnQpOwogICAgICB2YXIgc2NyZWVuID0gdGhpcy5fY29udmVydFRyYW5zbGF0aW9uVG9TY3JlZW4odHJhbnMpOwogICAgICB0aGlzLmRhdGFQb2ludHNbaV0udHJhbnMgPSB0cmFuczsKICAgICAgdGhpcy5kYXRhUG9pbnRzW2ldLnNjcmVlbiA9IHNjcmVlbjsKCiAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcG9pbnQgYXQgdGhlIGJvdHRvbSB0byB0aGUgY2FtZXJhCiAgICAgIHZhciB0cmFuc0JvdHRvbSA9IHRoaXMuX2NvbnZlcnRQb2ludFRvVHJhbnNsYXRpb24odGhpcy5kYXRhUG9pbnRzW2ldLmJvdHRvbSk7CiAgICAgIHRoaXMuZGF0YVBvaW50c1tpXS5kaXN0ID0gdGhpcy5zaG93UGVyc3BlY3RpdmUgPyB0cmFuc0JvdHRvbS5sZW5ndGgoKSA6IC10cmFuc0JvdHRvbS56OwogICAgfQoKICAgIC8vIG9yZGVyIHRoZSB0cmFuc2xhdGVkIHBvaW50cyBieSBkZXB0aAogICAgdmFyIHNvcnREZXB0aCA9IGZ1bmN0aW9uIHNvcnREZXB0aChhLCBiKSB7CiAgICAgIHJldHVybiBiLmRpc3QgLSBhLmRpc3Q7CiAgICB9OwogICAgdGhpcy5kYXRhUG9pbnRzLnNvcnQoc29ydERlcHRoKTsKCiAgICAvLyBkcmF3IHRoZSBkYXRhcG9pbnRzIGFzIGNvbG9yZWQgY2lyY2xlcwogICAgdmFyIGRvdFNpemUgPSB0aGlzLmZyYW1lLmNsaWVudFdpZHRoICogMC4wMjsgLy8gcHgKICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldOwoKICAgICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UTElORSkgewogICAgICAgIC8vIGRyYXcgYSB2ZXJ0aWNhbCBsaW5lIGZyb20gdGhlIGJvdHRvbSB0byB0aGUgZ3JhcGggdmFsdWUKICAgICAgICAvL3ZhciBmcm9tID0gdGhpcy5fY29udmVydDNEdG8yRChuZXcgUG9pbnQzZChwb2ludC5wb2ludC54LCBwb2ludC5wb2ludC55LCB0aGlzLnpNaW4pKTsKICAgICAgICB2YXIgZnJvbSA9IHRoaXMuX2NvbnZlcnQzRHRvMkQocG9pbnQuYm90dG9tKTsKICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yR3JpZDsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7CiAgICAgICAgY3R4LmxpbmVUbyhwb2ludC5zY3JlZW4ueCwgcG9pbnQuc2NyZWVuLnkpOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgfQoKICAgICAgLy8gY2FsY3VsYXRlIHJhZGl1cyBmb3IgdGhlIGNpcmNsZQogICAgICB2YXIgc2l6ZTsKICAgICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UU0laRSkgewogICAgICAgIHNpemUgPSBkb3RTaXplIC8gMiArIDIgKiBkb3RTaXplICogKHBvaW50LnBvaW50LnZhbHVlIC0gdGhpcy52YWx1ZU1pbikgLyAodGhpcy52YWx1ZU1heCAtIHRoaXMudmFsdWVNaW4pOwogICAgICB9IGVsc2UgewogICAgICAgIHNpemUgPSBkb3RTaXplOwogICAgICB9CgogICAgICB2YXIgcmFkaXVzOwogICAgICBpZiAodGhpcy5zaG93UGVyc3BlY3RpdmUpIHsKICAgICAgICByYWRpdXMgPSBzaXplIC8gLXBvaW50LnRyYW5zLno7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmFkaXVzID0gc2l6ZSAqIC0odGhpcy5leWUueiAvIHRoaXMuY2FtZXJhLmdldEFybUxlbmd0aCgpKTsKICAgICAgfQogICAgICBpZiAocmFkaXVzIDwgMCkgewogICAgICAgIHJhZGl1cyA9IDA7CiAgICAgIH0KCiAgICAgIHZhciBodWUsIGNvbG9yLCBib3JkZXJDb2xvcjsKICAgICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UQ09MT1IpIHsKICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGNvbG9yIGJhc2VkIG9uIHRoZSB2YWx1ZQogICAgICAgIGh1ZSA9ICgxIC0gKHBvaW50LnBvaW50LnZhbHVlIC0gdGhpcy52YWx1ZU1pbikgKiB0aGlzLnNjYWxlLnZhbHVlKSAqIDI0MDsKICAgICAgICBjb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAxKTsKICAgICAgICBib3JkZXJDb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAwLjgpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuRE9UU0laRSkgewogICAgICAgIGNvbG9yID0gdGhpcy5jb2xvckRvdDsKICAgICAgICBib3JkZXJDb2xvciA9IHRoaXMuY29sb3JEb3RCb3JkZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gY2FsY3VsYXRlIEh1ZSBmcm9tIHRoZSBjdXJyZW50IHZhbHVlLiBBdCB6TWluIHRoZSBodWUgaXMgMjQwLCBhdCB6TWF4IHRoZSBodWUgaXMgMAogICAgICAgIGh1ZSA9ICgxIC0gKHBvaW50LnBvaW50LnogLSB0aGlzLnpNaW4pICogdGhpcy5zY2FsZS56IC8gdGhpcy52ZXJ0aWNhbFJhdGlvKSAqIDI0MDsKICAgICAgICBjb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAxKTsKICAgICAgICBib3JkZXJDb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAwLjgpOwogICAgICB9CgogICAgICAvLyBkcmF3IHRoZSBjaXJjbGUKICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGJvcmRlckNvbG9yOwogICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4LmFyYyhwb2ludC5zY3JlZW4ueCwgcG9pbnQuc2NyZWVuLnksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpOwogICAgICBjdHguZmlsbCgpOwogICAgICBjdHguc3Ryb2tlKCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogRHJhdyBhbGwgZGF0YXBvaW50cyBhcyBiYXJzLgogICAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgd2hlbiB0aGUgc3R5bGUgaXMgJ2JhcicsICdiYXItY29sb3InLCBvciAnYmFyLXNpemUnCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX3JlZHJhd0RhdGFCYXIgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY2FudmFzID0gdGhpcy5mcmFtZS5jYW52YXM7CiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICB2YXIgaSwgaiwgc3VyZmFjZSwgY29ybmVyczsKCiAgICBpZiAodGhpcy5kYXRhUG9pbnRzID09PSB1bmRlZmluZWQgfHwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCA8PSAwKSByZXR1cm47IC8vIFRPRE86IHRocm93IGV4Y2VwdGlvbj8KCiAgICAvLyBjYWxjdWxhdGUgdGhlIHRyYW5zbGF0aW9ucyBvZiBhbGwgcG9pbnRzCiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB0cmFucyA9IHRoaXMuX2NvbnZlcnRQb2ludFRvVHJhbnNsYXRpb24odGhpcy5kYXRhUG9pbnRzW2ldLnBvaW50KTsKICAgICAgdmFyIHNjcmVlbiA9IHRoaXMuX2NvbnZlcnRUcmFuc2xhdGlvblRvU2NyZWVuKHRyYW5zKTsKICAgICAgdGhpcy5kYXRhUG9pbnRzW2ldLnRyYW5zID0gdHJhbnM7CiAgICAgIHRoaXMuZGF0YVBvaW50c1tpXS5zY3JlZW4gPSBzY3JlZW47CgogICAgICAvLyBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHBvaW50IGF0IHRoZSBib3R0b20gdG8gdGhlIGNhbWVyYQogICAgICB2YXIgdHJhbnNCb3R0b20gPSB0aGlzLl9jb252ZXJ0UG9pbnRUb1RyYW5zbGF0aW9uKHRoaXMuZGF0YVBvaW50c1tpXS5ib3R0b20pOwogICAgICB0aGlzLmRhdGFQb2ludHNbaV0uZGlzdCA9IHRoaXMuc2hvd1BlcnNwZWN0aXZlID8gdHJhbnNCb3R0b20ubGVuZ3RoKCkgOiAtdHJhbnNCb3R0b20uejsKICAgIH0KCiAgICAvLyBvcmRlciB0aGUgdHJhbnNsYXRlZCBwb2ludHMgYnkgZGVwdGgKICAgIHZhciBzb3J0RGVwdGggPSBmdW5jdGlvbiBzb3J0RGVwdGgoYSwgYikgewogICAgICByZXR1cm4gYi5kaXN0IC0gYS5kaXN0OwogICAgfTsKICAgIHRoaXMuZGF0YVBvaW50cy5zb3J0KHNvcnREZXB0aCk7CgogICAgLy8gZHJhdyB0aGUgZGF0YXBvaW50cyBhcyBiYXJzCiAgICB2YXIgeFdpZHRoID0gdGhpcy54QmFyV2lkdGggLyAyOwogICAgdmFyIHlXaWR0aCA9IHRoaXMueUJhcldpZHRoIC8gMjsKICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldOwoKICAgICAgLy8gZGV0ZXJtaW5lIGNvbG9yCiAgICAgIHZhciBodWUsIGNvbG9yLCBib3JkZXJDb2xvcjsKICAgICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuQkFSQ09MT1IpIHsKICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGNvbG9yIGJhc2VkIG9uIHRoZSB2YWx1ZQogICAgICAgIGh1ZSA9ICgxIC0gKHBvaW50LnBvaW50LnZhbHVlIC0gdGhpcy52YWx1ZU1pbikgKiB0aGlzLnNjYWxlLnZhbHVlKSAqIDI0MDsKICAgICAgICBjb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAxKTsKICAgICAgICBib3JkZXJDb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAwLjgpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuQkFSU0laRSkgewogICAgICAgIGNvbG9yID0gdGhpcy5jb2xvckRvdDsKICAgICAgICBib3JkZXJDb2xvciA9IHRoaXMuY29sb3JEb3RCb3JkZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gY2FsY3VsYXRlIEh1ZSBmcm9tIHRoZSBjdXJyZW50IHZhbHVlLiBBdCB6TWluIHRoZSBodWUgaXMgMjQwLCBhdCB6TWF4IHRoZSBodWUgaXMgMAogICAgICAgIGh1ZSA9ICgxIC0gKHBvaW50LnBvaW50LnogLSB0aGlzLnpNaW4pICogdGhpcy5zY2FsZS56IC8gdGhpcy52ZXJ0aWNhbFJhdGlvKSAqIDI0MDsKICAgICAgICBjb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAxKTsKICAgICAgICBib3JkZXJDb2xvciA9IHRoaXMuX2hzdjJyZ2IoaHVlLCAxLCAwLjgpOwogICAgICB9CgogICAgICAvLyBjYWxjdWxhdGUgc2l6ZSBmb3IgdGhlIGJhcgogICAgICBpZiAodGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5CQVJTSVpFKSB7CiAgICAgICAgeFdpZHRoID0gdGhpcy54QmFyV2lkdGggLyAyICogKChwb2ludC5wb2ludC52YWx1ZSAtIHRoaXMudmFsdWVNaW4pIC8gKHRoaXMudmFsdWVNYXggLSB0aGlzLnZhbHVlTWluKSAqIDAuOCArIDAuMik7CiAgICAgICAgeVdpZHRoID0gdGhpcy55QmFyV2lkdGggLyAyICogKChwb2ludC5wb2ludC52YWx1ZSAtIHRoaXMudmFsdWVNaW4pIC8gKHRoaXMudmFsdWVNYXggLSB0aGlzLnZhbHVlTWluKSAqIDAuOCArIDAuMik7CiAgICAgIH0KCiAgICAgIC8vIGNhbGN1bGF0ZSBhbGwgY29ybmVyIHBvaW50cwogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB2YXIgcG9pbnQzZCA9IHBvaW50LnBvaW50OwogICAgICB2YXIgdG9wID0gW3sgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCAtIHhXaWR0aCwgcG9pbnQzZC55IC0geVdpZHRoLCBwb2ludDNkLnopIH0sIHsgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCArIHhXaWR0aCwgcG9pbnQzZC55IC0geVdpZHRoLCBwb2ludDNkLnopIH0sIHsgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCArIHhXaWR0aCwgcG9pbnQzZC55ICsgeVdpZHRoLCBwb2ludDNkLnopIH0sIHsgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCAtIHhXaWR0aCwgcG9pbnQzZC55ICsgeVdpZHRoLCBwb2ludDNkLnopIH1dOwogICAgICB2YXIgYm90dG9tID0gW3sgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCAtIHhXaWR0aCwgcG9pbnQzZC55IC0geVdpZHRoLCB0aGlzLnpNaW4pIH0sIHsgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCArIHhXaWR0aCwgcG9pbnQzZC55IC0geVdpZHRoLCB0aGlzLnpNaW4pIH0sIHsgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCArIHhXaWR0aCwgcG9pbnQzZC55ICsgeVdpZHRoLCB0aGlzLnpNaW4pIH0sIHsgcG9pbnQ6IG5ldyBQb2ludDNkKHBvaW50M2QueCAtIHhXaWR0aCwgcG9pbnQzZC55ICsgeVdpZHRoLCB0aGlzLnpNaW4pIH1dOwoKICAgICAgLy8gY2FsY3VsYXRlIHNjcmVlbiBsb2NhdGlvbiBvZiB0aGUgcG9pbnRzCiAgICAgIHRvcC5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICBvYmouc2NyZWVuID0gbWUuX2NvbnZlcnQzRHRvMkQob2JqLnBvaW50KTsKICAgICAgfSk7CiAgICAgIGJvdHRvbS5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICBvYmouc2NyZWVuID0gbWUuX2NvbnZlcnQzRHRvMkQob2JqLnBvaW50KTsKICAgICAgfSk7CgogICAgICAvLyBjcmVhdGUgZml2ZSBzaWRlcywgY2FsY3VsYXRlIGJvdGggY29ybmVyIHBvaW50cyBhbmQgY2VudGVyIHBvaW50cwogICAgICB2YXIgc3VyZmFjZXMgPSBbeyBjb3JuZXJzOiB0b3AsIGNlbnRlcjogUG9pbnQzZC5hdmcoYm90dG9tWzBdLnBvaW50LCBib3R0b21bMl0ucG9pbnQpIH0sIHsgY29ybmVyczogW3RvcFswXSwgdG9wWzFdLCBib3R0b21bMV0sIGJvdHRvbVswXV0sIGNlbnRlcjogUG9pbnQzZC5hdmcoYm90dG9tWzFdLnBvaW50LCBib3R0b21bMF0ucG9pbnQpIH0sIHsgY29ybmVyczogW3RvcFsxXSwgdG9wWzJdLCBib3R0b21bMl0sIGJvdHRvbVsxXV0sIGNlbnRlcjogUG9pbnQzZC5hdmcoYm90dG9tWzJdLnBvaW50LCBib3R0b21bMV0ucG9pbnQpIH0sIHsgY29ybmVyczogW3RvcFsyXSwgdG9wWzNdLCBib3R0b21bM10sIGJvdHRvbVsyXV0sIGNlbnRlcjogUG9pbnQzZC5hdmcoYm90dG9tWzNdLnBvaW50LCBib3R0b21bMl0ucG9pbnQpIH0sIHsgY29ybmVyczogW3RvcFszXSwgdG9wWzBdLCBib3R0b21bMF0sIGJvdHRvbVszXV0sIGNlbnRlcjogUG9pbnQzZC5hdmcoYm90dG9tWzBdLnBvaW50LCBib3R0b21bM10ucG9pbnQpIH1dOwogICAgICBwb2ludC5zdXJmYWNlcyA9IHN1cmZhY2VzOwoKICAgICAgLy8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBvZiBlYWNoIG9mIHRoZSBzdXJmYWNlIGNlbnRlcnMgdG8gdGhlIGNhbWVyYQogICAgICBmb3IgKGogPSAwOyBqIDwgc3VyZmFjZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBzdXJmYWNlID0gc3VyZmFjZXNbal07CiAgICAgICAgdmFyIHRyYW5zQ2VudGVyID0gdGhpcy5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbihzdXJmYWNlLmNlbnRlcik7CiAgICAgICAgc3VyZmFjZS5kaXN0ID0gdGhpcy5zaG93UGVyc3BlY3RpdmUgPyB0cmFuc0NlbnRlci5sZW5ndGgoKSA6IC10cmFuc0NlbnRlci56OwogICAgICAgIC8vIFRPRE86IHRoaXMgZGVwdCBjYWxjdWxhdGlvbiBkb2Vzbid0IHdvcmsgMTAwJSBvZiB0aGUgY2FzZXMgZHVlIHRvIHBlcnNwZWN0aXZlLAogICAgICAgIC8vICAgICBidXQgdGhlIGN1cnJlbnQgc29sdXRpb24gaXMgZmFzdC9zaW1wbGUgYW5kIHdvcmtzIGluIDk5LjklIG9mIGFsbCBjYXNlcwogICAgICAgIC8vICAgICB0aGUgaXNzdWUgaXMgdmlzaWJsZSBpbiBleGFtcGxlIDE0LCB3aXRoIGdyYXBoLnNldENhbWVyYVBvc2l0aW9uKHtob3Jpem9udGFsOiAyLjk3LCB2ZXJ0aWNhbDogMC41LCBkaXN0YW5jZTogMC45fSkKICAgICAgfQoKICAgICAgLy8gb3JkZXIgdGhlIHN1cmZhY2VzIGJ5IHRoZWlyICh0cmFuc2xhdGVkKSBkZXB0aAogICAgICBzdXJmYWNlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgdmFyIGRpZmYgPSBiLmRpc3QgLSBhLmRpc3Q7CiAgICAgICAgaWYgKGRpZmYpIHJldHVybiBkaWZmOwoKICAgICAgICAvLyBpZiBlcXVhbCBkZXB0aCwgc29ydCB0aGUgdG9wIHN1cmZhY2UgbGFzdAogICAgICAgIGlmIChhLmNvcm5lcnMgPT09IHRvcCkgcmV0dXJuIDE7CiAgICAgICAgaWYgKGIuY29ybmVycyA9PT0gdG9wKSByZXR1cm4gLTE7CgogICAgICAgIC8vIGJvdGggYXJlIGVxdWFsCiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0pOwoKICAgICAgLy8gZHJhdyB0aGUgb3JkZXJlZCBzdXJmYWNlcwogICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYm9yZGVyQ29sb3I7CiAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjsKICAgICAgLy8gTk9URTogd2Ugc3RhcnQgYXQgaj0yIGluc3RlYWQgb2Ygaj0wIGFzIHdlIGRvbid0IG5lZWQgdG8gZHJhdyB0aGUgdHdvIHN1cmZhY2VzIGF0IHRoZSBiYWNrc2lkZQogICAgICBmb3IgKGogPSAyOyBqIDwgc3VyZmFjZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBzdXJmYWNlID0gc3VyZmFjZXNbal07CiAgICAgICAgY29ybmVycyA9IHN1cmZhY2UuY29ybmVyczsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhjb3JuZXJzWzNdLnNjcmVlbi54LCBjb3JuZXJzWzNdLnNjcmVlbi55KTsKICAgICAgICBjdHgubGluZVRvKGNvcm5lcnNbMF0uc2NyZWVuLngsIGNvcm5lcnNbMF0uc2NyZWVuLnkpOwogICAgICAgIGN0eC5saW5lVG8oY29ybmVyc1sxXS5zY3JlZW4ueCwgY29ybmVyc1sxXS5zY3JlZW4ueSk7CiAgICAgICAgY3R4LmxpbmVUbyhjb3JuZXJzWzJdLnNjcmVlbi54LCBjb3JuZXJzWzJdLnNjcmVlbi55KTsKICAgICAgICBjdHgubGluZVRvKGNvcm5lcnNbM10uc2NyZWVuLngsIGNvcm5lcnNbM10uc2NyZWVuLnkpOwogICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogRHJhdyBhIGxpbmUgdGhyb3VnaCBhbGwgZGF0YXBvaW50cy4KICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHdoZW4gdGhlIHN0eWxlIGlzICdsaW5lJwogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9yZWRyYXdEYXRhTGluZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBjYW52YXMgPSB0aGlzLmZyYW1lLmNhbnZhcywKICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSwKICAgICAgICBwb2ludCwKICAgICAgICBpOwoKICAgIGlmICh0aGlzLmRhdGFQb2ludHMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoIDw9IDApIHJldHVybjsgLy8gVE9ETzogdGhyb3cgZXhjZXB0aW9uPwoKICAgIC8vIGNhbGN1bGF0ZSB0aGUgdHJhbnNsYXRpb25zIG9mIGFsbCBwb2ludHMKICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHRyYW5zID0gdGhpcy5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbih0aGlzLmRhdGFQb2ludHNbaV0ucG9pbnQpOwogICAgICB2YXIgc2NyZWVuID0gdGhpcy5fY29udmVydFRyYW5zbGF0aW9uVG9TY3JlZW4odHJhbnMpOwoKICAgICAgdGhpcy5kYXRhUG9pbnRzW2ldLnRyYW5zID0gdHJhbnM7CiAgICAgIHRoaXMuZGF0YVBvaW50c1tpXS5zY3JlZW4gPSBzY3JlZW47CiAgICB9CgogICAgLy8gc3RhcnQgdGhlIGxpbmUKICAgIGlmICh0aGlzLmRhdGFQb2ludHMubGVuZ3RoID4gMCkgewogICAgICBwb2ludCA9IHRoaXMuZGF0YVBvaW50c1swXTsKCiAgICAgIGN0eC5saW5lV2lkdGggPSAxOyAvLyBUT0RPOiBtYWtlIGN1c3RvbWl6YWJsZQogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmx1ZSc7IC8vIFRPRE86IG1ha2UgY3VzdG9taXphYmxlCiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4Lm1vdmVUbyhwb2ludC5zY3JlZW4ueCwgcG9pbnQuc2NyZWVuLnkpOwogICAgfQoKICAgIC8vIGRyYXcgdGhlIGRhdGFwb2ludHMgYXMgY29sb3JlZCBjaXJjbGVzCiAgICBmb3IgKGkgPSAxOyBpIDwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldOwogICAgICBjdHgubGluZVRvKHBvaW50LnNjcmVlbi54LCBwb2ludC5zY3JlZW4ueSk7CiAgICB9CgogICAgLy8gZmluaXNoIHRoZSBsaW5lCiAgICBpZiAodGhpcy5kYXRhUG9pbnRzLmxlbmd0aCA+IDApIHsKICAgICAgY3R4LnN0cm9rZSgpOwogICAgfQogIH07CgogIC8qKgogICAqIFN0YXJ0IGEgbW92aW5nIG9wZXJhdGlvbiBpbnNpZGUgdGhlIHByb3ZpZGVkIHBhcmVudCBlbGVtZW50CiAgICogQHBhcmFtIHtFdmVudH0gICAgIGV2ZW50ICAgICBUaGUgZXZlbnQgdGhhdCBvY2N1cnJlZCAocmVxdWlyZWQgZm9yCiAgICogICAgICAgICAgICAgICAgICByZXRyaWV2aW5nIHRoZSAgbW91c2UgcG9zaXRpb24pCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX29uTW91c2VEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDsKCiAgICAvLyBjaGVjayBpZiBtb3VzZSBpcyBzdGlsbCBkb3duIChtYXkgYmUgdXAgd2hlbiBmb2N1cyBpcyBsb3N0IGZvciBleGFtcGxlCiAgICAvLyBpbiBhbiBpZnJhbWUpCiAgICBpZiAodGhpcy5sZWZ0QnV0dG9uRG93bikgewogICAgICB0aGlzLl9vbk1vdXNlVXAoZXZlbnQpOwogICAgfQoKICAgIC8vIG9ubHkgcmVhY3Qgb24gbGVmdCBtb3VzZSBidXR0b24gZG93bgogICAgdGhpcy5sZWZ0QnV0dG9uRG93biA9IGV2ZW50LndoaWNoID8gZXZlbnQud2hpY2ggPT09IDEgOiBldmVudC5idXR0b24gPT09IDE7CiAgICBpZiAoIXRoaXMubGVmdEJ1dHRvbkRvd24gJiYgIXRoaXMudG91Y2hEb3duKSByZXR1cm47CgogICAgLy8gZ2V0IG1vdXNlIHBvc2l0aW9uIChkaWZmZXJlbnQgY29kZSBmb3IgSUUgYW5kIGFsbCBvdGhlciBicm93c2VycykKICAgIHRoaXMuc3RhcnRNb3VzZVggPSBnZXRNb3VzZVgoZXZlbnQpOwogICAgdGhpcy5zdGFydE1vdXNlWSA9IGdldE1vdXNlWShldmVudCk7CgogICAgdGhpcy5zdGFydFN0YXJ0ID0gbmV3IERhdGUodGhpcy5zdGFydCk7CiAgICB0aGlzLnN0YXJ0RW5kID0gbmV3IERhdGUodGhpcy5lbmQpOwogICAgdGhpcy5zdGFydEFybVJvdGF0aW9uID0gdGhpcy5jYW1lcmEuZ2V0QXJtUm90YXRpb24oKTsKCiAgICB0aGlzLmZyYW1lLnN0eWxlLmN1cnNvciA9ICdtb3ZlJzsKCiAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzIHRvIGhhbmRsZSBtb3ZpbmcgdGhlIGNvbnRlbnRzCiAgICAvLyB3ZSBzdG9yZSB0aGUgZnVuY3Rpb24gb25tb3VzZW1vdmUgYW5kIG9ubW91c2V1cCBpbiB0aGUgZ3JhcGgsIHNvIHdlIGNhbgogICAgLy8gcmVtb3ZlIHRoZSBldmVudGxpc3RlbmVycyBsYXRlcm9uIGluIHRoZSBmdW5jdGlvbiBtb3VzZVVwKCkKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIG1lLl9vbk1vdXNlTW92ZShldmVudCk7CiAgICB9OwogICAgdGhpcy5vbm1vdXNldXAgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbWUuX29uTW91c2VVcChldmVudCk7CiAgICB9OwogICAgdXRpbC5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgbWUub25tb3VzZW1vdmUpOwogICAgdXRpbC5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnbW91c2V1cCcsIG1lLm9ubW91c2V1cCk7CiAgICB1dGlsLnByZXZlbnREZWZhdWx0KGV2ZW50KTsKICB9OwoKICAvKioKICAgKiBQZXJmb3JtIG1vdmluZyBvcGVyYXRpbmcuCiAgICogVGhpcyBmdW5jdGlvbiBhY3RpdmF0ZWQgZnJvbSB3aXRoaW4gdGhlIGZ1bmNpb24gR3JhcGgubW91c2VEb3duKCkuCiAgICogQHBhcmFtIHtFdmVudH0gICBldmVudCAgV2VsbCwgZWVoaCwgdGhlIGV2ZW50CiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDsKCiAgICAvLyBjYWxjdWxhdGUgY2hhbmdlIGluIG1vdXNlIHBvc2l0aW9uCiAgICB2YXIgZGlmZlggPSBwYXJzZUZsb2F0KGdldE1vdXNlWChldmVudCkpIC0gdGhpcy5zdGFydE1vdXNlWDsKICAgIHZhciBkaWZmWSA9IHBhcnNlRmxvYXQoZ2V0TW91c2VZKGV2ZW50KSkgLSB0aGlzLnN0YXJ0TW91c2VZOwoKICAgIHZhciBob3Jpem9udGFsTmV3ID0gdGhpcy5zdGFydEFybVJvdGF0aW9uLmhvcml6b250YWwgKyBkaWZmWCAvIDIwMDsKICAgIHZhciB2ZXJ0aWNhbE5ldyA9IHRoaXMuc3RhcnRBcm1Sb3RhdGlvbi52ZXJ0aWNhbCArIGRpZmZZIC8gMjAwOwoKICAgIHZhciBzbmFwQW5nbGUgPSA0OyAvLyBkZWdyZWVzCiAgICB2YXIgc25hcFZhbHVlID0gTWF0aC5zaW4oc25hcEFuZ2xlIC8gMzYwICogMiAqIE1hdGguUEkpOwoKICAgIC8vIHNuYXAgaG9yaXpvbnRhbGx5IHRvIG5pY2UgYW5nbGVzIGF0IDBwaSwgMC41cGksIDFwaSwgMS41cGksIGV0Yy4uLgogICAgLy8gdGhlIC0wLjAwMSBpcyB0byB0YWtlIGNhcmUgdGhhdCB0aGUgdmVydGljYWwgYXhpcyBpcyBhbHdheXMgZHJhd24gYXQgdGhlIGxlZnQgZnJvbnQgY29ybmVyCiAgICBpZiAoTWF0aC5hYnMoTWF0aC5zaW4oaG9yaXpvbnRhbE5ldykpIDwgc25hcFZhbHVlKSB7CiAgICAgIGhvcml6b250YWxOZXcgPSBNYXRoLnJvdW5kKGhvcml6b250YWxOZXcgLyBNYXRoLlBJKSAqIE1hdGguUEkgLSAwLjAwMTsKICAgIH0KICAgIGlmIChNYXRoLmFicyhNYXRoLmNvcyhob3Jpem9udGFsTmV3KSkgPCBzbmFwVmFsdWUpIHsKICAgICAgaG9yaXpvbnRhbE5ldyA9IChNYXRoLnJvdW5kKGhvcml6b250YWxOZXcgLyBNYXRoLlBJIC0gMC41KSArIDAuNSkgKiBNYXRoLlBJIC0gMC4wMDE7CiAgICB9CgogICAgLy8gc25hcCB2ZXJ0aWNhbGx5IHRvIG5pY2UgYW5nbGVzCiAgICBpZiAoTWF0aC5hYnMoTWF0aC5zaW4odmVydGljYWxOZXcpKSA8IHNuYXBWYWx1ZSkgewogICAgICB2ZXJ0aWNhbE5ldyA9IE1hdGgucm91bmQodmVydGljYWxOZXcgLyBNYXRoLlBJKSAqIE1hdGguUEk7CiAgICB9CiAgICBpZiAoTWF0aC5hYnMoTWF0aC5jb3ModmVydGljYWxOZXcpKSA8IHNuYXBWYWx1ZSkgewogICAgICB2ZXJ0aWNhbE5ldyA9IChNYXRoLnJvdW5kKHZlcnRpY2FsTmV3IC8gTWF0aC5QSSAtIDAuNSkgKyAwLjUpICogTWF0aC5QSTsKICAgIH0KCiAgICB0aGlzLmNhbWVyYS5zZXRBcm1Sb3RhdGlvbihob3Jpem9udGFsTmV3LCB2ZXJ0aWNhbE5ldyk7CiAgICB0aGlzLnJlZHJhdygpOwoKICAgIC8vIGZpcmUgYSBjYW1lcmFQb3NpdGlvbkNoYW5nZSBldmVudAogICAgdmFyIHBhcmFtZXRlcnMgPSB0aGlzLmdldENhbWVyYVBvc2l0aW9uKCk7CiAgICB0aGlzLmVtaXQoJ2NhbWVyYVBvc2l0aW9uQ2hhbmdlJywgcGFyYW1ldGVycyk7CgogICAgdXRpbC5wcmV2ZW50RGVmYXVsdChldmVudCk7CiAgfTsKCiAgLyoqCiAgICogU3RvcCBtb3Zpbmcgb3BlcmF0aW5nLgogICAqIFRoaXMgZnVuY3Rpb24gYWN0aXZhdGVkIGZyb20gd2l0aGluIHRoZSBmdW5jaW9uIEdyYXBoLm1vdXNlRG93bigpLgogICAqIEBwYXJhbSB7ZXZlbnR9ICBldmVudCAgIFRoZSBldmVudAogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9vbk1vdXNlVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHRoaXMuZnJhbWUuc3R5bGUuY3Vyc29yID0gJ2F1dG8nOwogICAgdGhpcy5sZWZ0QnV0dG9uRG93biA9IGZhbHNlOwoKICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgaGVyZQogICAgdXRpbC5yZW1vdmVFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5vbm1vdXNlbW92ZSk7CiAgICB1dGlsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5vbm1vdXNldXApOwogICAgdXRpbC5wcmV2ZW50RGVmYXVsdChldmVudCk7CiAgfTsKCiAgLyoqCiAgICogQWZ0ZXIgaGF2aW5nIG1vdmVkIHRoZSBtb3VzZSwgYSB0b29sdGlwIHNob3VsZCBwb3AgdXAgd2hlbiB0aGUgbW91c2UgaXMgcmVzdGluZyBvbiBhIGRhdGEgcG9pbnQKICAgKiBAcGFyYW0ge0V2ZW50fSAgZXZlbnQgICBBIG1vdXNlIG1vdmUgZXZlbnQKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5fb25Ub29sdGlwID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgZGVsYXkgPSAzMDA7IC8vIG1zCiAgICB2YXIgYm91bmRpbmdSZWN0ID0gdGhpcy5mcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIHZhciBtb3VzZVggPSBnZXRNb3VzZVgoZXZlbnQpIC0gYm91bmRpbmdSZWN0LmxlZnQ7CiAgICB2YXIgbW91c2VZID0gZ2V0TW91c2VZKGV2ZW50KSAtIGJvdW5kaW5nUmVjdC50b3A7CgogICAgaWYgKCF0aGlzLnNob3dUb29sdGlwKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAodGhpcy50b29sdGlwVGltZW91dCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy50b29sdGlwVGltZW91dCk7CiAgICB9CgogICAgLy8gKGRlbGF5ZWQpIGRpc3BsYXkgb2YgYSB0b29sdGlwIG9ubHkgaWYgbm8gbW91c2UgYnV0dG9uIGlzIGRvd24KICAgIGlmICh0aGlzLmxlZnRCdXR0b25Eb3duKSB7CiAgICAgIHRoaXMuX2hpZGVUb29sdGlwKCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAodGhpcy50b29sdGlwICYmIHRoaXMudG9vbHRpcC5kYXRhUG9pbnQpIHsKICAgICAgLy8gdG9vbHRpcCBpcyBjdXJyZW50bHkgdmlzaWJsZQogICAgICB2YXIgZGF0YVBvaW50ID0gdGhpcy5fZGF0YVBvaW50RnJvbVhZKG1vdXNlWCwgbW91c2VZKTsKICAgICAgaWYgKGRhdGFQb2ludCAhPT0gdGhpcy50b29sdGlwLmRhdGFQb2ludCkgewogICAgICAgIC8vIGRhdGFwb2ludCBjaGFuZ2VkCiAgICAgICAgaWYgKGRhdGFQb2ludCkgewogICAgICAgICAgdGhpcy5fc2hvd1Rvb2x0aXAoZGF0YVBvaW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5faGlkZVRvb2x0aXAoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIHRvb2x0aXAgaXMgY3VycmVudGx5IG5vdCB2aXNpYmxlCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHRoaXMudG9vbHRpcFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBtZS50b29sdGlwVGltZW91dCA9IG51bGw7CgogICAgICAgIC8vIHNob3cgYSB0b29sdGlwIGlmIHdlIGhhdmUgYSBkYXRhIHBvaW50CiAgICAgICAgdmFyIGRhdGFQb2ludCA9IG1lLl9kYXRhUG9pbnRGcm9tWFkobW91c2VYLCBtb3VzZVkpOwogICAgICAgIGlmIChkYXRhUG9pbnQpIHsKICAgICAgICAgIG1lLl9zaG93VG9vbHRpcChkYXRhUG9pbnQpOwogICAgICAgIH0KICAgICAgfSwgZGVsYXkpOwogICAgfQogIH07CgogIC8qKgogICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoc3RhcnQgZXZlbnQgb24gbW9iaWxlIGRldmljZXMKICAgKi8KICBHcmFwaDNkLnByb3RvdHlwZS5fb25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB0aGlzLnRvdWNoRG93biA9IHRydWU7CgogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMub250b3VjaG1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbWUuX29uVG91Y2hNb3ZlKGV2ZW50KTsKICAgIH07CiAgICB0aGlzLm9udG91Y2hlbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbWUuX29uVG91Y2hFbmQoZXZlbnQpOwogICAgfTsKICAgIHV0aWwuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ3RvdWNobW92ZScsIG1lLm9udG91Y2htb3ZlKTsKICAgIHV0aWwuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ3RvdWNoZW5kJywgbWUub250b3VjaGVuZCk7CgogICAgdGhpcy5fb25Nb3VzZURvd24oZXZlbnQpOwogIH07CgogIC8qKgogICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRvdWNobW92ZSBldmVudCBvbiBtb2JpbGUgZGV2aWNlcwogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9vblRvdWNoTW92ZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgdGhpcy5fb25Nb3VzZU1vdmUoZXZlbnQpOwogIH07CgogIC8qKgogICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoZW5kIGV2ZW50IG9uIG1vYmlsZSBkZXZpY2VzCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX29uVG91Y2hFbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHRoaXMudG91Y2hEb3duID0gZmFsc2U7CgogICAgdXRpbC5yZW1vdmVFdmVudExpc3RlbmVyKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5vbnRvdWNobW92ZSk7CiAgICB1dGlsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMub250b3VjaGVuZCk7CgogICAgdGhpcy5fb25Nb3VzZVVwKGV2ZW50KTsKICB9OwoKICAvKioKICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZSB3aGVlbCBldmVudCwgdXNlZCB0byB6b29tIHRoZSBncmFwaAogICAqIENvZGUgZnJvbSBodHRwOi8vYWRvbWFzLm9yZy9qYXZhc2NyaXB0LW1vdXNlLXdoZWVsLwogICAqIEBwYXJhbSB7ZXZlbnR9ICBldmVudCAgIFRoZSBldmVudAogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9vbldoZWVsID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KSAvKiBGb3IgSUUuICovCiAgICAgIGV2ZW50ID0gd2luZG93LmV2ZW50OwoKICAgIC8vIHJldHJpZXZlIGRlbHRhCiAgICB2YXIgZGVsdGEgPSAwOwogICAgaWYgKGV2ZW50LndoZWVsRGVsdGEpIHsKICAgICAgLyogSUUvT3BlcmEuICovCiAgICAgIGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YSAvIDEyMDsKICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsKSB7CiAgICAgIC8qIE1vemlsbGEgY2FzZS4gKi8KICAgICAgLy8gSW4gTW96aWxsYSwgc2lnbiBvZiBkZWx0YSBpcyBkaWZmZXJlbnQgdGhhbiBpbiBJRS4KICAgICAgLy8gQWxzbywgZGVsdGEgaXMgbXVsdGlwbGUgb2YgMy4KICAgICAgZGVsdGEgPSAtZXZlbnQuZGV0YWlsIC8gMzsKICAgIH0KCiAgICAvLyBJZiBkZWx0YSBpcyBub256ZXJvLCBoYW5kbGUgaXQuCiAgICAvLyBCYXNpY2FsbHksIGRlbHRhIGlzIG5vdyBwb3NpdGl2ZSBpZiB3aGVlbCB3YXMgc2Nyb2xsZWQgdXAsCiAgICAvLyBhbmQgbmVnYXRpdmUsIGlmIHdoZWVsIHdhcyBzY3JvbGxlZCBkb3duLgogICAgaWYgKGRlbHRhKSB7CiAgICAgIHZhciBvbGRMZW5ndGggPSB0aGlzLmNhbWVyYS5nZXRBcm1MZW5ndGgoKTsKICAgICAgdmFyIG5ld0xlbmd0aCA9IG9sZExlbmd0aCAqICgxIC0gZGVsdGEgLyAxMCk7CgogICAgICB0aGlzLmNhbWVyYS5zZXRBcm1MZW5ndGgobmV3TGVuZ3RoKTsKICAgICAgdGhpcy5yZWRyYXcoKTsKCiAgICAgIHRoaXMuX2hpZGVUb29sdGlwKCk7CiAgICB9CgogICAgLy8gZmlyZSBhIGNhbWVyYVBvc2l0aW9uQ2hhbmdlIGV2ZW50CiAgICB2YXIgcGFyYW1ldGVycyA9IHRoaXMuZ2V0Q2FtZXJhUG9zaXRpb24oKTsKICAgIHRoaXMuZW1pdCgnY2FtZXJhUG9zaXRpb25DaGFuZ2UnLCBwYXJhbWV0ZXJzKTsKCiAgICAvLyBQcmV2ZW50IGRlZmF1bHQgYWN0aW9ucyBjYXVzZWQgYnkgbW91c2Ugd2hlZWwuCiAgICAvLyBUaGF0IG1pZ2h0IGJlIHVnbHksIGJ1dCB3ZSBoYW5kbGUgc2Nyb2xscyBzb21laG93CiAgICAvLyBhbnl3YXksIHNvIGRvbid0IGJvdGhlciBoZXJlLi4KICAgIHV0aWwucHJldmVudERlZmF1bHQoZXZlbnQpOwogIH07CgogIC8qKgogICAqIFRlc3Qgd2hldGhlciBhIHBvaW50IGxpZXMgaW5zaWRlIGdpdmVuIDJEIHRyaWFuZ2xlCiAgICogQHBhcmFtIHtQb2ludDJkfSBwb2ludAogICAqIEBwYXJhbSB7UG9pbnQyZFtdfSB0cmlhbmdsZQogICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBnaXZlbiBwb2ludCBsaWVzIGluc2lkZSBvciBvbiB0aGUgZWRnZSBvZiB0aGUgdHJpYW5nbGUKICAgKiBAcHJpdmF0ZQogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9pbnNpZGVUcmlhbmdsZSA9IGZ1bmN0aW9uIChwb2ludCwgdHJpYW5nbGUpIHsKICAgIHZhciBhID0gdHJpYW5nbGVbMF0sCiAgICAgICAgYiA9IHRyaWFuZ2xlWzFdLAogICAgICAgIGMgPSB0cmlhbmdsZVsyXTsKCiAgICBmdW5jdGlvbiBzaWduKHgpIHsKICAgICAgcmV0dXJuIHggPiAwID8gMSA6IHggPCAwID8gLTEgOiAwOwogICAgfQoKICAgIHZhciBhcyA9IHNpZ24oKGIueCAtIGEueCkgKiAocG9pbnQueSAtIGEueSkgLSAoYi55IC0gYS55KSAqIChwb2ludC54IC0gYS54KSk7CiAgICB2YXIgYnMgPSBzaWduKChjLnggLSBiLngpICogKHBvaW50LnkgLSBiLnkpIC0gKGMueSAtIGIueSkgKiAocG9pbnQueCAtIGIueCkpOwogICAgdmFyIGNzID0gc2lnbigoYS54IC0gYy54KSAqIChwb2ludC55IC0gYy55KSAtIChhLnkgLSBjLnkpICogKHBvaW50LnggLSBjLngpKTsKCiAgICAvLyBlYWNoIG9mIHRoZSB0aHJlZSBzaWducyBtdXN0IGJlIGVpdGhlciBlcXVhbCB0byBlYWNoIG90aGVyIG9yIHplcm8KICAgIHJldHVybiAoYXMgPT0gMCB8fCBicyA9PSAwIHx8IGFzID09IGJzKSAmJiAoYnMgPT0gMCB8fCBjcyA9PSAwIHx8IGJzID09IGNzKSAmJiAoYXMgPT0gMCB8fCBjcyA9PSAwIHx8IGFzID09IGNzKTsKICB9OwoKICAvKioKICAgKiBGaW5kIGEgZGF0YSBwb2ludCBjbG9zZSB0byBnaXZlbiBzY3JlZW4gcG9zaXRpb24gKHgsIHkpCiAgICogQHBhcmFtIHtOdW1iZXJ9IHgKICAgKiBAcGFyYW0ge051bWJlcn0geQogICAqIEByZXR1cm4ge09iamVjdCB8IG51bGx9IFRoZSBjbG9zZXN0IGRhdGEgcG9pbnQgb3IgbnVsbCBpZiBub3QgY2xvc2UgdG8gYW55IGRhdGEgcG9pbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9kYXRhUG9pbnRGcm9tWFkgPSBmdW5jdGlvbiAoeCwgeSkgewogICAgdmFyIGksCiAgICAgICAgZGlzdE1heCA9IDEwMCwKICAgICAgICAvLyBweAogICAgZGF0YVBvaW50ID0gbnVsbCwKICAgICAgICBjbG9zZXN0RGF0YVBvaW50ID0gbnVsbCwKICAgICAgICBjbG9zZXN0RGlzdCA9IG51bGwsCiAgICAgICAgY2VudGVyID0gbmV3IFBvaW50MmQoeCwgeSk7CgogICAgaWYgKHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuQkFSIHx8IHRoaXMuc3R5bGUgPT09IEdyYXBoM2QuU1RZTEUuQkFSQ09MT1IgfHwgdGhpcy5zdHlsZSA9PT0gR3JhcGgzZC5TVFlMRS5CQVJTSVpFKSB7CiAgICAgIC8vIHRoZSBkYXRhIHBvaW50cyBhcmUgb3JkZXJlZCBmcm9tIGZhciBhd2F5IHRvIGNsb3Nlc3QKICAgICAgZm9yIChpID0gdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgZGF0YVBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldOwogICAgICAgIHZhciBzdXJmYWNlcyA9IGRhdGFQb2ludC5zdXJmYWNlczsKICAgICAgICBpZiAoc3VyZmFjZXMpIHsKICAgICAgICAgIGZvciAodmFyIHMgPSBzdXJmYWNlcy5sZW5ndGggLSAxOyBzID49IDA7IHMtLSkgewogICAgICAgICAgICAvLyBzcGxpdCBlYWNoIHN1cmZhY2UgaW4gdHdvIHRyaWFuZ2xlcywgYW5kIHNlZSBpZiB0aGUgY2VudGVyIHBvaW50IGlzIGluc2lkZSBvbmUgb2YgdGhlc2UKICAgICAgICAgICAgdmFyIHN1cmZhY2UgPSBzdXJmYWNlc1tzXTsKICAgICAgICAgICAgdmFyIGNvcm5lcnMgPSBzdXJmYWNlLmNvcm5lcnM7CiAgICAgICAgICAgIHZhciB0cmlhbmdsZTEgPSBbY29ybmVyc1swXS5zY3JlZW4sIGNvcm5lcnNbMV0uc2NyZWVuLCBjb3JuZXJzWzJdLnNjcmVlbl07CiAgICAgICAgICAgIHZhciB0cmlhbmdsZTIgPSBbY29ybmVyc1syXS5zY3JlZW4sIGNvcm5lcnNbM10uc2NyZWVuLCBjb3JuZXJzWzBdLnNjcmVlbl07CiAgICAgICAgICAgIGlmICh0aGlzLl9pbnNpZGVUcmlhbmdsZShjZW50ZXIsIHRyaWFuZ2xlMSkgfHwgdGhpcy5faW5zaWRlVHJpYW5nbGUoY2VudGVyLCB0cmlhbmdsZTIpKSB7CiAgICAgICAgICAgICAgLy8gcmV0dXJuIGltbWVkaWF0ZWx5IGF0IHRoZSBmaXJzdCBoaXQKICAgICAgICAgICAgICByZXR1cm4gZGF0YVBvaW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBmaW5kIHRoZSBjbG9zZXN0IGRhdGEgcG9pbnQsIHVzaW5nIGRpc3RhbmNlIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHBvaW50IG9uIDJkIHNjcmVlbgogICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldOwogICAgICAgIHZhciBwb2ludCA9IGRhdGFQb2ludC5zY3JlZW47CiAgICAgICAgaWYgKHBvaW50KSB7CiAgICAgICAgICB2YXIgZGlzdFggPSBNYXRoLmFicyh4IC0gcG9pbnQueCk7CiAgICAgICAgICB2YXIgZGlzdFkgPSBNYXRoLmFicyh5IC0gcG9pbnQueSk7CiAgICAgICAgICB2YXIgZGlzdCA9IE1hdGguc3FydChkaXN0WCAqIGRpc3RYICsgZGlzdFkgKiBkaXN0WSk7CgogICAgICAgICAgaWYgKChjbG9zZXN0RGlzdCA9PT0gbnVsbCB8fCBkaXN0IDwgY2xvc2VzdERpc3QpICYmIGRpc3QgPCBkaXN0TWF4KSB7CiAgICAgICAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDsKICAgICAgICAgICAgY2xvc2VzdERhdGFQb2ludCA9IGRhdGFQb2ludDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gY2xvc2VzdERhdGFQb2ludDsKICB9OwoKICAvKioKICAgKiBEaXNwbGF5IGEgdG9vbHRpcCBmb3IgZ2l2ZW4gZGF0YSBwb2ludAogICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhUG9pbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIEdyYXBoM2QucHJvdG90eXBlLl9zaG93VG9vbHRpcCA9IGZ1bmN0aW9uIChkYXRhUG9pbnQpIHsKICAgIHZhciBjb250ZW50LCBsaW5lLCBkb3Q7CgogICAgaWYgKCF0aGlzLnRvb2x0aXApIHsKICAgICAgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBjb250ZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgICAgY29udGVudC5zdHlsZS5wYWRkaW5nID0gJzEwcHgnOwogICAgICBjb250ZW50LnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgIzRkNGQ0ZCc7CiAgICAgIGNvbnRlbnQuc3R5bGUuY29sb3IgPSAnIzFhMWExYSc7CiAgICAgIGNvbnRlbnQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNyknOwogICAgICBjb250ZW50LnN0eWxlLmJvcmRlclJhZGl1cyA9ICcycHgnOwogICAgICBjb250ZW50LnN0eWxlLmJveFNoYWRvdyA9ICc1cHggNXB4IDEwcHggcmdiYSgxMjgsMTI4LDEyOCwwLjUpJzsKCiAgICAgIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgbGluZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICAgIGxpbmUuc3R5bGUuaGVpZ2h0ID0gJzQwcHgnOwogICAgICBsaW5lLnN0eWxlLndpZHRoID0gJzAnOwogICAgICBsaW5lLnN0eWxlLmJvcmRlckxlZnQgPSAnMXB4IHNvbGlkICM0ZDRkNGQnOwoKICAgICAgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGRvdC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICAgIGRvdC5zdHlsZS5oZWlnaHQgPSAnMCc7CiAgICAgIGRvdC5zdHlsZS53aWR0aCA9ICcwJzsKICAgICAgZG90LnN0eWxlLmJvcmRlciA9ICc1cHggc29saWQgIzRkNGQ0ZCc7CiAgICAgIGRvdC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNXB4JzsKCiAgICAgIHRoaXMudG9vbHRpcCA9IHsKICAgICAgICBkYXRhUG9pbnQ6IG51bGwsCiAgICAgICAgZG9tOiB7CiAgICAgICAgICBjb250ZW50OiBjb250ZW50LAogICAgICAgICAgbGluZTogbGluZSwKICAgICAgICAgIGRvdDogZG90CiAgICAgICAgfQogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgY29udGVudCA9IHRoaXMudG9vbHRpcC5kb20uY29udGVudDsKICAgICAgbGluZSA9IHRoaXMudG9vbHRpcC5kb20ubGluZTsKICAgICAgZG90ID0gdGhpcy50b29sdGlwLmRvbS5kb3Q7CiAgICB9CgogICAgdGhpcy5faGlkZVRvb2x0aXAoKTsKCiAgICB0aGlzLnRvb2x0aXAuZGF0YVBvaW50ID0gZGF0YVBvaW50OwogICAgaWYgKHR5cGVvZiB0aGlzLnNob3dUb29sdGlwID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gdGhpcy5zaG93VG9vbHRpcChkYXRhUG9pbnQucG9pbnQpOwogICAgfSBlbHNlIHsKICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnPHRhYmxlPicgKyAnPHRyPjx0ZD54OjwvdGQ+PHRkPicgKyBkYXRhUG9pbnQucG9pbnQueCArICc8L3RkPjwvdHI+JyArICc8dHI+PHRkPnk6PC90ZD48dGQ+JyArIGRhdGFQb2ludC5wb2ludC55ICsgJzwvdGQ+PC90cj4nICsgJzx0cj48dGQ+ejo8L3RkPjx0ZD4nICsgZGF0YVBvaW50LnBvaW50LnogKyAnPC90ZD48L3RyPicgKyAnPC90YWJsZT4nOwogICAgfQoKICAgIGNvbnRlbnQuc3R5bGUubGVmdCA9ICcwJzsKICAgIGNvbnRlbnQuc3R5bGUudG9wID0gJzAnOwogICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZChjb250ZW50KTsKICAgIHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQobGluZSk7CiAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKGRvdCk7CgogICAgLy8gY2FsY3VsYXRlIHNpemVzCiAgICB2YXIgY29udGVudFdpZHRoID0gY29udGVudC5vZmZzZXRXaWR0aDsKICAgIHZhciBjb250ZW50SGVpZ2h0ID0gY29udGVudC5vZmZzZXRIZWlnaHQ7CiAgICB2YXIgbGluZUhlaWdodCA9IGxpbmUub2Zmc2V0SGVpZ2h0OwogICAgdmFyIGRvdFdpZHRoID0gZG90Lm9mZnNldFdpZHRoOwogICAgdmFyIGRvdEhlaWdodCA9IGRvdC5vZmZzZXRIZWlnaHQ7CgogICAgdmFyIGxlZnQgPSBkYXRhUG9pbnQuc2NyZWVuLnggLSBjb250ZW50V2lkdGggLyAyOwogICAgbGVmdCA9IE1hdGgubWluKE1hdGgubWF4KGxlZnQsIDEwKSwgdGhpcy5mcmFtZS5jbGllbnRXaWR0aCAtIDEwIC0gY29udGVudFdpZHRoKTsKCiAgICBsaW5lLnN0eWxlLmxlZnQgPSBkYXRhUG9pbnQuc2NyZWVuLnggKyAncHgnOwogICAgbGluZS5zdHlsZS50b3AgPSBkYXRhUG9pbnQuc2NyZWVuLnkgLSBsaW5lSGVpZ2h0ICsgJ3B4JzsKICAgIGNvbnRlbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnOwogICAgY29udGVudC5zdHlsZS50b3AgPSBkYXRhUG9pbnQuc2NyZWVuLnkgLSBsaW5lSGVpZ2h0IC0gY29udGVudEhlaWdodCArICdweCc7CiAgICBkb3Quc3R5bGUubGVmdCA9IGRhdGFQb2ludC5zY3JlZW4ueCAtIGRvdFdpZHRoIC8gMiArICdweCc7CiAgICBkb3Quc3R5bGUudG9wID0gZGF0YVBvaW50LnNjcmVlbi55IC0gZG90SGVpZ2h0IC8gMiArICdweCc7CiAgfTsKCiAgLyoqCiAgICogSGlkZSB0aGUgdG9vbHRpcCB3aGVuIGRpc3BsYXllZAogICAqIEBwcml2YXRlCiAgICovCiAgR3JhcGgzZC5wcm90b3R5cGUuX2hpZGVUb29sdGlwID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMudG9vbHRpcCkgewogICAgICB0aGlzLnRvb2x0aXAuZGF0YVBvaW50ID0gbnVsbDsKCiAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy50b29sdGlwLmRvbSkgewogICAgICAgIGlmICh0aGlzLnRvb2x0aXAuZG9tLmhhc093blByb3BlcnR5KHByb3ApKSB7CiAgICAgICAgICB2YXIgZWxlbSA9IHRoaXMudG9vbHRpcC5kb21bcHJvcF07CiAgICAgICAgICBpZiAoZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKiovCgogIC8qKgogICAqIEdldCB0aGUgaG9yaXpvbnRhbCBtb3VzZSBwb3NpdGlvbiBmcm9tIGEgbW91c2UgZXZlbnQKICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEByZXR1cm4ge051bWJlcn0gbW91c2UgeAogICAqLwogIGZ1bmN0aW9uIGdldE1vdXNlWChldmVudCkgewogICAgaWYgKCdjbGllbnRYJyBpbiBldmVudCkgcmV0dXJuIGV2ZW50LmNsaWVudFg7CiAgICByZXR1cm4gZXZlbnQudGFyZ2V0VG91Y2hlc1swXSAmJiBldmVudC50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFggfHwgMDsKICB9CgogIC8qKgogICAqIEdldCB0aGUgdmVydGljYWwgbW91c2UgcG9zaXRpb24gZnJvbSBhIG1vdXNlIGV2ZW50CiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG1vdXNlIHkKICAgKi8KICBmdW5jdGlvbiBnZXRNb3VzZVkoZXZlbnQpIHsKICAgIGlmICgnY2xpZW50WScgaW4gZXZlbnQpIHJldHVybiBldmVudC5jbGllbnRZOwogICAgcmV0dXJuIGV2ZW50LnRhcmdldFRvdWNoZXNbMF0gJiYgZXZlbnQudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZIHx8IDA7CiAgfQoKICBtb2R1bGUuZXhwb3J0cyA9IEdyYXBoM2Q7CgogIC8vIHVzZSB1c2UgZGVmYXVsdHMKCi8qKiovIH0sCi8qIDEyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICAvKioKICAgKiBAcHJvdG90eXBlIFBvaW50MmQKICAgKiBAcGFyYW0ge051bWJlcn0gW3hdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFt5XQogICAqLwogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gUG9pbnQyZCh4LCB5KSB7CiAgICB0aGlzLnggPSB4ICE9PSB1bmRlZmluZWQgPyB4IDogMDsKICAgIHRoaXMueSA9IHkgIT09IHVuZGVmaW5lZCA/IHkgOiAwOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBQb2ludDJkOwoKLyoqKi8gfSwKLyogMTMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgogIAogIC8qKgogICAqIEV4cG9zZSBgRW1pdHRlcmAuCiAgICovCgogIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjsKCiAgLyoqCiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuCiAgICoKICAgKiBAYXBpIHB1YmxpYwogICAqLwoKICBmdW5jdGlvbiBFbWl0dGVyKG9iaikgewogICAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7CiAgfTsKCiAgLyoqCiAgICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy4KICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoKICAgKiBAcmV0dXJuIHtPYmplY3R9CiAgICogQGFwaSBwcml2YXRlCiAgICovCgogIGZ1bmN0aW9uIG1peGluKG9iaikgewogICAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7CiAgICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTsKICAgIH0KICAgIHJldHVybiBvYmo7CiAgfQoKICAvKioKICAgKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLgogICAqCiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50CiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4KICAgKiBAcmV0dXJuIHtFbWl0dGVyfQogICAqIEBhcGkgcHVibGljCiAgICovCgogIEVtaXR0ZXIucHJvdG90eXBlLm9uID0KICBFbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXsKICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTsKICAgICh0aGlzLl9jYWxsYmFja3NbZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzW2V2ZW50XSB8fCBbXSkKICAgICAgLnB1c2goZm4pOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLyoqCiAgICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlCiAgICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC4KICAgKgogICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudAogICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuCiAgICogQHJldHVybiB7RW1pdHRlcn0KICAgKiBAYXBpIHB1YmxpYwogICAqLwoKICBFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTsKCiAgICBmdW5jdGlvbiBvbigpIHsKICAgICAgc2VsZi5vZmYoZXZlbnQsIG9uKTsKICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBvbi5mbiA9IGZuOwogICAgdGhpcy5vbihldmVudCwgb24pOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLyoqCiAgICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGwKICAgKiByZWdpc3RlcmVkIGNhbGxiYWNrcy4KICAgKgogICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudAogICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuCiAgICogQHJldHVybiB7RW1pdHRlcn0KICAgKiBAYXBpIHB1YmxpYwogICAqLwoKICBFbWl0dGVyLnByb3RvdHlwZS5vZmYgPQogIEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0KICBFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPQogIEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pewogICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9OwoKICAgIC8vIGFsbAogICAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkgewogICAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLy8gc3BlY2lmaWMgZXZlbnQKICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbZXZlbnRdOwogICAgaWYgKCFjYWxsYmFja3MpIHJldHVybiB0aGlzOwoKICAgIC8vIHJlbW92ZSBhbGwgaGFuZGxlcnMKICAgIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHsKICAgICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tldmVudF07CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyCiAgICB2YXIgY2I7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykgewogICAgICBjYiA9IGNhbGxiYWNrc1tpXTsKICAgICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHsKICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvKioKICAgKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy4KICAgKgogICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudAogICAqIEBwYXJhbSB7TWl4ZWR9IC4uLgogICAqIEByZXR1cm4ge0VtaXR0ZXJ9CiAgICovCgogIEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7CiAgICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307CiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKQogICAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1tldmVudF07CgogICAgaWYgKGNhbGxiYWNrcykgewogICAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7CiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHsKICAgICAgICBjYWxsYmFja3NbaV0uYXBwbHkodGhpcywgYXJncyk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvKioKICAgKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLgogICAqCiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50CiAgICogQHJldHVybiB7QXJyYXl9CiAgICogQGFwaSBwdWJsaWMKICAgKi8KCiAgRW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpewogICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9OwogICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1tldmVudF0gfHwgW107CiAgfTsKCiAgLyoqCiAgICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLgogICAqCiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50CiAgICogQHJldHVybiB7Qm9vbGVhbn0KICAgKiBAYXBpIHB1YmxpYwogICAqLwoKICBFbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7CiAgICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDsKICB9OwoKCi8qKiovIH0sCi8qIDE0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICAvKioKICAgKiBAcHJvdG90eXBlIFBvaW50M2QKICAgKiBAcGFyYW0ge051bWJlcn0gW3hdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFt5XQogICAqIEBwYXJhbSB7TnVtYmVyfSBbel0KICAgKi8KICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIFBvaW50M2QoeCwgeSwgeikgewogICAgdGhpcy54ID0geCAhPT0gdW5kZWZpbmVkID8geCA6IDA7CiAgICB0aGlzLnkgPSB5ICE9PSB1bmRlZmluZWQgPyB5IDogMDsKICAgIHRoaXMueiA9IHogIT09IHVuZGVmaW5lZCA/IHogOiAwOwogIH07CgogIC8qKgogICAqIFN1YnRyYWN0IHRoZSB0d28gcHJvdmlkZWQgcG9pbnRzLCByZXR1cm5zIGEtYgogICAqIEBwYXJhbSB7UG9pbnQzZH0gYQogICAqIEBwYXJhbSB7UG9pbnQzZH0gYgogICAqIEByZXR1cm4ge1BvaW50M2R9IGEtYgogICAqLwogIFBvaW50M2Quc3VidHJhY3QgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIHN1YiA9IG5ldyBQb2ludDNkKCk7CiAgICBzdWIueCA9IGEueCAtIGIueDsKICAgIHN1Yi55ID0gYS55IC0gYi55OwogICAgc3ViLnogPSBhLnogLSBiLno7CiAgICByZXR1cm4gc3ViOwogIH07CgogIC8qKgogICAqIEFkZCB0aGUgdHdvIHByb3ZpZGVkIHBvaW50cywgcmV0dXJucyBhK2IKICAgKiBAcGFyYW0ge1BvaW50M2R9IGEKICAgKiBAcGFyYW0ge1BvaW50M2R9IGIKICAgKiBAcmV0dXJuIHtQb2ludDNkfSBhK2IKICAgKi8KICBQb2ludDNkLmFkZCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgc3VtID0gbmV3IFBvaW50M2QoKTsKICAgIHN1bS54ID0gYS54ICsgYi54OwogICAgc3VtLnkgPSBhLnkgKyBiLnk7CiAgICBzdW0ueiA9IGEueiArIGIuejsKICAgIHJldHVybiBzdW07CiAgfTsKCiAgLyoqCiAgICogQ2FsY3VsYXRlIHRoZSBhdmVyYWdlIG9mIHR3byAzZCBwb2ludHMKICAgKiBAcGFyYW0ge1BvaW50M2R9IGEKICAgKiBAcGFyYW0ge1BvaW50M2R9IGIKICAgKiBAcmV0dXJuIHtQb2ludDNkfSBUaGUgYXZlcmFnZSwgKGErYikvMgogICAqLwogIFBvaW50M2QuYXZnID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBuZXcgUG9pbnQzZCgoYS54ICsgYi54KSAvIDIsIChhLnkgKyBiLnkpIC8gMiwgKGEueiArIGIueikgLyAyKTsKICB9OwoKICAvKioKICAgKiBDYWxjdWxhdGUgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdGhlIHR3byBwcm92aWRlZCBwb2ludHMsIHJldHVybnMgYXhiCiAgICogRG9jdW1lbnRhdGlvbjogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zc19wcm9kdWN0CiAgICogQHBhcmFtIHtQb2ludDNkfSBhCiAgICogQHBhcmFtIHtQb2ludDNkfSBiCiAgICogQHJldHVybiB7UG9pbnQzZH0gY3Jvc3MgcHJvZHVjdCBheGIKICAgKi8KICBQb2ludDNkLmNyb3NzUHJvZHVjdCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgY3Jvc3Nwcm9kdWN0ID0gbmV3IFBvaW50M2QoKTsKCiAgICBjcm9zc3Byb2R1Y3QueCA9IGEueSAqIGIueiAtIGEueiAqIGIueTsKICAgIGNyb3NzcHJvZHVjdC55ID0gYS56ICogYi54IC0gYS54ICogYi56OwogICAgY3Jvc3Nwcm9kdWN0LnogPSBhLnggKiBiLnkgLSBhLnkgKiBiLng7CgogICAgcmV0dXJuIGNyb3NzcHJvZHVjdDsKICB9OwoKICAvKioKICAgKiBSdHJpZXZlIHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvciAob3IgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byB0aGUgb3JpZ2luCiAgICogQHJldHVybiB7TnVtYmVyfSAgbGVuZ3RoCiAgICovCiAgUG9pbnQzZC5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopOwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gUG9pbnQzZDsKCi8qKiovIH0sCi8qIDE1ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBQb2ludDNkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7CgogIC8qKgogICAqIEBjbGFzcyBDYW1lcmEKICAgKiBUaGUgY2FtZXJhIGlzIG1vdW50ZWQgb24gYSAodmlydHVhbCkgY2FtZXJhIGFybS4gVGhlIGNhbWVyYSBhcm0gY2FuIHJvdGF0ZQogICAqIFRoZSBjYW1lcmEgaXMgYWx3YXlzIGxvb2tpbmcgaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgb3JpZ2luIG9mIHRoZSBhcm0uCiAgICogVGhpcyB3YXksIHRoZSBjYW1lcmEgYWx3YXlzIHJvdGF0ZXMgYXJvdW5kIG9uZSBmaXhlZCBwb2ludCwgdGhlIGxvY2F0aW9uCiAgICogb2YgdGhlIGNhbWVyYSBhcm0uCiAgICoKICAgKiBEb2N1bWVudGF0aW9uOgogICAqICAgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS8zRF9wcm9qZWN0aW9uCiAgICovCiAgZnVuY3Rpb24gQ2FtZXJhKCkgewogICAgdGhpcy5hcm1Mb2NhdGlvbiA9IG5ldyBQb2ludDNkKCk7CiAgICB0aGlzLmFybVJvdGF0aW9uID0ge307CiAgICB0aGlzLmFybVJvdGF0aW9uLmhvcml6b250YWwgPSAwOwogICAgdGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbCA9IDA7CiAgICB0aGlzLmFybUxlbmd0aCA9IDEuNzsKCiAgICB0aGlzLmNhbWVyYUxvY2F0aW9uID0gbmV3IFBvaW50M2QoKTsKICAgIHRoaXMuY2FtZXJhUm90YXRpb24gPSBuZXcgUG9pbnQzZCgwLjUgKiBNYXRoLlBJLCAwLCAwKTsKCiAgICB0aGlzLmNhbGN1bGF0ZUNhbWVyYU9yaWVudGF0aW9uKCk7CiAgfQoKICAvKioKICAgKiBTZXQgdGhlIGxvY2F0aW9uIChvcmlnaW4pIG9mIHRoZSBhcm0KICAgKiBAcGFyYW0ge051bWJlcn0geCAgTm9ybWFsaXplZCB2YWx1ZSBvZiB4CiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgIE5vcm1hbGl6ZWQgdmFsdWUgb2YgeQogICAqIEBwYXJhbSB7TnVtYmVyfSB6ICBOb3JtYWxpemVkIHZhbHVlIG9mIHoKICAgKi8KICBDYW1lcmEucHJvdG90eXBlLnNldEFybUxvY2F0aW9uID0gZnVuY3Rpb24gKHgsIHksIHopIHsKICAgIHRoaXMuYXJtTG9jYXRpb24ueCA9IHg7CiAgICB0aGlzLmFybUxvY2F0aW9uLnkgPSB5OwogICAgdGhpcy5hcm1Mb2NhdGlvbi56ID0gejsKCiAgICB0aGlzLmNhbGN1bGF0ZUNhbWVyYU9yaWVudGF0aW9uKCk7CiAgfTsKCiAgLyoqCiAgICogU2V0IHRoZSByb3RhdGlvbiBvZiB0aGUgY2FtZXJhIGFybQogICAqIEBwYXJhbSB7TnVtYmVyfSBob3Jpem9udGFsICAgVGhlIGhvcml6b250YWwgcm90YXRpb24sIGJldHdlZW4gMCBhbmQgMipQSS4KICAgKiAgICAgICAgICAgICAgICBPcHRpb25hbCwgY2FuIGJlIGxlZnQgdW5kZWZpbmVkLgogICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0aWNhbCAgIFRoZSB2ZXJ0aWNhbCByb3RhdGlvbiwgYmV0d2VlbiAwIGFuZCAwLjUqUEkKICAgKiAgICAgICAgICAgICAgICBpZiB2ZXJ0aWNhbD0wLjUqUEksIHRoZSBncmFwaCBpcyBzaG93biBmcm9tIHRoZQogICAqICAgICAgICAgICAgICAgIHRvcC4gT3B0aW9uYWwsIGNhbiBiZSBsZWZ0IHVuZGVmaW5lZC4KICAgKi8KICBDYW1lcmEucHJvdG90eXBlLnNldEFybVJvdGF0aW9uID0gZnVuY3Rpb24gKGhvcml6b250YWwsIHZlcnRpY2FsKSB7CiAgICBpZiAoaG9yaXpvbnRhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuYXJtUm90YXRpb24uaG9yaXpvbnRhbCA9IGhvcml6b250YWw7CiAgICB9CgogICAgaWYgKHZlcnRpY2FsICE9PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbCA9IHZlcnRpY2FsOwogICAgICBpZiAodGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbCA8IDApIHRoaXMuYXJtUm90YXRpb24udmVydGljYWwgPSAwOwogICAgICBpZiAodGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbCA+IDAuNSAqIE1hdGguUEkpIHRoaXMuYXJtUm90YXRpb24udmVydGljYWwgPSAwLjUgKiBNYXRoLlBJOwogICAgfQoKICAgIGlmIChob3Jpem9udGFsICE9PSB1bmRlZmluZWQgfHwgdmVydGljYWwgIT09IHVuZGVmaW5lZCkgewogICAgICB0aGlzLmNhbGN1bGF0ZUNhbWVyYU9yaWVudGF0aW9uKCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmV0cmlldmUgdGhlIGN1cnJlbnQgYXJtIHJvdGF0aW9uCiAgICogQHJldHVybiB7b2JqZWN0fSAgIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlcnMgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwKICAgKi8KICBDYW1lcmEucHJvdG90eXBlLmdldEFybVJvdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHJvdCA9IHt9OwogICAgcm90Lmhvcml6b250YWwgPSB0aGlzLmFybVJvdGF0aW9uLmhvcml6b250YWw7CiAgICByb3QudmVydGljYWwgPSB0aGlzLmFybVJvdGF0aW9uLnZlcnRpY2FsOwoKICAgIHJldHVybiByb3Q7CiAgfTsKCiAgLyoqCiAgICogU2V0IHRoZSAobm9ybWFsaXplZCkgbGVuZ3RoIG9mIHRoZSBjYW1lcmEgYXJtLgogICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggQSBsZW5ndGggYmV0d2VlbiAwLjcxIGFuZCA1LjAKICAgKi8KICBDYW1lcmEucHJvdG90eXBlLnNldEFybUxlbmd0aCA9IGZ1bmN0aW9uIChsZW5ndGgpIHsKICAgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgIHRoaXMuYXJtTGVuZ3RoID0gbGVuZ3RoOwoKICAgIC8vIFJhZGl1cyBtdXN0IGJlIGxhcmdlciB0aGFuIHRoZSBjb3JuZXIgb2YgdGhlIGdyYXBoLAogICAgLy8gd2hpY2ggaGFzIGEgZGlzdGFuY2Ugb2Ygc3FydCgwLjVeMiswLjVeMikgPSAwLjcxIGZyb20gdGhlIGNlbnRlciBvZiB0aGUKICAgIC8vIGdyYXBoCiAgICBpZiAodGhpcy5hcm1MZW5ndGggPCAwLjcxKSB0aGlzLmFybUxlbmd0aCA9IDAuNzE7CiAgICBpZiAodGhpcy5hcm1MZW5ndGggPiA1KSB0aGlzLmFybUxlbmd0aCA9IDU7CgogICAgdGhpcy5jYWxjdWxhdGVDYW1lcmFPcmllbnRhdGlvbigpOwogIH07CgogIC8qKgogICAqIFJldHJpZXZlIHRoZSBhcm0gbGVuZ3RoCiAgICogQHJldHVybiB7TnVtYmVyfSBsZW5ndGgKICAgKi8KICBDYW1lcmEucHJvdG90eXBlLmdldEFybUxlbmd0aCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmFybUxlbmd0aDsKICB9OwoKICAvKioKICAgKiBSZXRyaWV2ZSB0aGUgY2FtZXJhIGxvY2F0aW9uCiAgICogQHJldHVybiB7UG9pbnQzZH0gY2FtZXJhTG9jYXRpb24KICAgKi8KICBDYW1lcmEucHJvdG90eXBlLmdldENhbWVyYUxvY2F0aW9uID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY2FtZXJhTG9jYXRpb247CiAgfTsKCiAgLyoqCiAgICogUmV0cmlldmUgdGhlIGNhbWVyYSByb3RhdGlvbgogICAqIEByZXR1cm4ge1BvaW50M2R9IGNhbWVyYVJvdGF0aW9uCiAgICovCiAgQ2FtZXJhLnByb3RvdHlwZS5nZXRDYW1lcmFSb3RhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNhbWVyYVJvdGF0aW9uOwogIH07CgogIC8qKgogICAqIENhbGN1bGF0ZSB0aGUgbG9jYXRpb24gYW5kIHJvdGF0aW9uIG9mIHRoZSBjYW1lcmEgYmFzZWQgb24gdGhlCiAgICogcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZSBjYW1lcmEgYXJtCiAgICovCiAgQ2FtZXJhLnByb3RvdHlwZS5jYWxjdWxhdGVDYW1lcmFPcmllbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIGNhbGN1bGF0ZSBsb2NhdGlvbiBvZiB0aGUgY2FtZXJhCiAgICB0aGlzLmNhbWVyYUxvY2F0aW9uLnggPSB0aGlzLmFybUxvY2F0aW9uLnggLSB0aGlzLmFybUxlbmd0aCAqIE1hdGguc2luKHRoaXMuYXJtUm90YXRpb24uaG9yaXpvbnRhbCkgKiBNYXRoLmNvcyh0aGlzLmFybVJvdGF0aW9uLnZlcnRpY2FsKTsKICAgIHRoaXMuY2FtZXJhTG9jYXRpb24ueSA9IHRoaXMuYXJtTG9jYXRpb24ueSAtIHRoaXMuYXJtTGVuZ3RoICogTWF0aC5jb3ModGhpcy5hcm1Sb3RhdGlvbi5ob3Jpem9udGFsKSAqIE1hdGguY29zKHRoaXMuYXJtUm90YXRpb24udmVydGljYWwpOwogICAgdGhpcy5jYW1lcmFMb2NhdGlvbi56ID0gdGhpcy5hcm1Mb2NhdGlvbi56ICsgdGhpcy5hcm1MZW5ndGggKiBNYXRoLnNpbih0aGlzLmFybVJvdGF0aW9uLnZlcnRpY2FsKTsKCiAgICAvLyBjYWxjdWxhdGUgcm90YXRpb24gb2YgdGhlIGNhbWVyYQogICAgdGhpcy5jYW1lcmFSb3RhdGlvbi54ID0gTWF0aC5QSSAvIDIgLSB0aGlzLmFybVJvdGF0aW9uLnZlcnRpY2FsOwogICAgdGhpcy5jYW1lcmFSb3RhdGlvbi55ID0gMDsKICAgIHRoaXMuY2FtZXJhUm90YXRpb24ueiA9IC10aGlzLmFybVJvdGF0aW9uLmhvcml6b250YWw7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBDYW1lcmE7CgovKioqLyB9LAovKiAxNiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgRGF0YVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKCiAgLyoqCiAgICogQGNsYXNzIEZpbHRlcgogICAqCiAgICogQHBhcmFtIHtEYXRhU2V0fSBkYXRhIFRoZSBnb29nbGUgZGF0YSB0YWJsZQogICAqIEBwYXJhbSB7TnVtYmVyfSAgY29sdW1uICAgICAgICAgICAgIFRoZSBpbmRleCBvZiB0aGUgY29sdW1uIHRvIGJlIGZpbHRlcmVkCiAgICogQHBhcmFtIHtHcmFwaH0gZ3JhcGggICAgICAgICAgIFRoZSBncmFwaAogICAqLwogIGZ1bmN0aW9uIEZpbHRlcihkYXRhLCBjb2x1bW4sIGdyYXBoKSB7CiAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47CiAgICB0aGlzLmdyYXBoID0gZ3JhcGg7IC8vIHRoZSBwYXJlbnQgZ3JhcGgKCiAgICB0aGlzLmluZGV4ID0gdW5kZWZpbmVkOwogICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDsKCiAgICAvLyByZWFkIGFsbCBkaXN0aW5jdCB2YWx1ZXMgYW5kIHNlbGVjdCB0aGUgZmlyc3Qgb25lCiAgICB0aGlzLnZhbHVlcyA9IGdyYXBoLmdldERpc3RpbmN0VmFsdWVzKGRhdGEuZ2V0KCksIHRoaXMuY29sdW1uKTsKCiAgICAvLyBzb3J0IGJvdGggbnVtZXJpYyBhbmQgc3RyaW5nIHZhbHVlcyBjb3JyZWN0bHkKICAgIHRoaXMudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwOwogICAgfSk7CgogICAgaWYgKHRoaXMudmFsdWVzLmxlbmd0aCA+IDApIHsKICAgICAgdGhpcy5zZWxlY3RWYWx1ZSgwKTsKICAgIH0KCiAgICAvLyBjcmVhdGUgYW4gYXJyYXkgd2l0aCB0aGUgZmlsdGVyZWQgZGF0YXBvaW50cy4gdGhpcyB3aWxsIGJlIGxvYWRlZCBhZnRlcndhcmRzCiAgICB0aGlzLmRhdGFQb2ludHMgPSBbXTsKCiAgICB0aGlzLmxvYWRlZCA9IGZhbHNlOwogICAgdGhpcy5vbkxvYWRDYWxsYmFjayA9IHVuZGVmaW5lZDsKCiAgICBpZiAoZ3JhcGguYW5pbWF0aW9uUHJlbG9hZCkgewogICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlOwogICAgICB0aGlzLmxvYWRJbkJhY2tncm91bmQoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBSZXR1cm4gdGhlIGxhYmVsCiAgICogQHJldHVybiB7c3RyaW5nfSBsYWJlbAogICAqLwogIEZpbHRlci5wcm90b3R5cGUuaXNMb2FkZWQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5sb2FkZWQ7CiAgfTsKCiAgLyoqCiAgICogUmV0dXJuIHRoZSBsb2FkZWQgcHJvZ3Jlc3MKICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBlcmNlbnRhZ2UgYmV0d2VlbiAwIGFuZCAxMDAKICAgKi8KICBGaWx0ZXIucHJvdG90eXBlLmdldExvYWRlZFByb2dyZXNzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGxlbiA9IHRoaXMudmFsdWVzLmxlbmd0aDsKCiAgICB2YXIgaSA9IDA7CiAgICB3aGlsZSAodGhpcy5kYXRhUG9pbnRzW2ldKSB7CiAgICAgIGkrKzsKICAgIH0KCiAgICByZXR1cm4gTWF0aC5yb3VuZChpIC8gbGVuICogMTAwKTsKICB9OwoKICAvKioKICAgKiBSZXR1cm4gdGhlIGxhYmVsCiAgICogQHJldHVybiB7c3RyaW5nfSBsYWJlbAogICAqLwogIEZpbHRlci5wcm90b3R5cGUuZ2V0TGFiZWwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5ncmFwaC5maWx0ZXJMYWJlbDsKICB9OwoKICAvKioKICAgKiBSZXR1cm4gdGhlIGNvbHVtbkluZGV4IG9mIHRoZSBmaWx0ZXIKICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbHVtbkluZGV4CiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5nZXRDb2x1bW4gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jb2x1bW47CiAgfTsKCiAgLyoqCiAgICogUmV0dXJuIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdmFsdWUuIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZXJlIGlzIG5vIHNlbGVjdGlvbgogICAqIEByZXR1cm4geyp9IHZhbHVlCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5nZXRTZWxlY3RlZFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuaW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDsKCiAgICByZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5pbmRleF07CiAgfTsKCiAgLyoqCiAgICogUmV0cmlldmUgYWxsIHZhbHVlcyBvZiB0aGUgZmlsdGVyCiAgICogQHJldHVybiB7QXJyYXl9IHZhbHVlcwogICAqLwogIEZpbHRlci5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMudmFsdWVzOwogIH07CgogIC8qKgogICAqIFJldHJpZXZlIG9uZSB2YWx1ZSBvZiB0aGUgZmlsdGVyCiAgICogQHBhcmFtIHtOdW1iZXJ9ICBpbmRleAogICAqIEByZXR1cm4geyp9IHZhbHVlCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uIChpbmRleCkgewogICAgaWYgKGluZGV4ID49IHRoaXMudmFsdWVzLmxlbmd0aCkgdGhyb3cgJ0Vycm9yOiBpbmRleCBvdXQgb2YgcmFuZ2UnOwoKICAgIHJldHVybiB0aGlzLnZhbHVlc1tpbmRleF07CiAgfTsKCiAgLyoqCiAgICogUmV0cmlldmUgdGhlIChmaWx0ZXJlZCkgZGF0YVBvaW50cyBmb3IgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBmaWx0ZXIgaW5kZXgKICAgKiBAcGFyYW0ge051bWJlcn0gW2luZGV4XSAob3B0aW9uYWwpCiAgICogQHJldHVybiB7QXJyYXl9IGRhdGFQb2ludHMKICAgKi8KICBGaWx0ZXIucHJvdG90eXBlLl9nZXREYXRhUG9pbnRzID0gZnVuY3Rpb24gKGluZGV4KSB7CiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkgaW5kZXggPSB0aGlzLmluZGV4OwoKICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW107CgogICAgdmFyIGRhdGFQb2ludHM7CiAgICBpZiAodGhpcy5kYXRhUG9pbnRzW2luZGV4XSkgewogICAgICBkYXRhUG9pbnRzID0gdGhpcy5kYXRhUG9pbnRzW2luZGV4XTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBmID0ge307CiAgICAgIGYuY29sdW1uID0gdGhpcy5jb2x1bW47CiAgICAgIGYudmFsdWUgPSB0aGlzLnZhbHVlc1tpbmRleF07CgogICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy5kYXRhLCB7IGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtW2YuY29sdW1uXSA9PSBmLnZhbHVlOwogICAgICAgIH0gfSkuZ2V0KCk7CiAgICAgIGRhdGFQb2ludHMgPSB0aGlzLmdyYXBoLl9nZXREYXRhUG9pbnRzKGRhdGFWaWV3KTsKCiAgICAgIHRoaXMuZGF0YVBvaW50c1tpbmRleF0gPSBkYXRhUG9pbnRzOwogICAgfQoKICAgIHJldHVybiBkYXRhUG9pbnRzOwogIH07CgogIC8qKgogICAqIFNldCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIGZpbHRlciBpcyBmdWxseSBsb2FkZWQuCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5zZXRPbkxvYWRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgdGhpcy5vbkxvYWRDYWxsYmFjayA9IGNhbGxiYWNrOwogIH07CgogIC8qKgogICAqIEFkZCBhIHZhbHVlIHRvIHRoZSBsaXN0IHdpdGggYXZhaWxhYmxlIHZhbHVlcyBmb3IgdGhpcyBmaWx0ZXIKICAgKiBObyBkb3VibGUgZW50cmllcyB3aWxsIGJlIGNyZWF0ZWQuCiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4CiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5zZWxlY3RWYWx1ZSA9IGZ1bmN0aW9uIChpbmRleCkgewogICAgaWYgKGluZGV4ID49IHRoaXMudmFsdWVzLmxlbmd0aCkgdGhyb3cgJ0Vycm9yOiBpbmRleCBvdXQgb2YgcmFuZ2UnOwoKICAgIHRoaXMuaW5kZXggPSBpbmRleDsKICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlc1tpbmRleF07CiAgfTsKCiAgLyoqCiAgICogTG9hZCBhbGwgZmlsdGVyZWQgcm93cyBpbiB0aGUgYmFja2dyb3VuZCBvbmUgYnkgb25lCiAgICogU3RhcnQgdGhpcyBtZXRob2Qgd2l0aG91dCBwcm92aWRpbmcgYW4gaW5kZXghCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5sb2FkSW5CYWNrZ3JvdW5kID0gZnVuY3Rpb24gKGluZGV4KSB7CiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkgaW5kZXggPSAwOwoKICAgIHZhciBmcmFtZSA9IHRoaXMuZ3JhcGguZnJhbWU7CgogICAgaWYgKGluZGV4IDwgdGhpcy52YWx1ZXMubGVuZ3RoKSB7CiAgICAgIHZhciBkYXRhUG9pbnRzVGVtcCA9IHRoaXMuX2dldERhdGFQb2ludHMoaW5kZXgpOwogICAgICAvL3RoaXMuZ3JhcGgucmVkcmF3SW5mbygpOyAvLyBUT0RPOiBub3QgbmVhdAoKICAgICAgLy8gY3JlYXRlIGEgcHJvZ3Jlc3MgYm94CiAgICAgIGlmIChmcmFtZS5wcm9ncmVzcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZnJhbWUucHJvZ3Jlc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTsKICAgICAgICBmcmFtZS5wcm9ncmVzcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICAgICAgZnJhbWUucHJvZ3Jlc3Muc3R5bGUuY29sb3IgPSAnZ3JheSc7CiAgICAgICAgZnJhbWUuYXBwZW5kQ2hpbGQoZnJhbWUucHJvZ3Jlc3MpOwogICAgICB9CiAgICAgIHZhciBwcm9ncmVzcyA9IHRoaXMuZ2V0TG9hZGVkUHJvZ3Jlc3MoKTsKICAgICAgZnJhbWUucHJvZ3Jlc3MuaW5uZXJIVE1MID0gJ0xvYWRpbmcgYW5pbWF0aW9uLi4uICcgKyBwcm9ncmVzcyArICclJzsKICAgICAgLy8gVE9ETzogdGhpcyBpcyBubyBuaWNlIHNvbHV0aW9uLi4uCiAgICAgIGZyYW1lLnByb2dyZXNzLnN0eWxlLmJvdHRvbSA9IDYwICsgJ3B4JzsgLy8gVE9ETzogdXNlIGhlaWdodCBvZiBzbGlkZXIKICAgICAgZnJhbWUucHJvZ3Jlc3Muc3R5bGUubGVmdCA9IDEwICsgJ3B4JzsKCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIG1lLmxvYWRJbkJhY2tncm91bmQoaW5kZXggKyAxKTsKICAgICAgfSwgMTApOwogICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlOwoKICAgICAgLy8gcmVtb3ZlIHRoZSBwcm9ncmVzcyBib3gKICAgICAgaWYgKGZyYW1lLnByb2dyZXNzICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBmcmFtZS5yZW1vdmVDaGlsZChmcmFtZS5wcm9ncmVzcyk7CiAgICAgICAgZnJhbWUucHJvZ3Jlc3MgPSB1bmRlZmluZWQ7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm9uTG9hZENhbGxiYWNrKSB0aGlzLm9uTG9hZENhbGxiYWNrKCk7CiAgICB9CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBGaWx0ZXI7CgovKioqLyB9LAovKiAxNyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogIC8qKgogICAqIEBjb25zdHJ1Y3RvciBTbGlkZXIKICAgKgogICAqIEFuIGh0bWwgc2xpZGVyIGNvbnRyb2wgd2l0aCBzdGFydC9zdG9wL3ByZXYvbmV4dCBidXR0b25zCiAgICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXIgIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBzbGlkZXIgd2lsbCBiZSBjcmVhdGVkCiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAge2Jvb2xlYW59IHZpc2libGUgICBJZiB0cnVlIChkZWZhdWx0KSB0aGUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlciBpcyB2aXNpYmxlLgogICAqLwogIGZ1bmN0aW9uIFNsaWRlcihjb250YWluZXIsIG9wdGlvbnMpIHsKICAgIGlmIChjb250YWluZXIgPT09IHVuZGVmaW5lZCkgewogICAgICB0aHJvdyAnRXJyb3I6IE5vIGNvbnRhaW5lciBlbGVtZW50IGRlZmluZWQnOwogICAgfQogICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7CiAgICB0aGlzLnZpc2libGUgPSBvcHRpb25zICYmIG9wdGlvbnMudmlzaWJsZSAhPSB1bmRlZmluZWQgPyBvcHRpb25zLnZpc2libGUgOiB0cnVlOwoKICAgIGlmICh0aGlzLnZpc2libGUpIHsKICAgICAgdGhpcy5mcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpOwogICAgICAvL3RoaXMuZnJhbWUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNFNUU1RTUnOwogICAgICB0aGlzLmZyYW1lLnN0eWxlLndpZHRoID0gJzEwMCUnOwogICAgICB0aGlzLmZyYW1lLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSk7CgogICAgICB0aGlzLmZyYW1lLnByZXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdJTlBVVCcpOwogICAgICB0aGlzLmZyYW1lLnByZXYudHlwZSA9ICdCVVRUT04nOwogICAgICB0aGlzLmZyYW1lLnByZXYudmFsdWUgPSAnUHJldic7CiAgICAgIHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZS5wcmV2KTsKCiAgICAgIHRoaXMuZnJhbWUucGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0lOUFVUJyk7CiAgICAgIHRoaXMuZnJhbWUucGxheS50eXBlID0gJ0JVVFRPTic7CiAgICAgIHRoaXMuZnJhbWUucGxheS52YWx1ZSA9ICdQbGF5JzsKICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lLnBsYXkpOwoKICAgICAgdGhpcy5mcmFtZS5uZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU5QVVQnKTsKICAgICAgdGhpcy5mcmFtZS5uZXh0LnR5cGUgPSAnQlVUVE9OJzsKICAgICAgdGhpcy5mcmFtZS5uZXh0LnZhbHVlID0gJ05leHQnOwogICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUubmV4dCk7CgogICAgICB0aGlzLmZyYW1lLmJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0lOUFVUJyk7CiAgICAgIHRoaXMuZnJhbWUuYmFyLnR5cGUgPSAnQlVUVE9OJzsKICAgICAgdGhpcy5mcmFtZS5iYXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgICB0aGlzLmZyYW1lLmJhci5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHJlZCc7CiAgICAgIHRoaXMuZnJhbWUuYmFyLnN0eWxlLndpZHRoID0gJzEwMHB4JzsKICAgICAgdGhpcy5mcmFtZS5iYXIuc3R5bGUuaGVpZ2h0ID0gJzZweCc7CiAgICAgIHRoaXMuZnJhbWUuYmFyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICcycHgnOwogICAgICB0aGlzLmZyYW1lLmJhci5zdHlsZS5Nb3pCb3JkZXJSYWRpdXMgPSAnMnB4JzsKICAgICAgdGhpcy5mcmFtZS5iYXIuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjN0Y3RjdGJzsKICAgICAgdGhpcy5mcmFtZS5iYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNFNUU1RTUnOwogICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUuYmFyKTsKCiAgICAgIHRoaXMuZnJhbWUuc2xpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdJTlBVVCcpOwogICAgICB0aGlzLmZyYW1lLnNsaWRlLnR5cGUgPSAnQlVUVE9OJzsKICAgICAgdGhpcy5mcmFtZS5zbGlkZS5zdHlsZS5tYXJnaW4gPSAnMHB4JzsKICAgICAgdGhpcy5mcmFtZS5zbGlkZS52YWx1ZSA9ICcgJzsKICAgICAgdGhpcy5mcmFtZS5zbGlkZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgIHRoaXMuZnJhbWUuc2xpZGUuc3R5bGUubGVmdCA9ICctMTAwcHgnOwogICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUuc2xpZGUpOwoKICAgICAgLy8gY3JlYXRlIGV2ZW50cwogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB0aGlzLmZyYW1lLnNsaWRlLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgbWUuX29uTW91c2VEb3duKGV2ZW50KTsKICAgICAgfTsKICAgICAgdGhpcy5mcmFtZS5wcmV2Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBtZS5wcmV2KGV2ZW50KTsKICAgICAgfTsKICAgICAgdGhpcy5mcmFtZS5wbGF5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBtZS50b2dnbGVQbGF5KGV2ZW50KTsKICAgICAgfTsKICAgICAgdGhpcy5mcmFtZS5uZXh0Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBtZS5uZXh0KGV2ZW50KTsKICAgICAgfTsKICAgIH0KCiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sgPSB1bmRlZmluZWQ7CgogICAgdGhpcy52YWx1ZXMgPSBbXTsKICAgIHRoaXMuaW5kZXggPSB1bmRlZmluZWQ7CgogICAgdGhpcy5wbGF5VGltZW91dCA9IHVuZGVmaW5lZDsKICAgIHRoaXMucGxheUludGVydmFsID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzCiAgICB0aGlzLnBsYXlMb29wID0gdHJ1ZTsKICB9CgogIC8qKgogICAqIFNlbGVjdCB0aGUgcHJldmlvdXMgaW5kZXgKICAgKi8KICBTbGlkZXIucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaW5kZXggPSB0aGlzLmdldEluZGV4KCk7CiAgICBpZiAoaW5kZXggPiAwKSB7CiAgICAgIGluZGV4LS07CiAgICAgIHRoaXMuc2V0SW5kZXgoaW5kZXgpOwogICAgfQogIH07CgogIC8qKgogICAqIFNlbGVjdCB0aGUgbmV4dCBpbmRleAogICAqLwogIFNsaWRlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpbmRleCA9IHRoaXMuZ2V0SW5kZXgoKTsKICAgIGlmIChpbmRleCA8IHRoaXMudmFsdWVzLmxlbmd0aCAtIDEpIHsKICAgICAgaW5kZXgrKzsKICAgICAgdGhpcy5zZXRJbmRleChpbmRleCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU2VsZWN0IHRoZSBuZXh0IGluZGV4CiAgICovCiAgU2xpZGVyLnByb3RvdHlwZS5wbGF5TmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7CgogICAgdmFyIGluZGV4ID0gdGhpcy5nZXRJbmRleCgpOwogICAgaWYgKGluZGV4IDwgdGhpcy52YWx1ZXMubGVuZ3RoIC0gMSkgewogICAgICBpbmRleCsrOwogICAgICB0aGlzLnNldEluZGV4KGluZGV4KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5TG9vcCkgewogICAgICAvLyBqdW1wIHRvIHRoZSBzdGFydAogICAgICBpbmRleCA9IDA7CiAgICAgIHRoaXMuc2V0SW5kZXgoaW5kZXgpOwogICAgfQoKICAgIHZhciBlbmQgPSBuZXcgRGF0ZSgpOwogICAgdmFyIGRpZmYgPSBlbmQgLSBzdGFydDsKCiAgICAvLyBjYWxjdWxhdGUgaG93IG11Y2ggdGltZSBpdCB0byB0byBzZXQgdGhlIGluZGV4IGFuZCB0byBleGVjdXRlIHRoZSBjYWxsYmFjawogICAgLy8gZnVuY3Rpb24uCiAgICB2YXIgaW50ZXJ2YWwgPSBNYXRoLm1heCh0aGlzLnBsYXlJbnRlcnZhbCAtIGRpZmYsIDApOwogICAgLy8gZG9jdW1lbnQudGl0bGUgPSBkaWZmIC8vIFRPRE86IGNsZWFudXAKCiAgICB2YXIgbWUgPSB0aGlzOwogICAgdGhpcy5wbGF5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBtZS5wbGF5TmV4dCgpOwogICAgfSwgaW50ZXJ2YWwpOwogIH07CgogIC8qKgogICAqIFRvZ2dsZSBzdGFydCBvciBzdG9wIHBsYXlpbmcKICAgKi8KICBTbGlkZXIucHJvdG90eXBlLnRvZ2dsZVBsYXkgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5wbGF5VGltZW91dCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMucGxheSgpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5zdG9wKCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU3RhcnQgcGxheWluZwogICAqLwogIFNsaWRlci5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIFRlc3Qgd2hldGhlciBhbHJlYWR5IHBsYXlpbmcKICAgIGlmICh0aGlzLnBsYXlUaW1lb3V0KSByZXR1cm47CgogICAgdGhpcy5wbGF5TmV4dCgpOwoKICAgIGlmICh0aGlzLmZyYW1lKSB7CiAgICAgIHRoaXMuZnJhbWUucGxheS52YWx1ZSA9ICdTdG9wJzsKICAgIH0KICB9OwoKICAvKioKICAgKiBTdG9wIHBsYXlpbmcKICAgKi8KICBTbGlkZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMucGxheVRpbWVvdXQpOwogICAgdGhpcy5wbGF5VGltZW91dCA9IHVuZGVmaW5lZDsKCiAgICBpZiAodGhpcy5mcmFtZSkgewogICAgICB0aGlzLmZyYW1lLnBsYXkudmFsdWUgPSAnUGxheSc7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU2V0IGEgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSB0cmlnZ2VyZWQgd2hlbiB0aGUgdmFsdWUgb2YgdGhlCiAgICogc2xpZGVyIGJhciBoYXMgY2hhbmdlZC4KICAgKi8KICBTbGlkZXIucHJvdG90eXBlLnNldE9uQ2hhbmdlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjayA9IGNhbGxiYWNrOwogIH07CgogIC8qKgogICAqIFNldCB0aGUgaW50ZXJ2YWwgZm9yIHBsYXlpbmcgdGhlIGxpc3QKICAgKiBAcGFyYW0ge051bWJlcn0gaW50ZXJ2YWwgICBUaGUgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzCiAgICovCiAgU2xpZGVyLnByb3RvdHlwZS5zZXRQbGF5SW50ZXJ2YWwgPSBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIHRoaXMucGxheUludGVydmFsID0gaW50ZXJ2YWw7CiAgfTsKCiAgLyoqCiAgICogUmV0cmlldmUgdGhlIGN1cnJlbnQgcGxheSBpbnRlcnZhbAogICAqIEByZXR1cm4ge051bWJlcn0gaW50ZXJ2YWwgICBUaGUgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzCiAgICovCiAgU2xpZGVyLnByb3RvdHlwZS5nZXRQbGF5SW50ZXJ2YWwgPSBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIHJldHVybiB0aGlzLnBsYXlJbnRlcnZhbDsKICB9OwoKICAvKioKICAgKiBTZXQgbG9vcGluZyBvbiBvciBvZmYKICAgKiBAcGFyYXJtIHtib29sZWFufSBkb0xvb3AgIElmIHRydWUsIHRoZSBzbGlkZXIgd2lsbCBqdW1wIHRvIHRoZSBzdGFydCB3aGVuCiAgICogICAgICAgICAgICAgICB0aGUgZW5kIGlzIHBhc3NlZCwgYW5kIHdpbGwganVtcCB0byB0aGUgZW5kCiAgICogICAgICAgICAgICAgICB3aGVuIHRoZSBzdGFydCBpcyBwYXNzZWQuCiAgICovCiAgU2xpZGVyLnByb3RvdHlwZS5zZXRQbGF5TG9vcCA9IGZ1bmN0aW9uIChkb0xvb3ApIHsKICAgIHRoaXMucGxheUxvb3AgPSBkb0xvb3A7CiAgfTsKCiAgLyoqCiAgICogRXhlY3V0ZSB0aGUgb25jaGFuZ2UgY2FsbGJhY2sgZnVuY3Rpb24KICAgKi8KICBTbGlkZXIucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMub25DaGFuZ2VDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjaygpOwogICAgfQogIH07CgogIC8qKgogICAqIHJlZHJhdyB0aGUgc2xpZGVyIG9uIHRoZSBjb3JyZWN0IHBsYWNlCiAgICovCiAgU2xpZGVyLnByb3RvdHlwZS5yZWRyYXcgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5mcmFtZSkgewogICAgICAvLyByZXNpemUgdGhlIGJhcgogICAgICB0aGlzLmZyYW1lLmJhci5zdHlsZS50b3AgPSB0aGlzLmZyYW1lLmNsaWVudEhlaWdodCAvIDIgLSB0aGlzLmZyYW1lLmJhci5vZmZzZXRIZWlnaHQgLyAyICsgJ3B4JzsKICAgICAgdGhpcy5mcmFtZS5iYXIuc3R5bGUud2lkdGggPSB0aGlzLmZyYW1lLmNsaWVudFdpZHRoIC0gdGhpcy5mcmFtZS5wcmV2LmNsaWVudFdpZHRoIC0gdGhpcy5mcmFtZS5wbGF5LmNsaWVudFdpZHRoIC0gdGhpcy5mcmFtZS5uZXh0LmNsaWVudFdpZHRoIC0gMzAgKyAncHgnOwoKICAgICAgLy8gcG9zaXRpb24gdGhlIHNsaWRlciBidXR0b24KICAgICAgdmFyIGxlZnQgPSB0aGlzLmluZGV4VG9MZWZ0KHRoaXMuaW5kZXgpOwogICAgICB0aGlzLmZyYW1lLnNsaWRlLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JzsKICAgIH0KICB9OwoKICAvKioKICAgKiBTZXQgdGhlIGxpc3Qgd2l0aCB2YWx1ZXMgZm9yIHRoZSBzbGlkZXIKICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgICBBIGphdmFzY3JpcHQgYXJyYXkgd2l0aCB2YWx1ZXMgKGFueSB0eXBlKQogICAqLwogIFNsaWRlci5wcm90b3R5cGUuc2V0VmFsdWVzID0gZnVuY3Rpb24gKHZhbHVlcykgewogICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7CgogICAgaWYgKHRoaXMudmFsdWVzLmxlbmd0aCA+IDApIHRoaXMuc2V0SW5kZXgoMCk7ZWxzZSB0aGlzLmluZGV4ID0gdW5kZWZpbmVkOwogIH07CgogIC8qKgogICAqIFNlbGVjdCBhIHZhbHVlIGJ5IGl0cyBpbmRleAogICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleAogICAqLwogIFNsaWRlci5wcm90b3R5cGUuc2V0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIGlmIChpbmRleCA8IHRoaXMudmFsdWVzLmxlbmd0aCkgewogICAgICB0aGlzLmluZGV4ID0gaW5kZXg7CgogICAgICB0aGlzLnJlZHJhdygpOwogICAgICB0aGlzLm9uQ2hhbmdlKCk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyAnRXJyb3I6IGluZGV4IG91dCBvZiByYW5nZSc7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogcmV0cmlldmUgdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdmF1ZQogICAqIEByZXR1cm4ge051bWJlcn0gaW5kZXgKICAgKi8KICBTbGlkZXIucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuaW5kZXg7CiAgfTsKCiAgLyoqCiAgICogcmV0cmlldmUgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2YWx1ZQogICAqIEByZXR1cm4geyp9IHZhbHVlCiAgICovCiAgU2xpZGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5pbmRleF07CiAgfTsKCiAgU2xpZGVyLnByb3RvdHlwZS5fb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIG9ubHkgcmVhY3Qgb24gbGVmdCBtb3VzZSBidXR0b24gZG93bgogICAgdmFyIGxlZnRCdXR0b25Eb3duID0gZXZlbnQud2hpY2ggPyBldmVudC53aGljaCA9PT0gMSA6IGV2ZW50LmJ1dHRvbiA9PT0gMTsKICAgIGlmICghbGVmdEJ1dHRvbkRvd24pIHJldHVybjsKCiAgICB0aGlzLnN0YXJ0Q2xpZW50WCA9IGV2ZW50LmNsaWVudFg7CiAgICB0aGlzLnN0YXJ0U2xpZGVYID0gcGFyc2VGbG9hdCh0aGlzLmZyYW1lLnNsaWRlLnN0eWxlLmxlZnQpOwoKICAgIHRoaXMuZnJhbWUuc3R5bGUuY3Vyc29yID0gJ21vdmUnOwoKICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lcnMgdG8gaGFuZGxlIG1vdmluZyB0aGUgY29udGVudHMKICAgIC8vIHdlIHN0b3JlIHRoZSBmdW5jdGlvbiBvbm1vdXNlbW92ZSBhbmQgb25tb3VzZXVwIGluIHRoZSBncmFwaCwgc28gd2UgY2FuCiAgICAvLyByZW1vdmUgdGhlIGV2ZW50bGlzdGVuZXJzIGxhdGVyb24gaW4gdGhlIGZ1bmN0aW9uIG1vdXNlVXAoKQogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbWUuX29uTW91c2VNb3ZlKGV2ZW50KTsKICAgIH07CiAgICB0aGlzLm9ubW91c2V1cCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICBtZS5fb25Nb3VzZVVwKGV2ZW50KTsKICAgIH07CiAgICB1dGlsLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLm9ubW91c2Vtb3ZlKTsKICAgIHV0aWwuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLm9ubW91c2V1cCk7CiAgICB1dGlsLnByZXZlbnREZWZhdWx0KGV2ZW50KTsKICB9OwoKICBTbGlkZXIucHJvdG90eXBlLmxlZnRUb0luZGV4ID0gZnVuY3Rpb24gKGxlZnQpIHsKICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQodGhpcy5mcmFtZS5iYXIuc3R5bGUud2lkdGgpIC0gdGhpcy5mcmFtZS5zbGlkZS5jbGllbnRXaWR0aCAtIDEwOwogICAgdmFyIHggPSBsZWZ0IC0gMzsKCiAgICB2YXIgaW5kZXggPSBNYXRoLnJvdW5kKHggLyB3aWR0aCAqICh0aGlzLnZhbHVlcy5sZW5ndGggLSAxKSk7CiAgICBpZiAoaW5kZXggPCAwKSBpbmRleCA9IDA7CiAgICBpZiAoaW5kZXggPiB0aGlzLnZhbHVlcy5sZW5ndGggLSAxKSBpbmRleCA9IHRoaXMudmFsdWVzLmxlbmd0aCAtIDE7CgogICAgcmV0dXJuIGluZGV4OwogIH07CgogIFNsaWRlci5wcm90b3R5cGUuaW5kZXhUb0xlZnQgPSBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQodGhpcy5mcmFtZS5iYXIuc3R5bGUud2lkdGgpIC0gdGhpcy5mcmFtZS5zbGlkZS5jbGllbnRXaWR0aCAtIDEwOwoKICAgIHZhciB4ID0gaW5kZXggLyAodGhpcy52YWx1ZXMubGVuZ3RoIC0gMSkgKiB3aWR0aDsKICAgIHZhciBsZWZ0ID0geCArIDM7CgogICAgcmV0dXJuIGxlZnQ7CiAgfTsKCiAgU2xpZGVyLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBkaWZmID0gZXZlbnQuY2xpZW50WCAtIHRoaXMuc3RhcnRDbGllbnRYOwogICAgdmFyIHggPSB0aGlzLnN0YXJ0U2xpZGVYICsgZGlmZjsKCiAgICB2YXIgaW5kZXggPSB0aGlzLmxlZnRUb0luZGV4KHgpOwoKICAgIHRoaXMuc2V0SW5kZXgoaW5kZXgpOwoKICAgIHV0aWwucHJldmVudERlZmF1bHQoKTsKICB9OwoKICBTbGlkZXIucHJvdG90eXBlLl9vbk1vdXNlVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHRoaXMuZnJhbWUuc3R5bGUuY3Vyc29yID0gJ2F1dG8nOwoKICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMKICAgIHV0aWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMub25tb3VzZW1vdmUpOwogICAgdXRpbC5yZW1vdmVFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMub25tb3VzZXVwKTsKCiAgICB1dGlsLnByZXZlbnREZWZhdWx0KCk7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBTbGlkZXI7CgovKioqLyB9LAovKiAxOCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLyoqCiAgICogQHByb3RvdHlwZSBTdGVwTnVtYmVyCiAgICogVGhlIGNsYXNzIFN0ZXBOdW1iZXIgaXMgYW4gaXRlcmF0b3IgZm9yIE51bWJlcnMuIFlvdSBwcm92aWRlIGEgc3RhcnQgYW5kIGVuZAogICAqIHZhbHVlLCBhbmQgYSBiZXN0IHN0ZXAgc2l6ZS4gU3RlcE51bWJlciBpdHNlbGYgcm91bmRzIHRvIGZpeGVkIHZhbHVlcyBhbmQKICAgKiBhIGZpbmRzIHRoZSBzdGVwIHRoYXQgYmVzdCBmaXRzIHRoZSBwcm92aWRlZCBzdGVwLgogICAqCiAgICogSWYgcHJldHR5U3RlcCBpcyB0cnVlLCB0aGUgc3RlcCBzaXplIGlzIGNob3NlbiBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byB0aGUKICAgKiBwcm92aWRlZCBzdGVwLCBidXQgYmVpbmcgYSByb3VuZCB2YWx1ZSBsaWtlIDEsIDIsIDUsIDEwLCAyMCwgNTAsIC4uLi4KICAgKgogICAqIEV4YW1wbGUgdXNhZ2U6CiAgICogICB2YXIgc3RlcCA9IG5ldyBTdGVwTnVtYmVyKDAsIDEwLCAyLjUsIHRydWUpOwogICAqICAgc3RlcC5zdGFydCgpOwogICAqICAgd2hpbGUgKCFzdGVwLmVuZCgpKSB7CiAgICogICBhbGVydChzdGVwLmdldEN1cnJlbnQoKSk7CiAgICogICBzdGVwLm5leHQoKTsKICAgKiAgIH0KICAgKgogICAqIFZlcnNpb246IDEuMAogICAqCiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0ICAgICBUaGUgc3RhcnQgdmFsdWUKICAgKiBAcGFyYW0ge051bWJlcn0gZW5kICAgICBUaGUgZW5kIHZhbHVlCiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0ZXAgICAgT3B0aW9uYWwuIFN0ZXAgc2l6ZS4gTXVzdCBiZSBhIHBvc2l0aXZlIHZhbHVlLgogICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJldHR5U3RlcCBPcHRpb25hbC4gSWYgdHJ1ZSwgdGhlIHN0ZXAgc2l6ZSBpcyByb3VuZGVkCiAgICogICAgICAgICAgICAgICBUbyBhIHByZXR0eSBzdGVwIHNpemUgKGxpa2UgMSwgMiwgNSwgMTAsIDIwLCA1MCwgLi4uKQogICAqLwogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gU3RlcE51bWJlcihzdGFydCwgZW5kLCBzdGVwLCBwcmV0dHlTdGVwKSB7CiAgICAvLyBzZXQgZGVmYXVsdCB2YWx1ZXMKICAgIHRoaXMuX3N0YXJ0ID0gMDsKICAgIHRoaXMuX2VuZCA9IDA7CiAgICB0aGlzLl9zdGVwID0gMTsKICAgIHRoaXMucHJldHR5U3RlcCA9IHRydWU7CiAgICB0aGlzLnByZWNpc2lvbiA9IDU7CgogICAgdGhpcy5fY3VycmVudCA9IDA7CiAgICB0aGlzLnNldFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIHByZXR0eVN0ZXApOwogIH07CgogIC8qKgogICAqIFNldCBhIG5ldyByYW5nZTogc3RhcnQsIGVuZCBhbmQgc3RlcC4KICAgKgogICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCAgICAgVGhlIHN0YXJ0IHZhbHVlCiAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCAgICAgVGhlIGVuZCB2YWx1ZQogICAqIEBwYXJhbSB7TnVtYmVyfSBzdGVwICAgIE9wdGlvbmFsLiBTdGVwIHNpemUuIE11c3QgYmUgYSBwb3NpdGl2ZSB2YWx1ZS4KICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByZXR0eVN0ZXAgT3B0aW9uYWwuIElmIHRydWUsIHRoZSBzdGVwIHNpemUgaXMgcm91bmRlZAogICAqICAgICAgICAgICAgICAgVG8gYSBwcmV0dHkgc3RlcCBzaXplIChsaWtlIDEsIDIsIDUsIDEwLCAyMCwgNTAsIC4uLikKICAgKi8KICBTdGVwTnVtYmVyLnByb3RvdHlwZS5zZXRSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBzdGVwLCBwcmV0dHlTdGVwKSB7CiAgICB0aGlzLl9zdGFydCA9IHN0YXJ0ID8gc3RhcnQgOiAwOwogICAgdGhpcy5fZW5kID0gZW5kID8gZW5kIDogMDsKCiAgICB0aGlzLnNldFN0ZXAoc3RlcCwgcHJldHR5U3RlcCk7CiAgfTsKCiAgLyoqCiAgICogU2V0IGEgbmV3IHN0ZXAgc2l6ZQogICAqIEBwYXJhbSB7TnVtYmVyfSBzdGVwICAgIE5ldyBzdGVwIHNpemUuIE11c3QgYmUgYSBwb3NpdGl2ZSB2YWx1ZQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJldHR5U3RlcCBPcHRpb25hbC4gSWYgdHJ1ZSwgdGhlIHByb3ZpZGVkIHN0ZXAgaXMgcm91bmRlZAogICAqICAgICAgICAgICAgICAgdG8gYSBwcmV0dHkgc3RlcCBzaXplIChsaWtlIDEsIDIsIDUsIDEwLCAyMCwgNTAsIC4uLikKICAgKi8KICBTdGVwTnVtYmVyLnByb3RvdHlwZS5zZXRTdGVwID0gZnVuY3Rpb24gKHN0ZXAsIHByZXR0eVN0ZXApIHsKICAgIGlmIChzdGVwID09PSB1bmRlZmluZWQgfHwgc3RlcCA8PSAwKSByZXR1cm47CgogICAgaWYgKHByZXR0eVN0ZXAgIT09IHVuZGVmaW5lZCkgdGhpcy5wcmV0dHlTdGVwID0gcHJldHR5U3RlcDsKCiAgICBpZiAodGhpcy5wcmV0dHlTdGVwID09PSB0cnVlKSB0aGlzLl9zdGVwID0gU3RlcE51bWJlci5jYWxjdWxhdGVQcmV0dHlTdGVwKHN0ZXApO2Vsc2UgdGhpcy5fc3RlcCA9IHN0ZXA7CiAgfTsKCiAgLyoqCiAgICogQ2FsY3VsYXRlIGEgbmljZSBzdGVwIHNpemUsIGNsb3Nlc3QgdG8gdGhlIGRlc2lyZWQgc3RlcCBzaXplLgogICAqIFJldHVybnMgYSB2YWx1ZSBpbiBvbmUgb2YgdGhlIHJhbmdlcyAxKjEwXm4sIDIqMTBebiwgb3IgNSoxMF5uLCB3aGVyZSBuIGlzIGFuCiAgICogaW50ZWdlciBOdW1iZXIuIEZvciBleGFtcGxlIDEsIDIsIDUsIDEwLCAyMCwgNTAsIGV0Yy4uLgogICAqIEBwYXJhbSB7TnVtYmVyfSAgc3RlcCAgRGVzaXJlZCBzdGVwIHNpemUKICAgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBOaWNlIHN0ZXAgc2l6ZQogICAqLwogIFN0ZXBOdW1iZXIuY2FsY3VsYXRlUHJldHR5U3RlcCA9IGZ1bmN0aW9uIChzdGVwKSB7CiAgICB2YXIgbG9nMTAgPSBmdW5jdGlvbiBsb2cxMCh4KSB7CiAgICAgIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGguTE4xMDsKICAgIH07CgogICAgLy8gdHJ5IHRocmVlIHN0ZXBzIChtdWx0aXBsZSBvZiAxLCAyLCBvciA1CiAgICB2YXIgc3RlcDEgPSBNYXRoLnBvdygxMCwgTWF0aC5yb3VuZChsb2cxMChzdGVwKSkpLAogICAgICAgIHN0ZXAyID0gMiAqIE1hdGgucG93KDEwLCBNYXRoLnJvdW5kKGxvZzEwKHN0ZXAgLyAyKSkpLAogICAgICAgIHN0ZXA1ID0gNSAqIE1hdGgucG93KDEwLCBNYXRoLnJvdW5kKGxvZzEwKHN0ZXAgLyA1KSkpOwoKICAgIC8vIGNob29zZSB0aGUgYmVzdCBzdGVwIChjbG9zZXN0IHRvIG1pbmltdW0gc3RlcCkKICAgIHZhciBwcmV0dHlTdGVwID0gc3RlcDE7CiAgICBpZiAoTWF0aC5hYnMoc3RlcDIgLSBzdGVwKSA8PSBNYXRoLmFicyhwcmV0dHlTdGVwIC0gc3RlcCkpIHByZXR0eVN0ZXAgPSBzdGVwMjsKICAgIGlmIChNYXRoLmFicyhzdGVwNSAtIHN0ZXApIDw9IE1hdGguYWJzKHByZXR0eVN0ZXAgLSBzdGVwKSkgcHJldHR5U3RlcCA9IHN0ZXA1OwoKICAgIC8vIGZvciBzYWZldHkKICAgIGlmIChwcmV0dHlTdGVwIDw9IDApIHsKICAgICAgcHJldHR5U3RlcCA9IDE7CiAgICB9CgogICAgcmV0dXJuIHByZXR0eVN0ZXA7CiAgfTsKCiAgLyoqCiAgICogcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgc3RlcAogICAqIEByZXR1cm4ge051bWJlcn0gY3VycmVudCB2YWx1ZQogICAqLwogIFN0ZXBOdW1iZXIucHJvdG90eXBlLmdldEN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLl9jdXJyZW50LnRvUHJlY2lzaW9uKHRoaXMucHJlY2lzaW9uKSk7CiAgfTsKCiAgLyoqCiAgICogcmV0dXJucyB0aGUgY3VycmVudCBzdGVwIHNpemUKICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGN1cnJlbnQgc3RlcCBzaXplCiAgICovCiAgU3RlcE51bWJlci5wcm90b3R5cGUuZ2V0U3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9zdGVwOwogIH07CgogIC8qKgogICAqIFNldCB0aGUgY3VycmVudCB2YWx1ZSB0byB0aGUgbGFyZ2VzdCB2YWx1ZSBzbWFsbGVyIHRoYW4gc3RhcnQsIHdoaWNoCiAgICogaXMgYSBtdWx0aXBsZSBvZiB0aGUgc3RlcCBzaXplCiAgICovCiAgU3RlcE51bWJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fc3RhcnQgLSB0aGlzLl9zdGFydCAlIHRoaXMuX3N0ZXA7CiAgfTsKCiAgLyoqCiAgICogRG8gYSBzdGVwLCBhZGQgdGhlIHN0ZXAgc2l6ZSB0byB0aGUgY3VycmVudCB2YWx1ZQogICAqLwogIFN0ZXBOdW1iZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9jdXJyZW50ICs9IHRoaXMuX3N0ZXA7CiAgfTsKCiAgLyoqCiAgICogUmV0dXJucyB0cnVlIHdoZXRoZXIgdGhlIGVuZCBpcyByZWFjaGVkCiAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgdGhlIGN1cnJlbnQgdmFsdWUgaGFzIHBhc3NlZCB0aGUgZW5kIHZhbHVlLgogICAqLwogIFN0ZXBOdW1iZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9jdXJyZW50ID4gdGhpcy5fZW5kOwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gU3RlcE51bWJlcjsKCi8qKiovIH0sCi8qIDE5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7CiAgdmFyIEhhbW1lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpOwogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICB2YXIgRGF0YVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7CiAgdmFyIERhdGFWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7CiAgdmFyIFJhbmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7CiAgdmFyIENvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTsKICB2YXIgVGltZUF4aXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTsKICB2YXIgQ3VycmVudFRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTsKICB2YXIgQ3VzdG9tVGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpOwogIHZhciBJdGVtU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7CgogIHZhciBDb25maWd1cmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTsKICB2YXIgVmFsaWRhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NylbJ2RlZmF1bHQnXTsKICB2YXIgcHJpbnRTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpLnByaW50U3R5bGU7CiAgdmFyIGFsbE9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KS5hbGxPcHRpb25zOwogIHZhciBjb25maWd1cmVPcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCkuY29uZmlndXJlT3B0aW9uczsKCiAgLyoqCiAgICogQ3JlYXRlIGEgdGltZWxpbmUgdmlzdWFsaXphdGlvbgogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lcgogICAqIEBwYXJhbSB7dmlzLkRhdGFTZXQgfCB2aXMuRGF0YVZpZXcgfCBBcnJheX0gW2l0ZW1zXQogICAqIEBwYXJhbSB7dmlzLkRhdGFTZXQgfCB2aXMuRGF0YVZpZXcgfCBBcnJheX0gW2dyb3Vwc10KICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICBTZWUgVGltZWxpbmUuc2V0T3B0aW9ucyBmb3IgdGhlIGF2YWlsYWJsZSBvcHRpb25zLgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIENvcmUKICAgKi8KICBmdW5jdGlvbiBUaW1lbGluZShjb250YWluZXIsIGl0ZW1zLCBncm91cHMsIG9wdGlvbnMpIHsKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUaW1lbGluZSkpIHsKICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTsKICAgIH0KCiAgICAvLyBpZiB0aGUgdGhpcmQgZWxlbWVudCBpcyBvcHRpb25zLCB0aGUgZm9ydGggaXMgZ3JvdXBzIChvcHRpb25hbGx5KTsKICAgIGlmICghKEFycmF5LmlzQXJyYXkoZ3JvdXBzKSB8fCBncm91cHMgaW5zdGFuY2VvZiBEYXRhU2V0IHx8IGdyb3VwcyBpbnN0YW5jZW9mIERhdGFWaWV3KSAmJiBncm91cHMgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgdmFyIGZvcnRoQXJndW1lbnQgPSBvcHRpb25zOwogICAgICBvcHRpb25zID0gZ3JvdXBzOwogICAgICBncm91cHMgPSBmb3J0aEFyZ3VtZW50OwogICAgfQoKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICBzdGFydDogbnVsbCwKICAgICAgZW5kOiBudWxsLAoKICAgICAgYXV0b1Jlc2l6ZTogdHJ1ZSwKCiAgICAgIG9yaWVudGF0aW9uOiB7CiAgICAgICAgYXhpczogJ2JvdHRvbScsIC8vIGF4aXMgb3JpZW50YXRpb246ICdib3R0b20nLCAndG9wJywgb3IgJ2JvdGgnCiAgICAgICAgaXRlbTogJ2JvdHRvbScgLy8gbm90IHJlbGV2YW50CiAgICAgIH0sCgogICAgICB3aWR0aDogbnVsbCwKICAgICAgaGVpZ2h0OiBudWxsLAogICAgICBtYXhIZWlnaHQ6IG51bGwsCiAgICAgIG1pbkhlaWdodDogbnVsbAogICAgfTsKICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZGVlcEV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CgogICAgLy8gQ3JlYXRlIHRoZSBET00sIHByb3BzLCBhbmQgZW1pdHRlcgogICAgdGhpcy5fY3JlYXRlKGNvbnRhaW5lcik7CgogICAgLy8gYWxsIGNvbXBvbmVudHMgbGlzdGVkIGhlcmUgd2lsbCBiZSByZXBhaW50ZWQgYXV0b21hdGljYWxseQogICAgdGhpcy5jb21wb25lbnRzID0gW107CgogICAgdGhpcy5ib2R5ID0gewogICAgICBkb206IHRoaXMuZG9tLAogICAgICBkb21Qcm9wczogdGhpcy5wcm9wcywKICAgICAgZW1pdHRlcjogewogICAgICAgIG9uOiB0aGlzLm9uLmJpbmQodGhpcyksCiAgICAgICAgb2ZmOiB0aGlzLm9mZi5iaW5kKHRoaXMpLAogICAgICAgIGVtaXQ6IHRoaXMuZW1pdC5iaW5kKHRoaXMpCiAgICAgIH0sCiAgICAgIGhpZGRlbkRhdGVzOiBbXSwKICAgICAgdXRpbDogewogICAgICAgIGdldFNjYWxlOiBmdW5jdGlvbiBnZXRTY2FsZSgpIHsKICAgICAgICAgIHJldHVybiBtZS50aW1lQXhpcy5zdGVwLnNjYWxlOwogICAgICAgIH0sCiAgICAgICAgZ2V0U3RlcDogZnVuY3Rpb24gZ2V0U3RlcCgpIHsKICAgICAgICAgIHJldHVybiBtZS50aW1lQXhpcy5zdGVwLnN0ZXA7CiAgICAgICAgfSwKCiAgICAgICAgdG9TY3JlZW46IG1lLl90b1NjcmVlbi5iaW5kKG1lKSwKICAgICAgICB0b0dsb2JhbFNjcmVlbjogbWUuX3RvR2xvYmFsU2NyZWVuLmJpbmQobWUpLCAvLyB0aGlzIHJlZmVycyB0byB0aGUgcm9vdC53aWR0aAogICAgICAgIHRvVGltZTogbWUuX3RvVGltZS5iaW5kKG1lKSwKICAgICAgICB0b0dsb2JhbFRpbWU6IG1lLl90b0dsb2JhbFRpbWUuYmluZChtZSkKICAgICAgfQogICAgfTsKCiAgICAvLyByYW5nZQogICAgdGhpcy5yYW5nZSA9IG5ldyBSYW5nZSh0aGlzLmJvZHkpOwogICAgdGhpcy5jb21wb25lbnRzLnB1c2godGhpcy5yYW5nZSk7CiAgICB0aGlzLmJvZHkucmFuZ2UgPSB0aGlzLnJhbmdlOwoKICAgIC8vIHRpbWUgYXhpcwogICAgdGhpcy50aW1lQXhpcyA9IG5ldyBUaW1lQXhpcyh0aGlzLmJvZHkpOwogICAgdGhpcy50aW1lQXhpczIgPSBudWxsOyAvLyB1c2VkIGluIGNhc2Ugb2Ygb3JpZW50YXRpb24gb3B0aW9uICdib3RoJwogICAgdGhpcy5jb21wb25lbnRzLnB1c2godGhpcy50aW1lQXhpcyk7CgogICAgLy8gY3VycmVudCB0aW1lIGJhcgogICAgdGhpcy5jdXJyZW50VGltZSA9IG5ldyBDdXJyZW50VGltZSh0aGlzLmJvZHkpOwogICAgdGhpcy5jb21wb25lbnRzLnB1c2godGhpcy5jdXJyZW50VGltZSk7CgogICAgLy8gaXRlbSBzZXQKICAgIHRoaXMuaXRlbVNldCA9IG5ldyBJdGVtU2V0KHRoaXMuYm9keSk7CiAgICB0aGlzLmNvbXBvbmVudHMucHVzaCh0aGlzLml0ZW1TZXQpOwoKICAgIHRoaXMuaXRlbXNEYXRhID0gbnVsbDsgLy8gRGF0YVNldAogICAgdGhpcy5ncm91cHNEYXRhID0gbnVsbDsgLy8gRGF0YVNldAoKICAgIHRoaXMub24oJ3RhcCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBtZS5lbWl0KCdjbGljaycsIG1lLmdldEV2ZW50UHJvcGVydGllcyhldmVudCkpOwogICAgfSk7CiAgICB0aGlzLm9uKCdkb3VibGV0YXAnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbWUuZW1pdCgnZG91YmxlQ2xpY2snLCBtZS5nZXRFdmVudFByb3BlcnRpZXMoZXZlbnQpKTsKICAgIH0pOwogICAgdGhpcy5kb20ucm9vdC5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIG1lLmVtaXQoJ2NvbnRleHRtZW51JywgbWUuZ2V0RXZlbnRQcm9wZXJ0aWVzKGV2ZW50KSk7CiAgICB9OwoKICAgIC8vIGFwcGx5IG9wdGlvbnMKICAgIGlmIChvcHRpb25zKSB7CiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIH0KCiAgICAvLyBJTVBPUlRBTlQ6IFRISVMgSEFQUEVOUyBCRUZPUkUgU0VUIElURU1TIQogICAgaWYgKGdyb3VwcykgewogICAgICB0aGlzLnNldEdyb3Vwcyhncm91cHMpOwogICAgfQoKICAgIC8vIGNyZWF0ZSBpdGVtc2V0CiAgICBpZiAoaXRlbXMpIHsKICAgICAgdGhpcy5zZXRJdGVtcyhpdGVtcyk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLl9yZWRyYXcoKTsKICAgIH0KICB9CgogIC8vIEV4dGVuZCB0aGUgZnVuY3Rpb25hbGl0eSBmcm9tIENvcmUKICBUaW1lbGluZS5wcm90b3R5cGUgPSBuZXcgQ29yZSgpOwoKICAvKioKICAgKiBMb2FkIGEgY29uZmlndXJhdG9yCiAgICogQHJldHVybiB7T2JqZWN0fQogICAqIEBwcml2YXRlCiAgICovCiAgVGltZWxpbmUucHJvdG90eXBlLl9jcmVhdGVDb25maWd1cmF0b3IgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IENvbmZpZ3VyYXRvcih0aGlzLCB0aGlzLmRvbS5jb250YWluZXIsIGNvbmZpZ3VyZU9wdGlvbnMpOwogIH07CgogIC8qKgogICAqIEZvcmNlIGEgcmVkcmF3LiBUaGUgc2l6ZSBvZiBhbGwgaXRlbXMgd2lsbCBiZSByZWNhbGN1bGF0ZWQuCiAgICogQ2FuIGJlIHVzZWZ1bCB0byBtYW51YWxseSByZWRyYXcgd2hlbiBvcHRpb24gYXV0b1Jlc2l6ZT1mYWxzZSBhbmQgdGhlIHdpbmRvdwogICAqIGhhcyBiZWVuIHJlc2l6ZWQsIG9yIHdoZW4gdGhlIGl0ZW1zIENTUyBoYXMgYmVlbiBjaGFuZ2VkLgogICAqLwogIFRpbWVsaW5lLnByb3RvdHlwZS5yZWRyYXcgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLml0ZW1TZXQgJiYgdGhpcy5pdGVtU2V0Lm1hcmtEaXJ0eSh7IHJlZnJlc2hJdGVtczogdHJ1ZSB9KTsKICAgIHRoaXMuX3JlZHJhdygpOwogIH07CgogIFRpbWVsaW5lLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIC8vIHZhbGlkYXRlIG9wdGlvbnMKICAgIHZhciBlcnJvckZvdW5kID0gVmFsaWRhdG9yLnZhbGlkYXRlKG9wdGlvbnMsIGFsbE9wdGlvbnMpOwogICAgaWYgKGVycm9yRm91bmQgPT09IHRydWUpIHsKICAgICAgY29uc29sZS5sb2coJyVjRXJyb3JzIGhhdmUgYmVlbiBmb3VuZCBpbiB0aGUgc3VwcGxpZWQgb3B0aW9ucyBvYmplY3QuJywgcHJpbnRTdHlsZSk7CiAgICB9CgogICAgQ29yZS5wcm90b3R5cGUuc2V0T3B0aW9ucy5jYWxsKHRoaXMsIG9wdGlvbnMpOwoKICAgIGlmICgndHlwZScgaW4gb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucy50eXBlICE9PSB0aGlzLm9wdGlvbnMudHlwZSkgewogICAgICAgIHRoaXMub3B0aW9ucy50eXBlID0gb3B0aW9ucy50eXBlOwoKICAgICAgICAvLyBmb3JjZSByZWNyZWF0aW9uIG9mIGFsbCBpdGVtcwogICAgICAgIHZhciBpdGVtc0RhdGEgPSB0aGlzLml0ZW1zRGF0YTsKICAgICAgICBpZiAoaXRlbXNEYXRhKSB7CiAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb24oKTsKICAgICAgICAgIHRoaXMuc2V0SXRlbXMobnVsbCk7IC8vIHJlbW92ZSBhbGwKICAgICAgICAgIHRoaXMuc2V0SXRlbXMoaXRlbXNEYXRhKTsgLy8gYWRkIGFsbAogICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKTsgLy8gcmVzdG9yZSBzZWxlY3Rpb24KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBTZXQgaXRlbXMKICAgKiBAcGFyYW0ge3Zpcy5EYXRhU2V0IHwgQXJyYXkgfCBudWxsfSBpdGVtcwogICAqLwogIFRpbWVsaW5lLnByb3RvdHlwZS5zZXRJdGVtcyA9IGZ1bmN0aW9uIChpdGVtcykgewogICAgdmFyIGluaXRpYWxMb2FkID0gdGhpcy5pdGVtc0RhdGEgPT0gbnVsbDsKCiAgICAvLyBjb252ZXJ0IHRvIHR5cGUgRGF0YVNldCB3aGVuIG5lZWRlZAogICAgdmFyIG5ld0RhdGFTZXQ7CiAgICBpZiAoIWl0ZW1zKSB7CiAgICAgIG5ld0RhdGFTZXQgPSBudWxsOwogICAgfSBlbHNlIGlmIChpdGVtcyBpbnN0YW5jZW9mIERhdGFTZXQgfHwgaXRlbXMgaW5zdGFuY2VvZiBEYXRhVmlldykgewogICAgICBuZXdEYXRhU2V0ID0gaXRlbXM7CiAgICB9IGVsc2UgewogICAgICAvLyB0dXJuIGFuIGFycmF5IGludG8gYSBkYXRhc2V0CiAgICAgIG5ld0RhdGFTZXQgPSBuZXcgRGF0YVNldChpdGVtcywgewogICAgICAgIHR5cGU6IHsKICAgICAgICAgIHN0YXJ0OiAnRGF0ZScsCiAgICAgICAgICBlbmQ6ICdEYXRlJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgLy8gc2V0IGl0ZW1zCiAgICB0aGlzLml0ZW1zRGF0YSA9IG5ld0RhdGFTZXQ7CiAgICB0aGlzLml0ZW1TZXQgJiYgdGhpcy5pdGVtU2V0LnNldEl0ZW1zKG5ld0RhdGFTZXQpOwoKICAgIGlmIChpbml0aWFsTG9hZCkgewogICAgICBpZiAodGhpcy5vcHRpb25zLnN0YXJ0ICE9IHVuZGVmaW5lZCB8fCB0aGlzLm9wdGlvbnMuZW5kICE9IHVuZGVmaW5lZCkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3RhcnQgPT0gdW5kZWZpbmVkIHx8IHRoaXMub3B0aW9ucy5lbmQgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldEl0ZW1SYW5nZSgpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5vcHRpb25zLnN0YXJ0ICE9IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5zdGFydCA6IHJhbmdlLm1pbjsKICAgICAgICB2YXIgZW5kID0gdGhpcy5vcHRpb25zLmVuZCAhPSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuZW5kIDogcmFuZ2UubWF4OwoKICAgICAgICB0aGlzLnNldFdpbmRvdyhzdGFydCwgZW5kLCB7IGFuaW1hdGlvbjogZmFsc2UgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maXQoeyBhbmltYXRpb246IGZhbHNlIH0pOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU2V0IGdyb3VwcwogICAqIEBwYXJhbSB7dmlzLkRhdGFTZXQgfCBBcnJheX0gZ3JvdXBzCiAgICovCiAgVGltZWxpbmUucHJvdG90eXBlLnNldEdyb3VwcyA9IGZ1bmN0aW9uIChncm91cHMpIHsKICAgIC8vIGNvbnZlcnQgdG8gdHlwZSBEYXRhU2V0IHdoZW4gbmVlZGVkCiAgICB2YXIgbmV3RGF0YVNldDsKICAgIGlmICghZ3JvdXBzKSB7CiAgICAgIG5ld0RhdGFTZXQgPSBudWxsOwogICAgfSBlbHNlIGlmIChncm91cHMgaW5zdGFuY2VvZiBEYXRhU2V0IHx8IGdyb3VwcyBpbnN0YW5jZW9mIERhdGFWaWV3KSB7CiAgICAgIG5ld0RhdGFTZXQgPSBncm91cHM7CiAgICB9IGVsc2UgewogICAgICAvLyB0dXJuIGFuIGFycmF5IGludG8gYSBkYXRhc2V0CiAgICAgIG5ld0RhdGFTZXQgPSBuZXcgRGF0YVNldChncm91cHMpOwogICAgfQoKICAgIHRoaXMuZ3JvdXBzRGF0YSA9IG5ld0RhdGFTZXQ7CiAgICB0aGlzLml0ZW1TZXQuc2V0R3JvdXBzKG5ld0RhdGFTZXQpOwogIH07CgogIC8qKgogICAqIFNldCBib3RoIGl0ZW1zIGFuZCBncm91cHMgaW4gb25lIGdvCiAgICogQHBhcmFtIHt7aXRlbXM6IEFycmF5IHwgdmlzLkRhdGFTZXQsIGdyb3VwczogQXJyYXkgfCB2aXMuRGF0YVNldH19IGRhdGEKICAgKi8KICBUaW1lbGluZS5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICBpZiAoZGF0YSAmJiBkYXRhLmdyb3VwcykgewogICAgICB0aGlzLnNldEdyb3VwcyhkYXRhLmdyb3Vwcyk7CiAgICB9CgogICAgaWYgKGRhdGEgJiYgZGF0YS5pdGVtcykgewogICAgICB0aGlzLnNldEl0ZW1zKGRhdGEuaXRlbXMpOwogICAgfQogIH07CgogIC8qKgogICAqIFNldCBzZWxlY3RlZCBpdGVtcyBieSB0aGVpciBpZC4gUmVwbGFjZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uCiAgICogVW5rbm93biBpZCdzIGFyZSBzaWxlbnRseSBpZ25vcmVkLgogICAqIEBwYXJhbSB7c3RyaW5nW10gfCBzdHJpbmd9IFtpZHNdICBBbiBhcnJheSB3aXRoIHplcm8gb3IgbW9yZSBpZCdzIG9mIHRoZSBpdGVtcyB0byBiZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC4gSWYgaWRzIGlzIGFuIGVtcHR5IGFycmF5LCBhbGwgaXRlbXMgd2lsbCBiZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkLgogICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGZvY3VzOiBib29sZWFuYAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgZm9jdXMgd2lsbCBiZSBzZXQgdG8gdGhlIHNlbGVjdGVkIGl0ZW0ocykKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGFuaW1hdGlvbjogYm9vbGVhbiB8IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmdGdW5jdGlvbjogc3RyaW5nfWAKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUgKGRlZmF1bHQpLCB0aGUgcmFuZ2UgaXMgYW5pbWF0ZWQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtb290aGx5IHRvIHRoZSBuZXcgd2luZG93LiBBbiBvYmplY3QgY2FuIGJlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCB0byBzcGVjaWZ5IGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGR1cmF0aW9uIGlzIDUwMCBtcywgYW5kIGRlZmF1bHQgZWFzaW5nCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpcyAnZWFzZUluT3V0UXVhZCcuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPbmx5IGFwcGxpY2FibGUgd2hlbiBvcHRpb24gZm9jdXMgaXMgdHJ1ZS4KICAgKi8KICBUaW1lbGluZS5wcm90b3R5cGUuc2V0U2VsZWN0aW9uID0gZnVuY3Rpb24gKGlkcywgb3B0aW9ucykgewogICAgdGhpcy5pdGVtU2V0ICYmIHRoaXMuaXRlbVNldC5zZXRTZWxlY3Rpb24oaWRzKTsKCiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmZvY3VzKSB7CiAgICAgIHRoaXMuZm9jdXMoaWRzLCBvcHRpb25zKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBHZXQgdGhlIHNlbGVjdGVkIGl0ZW1zIGJ5IHRoZWlyIGlkCiAgICogQHJldHVybiB7QXJyYXl9IGlkcyAgVGhlIGlkcyBvZiB0aGUgc2VsZWN0ZWQgaXRlbXMKICAgKi8KICBUaW1lbGluZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuaXRlbVNldCAmJiB0aGlzLml0ZW1TZXQuZ2V0U2VsZWN0aW9uKCkgfHwgW107CiAgfTsKCiAgLyoqCiAgICogQWRqdXN0IHRoZSB2aXNpYmxlIHdpbmRvdyBzdWNoIHRoYXQgdGhlIHNlbGVjdGVkIGl0ZW0gKG9yIG11bHRpcGxlIGl0ZW1zKQogICAqIGFyZSBjZW50ZXJlZCBvbiBzY3JlZW4uCiAgICogQHBhcmFtIHtTdHJpbmcgfCBTdHJpbmdbXX0gaWQgICAgIEFuIGl0ZW0gaWQgb3IgYXJyYXkgd2l0aCBpdGVtIGlkcwogICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGFuaW1hdGlvbjogYm9vbGVhbiB8IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmdGdW5jdGlvbjogc3RyaW5nfWAKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUgKGRlZmF1bHQpLCB0aGUgcmFuZ2UgaXMgYW5pbWF0ZWQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtb290aGx5IHRvIHRoZSBuZXcgd2luZG93LiBBbiBvYmplY3QgY2FuIGJlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCB0byBzcGVjaWZ5IGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGR1cmF0aW9uIGlzIDUwMCBtcywgYW5kIGRlZmF1bHQgZWFzaW5nCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpcyAnZWFzZUluT3V0UXVhZCcuCiAgICovCiAgVGltZWxpbmUucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKGlkLCBvcHRpb25zKSB7CiAgICBpZiAoIXRoaXMuaXRlbXNEYXRhIHx8IGlkID09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgIHZhciBpZHMgPSBBcnJheS5pc0FycmF5KGlkKSA/IGlkIDogW2lkXTsKCiAgICAvLyBnZXQgdGhlIHNwZWNpZmllZCBpdGVtKHMpCiAgICB2YXIgaXRlbXNEYXRhID0gdGhpcy5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpLmdldChpZHMsIHsKICAgICAgdHlwZTogewogICAgICAgIHN0YXJ0OiAnRGF0ZScsCiAgICAgICAgZW5kOiAnRGF0ZScKICAgICAgfQogICAgfSk7CgogICAgLy8gY2FsY3VsYXRlIG1pbmltdW0gc3RhcnQgYW5kIG1heGltdW0gZW5kIG9mIHNwZWNpZmllZCBpdGVtcwogICAgdmFyIHN0YXJ0ID0gbnVsbDsKICAgIHZhciBlbmQgPSBudWxsOwogICAgaXRlbXNEYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW1EYXRhKSB7CiAgICAgIHZhciBzID0gaXRlbURhdGEuc3RhcnQudmFsdWVPZigpOwogICAgICB2YXIgZSA9ICdlbmQnIGluIGl0ZW1EYXRhID8gaXRlbURhdGEuZW5kLnZhbHVlT2YoKSA6IGl0ZW1EYXRhLnN0YXJ0LnZhbHVlT2YoKTsKCiAgICAgIGlmIChzdGFydCA9PT0gbnVsbCB8fCBzIDwgc3RhcnQpIHsKICAgICAgICBzdGFydCA9IHM7CiAgICAgIH0KCiAgICAgIGlmIChlbmQgPT09IG51bGwgfHwgZSA+IGVuZCkgewogICAgICAgIGVuZCA9IGU7CiAgICAgIH0KICAgIH0pOwoKICAgIGlmIChzdGFydCAhPT0gbnVsbCAmJiBlbmQgIT09IG51bGwpIHsKICAgICAgLy8gY2FsY3VsYXRlIHRoZSBuZXcgbWlkZGxlIGFuZCBpbnRlcnZhbCBmb3IgdGhlIHdpbmRvdwogICAgICB2YXIgbWlkZGxlID0gKHN0YXJ0ICsgZW5kKSAvIDI7CiAgICAgIHZhciBpbnRlcnZhbCA9IE1hdGgubWF4KHRoaXMucmFuZ2UuZW5kIC0gdGhpcy5yYW5nZS5zdGFydCwgKGVuZCAtIHN0YXJ0KSAqIDEuMSk7CgogICAgICB2YXIgYW5pbWF0aW9uID0gb3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmltYXRpb24gOiB0cnVlOwogICAgICB0aGlzLnJhbmdlLnNldFJhbmdlKG1pZGRsZSAtIGludGVydmFsIC8gMiwgbWlkZGxlICsgaW50ZXJ2YWwgLyAyLCBhbmltYXRpb24pOwogICAgfQogIH07CgogIC8qKgogICAqIFNldCBUaW1lbGluZSB3aW5kb3cgc3VjaCB0aGF0IGl0IGZpdHMgYWxsIGl0ZW1zCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgQXZhaWxhYmxlIG9wdGlvbnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBhbmltYXRpb246IGJvb2xlYW4gfCB7ZHVyYXRpb246IG51bWJlciwgZWFzaW5nRnVuY3Rpb246IHN0cmluZ31gCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiB0cnVlIChkZWZhdWx0KSwgdGhlIHJhbmdlIGlzIGFuaW1hdGVkCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbW9vdGhseSB0byB0aGUgbmV3IHdpbmRvdy4gQW4gb2JqZWN0IGNhbiBiZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgdG8gc3BlY2lmeSBkdXJhdGlvbiBhbmQgZWFzaW5nIGZ1bmN0aW9uLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkdXJhdGlvbiBpcyA1MDAgbXMsIGFuZCBkZWZhdWx0IGVhc2luZwogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaXMgJ2Vhc2VJbk91dFF1YWQnLgogICAqLwogIFRpbWVsaW5lLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgdmFyIGFuaW1hdGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5pbWF0aW9uIDogdHJ1ZTsKICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0SXRlbVJhbmdlKCk7CiAgICB0aGlzLnJhbmdlLnNldFJhbmdlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCBhbmltYXRpb24pOwogIH07CgogIC8qKgogICAqIERldGVybWluZSB0aGUgcmFuZ2Ugb2YgdGhlIGl0ZW1zLCB0YWtpbmcgaW50byBhY2NvdW50IHRoZWlyIGFjdHVhbCB3aWR0aAogICAqIGFuZCBhIG1hcmdpbiBvZiAxMCBwaXhlbHMgb24gYm90aCBzaWRlcy4KICAgKiBAcmV0dXJuIHt7bWluOiBEYXRlIHwgbnVsbCwgbWF4OiBEYXRlIHwgbnVsbH19CiAgICovCiAgVGltZWxpbmUucHJvdG90eXBlLmdldEl0ZW1SYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8gZ2V0IGEgcm91Z2ggYXBwcm94aW1hdGlvbiBmb3IgdGhlIHJhbmdlIGJhc2VkIG9uIHRoZSBpdGVtcyBzdGFydCBhbmQgZW5kIGRhdGVzCiAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldERhdGFSYW5nZSgpOwogICAgdmFyIG1pbiA9IHJhbmdlLm1pbjsKICAgIHZhciBtYXggPSByYW5nZS5tYXg7CiAgICB2YXIgbWluSXRlbSA9IG51bGw7CiAgICB2YXIgbWF4SXRlbSA9IG51bGw7CgogICAgaWYgKG1pbiAhPSBudWxsICYmIG1heCAhPSBudWxsKSB7CiAgICAgIHZhciBpbnRlcnZhbDsKICAgICAgdmFyIGZhY3RvcjsKICAgICAgdmFyIGxoczsKICAgICAgdmFyIHJoczsKICAgICAgdmFyIGRlbHRhOwoKICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZ2V0U3RhcnQgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHV0aWwuY29udmVydChpdGVtLmRhdGEuc3RhcnQsICdEYXRlJykudmFsdWVPZigpOwogICAgICAgIH07CgogICAgICAgIHZhciBnZXRFbmQgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIGVuZCA9IGl0ZW0uZGF0YS5lbmQgIT0gdW5kZWZpbmVkID8gaXRlbS5kYXRhLmVuZCA6IGl0ZW0uZGF0YS5zdGFydDsKICAgICAgICAgIHJldHVybiB1dGlsLmNvbnZlcnQoZW5kLCAnRGF0ZScpLnZhbHVlT2YoKTsKICAgICAgICB9OwoKICAgICAgICBpbnRlcnZhbCA9IG1heCAtIG1pbjsKICAgICAgICAvLyBtcwogICAgICAgIGlmIChpbnRlcnZhbCA8PSAwKSB7CiAgICAgICAgICBpbnRlcnZhbCA9IDEwOwogICAgICAgIH0KICAgICAgICBmYWN0b3IgPSBpbnRlcnZhbCAvIF90aGlzLnByb3BzLmNlbnRlci53aWR0aDsKCiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBkYXRlIG9mIHRoZSBsZWZ0IHNpZGUgYW5kIHJpZ2h0IHNpZGUgb2YgdGhlIGl0ZW1zIGdpdmVuCiAgICAgICAgdXRpbC5mb3JFYWNoKF90aGlzLml0ZW1TZXQuaXRlbXMsIChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5zaG93KCk7CgogICAgICAgICAgdmFyIHN0YXJ0ID0gZ2V0U3RhcnQoaXRlbSk7CiAgICAgICAgICB2YXIgZW5kID0gZ2V0RW5kKGl0ZW0pOwoKICAgICAgICAgIHZhciBsZWZ0ID0gbmV3IERhdGUoc3RhcnQgLSAoaXRlbS5nZXRXaWR0aExlZnQoKSArIDEwKSAqIGZhY3Rvcik7CiAgICAgICAgICB2YXIgcmlnaHQgPSBuZXcgRGF0ZShlbmQgKyAoaXRlbS5nZXRXaWR0aFJpZ2h0KCkgKyAxMCkgKiBmYWN0b3IpOwoKICAgICAgICAgIGlmIChsZWZ0IDwgbWluKSB7CiAgICAgICAgICAgIG1pbiA9IGxlZnQ7CiAgICAgICAgICAgIG1pbkl0ZW0gPSBpdGVtOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHJpZ2h0ID4gbWF4KSB7CiAgICAgICAgICAgIG1heCA9IHJpZ2h0OwogICAgICAgICAgICBtYXhJdGVtID0gaXRlbTsKICAgICAgICAgIH0KICAgICAgICB9KS5iaW5kKF90aGlzKSk7CgogICAgICAgIGlmIChtaW5JdGVtICYmIG1heEl0ZW0pIHsKICAgICAgICAgIGxocyA9IG1pbkl0ZW0uZ2V0V2lkdGhMZWZ0KCkgKyAxMDsKICAgICAgICAgIHJocyA9IG1heEl0ZW0uZ2V0V2lkdGhSaWdodCgpICsgMTA7CiAgICAgICAgICBkZWx0YSA9IF90aGlzLnByb3BzLmNlbnRlci53aWR0aCAtIGxocyAtIHJoczsKICAgICAgICAgIC8vIHB4CgogICAgICAgICAgaWYgKGRlbHRhID4gMCkgewogICAgICAgICAgICBtaW4gPSBnZXRTdGFydChtaW5JdGVtKSAtIGxocyAqIGludGVydmFsIC8gZGVsdGE7IC8vIG1zCiAgICAgICAgICAgIG1heCA9IGdldEVuZChtYXhJdGVtKSArIHJocyAqIGludGVydmFsIC8gZGVsdGE7IC8vIG1zCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSgpOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIG1pbjogbWluICE9IG51bGwgPyBuZXcgRGF0ZShtaW4pIDogbnVsbCwKICAgICAgbWF4OiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsCiAgICB9OwogIH07CgogIC8qKgogICAqIENhbGN1bGF0ZSB0aGUgZGF0YSByYW5nZSBvZiB0aGUgaXRlbXMgc3RhcnQgYW5kIGVuZCBkYXRlcwogICAqIEByZXR1cm5zIHt7bWluOiBEYXRlIHwgbnVsbCwgbWF4OiBEYXRlIHwgbnVsbH19CiAgICovCiAgVGltZWxpbmUucHJvdG90eXBlLmdldERhdGFSYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBtaW4gPSBudWxsOwogICAgdmFyIG1heCA9IG51bGw7CgogICAgdmFyIGRhdGFzZXQgPSB0aGlzLml0ZW1zRGF0YSAmJiB0aGlzLml0ZW1zRGF0YS5nZXREYXRhU2V0KCk7CiAgICBpZiAoZGF0YXNldCkgewogICAgICBkYXRhc2V0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgc3RhcnQgPSB1dGlsLmNvbnZlcnQoaXRlbS5zdGFydCwgJ0RhdGUnKS52YWx1ZU9mKCk7CiAgICAgICAgdmFyIGVuZCA9IHV0aWwuY29udmVydChpdGVtLmVuZCAhPSB1bmRlZmluZWQgPyBpdGVtLmVuZCA6IGl0ZW0uc3RhcnQsICdEYXRlJykudmFsdWVPZigpOwogICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgc3RhcnQgPCBtaW4pIHsKICAgICAgICAgIG1pbiA9IHN0YXJ0OwogICAgICAgIH0KICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGVuZCA+IG1heCkgewogICAgICAgICAgbWF4ID0gc3RhcnQ7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBtaW46IG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGwsCiAgICAgIG1heDogbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbAogICAgfTsKICB9OwoKICAvKioKICAgKiBHZW5lcmF0ZSBUaW1lbGluZSByZWxhdGVkIGluZm9ybWF0aW9uIGZyb20gYW4gZXZlbnQKICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggcmVsYXRlZCBpbmZvcm1hdGlvbiwgbGlrZSBvbiB3aGljaCBhcmVhCiAgICogICAgICAgICAgICAgICAgICBUaGUgZXZlbnQgaGFwcGVuZWQsIHdoZXRoZXIgY2xpY2tlZCBvbiBhbiBpdGVtLCBldGMuCiAgICovCiAgVGltZWxpbmUucHJvdG90eXBlLmdldEV2ZW50UHJvcGVydGllcyA9IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGNsaWVudFggPSBldmVudC5jZW50ZXIgPyBldmVudC5jZW50ZXIueCA6IGV2ZW50LmNsaWVudFg7CiAgICB2YXIgY2xpZW50WSA9IGV2ZW50LmNlbnRlciA/IGV2ZW50LmNlbnRlci55IDogZXZlbnQuY2xpZW50WTsKICAgIHZhciB4ID0gY2xpZW50WCAtIHV0aWwuZ2V0QWJzb2x1dGVMZWZ0KHRoaXMuZG9tLmNlbnRlckNvbnRhaW5lcik7CiAgICB2YXIgeSA9IGNsaWVudFkgLSB1dGlsLmdldEFic29sdXRlVG9wKHRoaXMuZG9tLmNlbnRlckNvbnRhaW5lcik7CgogICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1TZXQuaXRlbUZyb21UYXJnZXQoZXZlbnQpOwogICAgdmFyIGdyb3VwID0gdGhpcy5pdGVtU2V0Lmdyb3VwRnJvbVRhcmdldChldmVudCk7CiAgICB2YXIgY3VzdG9tVGltZSA9IEN1c3RvbVRpbWUuY3VzdG9tVGltZUZyb21UYXJnZXQoZXZlbnQpOwoKICAgIHZhciBzbmFwID0gdGhpcy5pdGVtU2V0Lm9wdGlvbnMuc25hcCB8fCBudWxsOwogICAgdmFyIHNjYWxlID0gdGhpcy5ib2R5LnV0aWwuZ2V0U2NhbGUoKTsKICAgIHZhciBzdGVwID0gdGhpcy5ib2R5LnV0aWwuZ2V0U3RlcCgpOwogICAgdmFyIHRpbWUgPSB0aGlzLl90b1RpbWUoeCk7CiAgICB2YXIgc25hcHBlZFRpbWUgPSBzbmFwID8gc25hcCh0aW1lLCBzY2FsZSwgc3RlcCkgOiB0aW1lOwoKICAgIHZhciBlbGVtZW50ID0gdXRpbC5nZXRUYXJnZXQoZXZlbnQpOwogICAgdmFyIHdoYXQgPSBudWxsOwogICAgaWYgKGl0ZW0gIT0gbnVsbCkgewogICAgICB3aGF0ID0gJ2l0ZW0nOwogICAgfSBlbHNlIGlmIChjdXN0b21UaW1lICE9IG51bGwpIHsKICAgICAgd2hhdCA9ICdjdXN0b20tdGltZSc7CiAgICB9IGVsc2UgaWYgKHV0aWwuaGFzUGFyZW50KGVsZW1lbnQsIHRoaXMudGltZUF4aXMuZG9tLmZvcmVncm91bmQpKSB7CiAgICAgIHdoYXQgPSAnYXhpcyc7CiAgICB9IGVsc2UgaWYgKHRoaXMudGltZUF4aXMyICYmIHV0aWwuaGFzUGFyZW50KGVsZW1lbnQsIHRoaXMudGltZUF4aXMyLmRvbS5mb3JlZ3JvdW5kKSkgewogICAgICB3aGF0ID0gJ2F4aXMnOwogICAgfSBlbHNlIGlmICh1dGlsLmhhc1BhcmVudChlbGVtZW50LCB0aGlzLml0ZW1TZXQuZG9tLmxhYmVsU2V0KSkgewogICAgICB3aGF0ID0gJ2dyb3VwLWxhYmVsJzsKICAgIH0gZWxzZSBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy5jdXJyZW50VGltZS5iYXIpKSB7CiAgICAgIHdoYXQgPSAnY3VycmVudC10aW1lJzsKICAgIH0gZWxzZSBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy5kb20uY2VudGVyKSkgewogICAgICB3aGF0ID0gJ2JhY2tncm91bmQnOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGV2ZW50OiBldmVudCwKICAgICAgaXRlbTogaXRlbSA/IGl0ZW0uaWQgOiBudWxsLAogICAgICBncm91cDogZ3JvdXAgPyBncm91cC5ncm91cElkIDogbnVsbCwKICAgICAgd2hhdDogd2hhdCwKICAgICAgcGFnZVg6IGV2ZW50LnNyY0V2ZW50ID8gZXZlbnQuc3JjRXZlbnQucGFnZVggOiBldmVudC5wYWdlWCwKICAgICAgcGFnZVk6IGV2ZW50LnNyY0V2ZW50ID8gZXZlbnQuc3JjRXZlbnQucGFnZVkgOiBldmVudC5wYWdlWSwKICAgICAgeDogeCwKICAgICAgeTogeSwKICAgICAgdGltZTogdGltZSwKICAgICAgc25hcHBlZFRpbWU6IHNuYXBwZWRUaW1lCiAgICB9OwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gVGltZWxpbmU7CgovKioqLyB9LAovKiAyMCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIENvbXBvbmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpOwogIHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOwogIHZhciBsb2NhbGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7CgogIC8qKgogICAqIEEgY3VycmVudCB0aW1lIGJhcgogICAqIEBwYXJhbSB7e3JhbmdlOiBSYW5nZSwgZG9tOiBPYmplY3QsIGRvbVByb3BzOiBPYmplY3R9fSBib2R5CiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgQXZhaWxhYmxlIHBhcmFtZXRlcnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0Jvb2xlYW59IFtzaG93Q3VycmVudFRpbWVdCiAgICogQGNvbnN0cnVjdG9yIEN1cnJlbnRUaW1lCiAgICogQGV4dGVuZHMgQ29tcG9uZW50CiAgICovCiAgZnVuY3Rpb24gQ3VycmVudFRpbWUoYm9keSwgb3B0aW9ucykgewogICAgdGhpcy5ib2R5ID0gYm9keTsKCiAgICAvLyBkZWZhdWx0IG9wdGlvbnMKICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgIHNob3dDdXJyZW50VGltZTogdHJ1ZSwKCiAgICAgIGxvY2FsZXM6IGxvY2FsZXMsCiAgICAgIGxvY2FsZTogJ2VuJwogICAgfTsKICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKICAgIHRoaXMub2Zmc2V0ID0gMDsKCiAgICB0aGlzLl9jcmVhdGUoKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgfQoKICBDdXJyZW50VGltZS5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50KCk7CgogIC8qKgogICAqIENyZWF0ZSB0aGUgSFRNTCBET00gZm9yIHRoZSBjdXJyZW50IHRpbWUgYmFyCiAgICogQHByaXZhdGUKICAgKi8KICBDdXJyZW50VGltZS5wcm90b3R5cGUuX2NyZWF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGJhci5jbGFzc05hbWUgPSAndmlzLWN1cnJlbnQtdGltZSc7CiAgICBiYXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgYmFyLnN0eWxlLnRvcCA9ICcwcHgnOwogICAgYmFyLnN0eWxlLmhlaWdodCA9ICcxMDAlJzsKCiAgICB0aGlzLmJhciA9IGJhcjsKICB9OwoKICAvKioKICAgKiBEZXN0cm95IHRoZSBDdXJyZW50VGltZSBiYXIKICAgKi8KICBDdXJyZW50VGltZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMub3B0aW9ucy5zaG93Q3VycmVudFRpbWUgPSBmYWxzZTsKICAgIHRoaXMucmVkcmF3KCk7IC8vIHdpbGwgcmVtb3ZlIHRoZSBiYXIgZnJvbSB0aGUgRE9NIGFuZCBzdG9wIHJlZnJlc2hpbmcKCiAgICB0aGlzLmJvZHkgPSBudWxsOwogIH07CgogIC8qKgogICAqIFNldCBvcHRpb25zIGZvciB0aGUgY29tcG9uZW50LiBPcHRpb25zIHdpbGwgYmUgbWVyZ2VkIGluIGN1cnJlbnQgb3B0aW9ucy4KICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgQXZhaWxhYmxlIHBhcmFtZXRlcnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHtib29sZWFufSBbc2hvd0N1cnJlbnRUaW1lXQogICAqLwogIEN1cnJlbnRUaW1lLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIGlmIChvcHRpb25zKSB7CiAgICAgIC8vIGNvcHkgYWxsIG9wdGlvbnMgdGhhdCB3ZSBrbm93CiAgICAgIHV0aWwuc2VsZWN0aXZlRXh0ZW5kKFsnc2hvd0N1cnJlbnRUaW1lJywgJ2xvY2FsZScsICdsb2NhbGVzJ10sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgY29tcG9uZW50CiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgcmVzaXplZAogICAqLwogIEN1cnJlbnRUaW1lLnByb3RvdHlwZS5yZWRyYXcgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDdXJyZW50VGltZSkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5ib2R5LmRvbS5iYWNrZ3JvdW5kVmVydGljYWw7CiAgICAgIGlmICh0aGlzLmJhci5wYXJlbnROb2RlICE9IHBhcmVudCkgewogICAgICAgIC8vIGF0dGFjaCB0byB0aGUgZG9tCiAgICAgICAgaWYgKHRoaXMuYmFyLnBhcmVudE5vZGUpIHsKICAgICAgICAgIHRoaXMuYmFyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5iYXIpOwogICAgICAgIH0KICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5iYXIpOwoKICAgICAgICB0aGlzLnN0YXJ0KCk7CiAgICAgIH0KCiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpLnZhbHVlT2YoKSArIHRoaXMub2Zmc2V0KTsKICAgICAgdmFyIHggPSB0aGlzLmJvZHkudXRpbC50b1NjcmVlbihub3cpOwoKICAgICAgdmFyIGxvY2FsZSA9IHRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdOwogICAgICBpZiAoIWxvY2FsZSkgewogICAgICAgIGlmICghdGhpcy53YXJuZWQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBvcHRpb25zLmxvY2FsZXNbXCcnICsgdGhpcy5vcHRpb25zLmxvY2FsZSArICdcJ10gbm90IGZvdW5kLiBTZWUgaHR0cDovL3Zpc2pzLm9yZy9kb2NzL3RpbWVsaW5lLmh0bWwjTG9jYWxpemF0aW9uJyk7CiAgICAgICAgICB0aGlzLndhcm5lZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGxvY2FsZSA9IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddOyAvLyBmYWxsIGJhY2sgb24gZW5nbGlzaCB3aGVuIG5vdCBhdmFpbGFibGUKICAgICAgfQogICAgICB2YXIgdGl0bGUgPSBsb2NhbGUuY3VycmVudCArICcgJyArIGxvY2FsZS50aW1lICsgJzogJyArIG1vbWVudChub3cpLmZvcm1hdCgnZGRkZCwgTU1NTSBEbyBZWVlZLCBIOm1tOnNzJyk7CiAgICAgIHRpdGxlID0gdGl0bGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aXRsZS5zdWJzdHJpbmcoMSk7CgogICAgICB0aGlzLmJhci5zdHlsZS5sZWZ0ID0geCArICdweCc7CiAgICAgIHRoaXMuYmFyLnRpdGxlID0gdGl0bGU7CiAgICB9IGVsc2UgewogICAgICAvLyByZW1vdmUgdGhlIGxpbmUgZnJvbSB0aGUgRE9NCiAgICAgIGlmICh0aGlzLmJhci5wYXJlbnROb2RlKSB7CiAgICAgICAgdGhpcy5iYXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmJhcik7CiAgICAgIH0KICAgICAgdGhpcy5zdG9wKCk7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH07CgogIC8qKgogICAqIFN0YXJ0IGF1dG8gcmVmcmVzaGluZyB0aGUgY3VycmVudCB0aW1lIGJhcgogICAqLwogIEN1cnJlbnRUaW1lLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBtZSA9IHRoaXM7CgogICAgZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICBtZS5zdG9wKCk7CgogICAgICAvLyBkZXRlcm1pbmUgaW50ZXJ2YWwgdG8gcmVmcmVzaAogICAgICB2YXIgc2NhbGUgPSBtZS5ib2R5LnJhbmdlLmNvbnZlcnNpb24obWUuYm9keS5kb21Qcm9wcy5jZW50ZXIud2lkdGgpLnNjYWxlOwogICAgICB2YXIgaW50ZXJ2YWwgPSAxIC8gc2NhbGUgLyAxMDsKICAgICAgaWYgKGludGVydmFsIDwgMzApIGludGVydmFsID0gMzA7CiAgICAgIGlmIChpbnRlcnZhbCA+IDEwMDApIGludGVydmFsID0gMTAwMDsKCiAgICAgIG1lLnJlZHJhdygpOwoKICAgICAgLy8gc3RhcnQgYSByZW5kZXJUaW1lciB0byBhZGp1c3QgZm9yIHRoZSBuZXcgdGltZQogICAgICBtZS5jdXJyZW50VGltZVRpbWVyID0gc2V0VGltZW91dCh1cGRhdGUsIGludGVydmFsKTsKICAgIH0KCiAgICB1cGRhdGUoKTsKICB9OwoKICAvKioKICAgKiBTdG9wIGF1dG8gcmVmcmVzaGluZyB0aGUgY3VycmVudCB0aW1lIGJhcgogICAqLwogIEN1cnJlbnRUaW1lLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuY3VycmVudFRpbWVUaW1lciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmN1cnJlbnRUaW1lVGltZXIpOwogICAgICBkZWxldGUgdGhpcy5jdXJyZW50VGltZVRpbWVyOwogICAgfQogIH07CgogIC8qKgogICAqIFNldCBhIGN1cnJlbnQgdGltZS4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgZXhhbXBsZSB0byBlbnN1cmUgdGhhdCBhIGNsaWVudCdzCiAgICogdGltZSBpcyBzeW5jaHJvbml6ZWQgd2l0aCBhIHNoYXJlZCBzZXJ2ZXIgdGltZS4KICAgKiBAcGFyYW0ge0RhdGUgfCBTdHJpbmcgfCBOdW1iZXJ9IHRpbWUgICAgIEEgRGF0ZSwgdW5peCB0aW1lc3RhbXAsIG9yCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJU08gZGF0ZSBzdHJpbmcuCiAgICovCiAgQ3VycmVudFRpbWUucHJvdG90eXBlLnNldEN1cnJlbnRUaW1lID0gZnVuY3Rpb24gKHRpbWUpIHsKICAgIHZhciB0ID0gdXRpbC5jb252ZXJ0KHRpbWUsICdEYXRlJykudmFsdWVPZigpOwogICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkudmFsdWVPZigpOwogICAgdGhpcy5vZmZzZXQgPSB0IC0gbm93OwogICAgdGhpcy5yZWRyYXcoKTsKICB9OwoKICAvKioKICAgKiBHZXQgdGhlIGN1cnJlbnQgdGltZS4KICAgKiBAcmV0dXJuIHtEYXRlfSBSZXR1cm5zIHRoZSBjdXJyZW50IHRpbWUuCiAgICovCiAgQ3VycmVudFRpbWUucHJvdG90eXBlLmdldEN1cnJlbnRUaW1lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBEYXRlKG5ldyBEYXRlKCkudmFsdWVPZigpICsgdGhpcy5vZmZzZXQpOwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gQ3VycmVudFRpbWU7CgovKioqLyB9LAovKiAyMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLyoqCiAgICogUHJvdG90eXBlIGZvciB2aXN1YWwgY29tcG9uZW50cwogICAqIEBwYXJhbSB7e2RvbTogT2JqZWN0LCBkb21Qcm9wczogT2JqZWN0LCBlbWl0dGVyOiBFbWl0dGVyLCByYW5nZTogUmFuZ2V9fSBbYm9keV0KICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdCiAgICovCiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBDb21wb25lbnQoYm9keSwgb3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gbnVsbDsKICAgIHRoaXMucHJvcHMgPSBudWxsOwogIH0KCiAgLyoqCiAgICogU2V0IG9wdGlvbnMgZm9yIHRoZSBjb21wb25lbnQuIFRoZSBuZXcgb3B0aW9ucyB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZQogICAqIGN1cnJlbnQgb3B0aW9ucy4KICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucwogICAqLwogIENvbXBvbmVudC5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICBpZiAob3B0aW9ucykgewogICAgICB1dGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOwogICAgfQogIH07CgogIC8qKgogICAqIFJlcGFpbnQgdGhlIGNvbXBvbmVudAogICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIHJlc2l6ZWQKICAgKi8KICBDb21wb25lbnQucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSB0aGUgY29tcG9uZW50CiAgICByZXR1cm4gZmFsc2U7CiAgfTsKCiAgLyoqCiAgICogRGVzdHJveSB0aGUgY29tcG9uZW50LiBDbGVhbnVwIERPTSBhbmQgZXZlbnQgbGlzdGVuZXJzCiAgICovCiAgQ29tcG9uZW50LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge307CgogIC8qKgogICAqIFRlc3Qgd2hldGhlciB0aGUgY29tcG9uZW50IGlzIHJlc2l6ZWQgc2luY2UgdGhlIGxhc3QgdGltZSBfaXNSZXNpemVkKCkgd2FzCiAgICogY2FsbGVkLgogICAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIHJlc2l6ZWQKICAgKiBAcHJvdGVjdGVkCiAgICovCiAgQ29tcG9uZW50LnByb3RvdHlwZS5faXNSZXNpemVkID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHJlc2l6ZWQgPSB0aGlzLnByb3BzLl9wcmV2aW91c1dpZHRoICE9PSB0aGlzLnByb3BzLndpZHRoIHx8IHRoaXMucHJvcHMuX3ByZXZpb3VzSGVpZ2h0ICE9PSB0aGlzLnByb3BzLmhlaWdodDsKCiAgICB0aGlzLnByb3BzLl9wcmV2aW91c1dpZHRoID0gdGhpcy5wcm9wcy53aWR0aDsKICAgIHRoaXMucHJvcHMuX3ByZXZpb3VzSGVpZ2h0ID0gdGhpcy5wcm9wcy5oZWlnaHQ7CgogICAgcmV0dXJuIHJlc2l6ZWQ7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBDb21wb25lbnQ7CgogIC8vIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSB0aGUgY29tcG9uZW50CgovKioqLyB9LAovKiAyMiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLy8gRW5nbGlzaAogICd1c2Ugc3RyaWN0JzsKCiAgZXhwb3J0c1snZW4nXSA9IHsKICAgIGN1cnJlbnQ6ICdjdXJyZW50JywKICAgIHRpbWU6ICd0aW1lJwogIH07CiAgZXhwb3J0c1snZW5fRU4nXSA9IGV4cG9ydHNbJ2VuJ107CiAgZXhwb3J0c1snZW5fVVMnXSA9IGV4cG9ydHNbJ2VuJ107CgogIC8vIER1dGNoCiAgZXhwb3J0c1snbmwnXSA9IHsKICAgIGN1cnJlbnQ6ICdodWlkaWdlJywKICAgIHRpbWU6ICd0aWpkJwogIH07CiAgZXhwb3J0c1snbmxfTkwnXSA9IGV4cG9ydHNbJ25sJ107CiAgZXhwb3J0c1snbmxfQkUnXSA9IGV4cG9ydHNbJ25sJ107CgovKioqLyB9LAovKiAyMyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgLy8gT25seSBsb2FkIGhhbW1lci5qcyB3aGVuIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudAogIC8vIChsb2FkaW5nIGhhbW1lci5qcyBpbiBhIG5vZGUuanMgZW52aXJvbm1lbnQgZ2l2ZXMgZXJyb3JzKQogICd1c2Ugc3RyaWN0JzsKCiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICB2YXIgcHJvcGFnYXRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTsKICAgIHZhciBIYW1tZXIgPSB3aW5kb3dbJ0hhbW1lciddIHx8IF9fd2VicGFja19yZXF1aXJlX18oMjUpOwogICAgbW9kdWxlLmV4cG9ydHMgPSBwcm9wYWdhdGluZyhIYW1tZXIsIHsKICAgICAgcHJldmVudERlZmF1bHQ6ICdtb3VzZScKICAgIH0pOwogIH0gZWxzZSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgdGhyb3cgRXJyb3IoJ2hhbW1lci5qcyBpcyBvbmx5IGF2YWlsYWJsZSBpbiBhIGJyb3dzZXIsIG5vdCBpbiBub2RlLmpzLicpOwogICAgfTsKICB9CgovKioqLyB9LAovKiAyNCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgdmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187J3VzZSBzdHJpY3QnOwoKICAoZnVuY3Rpb24gKGZhY3RvcnkpIHsKICAgIGlmICh0cnVlKSB7CiAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLAogICAgICAvLyBsaWtlIE5vZGUuCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgfSBlbHNlIHsKICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgICAgd2luZG93LnByb3BhZ2F0aW5nID0gZmFjdG9yeSgpOwogICAgfQogIH0oZnVuY3Rpb24gKCkgewogICAgdmFyIF9maXJzdFRhcmdldCA9IG51bGw7IC8vIHNpbmdsZXRvbiwgd2lsbCBjb250YWluIHRoZSB0YXJnZXQgZWxlbWVudCB3aGVyZSB0aGUgdG91Y2ggZXZlbnQgc3RhcnRlZAogICAgdmFyIF9wcm9jZXNzaW5nID0gZmFsc2U7IC8vIHNpbmdsZXRvbiwgdHJ1ZSB3aGVuIGEgdG91Y2ggZXZlbnQgaXMgYmVpbmcgaGFuZGxlZAoKICAgIC8qKgogICAgICogRXh0ZW5kIGFuIEhhbW1lci5qcyBpbnN0YW5jZSB3aXRoIGV2ZW50IHByb3BhZ2F0aW9uLgogICAgICoKICAgICAqIEZlYXR1cmVzOgogICAgICogLSBFdmVudHMgZW1pdHRlZCBieSBoYW1tZXIgd2lsbCBwcm9wYWdhdGUgaW4gb3JkZXIgZnJvbSBjaGlsZCB0byBwYXJlbnQKICAgICAqICAgZWxlbWVudHMuCiAgICAgKiAtIEV2ZW50cyBhcmUgZXh0ZW5kZWQgd2l0aCBhIGZ1bmN0aW9uIGBldmVudC5zdG9wUHJvcGFnYXRpb24oKWAgdG8gc3RvcAogICAgICogICBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuCiAgICAgKiAtIEFuIG9wdGlvbiBgcHJldmVudERlZmF1bHRgIHRvIHN0b3AgYWxsIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci4KICAgICAqCiAgICAgKiBVc2FnZToKICAgICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCkpOwogICAgICogICB2YXIgaGFtbWVyID0gcHJvcGFnYXRpbmdIYW1tZXIobmV3IEhhbW1lcihlbGVtZW50KSwge3ByZXZlbnREZWZhdWx0OiB0cnVlfSk7CiAgICAgKgogICAgICogQHBhcmFtIHtIYW1tZXIuTWFuYWdlcn0gaGFtbWVyICAgQW4gaGFtbWVyIGluc3RhbmNlLgogICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnM6CiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB8ICdtb3VzZScgfCAndG91Y2gnIHwgJ3BlbidgLgogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmZvcmNlIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci4KICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90IGJlIHNldCB0byBgZmFsc2VgLgogICAgICogQHJldHVybiB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIHNhbWUgaGFtbWVyIGluc3RhbmNlIHdpdGggZXh0ZW5kZWQKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5CiAgICAgKi8KICAgIHJldHVybiBmdW5jdGlvbiBwcm9wYWdhdGluZyhoYW1tZXIsIG9wdGlvbnMpIHsKICAgICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyB8fCB7CiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlCiAgICAgIH07CgogICAgICBpZiAoaGFtbWVyLk1hbmFnZXIpIHsKICAgICAgICAvLyBUaGlzIGxvb2tzIGxpa2UgdGhlIEhhbW1lciBjb25zdHJ1Y3Rvci4KICAgICAgICAvLyBPdmVybG9hZCB0aGUgY29uc3RydWN0b3JzIHdpdGggb3VyIG93bi4KICAgICAgICB2YXIgSGFtbWVyID0gaGFtbWVyOwoKICAgICAgICB2YXIgUHJvcGFnYXRpbmdIYW1tZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7CiAgICAgICAgICB2YXIgbyA9IE9iamVjdC5jcmVhdGUoX29wdGlvbnMpOwogICAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5leHRlbmQobywgb3B0aW9ucyk7CiAgICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lcihlbGVtZW50LCBvKSwgbyk7CiAgICAgICAgfTsKICAgICAgICBIYW1tZXIuZXh0ZW5kKFByb3BhZ2F0aW5nSGFtbWVyLCBIYW1tZXIpOwoKICAgICAgICBQcm9wYWdhdGluZ0hhbW1lci5NYW5hZ2VyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7CiAgICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmV4dGVuZChvLCBvcHRpb25zKTsKICAgICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWxlbWVudCwgbyksIG8pOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBQcm9wYWdhdGluZ0hhbW1lcjsKICAgICAgfQoKICAgICAgLy8gY3JlYXRlIGEgd3JhcHBlciBvYmplY3Qgd2hpY2ggd2lsbCBvdmVycmlkZSB0aGUgZnVuY3Rpb25zCiAgICAgIC8vIGBvbmAsIGBvZmZgLCBgZGVzdHJveWAsIGFuZCBgZW1pdGAgb2YgdGhlIGhhbW1lciBpbnN0YW5jZQogICAgICB2YXIgd3JhcHBlciA9IE9iamVjdC5jcmVhdGUoaGFtbWVyKTsKCiAgICAgIC8vIGF0dGFjaCB0byBET00gZWxlbWVudAogICAgICB2YXIgZWxlbWVudCA9IGhhbW1lci5lbGVtZW50OwogICAgICBlbGVtZW50LmhhbW1lciA9IHdyYXBwZXI7CgogICAgICAvLyByZWdpc3RlciBhbiBldmVudCB0byBjYXRjaCB0aGUgc3RhcnQgb2YgYSBnZXN0dXJlIGFuZCBzdG9yZSB0aGUKICAgICAgLy8gdGFyZ2V0IGluIGEgc2luZ2xldG9uCiAgICAgIGhhbW1lci5vbignaGFtbWVyLmlucHV0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgaWYgKF9vcHRpb25zLnByZXZlbnREZWZhdWx0ID09PSB0cnVlIHx8IChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gZXZlbnQucG9pbnRlclR5cGUpKSB7CiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgICBpZiAoZXZlbnQuaXNGaXJzdCkgewogICAgICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAvKiogQHR5cGUge09iamVjdC48U3RyaW5nLCBBcnJheS48ZnVuY3Rpb24+Pn0gKi8KICAgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTsKCiAgICAgIC8qKgogICAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHMKICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHMKICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciBBIGNhbGxiYWNrIGZ1bmN0aW9uLCBjYWxsZWQgYXMgaGFuZGxlcihldmVudCkKICAgICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSBSZXR1cm5zIHRoZSBoYW1tZXIgaW5zdGFuY2UKICAgICAgICovCiAgICAgIHdyYXBwZXIub24gPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7CiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIGhhbmRsZXIKICAgICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdOwogICAgICAgICAgaWYgKCFfaGFuZGxlcnMpIHsKICAgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzID0gW107CgogICAgICAgICAgICAvLyByZWdpc3RlciB0aGUgc3RhdGljLCBwcm9wYWdhdGVkIGhhbmRsZXIKICAgICAgICAgICAgaGFtbWVyLm9uKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgICBfaGFuZGxlcnMucHVzaChoYW5kbGVyKTsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHdyYXBwZXI7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogVW5yZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHMKICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50cwogICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gT3B0aW9uYWwuIFRoZSByZWdpc3RlcmVkIGhhbmRsZXIuIElmIG5vdAogICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQsIGFsbCBoYW5kbGVycyBmb3IgZ2l2ZW4gZXZlbnRzCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgcmVtb3ZlZC4KICAgICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSAgIFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZQogICAgICAgKi8KICAgICAgd3JhcHBlci5vZmYgPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7CiAgICAgICAgLy8gdW5yZWdpc3RlciB0aGUgaGFuZGxlcgogICAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07CiAgICAgICAgICBpZiAoX2hhbmRsZXJzKSB7CiAgICAgICAgICAgIF9oYW5kbGVycyA9IGhhbmRsZXIgPyBfaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGggIT09IGhhbmRsZXI7CiAgICAgICAgICAgIH0pIDogW107CgogICAgICAgICAgICBpZiAoX2hhbmRsZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgLy8gcmVtb3ZlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyCiAgICAgICAgICAgICAgaGFtbWVyLm9mZihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpOwogICAgICAgICAgICAgIGRlbGV0ZSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHdyYXBwZXI7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogRW1pdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUKICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgICAgICovCiAgICAgIHdyYXBwZXIuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZXZlbnQpIHsKICAgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7CiAgICAgICAgaGFtbWVyLmVtaXQoZXZlbnRUeXBlLCBldmVudCk7CiAgICAgIH07CgogICAgICB3cmFwcGVyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gRGV0YWNoIGZyb20gRE9NIGVsZW1lbnQKICAgICAgICBkZWxldGUgaGFtbWVyLmVsZW1lbnQuaGFtbWVyOwoKICAgICAgICAvLyBjbGVhciBhbGwgaGFuZGxlcnMKICAgICAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9OwoKICAgICAgICAvLyBjYWxsIG9yaWdpbmFsIGhhbW1lciBkZXN0cm95CiAgICAgICAgaGFtbWVyLmRlc3Ryb3koKTsKICAgICAgfTsKCiAgICAgIC8vIHNwbGl0IGEgc3RyaW5nIHdpdGggc3BhY2Ugc2VwYXJhdGVkIHdvcmRzCiAgICAgIGZ1bmN0aW9uIHNwbGl0KGV2ZW50cykgewogICAgICAgIHJldHVybiBldmVudHMubWF0Y2goL1teIF0rL2cpOwogICAgICB9CgogICAgICAvKioKICAgICAgICogQSBzdGF0aWMgZXZlbnQgaGFuZGxlciwgYXBwbHlpbmcgZXZlbnQgcHJvcGFnYXRpb24uCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudAogICAgICAgKi8KICAgICAgZnVuY3Rpb24gcHJvcGFnYXRlZEhhbmRsZXIoZXZlbnQpIHsKICAgICAgICAvLyBsZXQgb25seSBhIHNpbmdsZSBoYW1tZXIgaW5zdGFuY2UgaGFuZGxlIHRoaXMgZXZlbnQKICAgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ2hhbW1lci5pbnB1dCcpIHsKICAgICAgICAgIC8vIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIHNhbWUgc3JjRXZlbnQgaXMgdXNlZCB3aXRoIG11bHRpcGxlIGhhbW1lciBldmVudHMsCiAgICAgICAgICAvLyB3ZSBrZWVwIHRyYWNrIG9uIHdoaWNoIGV2ZW50cyBhcmUgaGFuZGxlZCBpbiBhbiBvYmplY3QgX2hhbmRsZWQKICAgICAgICAgIGlmICghZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQpIHsKICAgICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQgPSB7fTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0pIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGF0dGFjaCBhIHN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvbiB0byB0aGUgZXZlbnQKICAgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlOwogICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHN0b3BwZWQgPSB0cnVlOwogICAgICAgIH07CgogICAgICAgIC8vIGF0dGFjaCBmaXJzdFRhcmdldCBwcm9wZXJ0eSB0byB0aGUgZXZlbnQKICAgICAgICBldmVudC5maXJzdFRhcmdldCA9IF9maXJzdFRhcmdldDsKCiAgICAgICAgLy8gcHJvcGFnYXRlIG92ZXIgYWxsIGVsZW1lbnRzICh1bnRpbCBzdG9wcGVkKQogICAgICAgIHZhciBlbGVtID0gX2ZpcnN0VGFyZ2V0OwogICAgICAgIHdoaWxlIChlbGVtICYmICFzdG9wcGVkKSB7CiAgICAgICAgICB2YXIgX2hhbmRsZXJzID0gZWxlbS5oYW1tZXIgJiYgZWxlbS5oYW1tZXIuX2hhbmRsZXJzW2V2ZW50LnR5cGVdOwogICAgICAgICAgaWYgKF9oYW5kbGVycykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9oYW5kbGVycy5sZW5ndGggJiYgIXN0b3BwZWQ7IGkrKykgewogICAgICAgICAgICAgIF9oYW5kbGVyc1tpXShldmVudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHdyYXBwZXI7CiAgICB9OwogIH0pKTsKCgovKioqLyB9LAovKiAyNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgdmFyIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qISBIYW1tZXIuSlMgLSB2Mi4wLjQgLSAyMDE0LTA5LTI4CiAgICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby8KICAgKgogICAqIENvcHlyaWdodCAoYykgMjAxNCBKb3JpayBUYW5nZWxkZXI7CiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovCiAgKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ21veicsICdNUycsICdtcycsICdvJ107CiAgdmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICB2YXIgVFlQRV9GVU5DVElPTiA9ICdmdW5jdGlvbic7CgogIHZhciByb3VuZCA9IE1hdGgucm91bmQ7CiAgdmFyIGFicyA9IE1hdGguYWJzOwogIHZhciBub3cgPSBEYXRlLm5vdzsKCiAgLyoqCiAgICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGUKICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbgogICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0CiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAqLwogIGZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7CiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpOwogIH0KCiAgLyoqCiAgICogaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LCB3ZSB3YW50IHRvIGV4ZWN1dGUgdGhlIGZuIG9uIGVhY2ggZW50cnkKICAgKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy4KICAgKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC4KICAgKiBAcGFyYW0geyp8QXJyYXl9IGFyZwogICAqIEBwYXJhbSB7U3RyaW5nfSBmbgogICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF0KICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgKi8KICBmdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHsKICAgICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgfQoKICAvKioKICAgKiB3YWxrIG9iamVjdHMgYW5kIGFycmF5cwogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoKICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvcgogICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICovCiAgZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICAgIHZhciBpOwoKICAgICAgaWYgKCFvYmopIHsKICAgICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG9iai5mb3JFYWNoKSB7CiAgICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7CiAgICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpID0gMDsKICAgICAgICAgIHdoaWxlIChpIDwgb2JqLmxlbmd0aCkgewogICAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopOwogICAgICAgICAgICAgIGkrKzsKICAgICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvciAoaSBpbiBvYmopIHsKICAgICAgICAgICAgICBvYmouaGFzT3duUHJvcGVydHkoaSkgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7CiAgICAgICAgICB9CiAgICAgIH0KICB9CgogIC8qKgogICAqIGV4dGVuZCBvYmplY3QuCiAgICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuCiAgICogQHBhcmFtIHtPYmplY3R9IGRlc3QKICAgKiBAcGFyYW0ge09iamVjdH0gc3JjCiAgICogQHBhcmFtIHtCb29sZWFufSBbbWVyZ2VdCiAgICogQHJldHVybnMge09iamVjdH0gZGVzdAogICAqLwogIGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7CiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTsKICAgICAgdmFyIGkgPSAwOwogICAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7CiAgICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTsKICAgICAgICAgIH0KICAgICAgICAgIGkrKzsKICAgICAgfQogICAgICByZXR1cm4gZGVzdDsKICB9CgogIC8qKgogICAqIG1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBzcmMgaW4gdGhlIGRlc3QuCiAgICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmMKICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdAogICAqIEBwYXJhbSB7T2JqZWN0fSBzcmMKICAgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0CiAgICovCiAgZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7CiAgICAgIHJldHVybiBleHRlbmQoZGVzdCwgc3JjLCB0cnVlKTsKICB9CgogIC8qKgogICAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZQogICAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gYmFzZQogICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10KICAgKi8KICBmdW5jdGlvbiBpbmhlcml0KGNoaWxkLCBiYXNlLCBwcm9wZXJ0aWVzKSB7CiAgICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLAogICAgICAgICAgY2hpbGRQOwoKICAgICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7CiAgICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkOwogICAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7CgogICAgICBpZiAocHJvcGVydGllcykgewogICAgICAgICAgZXh0ZW5kKGNoaWxkUCwgcHJvcGVydGllcyk7CiAgICAgIH0KICB9CgogIC8qKgogICAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4KICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAqIEByZXR1cm5zIHtGdW5jdGlvbn0KICAgKi8KICBmdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7CiAgICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTsKICAgICAgfTsKICB9CgogIC8qKgogICAqIGxldCBhIGJvb2xlYW4gdmFsdWUgYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgbXVzdCByZXR1cm4gYSBib29sZWFuCiAgICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0CiAgICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWwKICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10KICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgKi8KICBmdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHsKICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikgewogICAgICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpOwogICAgICB9CiAgICAgIHJldHVybiB2YWw7CiAgfQoKICAvKioKICAgKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZAogICAqIEBwYXJhbSB7Kn0gdmFsMQogICAqIEBwYXJhbSB7Kn0gdmFsMgogICAqIEByZXR1cm5zIHsqfQogICAqLwogIGZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHsKICAgICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7CiAgfQoKICAvKioKICAgKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UKICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXQKICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXMKICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyCiAgICovCiAgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikgewogICAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkgewogICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpOwogICAgICB9KTsKICB9CgogIC8qKgogICAqIHJlbW92ZUV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZQogICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldAogICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlcwogICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIKICAgKi8KICBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7CiAgICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIH0pOwogIH0KCiAgLyoqCiAgICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudAogICAqIEBtZXRob2QgaGFzUGFyZW50CiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZQogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudAogICAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kCiAgICovCiAgZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkgewogICAgICB3aGlsZSAobm9kZSkgewogICAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICB9CgogIC8qKgogICAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlcgogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIKICAgKiBAcGFyYW0ge1N0cmluZ30gZmluZAogICAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZAogICAqLwogIGZ1bmN0aW9uIGluU3RyKHN0ciwgZmluZCkgewogICAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTsKICB9CgogIC8qKgogICAqIHNwbGl0IHN0cmluZyBvbiB3aGl0ZXNwYWNlCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cgogICAqIEByZXR1cm5zIHtBcnJheX0gd29yZHMKICAgKi8KICBmdW5jdGlvbiBzcGxpdFN0cihzdHIpIHsKICAgICAgcmV0dXJuIHN0ci50cmltKCkuc3BsaXQoL1xzKy9nKTsKICB9CgogIC8qKgogICAqIGZpbmQgaWYgYSBhcnJheSBjb250YWlucyB0aGUgb2JqZWN0IHVzaW5nIGluZGV4T2Ygb3IgYSBzaW1wbGUgcG9seUZpbGwKICAgKiBAcGFyYW0ge0FycmF5fSBzcmMKICAgKiBAcGFyYW0ge1N0cmluZ30gZmluZAogICAqIEBwYXJhbSB7U3RyaW5nfSBbZmluZEJ5S2V5XQogICAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4CiAgICovCiAgZnVuY3Rpb24gaW5BcnJheShzcmMsIGZpbmQsIGZpbmRCeUtleSkgewogICAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkgewogICAgICAgICAgcmV0dXJuIHNyYy5pbmRleE9mKGZpbmQpOwogICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGkgPSAwOwogICAgICAgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgaWYgKChmaW5kQnlLZXkgJiYgc3JjW2ldW2ZpbmRCeUtleV0gPT0gZmluZCkgfHwgKCFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CiAgfQoKICAvKioKICAgKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5cwogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoKICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICovCiAgZnVuY3Rpb24gdG9BcnJheShvYmopIHsKICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7CiAgfQoKICAvKioKICAgKiB1bmlxdWUgYXJyYXkgd2l0aCBvYmplY3RzIGJhc2VkIG9uIGEga2V5IChsaWtlICdpZCcpIG9yIGp1c3QgYnkgdGhlIGFycmF5J3MgdmFsdWUKICAgKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XQogICAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NvcnQ9RmFsc2VdCiAgICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV0KICAgKi8KICBmdW5jdGlvbiB1bmlxdWVBcnJheShzcmMsIGtleSwgc29ydCkgewogICAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgICB2YXIgdmFsdWVzID0gW107CiAgICAgIHZhciBpID0gMDsKCiAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkgewogICAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldOwogICAgICAgICAgaWYgKGluQXJyYXkodmFsdWVzLCB2YWwpIDwgMCkgewogICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pOwogICAgICAgICAgfQogICAgICAgICAgdmFsdWVzW2ldID0gdmFsOwogICAgICAgICAgaSsrOwogICAgICB9CgogICAgICBpZiAoc29ydCkgewogICAgICAgICAgaWYgKCFrZXkpIHsKICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICAvKioKICAgKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5CiAgICogQHBhcmFtIHtPYmplY3R9IG9iagogICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eQogICAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZAogICAqLwogIGZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHsKICAgICAgdmFyIHByZWZpeCwgcHJvcDsKICAgICAgdmFyIGNhbWVsUHJvcCA9IHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTsKCiAgICAgIHZhciBpID0gMDsKICAgICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7CiAgICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07CiAgICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTsKCiAgICAgICAgICBpZiAocHJvcCBpbiBvYmopIHsKICAgICAgICAgICAgICByZXR1cm4gcHJvcDsKICAgICAgICAgIH0KICAgICAgICAgIGkrKzsKICAgICAgfQogICAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KCiAgLyoqCiAgICogZ2V0IGEgdW5pcXVlIGlkCiAgICogQHJldHVybnMge251bWJlcn0gdW5pcXVlSWQKICAgKi8KICB2YXIgX3VuaXF1ZUlkID0gMTsKICBmdW5jdGlvbiB1bmlxdWVJZCgpIHsKICAgICAgcmV0dXJuIF91bmlxdWVJZCsrOwogIH0KCiAgLyoqCiAgICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnQKICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50CiAgICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9CiAgICovCiAgZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7CiAgICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7CiAgICAgIHJldHVybiAoZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3cpOwogIH0KCiAgdmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTsKCiAgdmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTsKICB2YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7CiAgdmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CgogIHZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJzsKICB2YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJzsKICB2YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7CiAgdmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7CgogIHZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7CgogIHZhciBJTlBVVF9TVEFSVCA9IDE7CiAgdmFyIElOUFVUX01PVkUgPSAyOwogIHZhciBJTlBVVF9FTkQgPSA0OwogIHZhciBJTlBVVF9DQU5DRUwgPSA4OwoKICB2YXIgRElSRUNUSU9OX05PTkUgPSAxOwogIHZhciBESVJFQ1RJT05fTEVGVCA9IDI7CiAgdmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7CiAgdmFyIERJUkVDVElPTl9VUCA9IDg7CiAgdmFyIERJUkVDVElPTl9ET1dOID0gMTY7CgogIHZhciBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9MRUZUIHwgRElSRUNUSU9OX1JJR0hUOwogIHZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjsKICB2YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMOwoKICB2YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddOwogIHZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddOwoKICAvKioKICAgKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlcgogICAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlcgogICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrCiAgICogQHJldHVybnMge0lucHV0fQogICAqIEBjb25zdHJ1Y3RvcgogICAqLwogIGZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjsKICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7CiAgICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0OwoKICAgICAgLy8gc21hbGxlciB3cmFwcGVyIGFyb3VuZCB0aGUgaGFuZGxlciwgZm9yIHRoZSBzY29wZSBhbmQgdGhlIGVuYWJsZWQgc3RhdGUgb2YgdGhlIG1hbmFnZXIsCiAgICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC4KICAgICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICAgIGlmIChib29sT3JGbihtYW5hZ2VyLm9wdGlvbnMuZW5hYmxlLCBbbWFuYWdlcl0pKSB7CiAgICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTsKICAgICAgICAgIH0KICAgICAgfTsKCiAgICAgIHRoaXMuaW5pdCgpOwoKICB9CgogIElucHV0LnByb3RvdHlwZSA9IHsKICAgICAgLyoqCiAgICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2sKICAgICAgICogQHZpcnR1YWwKICAgICAgICovCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LAoKICAgICAgLyoqCiAgICAgICAqIGJpbmQgdGhlIGV2ZW50cwogICAgICAgKi8KICAgICAgaW5pdDogZnVuY3Rpb24oKSB7CiAgICAgICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7CiAgICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpOwogICAgICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogdW5iaW5kIHRoZSBldmVudHMKICAgICAgICovCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkgewogICAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpOwogICAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTsKICAgICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpOwogICAgICB9CiAgfTsKCiAgLyoqCiAgICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXIKICAgKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlcgogICAqIEByZXR1cm5zIHtJbnB1dH0KICAgKi8KICBmdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHsKICAgICAgdmFyIFR5cGU7CiAgICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7CgogICAgICBpZiAoaW5wdXRDbGFzcykgewogICAgICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7CiAgICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykgewogICAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0OwogICAgICB9IGVsc2UgaWYgKFNVUFBPUlRfT05MWV9UT1VDSCkgewogICAgICAgICAgVHlwZSA9IFRvdWNoSW5wdXQ7CiAgICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHsKICAgICAgICAgIFR5cGUgPSBNb3VzZUlucHV0OwogICAgICB9IGVsc2UgewogICAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDsKICAgICAgfQogICAgICByZXR1cm4gbmV3IChUeXBlKShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpOwogIH0KCiAgLyoqCiAgICogaGFuZGxlIGlucHV0IGV2ZW50cwogICAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlcgogICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGUKICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXQKICAgKi8KICBmdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkgewogICAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7CiAgICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoOwogICAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTsKICAgICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7CgogICAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0OwogICAgICBpbnB1dC5pc0ZpbmFsID0gISFpc0ZpbmFsOwoKICAgICAgaWYgKGlzRmlyc3QpIHsKICAgICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9OwogICAgICB9CgogICAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50cwogICAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bicKICAgICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlOwoKICAgICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjCiAgICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpOwoKICAgICAgLy8gZW1pdCBzZWNyZXQgZXZlbnQKICAgICAgbWFuYWdlci5lbWl0KCdoYW1tZXIuaW5wdXQnLCBpbnB1dCk7CgogICAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7CiAgICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDsKICB9CgogIC8qKgogICAqIGV4dGVuZCB0aGUgZGF0YSB3aXRoIHNvbWUgdXNhYmxlIHByb3BlcnRpZXMgbGlrZSBzY2FsZSwgcm90YXRlLCB2ZWxvY2l0eSBldGMKICAgKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlcgogICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dAogICAqLwogIGZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHsKICAgICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247CiAgICAgIHZhciBwb2ludGVycyA9IGlucHV0LnBvaW50ZXJzOwogICAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7CgogICAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uCiAgICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7CiAgICAgICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7CiAgICAgIH0KCiAgICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXMKICAgICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7CiAgICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7CiAgICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHsKICAgICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZmlyc3RJbnB1dCA9IHNlc3Npb24uZmlyc3RJbnB1dDsKICAgICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7CiAgICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjsKCiAgICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXIgPSBnZXRDZW50ZXIocG9pbnRlcnMpOwogICAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTsKICAgICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7CgogICAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTsKICAgICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7CgogICAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7CiAgICAgIGlucHV0Lm9mZnNldERpcmVjdGlvbiA9IGdldERpcmVjdGlvbihpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7CgogICAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxOwogICAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwOwoKICAgICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTsKCiAgICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0CiAgICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7CiAgICAgIGlmIChoYXNQYXJlbnQoaW5wdXQuc3JjRXZlbnQudGFyZ2V0LCB0YXJnZXQpKSB7CiAgICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7CiAgICAgIH0KICAgICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0OwogIH0KCiAgZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHsKICAgICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjsKICAgICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307CiAgICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTsKICAgICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9OwoKICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7CiAgICAgICAgICBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSA9IHsKICAgICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsCiAgICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwCiAgICAgICAgICB9OwoKICAgICAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7CiAgICAgICAgICAgICAgeDogY2VudGVyLngsCiAgICAgICAgICAgICAgeTogY2VudGVyLnkKICAgICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpOwogICAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTsKICB9CgogIC8qKgogICAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtcwogICAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uCiAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0CiAgICovCiAgZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7CiAgICAgIHZhciBsYXN0ID0gc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgfHwgaW5wdXQsCiAgICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCwKICAgICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uOwoKICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgdmFyIGRlbHRhWCA9IGxhc3QuZGVsdGFYIC0gaW5wdXQuZGVsdGFYOwogICAgICAgICAgdmFyIGRlbHRhWSA9IGxhc3QuZGVsdGFZIC0gaW5wdXQuZGVsdGFZOwoKICAgICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7CiAgICAgICAgICB2ZWxvY2l0eVggPSB2Lng7CiAgICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7CiAgICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTsKICAgICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7CgogICAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDsKICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2QKICAgICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTsKICAgICAgICAgIHZlbG9jaXR5WCA9IGxhc3QudmVsb2NpdHlYOwogICAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7CiAgICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjsKICAgICAgfQoKICAgICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTsKICAgICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYOwogICAgICBpbnB1dC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVk7CiAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsKICB9CgogIC8qKgogICAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGUKICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXQKICAgKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGEKICAgKi8KICBmdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkgewogICAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3QKICAgICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zCiAgICAgIHZhciBwb2ludGVycyA9IFtdOwogICAgICB2YXIgaSA9IDA7CiAgICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7CiAgICAgICAgICBwb2ludGVyc1tpXSA9IHsKICAgICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSwKICAgICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKQogICAgICAgICAgfTsKICAgICAgICAgIGkrKzsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRpbWVTdGFtcDogbm93KCksCiAgICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsCiAgICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksCiAgICAgICAgICBkZWx0YVg6IGlucHV0LmRlbHRhWCwKICAgICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZCiAgICAgIH07CiAgfQoKICAvKioKICAgKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzCiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnMKICAgKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBjb250YWlucyBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzCiAgICovCiAgZnVuY3Rpb24gZ2V0Q2VudGVyKHBvaW50ZXJzKSB7CiAgICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDsKCiAgICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoCiAgICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSwKICAgICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKQogICAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHggPSAwLCB5ID0gMCwgaSA9IDA7CiAgICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHsKICAgICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDsKICAgICAgICAgIHkgKz0gcG9pbnRlcnNbaV0uY2xpZW50WTsKICAgICAgICAgIGkrKzsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICAgIHg6IHJvdW5kKHggLyBwb2ludGVyc0xlbmd0aCksCiAgICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpCiAgICAgIH07CiAgfQoKICAvKioKICAgKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuCiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZQogICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICogQHBhcmFtIHtOdW1iZXJ9IHkKICAgKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgCiAgICovCiAgZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsCiAgICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDAKICAgICAgfTsKICB9CgogIC8qKgogICAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50cwogICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICogQHBhcmFtIHtOdW1iZXJ9IHkKICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvbgogICAqLwogIGZ1bmN0aW9uIGdldERpcmVjdGlvbih4LCB5KSB7CiAgICAgIGlmICh4ID09PSB5KSB7CiAgICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7CiAgICAgIH0KCiAgICAgIGlmIChhYnMoeCkgPj0gYWJzKHkpKSB7CiAgICAgICAgICByZXR1cm4geCA+IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDsKICAgICAgfQogICAgICByZXR1cm4geSA+IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjsKICB9CgogIC8qKgogICAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzCiAgICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fQogICAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX0KICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzCiAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZQogICAqLwogIGZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHsKICAgICAgaWYgKCFwcm9wcykgewogICAgICAgICAgcHJvcHMgPSBQUk9QU19YWTsKICAgICAgfQogICAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSwKICAgICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07CgogICAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTsKICB9CgogIC8qKgogICAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXMKICAgKiBAcGFyYW0ge09iamVjdH0gcDEKICAgKiBAcGFyYW0ge09iamVjdH0gcDIKICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzCiAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZQogICAqLwogIGZ1bmN0aW9uIGdldEFuZ2xlKHAxLCBwMiwgcHJvcHMpIHsKICAgICAgaWYgKCFwcm9wcykgewogICAgICAgICAgcHJvcHMgPSBQUk9QU19YWTsKICAgICAgfQogICAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSwKICAgICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07CiAgICAgIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTsKICB9CgogIC8qKgogICAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0cwogICAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzCiAgICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzCiAgICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvbgogICAqLwogIGZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHsKICAgICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpIC0gZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpOwogIH0KCiAgLyoqCiAgICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHMKICAgKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXQKICAgKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVycwogICAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVycwogICAqIEByZXR1cm4ge051bWJlcn0gc2NhbGUKICAgKi8KICBmdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7CiAgICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTsKICB9CgogIHZhciBNT1VTRV9JTlBVVF9NQVAgPSB7CiAgICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsCiAgICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSwKICAgICAgbW91c2V1cDogSU5QVVRfRU5ECiAgfTsKCiAgdmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7CiAgdmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnOwoKICAvKioKICAgKiBNb3VzZSBldmVudHMgaW5wdXQKICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBJbnB1dAogICAqLwogIGZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7CiAgICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTOwogICAgICB0aGlzLmV2V2luID0gTU9VU0VfV0lORE9XX0VWRU5UUzsKCiAgICAgIHRoaXMuYWxsb3cgPSB0cnVlOyAvLyB1c2VkIGJ5IElucHV0LlRvdWNoTW91c2UgdG8gZGlzYWJsZSBtb3VzZSBldmVudHMKICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZQoKICAgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHsKICAgICAgLyoqCiAgICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHMKICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2CiAgICAgICAqLwogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHsKICAgICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07CgogICAgICAgICAgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duCiAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfTU9WRSAmJiBldi53aGljaCAhPT0gMSkgewogICAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd24sIGFuZCBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQgKHNlZSB0aGUgVG91Y2hNb3VzZSBpbnB1dCkKICAgICAgICAgIGlmICghdGhpcy5wcmVzc2VkIHx8ICF0aGlzLmFsbG93KSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHsKICAgICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7CiAgICAgICAgICAgICAgcG9pbnRlcnM6IFtldl0sCiAgICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLAogICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLAogICAgICAgICAgICAgIHNyY0V2ZW50OiBldgogICAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKCiAgdmFyIFBPSU5URVJfSU5QVVRfTUFQID0gewogICAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsCiAgICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLAogICAgICBwb2ludGVydXA6IElOUFVUX0VORCwKICAgICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLAogICAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUwKICB9OwoKICAvLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bQogIHZhciBJRTEwX1BPSU5URVJfVFlQRV9FTlVNID0gewogICAgICAyOiBJTlBVVF9UWVBFX1RPVUNILAogICAgICAzOiBJTlBVVF9UWVBFX1BFTiwKICAgICAgNDogSU5QVVRfVFlQRV9NT1VTRSwKICAgICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2CiAgfTsKCiAgdmFyIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAncG9pbnRlcmRvd24nOwogIHZhciBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAncG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwnOwoKICAvLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmUKICBpZiAod2luZG93Lk1TUG9pbnRlckV2ZW50KSB7CiAgICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7CiAgICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7CiAgfQoKICAvKioKICAgKiBQb2ludGVyIGV2ZW50cyBpbnB1dAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIElucHV0CiAgICovCiAgZnVuY3Rpb24gUG9pbnRlckV2ZW50SW5wdXQoKSB7CiAgICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7CiAgICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7CgogICAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoKICAgICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pOwogIH0KCiAgaW5oZXJpdChQb2ludGVyRXZlbnRJbnB1dCwgSW5wdXQsIHsKICAgICAgLyoqCiAgICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHMKICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2CiAgICAgICAqLwogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHsKICAgICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7CiAgICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlOwoKICAgICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpOwogICAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdOwogICAgICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7CgogICAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7CgogICAgICAgICAgLy8gZ2V0IGluZGV4IG9mIHRoZSBldmVudCBpbiB0aGUgc3RvcmUKICAgICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7CgogICAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93bgogICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHsKICAgICAgICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHsKICAgICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7CiAgICAgICAgICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHsKICAgICAgICAgICAgICByZW1vdmVQb2ludGVyID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3ZlcikKICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyB1cGRhdGUgdGhlIGV2ZW50IGluIHRoZSBzdG9yZQogICAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjsKCiAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7CiAgICAgICAgICAgICAgcG9pbnRlcnM6IHN0b3JlLAogICAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSwKICAgICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsCiAgICAgICAgICAgICAgc3JjRXZlbnQ6IGV2CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikgewogICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZQogICAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTsKICAgICAgICAgIH0KICAgICAgfQogIH0pOwoKICB2YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHsKICAgICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsCiAgICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSwKICAgICAgdG91Y2hlbmQ6IElOUFVUX0VORCwKICAgICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTAogIH07CgogIHZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JzsKICB2YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnOwoKICAvKioKICAgKiBUb3VjaCBldmVudHMgaW5wdXQKICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBJbnB1dAogICAqLwogIGZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7CiAgICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUzsKICAgICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTOwogICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKCiAgICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBpbmhlcml0KFNpbmdsZVRvdWNoSW5wdXQsIElucHV0LCB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRFaGFuZGxlcihldikgewogICAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdOwoKICAgICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz8KICAgICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkgewogICAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpOwoKICAgICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGUKICAgICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7CiAgICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sCiAgICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLAogICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILAogICAgICAgICAgICAgIHNyY0V2ZW50OiBldgogICAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKCiAgLyoqCiAgICogQHRoaXMge1RvdWNoSW5wdXR9CiAgICogQHBhcmFtIHtPYmplY3R9IGV2CiAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZwogICAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdCiAgICovCiAgZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkgewogICAgICB2YXIgYWxsID0gdG9BcnJheShldi50b3VjaGVzKTsKICAgICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTsKCiAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHsKICAgICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTsKICB9CgogIHZhciBUT1VDSF9JTlBVVF9NQVAgPSB7CiAgICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULAogICAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsCiAgICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsCiAgICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUwKICB9OwoKICB2YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7CgogIC8qKgogICAqIE11bHRpLXVzZXIgdG91Y2ggZXZlbnRzIGlucHV0CiAgICogQGNvbnN0cnVjdG9yCiAgICogQGV4dGVuZHMgSW5wdXQKICAgKi8KICBmdW5jdGlvbiBUb3VjaElucHV0KCkgewogICAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUzsKICAgICAgdGhpcy50YXJnZXRJZHMgPSB7fTsKCiAgICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBpbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHsKICAgICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdOwogICAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpOwogICAgICAgICAgaWYgKCF0b3VjaGVzKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7CiAgICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sCiAgICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLAogICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILAogICAgICAgICAgICAgIHNyY0V2ZW50OiBldgogICAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKCiAgLyoqCiAgICogQHRoaXMge1RvdWNoSW5wdXR9CiAgICogQHBhcmFtIHtPYmplY3R9IGV2CiAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZwogICAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdCiAgICovCiAgZnVuY3Rpb24gZ2V0VG91Y2hlcyhldiwgdHlwZSkgewogICAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7CiAgICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkczsKCiAgICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkCiAgICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTsKICAgICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107CiAgICAgIH0KCiAgICAgIHZhciBpLAogICAgICAgICAgdGFyZ2V0VG91Y2hlcywKICAgICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksCiAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLAogICAgICAgICAgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7CgogICAgICAvLyBnZXQgdGFyZ2V0IHRvdWNoZXMgZnJvbSB0b3VjaGVzCiAgICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkgewogICAgICAgICAgcmV0dXJuIGhhc1BhcmVudCh0b3VjaC50YXJnZXQsIHRhcmdldCk7CiAgICAgIH0pOwoKICAgICAgLy8gY29sbGVjdCB0b3VjaGVzCiAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkgewogICAgICAgICAgaSA9IDA7CiAgICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlOwogICAgICAgICAgICAgIGkrKzsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkcwogICAgICBpID0gMDsKICAgICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHsKICAgICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHsKICAgICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBjbGVhbnVwIHJlbW92ZWQgdG91Y2hlcwogICAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkgewogICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl07CiAgICAgICAgICB9CiAgICAgICAgICBpKys7CiAgICAgIH0KCiAgICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJldHVybiBbCiAgICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCcKICAgICAgICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSwKICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzCiAgICAgIF07CiAgfQoKICAvKioKICAgKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXQKICAgKgogICAqIFRvdWNoIGhhcyBhIGhpZ2hlciBwcmlvcml0eSB0aGVuIG1vdXNlLCBhbmQgd2hpbGUgdG91Y2hpbmcgbm8gbW91c2UgZXZlbnRzIGFyZSBhbGxvd2VkLgogICAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC4KICAgKgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIElucHV0CiAgICovCiAgZnVuY3Rpb24gVG91Y2hNb3VzZUlucHV0KCkgewogICAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoKICAgICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTsKICAgICAgdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7CiAgICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpOwogIH0KCiAgaW5oZXJpdChUb3VjaE1vdXNlSW5wdXQsIElucHV0LCB7CiAgICAgIC8qKgogICAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cwogICAgICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlcgogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudAogICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhCiAgICAgICAqLwogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkgewogICAgICAgICAgdmFyIGlzVG91Y2ggPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpLAogICAgICAgICAgICAgIGlzTW91c2UgPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfTU9VU0UpOwoKICAgICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgc28gIGJsb2NrIGFsbCB1cGNvbWluZyBtb3VzZSBldmVudHMKICAgICAgICAgIC8vIG1vc3QgbW9iaWxlIGJyb3dzZXIgYWxzbyBlbWl0IG1vdXNlZXZlbnRzLCByaWdodCBhZnRlciB0b3VjaHN0YXJ0CiAgICAgICAgICBpZiAoaXNUb3VjaCkgewogICAgICAgICAgICAgIHRoaXMubW91c2UuYWxsb3cgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiAhdGhpcy5tb3VzZS5hbGxvdykgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyByZXNldCB0aGUgYWxsb3dNb3VzZSB3aGVuIHdlJ3JlIGRvbmUKICAgICAgICAgIGlmIChpbnB1dEV2ZW50ICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHsKICAgICAgICAgICAgICB0aGlzLm1vdXNlLmFsbG93ID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnMKICAgICAgICovCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTsKICAgICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpOwogICAgICB9CiAgfSk7CgogIHZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpOwogIHZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7CgogIC8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWUKICB2YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7CiAgdmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nOwogIHZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZAogIHZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJzsKICB2YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14JzsKICB2YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JzsKCiAgLyoqCiAgICogVG91Y2ggQWN0aW9uCiAgICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmUKICAgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXIKICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUKICAgKiBAY29uc3RydWN0b3IKICAgKi8KICBmdW5jdGlvbiBUb3VjaEFjdGlvbihtYW5hZ2VyLCB2YWx1ZSkgewogICAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyOwogICAgICB0aGlzLnNldCh2YWx1ZSk7CiAgfQoKICBUb3VjaEFjdGlvbi5wcm90b3R5cGUgPSB7CiAgICAgIC8qKgogICAgICAgKiBzZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlIG9uIHRoZSBlbGVtZW50IG9yIGVuYWJsZSB0aGUgcG9seWZpbGwKICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlCiAgICAgICAqLwogICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVycwogICAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7CiAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbXB1dGUoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTikgewogICAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZQogICAgICAgKi8KICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3MKICAgICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWUKICAgICAgICovCiAgICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTsKICAgICAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbihyZWNvZ25pemVyKSB7CiAgICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHsKICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnMuY29uY2F0KHJlY29nbml6ZXIuZ2V0VG91Y2hBY3Rpb24oKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucy5qb2luKCcgJykpOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvcgogICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXQKICAgICAgICovCiAgICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIC8vIG5vdCBuZWVkZWQgd2l0aCBuYXRpdmUgc3VwcG9ydCBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5CiAgICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTikgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDsKICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247CgogICAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uCiAgICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7CiAgICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7CiAgICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKTsKICAgICAgICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKTsKICAgICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTsKCiAgICAgICAgICBpZiAoaGFzTm9uZSB8fAogICAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fAogICAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTsKICAgICAgICAgIH0KICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBjYWxsIHByZXZlbnREZWZhdWx0IHRvIHByZXZlbnQgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yIChzY3JvbGxpbmcgaW4gbW9zdCBjYXNlcykKICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50CiAgICAgICAqLwogICAgICBwcmV2ZW50U3JjOiBmdW5jdGlvbihzcmNFdmVudCkgewogICAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTsKICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICB9OwoKICAvKioKICAgKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICoKICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9ucwogICAqIEByZXR1cm5zIHsqfQogICAqLwogIGZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHsKICAgICAgLy8gbm9uZQogICAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpKSB7CiAgICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7CiAgICAgIH0KCiAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTsKICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpOwoKICAgICAgLy8gcGFuLXggYW5kIHBhbi15IGNhbiBiZSBjb21iaW5lZAogICAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7CiAgICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX1BBTl9YICsgJyAnICsgVE9VQ0hfQUNUSU9OX1BBTl9ZOwogICAgICB9CgogICAgICAvLyBwYW4teCBPUiBwYW4teQogICAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7CiAgICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTsKICAgICAgfQoKICAgICAgLy8gbWFuaXB1bGF0aW9uCiAgICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkgewogICAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047CiAgICAgIH0KCiAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTzsKICB9CgogIC8qKgogICAqIFJlY29nbml6ZXIgZmxvdyBleHBsYWluZWQ7ICoKICAgKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuCiAgICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqCiAgICogRXhhbXBsZSBzZXNzaW9uIGZvciBtb3VzZS1pbnB1dDogbW91c2Vkb3duIC0+IG1vdXNlbW92ZSAtPiBtb3VzZXVwCiAgICoKICAgKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkCiAgICogd2hpY2ggZGV0ZXJtaW5lcyB3aXRoIHN0YXRlIGl0IHNob3VsZCBiZS4KICAgKgogICAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG8KICAgKiBQT1NTSUJMRSB0byBnaXZlIGl0IGFub3RoZXIgY2hhbmdlIG9uIHRoZSBuZXh0IGN5Y2xlLgogICAqCiAgICogICAgICAgICAgICAgICBQb3NzaWJsZQogICAqICAgICAgICAgICAgICAgICAgfAogICAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLSsKICAgKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8CiAgICogICAgICArLS0tLS0rLS0tLS0rICAgICAgICAgICAgICAgfAogICAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHwKICAgKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKy0tLS0tLSsKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfAogICAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRlZC9SZWNvZ25pemVkCiAgICovCiAgdmFyIFNUQVRFX1BPU1NJQkxFID0gMTsKICB2YXIgU1RBVEVfQkVHQU4gPSAyOwogIHZhciBTVEFURV9DSEFOR0VEID0gNDsKICB2YXIgU1RBVEVfRU5ERUQgPSA4OwogIHZhciBTVEFURV9SRUNPR05JWkVEID0gU1RBVEVfRU5ERUQ7CiAgdmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2OwogIHZhciBTVEFURV9GQUlMRUQgPSAzMjsKCiAgLyoqCiAgICogUmVjb2duaXplcgogICAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy4KICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucwogICAqLwogIGZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykgewogICAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTsKCiAgICAgIHRoaXMubWFuYWdlciA9IG51bGw7CiAgICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlKG9wdGlvbnMgfHwge30sIHRoaXMuZGVmYXVsdHMpOwoKICAgICAgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZQogICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7CgogICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7CgogICAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9OwogICAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107CiAgfQoKICBSZWNvZ25pemVyLnByb3RvdHlwZSA9IHsKICAgICAgLyoqCiAgICAgICAqIEB2aXJ0dWFsCiAgICAgICAqIEB0eXBlIHtPYmplY3R9CiAgICAgICAqLwogICAgICBkZWZhdWx0czoge30sCgogICAgICAvKioKICAgICAgICogc2V0IG9wdGlvbnMKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMKICAgICAgICogQHJldHVybiB7UmVjb2duaXplcn0KICAgICAgICovCiAgICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgogICAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGUKICAgICAgICAgIHRoaXMubWFuYWdlciAmJiB0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCk7CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplci4KICAgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXIKICAgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXMKICAgICAgICovCiAgICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikgewogICAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91czsKICAgICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTsKICAgICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHsKICAgICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjsKICAgICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIGRyb3AgdGhlIHNpbXVsdGFuZW91cyBsaW5rLiBpdCBkb2VzbnQgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLgogICAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplcgogICAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpcwogICAgICAgKi8KICAgICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikgewogICAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7CiAgICAgICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZwogICAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplcgogICAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpcwogICAgICAgKi8KICAgICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikgewogICAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgcmVxdWlyZUZhaWwgPSB0aGlzLnJlcXVpcmVGYWlsOwogICAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpOwogICAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7CiAgICAgICAgICAgICAgcmVxdWlyZUZhaWwucHVzaChvdGhlclJlY29nbml6ZXIpOwogICAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci4KICAgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXIKICAgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXMKICAgICAgICovCiAgICAgIGRyb3BSZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7CiAgICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7CiAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7CiAgICAgICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW4KICAgICAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICAgICAqLwogICAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIKICAgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXIKICAgICAgICogQHJldHVybnMge0Jvb2xlYW59CiAgICAgICAqLwogICAgICBjYW5SZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHsKICAgICAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrCiAgICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dAogICAgICAgKi8KICAgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7CgogICAgICAgICAgZnVuY3Rpb24gZW1pdCh3aXRoU3RhdGUpIHsKICAgICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyAod2l0aFN0YXRlID8gc3RhdGVTdHIoc3RhdGUpIDogJycpLCBpbnB1dCk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnCiAgICAgICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkgewogICAgICAgICAgICAgIGVtaXQodHJ1ZSk7CiAgICAgICAgICB9CgogICAgICAgICAgZW1pdCgpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzCgogICAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWwKICAgICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkgewogICAgICAgICAgICAgIGVtaXQodHJ1ZSk7CiAgICAgICAgICB9CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLAogICAgICAgKiBpZiB0cnVlLCBpdCBlbWl0cyBhIGdlc3R1cmUgZXZlbnQsCiAgICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC4KICAgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0CiAgICAgICAqLwogICAgICB0cnlFbWl0OiBmdW5jdGlvbihpbnB1dCkgewogICAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5CiAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIGNhbiB3ZSBlbWl0PwogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgICAgICovCiAgICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIGkgPSAwOwogICAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkgewogICAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGkrKzsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplcgogICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhCiAgICAgICAqLwogICAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkgewogICAgICAgICAgLy8gbWFrZSBhIG5ldyBjb3B5IG9mIHRoZSBpbnB1dERhdGEKICAgICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzCiAgICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBleHRlbmQoe30sIGlucHV0RGF0YSk7CgogICAgICAgICAgLy8gaXMgaXMgZW5hYmxlZCBhbmQgYWxsb3cgcmVjb2duaXppbmc/CiAgICAgICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7CiAgICAgICAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kCiAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkgewogICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTsKCiAgICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmUKICAgICAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnQKICAgICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEIHwgU1RBVEVfQ0FOQ0VMTEVEKSkgewogICAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7CiAgICAgICAgICB9CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplcgogICAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2QKICAgICAgICogQHZpcnR1YWwKICAgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YQogICAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFCiAgICAgICAqLwogICAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lCgogICAgICAvKioKICAgICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uCiAgICAgICAqIEB2aXJ0dWFsCiAgICAgICAqIEByZXR1cm5zIHtBcnJheX0KICAgICAgICovCiAgICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsgfSwKCiAgICAgIC8qKgogICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZQogICAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkCiAgICAgICAqIEB2aXJ0dWFsCiAgICAgICAqLwogICAgICByZXNldDogZnVuY3Rpb24oKSB7IH0KICB9OwoKICAvKioKICAgKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXgKICAgKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZQogICAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlCiAgICovCiAgZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7CiAgICAgICAgICByZXR1cm4gJ2NhbmNlbCc7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkgewogICAgICAgICAgcmV0dXJuICdlbmQnOwogICAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkgewogICAgICAgICAgcmV0dXJuICdtb3ZlJzsKICAgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7CiAgICAgICAgICByZXR1cm4gJ3N0YXJ0JzsKICAgICAgfQogICAgICByZXR1cm4gJyc7CiAgfQoKICAvKioKICAgKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmcKICAgKiBAcGFyYW0ge0NvbnN0fSBkaXJlY3Rpb24KICAgKiBAcmV0dXJucyB7U3RyaW5nfQogICAqLwogIGZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHsKICAgICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikgewogICAgICAgICAgcmV0dXJuICdkb3duJzsKICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1VQKSB7CiAgICAgICAgICByZXR1cm4gJ3VwJzsKICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHsKICAgICAgICAgIHJldHVybiAnbGVmdCc7CiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkgewogICAgICAgICAgcmV0dXJuICdyaWdodCc7CiAgICAgIH0KICAgICAgcmV0dXJuICcnOwogIH0KCiAgLyoqCiAgICogZ2V0IGEgcmVjb2duaXplciBieSBuYW1lIGlmIGl0IGlzIGJvdW5kIHRvIGEgbWFuYWdlcgogICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplcgogICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplcgogICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfQogICAqLwogIGZ1bmN0aW9uIGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCByZWNvZ25pemVyKSB7CiAgICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyOwogICAgICBpZiAobWFuYWdlcikgewogICAgICAgICAgcmV0dXJuIG1hbmFnZXIuZ2V0KG90aGVyUmVjb2duaXplcik7CiAgICAgIH0KICAgICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjsKICB9CgogIC8qKgogICAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy4KICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBSZWNvZ25pemVyCiAgICovCiAgZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7CiAgICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGluaGVyaXQoQXR0clJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHsKICAgICAgLyoqCiAgICAgICAqIEBuYW1lc3BhY2UKICAgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyCiAgICAgICAqLwogICAgICBkZWZhdWx0czogewogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfQogICAgICAgICAgICogQGRlZmF1bHQgMQogICAgICAgICAgICovCiAgICAgICAgICBwb2ludGVyczogMQogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgaXQgdGhlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdmFsaWQgaW5wdXQsIGxpa2UgaW5wdXQuZGlzdGFuY2UgPiAxMC4KICAgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dAogICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmVjb2duaXplZAogICAgICAgKi8KICAgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7CiAgICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVyczsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXIKICAgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dAogICAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGUKICAgICAgICovCiAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlOwogICAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTsKCiAgICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTsKICAgICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7CgogICAgICAgICAgLy8gb24gY2FuY2VsIGlucHV0IGFuZCB3ZSd2ZSByZWNvZ25pemVkIGJlZm9yZSwgcmV0dXJuIFNUQVRFX0NBTkNFTExFRAogICAgICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkgewogICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDsKICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWNvZ25pemVkIHx8IGlzVmFsaWQpIHsKICAgICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoIShzdGF0ZSAmIFNUQVRFX0JFR0FOKSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NIQU5HRUQ7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEOwogICAgICB9CiAgfSk7CgogIC8qKgogICAqIFBhbgogICAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXIKICAgKi8KICBmdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkgewogICAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoKICAgICAgdGhpcy5wWCA9IG51bGw7CiAgICAgIHRoaXMucFkgPSBudWxsOwogIH0KCiAgaW5oZXJpdChQYW5SZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwgewogICAgICAvKioKICAgICAgICogQG5hbWVzcGFjZQogICAgICAgKiBAbWVtYmVyb2YgUGFuUmVjb2duaXplcgogICAgICAgKi8KICAgICAgZGVmYXVsdHM6IHsKICAgICAgICAgIGV2ZW50OiAncGFuJywKICAgICAgICAgIHRocmVzaG9sZDogMTAsCiAgICAgICAgICBwb2ludGVyczogMSwKICAgICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0FMTAogICAgICB9LAoKICAgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247CiAgICAgICAgICB2YXIgYWN0aW9ucyA9IFtdOwogICAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7CiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7CiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gYWN0aW9uczsKICAgICAgfSwKCiAgICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsKICAgICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7CiAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTsKICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5kaXJlY3Rpb247CiAgICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDsKICAgICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZOwoKICAgICAgICAgIC8vIGxvY2sgdG8gYXhpcz8KICAgICAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkgewogICAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh4ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHggPCAwKSA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUOwogICAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHggIT0gdGhpcy5wWDsKICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh5ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHkgPCAwKSA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOOwogICAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTsKICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsKICAgICAgICAgIHJldHVybiBoYXNNb3ZlZCAmJiBkaXN0YW5jZSA+IG9wdGlvbnMudGhyZXNob2xkICYmIGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uOwogICAgICB9LAoKICAgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmCiAgICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTsKICAgICAgfSwKCiAgICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICB0aGlzLnBYID0gaW5wdXQuZGVsdGFYOwogICAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTsKCiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7CiAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7CiAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTsKICAgICAgfQogIH0pOwoKICAvKioKICAgKiBQaW5jaAogICAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS4KICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplcgogICAqLwogIGZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHsKICAgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwgewogICAgICAvKioKICAgICAgICogQG5hbWVzcGFjZQogICAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyCiAgICAgICAqLwogICAgICBkZWZhdWx0czogewogICAgICAgICAgZXZlbnQ6ICdwaW5jaCcsCiAgICAgICAgICB0aHJlc2hvbGQ6IDAsCiAgICAgICAgICBwb2ludGVyczogMgogICAgICB9LAoKICAgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07CiAgICAgIH0sCgogICAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJgogICAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pOwogICAgICB9LAoKICAgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7CiAgICAgICAgICBpZiAoaW5wdXQuc2NhbGUgIT09IDEpIHsKICAgICAgICAgICAgICB2YXIgaW5PdXQgPSBpbnB1dC5zY2FsZSA8IDEgPyAnaW4nIDogJ291dCc7CiAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQsIGlucHV0KTsKICAgICAgICAgIH0KICAgICAgfQogIH0pOwoKICAvKioKICAgKiBQcmVzcwogICAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFJlY29nbml6ZXIKICAgKi8KICBmdW5jdGlvbiBQcmVzc1JlY29nbml6ZXIoKSB7CiAgICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKCiAgICAgIHRoaXMuX3RpbWVyID0gbnVsbDsKICAgICAgdGhpcy5faW5wdXQgPSBudWxsOwogIH0KCiAgaW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHsKICAgICAgLyoqCiAgICAgICAqIEBuYW1lc3BhY2UKICAgICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplcgogICAgICAgKi8KICAgICAgZGVmYXVsdHM6IHsKICAgICAgICAgIGV2ZW50OiAncHJlc3MnLAogICAgICAgICAgcG9pbnRlcnM6IDEsCiAgICAgICAgICB0aW1lOiA1MDAsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkCiAgICAgICAgICB0aHJlc2hvbGQ6IDUgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3cKICAgICAgfSwKCiAgICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dOwogICAgICB9LAoKICAgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zOwogICAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7CiAgICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7CiAgICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lOwoKICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7CgogICAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnQKICAgICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGUKICAgICAgICAgIGlmICghdmFsaWRNb3ZlbWVudCB8fCAhdmFsaWRQb2ludGVycyB8fCAoaW5wdXQuZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgIXZhbGlkVGltZSkpIHsKICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7CiAgICAgICAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEOwogICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTsKICAgICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpOwogICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHsKICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7CiAgICAgIH0sCgogICAgICByZXNldDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpOwogICAgICB9LAoKICAgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkgewogICAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArICd1cCcsIGlucHV0KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7CiAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7CiAgICAgICAgICB9CiAgICAgIH0KICB9KTsKCiAgLyoqCiAgICogUm90YXRlCiAgICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi4KICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplcgogICAqLwogIGZ1bmN0aW9uIFJvdGF0ZVJlY29nbml6ZXIoKSB7CiAgICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBpbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7CiAgICAgIC8qKgogICAgICAgKiBAbmFtZXNwYWNlCiAgICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyCiAgICAgICAqLwogICAgICBkZWZhdWx0czogewogICAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLAogICAgICAgICAgdGhyZXNob2xkOiAwLAogICAgICAgICAgcG9pbnRlcnM6IDIKICAgICAgfSwKCiAgICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdOwogICAgICB9LAoKICAgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiYKICAgICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pOwogICAgICB9CiAgfSk7CgogIC8qKgogICAqIFN3aXBlCiAgICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi4KICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplcgogICAqLwogIGZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHsKICAgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwgewogICAgICAvKioKICAgICAgICogQG5hbWVzcGFjZQogICAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyCiAgICAgICAqLwogICAgICBkZWZhdWx0czogewogICAgICAgICAgZXZlbnQ6ICdzd2lwZScsCiAgICAgICAgICB0aHJlc2hvbGQ6IDEwLAogICAgICAgICAgdmVsb2NpdHk6IDAuNjUsCiAgICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLAogICAgICAgICAgcG9pbnRlcnM6IDEKICAgICAgfSwKCiAgICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpOwogICAgICB9LAoKICAgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjsKICAgICAgICAgIHZhciB2ZWxvY2l0eTsKCiAgICAgICAgICBpZiAoZGlyZWN0aW9uICYgKERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMKSkgewogICAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQudmVsb2NpdHk7CiAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7CiAgICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC52ZWxvY2l0eVg7CiAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkgewogICAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQudmVsb2NpdHlZOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJgogICAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0LmRpcmVjdGlvbiAmJgogICAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJgogICAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EOwogICAgICB9LAoKICAgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQuZGlyZWN0aW9uKTsKICAgICAgICAgIGlmIChkaXJlY3Rpb24pIHsKICAgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIGlucHV0KTsKICAgICAgfQogIH0pOwoKICAvKioKICAgKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyCiAgICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nCiAgICogYSBzaW5nbGUgdGFwLgogICAqCiAgICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mCiAgICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFJlY29nbml6ZXIKICAgKi8KICBmdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkgewogICAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgogICAgICAvLyBwcmV2aW91cyB0aW1lIGFuZCBjZW50ZXIsCiAgICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZwogICAgICB0aGlzLnBUaW1lID0gZmFsc2U7CiAgICAgIHRoaXMucENlbnRlciA9IGZhbHNlOwoKICAgICAgdGhpcy5fdGltZXIgPSBudWxsOwogICAgICB0aGlzLl9pbnB1dCA9IG51bGw7CiAgICAgIHRoaXMuY291bnQgPSAwOwogIH0KCiAgaW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7CiAgICAgIC8qKgogICAgICAgKiBAbmFtZXNwYWNlCiAgICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXIKICAgICAgICovCiAgICAgIGRlZmF1bHRzOiB7CiAgICAgICAgICBldmVudDogJ3RhcCcsCiAgICAgICAgICBwb2ludGVyczogMSwKICAgICAgICAgIHRhcHM6IDEsCiAgICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwcwogICAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKQogICAgICAgICAgdGhyZXNob2xkOiAyLCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvdwogICAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uCiAgICAgIH0sCgogICAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dOwogICAgICB9LAoKICAgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHsKICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zOwoKICAgICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzOwogICAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkOwogICAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lOwoKICAgICAgICAgIHRoaXMucmVzZXQoKTsKCiAgICAgICAgICBpZiAoKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSAmJiAodGhpcy5jb3VudCA9PT0gMCkpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50CiAgICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlCiAgICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7CiAgICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlOwogICAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDsKCiAgICAgICAgICAgICAgdGhpcy5wVGltZSA9IGlucHV0LnRpbWVTdGFtcDsKICAgICAgICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7CgogICAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkgewogICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0OwoKICAgICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsCiAgICAgICAgICAgICAgLy8gZWxzZSBpdCBoYXMgYmVnYW4gcmVjb2duaXppbmcuLi4KICAgICAgICAgICAgICB2YXIgdGFwQ291bnQgPSB0aGlzLmNvdW50ICUgb3B0aW9ucy50YXBzOwogICAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50CiAgICAgICAgICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlcgogICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTsKICAgICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDsKICAgICAgfSwKCiAgICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDsKICAgICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7CiAgICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEOwogICAgICB9LAoKICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTsKICAgICAgfSwKCiAgICAgIGVtaXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gU1RBVEVfUkVDT0dOSVpFRCApIHsKICAgICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7CiAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7CiAgICAgICAgICB9CiAgICAgIH0KICB9KTsKCiAgLyoqCiAgICogU2ltcGxlIHdheSB0byBjcmVhdGUgYW4gbWFuYWdlciB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcmVjb2duaXplcnMuCiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudAogICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10KICAgKiBAY29uc3RydWN0b3IKICAgKi8KICBmdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykgewogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgb3B0aW9ucy5yZWNvZ25pemVycyA9IGlmVW5kZWZpbmVkKG9wdGlvbnMucmVjb2duaXplcnMsIEhhbW1lci5kZWZhdWx0cy5wcmVzZXQpOwogICAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7CiAgfQoKICAvKioKICAgKiBAY29uc3Qge3N0cmluZ30KICAgKi8KICBIYW1tZXIuVkVSU0lPTiA9ICcyLjAuNCc7CgogIC8qKgogICAqIGRlZmF1bHQgc2V0dGluZ3MKICAgKiBAbmFtZXNwYWNlCiAgICovCiAgSGFtbWVyLmRlZmF1bHRzID0gewogICAgICAvKioKICAgICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC4KICAgICAgICogQnV0IHRoaXMgaXMgc2xvd2VyIGFuZCB1bnVzZWQgYnkgc2ltcGxlIGltcGxlbWVudGF0aW9ucywgc28gZGlzYWJsZWQgYnkgZGVmYXVsdC4KICAgICAgICogQHR5cGUge0Jvb2xlYW59CiAgICAgICAqIEBkZWZhdWx0IGZhbHNlCiAgICAgICAqLwogICAgICBkb21FdmVudHM6IGZhbHNlLAoKICAgICAgLyoqCiAgICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5L2ZhbGxiYWNrLgogICAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy4KICAgICAgICogQHR5cGUge1N0cmluZ30KICAgICAgICogQGRlZmF1bHQgY29tcHV0ZQogICAgICAgKi8KICAgICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLAoKICAgICAgLyoqCiAgICAgICAqIEB0eXBlIHtCb29sZWFufQogICAgICAgKiBAZGVmYXVsdCB0cnVlCiAgICAgICAqLwogICAgICBlbmFibGU6IHRydWUsCgogICAgICAvKioKICAgICAgICogRVhQRVJJTUVOVEFMIEZFQVRVUkUgLS0gY2FuIGJlIHJlbW92ZWQvY2hhbmdlZAogICAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC4KICAgICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC4KICAgICAgICogQHR5cGUge051bGx8RXZlbnRUYXJnZXR9CiAgICAgICAqIEBkZWZhdWx0IG51bGwKICAgICAgICovCiAgICAgIGlucHV0VGFyZ2V0OiBudWxsLAoKICAgICAgLyoqCiAgICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzCiAgICAgICAqIEB0eXBlIHtOdWxsfEZ1bmN0aW9ufQogICAgICAgKiBAZGVmYXVsdCBudWxsCiAgICAgICAqLwogICAgICBpbnB1dENsYXNzOiBudWxsLAoKICAgICAgLyoqCiAgICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYAogICAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLgogICAgICAgKiBAdHlwZSB7QXJyYXl9CiAgICAgICAqLwogICAgICBwcmVzZXQ6IFsKICAgICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXQogICAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHsgZW5hYmxlOiBmYWxzZSB9XSwKICAgICAgICAgIFtQaW5jaFJlY29nbml6ZXIsIHsgZW5hYmxlOiBmYWxzZSB9LCBbJ3JvdGF0ZSddXSwKICAgICAgICAgIFtTd2lwZVJlY29nbml6ZXIseyBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIH1dLAogICAgICAgICAgW1BhblJlY29nbml6ZXIsIHsgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB9LCBbJ3N3aXBlJ11dLAogICAgICAgICAgW1RhcFJlY29nbml6ZXJdLAogICAgICAgICAgW1RhcFJlY29nbml6ZXIsIHsgZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyIH0sIFsndGFwJ11dLAogICAgICAgICAgW1ByZXNzUmVjb2duaXplcl0KICAgICAgXSwKCiAgICAgIC8qKgogICAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLgogICAgICAgKiBBZGQgdGhlbSB0byB0aGlzIG1ldGhvZCBhbmQgdGhleSB3aWxsIGJlIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIuCiAgICAgICAqIEBuYW1lc3BhY2UKICAgICAgICovCiAgICAgIGNzc1Byb3BzOiB7CiAgICAgICAgICAvKioKICAgICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy4KICAgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9CiAgICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZScKICAgICAgICAgICAqLwogICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuCiAgICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfQogICAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnCiAgICAgICAgICAgKi8KICAgICAgICAgIHRvdWNoU2VsZWN0OiAnbm9uZScsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LgogICAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzCiAgICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LgogICAgICAgICAgICogQHR5cGUge1N0cmluZ30KICAgICAgICAgICAqIEBkZWZhdWx0ICdub25lJwogICAgICAgICAgICovCiAgICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJywKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPgogICAgICAgICAgICogQHR5cGUge1N0cmluZ30KICAgICAgICAgICAqIEBkZWZhdWx0ICdub25lJwogICAgICAgICAgICovCiAgICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLgogICAgICAgICAgICogQHR5cGUge1N0cmluZ30KICAgICAgICAgICAqIEBkZWZhdWx0ICdub25lJwogICAgICAgICAgICovCiAgICAgICAgICB1c2VyRHJhZzogJ25vbmUnLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHQKICAgICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC4KICAgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9CiAgICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKScKICAgICAgICAgICAqLwogICAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJwogICAgICB9CiAgfTsKCiAgdmFyIFNUT1AgPSAxOwogIHZhciBGT1JDRURfU1RPUCA9IDI7CgogIC8qKgogICAqIE1hbmFnZXIKICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50CiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQogICAqIEBjb25zdHJ1Y3RvcgogICAqLwogIGZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykgewogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlKG9wdGlvbnMsIEhhbW1lci5kZWZhdWx0cyk7CiAgICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50OwoKICAgICAgdGhpcy5oYW5kbGVycyA9IHt9OwogICAgICB0aGlzLnNlc3Npb24gPSB7fTsKICAgICAgdGhpcy5yZWNvZ25pemVycyA9IFtdOwoKICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDsKICAgICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7CiAgICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTsKCiAgICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpOwoKICAgICAgZWFjaChvcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICB2YXIgcmVjb2duaXplciA9IHRoaXMuYWRkKG5ldyAoaXRlbVswXSkoaXRlbVsxXSkpOwogICAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7CiAgICAgICAgICBpdGVtWzNdICYmIHJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUoaXRlbVszXSk7CiAgICAgIH0sIHRoaXMpOwogIH0KCiAgTWFuYWdlci5wcm90b3R5cGUgPSB7CiAgICAgIC8qKgogICAgICAgKiBzZXQgb3B0aW9ucwogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucwogICAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn0KICAgICAgICovCiAgICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgogICAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cAogICAgICAgICAgaWYgKG9wdGlvbnMudG91Y2hBY3Rpb24pIHsKICAgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUYXJnZXQpIHsKICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZQogICAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpOwogICAgICAgICAgICAgIHRoaXMuaW5wdXQudGFyZ2V0ID0gb3B0aW9ucy5pbnB1dFRhcmdldDsKICAgICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIHN0b3AgcmVjb2duaXppbmcgZm9yIHRoaXMgc2Vzc2lvbi4KICAgICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC4KICAgICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuCiAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXQogICAgICAgKi8KICAgICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHsKICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zdG9wcGVkID0gZm9yY2UgPyBGT1JDRURfU1RPUCA6IFNUT1A7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogcnVuIHRoZSByZWNvZ25pemVycyEKICAgICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKQogICAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGUKICAgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YQogICAgICAgKi8KICAgICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHsKICAgICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uOwogICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbAogICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTsKCiAgICAgICAgICB2YXIgcmVjb2duaXplcjsKICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7CgogICAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuCiAgICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVECiAgICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgCiAgICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjsKCiAgICAgICAgICAvLyByZXNldCB3aGVuIHRoZSBsYXN0IHJlY29nbml6ZXIgaXMgcmVjb2duaXplZAogICAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uCiAgICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7CiAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGkgPSAwOwogICAgICAgICAgd2hpbGUgKGkgPCByZWNvZ25pemVycy5sZW5ndGgpIHsKICAgICAgICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07CgogICAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS4KICAgICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZCkKICAgICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmUKICAgICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC4KICAgICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci4KICAgICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci4KICAgICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDEKICAgICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyCiAgICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDMKICAgICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBpZiB0aGUgcmVjb2duaXplciBoYXMgYmVlbiByZWNvZ25pemluZyB0aGUgaW5wdXQgYXMgYSB2YWxpZCBnZXN0dXJlLCB3ZSB3YW50IHRvIHN0b3JlIHRoaXMgb25lIGFzIHRoZQogICAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplcgogICAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkgewogICAgICAgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgfQogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuCiAgICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXIKICAgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH0KICAgICAgICovCiAgICAgIGdldDogZnVuY3Rpb24ocmVjb2duaXplcikgewogICAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVyczsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfSwKCiAgICAgIC8qKgogICAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyCiAgICAgICAqIGV4aXN0aW5nIHJlY29nbml6ZXJzIHdpdGggdGhlIHNhbWUgZXZlbnQgbmFtZSB3aWxsIGJlIHJlbW92ZWQKICAgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyCiAgICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9CiAgICAgICAqLwogICAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHsKICAgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmcKICAgICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHJlY29nbml6ZXIub3B0aW9ucy5ldmVudCk7CiAgICAgICAgICBpZiAoZXhpc3RpbmcpIHsKICAgICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpOwogICAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpczsKCiAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpOwogICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlCiAgICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXIKICAgICAgICogQHJldHVybnMge01hbmFnZXJ9CiAgICAgICAqLwogICAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHsKICAgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAncmVtb3ZlJywgdGhpcykpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzOwogICAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpOwogICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpLCAxKTsKCiAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpOwogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogYmluZCBldmVudAogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzCiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIKICAgICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpcwogICAgICAgKi8KICAgICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikgewogICAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyczsKICAgICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107CiAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzCiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMKICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdCiAgICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXMKICAgICAgICovCiAgICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7CiAgICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzOwogICAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgIGlmICghaGFuZGxlcikgewogICAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVycwogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQKICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEKICAgICAgICovCiAgICAgIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7CiAgICAgICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzCiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykgewogICAgICAgICAgICAgIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsCiAgICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpOwogICAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGRhdGEudHlwZSA9IGV2ZW50OwogICAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIGRhdGEuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIH07CgogICAgICAgICAgdmFyIGkgPSAwOwogICAgICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHsKICAgICAgICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTsKICAgICAgICAgICAgICBpKys7CiAgICAgICAgICB9CiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzCiAgICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5CiAgICAgICAqLwogICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7CgogICAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9OwogICAgICAgICAgdGhpcy5zZXNzaW9uID0ge307CiAgICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTsKICAgICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7CiAgICAgIH0KICB9OwoKICAvKioKICAgKiBhZGQvcmVtb3ZlIHRoZSBjc3MgcHJvcGVydGllcyBhcyBkZWZpbmVkIGluIG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcwogICAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlcgogICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkCiAgICovCiAgZnVuY3Rpb24gdG9nZ2xlQ3NzUHJvcHMobWFuYWdlciwgYWRkKSB7CiAgICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50OwogICAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsKICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSldID0gYWRkID8gdmFsdWUgOiAnJzsKICAgICAgfSk7CiAgfQoKICAvKioKICAgKiB0cmlnZ2VyIGRvbSBldmVudAogICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudAogICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhCiAgICovCiAgZnVuY3Rpb24gdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKSB7CiAgICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTsKICAgICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7CiAgICAgIGdlc3R1cmVFdmVudC5nZXN0dXJlID0gZGF0YTsKICAgICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpOwogIH0KCiAgZXh0ZW5kKEhhbW1lciwgewogICAgICBJTlBVVF9TVEFSVDogSU5QVVRfU1RBUlQsCiAgICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsCiAgICAgIElOUFVUX0VORDogSU5QVVRfRU5ELAogICAgICBJTlBVVF9DQU5DRUw6IElOUFVUX0NBTkNFTCwKCiAgICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSwKICAgICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLAogICAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELAogICAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsCiAgICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsCiAgICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELAogICAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCwKCiAgICAgIERJUkVDVElPTl9OT05FOiBESVJFQ1RJT05fTk9ORSwKICAgICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULAogICAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCwKICAgICAgRElSRUNUSU9OX1VQOiBESVJFQ1RJT05fVVAsCiAgICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTiwKICAgICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLAogICAgICBESVJFQ1RJT05fVkVSVElDQUw6IERJUkVDVElPTl9WRVJUSUNBTCwKICAgICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCwKCiAgICAgIE1hbmFnZXI6IE1hbmFnZXIsCiAgICAgIElucHV0OiBJbnB1dCwKICAgICAgVG91Y2hBY3Rpb246IFRvdWNoQWN0aW9uLAoKICAgICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCwKICAgICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCwKICAgICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LAogICAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCwKICAgICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCwKCiAgICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsCiAgICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplciwKICAgICAgVGFwOiBUYXBSZWNvZ25pemVyLAogICAgICBQYW46IFBhblJlY29nbml6ZXIsCiAgICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsCiAgICAgIFBpbmNoOiBQaW5jaFJlY29nbml6ZXIsCiAgICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplciwKICAgICAgUHJlc3M6IFByZXNzUmVjb2duaXplciwKCiAgICAgIG9uOiBhZGRFdmVudExpc3RlbmVycywKICAgICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVycywKICAgICAgZWFjaDogZWFjaCwKICAgICAgbWVyZ2U6IG1lcmdlLAogICAgICBleHRlbmQ6IGV4dGVuZCwKICAgICAgaW5oZXJpdDogaW5oZXJpdCwKICAgICAgYmluZEZuOiBiaW5kRm4sCiAgICAgIHByZWZpeGVkOiBwcmVmaXhlZAogIH0pOwoKICBpZiAoImZ1bmN0aW9uIiA9PSBUWVBFX0ZVTkNUSU9OICYmIF9fd2VicGFja19yZXF1aXJlX18oMjYpKSB7CiAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBIYW1tZXI7CiAgICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7CiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyOwogIH0gZWxzZSB7CiAgICAgIHdpbmRvd1tleHBvcnROYW1lXSA9IEhhbW1lcjsKICB9CgogIH0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTsKCgovKioqLyB9LAovKiAyNiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXzsKCiAgLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIHt9KSkKCi8qKiovIH0sCi8qIDI3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICB2YXIgaGFtbWVyVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpOwogIHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOwogIHZhciBDb21wb25lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTsKICB2YXIgRGF0ZVV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTsKCiAgLyoqCiAgICogQGNvbnN0cnVjdG9yIFJhbmdlCiAgICogQSBSYW5nZSBjb250cm9scyBhIG51bWVyaWMgcmFuZ2Ugd2l0aCBhIHN0YXJ0IGFuZCBlbmQgdmFsdWUuCiAgICogVGhlIFJhbmdlIGFkanVzdHMgdGhlIHJhbmdlIGJhc2VkIG9uIG1vdXNlIGV2ZW50cyBvciBwcm9ncmFtbWF0aWMgY2hhbmdlcywKICAgKiBhbmQgdHJpZ2dlcnMgZXZlbnRzIHdoZW4gdGhlIHJhbmdlIGlzIGNoYW5naW5nIG9yIGhhcyBiZWVuIGNoYW5nZWQuCiAgICogQHBhcmFtIHt7ZG9tOiBPYmplY3QsIGRvbVByb3BzOiBPYmplY3QsIGVtaXR0ZXI6IEVtaXR0ZXJ9fSBib2R5CiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICBTZWUgZGVzY3JpcHRpb24gYXQgUmFuZ2Uuc2V0T3B0aW9ucwogICAqLwogIGZ1bmN0aW9uIFJhbmdlKGJvZHksIG9wdGlvbnMpIHsKICAgIHZhciBub3cgPSBtb21lbnQoKS5ob3VycygwKS5taW51dGVzKDApLnNlY29uZHMoMCkubWlsbGlzZWNvbmRzKDApOwogICAgdGhpcy5zdGFydCA9IG5vdy5jbG9uZSgpLmFkZCgtMywgJ2RheXMnKS52YWx1ZU9mKCk7IC8vIE51bWJlcgogICAgdGhpcy5lbmQgPSBub3cuY2xvbmUoKS5hZGQoNCwgJ2RheXMnKS52YWx1ZU9mKCk7IC8vIE51bWJlcgoKICAgIHRoaXMuYm9keSA9IGJvZHk7CiAgICB0aGlzLmRlbHRhRGlmZmVyZW5jZSA9IDA7CiAgICB0aGlzLnNjYWxlT2Zmc2V0ID0gMDsKICAgIHRoaXMuc3RhcnRUb0Zyb250ID0gZmFsc2U7CiAgICB0aGlzLmVuZFRvRnJvbnQgPSB0cnVlOwoKICAgIC8vIGRlZmF1bHQgb3B0aW9ucwogICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHsKICAgICAgc3RhcnQ6IG51bGwsCiAgICAgIGVuZDogbnVsbCwKICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsIC8vICdob3Jpem9udGFsJyBvciAndmVydGljYWwnCiAgICAgIG1vdmVhYmxlOiB0cnVlLAogICAgICB6b29tYWJsZTogdHJ1ZSwKICAgICAgbWluOiBudWxsLAogICAgICBtYXg6IG51bGwsCiAgICAgIHpvb21NaW46IDEwLCAvLyBtaWxsaXNlY29uZHMKICAgICAgem9vbU1heDogMTAwMCAqIDYwICogNjAgKiAyNCAqIDM2NSAqIDEwMDAwIC8vIG1pbGxpc2Vjb25kcwogICAgfTsKICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKCiAgICB0aGlzLnByb3BzID0gewogICAgICB0b3VjaDoge30KICAgIH07CiAgICB0aGlzLmFuaW1hdGlvblRpbWVyID0gbnVsbDsKCiAgICAvLyBkcmFnIGxpc3RlbmVycyBmb3IgZHJhZ2dpbmcKICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdwYW5zdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0LmJpbmQodGhpcykpOwogICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ3Bhbm1vdmUnLCB0aGlzLl9vbkRyYWcuYmluZCh0aGlzKSk7CiAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigncGFuZW5kJywgdGhpcy5fb25EcmFnRW5kLmJpbmQodGhpcykpOwoKICAgIC8vIG1vdXNlIHdoZWVsIGZvciB6b29taW5nCiAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignbW91c2V3aGVlbCcsIHRoaXMuX29uTW91c2VXaGVlbC5iaW5kKHRoaXMpKTsKCiAgICAvLyBwaW5jaCB0byB6b29tCiAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigndG91Y2gnLCB0aGlzLl9vblRvdWNoLmJpbmQodGhpcykpOwogICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ3BpbmNoJywgdGhpcy5fb25QaW5jaC5iaW5kKHRoaXMpKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgfQoKICBSYW5nZS5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50KCk7CgogIC8qKgogICAqIFNldCBvcHRpb25zIGZvciB0aGUgcmFuZ2UgY29udHJvbGxlcgogICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zICAgICAgQXZhaWxhYmxlIG9wdGlvbnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7TnVtYmVyIHwgRGF0ZSB8IFN0cmluZ30gc3RhcnQgIFN0YXJ0IGRhdGUgZm9yIHRoZSByYW5nZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge051bWJlciB8IERhdGUgfCBTdHJpbmd9IGVuZCAgICBFbmQgZGF0ZSBmb3IgdGhlIHJhbmdlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7TnVtYmVyfSBtaW4gICAgTWluaW11bSB2YWx1ZSBmb3Igc3RhcnQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXJ9IG1heCAgICBNYXhpbXVtIHZhbHVlIGZvciBlbmQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXJ9IHpvb21NaW4gICAgU2V0IGEgbWluaW11bSB2YWx1ZSBmb3IKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVuZCAtIHN0YXJ0KS4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXJ9IHpvb21NYXggICAgU2V0IGEgbWF4aW11bSB2YWx1ZSBmb3IKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVuZCAtIHN0YXJ0KS4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtCb29sZWFufSBtb3ZlYWJsZSBFbmFibGUgbW92aW5nIG9mIHRoZSByYW5nZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5IGRyYWdnaW5nLiBUcnVlIGJ5IGRlZmF1bHQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtCb29sZWFufSB6b29tYWJsZSBFbmFibGUgem9vbWluZyBvZiB0aGUgcmFuZ2UKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieSBwaW5jaGluZy9zY3JvbGxpbmcuIFRydWUgYnkgZGVmYXVsdAogICAqLwogIFJhbmdlLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIGlmIChvcHRpb25zKSB7CiAgICAgIC8vIGNvcHkgdGhlIG9wdGlvbnMgdGhhdCB3ZSBrbm93CiAgICAgIHZhciBmaWVsZHMgPSBbJ2RpcmVjdGlvbicsICdtaW4nLCAnbWF4JywgJ3pvb21NaW4nLCAnem9vbU1heCcsICdtb3ZlYWJsZScsICd6b29tYWJsZScsICdhY3RpdmF0ZScsICdoaWRkZW5EYXRlcyddOwogICAgICB1dGlsLnNlbGVjdGl2ZUV4dGVuZChmaWVsZHMsIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgogICAgICBpZiAoJ3N0YXJ0JyBpbiBvcHRpb25zIHx8ICdlbmQnIGluIG9wdGlvbnMpIHsKICAgICAgICAvLyBhcHBseSBhIG5ldyByYW5nZS4gYm90aCBzdGFydCBhbmQgZW5kIGFyZSBvcHRpb25hbAogICAgICAgIHRoaXMuc2V0UmFuZ2Uob3B0aW9ucy5zdGFydCwgb3B0aW9ucy5lbmQpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogVGVzdCB3aGV0aGVyIGRpcmVjdGlvbiBoYXMgYSB2YWxpZCB2YWx1ZQogICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gICAgJ2hvcml6b250YWwnIG9yICd2ZXJ0aWNhbCcKICAgKi8KICBmdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGlvbihkaXJlY3Rpb24pIHsKICAgIGlmIChkaXJlY3Rpb24gIT0gJ2hvcml6b250YWwnICYmIGRpcmVjdGlvbiAhPSAndmVydGljYWwnKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZGlyZWN0aW9uICInICsgZGlyZWN0aW9uICsgJyIuICcgKyAnQ2hvb3NlICJob3Jpem9udGFsIiBvciAidmVydGljYWwiLicpOwogICAgfQogIH0KCiAgLyoqCiAgICogU2V0IGEgbmV3IHN0YXJ0IGFuZCBlbmQgcmFuZ2UKICAgKiBAcGFyYW0ge0RhdGUgfCBOdW1iZXIgfCBTdHJpbmd9IFtzdGFydF0KICAgKiBAcGFyYW0ge0RhdGUgfCBOdW1iZXIgfCBTdHJpbmd9IFtlbmRdCiAgICogQHBhcmFtIHtib29sZWFuIHwge2R1cmF0aW9uOiBudW1iZXIsIGVhc2luZ0Z1bmN0aW9uOiBzdHJpbmd9fSBbYW5pbWF0aW9uPWZhbHNlXQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSAoZGVmYXVsdCksIHRoZSByYW5nZSBpcyBhbmltYXRlZAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21vb3RobHkgdG8gdGhlIG5ldyB3aW5kb3cuIEFuIG9iamVjdCBjYW4gYmUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkIHRvIHNwZWNpZnkgZHVyYXRpb24gYW5kIGVhc2luZyBmdW5jdGlvbi4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgZHVyYXRpb24gaXMgNTAwIG1zLCBhbmQgZGVmYXVsdCBlYXNpbmcKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzICdlYXNlSW5PdXRRdWFkJy4KICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtieVVzZXI9ZmFsc2VdCiAgICoKICAgKi8KICBSYW5nZS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgYW5pbWF0aW9uLCBieVVzZXIpIHsKICAgIGlmIChieVVzZXIgIT09IHRydWUpIHsKICAgICAgYnlVc2VyID0gZmFsc2U7CiAgICB9CiAgICB2YXIgZmluYWxTdGFydCA9IHN0YXJ0ICE9IHVuZGVmaW5lZCA/IHV0aWwuY29udmVydChzdGFydCwgJ0RhdGUnKS52YWx1ZU9mKCkgOiBudWxsOwogICAgdmFyIGZpbmFsRW5kID0gZW5kICE9IHVuZGVmaW5lZCA/IHV0aWwuY29udmVydChlbmQsICdEYXRlJykudmFsdWVPZigpIDogbnVsbDsKICAgIHRoaXMuX2NhbmNlbEFuaW1hdGlvbigpOwoKICAgIGlmIChhbmltYXRpb24pIHsKICAgICAgLy8gdHJ1ZSBvciBhbiBPYmplY3QKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGluaXRTdGFydCA9IHRoaXMuc3RhcnQ7CiAgICAgIHZhciBpbml0RW5kID0gdGhpcy5lbmQ7CiAgICAgIHZhciBkdXJhdGlvbiA9IHR5cGVvZiBhbmltYXRpb24gPT09ICdvYmplY3QnICYmICdkdXJhdGlvbicgaW4gYW5pbWF0aW9uID8gYW5pbWF0aW9uLmR1cmF0aW9uIDogNTAwOwogICAgICB2YXIgZWFzaW5nTmFtZSA9IHR5cGVvZiBhbmltYXRpb24gPT09ICdvYmplY3QnICYmICdlYXNpbmdGdW5jdGlvbicgaW4gYW5pbWF0aW9uID8gYW5pbWF0aW9uLmVhc2luZ0Z1bmN0aW9uIDogJ2Vhc2VJbk91dFF1YWQnOwogICAgICB2YXIgZWFzaW5nRnVuY3Rpb24gPSB1dGlsLmVhc2luZ0Z1bmN0aW9uc1tlYXNpbmdOYW1lXTsKICAgICAgaWYgKCFlYXNpbmdGdW5jdGlvbikgewogICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBlYXNpbmcgZnVuY3Rpb24gJyArIEpTT04uc3RyaW5naWZ5KGVhc2luZ05hbWUpICsgJy4gJyArICdDaG9vc2UgZnJvbTogJyArIE9iamVjdC5rZXlzKHV0aWwuZWFzaW5nRnVuY3Rpb25zKS5qb2luKCcsICcpKTsKICAgICAgfQoKICAgICAgdmFyIGluaXRUaW1lID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7CiAgICAgIHZhciBhbnlDaGFuZ2VkID0gZmFsc2U7CgogICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgaWYgKCFtZS5wcm9wcy50b3VjaC5kcmFnZ2luZykgewogICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkudmFsdWVPZigpOwogICAgICAgICAgdmFyIHRpbWUgPSBub3cgLSBpbml0VGltZTsKICAgICAgICAgIHZhciBlYXNlID0gZWFzaW5nRnVuY3Rpb24odGltZSAvIGR1cmF0aW9uKTsKICAgICAgICAgIHZhciBkb25lID0gdGltZSA+IGR1cmF0aW9uOwogICAgICAgICAgdmFyIHMgPSBkb25lIHx8IGZpbmFsU3RhcnQgPT09IG51bGwgPyBmaW5hbFN0YXJ0IDogaW5pdFN0YXJ0ICsgKGZpbmFsU3RhcnQgLSBpbml0U3RhcnQpICogZWFzZTsKICAgICAgICAgIHZhciBlID0gZG9uZSB8fCBmaW5hbEVuZCA9PT0gbnVsbCA/IGZpbmFsRW5kIDogaW5pdEVuZCArIChmaW5hbEVuZCAtIGluaXRFbmQpICogZWFzZTsKCiAgICAgICAgICBjaGFuZ2VkID0gbWUuX2FwcGx5UmFuZ2UocywgZSk7CiAgICAgICAgICBEYXRlVXRpbC51cGRhdGVIaWRkZW5EYXRlcyhtZS5ib2R5LCBtZS5vcHRpb25zLmhpZGRlbkRhdGVzKTsKICAgICAgICAgIGFueUNoYW5nZWQgPSBhbnlDaGFuZ2VkIHx8IGNoYW5nZWQ7CiAgICAgICAgICBpZiAoY2hhbmdlZCkgewogICAgICAgICAgICBtZS5ib2R5LmVtaXR0ZXIuZW1pdCgncmFuZ2VjaGFuZ2UnLCB7IHN0YXJ0OiBuZXcgRGF0ZShtZS5zdGFydCksIGVuZDogbmV3IERhdGUobWUuZW5kKSwgYnlVc2VyOiBieVVzZXIgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGRvbmUpIHsKICAgICAgICAgICAgaWYgKGFueUNoYW5nZWQpIHsKICAgICAgICAgICAgICBtZS5ib2R5LmVtaXR0ZXIuZW1pdCgncmFuZ2VjaGFuZ2VkJywgeyBzdGFydDogbmV3IERhdGUobWUuc3RhcnQpLCBlbmQ6IG5ldyBEYXRlKG1lLmVuZCksIGJ5VXNlcjogYnlVc2VyIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBhbmltYXRlIHdpdGggYXMgaGlnaCBhcyBwb3NzaWJsZSBmcmFtZSByYXRlLCBsZWF2ZSAyMCBtcyBpbiBiZXR3ZWVuCiAgICAgICAgICAgIC8vIGVhY2ggdG8gcHJldmVudCB0aGUgYnJvd3NlciBmcm9tIGJsb2NraW5nCiAgICAgICAgICAgIG1lLmFuaW1hdGlvblRpbWVyID0gc2V0VGltZW91dChuZXh0LCAyMCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwoKICAgICAgcmV0dXJuIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBjaGFuZ2VkID0gdGhpcy5fYXBwbHlSYW5nZShmaW5hbFN0YXJ0LCBmaW5hbEVuZCk7CiAgICAgIERhdGVVdGlsLnVwZGF0ZUhpZGRlbkRhdGVzKHRoaXMuYm9keSwgdGhpcy5vcHRpb25zLmhpZGRlbkRhdGVzKTsKICAgICAgaWYgKGNoYW5nZWQpIHsKICAgICAgICB2YXIgcGFyYW1zID0geyBzdGFydDogbmV3IERhdGUodGhpcy5zdGFydCksIGVuZDogbmV3IERhdGUodGhpcy5lbmQpLCBieVVzZXI6IGJ5VXNlciB9OwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3JhbmdlY2hhbmdlJywgcGFyYW1zKTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdyYW5nZWNoYW5nZWQnLCBwYXJhbXMpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU3RvcCBhbiBhbmltYXRpb24KICAgKiBAcHJpdmF0ZQogICAqLwogIFJhbmdlLnByb3RvdHlwZS5fY2FuY2VsQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuYW5pbWF0aW9uVGltZXIpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYW5pbWF0aW9uVGltZXIpOwogICAgICB0aGlzLmFuaW1hdGlvblRpbWVyID0gbnVsbDsKICAgIH0KICB9OwoKICAvKioKICAgKiBTZXQgYSBuZXcgc3RhcnQgYW5kIGVuZCByYW5nZS4gVGhpcyBtZXRob2QgaXMgdGhlIHNhbWUgYXMgc2V0UmFuZ2UsIGJ1dAogICAqIGRvZXMgbm90IHRyaWdnZXIgYSByYW5nZSBjaGFuZ2UgYW5kIHJhbmdlIGNoYW5nZWQgZXZlbnQsIGFuZCBpdCByZXR1cm5zCiAgICogdHJ1ZSB3aGVuIHRoZSByYW5nZSBpcyBjaGFuZ2VkCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0KICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZF0KICAgKiBAcmV0dXJuIHtCb29sZWFufSBjaGFuZ2VkCiAgICogQHByaXZhdGUKICAgKi8KICBSYW5nZS5wcm90b3R5cGUuX2FwcGx5UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewogICAgdmFyIG5ld1N0YXJ0ID0gc3RhcnQgIT0gbnVsbCA/IHV0aWwuY29udmVydChzdGFydCwgJ0RhdGUnKS52YWx1ZU9mKCkgOiB0aGlzLnN0YXJ0LAogICAgICAgIG5ld0VuZCA9IGVuZCAhPSBudWxsID8gdXRpbC5jb252ZXJ0KGVuZCwgJ0RhdGUnKS52YWx1ZU9mKCkgOiB0aGlzLmVuZCwKICAgICAgICBtYXggPSB0aGlzLm9wdGlvbnMubWF4ICE9IG51bGwgPyB1dGlsLmNvbnZlcnQodGhpcy5vcHRpb25zLm1heCwgJ0RhdGUnKS52YWx1ZU9mKCkgOiBudWxsLAogICAgICAgIG1pbiA9IHRoaXMub3B0aW9ucy5taW4gIT0gbnVsbCA/IHV0aWwuY29udmVydCh0aGlzLm9wdGlvbnMubWluLCAnRGF0ZScpLnZhbHVlT2YoKSA6IG51bGwsCiAgICAgICAgZGlmZjsKCiAgICAvLyBjaGVjayBmb3IgdmFsaWQgbnVtYmVyCiAgICBpZiAoaXNOYU4obmV3U3RhcnQpIHx8IG5ld1N0YXJ0ID09PSBudWxsKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGFydCAiJyArIHN0YXJ0ICsgJyInKTsKICAgIH0KICAgIGlmIChpc05hTihuZXdFbmQpIHx8IG5ld0VuZCA9PT0gbnVsbCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW5kICInICsgZW5kICsgJyInKTsKICAgIH0KCiAgICAvLyBwcmV2ZW50IHN0YXJ0IDwgZW5kCiAgICBpZiAobmV3RW5kIDwgbmV3U3RhcnQpIHsKICAgICAgbmV3RW5kID0gbmV3U3RhcnQ7CiAgICB9CgogICAgLy8gcHJldmVudCBzdGFydCA8IG1pbgogICAgaWYgKG1pbiAhPT0gbnVsbCkgewogICAgICBpZiAobmV3U3RhcnQgPCBtaW4pIHsKICAgICAgICBkaWZmID0gbWluIC0gbmV3U3RhcnQ7CiAgICAgICAgbmV3U3RhcnQgKz0gZGlmZjsKICAgICAgICBuZXdFbmQgKz0gZGlmZjsKCiAgICAgICAgLy8gcHJldmVudCBlbmQgPiBtYXgKICAgICAgICBpZiAobWF4ICE9IG51bGwpIHsKICAgICAgICAgIGlmIChuZXdFbmQgPiBtYXgpIHsKICAgICAgICAgICAgbmV3RW5kID0gbWF4OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIHByZXZlbnQgZW5kID4gbWF4CiAgICBpZiAobWF4ICE9PSBudWxsKSB7CiAgICAgIGlmIChuZXdFbmQgPiBtYXgpIHsKICAgICAgICBkaWZmID0gbmV3RW5kIC0gbWF4OwogICAgICAgIG5ld1N0YXJ0IC09IGRpZmY7CiAgICAgICAgbmV3RW5kIC09IGRpZmY7CgogICAgICAgIC8vIHByZXZlbnQgc3RhcnQgPCBtaW4KICAgICAgICBpZiAobWluICE9IG51bGwpIHsKICAgICAgICAgIGlmIChuZXdTdGFydCA8IG1pbikgewogICAgICAgICAgICBuZXdTdGFydCA9IG1pbjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyBwcmV2ZW50IChlbmQtc3RhcnQpIDwgem9vbU1pbgogICAgaWYgKHRoaXMub3B0aW9ucy56b29tTWluICE9PSBudWxsKSB7CiAgICAgIHZhciB6b29tTWluID0gcGFyc2VGbG9hdCh0aGlzLm9wdGlvbnMuem9vbU1pbik7CiAgICAgIGlmICh6b29tTWluIDwgMCkgewogICAgICAgIHpvb21NaW4gPSAwOwogICAgICB9CiAgICAgIGlmIChuZXdFbmQgLSBuZXdTdGFydCA8IHpvb21NaW4pIHsKICAgICAgICBpZiAodGhpcy5lbmQgLSB0aGlzLnN0YXJ0ID09PSB6b29tTWluICYmIG5ld1N0YXJ0ID4gdGhpcy5zdGFydCAmJiBuZXdFbmQgPCB0aGlzLmVuZCkgewogICAgICAgICAgLy8gaWdub3JlIHRoaXMgYWN0aW9uLCB3ZSBhcmUgYWxyZWFkeSB6b29tZWQgdG8gdGhlIG1pbmltdW0KICAgICAgICAgIG5ld1N0YXJ0ID0gdGhpcy5zdGFydDsKICAgICAgICAgIG5ld0VuZCA9IHRoaXMuZW5kOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB6b29tIHRvIHRoZSBtaW5pbXVtCiAgICAgICAgICBkaWZmID0gem9vbU1pbiAtIChuZXdFbmQgLSBuZXdTdGFydCk7CiAgICAgICAgICBuZXdTdGFydCAtPSBkaWZmIC8gMjsKICAgICAgICAgIG5ld0VuZCArPSBkaWZmIC8gMjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyBwcmV2ZW50IChlbmQtc3RhcnQpID4gem9vbU1heAogICAgaWYgKHRoaXMub3B0aW9ucy56b29tTWF4ICE9PSBudWxsKSB7CiAgICAgIHZhciB6b29tTWF4ID0gcGFyc2VGbG9hdCh0aGlzLm9wdGlvbnMuem9vbU1heCk7CiAgICAgIGlmICh6b29tTWF4IDwgMCkgewogICAgICAgIHpvb21NYXggPSAwOwogICAgICB9CgogICAgICBpZiAobmV3RW5kIC0gbmV3U3RhcnQgPiB6b29tTWF4KSB7CiAgICAgICAgaWYgKHRoaXMuZW5kIC0gdGhpcy5zdGFydCA9PT0gem9vbU1heCAmJiBuZXdTdGFydCA8IHRoaXMuc3RhcnQgJiYgbmV3RW5kID4gdGhpcy5lbmQpIHsKICAgICAgICAgIC8vIGlnbm9yZSB0aGlzIGFjdGlvbiwgd2UgYXJlIGFscmVhZHkgem9vbWVkIHRvIHRoZSBtYXhpbXVtCiAgICAgICAgICBuZXdTdGFydCA9IHRoaXMuc3RhcnQ7CiAgICAgICAgICBuZXdFbmQgPSB0aGlzLmVuZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gem9vbSB0byB0aGUgbWF4aW11bQogICAgICAgICAgZGlmZiA9IG5ld0VuZCAtIG5ld1N0YXJ0IC0gem9vbU1heDsKICAgICAgICAgIG5ld1N0YXJ0ICs9IGRpZmYgLyAyOwogICAgICAgICAgbmV3RW5kIC09IGRpZmYgLyAyOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHZhciBjaGFuZ2VkID0gdGhpcy5zdGFydCAhPSBuZXdTdGFydCB8fCB0aGlzLmVuZCAhPSBuZXdFbmQ7CgogICAgLy8gaWYgdGhlIG5ldyByYW5nZSBkb2VzIE5PVCBvdmVybGFwIHdpdGggdGhlIG9sZCByYW5nZSwgZW1pdCBjaGVja1JhbmdlZEl0ZW1zIHRvIGF2b2lkIG5vdCBzaG93aW5nIHJhbmdlZCBpdGVtcyAocmFuZ2VkIG1lYW5pbmcgaGFzIGVuZCB0aW1lLCBub3QgbmVjZXNzYXJpbHkgb2YgdHlwZSBSYW5nZSkKICAgIGlmICghKG5ld1N0YXJ0ID49IHRoaXMuc3RhcnQgJiYgbmV3U3RhcnQgPD0gdGhpcy5lbmQgfHwgbmV3RW5kID49IHRoaXMuc3RhcnQgJiYgbmV3RW5kIDw9IHRoaXMuZW5kKSAmJiAhKHRoaXMuc3RhcnQgPj0gbmV3U3RhcnQgJiYgdGhpcy5zdGFydCA8PSBuZXdFbmQgfHwgdGhpcy5lbmQgPj0gbmV3U3RhcnQgJiYgdGhpcy5lbmQgPD0gbmV3RW5kKSkgewogICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdjaGVja1JhbmdlZEl0ZW1zJyk7CiAgICB9CgogICAgdGhpcy5zdGFydCA9IG5ld1N0YXJ0OwogICAgdGhpcy5lbmQgPSBuZXdFbmQ7CiAgICByZXR1cm4gY2hhbmdlZDsKICB9OwoKICAvKioKICAgKiBSZXRyaWV2ZSB0aGUgY3VycmVudCByYW5nZS4KICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIHN0YXJ0IGFuZCBlbmQgcHJvcGVydGllcwogICAqLwogIFJhbmdlLnByb3RvdHlwZS5nZXRSYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LAogICAgICBlbmQ6IHRoaXMuZW5kCiAgICB9OwogIH07CgogIC8qKgogICAqIENhbGN1bGF0ZSB0aGUgY29udmVyc2lvbiBvZmZzZXQgYW5kIHNjYWxlIGZvciBjdXJyZW50IHJhbmdlLCBiYXNlZCBvbgogICAqIHRoZSBwcm92aWRlZCB3aWR0aAogICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aAogICAqIEByZXR1cm5zIHt7b2Zmc2V0OiBudW1iZXIsIHNjYWxlOiBudW1iZXJ9fSBjb252ZXJzaW9uCiAgICovCiAgUmFuZ2UucHJvdG90eXBlLmNvbnZlcnNpb24gPSBmdW5jdGlvbiAod2lkdGgsIHRvdGFsSGlkZGVuKSB7CiAgICByZXR1cm4gUmFuZ2UuY29udmVyc2lvbih0aGlzLnN0YXJ0LCB0aGlzLmVuZCwgd2lkdGgsIHRvdGFsSGlkZGVuKTsKICB9OwoKICAvKioKICAgKiBTdGF0aWMgbWV0aG9kIHRvIGNhbGN1bGF0ZSB0aGUgY29udmVyc2lvbiBvZmZzZXQgYW5kIHNjYWxlIGZvciBhIHJhbmdlLAogICAqIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBzdGFydCwgZW5kLCBhbmQgd2lkdGgKICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQKICAgKiBAcGFyYW0ge051bWJlcn0gZW5kCiAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoCiAgICogQHJldHVybnMge3tvZmZzZXQ6IG51bWJlciwgc2NhbGU6IG51bWJlcn19IGNvbnZlcnNpb24KICAgKi8KICBSYW5nZS5jb252ZXJzaW9uID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHdpZHRoLCB0b3RhbEhpZGRlbikgewogICAgaWYgKHRvdGFsSGlkZGVuID09PSB1bmRlZmluZWQpIHsKICAgICAgdG90YWxIaWRkZW4gPSAwOwogICAgfQogICAgaWYgKHdpZHRoICE9IDAgJiYgZW5kIC0gc3RhcnQgIT0gMCkgewogICAgICByZXR1cm4gewogICAgICAgIG9mZnNldDogc3RhcnQsCiAgICAgICAgc2NhbGU6IHdpZHRoIC8gKGVuZCAtIHN0YXJ0IC0gdG90YWxIaWRkZW4pCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gewogICAgICAgIG9mZnNldDogMCwKICAgICAgICBzY2FsZTogMQogICAgICB9OwogICAgfQogIH07CgogIC8qKgogICAqIFN0YXJ0IGRyYWdnaW5nIGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5CiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIFJhbmdlLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHRoaXMuZGVsdGFEaWZmZXJlbmNlID0gMDsKICAgIHRoaXMucHJldmlvdXNEZWx0YSA9IDA7CiAgICAvLyBvbmx5IGFsbG93IGRyYWdnaW5nIHdoZW4gY29uZmlndXJlZCBhcyBtb3ZhYmxlCiAgICBpZiAoIXRoaXMub3B0aW9ucy5tb3ZlYWJsZSkgcmV0dXJuOwoKICAgIC8vIHJlZnVzZSB0byBkcmFnIHdoZW4gd2Ugd2hlcmUgcGluY2hpbmcgdG8gcHJldmVudCB0aGUgdGltZWxpbmUgbWFrZSBhIGp1bXAKICAgIC8vIHdoZW4gcmVsZWFzaW5nIHRoZSBmaW5nZXJzIGluIG9wcG9zaXRlIG9yZGVyIGZyb20gdGhlIHRvdWNoIHNjcmVlbgogICAgaWYgKCF0aGlzLnByb3BzLnRvdWNoLmFsbG93RHJhZ2dpbmcpIHJldHVybjsKCiAgICB0aGlzLnByb3BzLnRvdWNoLnN0YXJ0ID0gdGhpcy5zdGFydDsKICAgIHRoaXMucHJvcHMudG91Y2guZW5kID0gdGhpcy5lbmQ7CiAgICB0aGlzLnByb3BzLnRvdWNoLmRyYWdnaW5nID0gdHJ1ZTsKCiAgICBpZiAodGhpcy5ib2R5LmRvbS5yb290KSB7CiAgICAgIHRoaXMuYm9keS5kb20ucm9vdC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUGVyZm9ybSBkcmFnZ2luZyBvcGVyYXRpb24KICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEBwcml2YXRlCiAgICovCiAgUmFuZ2UucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIG9ubHkgYWxsb3cgZHJhZ2dpbmcgd2hlbiBjb25maWd1cmVkIGFzIG1vdmFibGUKICAgIGlmICghdGhpcy5vcHRpb25zLm1vdmVhYmxlKSByZXR1cm47CgogICAgLy8gVE9ETzogdGhpcyBtYXkgYmUgcmVkdW5kYW50IGluIGhhbW1lcmpzMgogICAgLy8gcmVmdXNlIHRvIGRyYWcgd2hlbiB3ZSB3aGVyZSBwaW5jaGluZyB0byBwcmV2ZW50IHRoZSB0aW1lbGluZSBtYWtlIGEganVtcAogICAgLy8gd2hlbiByZWxlYXNpbmcgdGhlIGZpbmdlcnMgaW4gb3Bwb3NpdGUgb3JkZXIgZnJvbSB0aGUgdG91Y2ggc2NyZWVuCiAgICBpZiAoIXRoaXMucHJvcHMudG91Y2guYWxsb3dEcmFnZ2luZykgcmV0dXJuOwoKICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uOwogICAgdmFsaWRhdGVEaXJlY3Rpb24oZGlyZWN0aW9uKTsKICAgIHZhciBkZWx0YSA9IGRpcmVjdGlvbiA9PSAnaG9yaXpvbnRhbCcgPyBldmVudC5kZWx0YVggOiBldmVudC5kZWx0YVk7CiAgICBkZWx0YSAtPSB0aGlzLmRlbHRhRGlmZmVyZW5jZTsKICAgIHZhciBpbnRlcnZhbCA9IHRoaXMucHJvcHMudG91Y2guZW5kIC0gdGhpcy5wcm9wcy50b3VjaC5zdGFydDsKCiAgICAvLyBub3JtYWxpemUgZHJhZ2dpbmcgc3BlZWQgaWYgY3V0b3V0IGlzIGluIGJldHdlZW4uCiAgICB2YXIgZHVyYXRpb24gPSBEYXRlVXRpbC5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCB0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICBpbnRlcnZhbCAtPSBkdXJhdGlvbjsKCiAgICB2YXIgd2lkdGggPSBkaXJlY3Rpb24gPT0gJ2hvcml6b250YWwnID8gdGhpcy5ib2R5LmRvbVByb3BzLmNlbnRlci53aWR0aCA6IHRoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXIuaGVpZ2h0OwogICAgdmFyIGRpZmZSYW5nZSA9IC1kZWx0YSAvIHdpZHRoICogaW50ZXJ2YWw7CiAgICB2YXIgbmV3U3RhcnQgPSB0aGlzLnByb3BzLnRvdWNoLnN0YXJ0ICsgZGlmZlJhbmdlOwogICAgdmFyIG5ld0VuZCA9IHRoaXMucHJvcHMudG91Y2guZW5kICsgZGlmZlJhbmdlOwoKICAgIC8vIHNuYXBwaW5nIHRpbWVzIGF3YXkgZnJvbSBoaWRkZW4gem9uZXMKICAgIHZhciBzYWZlU3RhcnQgPSBEYXRlVXRpbC5zbmFwQXdheUZyb21IaWRkZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCBuZXdTdGFydCwgdGhpcy5wcmV2aW91c0RlbHRhIC0gZGVsdGEsIHRydWUpOwogICAgdmFyIHNhZmVFbmQgPSBEYXRlVXRpbC5zbmFwQXdheUZyb21IaWRkZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCBuZXdFbmQsIHRoaXMucHJldmlvdXNEZWx0YSAtIGRlbHRhLCB0cnVlKTsKICAgIGlmIChzYWZlU3RhcnQgIT0gbmV3U3RhcnQgfHwgc2FmZUVuZCAhPSBuZXdFbmQpIHsKICAgICAgdGhpcy5kZWx0YURpZmZlcmVuY2UgKz0gZGVsdGE7CiAgICAgIHRoaXMucHJvcHMudG91Y2guc3RhcnQgPSBzYWZlU3RhcnQ7CiAgICAgIHRoaXMucHJvcHMudG91Y2guZW5kID0gc2FmZUVuZDsKICAgICAgdGhpcy5fb25EcmFnKGV2ZW50KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMucHJldmlvdXNEZWx0YSA9IGRlbHRhOwogICAgdGhpcy5fYXBwbHlSYW5nZShuZXdTdGFydCwgbmV3RW5kKTsKCiAgICAvLyBmaXJlIGEgcmFuZ2VjaGFuZ2UgZXZlbnQKICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3JhbmdlY2hhbmdlJywgewogICAgICBzdGFydDogbmV3IERhdGUodGhpcy5zdGFydCksCiAgICAgIGVuZDogbmV3IERhdGUodGhpcy5lbmQpLAogICAgICBieVVzZXI6IHRydWUKICAgIH0pOwogIH07CgogIC8qKgogICAqIFN0b3AgZHJhZ2dpbmcgb3BlcmF0aW9uCiAgICogQHBhcmFtIHtldmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIFJhbmdlLnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAvLyBvbmx5IGFsbG93IGRyYWdnaW5nIHdoZW4gY29uZmlndXJlZCBhcyBtb3ZhYmxlCiAgICBpZiAoIXRoaXMub3B0aW9ucy5tb3ZlYWJsZSkgcmV0dXJuOwoKICAgIC8vIFRPRE86IHRoaXMgbWF5IGJlIHJlZHVuZGFudCBpbiBoYW1tZXJqczIKICAgIC8vIHJlZnVzZSB0byBkcmFnIHdoZW4gd2Ugd2hlcmUgcGluY2hpbmcgdG8gcHJldmVudCB0aGUgdGltZWxpbmUgbWFrZSBhIGp1bXAKICAgIC8vIHdoZW4gcmVsZWFzaW5nIHRoZSBmaW5nZXJzIGluIG9wcG9zaXRlIG9yZGVyIGZyb20gdGhlIHRvdWNoIHNjcmVlbgogICAgaWYgKCF0aGlzLnByb3BzLnRvdWNoLmFsbG93RHJhZ2dpbmcpIHJldHVybjsKCiAgICB0aGlzLnByb3BzLnRvdWNoLmRyYWdnaW5nID0gZmFsc2U7CiAgICBpZiAodGhpcy5ib2R5LmRvbS5yb290KSB7CiAgICAgIHRoaXMuYm9keS5kb20ucm9vdC5zdHlsZS5jdXJzb3IgPSAnYXV0byc7CiAgICB9CgogICAgLy8gZmlyZSBhIHJhbmdlY2hhbmdlZCBldmVudAogICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgncmFuZ2VjaGFuZ2VkJywgewogICAgICBzdGFydDogbmV3IERhdGUodGhpcy5zdGFydCksCiAgICAgIGVuZDogbmV3IERhdGUodGhpcy5lbmQpLAogICAgICBieVVzZXI6IHRydWUKICAgIH0pOwogIH07CgogIC8qKgogICAqIEV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlIHdoZWVsIGV2ZW50LCB1c2VkIHRvIHpvb20KICAgKiBDb2RlIGZyb20gaHR0cDovL2Fkb21hcy5vcmcvamF2YXNjcmlwdC1tb3VzZS13aGVlbC8KICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEBwcml2YXRlCiAgICovCiAgUmFuZ2UucHJvdG90eXBlLl9vbk1vdXNlV2hlZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIG9ubHkgYWxsb3cgem9vbWluZyB3aGVuIGNvbmZpZ3VyZWQgYXMgem9vbWFibGUgYW5kIG1vdmVhYmxlCiAgICBpZiAoISh0aGlzLm9wdGlvbnMuem9vbWFibGUgJiYgdGhpcy5vcHRpb25zLm1vdmVhYmxlKSkgcmV0dXJuOwoKICAgIC8vIHJldHJpZXZlIGRlbHRhCiAgICB2YXIgZGVsdGEgPSAwOwogICAgaWYgKGV2ZW50LndoZWVsRGVsdGEpIHsKICAgICAgLyogSUUvT3BlcmEuICovCiAgICAgIGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YSAvIDEyMDsKICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsKSB7CiAgICAgIC8qIE1vemlsbGEgY2FzZS4gKi8KICAgICAgLy8gSW4gTW96aWxsYSwgc2lnbiBvZiBkZWx0YSBpcyBkaWZmZXJlbnQgdGhhbiBpbiBJRS4KICAgICAgLy8gQWxzbywgZGVsdGEgaXMgbXVsdGlwbGUgb2YgMy4KICAgICAgZGVsdGEgPSAtZXZlbnQuZGV0YWlsIC8gMzsKICAgIH0KCiAgICAvLyBJZiBkZWx0YSBpcyBub256ZXJvLCBoYW5kbGUgaXQuCiAgICAvLyBCYXNpY2FsbHksIGRlbHRhIGlzIG5vdyBwb3NpdGl2ZSBpZiB3aGVlbCB3YXMgc2Nyb2xsZWQgdXAsCiAgICAvLyBhbmQgbmVnYXRpdmUsIGlmIHdoZWVsIHdhcyBzY3JvbGxlZCBkb3duLgogICAgaWYgKGRlbHRhKSB7CiAgICAgIC8vIHBlcmZvcm0gdGhlIHpvb20gYWN0aW9uLiBEZWx0YSBpcyBub3JtYWxseSAxIG9yIC0xCgogICAgICAvLyBhZGp1c3QgYSBuZWdhdGl2ZSBkZWx0YSBzdWNoIHRoYXQgem9vbWluZyBpbiB3aXRoIGRlbHRhIDAuMQogICAgICAvLyBlcXVhbHMgem9vbWluZyBvdXQgd2l0aCBhIGRlbHRhIC0wLjEKICAgICAgdmFyIHNjYWxlOwogICAgICBpZiAoZGVsdGEgPCAwKSB7CiAgICAgICAgc2NhbGUgPSAxIC0gZGVsdGEgLyA1OwogICAgICB9IGVsc2UgewogICAgICAgIHNjYWxlID0gMSAvICgxICsgZGVsdGEgLyA1KTsKICAgICAgfQoKICAgICAgLy8gY2FsY3VsYXRlIGNlbnRlciwgdGhlIGRhdGUgdG8gem9vbSBhcm91bmQKICAgICAgdmFyIHBvaW50ZXIgPSBnZXRQb2ludGVyKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCB0aGlzLmJvZHkuZG9tLmNlbnRlcik7CiAgICAgIHZhciBwb2ludGVyRGF0ZSA9IHRoaXMuX3BvaW50ZXJUb0RhdGUocG9pbnRlcik7CgogICAgICB0aGlzLnpvb20oc2NhbGUsIHBvaW50ZXJEYXRlLCBkZWx0YSk7CiAgICB9CgogICAgLy8gUHJldmVudCBkZWZhdWx0IGFjdGlvbnMgY2F1c2VkIGJ5IG1vdXNlIHdoZWVsCiAgICAvLyAoZWxzZSB0aGUgcGFnZSBhbmQgdGltZWxpbmUgYm90aCB6b29tIGFuZCBzY3JvbGwpCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogIH07CgogIC8qKgogICAqIFN0YXJ0IG9mIGEgdG91Y2ggZ2VzdHVyZQogICAqIEBwcml2YXRlCiAgICovCiAgUmFuZ2UucHJvdG90eXBlLl9vblRvdWNoID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB0aGlzLnByb3BzLnRvdWNoLnN0YXJ0ID0gdGhpcy5zdGFydDsKICAgIHRoaXMucHJvcHMudG91Y2guZW5kID0gdGhpcy5lbmQ7CiAgICB0aGlzLnByb3BzLnRvdWNoLmFsbG93RHJhZ2dpbmcgPSB0cnVlOwogICAgdGhpcy5wcm9wcy50b3VjaC5jZW50ZXIgPSBudWxsOwogICAgdGhpcy5zY2FsZU9mZnNldCA9IDA7CiAgICB0aGlzLmRlbHRhRGlmZmVyZW5jZSA9IDA7CiAgfTsKCiAgLyoqCiAgICogSGFuZGxlIHBpbmNoIGV2ZW50CiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIFJhbmdlLnByb3RvdHlwZS5fb25QaW5jaCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgLy8gb25seSBhbGxvdyB6b29taW5nIHdoZW4gY29uZmlndXJlZCBhcyB6b29tYWJsZSBhbmQgbW92ZWFibGUKICAgIGlmICghKHRoaXMub3B0aW9ucy56b29tYWJsZSAmJiB0aGlzLm9wdGlvbnMubW92ZWFibGUpKSByZXR1cm47CgogICAgdGhpcy5wcm9wcy50b3VjaC5hbGxvd0RyYWdnaW5nID0gZmFsc2U7CgogICAgaWYgKCF0aGlzLnByb3BzLnRvdWNoLmNlbnRlcikgewogICAgICB0aGlzLnByb3BzLnRvdWNoLmNlbnRlciA9IGdldFBvaW50ZXIoZXZlbnQuY2VudGVyLCB0aGlzLmJvZHkuZG9tLmNlbnRlcik7CiAgICB9CgogICAgdmFyIHNjYWxlID0gMSAvIChldmVudC5zY2FsZSArIHRoaXMuc2NhbGVPZmZzZXQpOwogICAgdmFyIGNlbnRlckRhdGUgPSB0aGlzLl9wb2ludGVyVG9EYXRlKHRoaXMucHJvcHMudG91Y2guY2VudGVyKTsKCiAgICB2YXIgaGlkZGVuRHVyYXRpb24gPSBEYXRlVXRpbC5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCB0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB2YXIgaGlkZGVuRHVyYXRpb25CZWZvcmUgPSBEYXRlVXRpbC5nZXRIaWRkZW5EdXJhdGlvbkJlZm9yZSh0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsIHRoaXMsIGNlbnRlckRhdGUpOwogICAgdmFyIGhpZGRlbkR1cmF0aW9uQWZ0ZXIgPSBoaWRkZW5EdXJhdGlvbiAtIGhpZGRlbkR1cmF0aW9uQmVmb3JlOwoKICAgIC8vIGNhbGN1bGF0ZSBuZXcgc3RhcnQgYW5kIGVuZAogICAgdmFyIG5ld1N0YXJ0ID0gY2VudGVyRGF0ZSAtIGhpZGRlbkR1cmF0aW9uQmVmb3JlICsgKHRoaXMucHJvcHMudG91Y2guc3RhcnQgLSAoY2VudGVyRGF0ZSAtIGhpZGRlbkR1cmF0aW9uQmVmb3JlKSkgKiBzY2FsZTsKICAgIHZhciBuZXdFbmQgPSBjZW50ZXJEYXRlICsgaGlkZGVuRHVyYXRpb25BZnRlciArICh0aGlzLnByb3BzLnRvdWNoLmVuZCAtIChjZW50ZXJEYXRlICsgaGlkZGVuRHVyYXRpb25BZnRlcikpICogc2NhbGU7CgogICAgLy8gc25hcHBpbmcgdGltZXMgYXdheSBmcm9tIGhpZGRlbiB6b25lcwogICAgdGhpcy5zdGFydFRvRnJvbnQgPSAxIC0gc2NhbGUgPD0gMDsgLy8gdXNlZCB0byBkbyB0aGUgcmlnaHQgYXV0byBjb3JyZWN0aW9uIHdpdGggcGVyaW9kaWMgaGlkZGVuIHRpbWVzCiAgICB0aGlzLmVuZFRvRnJvbnQgPSBzY2FsZSAtIDEgPD0gMDsgLy8gdXNlZCB0byBkbyB0aGUgcmlnaHQgYXV0byBjb3JyZWN0aW9uIHdpdGggcGVyaW9kaWMgaGlkZGVuIHRpbWVzCgogICAgdmFyIHNhZmVTdGFydCA9IERhdGVVdGlsLnNuYXBBd2F5RnJvbUhpZGRlbih0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsIG5ld1N0YXJ0LCAxIC0gc2NhbGUsIHRydWUpOwogICAgdmFyIHNhZmVFbmQgPSBEYXRlVXRpbC5zbmFwQXdheUZyb21IaWRkZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCBuZXdFbmQsIHNjYWxlIC0gMSwgdHJ1ZSk7CiAgICBpZiAoc2FmZVN0YXJ0ICE9IG5ld1N0YXJ0IHx8IHNhZmVFbmQgIT0gbmV3RW5kKSB7CiAgICAgIHRoaXMucHJvcHMudG91Y2guc3RhcnQgPSBzYWZlU3RhcnQ7CiAgICAgIHRoaXMucHJvcHMudG91Y2guZW5kID0gc2FmZUVuZDsKICAgICAgdGhpcy5zY2FsZU9mZnNldCA9IDEgLSBldmVudC5zY2FsZTsKICAgICAgbmV3U3RhcnQgPSBzYWZlU3RhcnQ7CiAgICAgIG5ld0VuZCA9IHNhZmVFbmQ7CiAgICB9CgogICAgdGhpcy5zZXRSYW5nZShuZXdTdGFydCwgbmV3RW5kLCBmYWxzZSwgdHJ1ZSk7CgogICAgdGhpcy5zdGFydFRvRnJvbnQgPSBmYWxzZTsgLy8gcmV2ZXJ0IHRvIGRlZmF1bHQKICAgIHRoaXMuZW5kVG9Gcm9udCA9IHRydWU7IC8vIHJldmVydCB0byBkZWZhdWx0CiAgfTsKCiAgLyoqCiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgY2VudGVyIGRhdGUgZm9yIHpvb21pbmcKICAgKiBAcGFyYW0ge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IHBvaW50ZXIKICAgKiBAcmV0dXJuIHtudW1iZXJ9IGRhdGUKICAgKiBAcHJpdmF0ZQogICAqLwogIFJhbmdlLnByb3RvdHlwZS5fcG9pbnRlclRvRGF0ZSA9IGZ1bmN0aW9uIChwb2ludGVyKSB7CiAgICB2YXIgY29udmVyc2lvbjsKICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uOwoKICAgIHZhbGlkYXRlRGlyZWN0aW9uKGRpcmVjdGlvbik7CgogICAgaWYgKGRpcmVjdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHsKICAgICAgcmV0dXJuIHRoaXMuYm9keS51dGlsLnRvVGltZShwb2ludGVyLngpLnZhbHVlT2YoKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmJvZHkuZG9tUHJvcHMuY2VudGVyLmhlaWdodDsKICAgICAgY29udmVyc2lvbiA9IHRoaXMuY29udmVyc2lvbihoZWlnaHQpOwogICAgICByZXR1cm4gcG9pbnRlci55IC8gY29udmVyc2lvbi5zY2FsZSArIGNvbnZlcnNpb24ub2Zmc2V0OwogICAgfQogIH07CgogIC8qKgogICAqIEdldCB0aGUgcG9pbnRlciBsb2NhdGlvbiByZWxhdGl2ZSB0byB0aGUgbG9jYXRpb24gb2YgdGhlIGRvbSBlbGVtZW50CiAgICogQHBhcmFtIHt7eDogTnVtYmVyLCB5OiBOdW1iZXJ9fSB0b3VjaAogICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAgIEhUTUwgRE9NIGVsZW1lbnQKICAgKiBAcmV0dXJuIHt7eDogTnVtYmVyLCB5OiBOdW1iZXJ9fSBwb2ludGVyCiAgICogQHByaXZhdGUKICAgKi8KICBmdW5jdGlvbiBnZXRQb2ludGVyKHRvdWNoLCBlbGVtZW50KSB7CiAgICByZXR1cm4gewogICAgICB4OiB0b3VjaC54IC0gdXRpbC5nZXRBYnNvbHV0ZUxlZnQoZWxlbWVudCksCiAgICAgIHk6IHRvdWNoLnkgLSB1dGlsLmdldEFic29sdXRlVG9wKGVsZW1lbnQpCiAgICB9OwogIH0KCiAgLyoqCiAgICogWm9vbSB0aGUgcmFuZ2UgdGhlIGdpdmVuIHNjYWxlIGluIG9yIG91dC4gU3RhcnQgYW5kIGVuZCBkYXRlIHdpbGwKICAgKiBiZSBhZGp1c3RlZCwgYW5kIHRoZSB0aW1lbGluZSB3aWxsIGJlIHJlZHJhd24uIFlvdSBjYW4gb3B0aW9uYWxseSBnaXZlIGEKICAgKiBkYXRlIGFyb3VuZCB3aGljaCB0byB6b29tLgogICAqIEZvciBleGFtcGxlLCB0cnkgc2NhbGUgPSAwLjkgb3IgMS4xCiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlICAgICAgU2NhbGluZyBmYWN0b3IuIFZhbHVlcyBhYm92ZSAxIHdpbGwgem9vbSBvdXQsCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzIGJlbG93IDEgd2lsbCB6b29tIGluLgogICAqIEBwYXJhbSB7TnVtYmVyfSBbY2VudGVyXSAgIFZhbHVlIHJlcHJlc2VudGluZyBhIGRhdGUgYXJvdW5kIHdoaWNoIHdpbGwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSB6b29tZWQuCiAgICovCiAgUmFuZ2UucHJvdG90eXBlLnpvb20gPSBmdW5jdGlvbiAoc2NhbGUsIGNlbnRlciwgZGVsdGEpIHsKICAgIC8vIGlmIGNlbnRlckRhdGUgaXMgbm90IHByb3ZpZGVkLCB0YWtlIGl0IGhhbGYgYmV0d2VlbiBzdGFydCBEYXRlIGFuZCBlbmQgRGF0ZQogICAgaWYgKGNlbnRlciA9PSBudWxsKSB7CiAgICAgIGNlbnRlciA9ICh0aGlzLnN0YXJ0ICsgdGhpcy5lbmQpIC8gMjsKICAgIH0KCiAgICB2YXIgaGlkZGVuRHVyYXRpb24gPSBEYXRlVXRpbC5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCB0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB2YXIgaGlkZGVuRHVyYXRpb25CZWZvcmUgPSBEYXRlVXRpbC5nZXRIaWRkZW5EdXJhdGlvbkJlZm9yZSh0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsIHRoaXMsIGNlbnRlcik7CiAgICB2YXIgaGlkZGVuRHVyYXRpb25BZnRlciA9IGhpZGRlbkR1cmF0aW9uIC0gaGlkZGVuRHVyYXRpb25CZWZvcmU7CgogICAgLy8gY2FsY3VsYXRlIG5ldyBzdGFydCBhbmQgZW5kCiAgICB2YXIgbmV3U3RhcnQgPSBjZW50ZXIgLSBoaWRkZW5EdXJhdGlvbkJlZm9yZSArICh0aGlzLnN0YXJ0IC0gKGNlbnRlciAtIGhpZGRlbkR1cmF0aW9uQmVmb3JlKSkgKiBzY2FsZTsKICAgIHZhciBuZXdFbmQgPSBjZW50ZXIgKyBoaWRkZW5EdXJhdGlvbkFmdGVyICsgKHRoaXMuZW5kIC0gKGNlbnRlciArIGhpZGRlbkR1cmF0aW9uQWZ0ZXIpKSAqIHNjYWxlOwoKICAgIC8vIHNuYXBwaW5nIHRpbWVzIGF3YXkgZnJvbSBoaWRkZW4gem9uZXMKICAgIHRoaXMuc3RhcnRUb0Zyb250ID0gZGVsdGEgPiAwID8gZmFsc2UgOiB0cnVlOyAvLyB1c2VkIHRvIGRvIHRoZSByaWdodCBhdXRvY29ycmVjdGlvbiB3aXRoIHBlcmlvZGljIGhpZGRlbiB0aW1lcwogICAgdGhpcy5lbmRUb0Zyb250ID0gLWRlbHRhID4gMCA/IGZhbHNlIDogdHJ1ZTsgLy8gdXNlZCB0byBkbyB0aGUgcmlnaHQgYXV0b2NvcnJlY3Rpb24gd2l0aCBwZXJpb2RpYyBoaWRkZW4gdGltZXMKICAgIHZhciBzYWZlU3RhcnQgPSBEYXRlVXRpbC5zbmFwQXdheUZyb21IaWRkZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCBuZXdTdGFydCwgZGVsdGEsIHRydWUpOwogICAgdmFyIHNhZmVFbmQgPSBEYXRlVXRpbC5zbmFwQXdheUZyb21IaWRkZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLCBuZXdFbmQsIC1kZWx0YSwgdHJ1ZSk7CiAgICBpZiAoc2FmZVN0YXJ0ICE9IG5ld1N0YXJ0IHx8IHNhZmVFbmQgIT0gbmV3RW5kKSB7CiAgICAgIG5ld1N0YXJ0ID0gc2FmZVN0YXJ0OwogICAgICBuZXdFbmQgPSBzYWZlRW5kOwogICAgfQoKICAgIHRoaXMuc2V0UmFuZ2UobmV3U3RhcnQsIG5ld0VuZCwgZmFsc2UsIHRydWUpOwoKICAgIHRoaXMuc3RhcnRUb0Zyb250ID0gZmFsc2U7IC8vIHJldmVydCB0byBkZWZhdWx0CiAgICB0aGlzLmVuZFRvRnJvbnQgPSB0cnVlOyAvLyByZXZlcnQgdG8gZGVmYXVsdAogIH07CgogIC8qKgogICAqIE1vdmUgdGhlIHJhbmdlIHdpdGggYSBnaXZlbiBkZWx0YSB0byB0aGUgbGVmdCBvciByaWdodC4gU3RhcnQgYW5kIGVuZAogICAqIHZhbHVlIHdpbGwgYmUgYWRqdXN0ZWQuIEZvciBleGFtcGxlLCB0cnkgZGVsdGEgPSAwLjEgb3IgLTAuMQogICAqIEBwYXJhbSB7TnVtYmVyfSAgZGVsdGEgICAgIE1vdmluZyBhbW91bnQuIFBvc2l0aXZlIHZhbHVlIHdpbGwgbW92ZSByaWdodCwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZSB2YWx1ZSB3aWxsIG1vdmUgbGVmdAogICAqLwogIFJhbmdlLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAvLyB6b29tIHN0YXJ0IERhdGUgYW5kIGVuZCBEYXRlIHJlbGF0aXZlIHRvIHRoZSBjZW50ZXJEYXRlCiAgICB2YXIgZGlmZiA9IHRoaXMuZW5kIC0gdGhpcy5zdGFydDsKCiAgICAvLyBhcHBseSBuZXcgdmFsdWVzCiAgICB2YXIgbmV3U3RhcnQgPSB0aGlzLnN0YXJ0ICsgZGlmZiAqIGRlbHRhOwogICAgdmFyIG5ld0VuZCA9IHRoaXMuZW5kICsgZGlmZiAqIGRlbHRhOwoKICAgIC8vIFRPRE86IHJlY2tvbiB3aXRoIG1pbiBhbmQgbWF4IHJhbmdlCgogICAgdGhpcy5zdGFydCA9IG5ld1N0YXJ0OwogICAgdGhpcy5lbmQgPSBuZXdFbmQ7CiAgfTsKCiAgLyoqCiAgICogTW92ZSB0aGUgcmFuZ2UgdG8gYSBuZXcgY2VudGVyIHBvaW50CiAgICogQHBhcmFtIHtOdW1iZXJ9IG1vdmVUbyAgICAgIE5ldyBjZW50ZXIgcG9pbnQgb2YgdGhlIHJhbmdlCiAgICovCiAgUmFuZ2UucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uIChtb3ZlVG8pIHsKICAgIHZhciBjZW50ZXIgPSAodGhpcy5zdGFydCArIHRoaXMuZW5kKSAvIDI7CgogICAgdmFyIGRpZmYgPSBjZW50ZXIgLSBtb3ZlVG87CgogICAgLy8gY2FsY3VsYXRlIG5ldyBzdGFydCBhbmQgZW5kCiAgICB2YXIgbmV3U3RhcnQgPSB0aGlzLnN0YXJ0IC0gZGlmZjsKICAgIHZhciBuZXdFbmQgPSB0aGlzLmVuZCAtIGRpZmY7CgogICAgdGhpcy5zZXRSYW5nZShuZXdTdGFydCwgbmV3RW5kKTsKICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IFJhbmdlOwoKLyoqKi8gfSwKLyogMjggKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIEhhbW1lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpOwoKICAvKioKICAgKiBSZWdpc3RlciBhIHRvdWNoIGV2ZW50LCB0YWtpbmcgcGxhY2UgYmVmb3JlIGEgZ2VzdHVyZQogICAqIEBwYXJhbSB7SGFtbWVyfSBoYW1tZXIgICAgICAgQSBoYW1tZXIgaW5zdGFuY2UKICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIENhbGxiYWNrLCBjYWxsZWQgYXMgY2FsbGJhY2soZXZlbnQpCiAgICovCiAgZXhwb3J0cy5vblRvdWNoID0gZnVuY3Rpb24gKGhhbW1lciwgY2FsbGJhY2spIHsKICAgIGNhbGxiYWNrLmlucHV0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZiAoZXZlbnQuaXNGaXJzdCAmJiAhaXNUb3VjaGluZykgewogICAgICAgIGNhbGxiYWNrKGV2ZW50KTsKCiAgICAgICAgaXNUb3VjaGluZyA9IHRydWU7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpc1RvdWNoaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KICAgIH07CgogICAgaGFtbWVyLm9uKCdoYW1tZXIuaW5wdXQnLCBjYWxsYmFjay5pbnB1dEhhbmRsZXIpOwogIH07CgogIC8vIGlzVG91Y2hpbmcgaXMgdHJ1ZSB3aGlsZSBhIHRvdWNoIGFjdGlvbiBpcyBiZWluZyBlbWl0dGVkCiAgLy8gdGhpcyBpcyBhIGhhY2sgdG8gcHJldmVudCBgdG91Y2hgIGZyb20gYmVpbmcgZmlyZWQgdHdpY2UKICB2YXIgaXNUb3VjaGluZyA9IGZhbHNlOwoKICAvKioKICAgKiBSZWdpc3RlciBhIHJlbGVhc2UgZXZlbnQsIHRha2luZyBwbGFjZSBhZnRlciBhIGdlc3R1cmUKICAgKiBAcGFyYW0ge0hhbW1lcn0gaGFtbWVyICAgICAgIEEgaGFtbWVyIGluc3RhbmNlCiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgICBDYWxsYmFjaywgY2FsbGVkIGFzIGNhbGxiYWNrKGV2ZW50KQogICAqLwogIGV4cG9ydHMub25SZWxlYXNlID0gZnVuY3Rpb24gKGhhbW1lciwgY2FsbGJhY2spIHsKICAgIGNhbGxiYWNrLmlucHV0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZiAoZXZlbnQuaXNGaW5hbCAmJiAhaXNSZWxlYXNpbmcpIHsKICAgICAgICBjYWxsYmFjayhldmVudCk7CgogICAgICAgIGlzUmVsZWFzaW5nID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlzUmVsZWFzaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIGhhbW1lci5vbignaGFtbWVyLmlucHV0JywgY2FsbGJhY2suaW5wdXRIYW5kbGVyKTsKICB9OwoKICAvLyBpc1JlbGVhc2luZyBpcyB0cnVlIHdoaWxlIGEgcmVsZWFzZSBhY3Rpb24gaXMgYmVpbmcgZW1pdHRlZAogIC8vIHRoaXMgaXMgYSBoYWNrIHRvIHByZXZlbnQgYHJlbGVhc2VgIGZyb20gYmVpbmcgZmlyZWQgdHdpY2UKICB2YXIgaXNSZWxlYXNpbmcgPSBmYWxzZTsKCiAgLyoqCiAgICogVW5yZWdpc3RlciBhIHRvdWNoIGV2ZW50LCB0YWtpbmcgcGxhY2UgYmVmb3JlIGEgZ2VzdHVyZQogICAqIEBwYXJhbSB7SGFtbWVyfSBoYW1tZXIgICAgICAgQSBoYW1tZXIgaW5zdGFuY2UKICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIENhbGxiYWNrLCBjYWxsZWQgYXMgY2FsbGJhY2soZXZlbnQpCiAgICovCiAgZXhwb3J0cy5vZmZUb3VjaCA9IGZ1bmN0aW9uIChoYW1tZXIsIGNhbGxiYWNrKSB7CiAgICBoYW1tZXIub2ZmKCdoYW1tZXIuaW5wdXQnLCBjYWxsYmFjay5pbnB1dEhhbmRsZXIpOwogIH07CgogIC8qKgogICAqIFVucmVnaXN0ZXIgYSByZWxlYXNlIGV2ZW50LCB0YWtpbmcgcGxhY2UgYmVmb3JlIGEgZ2VzdHVyZQogICAqIEBwYXJhbSB7SGFtbWVyfSBoYW1tZXIgICAgICAgQSBoYW1tZXIgaW5zdGFuY2UKICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIENhbGxiYWNrLCBjYWxsZWQgYXMgY2FsbGJhY2soZXZlbnQpCiAgICovCiAgZXhwb3J0cy5vZmZSZWxlYXNlID0gZXhwb3J0cy5vZmZUb3VjaDsKCi8qKiovIH0sCi8qIDI5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAidXNlIHN0cmljdCI7CgogIHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOwoKICAvKioKICAgKiB1c2VkIGluIENvcmUgdG8gY29udmVydCB0aGUgb3B0aW9ucyBpbnRvIGEgdm9sYXRpbGUgdmFyaWFibGUKICAgKiAKICAgKiBAcGFyYW0gQ29yZQogICAqLwogIGV4cG9ydHMuY29udmVydEhpZGRlbk9wdGlvbnMgPSBmdW5jdGlvbiAoYm9keSwgaGlkZGVuRGF0ZXMpIHsKICAgIGJvZHkuaGlkZGVuRGF0ZXMgPSBbXTsKICAgIGlmIChoaWRkZW5EYXRlcykgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShoaWRkZW5EYXRlcykgPT0gdHJ1ZSkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlkZGVuRGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChoaWRkZW5EYXRlc1tpXS5yZXBlYXQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB2YXIgZGF0ZUl0ZW0gPSB7fTsKICAgICAgICAgICAgZGF0ZUl0ZW0uc3RhcnQgPSBtb21lbnQoaGlkZGVuRGF0ZXNbaV0uc3RhcnQpLnRvRGF0ZSgpLnZhbHVlT2YoKTsKICAgICAgICAgICAgZGF0ZUl0ZW0uZW5kID0gbW9tZW50KGhpZGRlbkRhdGVzW2ldLmVuZCkudG9EYXRlKCkudmFsdWVPZigpOwogICAgICAgICAgICBib2R5LmhpZGRlbkRhdGVzLnB1c2goZGF0ZUl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBib2R5LmhpZGRlbkRhdGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBhLnN0YXJ0IC0gYi5zdGFydDsKICAgICAgICB9KTsgLy8gc29ydCBieSBzdGFydCB0aW1lCiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBjcmVhdGUgbmV3IGVudHJlZXMgZm9yIHRoZSByZXBlYXRpbmcgaGlkZGVuIGRhdGVzCiAgICogQHBhcmFtIGJvZHkKICAgKiBAcGFyYW0gaGlkZGVuRGF0ZXMKICAgKi8KICBleHBvcnRzLnVwZGF0ZUhpZGRlbkRhdGVzID0gZnVuY3Rpb24gKGJvZHksIGhpZGRlbkRhdGVzKSB7CiAgICBpZiAoaGlkZGVuRGF0ZXMgJiYgYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIud2lkdGggIT09IHVuZGVmaW5lZCkgewogICAgICBleHBvcnRzLmNvbnZlcnRIaWRkZW5PcHRpb25zKGJvZHksIGhpZGRlbkRhdGVzKTsKCiAgICAgIHZhciBzdGFydCA9IG1vbWVudChib2R5LnJhbmdlLnN0YXJ0KTsKICAgICAgdmFyIGVuZCA9IG1vbWVudChib2R5LnJhbmdlLmVuZCk7CgogICAgICB2YXIgdG90YWxSYW5nZSA9IGJvZHkucmFuZ2UuZW5kIC0gYm9keS5yYW5nZS5zdGFydDsKICAgICAgdmFyIHBpeGVsVGltZSA9IHRvdGFsUmFuZ2UgLyBib2R5LmRvbVByb3BzLmNlbnRlckNvbnRhaW5lci53aWR0aDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlkZGVuRGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaGlkZGVuRGF0ZXNbaV0ucmVwZWF0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQoaGlkZGVuRGF0ZXNbaV0uc3RhcnQpOwogICAgICAgICAgdmFyIGVuZERhdGUgPSBtb21lbnQoaGlkZGVuRGF0ZXNbaV0uZW5kKTsKCiAgICAgICAgICBpZiAoc3RhcnREYXRlLl9kID09ICJJbnZhbGlkIERhdGUiKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiU3VwcGxpZWQgc3RhcnQgZGF0ZSBpcyBub3QgdmFsaWQ6ICIgKyBoaWRkZW5EYXRlc1tpXS5zdGFydCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZW5kRGF0ZS5fZCA9PSAiSW52YWxpZCBEYXRlIikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlN1cHBsaWVkIGVuZCBkYXRlIGlzIG5vdCB2YWxpZDogIiArIGhpZGRlbkRhdGVzW2ldLmVuZCk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGR1cmF0aW9uID0gZW5kRGF0ZSAtIHN0YXJ0RGF0ZTsKICAgICAgICAgIGlmIChkdXJhdGlvbiA+PSA0ICogcGl4ZWxUaW1lKSB7CgogICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKICAgICAgICAgICAgdmFyIHJ1blVudGlsID0gZW5kLmNsb25lKCk7CiAgICAgICAgICAgIHN3aXRjaCAoaGlkZGVuRGF0ZXNbaV0ucmVwZWF0KSB7CiAgICAgICAgICAgICAgY2FzZSAiZGFpbHkiOgogICAgICAgICAgICAgICAgLy8gY2FzZSBvZiB0aW1lCiAgICAgICAgICAgICAgICBpZiAoc3RhcnREYXRlLmRheSgpICE9IGVuZERhdGUuZGF5KCkpIHsKICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5kYXlPZlllYXIoc3RhcnQuZGF5T2ZZZWFyKCkpOwogICAgICAgICAgICAgICAgc3RhcnREYXRlLnllYXIoc3RhcnQueWVhcigpKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5zdWJ0cmFjdCg3LCAiZGF5cyIpOwoKICAgICAgICAgICAgICAgIGVuZERhdGUuZGF5T2ZZZWFyKHN0YXJ0LmRheU9mWWVhcigpKTsKICAgICAgICAgICAgICAgIGVuZERhdGUueWVhcihzdGFydC55ZWFyKCkpOwogICAgICAgICAgICAgICAgZW5kRGF0ZS5zdWJ0cmFjdCg3IC0gb2Zmc2V0LCAiZGF5cyIpOwoKICAgICAgICAgICAgICAgIHJ1blVudGlsLmFkZCgxLCAid2Vla3MiKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgIndlZWtseSI6CiAgICAgICAgICAgICAgICB2YXIgZGF5T2Zmc2V0ID0gZW5kRGF0ZS5kaWZmKHN0YXJ0RGF0ZSwgImRheXMiKTsKICAgICAgICAgICAgICAgIHZhciBkYXkgPSBzdGFydERhdGUuZGF5KCk7CgogICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBzdGFydCBkYXRlIHRvIHRoZSByYW5nZS5zdGFydAogICAgICAgICAgICAgICAgc3RhcnREYXRlLmRhdGUoc3RhcnQuZGF0ZSgpKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5tb250aChzdGFydC5tb250aCgpKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS55ZWFyKHN0YXJ0LnllYXIoKSk7CiAgICAgICAgICAgICAgICBlbmREYXRlID0gc3RhcnREYXRlLmNsb25lKCk7CgogICAgICAgICAgICAgICAgLy8gZm9yY2UKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5kYXkoZGF5KTsKICAgICAgICAgICAgICAgIGVuZERhdGUuZGF5KGRheSk7CiAgICAgICAgICAgICAgICBlbmREYXRlLmFkZChkYXlPZmZzZXQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgc3RhcnREYXRlLnN1YnRyYWN0KDEsICJ3ZWVrcyIpOwogICAgICAgICAgICAgICAgZW5kRGF0ZS5zdWJ0cmFjdCgxLCAid2Vla3MiKTsKCiAgICAgICAgICAgICAgICBydW5VbnRpbC5hZGQoMSwgIndlZWtzIik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlICJtb250aGx5IjoKICAgICAgICAgICAgICAgIGlmIChzdGFydERhdGUubW9udGgoKSAhPSBlbmREYXRlLm1vbnRoKCkpIHsKICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5tb250aChzdGFydC5tb250aCgpKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS55ZWFyKHN0YXJ0LnllYXIoKSk7CiAgICAgICAgICAgICAgICBzdGFydERhdGUuc3VidHJhY3QoMSwgIm1vbnRocyIpOwoKICAgICAgICAgICAgICAgIGVuZERhdGUubW9udGgoc3RhcnQubW9udGgoKSk7CiAgICAgICAgICAgICAgICBlbmREYXRlLnllYXIoc3RhcnQueWVhcigpKTsKICAgICAgICAgICAgICAgIGVuZERhdGUuc3VidHJhY3QoMSwgIm1vbnRocyIpOwogICAgICAgICAgICAgICAgZW5kRGF0ZS5hZGQob2Zmc2V0LCAibW9udGhzIik7CgogICAgICAgICAgICAgICAgcnVuVW50aWwuYWRkKDEsICJtb250aHMiKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgInllYXJseSI6CiAgICAgICAgICAgICAgICBpZiAoc3RhcnREYXRlLnllYXIoKSAhPSBlbmREYXRlLnllYXIoKSkgewogICAgICAgICAgICAgICAgICBvZmZzZXQgPSAxOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc3RhcnREYXRlLnllYXIoc3RhcnQueWVhcigpKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5zdWJ0cmFjdCgxLCAieWVhcnMiKTsKICAgICAgICAgICAgICAgIGVuZERhdGUueWVhcihzdGFydC55ZWFyKCkpOwogICAgICAgICAgICAgICAgZW5kRGF0ZS5zdWJ0cmFjdCgxLCAieWVhcnMiKTsKICAgICAgICAgICAgICAgIGVuZERhdGUuYWRkKG9mZnNldCwgInllYXJzIik7CgogICAgICAgICAgICAgICAgcnVuVW50aWwuYWRkKDEsICJ5ZWFycyIpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJXcm9uZyByZXBlYXQgZm9ybWF0LCBhbGxvd2VkIGFyZTogZGFpbHksIHdlZWtseSwgbW9udGhseSwgeWVhcmx5LiBHaXZlbjoiLCBoaWRkZW5EYXRlc1tpXS5yZXBlYXQpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdoaWxlIChzdGFydERhdGUgPCBydW5VbnRpbCkgewogICAgICAgICAgICAgIGJvZHkuaGlkZGVuRGF0ZXMucHVzaCh7IHN0YXJ0OiBzdGFydERhdGUudmFsdWVPZigpLCBlbmQ6IGVuZERhdGUudmFsdWVPZigpIH0pOwogICAgICAgICAgICAgIHN3aXRjaCAoaGlkZGVuRGF0ZXNbaV0ucmVwZWF0KSB7CiAgICAgICAgICAgICAgICBjYXNlICJkYWlseSI6CiAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5hZGQoMSwgImRheXMiKTsKICAgICAgICAgICAgICAgICAgZW5kRGF0ZS5hZGQoMSwgImRheXMiKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICJ3ZWVrbHkiOgogICAgICAgICAgICAgICAgICBzdGFydERhdGUuYWRkKDEsICJ3ZWVrcyIpOwogICAgICAgICAgICAgICAgICBlbmREYXRlLmFkZCgxLCAid2Vla3MiKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICJtb250aGx5IjoKICAgICAgICAgICAgICAgICAgc3RhcnREYXRlLmFkZCgxLCAibW9udGhzIik7CiAgICAgICAgICAgICAgICAgIGVuZERhdGUuYWRkKDEsICJtb250aHMiKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICJ5ZWFybHkiOgogICAgICAgICAgICAgICAgICBzdGFydERhdGUuYWRkKDEsICJ5Iik7CiAgICAgICAgICAgICAgICAgIGVuZERhdGUuYWRkKDEsICJ5Iik7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIldyb25nIHJlcGVhdCBmb3JtYXQsIGFsbG93ZWQgYXJlOiBkYWlseSwgd2Vla2x5LCBtb250aGx5LCB5ZWFybHkuIEdpdmVuOiIsIGhpZGRlbkRhdGVzW2ldLnJlcGVhdCk7CiAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYm9keS5oaWRkZW5EYXRlcy5wdXNoKHsgc3RhcnQ6IHN0YXJ0RGF0ZS52YWx1ZU9mKCksIGVuZDogZW5kRGF0ZS52YWx1ZU9mKCkgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzLCBtZXJnZSB3aGVyZSBwb3NzaWJsZQogICAgICBleHBvcnRzLnJlbW92ZUR1cGxpY2F0ZXMoYm9keSk7CiAgICAgIC8vIGVuc3VyZSB0aGUgbmV3IHBvc2l0aW9ucyBhcmUgbm90IG9uIGhpZGRlbiBkYXRlcwogICAgICB2YXIgc3RhcnRIaWRkZW4gPSBleHBvcnRzLmlzSGlkZGVuKGJvZHkucmFuZ2Uuc3RhcnQsIGJvZHkuaGlkZGVuRGF0ZXMpOwogICAgICB2YXIgZW5kSGlkZGVuID0gZXhwb3J0cy5pc0hpZGRlbihib2R5LnJhbmdlLmVuZCwgYm9keS5oaWRkZW5EYXRlcyk7CiAgICAgIHZhciByYW5nZVN0YXJ0ID0gYm9keS5yYW5nZS5zdGFydDsKICAgICAgdmFyIHJhbmdlRW5kID0gYm9keS5yYW5nZS5lbmQ7CiAgICAgIGlmIChzdGFydEhpZGRlbi5oaWRkZW4gPT0gdHJ1ZSkgewogICAgICAgIHJhbmdlU3RhcnQgPSBib2R5LnJhbmdlLnN0YXJ0VG9Gcm9udCA9PSB0cnVlID8gc3RhcnRIaWRkZW4uc3RhcnREYXRlIC0gMSA6IHN0YXJ0SGlkZGVuLmVuZERhdGUgKyAxOwogICAgICB9CiAgICAgIGlmIChlbmRIaWRkZW4uaGlkZGVuID09IHRydWUpIHsKICAgICAgICByYW5nZUVuZCA9IGJvZHkucmFuZ2UuZW5kVG9Gcm9udCA9PSB0cnVlID8gZW5kSGlkZGVuLnN0YXJ0RGF0ZSAtIDEgOiBlbmRIaWRkZW4uZW5kRGF0ZSArIDE7CiAgICAgIH0KICAgICAgaWYgKHN0YXJ0SGlkZGVuLmhpZGRlbiA9PSB0cnVlIHx8IGVuZEhpZGRlbi5oaWRkZW4gPT0gdHJ1ZSkgewogICAgICAgIGJvZHkucmFuZ2UuX2FwcGx5UmFuZ2UocmFuZ2VTdGFydCwgcmFuZ2VFbmQpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogcmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSB0aGUgaGlkZGVuIGRhdGVzIGxpc3QuIER1cGxpY2F0ZXMgYXJlIGV2aWwuIFRoZXkgbWVzcyBldmVyeXRoaW5nIHVwLgogICAqIFNjYWxlcyB3aXRoIE5eMgogICAqIEBwYXJhbSBib2R5CiAgICovCiAgZXhwb3J0cy5yZW1vdmVEdXBsaWNhdGVzID0gZnVuY3Rpb24gKGJvZHkpIHsKICAgIHZhciBoaWRkZW5EYXRlcyA9IGJvZHkuaGlkZGVuRGF0ZXM7CiAgICB2YXIgc2FmZURhdGVzID0gW107CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpZGRlbkRhdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaGlkZGVuRGF0ZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoaSAhPSBqICYmIGhpZGRlbkRhdGVzW2pdLnJlbW92ZSAhPSB0cnVlICYmIGhpZGRlbkRhdGVzW2ldLnJlbW92ZSAhPSB0cnVlKSB7CiAgICAgICAgICAvLyBqIGluc2lkZSBpCiAgICAgICAgICBpZiAoaGlkZGVuRGF0ZXNbal0uc3RhcnQgPj0gaGlkZGVuRGF0ZXNbaV0uc3RhcnQgJiYgaGlkZGVuRGF0ZXNbal0uZW5kIDw9IGhpZGRlbkRhdGVzW2ldLmVuZCkgewogICAgICAgICAgICBoaWRkZW5EYXRlc1tqXS5yZW1vdmUgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgLy8gaiBzdGFydCBpbnNpZGUgaQogICAgICAgICAgZWxzZSBpZiAoaGlkZGVuRGF0ZXNbal0uc3RhcnQgPj0gaGlkZGVuRGF0ZXNbaV0uc3RhcnQgJiYgaGlkZGVuRGF0ZXNbal0uc3RhcnQgPD0gaGlkZGVuRGF0ZXNbaV0uZW5kKSB7CiAgICAgICAgICAgIGhpZGRlbkRhdGVzW2ldLmVuZCA9IGhpZGRlbkRhdGVzW2pdLmVuZDsKICAgICAgICAgICAgaGlkZGVuRGF0ZXNbal0ucmVtb3ZlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGogZW5kIGluc2lkZSBpCiAgICAgICAgICBlbHNlIGlmIChoaWRkZW5EYXRlc1tqXS5lbmQgPj0gaGlkZGVuRGF0ZXNbaV0uc3RhcnQgJiYgaGlkZGVuRGF0ZXNbal0uZW5kIDw9IGhpZGRlbkRhdGVzW2ldLmVuZCkgewogICAgICAgICAgICBoaWRkZW5EYXRlc1tpXS5zdGFydCA9IGhpZGRlbkRhdGVzW2pdLnN0YXJ0OwogICAgICAgICAgICBoaWRkZW5EYXRlc1tqXS5yZW1vdmUgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlkZGVuRGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGhpZGRlbkRhdGVzW2ldLnJlbW92ZSAhPT0gdHJ1ZSkgewogICAgICAgIHNhZmVEYXRlcy5wdXNoKGhpZGRlbkRhdGVzW2ldKTsKICAgICAgfQogICAgfQoKICAgIGJvZHkuaGlkZGVuRGF0ZXMgPSBzYWZlRGF0ZXM7CiAgICBib2R5LmhpZGRlbkRhdGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgcmV0dXJuIGEuc3RhcnQgLSBiLnN0YXJ0OwogICAgfSk7IC8vIHNvcnQgYnkgc3RhcnQgdGltZQogIH07CgogIGV4cG9ydHMucHJpbnREYXRlcyA9IGZ1bmN0aW9uIChkYXRlcykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRlcy5sZW5ndGg7IGkrKykgewogICAgICBjb25zb2xlLmxvZyhpLCBuZXcgRGF0ZShkYXRlc1tpXS5zdGFydCksIG5ldyBEYXRlKGRhdGVzW2ldLmVuZCksIGRhdGVzW2ldLnN0YXJ0LCBkYXRlc1tpXS5lbmQsIGRhdGVzW2ldLnJlbW92ZSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogVXNlZCBpbiBUaW1lU3RlcCB0byBhdm9pZCB0aGUgaGlkZGVuIHRpbWVzLgogICAqIEBwYXJhbSB0aW1lU3RlcAogICAqIEBwYXJhbSBwcmV2aW91c1RpbWUKICAgKi8KICBleHBvcnRzLnN0ZXBPdmVySGlkZGVuRGF0ZXMgPSBmdW5jdGlvbiAodGltZVN0ZXAsIHByZXZpb3VzVGltZSkgewogICAgdmFyIHN0ZXBJbkhpZGRlbiA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRpbWVTdGVwLmN1cnJlbnQudmFsdWVPZigpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lU3RlcC5oaWRkZW5EYXRlcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgc3RhcnREYXRlID0gdGltZVN0ZXAuaGlkZGVuRGF0ZXNbaV0uc3RhcnQ7CiAgICAgIHZhciBlbmREYXRlID0gdGltZVN0ZXAuaGlkZGVuRGF0ZXNbaV0uZW5kOwogICAgICBpZiAoY3VycmVudFZhbHVlID49IHN0YXJ0RGF0ZSAmJiBjdXJyZW50VmFsdWUgPCBlbmREYXRlKSB7CiAgICAgICAgc3RlcEluSGlkZGVuID0gdHJ1ZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChzdGVwSW5IaWRkZW4gPT0gdHJ1ZSAmJiBjdXJyZW50VmFsdWUgPCB0aW1lU3RlcC5fZW5kLnZhbHVlT2YoKSAmJiBjdXJyZW50VmFsdWUgIT0gcHJldmlvdXNUaW1lKSB7CiAgICAgIHZhciBwcmV2VmFsdWUgPSBtb21lbnQocHJldmlvdXNUaW1lKTsKICAgICAgdmFyIG5ld1ZhbHVlID0gbW9tZW50KGVuZERhdGUpOwogICAgICAvL2NoZWNrIGlmIHRoZSBuZXh0IHN0ZXAgc2hvdWxkIGJlIG1ham9yCiAgICAgIGlmIChwcmV2VmFsdWUueWVhcigpICE9IG5ld1ZhbHVlLnllYXIoKSkgewogICAgICAgIHRpbWVTdGVwLnN3aXRjaGVkWWVhciA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAocHJldlZhbHVlLm1vbnRoKCkgIT0gbmV3VmFsdWUubW9udGgoKSkgewogICAgICAgIHRpbWVTdGVwLnN3aXRjaGVkTW9udGggPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHByZXZWYWx1ZS5kYXlPZlllYXIoKSAhPSBuZXdWYWx1ZS5kYXlPZlllYXIoKSkgewogICAgICAgIHRpbWVTdGVwLnN3aXRjaGVkRGF5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdGltZVN0ZXAuY3VycmVudCA9IG5ld1ZhbHVlLnRvRGF0ZSgpOwogICAgfQogIH07CgogIC8vLyoqCiAgLy8gKiBVc2VkIGluIFRpbWVTdGVwIHRvIGF2b2lkIHRoZSBoaWRkZW4gdGltZXMuCiAgLy8gKiBAcGFyYW0gdGltZVN0ZXAKICAvLyAqIEBwYXJhbSBwcmV2aW91c1RpbWUKICAvLyAqLwogIC8vZXhwb3J0cy5jaGVja0ZpcnN0U3RlcCA9IGZ1bmN0aW9uKHRpbWVTdGVwKSB7CiAgLy8gIHZhciBzdGVwSW5IaWRkZW4gPSBmYWxzZTsKICAvLyAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRpbWVTdGVwLmN1cnJlbnQudmFsdWVPZigpOwogIC8vICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbWVTdGVwLmhpZGRlbkRhdGVzLmxlbmd0aDsgaSsrKSB7CiAgLy8gICAgdmFyIHN0YXJ0RGF0ZSA9IHRpbWVTdGVwLmhpZGRlbkRhdGVzW2ldLnN0YXJ0OwogIC8vICAgIHZhciBlbmREYXRlID0gdGltZVN0ZXAuaGlkZGVuRGF0ZXNbaV0uZW5kOwogIC8vICAgIGlmIChjdXJyZW50VmFsdWUgPj0gc3RhcnREYXRlICYmIGN1cnJlbnRWYWx1ZSA8IGVuZERhdGUpIHsKICAvLyAgICAgIHN0ZXBJbkhpZGRlbiA9IHRydWU7CiAgLy8gICAgICBicmVhazsKICAvLyAgICB9CiAgLy8gIH0KICAvLwogIC8vICBpZiAoc3RlcEluSGlkZGVuID09IHRydWUgJiYgY3VycmVudFZhbHVlIDw9IHRpbWVTdGVwLl9lbmQudmFsdWVPZigpKSB7CiAgLy8gICAgdmFyIG5ld1ZhbHVlID0gbW9tZW50KGVuZERhdGUpOwogIC8vICAgIHRpbWVTdGVwLmN1cnJlbnQgPSBuZXdWYWx1ZS50b0RhdGUoKTsKICAvLyAgfQogIC8vfTsKCiAgLyoqCiAgICogcmVwbGFjZXMgdGhlIENvcmUgdG9TY3JlZW4gbWV0aG9kcwogICAqIEBwYXJhbSBDb3JlCiAgICogQHBhcmFtIHRpbWUKICAgKiBAcGFyYW0gd2lkdGgKICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAqLwogIGV4cG9ydHMudG9TY3JlZW4gPSBmdW5jdGlvbiAoQ29yZSwgdGltZSwgd2lkdGgpIHsKICAgIGlmIChDb3JlLmJvZHkuaGlkZGVuRGF0ZXMubGVuZ3RoID09IDApIHsKICAgICAgdmFyIGNvbnZlcnNpb24gPSBDb3JlLnJhbmdlLmNvbnZlcnNpb24od2lkdGgpOwogICAgICByZXR1cm4gKHRpbWUudmFsdWVPZigpIC0gY29udmVyc2lvbi5vZmZzZXQpICogY29udmVyc2lvbi5zY2FsZTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBoaWRkZW4gPSBleHBvcnRzLmlzSGlkZGVuKHRpbWUsIENvcmUuYm9keS5oaWRkZW5EYXRlcyk7CiAgICAgIGlmIChoaWRkZW4uaGlkZGVuID09IHRydWUpIHsKICAgICAgICB0aW1lID0gaGlkZGVuLnN0YXJ0RGF0ZTsKICAgICAgfQoKICAgICAgdmFyIGR1cmF0aW9uID0gZXhwb3J0cy5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4oQ29yZS5ib2R5LmhpZGRlbkRhdGVzLCBDb3JlLnJhbmdlLnN0YXJ0LCBDb3JlLnJhbmdlLmVuZCk7CiAgICAgIHRpbWUgPSBleHBvcnRzLmNvcnJlY3RUaW1lRm9ySGlkZGVuKENvcmUuYm9keS5oaWRkZW5EYXRlcywgQ29yZS5yYW5nZSwgdGltZSk7CgogICAgICB2YXIgY29udmVyc2lvbiA9IENvcmUucmFuZ2UuY29udmVyc2lvbih3aWR0aCwgZHVyYXRpb24pOwogICAgICByZXR1cm4gKHRpbWUudmFsdWVPZigpIC0gY29udmVyc2lvbi5vZmZzZXQpICogY29udmVyc2lvbi5zY2FsZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBSZXBsYWNlcyB0aGUgY29yZSB0b1RpbWUgbWV0aG9kcwogICAqIEBwYXJhbSBib2R5CiAgICogQHBhcmFtIHJhbmdlCiAgICogQHBhcmFtIHgKICAgKiBAcGFyYW0gd2lkdGgKICAgKiBAcmV0dXJucyB7RGF0ZX0KICAgKi8KICBleHBvcnRzLnRvVGltZSA9IGZ1bmN0aW9uIChDb3JlLCB4LCB3aWR0aCkgewogICAgaWYgKENvcmUuYm9keS5oaWRkZW5EYXRlcy5sZW5ndGggPT0gMCkgewogICAgICB2YXIgY29udmVyc2lvbiA9IENvcmUucmFuZ2UuY29udmVyc2lvbih3aWR0aCk7CiAgICAgIHJldHVybiBuZXcgRGF0ZSh4IC8gY29udmVyc2lvbi5zY2FsZSArIGNvbnZlcnNpb24ub2Zmc2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBoaWRkZW5EdXJhdGlvbiA9IGV4cG9ydHMuZ2V0SGlkZGVuRHVyYXRpb25CZXR3ZWVuKENvcmUuYm9keS5oaWRkZW5EYXRlcywgQ29yZS5yYW5nZS5zdGFydCwgQ29yZS5yYW5nZS5lbmQpOwogICAgICB2YXIgdG90YWxEdXJhdGlvbiA9IENvcmUucmFuZ2UuZW5kIC0gQ29yZS5yYW5nZS5zdGFydCAtIGhpZGRlbkR1cmF0aW9uOwogICAgICB2YXIgcGFydGlhbER1cmF0aW9uID0gdG90YWxEdXJhdGlvbiAqIHggLyB3aWR0aDsKICAgICAgdmFyIGFjY3VtdWxhdGVkSGlkZGVuRHVyYXRpb24gPSBleHBvcnRzLmdldEFjY3VtdWxhdGVkSGlkZGVuRHVyYXRpb24oQ29yZS5ib2R5LmhpZGRlbkRhdGVzLCBDb3JlLnJhbmdlLCBwYXJ0aWFsRHVyYXRpb24pOwoKICAgICAgdmFyIG5ld1RpbWUgPSBuZXcgRGF0ZShhY2N1bXVsYXRlZEhpZGRlbkR1cmF0aW9uICsgcGFydGlhbER1cmF0aW9uICsgQ29yZS5yYW5nZS5zdGFydCk7CiAgICAgIHJldHVybiBuZXdUaW1lOwogICAgfQogIH07CgogIC8qKgogICAqIFN1cHBvcnQgZnVuY3Rpb24KICAgKgogICAqIEBwYXJhbSBoaWRkZW5EYXRlcwogICAqIEBwYXJhbSByYW5nZQogICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICovCiAgZXhwb3J0cy5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4gPSBmdW5jdGlvbiAoaGlkZGVuRGF0ZXMsIHN0YXJ0LCBlbmQpIHsKICAgIHZhciBkdXJhdGlvbiA9IDA7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpZGRlbkRhdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzdGFydERhdGUgPSBoaWRkZW5EYXRlc1tpXS5zdGFydDsKICAgICAgdmFyIGVuZERhdGUgPSBoaWRkZW5EYXRlc1tpXS5lbmQ7CiAgICAgIC8vIGlmIHRpbWUgYWZ0ZXIgdGhlIGN1dG91dCwgYW5kIHRoZQogICAgICBpZiAoc3RhcnREYXRlID49IHN0YXJ0ICYmIGVuZERhdGUgPCBlbmQpIHsKICAgICAgICBkdXJhdGlvbiArPSBlbmREYXRlIC0gc3RhcnREYXRlOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZHVyYXRpb247CiAgfTsKCiAgLyoqCiAgICogU3VwcG9ydCBmdW5jdGlvbgogICAqIEBwYXJhbSBoaWRkZW5EYXRlcwogICAqIEBwYXJhbSByYW5nZQogICAqIEBwYXJhbSB0aW1lCiAgICogQHJldHVybnMge3tkdXJhdGlvbjogbnVtYmVyLCB0aW1lOiAqLCBvZmZzZXQ6IG51bWJlcn19CiAgICovCiAgZXhwb3J0cy5jb3JyZWN0VGltZUZvckhpZGRlbiA9IGZ1bmN0aW9uIChoaWRkZW5EYXRlcywgcmFuZ2UsIHRpbWUpIHsKICAgIHRpbWUgPSBtb21lbnQodGltZSkudG9EYXRlKCkudmFsdWVPZigpOwogICAgdGltZSAtPSBleHBvcnRzLmdldEhpZGRlbkR1cmF0aW9uQmVmb3JlKGhpZGRlbkRhdGVzLCByYW5nZSwgdGltZSk7CiAgICByZXR1cm4gdGltZTsKICB9OwoKICBleHBvcnRzLmdldEhpZGRlbkR1cmF0aW9uQmVmb3JlID0gZnVuY3Rpb24gKGhpZGRlbkRhdGVzLCByYW5nZSwgdGltZSkgewogICAgdmFyIHRpbWVPZmZzZXQgPSAwOwogICAgdGltZSA9IG1vbWVudCh0aW1lKS50b0RhdGUoKS52YWx1ZU9mKCk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoaWRkZW5EYXRlcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgc3RhcnREYXRlID0gaGlkZGVuRGF0ZXNbaV0uc3RhcnQ7CiAgICAgIHZhciBlbmREYXRlID0gaGlkZGVuRGF0ZXNbaV0uZW5kOwogICAgICAvLyBpZiB0aW1lIGFmdGVyIHRoZSBjdXRvdXQsIGFuZCB0aGUKICAgICAgaWYgKHN0YXJ0RGF0ZSA+PSByYW5nZS5zdGFydCAmJiBlbmREYXRlIDwgcmFuZ2UuZW5kKSB7CiAgICAgICAgaWYgKHRpbWUgPj0gZW5kRGF0ZSkgewogICAgICAgICAgdGltZU9mZnNldCArPSBlbmREYXRlIC0gc3RhcnREYXRlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRpbWVPZmZzZXQ7CiAgfTsKCiAgLyoqCiAgICogc3VtIHRoZSBkdXJhdGlvbiBmcm9tIHN0YXJ0IHRvIGZpbmlzaCwgaW5jbHVkaW5nIHRoZSBoaWRkZW4gZHVyYXRpb24sCiAgICogdW50aWwgdGhlIHJlcXVpcmVkIGFtb3VudCBoYXMgYmVlbiByZWFjaGVkLCByZXR1cm4gdGhlIGFjY3VtdWxhdGVkIGhpZGRlbiBkdXJhdGlvbgogICAqIEBwYXJhbSBoaWRkZW5EYXRlcwogICAqIEBwYXJhbSByYW5nZQogICAqIEBwYXJhbSB0aW1lCiAgICogQHJldHVybnMge3tkdXJhdGlvbjogbnVtYmVyLCB0aW1lOiAqLCBvZmZzZXQ6IG51bWJlcn19CiAgICovCiAgZXhwb3J0cy5nZXRBY2N1bXVsYXRlZEhpZGRlbkR1cmF0aW9uID0gZnVuY3Rpb24gKGhpZGRlbkRhdGVzLCByYW5nZSwgcmVxdWlyZWREdXJhdGlvbikgewogICAgdmFyIGhpZGRlbkR1cmF0aW9uID0gMDsKICAgIHZhciBkdXJhdGlvbiA9IDA7CiAgICB2YXIgcHJldmlvdXNQb2ludCA9IHJhbmdlLnN0YXJ0OwogICAgLy9leHBvcnRzLnByaW50RGF0ZXMoaGlkZGVuRGF0ZXMpCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpZGRlbkRhdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzdGFydERhdGUgPSBoaWRkZW5EYXRlc1tpXS5zdGFydDsKICAgICAgdmFyIGVuZERhdGUgPSBoaWRkZW5EYXRlc1tpXS5lbmQ7CiAgICAgIC8vIGlmIHRpbWUgYWZ0ZXIgdGhlIGN1dG91dCwgYW5kIHRoZQogICAgICBpZiAoc3RhcnREYXRlID49IHJhbmdlLnN0YXJ0ICYmIGVuZERhdGUgPCByYW5nZS5lbmQpIHsKICAgICAgICBkdXJhdGlvbiArPSBzdGFydERhdGUgLSBwcmV2aW91c1BvaW50OwogICAgICAgIHByZXZpb3VzUG9pbnQgPSBlbmREYXRlOwogICAgICAgIGlmIChkdXJhdGlvbiA+PSByZXF1aXJlZER1cmF0aW9uKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaGlkZGVuRHVyYXRpb24gKz0gZW5kRGF0ZSAtIHN0YXJ0RGF0ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaGlkZGVuRHVyYXRpb247CiAgfTsKCiAgLyoqCiAgICogdXNlZCB0byBzdGVwIG92ZXIgdG8gZWl0aGVyIHNpZGUgb2YgYSBoaWRkZW4gYmxvY2suIENvcnJlY3Rpb24gaXMgZGlzYWJsZWQgb24gdGFibGV0cywgbWlnaHQgYmUgc2V0IHRvIHRydWUKICAgKiBAcGFyYW0gaGlkZGVuRGF0ZXMKICAgKiBAcGFyYW0gdGltZQogICAqIEBwYXJhbSBkaXJlY3Rpb24KICAgKiBAcGFyYW0gY29ycmVjdGlvbkVuYWJsZWQKICAgKiBAcmV0dXJucyB7Kn0KICAgKi8KICBleHBvcnRzLnNuYXBBd2F5RnJvbUhpZGRlbiA9IGZ1bmN0aW9uIChoaWRkZW5EYXRlcywgdGltZSwgZGlyZWN0aW9uLCBjb3JyZWN0aW9uRW5hYmxlZCkgewogICAgdmFyIGlzSGlkZGVuID0gZXhwb3J0cy5pc0hpZGRlbih0aW1lLCBoaWRkZW5EYXRlcyk7CiAgICBpZiAoaXNIaWRkZW4uaGlkZGVuID09IHRydWUpIHsKICAgICAgaWYgKGRpcmVjdGlvbiA8IDApIHsKICAgICAgICBpZiAoY29ycmVjdGlvbkVuYWJsZWQgPT0gdHJ1ZSkgewogICAgICAgICAgcmV0dXJuIGlzSGlkZGVuLnN0YXJ0RGF0ZSAtIChpc0hpZGRlbi5lbmREYXRlIC0gdGltZSkgLSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gaXNIaWRkZW4uc3RhcnREYXRlIC0gMTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGNvcnJlY3Rpb25FbmFibGVkID09IHRydWUpIHsKICAgICAgICAgIHJldHVybiBpc0hpZGRlbi5lbmREYXRlICsgKHRpbWUgLSBpc0hpZGRlbi5zdGFydERhdGUpICsgMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGlzSGlkZGVuLmVuZERhdGUgKyAxOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRpbWU7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ2hlY2sgaWYgYSB0aW1lIGlzIGhpZGRlbgogICAqCiAgICogQHBhcmFtIHRpbWUKICAgKiBAcGFyYW0gaGlkZGVuRGF0ZXMKICAgKiBAcmV0dXJucyB7e2hpZGRlbjogYm9vbGVhbiwgc3RhcnREYXRlOiBXaW5kb3cuc3RhcnQsIGVuZERhdGU6ICp9fQogICAqLwogIGV4cG9ydHMuaXNIaWRkZW4gPSBmdW5jdGlvbiAodGltZSwgaGlkZGVuRGF0ZXMpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlkZGVuRGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHN0YXJ0RGF0ZSA9IGhpZGRlbkRhdGVzW2ldLnN0YXJ0OwogICAgICB2YXIgZW5kRGF0ZSA9IGhpZGRlbkRhdGVzW2ldLmVuZDsKCiAgICAgIGlmICh0aW1lID49IHN0YXJ0RGF0ZSAmJiB0aW1lIDwgZW5kRGF0ZSkgewogICAgICAgIC8vIGlmIHRoZSBzdGFydCBpcyBlbnRlcmluZyBhIGhpZGRlbiB6b25lCiAgICAgICAgcmV0dXJuIHsgaGlkZGVuOiB0cnVlLCBzdGFydERhdGU6IHN0YXJ0RGF0ZSwgZW5kRGF0ZTogZW5kRGF0ZSB9OwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICByZXR1cm4geyBoaWRkZW46IGZhbHNlLCBzdGFydERhdGU6IHN0YXJ0RGF0ZSwgZW5kRGF0ZTogZW5kRGF0ZSB9OwogIH07CgovKioqLyB9LAovKiAzMCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgRW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpOwogIHZhciBIYW1tZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTsKICB2YXIgaGFtbWVyVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpOwogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICB2YXIgRGF0YVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7CiAgdmFyIERhdGFWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7CiAgdmFyIFJhbmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7CiAgdmFyIEl0ZW1TZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTsKICB2YXIgVGltZUF4aXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTsKICB2YXIgQWN0aXZhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7CiAgdmFyIERhdGVVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7CiAgdmFyIEN1c3RvbVRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTsKCiAgLyoqCiAgICogQ3JlYXRlIGEgdGltZWxpbmUgdmlzdWFsaXphdGlvbgogICAqIEBjb25zdHJ1Y3RvcgogICAqLwogIGZ1bmN0aW9uIENvcmUoKSB7fQoKICAvLyB0dXJuIENvcmUgaW50byBhbiBldmVudCBlbWl0dGVyCiAgRW1pdHRlcihDb3JlLnByb3RvdHlwZSk7CgogIC8qKgogICAqIENyZWF0ZSB0aGUgbWFpbiBET00gZm9yIHRoZSBDb3JlOiBhIHJvb3QgcGFuZWwgY29udGFpbmluZyBsZWZ0LCByaWdodCwKICAgKiB0b3AsIGJvdHRvbSwgY29udGVudCwgYW5kIGJhY2tncm91bmQgcGFuZWwuCiAgICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXIgIFRoZSBjb250YWluZXIgZWxlbWVudCB3aGVyZSB0aGUgQ29yZSB3aWxsCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGF0dGFjaGVkLgogICAqIEBwcm90ZWN0ZWQKICAgKi8KICBDb3JlLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24gKGNvbnRhaW5lcikgewogICAgdGhpcy5kb20gPSB7fTsKCiAgICB0aGlzLmRvbS5jb250YWluZXIgPSBjb250YWluZXI7CgogICAgdGhpcy5kb20ucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uYmFja2dyb3VuZFZlcnRpY2FsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uY2VudGVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5sZWZ0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5yaWdodENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uY2VudGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5sZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5yaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20udG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5ib3R0b20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHRoaXMuZG9tLnNoYWRvd1RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uc2hhZG93Qm90dG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5zaGFkb3dUb3BMZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5zaGFkb3dCb3R0b21MZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5zaGFkb3dUb3BSaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uc2hhZG93Qm90dG9tUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICB0aGlzLmRvbS5yb290LmNsYXNzTmFtZSA9ICd2aXMtdGltZWxpbmUnOwogICAgdGhpcy5kb20uYmFja2dyb3VuZC5jbGFzc05hbWUgPSAndmlzLXBhbmVsIHZpcy1iYWNrZ3JvdW5kJzsKICAgIHRoaXMuZG9tLmJhY2tncm91bmRWZXJ0aWNhbC5jbGFzc05hbWUgPSAndmlzLXBhbmVsIHZpcy1iYWNrZ3JvdW5kIHZpcy12ZXJ0aWNhbCc7CiAgICB0aGlzLmRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5jbGFzc05hbWUgPSAndmlzLXBhbmVsIHZpcy1iYWNrZ3JvdW5kIHZpcy1ob3Jpem9udGFsJzsKICAgIHRoaXMuZG9tLmNlbnRlckNvbnRhaW5lci5jbGFzc05hbWUgPSAndmlzLXBhbmVsIHZpcy1jZW50ZXInOwogICAgdGhpcy5kb20ubGVmdENvbnRhaW5lci5jbGFzc05hbWUgPSAndmlzLXBhbmVsIHZpcy1sZWZ0JzsKICAgIHRoaXMuZG9tLnJpZ2h0Q29udGFpbmVyLmNsYXNzTmFtZSA9ICd2aXMtcGFuZWwgdmlzLXJpZ2h0JzsKICAgIHRoaXMuZG9tLnRvcC5jbGFzc05hbWUgPSAndmlzLXBhbmVsIHZpcy10b3AnOwogICAgdGhpcy5kb20uYm90dG9tLmNsYXNzTmFtZSA9ICd2aXMtcGFuZWwgdmlzLWJvdHRvbSc7CiAgICB0aGlzLmRvbS5sZWZ0LmNsYXNzTmFtZSA9ICd2aXMtY29udGVudCc7CiAgICB0aGlzLmRvbS5jZW50ZXIuY2xhc3NOYW1lID0gJ3Zpcy1jb250ZW50JzsKICAgIHRoaXMuZG9tLnJpZ2h0LmNsYXNzTmFtZSA9ICd2aXMtY29udGVudCc7CiAgICB0aGlzLmRvbS5zaGFkb3dUb3AuY2xhc3NOYW1lID0gJ3Zpcy1zaGFkb3cgdmlzLXRvcCc7CiAgICB0aGlzLmRvbS5zaGFkb3dCb3R0b20uY2xhc3NOYW1lID0gJ3Zpcy1zaGFkb3cgdmlzLWJvdHRvbSc7CiAgICB0aGlzLmRvbS5zaGFkb3dUb3BMZWZ0LmNsYXNzTmFtZSA9ICd2aXMtc2hhZG93IHZpcy10b3AnOwogICAgdGhpcy5kb20uc2hhZG93Qm90dG9tTGVmdC5jbGFzc05hbWUgPSAndmlzLXNoYWRvdyB2aXMtYm90dG9tJzsKICAgIHRoaXMuZG9tLnNoYWRvd1RvcFJpZ2h0LmNsYXNzTmFtZSA9ICd2aXMtc2hhZG93IHZpcy10b3AnOwogICAgdGhpcy5kb20uc2hhZG93Qm90dG9tUmlnaHQuY2xhc3NOYW1lID0gJ3Zpcy1zaGFkb3cgdmlzLWJvdHRvbSc7CgogICAgdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5iYWNrZ3JvdW5kKTsKICAgIHRoaXMuZG9tLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5kb20uYmFja2dyb3VuZFZlcnRpY2FsKTsKICAgIHRoaXMuZG9tLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5kb20uYmFja2dyb3VuZEhvcml6b250YWwpOwogICAgdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5jZW50ZXJDb250YWluZXIpOwogICAgdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5sZWZ0Q29udGFpbmVyKTsKICAgIHRoaXMuZG9tLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5kb20ucmlnaHRDb250YWluZXIpOwogICAgdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS50b3ApOwogICAgdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5ib3R0b20pOwoKICAgIHRoaXMuZG9tLmNlbnRlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5jZW50ZXIpOwogICAgdGhpcy5kb20ubGVmdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5sZWZ0KTsKICAgIHRoaXMuZG9tLnJpZ2h0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLnJpZ2h0KTsKCiAgICB0aGlzLmRvbS5jZW50ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uc2hhZG93VG9wKTsKICAgIHRoaXMuZG9tLmNlbnRlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5zaGFkb3dCb3R0b20pOwogICAgdGhpcy5kb20ubGVmdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5zaGFkb3dUb3BMZWZ0KTsKICAgIHRoaXMuZG9tLmxlZnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uc2hhZG93Qm90dG9tTGVmdCk7CiAgICB0aGlzLmRvbS5yaWdodENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5zaGFkb3dUb3BSaWdodCk7CiAgICB0aGlzLmRvbS5yaWdodENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5zaGFkb3dCb3R0b21SaWdodCk7CgogICAgdGhpcy5vbigncmFuZ2VjaGFuZ2UnLCB0aGlzLnJlZHJhdy5iaW5kKHRoaXMpKTsKICAgIHRoaXMub24oJ3RvdWNoJywgdGhpcy5fb25Ub3VjaC5iaW5kKHRoaXMpKTsKICAgIHRoaXMub24oJ3BhbicsIHRoaXMuX29uRHJhZy5iaW5kKHRoaXMpKTsKCiAgICB2YXIgbWUgPSB0aGlzOwogICAgdGhpcy5vbignY2hhbmdlJywgZnVuY3Rpb24gKHByb3BlcnRpZXMpIHsKICAgICAgaWYgKHByb3BlcnRpZXMgJiYgcHJvcGVydGllcy5xdWV1ZSA9PSB0cnVlKSB7CiAgICAgICAgLy8gcmVkcmF3IG9uY2Ugb24gbmV4dCB0aWNrCiAgICAgICAgaWYgKCFtZS5fcmVkcmF3VGltZXIpIHsKICAgICAgICAgIG1lLl9yZWRyYXdUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBtZS5fcmVkcmF3VGltZXIgPSBudWxsOwogICAgICAgICAgICBtZS5fcmVkcmF3KCk7CiAgICAgICAgICB9LCAwKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gcmVkcmF3IGltbWVkaWF0ZWx5CiAgICAgICAgbWUuX3JlZHJhdygpOwogICAgICB9CiAgICB9KTsKCiAgICAvLyBjcmVhdGUgZXZlbnQgbGlzdGVuZXJzIGZvciBhbGwgaW50ZXJlc3RpbmcgZXZlbnRzLCB0aGVzZSBldmVudHMgd2lsbCBiZQogICAgLy8gZW1pdHRlZCB2aWEgZW1pdHRlcgogICAgdGhpcy5oYW1tZXIgPSBuZXcgSGFtbWVyKHRoaXMuZG9tLnJvb3QpOwogICAgdGhpcy5oYW1tZXIuZ2V0KCdwaW5jaCcpLnNldCh7IGVuYWJsZTogdHJ1ZSB9KTsKICAgIHRoaXMubGlzdGVuZXJzID0ge307CgogICAgdmFyIGV2ZW50cyA9IFsndGFwJywgJ2RvdWJsZXRhcCcsICdwcmVzcycsICdwaW5jaCcsICdwYW4nLCAncGFuc3RhcnQnLCAncGFubW92ZScsICdwYW5lbmQnCiAgICAvLyBUT0RPOiBjbGVhbnVwCiAgICAvLyd0b3VjaCcsICdwaW5jaCcsCiAgICAvLyd0YXAnLCAnZG91YmxldGFwJywgJ2hvbGQnLAogICAgLy8nZHJhZ3N0YXJ0JywgJ2RyYWcnLCAnZHJhZ2VuZCcsCiAgICAvLydtb3VzZXdoZWVsJywgJ0RPTU1vdXNlU2Nyb2xsJyAvLyBET01Nb3VzZVNjcm9sbCBpcyBuZWVkZWQgZm9yIEZpcmVmb3gKICAgIF07CiAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCkgewogICAgICAgIGlmIChtZS5pc0FjdGl2ZSgpKSB7CiAgICAgICAgICBtZS5lbWl0KHR5cGUsIGV2ZW50KTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIG1lLmhhbW1lci5vbih0eXBlLCBsaXN0ZW5lcik7CiAgICAgIG1lLmxpc3RlbmVyc1t0eXBlXSA9IGxpc3RlbmVyOwogICAgfSk7CgogICAgLy8gZW11bGF0ZSBhIHRvdWNoIGV2ZW50IChlbWl0dGVkIGJlZm9yZSB0aGUgc3RhcnQgb2YgYSBwYW4sIHBpbmNoLCB0YXAsIG9yIHByZXNzKQogICAgaGFtbWVyVXRpbC5vblRvdWNoKHRoaXMuaGFtbWVyLCAoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIG1lLmVtaXQoJ3RvdWNoJywgZXZlbnQpOwogICAgfSkuYmluZCh0aGlzKSk7CgogICAgLy8gZW11bGF0ZSBhIHJlbGVhc2UgZXZlbnQgKGVtaXR0ZWQgYWZ0ZXIgYSBwYW4sIHBpbmNoLCB0YXAsIG9yIHByZXNzKQogICAgaGFtbWVyVXRpbC5vblJlbGVhc2UodGhpcy5oYW1tZXIsIChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbWUuZW1pdCgncmVsZWFzZScsIGV2ZW50KTsKICAgIH0pLmJpbmQodGhpcykpOwoKICAgIGZ1bmN0aW9uIG9uTW91c2VXaGVlbChldmVudCkgewogICAgICBpZiAobWUuaXNBY3RpdmUoKSkgewogICAgICAgIG1lLmVtaXQoJ21vdXNld2hlZWwnLCBldmVudCk7CiAgICAgIH0KICAgIH0KICAgIHRoaXMuZG9tLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIG9uTW91c2VXaGVlbCk7CiAgICB0aGlzLmRvbS5yb290LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgb25Nb3VzZVdoZWVsKTsKCiAgICAvLyBzaXplIHByb3BlcnRpZXMgb2YgZWFjaCBvZiB0aGUgcGFuZWxzCiAgICB0aGlzLnByb3BzID0gewogICAgICByb290OiB7fSwKICAgICAgYmFja2dyb3VuZDoge30sCiAgICAgIGNlbnRlckNvbnRhaW5lcjoge30sCiAgICAgIGxlZnRDb250YWluZXI6IHt9LAogICAgICByaWdodENvbnRhaW5lcjoge30sCiAgICAgIGNlbnRlcjoge30sCiAgICAgIGxlZnQ6IHt9LAogICAgICByaWdodDoge30sCiAgICAgIHRvcDoge30sCiAgICAgIGJvdHRvbToge30sCiAgICAgIGJvcmRlcjoge30sCiAgICAgIHNjcm9sbFRvcDogMCwKICAgICAgc2Nyb2xsVG9wTWluOiAwCiAgICB9OwoKICAgIHRoaXMuY3VzdG9tVGltZXMgPSBbXTsKCiAgICAvLyBzdG9yZSBzdGF0ZSBpbmZvcm1hdGlvbiBuZWVkZWQgZm9yIHRvdWNoIGV2ZW50cwogICAgdGhpcy50b3VjaCA9IHt9OwoKICAgIHRoaXMucmVkcmF3Q291bnQgPSAwOwoKICAgIC8vIGF0dGFjaCB0aGUgcm9vdCBwYW5lbCB0byB0aGUgcHJvdmlkZWQgY29udGFpbmVyCiAgICBpZiAoIWNvbnRhaW5lcikgdGhyb3cgbmV3IEVycm9yKCdObyBjb250YWluZXIgcHJvdmlkZWQnKTsKICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5yb290KTsKICB9OwoKICAvKioKICAgKiBTZXQgb3B0aW9ucy4gT3B0aW9ucyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgY29tcG9uZW50cyBsb2FkZWQgaW4gdGhlIFRpbWVsaW5lLgogICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmd9IG9yaWVudGF0aW9uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZXJ0aWNhbCBvcmllbnRhdGlvbiBmb3IgdGhlIFRpbWVsaW5lLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuIGJlICdib3R0b20nIChkZWZhdWx0KSBvciAndG9wJy4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcgfCBOdW1iZXJ9IHdpZHRoCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaWR0aCBmb3IgdGhlIHRpbWVsaW5lLCBhIG51bWJlciBpbiBwaXhlbHMgb3IKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgY3NzIHN0cmluZyBsaWtlICcxMDAwcHgnIG9yICc3NSUnLiAnMTAwJScgYnkgZGVmYXVsdC4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcgfCBOdW1iZXJ9IGhlaWdodAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRml4ZWQgaGVpZ2h0IGZvciB0aGUgVGltZWxpbmUsIGEgbnVtYmVyIGluIHBpeGVscyBvcgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBjc3Mgc3RyaW5nIGxpa2UgJzQwMHB4JyBvciAnNzUlJy4gSWYgdW5kZWZpbmVkLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIFRpbWVsaW5lIHdpbGwgYXV0b21hdGljYWxseSBzaXplIHN1Y2ggdGhhdAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRzIGNvbnRlbnRzIGZpdC4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcgfCBOdW1iZXJ9IG1pbkhlaWdodAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWluaW11bSBoZWlnaHQgZm9yIHRoZSBUaW1lbGluZSwgYSBudW1iZXIgaW4gcGl4ZWxzIG9yCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIGNzcyBzdHJpbmcgbGlrZSAnNDAwcHgnIG9yICc3NSUnLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZyB8IE51bWJlcn0gbWF4SGVpZ2h0CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXhpbXVtIGhlaWdodCBmb3IgdGhlIFRpbWVsaW5lLCBhIG51bWJlciBpbiBwaXhlbHMgb3IKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgY3NzIHN0cmluZyBsaWtlICc0MDBweCcgb3IgJzc1JScuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7TnVtYmVyIHwgRGF0ZSB8IFN0cmluZ30gc3RhcnQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0IGRhdGUgZm9yIHRoZSB2aXNpYmxlIHdpbmRvdwogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge051bWJlciB8IERhdGUgfCBTdHJpbmd9IGVuZAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kIGRhdGUgZm9yIHRoZSB2aXNpYmxlIHdpbmRvdwogICAqLwogIENvcmUucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgaWYgKG9wdGlvbnMpIHsKICAgICAgLy8gY29weSB0aGUga25vd24gb3B0aW9ucwogICAgICB2YXIgZmllbGRzID0gWyd3aWR0aCcsICdoZWlnaHQnLCAnbWluSGVpZ2h0JywgJ21heEhlaWdodCcsICdhdXRvUmVzaXplJywgJ3N0YXJ0JywgJ2VuZCcsICdjbGlja1RvVXNlJywgJ2RhdGFBdHRyaWJ1dGVzJywgJ2hpZGRlbkRhdGVzJ107CiAgICAgIHV0aWwuc2VsZWN0aXZlRXh0ZW5kKGZpZWxkcywgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKCiAgICAgIGlmICgnb3JpZW50YXRpb24nIGluIG9wdGlvbnMpIHsKICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMub3JpZW50YXRpb24gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24gPSB7CiAgICAgICAgICAgIGl0ZW06IG9wdGlvbnMub3JpZW50YXRpb24sCiAgICAgICAgICAgIGF4aXM6IG9wdGlvbnMub3JpZW50YXRpb24KICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5vcmllbnRhdGlvbiA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgIGlmICgnaXRlbScgaW4gb3B0aW9ucy5vcmllbnRhdGlvbikgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uaXRlbSA9IG9wdGlvbnMub3JpZW50YXRpb24uaXRlbTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICgnYXhpcycgaW4gb3B0aW9ucy5vcmllbnRhdGlvbikgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcyA9IG9wdGlvbnMub3JpZW50YXRpb24uYXhpczsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcyA9PT0gJ2JvdGgnKSB7CiAgICAgICAgaWYgKCF0aGlzLnRpbWVBeGlzMikgewogICAgICAgICAgdmFyIHRpbWVBeGlzMiA9IHRoaXMudGltZUF4aXMyID0gbmV3IFRpbWVBeGlzKHRoaXMuYm9keSk7CiAgICAgICAgICB0aW1lQXhpczIuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICAgICAgICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMgPyB1dGlsLmV4dGVuZCh7fSwgb3B0aW9ucykgOiB7fTsKICAgICAgICAgICAgX29wdGlvbnMub3JpZW50YXRpb24gPSAndG9wJzsgLy8gb3ZlcnJpZGUgdGhlIG9yaWVudGF0aW9uIG9wdGlvbiwgYWx3YXlzIHRvcAogICAgICAgICAgICBUaW1lQXhpcy5wcm90b3R5cGUuc2V0T3B0aW9ucy5jYWxsKHRpbWVBeGlzMiwgX29wdGlvbnMpOwogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKHRpbWVBeGlzMik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnRpbWVBeGlzMikgewogICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jb21wb25lbnRzLmluZGV4T2YodGhpcy50aW1lQXhpczIpOwogICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMudGltZUF4aXMyLmRlc3Ryb3koKTsKICAgICAgICAgIHRoaXMudGltZUF4aXMyID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICgnaGlkZGVuRGF0ZXMnIGluIHRoaXMub3B0aW9ucykgewogICAgICAgIERhdGVVdGlsLmNvbnZlcnRIaWRkZW5PcHRpb25zKHRoaXMuYm9keSwgdGhpcy5vcHRpb25zLmhpZGRlbkRhdGVzKTsKICAgICAgfQoKICAgICAgaWYgKCdjbGlja1RvVXNlJyBpbiBvcHRpb25zKSB7CiAgICAgICAgaWYgKG9wdGlvbnMuY2xpY2tUb1VzZSkgewogICAgICAgICAgaWYgKCF0aGlzLmFjdGl2YXRvcikgewogICAgICAgICAgICB0aGlzLmFjdGl2YXRvciA9IG5ldyBBY3RpdmF0b3IodGhpcy5kb20ucm9vdCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLmFjdGl2YXRvcikgewogICAgICAgICAgICB0aGlzLmFjdGl2YXRvci5kZXN0cm95KCk7CiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2YXRvcjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICgnc2hvd0N1c3RvbVRpbWUnIGluIG9wdGlvbnMpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wdGlvbiBgc2hvd0N1c3RvbVRpbWVgIGlzIGRlcHJlY2F0ZWQuIENyZWF0ZSBhIGN1c3RvbSB0aW1lIGJhciB2aWEgdGltZWxpbmUuYWRkQ3VzdG9tVGltZSh0aW1lIFssIGlkXSknKTsKICAgICAgfQoKICAgICAgLy8gZW5hYmxlL2Rpc2FibGUgYXV0b1Jlc2l6ZQogICAgICB0aGlzLl9pbml0QXV0b1Jlc2l6ZSgpOwogICAgfQoKICAgIC8vIHByb3BhZ2F0ZSBvcHRpb25zIHRvIGFsbCBjb21wb25lbnRzCiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50KSB7CiAgICAgIHJldHVybiBjb21wb25lbnQuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIH0pOwoKICAgIC8vIGVuYWJsZS9kaXNhYmxlIGNvbmZpZ3VyZQogICAgaWYgKCdjb25maWd1cmUnIGluIG9wdGlvbnMpIHsKICAgICAgaWYgKCF0aGlzLmNvbmZpZ3VyYXRvcikgewogICAgICAgIHRoaXMuY29uZmlndXJhdG9yID0gdGhpcy5fY3JlYXRlQ29uZmlndXJhdG9yKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY29uZmlndXJhdG9yLnNldE9wdGlvbnMob3B0aW9ucy5jb25maWd1cmUpOwoKICAgICAgLy8gY29sbGVjdCB0aGUgc2V0dGluZ3Mgb2YgYWxsIGNvbXBvbmVudHMsIGFuZCBwYXNzIHRoZW0gdG8gdGhlIGNvbmZpZ3VyYXRpb24gc3lzdGVtCiAgICAgIHZhciBhcHBsaWVkT3B0aW9ucyA9IHV0aWwuZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zKTsKICAgICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkgewogICAgICAgIHV0aWwuZGVlcEV4dGVuZChhcHBsaWVkT3B0aW9ucywgY29tcG9uZW50Lm9wdGlvbnMpOwogICAgICB9KTsKICAgICAgdGhpcy5jb25maWd1cmF0b3Iuc2V0TW9kdWxlT3B0aW9ucyh7IGdsb2JhbDogYXBwbGllZE9wdGlvbnMgfSk7CiAgICB9CgogICAgLy8gcmVkcmF3IGV2ZXJ5dGhpbmcKICAgIHRoaXMuX3JlZHJhdygpOwogIH07CgogIC8qKgogICAqIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBUaW1lbGluZSBpcyBhY3RpdmUuCiAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICovCiAgQ29yZS5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXRoaXMuYWN0aXZhdG9yIHx8IHRoaXMuYWN0aXZhdG9yLmFjdGl2ZTsKICB9OwoKICAvKioKICAgKiBEZXN0cm95IHRoZSBDb3JlLCBjbGVhbiB1cCBhbGwgRE9NIGVsZW1lbnRzIGFuZCBldmVudCBsaXN0ZW5lcnMuCiAgICovCiAgQ29yZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIHVuYmluZCBkYXRhc2V0cwogICAgdGhpcy5zZXRJdGVtcyhudWxsKTsKICAgIHRoaXMuc2V0R3JvdXBzKG51bGwpOwoKICAgIC8vIHJlbW92ZSBhbGwgZXZlbnQgbGlzdGVuZXJzCiAgICB0aGlzLm9mZigpOwoKICAgIC8vIHN0b3AgY2hlY2tpbmcgZm9yIGNoYW5nZWQgc2l6ZQogICAgdGhpcy5fc3RvcEF1dG9SZXNpemUoKTsKCiAgICAvLyByZW1vdmUgZnJvbSBET00KICAgIGlmICh0aGlzLmRvbS5yb290LnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5kb20ucm9vdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLnJvb3QpOwogICAgfQogICAgdGhpcy5kb20gPSBudWxsOwoKICAgIC8vIHJlbW92ZSBBY3RpdmF0b3IKICAgIGlmICh0aGlzLmFjdGl2YXRvcikgewogICAgICB0aGlzLmFjdGl2YXRvci5kZXN0cm95KCk7CiAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2YXRvcjsKICAgIH0KCiAgICAvLyBjbGVhbnVwIGhhbW1lciB0b3VjaCBldmVudHMKICAgIGZvciAodmFyIGV2ZW50IGluIHRoaXMubGlzdGVuZXJzKSB7CiAgICAgIGlmICh0aGlzLmxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHsKICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNbZXZlbnRdOwogICAgICB9CiAgICB9CiAgICB0aGlzLmxpc3RlbmVycyA9IG51bGw7CiAgICB0aGlzLmhhbW1lciA9IG51bGw7CgogICAgLy8gZ2l2ZSBhbGwgY29tcG9uZW50cyB0aGUgb3Bwb3J0dW5pdHkgdG8gY2xlYW51cAogICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkgewogICAgICByZXR1cm4gY29tcG9uZW50LmRlc3Ryb3koKTsKICAgIH0pOwoKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgfTsKCiAgLyoqCiAgICogU2V0IGEgY3VzdG9tIHRpbWUgYmFyCiAgICogQHBhcmFtIHtEYXRlfSB0aW1lCiAgICogQHBhcmFtIHtudW1iZXJ9IFtpZD11bmRlZmluZWRdIE9wdGlvbmFsIGlkIG9mIHRoZSBjdXN0b20gdGltZSBiYXIgdG8gYmUgYWRqdXN0ZWQuCiAgICovCiAgQ29yZS5wcm90b3R5cGUuc2V0Q3VzdG9tVGltZSA9IGZ1bmN0aW9uICh0aW1lLCBpZCkgewogICAgdmFyIGN1c3RvbVRpbWVzID0gdGhpcy5jdXN0b21UaW1lcy5maWx0ZXIoZnVuY3Rpb24gKGNvbXBvbmVudCkgewogICAgICByZXR1cm4gaWQgPT09IGNvbXBvbmVudC5vcHRpb25zLmlkOwogICAgfSk7CgogICAgaWYgKGN1c3RvbVRpbWVzLmxlbmd0aCA9PT0gMCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGN1c3RvbSB0aW1lIGJhciBmb3VuZCB3aXRoIGlkICcgKyBKU09OLnN0cmluZ2lmeShpZCkpOwogICAgfQoKICAgIGlmIChjdXN0b21UaW1lcy5sZW5ndGggPiAwKSB7CiAgICAgIGN1c3RvbVRpbWVzWzBdLnNldEN1c3RvbVRpbWUodGltZSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmV0cmlldmUgdGhlIGN1cnJlbnQgY3VzdG9tIHRpbWUuCiAgICogQHBhcmFtIHtudW1iZXJ9IFtpZD11bmRlZmluZWRdICAgIElkIG9mIHRoZSBjdXN0b20gdGltZSBiYXIuCiAgICogQHJldHVybiB7RGF0ZSB8IHVuZGVmaW5lZH0gY3VzdG9tVGltZQogICAqLwogIENvcmUucHJvdG90eXBlLmdldEN1c3RvbVRpbWUgPSBmdW5jdGlvbiAoaWQpIHsKICAgIHZhciBjdXN0b21UaW1lcyA9IHRoaXMuY3VzdG9tVGltZXMuZmlsdGVyKGZ1bmN0aW9uIChjb21wb25lbnQpIHsKICAgICAgcmV0dXJuIGNvbXBvbmVudC5vcHRpb25zLmlkID09PSBpZDsKICAgIH0pOwoKICAgIGlmIChjdXN0b21UaW1lcy5sZW5ndGggPT09IDApIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjdXN0b20gdGltZSBiYXIgZm91bmQgd2l0aCBpZCAnICsgSlNPTi5zdHJpbmdpZnkoaWQpKTsKICAgIH0KICAgIHJldHVybiBjdXN0b21UaW1lc1swXS5nZXRDdXN0b21UaW1lKCk7CiAgfTsKCiAgLyoqCiAgICogQWRkIGN1c3RvbSB2ZXJ0aWNhbCBiYXIKICAgKiBAcGFyYW0ge0RhdGUgfCBTdHJpbmcgfCBOdW1iZXJ9IFt0aW1lXSAgQSBEYXRlLCB1bml4IHRpbWVzdGFtcCwgb3IKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSVNPIGRhdGUgc3RyaW5nLiBUaW1lIHBvaW50IHdoZXJlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBuZXcgYmFyIHNob3VsZCBiZSBwbGFjZWQuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgYG5ldyBEYXRlKClgIHdpbGwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmUgdXNlZC4KICAgKiBAcGFyYW0ge051bWJlciB8IFN0cmluZ30gW2lkPXVuZGVmaW5lZF0gSWQgb2YgdGhlIG5ldyBiYXIuIE9wdGlvbmFsCiAgICogQHJldHVybiB7TnVtYmVyIHwgU3RyaW5nfSAgICAgICAgICAgICAgIFJldHVybnMgdGhlIGlkIG9mIHRoZSBuZXcgYmFyCiAgICovCiAgQ29yZS5wcm90b3R5cGUuYWRkQ3VzdG9tVGltZSA9IGZ1bmN0aW9uICh0aW1lLCBpZCkgewogICAgdmFyIHRpbWVzdGFtcCA9IHRpbWUgIT09IHVuZGVmaW5lZCA/IHV0aWwuY29udmVydCh0aW1lLCAnRGF0ZScpLnZhbHVlT2YoKSA6IG5ldyBEYXRlKCk7CgogICAgdmFyIGV4aXN0cyA9IHRoaXMuY3VzdG9tVGltZXMuc29tZShmdW5jdGlvbiAoY3VzdG9tVGltZSkgewogICAgICByZXR1cm4gY3VzdG9tVGltZS5vcHRpb25zLmlkID09PSBpZDsKICAgIH0pOwogICAgaWYgKGV4aXN0cykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY3VzdG9tIHRpbWUgd2l0aCBpZCAnICsgSlNPTi5zdHJpbmdpZnkoaWQpICsgJyBhbHJlYWR5IGV4aXN0cycpOwogICAgfQoKICAgIHZhciBjdXN0b21UaW1lID0gbmV3IEN1c3RvbVRpbWUodGhpcy5ib2R5LCB7CiAgICAgIHRpbWU6IHRpbWVzdGFtcCwKICAgICAgaWQ6IGlkCiAgICB9KTsKCiAgICB0aGlzLmN1c3RvbVRpbWVzLnB1c2goY3VzdG9tVGltZSk7CiAgICB0aGlzLmNvbXBvbmVudHMucHVzaChjdXN0b21UaW1lKTsKICAgIHRoaXMucmVkcmF3KCk7CgogICAgcmV0dXJuIGlkOwogIH07CgogIC8qKgogICAqIFJlbW92ZSBwcmV2aW91c2x5IGFkZGVkIGN1c3RvbSBiYXIKICAgKiBAcGFyYW0ge2ludH0gaWQgSUQgb2YgdGhlIGN1c3RvbSBiYXIgdG8gYmUgcmVtb3ZlZAogICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJhciBleGlzdHMgYW5kIGlzIHJlbW92ZWQsIGZhbHNlIG90aGVyd2lzZQogICAqLwogIENvcmUucHJvdG90eXBlLnJlbW92ZUN1c3RvbVRpbWUgPSBmdW5jdGlvbiAoaWQpIHsKICAgIHZhciBjdXN0b21UaW1lcyA9IHRoaXMuY3VzdG9tVGltZXMuZmlsdGVyKGZ1bmN0aW9uIChiYXIpIHsKICAgICAgcmV0dXJuIGJhci5vcHRpb25zLmlkID09PSBpZDsKICAgIH0pOwoKICAgIGlmIChjdXN0b21UaW1lcy5sZW5ndGggPT09IDApIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjdXN0b20gdGltZSBiYXIgZm91bmQgd2l0aCBpZCAnICsgSlNPTi5zdHJpbmdpZnkoaWQpKTsKICAgIH0KCiAgICBjdXN0b21UaW1lcy5mb3JFYWNoKChmdW5jdGlvbiAoY3VzdG9tVGltZSkgewogICAgICB0aGlzLmN1c3RvbVRpbWVzLnNwbGljZSh0aGlzLmN1c3RvbVRpbWVzLmluZGV4T2YoY3VzdG9tVGltZSksIDEpOwogICAgICB0aGlzLmNvbXBvbmVudHMuc3BsaWNlKHRoaXMuY29tcG9uZW50cy5pbmRleE9mKGN1c3RvbVRpbWUpLCAxKTsKICAgICAgY3VzdG9tVGltZS5kZXN0cm95KCk7CiAgICB9KS5iaW5kKHRoaXMpKTsKICB9OwoKICAvKioKICAgKiBHZXQgdGhlIGlkJ3Mgb2YgdGhlIGN1cnJlbnRseSB2aXNpYmxlIGl0ZW1zLgogICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGlkcyBvZiB0aGUgdmlzaWJsZSBpdGVtcwogICAqLwogIENvcmUucHJvdG90eXBlLmdldFZpc2libGVJdGVtcyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLml0ZW1TZXQgJiYgdGhpcy5pdGVtU2V0LmdldFZpc2libGVJdGVtcygpIHx8IFtdOwogIH07CgogIC8qKgogICAqIFNldCBDb3JlIHdpbmRvdyBzdWNoIHRoYXQgaXQgZml0cyBhbGwgaXRlbXMKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGFuaW1hdGlvbjogYm9vbGVhbiB8IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmdGdW5jdGlvbjogc3RyaW5nfWAKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUgKGRlZmF1bHQpLCB0aGUgcmFuZ2UgaXMgYW5pbWF0ZWQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtb290aGx5IHRvIHRoZSBuZXcgd2luZG93LiBBbiBvYmplY3QgY2FuIGJlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCB0byBzcGVjaWZ5IGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGR1cmF0aW9uIGlzIDUwMCBtcywgYW5kIGRlZmF1bHQgZWFzaW5nCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpcyAnZWFzZUluT3V0UXVhZCcuCiAgICovCiAgQ29yZS5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0RGF0YVJhbmdlKCk7CgogICAgLy8gc2tpcCByYW5nZSBzZXQgaWYgdGhlcmUgaXMgbm8gbWluIGFuZCBtYXggZGF0ZQogICAgaWYgKHJhbmdlLm1pbiA9PT0gbnVsbCAmJiByYW5nZS5tYXggPT09IG51bGwpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIGFwcGx5IGEgbWFyZ2luIG9mIDElIGxlZnQgYW5kIHJpZ2h0IG9mIHRoZSBkYXRhCiAgICB2YXIgaW50ZXJ2YWwgPSByYW5nZS5tYXggLSByYW5nZS5taW47CiAgICB2YXIgbWluID0gbmV3IERhdGUocmFuZ2UubWluLnZhbHVlT2YoKSAtIGludGVydmFsICogMC4wMSk7CiAgICB2YXIgbWF4ID0gbmV3IERhdGUocmFuZ2UubWF4LnZhbHVlT2YoKSArIGludGVydmFsICogMC4wMSk7CgogICAgdmFyIGFuaW1hdGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5pbWF0aW9uIDogdHJ1ZTsKICAgIHRoaXMucmFuZ2Uuc2V0UmFuZ2UobWluLCBtYXgsIGFuaW1hdGlvbik7CiAgfTsKCiAgLyoqCiAgICogQ2FsY3VsYXRlIHRoZSBkYXRhIHJhbmdlIG9mIHRoZSBpdGVtcyBzdGFydCBhbmQgZW5kIGRhdGVzCiAgICogQHJldHVybnMge3ttaW46IERhdGUgfCBudWxsLCBtYXg6IERhdGUgfCBudWxsfX0KICAgKiBAcHJvdGVjdGVkCiAgICovCiAgQ29yZS5wcm90b3R5cGUuZ2V0RGF0YVJhbmdlID0gZnVuY3Rpb24gKCkgewogICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBUaW1lbGluZSBhbmQgR3JhcGgyZAogICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGFic3RyYWN0IG1ldGhvZCBnZXREYXRhUmFuZ2UnKTsKICB9OwoKICAvKioKICAgKiBTZXQgdGhlIHZpc2libGUgd2luZG93LiBCb3RoIHBhcmFtZXRlcnMgYXJlIG9wdGlvbmFsLCB5b3UgY2FuIGNoYW5nZSBvbmx5CiAgICogc3RhcnQgb3Igb25seSBlbmQuIFN5bnRheDoKICAgKgogICAqICAgICBUaW1lTGluZS5zZXRXaW5kb3coc3RhcnQsIGVuZCkKICAgKiAgICAgVGltZUxpbmUuc2V0V2luZG93KHN0YXJ0LCBlbmQsIG9wdGlvbnMpCiAgICogICAgIFRpbWVMaW5lLnNldFdpbmRvdyhyYW5nZSkKICAgKgogICAqIFdoZXJlIHN0YXJ0IGFuZCBlbmQgY2FuIGJlIGEgRGF0ZSwgbnVtYmVyLCBvciBzdHJpbmcsIGFuZCByYW5nZSBpcyBhbgogICAqIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgc3RhcnQgYW5kIGVuZC4KICAgKgogICAqIEBwYXJhbSB7RGF0ZSB8IE51bWJlciB8IFN0cmluZyB8IE9iamVjdH0gW3N0YXJ0XSBTdGFydCBkYXRlIG9mIHZpc2libGUgd2luZG93CiAgICogQHBhcmFtIHtEYXRlIHwgTnVtYmVyIHwgU3RyaW5nfSBbZW5kXSAgICAgICAgICAgIEVuZCBkYXRlIG9mIHZpc2libGUgd2luZG93CiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgQXZhaWxhYmxlIG9wdGlvbnM6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBhbmltYXRpb246IGJvb2xlYW4gfCB7ZHVyYXRpb246IG51bWJlciwgZWFzaW5nRnVuY3Rpb246IHN0cmluZ31gCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiB0cnVlIChkZWZhdWx0KSwgdGhlIHJhbmdlIGlzIGFuaW1hdGVkCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbW9vdGhseSB0byB0aGUgbmV3IHdpbmRvdy4gQW4gb2JqZWN0IGNhbiBiZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgdG8gc3BlY2lmeSBkdXJhdGlvbiBhbmQgZWFzaW5nIGZ1bmN0aW9uLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBkdXJhdGlvbiBpcyA1MDAgbXMsIGFuZCBkZWZhdWx0IGVhc2luZwogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaXMgJ2Vhc2VJbk91dFF1YWQnLgogICAqLwogIENvcmUucHJvdG90eXBlLnNldFdpbmRvdyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBvcHRpb25zKSB7CiAgICB2YXIgYW5pbWF0aW9uOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICB2YXIgcmFuZ2UgPSBhcmd1bWVudHNbMF07CiAgICAgIGFuaW1hdGlvbiA9IHJhbmdlLmFuaW1hdGlvbiAhPT0gdW5kZWZpbmVkID8gcmFuZ2UuYW5pbWF0aW9uIDogdHJ1ZTsKICAgICAgdGhpcy5yYW5nZS5zZXRSYW5nZShyYW5nZS5zdGFydCwgcmFuZ2UuZW5kLCBhbmltYXRpb24pOwogICAgfSBlbHNlIHsKICAgICAgYW5pbWF0aW9uID0gb3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmltYXRpb24gOiB0cnVlOwogICAgICB0aGlzLnJhbmdlLnNldFJhbmdlKHN0YXJ0LCBlbmQsIGFuaW1hdGlvbik7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogTW92ZSB0aGUgd2luZG93IHN1Y2ggdGhhdCBnaXZlbiB0aW1lIGlzIGNlbnRlcmVkIG9uIHNjcmVlbi4KICAgKiBAcGFyYW0ge0RhdGUgfCBOdW1iZXIgfCBTdHJpbmd9IHRpbWUKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGFuaW1hdGlvbjogYm9vbGVhbiB8IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmdGdW5jdGlvbjogc3RyaW5nfWAKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUgKGRlZmF1bHQpLCB0aGUgcmFuZ2UgaXMgYW5pbWF0ZWQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtb290aGx5IHRvIHRoZSBuZXcgd2luZG93LiBBbiBvYmplY3QgY2FuIGJlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCB0byBzcGVjaWZ5IGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGR1cmF0aW9uIGlzIDUwMCBtcywgYW5kIGRlZmF1bHQgZWFzaW5nCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpcyAnZWFzZUluT3V0UXVhZCcuCiAgICovCiAgQ29yZS5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKHRpbWUsIG9wdGlvbnMpIHsKICAgIHZhciBpbnRlcnZhbCA9IHRoaXMucmFuZ2UuZW5kIC0gdGhpcy5yYW5nZS5zdGFydDsKICAgIHZhciB0ID0gdXRpbC5jb252ZXJ0KHRpbWUsICdEYXRlJykudmFsdWVPZigpOwoKICAgIHZhciBzdGFydCA9IHQgLSBpbnRlcnZhbCAvIDI7CiAgICB2YXIgZW5kID0gdCArIGludGVydmFsIC8gMjsKICAgIHZhciBhbmltYXRpb24gPSBvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuaW1hdGlvbiA6IHRydWU7CgogICAgdGhpcy5yYW5nZS5zZXRSYW5nZShzdGFydCwgZW5kLCBhbmltYXRpb24pOwogIH07CgogIC8qKgogICAqIEdldCB0aGUgdmlzaWJsZSB3aW5kb3cKICAgKiBAcmV0dXJuIHt7c3RhcnQ6IERhdGUsIGVuZDogRGF0ZX19ICAgVmlzaWJsZSByYW5nZQogICAqLwogIENvcmUucHJvdG90eXBlLmdldFdpbmRvdyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2UuZ2V0UmFuZ2UoKTsKICAgIHJldHVybiB7CiAgICAgIHN0YXJ0OiBuZXcgRGF0ZShyYW5nZS5zdGFydCksCiAgICAgIGVuZDogbmV3IERhdGUocmFuZ2UuZW5kKQogICAgfTsKICB9OwoKICAvKioKICAgKiBGb3JjZSBhIHJlZHJhdy4gQ2FuIGJlIG92ZXJyaWRkZW4gYnkgaW1wbGVtZW50YXRpb25zIG9mIENvcmUKICAgKi8KICBDb3JlLnByb3RvdHlwZS5yZWRyYXcgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9yZWRyYXcoKTsKICB9OwoKICAvKioKICAgKiBSZWRyYXcgZm9yIGludGVybmFsIHVzZS4gUmVkcmF3cyBhbGwgY29tcG9uZW50cy4gU2VlIGFsc28gdGhlIHB1YmxpYwogICAqIG1ldGhvZCByZWRyYXcuCiAgICogQHByb3RlY3RlZAogICAqLwogIENvcmUucHJvdG90eXBlLl9yZWRyYXcgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcmVzaXplZCA9IGZhbHNlOwogICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7CiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzOwogICAgdmFyIGRvbSA9IHRoaXMuZG9tOwoKICAgIGlmICghZG9tKSByZXR1cm47IC8vIHdoZW4gZGVzdHJveWVkCgogICAgRGF0ZVV0aWwudXBkYXRlSGlkZGVuRGF0ZXModGhpcy5ib2R5LCB0aGlzLm9wdGlvbnMuaGlkZGVuRGF0ZXMpOwoKICAgIC8vIHVwZGF0ZSBjbGFzcyBuYW1lcwogICAgaWYgKG9wdGlvbnMub3JpZW50YXRpb24gPT0gJ3RvcCcpIHsKICAgICAgdXRpbC5hZGRDbGFzc05hbWUoZG9tLnJvb3QsICd2aXMtdG9wJyk7CiAgICAgIHV0aWwucmVtb3ZlQ2xhc3NOYW1lKGRvbS5yb290LCAndmlzLWJvdHRvbScpOwogICAgfSBlbHNlIHsKICAgICAgdXRpbC5yZW1vdmVDbGFzc05hbWUoZG9tLnJvb3QsICd2aXMtdG9wJyk7CiAgICAgIHV0aWwuYWRkQ2xhc3NOYW1lKGRvbS5yb290LCAndmlzLWJvdHRvbScpOwogICAgfQoKICAgIC8vIHVwZGF0ZSByb290IHdpZHRoIGFuZCBoZWlnaHQgb3B0aW9ucwogICAgZG9tLnJvb3Quc3R5bGUubWF4SGVpZ2h0ID0gdXRpbC5vcHRpb24uYXNTaXplKG9wdGlvbnMubWF4SGVpZ2h0LCAnJyk7CiAgICBkb20ucm9vdC5zdHlsZS5taW5IZWlnaHQgPSB1dGlsLm9wdGlvbi5hc1NpemUob3B0aW9ucy5taW5IZWlnaHQsICcnKTsKICAgIGRvbS5yb290LnN0eWxlLndpZHRoID0gdXRpbC5vcHRpb24uYXNTaXplKG9wdGlvbnMud2lkdGgsICcnKTsKCiAgICAvLyBjYWxjdWxhdGUgYm9yZGVyIHdpZHRocwogICAgcHJvcHMuYm9yZGVyLmxlZnQgPSAoZG9tLmNlbnRlckNvbnRhaW5lci5vZmZzZXRXaWR0aCAtIGRvbS5jZW50ZXJDb250YWluZXIuY2xpZW50V2lkdGgpIC8gMjsKICAgIHByb3BzLmJvcmRlci5yaWdodCA9IHByb3BzLmJvcmRlci5sZWZ0OwogICAgcHJvcHMuYm9yZGVyLnRvcCA9IChkb20uY2VudGVyQ29udGFpbmVyLm9mZnNldEhlaWdodCAtIGRvbS5jZW50ZXJDb250YWluZXIuY2xpZW50SGVpZ2h0KSAvIDI7CiAgICBwcm9wcy5ib3JkZXIuYm90dG9tID0gcHJvcHMuYm9yZGVyLnRvcDsKICAgIHZhciBib3JkZXJSb290SGVpZ2h0ID0gZG9tLnJvb3Qub2Zmc2V0SGVpZ2h0IC0gZG9tLnJvb3QuY2xpZW50SGVpZ2h0OwogICAgdmFyIGJvcmRlclJvb3RXaWR0aCA9IGRvbS5yb290Lm9mZnNldFdpZHRoIC0gZG9tLnJvb3QuY2xpZW50V2lkdGg7CgogICAgLy8gd29ya2Fyb3VuZCBmb3IgYSBidWcgaW4gSUU6IHRoZSBjbGllbnRXaWR0aCBvZiBhbiBlbGVtZW50IHdpdGgKICAgIC8vIGEgaGVpZ2h0OjBweCBhbmQgb3ZlcmZsb3c6aGlkZGVuIGlzIG5vdCBjYWxjdWxhdGVkIGFuZCBhbHdheXMgaGFzIHZhbHVlIDAKICAgIGlmIChkb20uY2VudGVyQ29udGFpbmVyLmNsaWVudEhlaWdodCA9PT0gMCkgewogICAgICBwcm9wcy5ib3JkZXIubGVmdCA9IHByb3BzLmJvcmRlci50b3A7CiAgICAgIHByb3BzLmJvcmRlci5yaWdodCA9IHByb3BzLmJvcmRlci5sZWZ0OwogICAgfQogICAgaWYgKGRvbS5yb290LmNsaWVudEhlaWdodCA9PT0gMCkgewogICAgICBib3JkZXJSb290V2lkdGggPSBib3JkZXJSb290SGVpZ2h0OwogICAgfQoKICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0cy4gSWYgYW55IG9mIHRoZSBzaWRlIHBhbmVscyBpcyBlbXB0eSwgd2Ugc2V0IHRoZSBoZWlnaHQgdG8KICAgIC8vIG1pbnVzIHRoZSBib3JkZXIgd2lkdGgsIHN1Y2ggdGhhdCB0aGUgYm9yZGVyIHdpbGwgYmUgaW52aXNpYmxlCiAgICBwcm9wcy5jZW50ZXIuaGVpZ2h0ID0gZG9tLmNlbnRlci5vZmZzZXRIZWlnaHQ7CiAgICBwcm9wcy5sZWZ0LmhlaWdodCA9IGRvbS5sZWZ0Lm9mZnNldEhlaWdodDsKICAgIHByb3BzLnJpZ2h0LmhlaWdodCA9IGRvbS5yaWdodC5vZmZzZXRIZWlnaHQ7CiAgICBwcm9wcy50b3AuaGVpZ2h0ID0gZG9tLnRvcC5jbGllbnRIZWlnaHQgfHwgLXByb3BzLmJvcmRlci50b3A7CiAgICBwcm9wcy5ib3R0b20uaGVpZ2h0ID0gZG9tLmJvdHRvbS5jbGllbnRIZWlnaHQgfHwgLXByb3BzLmJvcmRlci5ib3R0b207CgogICAgLy8gVE9ETzogY29tcGVuc2F0ZSBib3JkZXJzIHdoZW4gYW55IG9mIHRoZSBwYW5lbHMgaXMgZW1wdHkuCgogICAgLy8gYXBwbHkgYXV0byBoZWlnaHQKICAgIC8vIFRPRE86IG9ubHkgY2FsY3VsYXRlIGF1dG9IZWlnaHQgd2hlbiBuZWVkZWQgKGVsc2Ugd2UgY2F1c2UgYW4gZXh0cmEgcmVmbG93L3JlcGFpbnQgb2YgdGhlIERPTSkKICAgIHZhciBjb250ZW50SGVpZ2h0ID0gTWF0aC5tYXgocHJvcHMubGVmdC5oZWlnaHQsIHByb3BzLmNlbnRlci5oZWlnaHQsIHByb3BzLnJpZ2h0LmhlaWdodCk7CiAgICB2YXIgYXV0b0hlaWdodCA9IHByb3BzLnRvcC5oZWlnaHQgKyBjb250ZW50SGVpZ2h0ICsgcHJvcHMuYm90dG9tLmhlaWdodCArIGJvcmRlclJvb3RIZWlnaHQgKyBwcm9wcy5ib3JkZXIudG9wICsgcHJvcHMuYm9yZGVyLmJvdHRvbTsKICAgIGRvbS5yb290LnN0eWxlLmhlaWdodCA9IHV0aWwub3B0aW9uLmFzU2l6ZShvcHRpb25zLmhlaWdodCwgYXV0b0hlaWdodCArICdweCcpOwoKICAgIC8vIGNhbGN1bGF0ZSBoZWlnaHRzIG9mIHRoZSBjb250ZW50IHBhbmVscwogICAgcHJvcHMucm9vdC5oZWlnaHQgPSBkb20ucm9vdC5vZmZzZXRIZWlnaHQ7CiAgICBwcm9wcy5iYWNrZ3JvdW5kLmhlaWdodCA9IHByb3BzLnJvb3QuaGVpZ2h0IC0gYm9yZGVyUm9vdEhlaWdodDsKICAgIHZhciBjb250YWluZXJIZWlnaHQgPSBwcm9wcy5yb290LmhlaWdodCAtIHByb3BzLnRvcC5oZWlnaHQgLSBwcm9wcy5ib3R0b20uaGVpZ2h0IC0gYm9yZGVyUm9vdEhlaWdodDsKICAgIHByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQgPSBjb250YWluZXJIZWlnaHQ7CiAgICBwcm9wcy5sZWZ0Q29udGFpbmVyLmhlaWdodCA9IGNvbnRhaW5lckhlaWdodDsKICAgIHByb3BzLnJpZ2h0Q29udGFpbmVyLmhlaWdodCA9IHByb3BzLmxlZnRDb250YWluZXIuaGVpZ2h0OwoKICAgIC8vIGNhbGN1bGF0ZSB0aGUgd2lkdGhzIG9mIHRoZSBwYW5lbHMKICAgIHByb3BzLnJvb3Qud2lkdGggPSBkb20ucm9vdC5vZmZzZXRXaWR0aDsKICAgIHByb3BzLmJhY2tncm91bmQud2lkdGggPSBwcm9wcy5yb290LndpZHRoIC0gYm9yZGVyUm9vdFdpZHRoOwogICAgcHJvcHMubGVmdC53aWR0aCA9IGRvbS5sZWZ0Q29udGFpbmVyLmNsaWVudFdpZHRoIHx8IC1wcm9wcy5ib3JkZXIubGVmdDsKICAgIHByb3BzLmxlZnRDb250YWluZXIud2lkdGggPSBwcm9wcy5sZWZ0LndpZHRoOwogICAgcHJvcHMucmlnaHQud2lkdGggPSBkb20ucmlnaHRDb250YWluZXIuY2xpZW50V2lkdGggfHwgLXByb3BzLmJvcmRlci5yaWdodDsKICAgIHByb3BzLnJpZ2h0Q29udGFpbmVyLndpZHRoID0gcHJvcHMucmlnaHQud2lkdGg7CiAgICB2YXIgY2VudGVyV2lkdGggPSBwcm9wcy5yb290LndpZHRoIC0gcHJvcHMubGVmdC53aWR0aCAtIHByb3BzLnJpZ2h0LndpZHRoIC0gYm9yZGVyUm9vdFdpZHRoOwogICAgcHJvcHMuY2VudGVyLndpZHRoID0gY2VudGVyV2lkdGg7CiAgICBwcm9wcy5jZW50ZXJDb250YWluZXIud2lkdGggPSBjZW50ZXJXaWR0aDsKICAgIHByb3BzLnRvcC53aWR0aCA9IGNlbnRlcldpZHRoOwogICAgcHJvcHMuYm90dG9tLndpZHRoID0gY2VudGVyV2lkdGg7CgogICAgLy8gcmVzaXplIHRoZSBwYW5lbHMKICAgIGRvbS5iYWNrZ3JvdW5kLnN0eWxlLmhlaWdodCA9IHByb3BzLmJhY2tncm91bmQuaGVpZ2h0ICsgJ3B4JzsKICAgIGRvbS5iYWNrZ3JvdW5kVmVydGljYWwuc3R5bGUuaGVpZ2h0ID0gcHJvcHMuYmFja2dyb3VuZC5oZWlnaHQgKyAncHgnOwogICAgZG9tLmJhY2tncm91bmRIb3Jpem9udGFsLnN0eWxlLmhlaWdodCA9IHByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQgKyAncHgnOwogICAgZG9tLmNlbnRlckNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBwcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0ICsgJ3B4JzsKICAgIGRvbS5sZWZ0Q29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHByb3BzLmxlZnRDb250YWluZXIuaGVpZ2h0ICsgJ3B4JzsKICAgIGRvbS5yaWdodENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBwcm9wcy5yaWdodENvbnRhaW5lci5oZWlnaHQgKyAncHgnOwoKICAgIGRvbS5iYWNrZ3JvdW5kLnN0eWxlLndpZHRoID0gcHJvcHMuYmFja2dyb3VuZC53aWR0aCArICdweCc7CiAgICBkb20uYmFja2dyb3VuZFZlcnRpY2FsLnN0eWxlLndpZHRoID0gcHJvcHMuY2VudGVyQ29udGFpbmVyLndpZHRoICsgJ3B4JzsKICAgIGRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5zdHlsZS53aWR0aCA9IHByb3BzLmJhY2tncm91bmQud2lkdGggKyAncHgnOwogICAgZG9tLmNlbnRlckNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHByb3BzLmNlbnRlci53aWR0aCArICdweCc7CiAgICBkb20udG9wLnN0eWxlLndpZHRoID0gcHJvcHMudG9wLndpZHRoICsgJ3B4JzsKICAgIGRvbS5ib3R0b20uc3R5bGUud2lkdGggPSBwcm9wcy5ib3R0b20ud2lkdGggKyAncHgnOwoKICAgIC8vIHJlcG9zaXRpb24gdGhlIHBhbmVscwogICAgZG9tLmJhY2tncm91bmQuc3R5bGUubGVmdCA9ICcwJzsKICAgIGRvbS5iYWNrZ3JvdW5kLnN0eWxlLnRvcCA9ICcwJzsKICAgIGRvbS5iYWNrZ3JvdW5kVmVydGljYWwuc3R5bGUubGVmdCA9IHByb3BzLmxlZnQud2lkdGggKyBwcm9wcy5ib3JkZXIubGVmdCArICdweCc7CiAgICBkb20uYmFja2dyb3VuZFZlcnRpY2FsLnN0eWxlLnRvcCA9ICcwJzsKICAgIGRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5zdHlsZS5sZWZ0ID0gJzAnOwogICAgZG9tLmJhY2tncm91bmRIb3Jpem9udGFsLnN0eWxlLnRvcCA9IHByb3BzLnRvcC5oZWlnaHQgKyAncHgnOwogICAgZG9tLmNlbnRlckNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gcHJvcHMubGVmdC53aWR0aCArICdweCc7CiAgICBkb20uY2VudGVyQ29udGFpbmVyLnN0eWxlLnRvcCA9IHByb3BzLnRvcC5oZWlnaHQgKyAncHgnOwogICAgZG9tLmxlZnRDb250YWluZXIuc3R5bGUubGVmdCA9ICcwJzsKICAgIGRvbS5sZWZ0Q29udGFpbmVyLnN0eWxlLnRvcCA9IHByb3BzLnRvcC5oZWlnaHQgKyAncHgnOwogICAgZG9tLnJpZ2h0Q29udGFpbmVyLnN0eWxlLmxlZnQgPSBwcm9wcy5sZWZ0LndpZHRoICsgcHJvcHMuY2VudGVyLndpZHRoICsgJ3B4JzsKICAgIGRvbS5yaWdodENvbnRhaW5lci5zdHlsZS50b3AgPSBwcm9wcy50b3AuaGVpZ2h0ICsgJ3B4JzsKICAgIGRvbS50b3Auc3R5bGUubGVmdCA9IHByb3BzLmxlZnQud2lkdGggKyAncHgnOwogICAgZG9tLnRvcC5zdHlsZS50b3AgPSAnMCc7CiAgICBkb20uYm90dG9tLnN0eWxlLmxlZnQgPSBwcm9wcy5sZWZ0LndpZHRoICsgJ3B4JzsKICAgIGRvbS5ib3R0b20uc3R5bGUudG9wID0gcHJvcHMudG9wLmhlaWdodCArIHByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQgKyAncHgnOwoKICAgIC8vIHVwZGF0ZSB0aGUgc2Nyb2xsVG9wLCBmZWFzaWJsZSByYW5nZSBmb3IgdGhlIG9mZnNldCBjYW4gYmUgY2hhbmdlZAogICAgLy8gd2hlbiB0aGUgaGVpZ2h0IG9mIHRoZSBDb3JlIG9yIG9mIHRoZSBjb250ZW50cyBvZiB0aGUgY2VudGVyIGNoYW5nZWQKICAgIHRoaXMuX3VwZGF0ZVNjcm9sbFRvcCgpOwoKICAgIC8vIHJlcG9zaXRpb24gdGhlIHNjcm9sbGFibGUgY29udGVudHMKICAgIHZhciBvZmZzZXQgPSB0aGlzLnByb3BzLnNjcm9sbFRvcDsKICAgIGlmIChvcHRpb25zLm9yaWVudGF0aW9uLml0ZW0gIT0gJ3RvcCcpIHsKICAgICAgb2Zmc2V0ICs9IE1hdGgubWF4KHRoaXMucHJvcHMuY2VudGVyQ29udGFpbmVyLmhlaWdodCAtIHRoaXMucHJvcHMuY2VudGVyLmhlaWdodCAtIHRoaXMucHJvcHMuYm9yZGVyLnRvcCAtIHRoaXMucHJvcHMuYm9yZGVyLmJvdHRvbSwgMCk7CiAgICB9CiAgICBkb20uY2VudGVyLnN0eWxlLmxlZnQgPSAnMCc7CiAgICBkb20uY2VudGVyLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7CiAgICBkb20ubGVmdC5zdHlsZS5sZWZ0ID0gJzAnOwogICAgZG9tLmxlZnQuc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JzsKICAgIGRvbS5yaWdodC5zdHlsZS5sZWZ0ID0gJzAnOwogICAgZG9tLnJpZ2h0LnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7CgogICAgLy8gc2hvdyBzaGFkb3dzIHdoZW4gdmVydGljYWwgc2Nyb2xsaW5nIGlzIGF2YWlsYWJsZQogICAgdmFyIHZpc2liaWxpdHlUb3AgPSB0aGlzLnByb3BzLnNjcm9sbFRvcCA9PSAwID8gJ2hpZGRlbicgOiAnJzsKICAgIHZhciB2aXNpYmlsaXR5Qm90dG9tID0gdGhpcy5wcm9wcy5zY3JvbGxUb3AgPT0gdGhpcy5wcm9wcy5zY3JvbGxUb3BNaW4gPyAnaGlkZGVuJyA6ICcnOwogICAgZG9tLnNoYWRvd1RvcC5zdHlsZS52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eVRvcDsKICAgIGRvbS5zaGFkb3dCb3R0b20uc3R5bGUudmlzaWJpbGl0eSA9IHZpc2liaWxpdHlCb3R0b207CiAgICBkb20uc2hhZG93VG9wTGVmdC5zdHlsZS52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eVRvcDsKICAgIGRvbS5zaGFkb3dCb3R0b21MZWZ0LnN0eWxlLnZpc2liaWxpdHkgPSB2aXNpYmlsaXR5Qm90dG9tOwogICAgZG9tLnNoYWRvd1RvcFJpZ2h0LnN0eWxlLnZpc2liaWxpdHkgPSB2aXNpYmlsaXR5VG9wOwogICAgZG9tLnNoYWRvd0JvdHRvbVJpZ2h0LnN0eWxlLnZpc2liaWxpdHkgPSB2aXNpYmlsaXR5Qm90dG9tOwoKICAgIC8vIHJlZHJhdyBhbGwgY29tcG9uZW50cwogICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkgewogICAgICByZXNpemVkID0gY29tcG9uZW50LnJlZHJhdygpIHx8IHJlc2l6ZWQ7CiAgICB9KTsKICAgIGlmIChyZXNpemVkKSB7CiAgICAgIC8vIGtlZXAgcmVwYWludGluZyB1bnRpbCBhbGwgc2l6ZXMgYXJlIHNldHRsZWQKICAgICAgdmFyIE1BWF9SRURSQVdTID0gMzsgLy8gbWF4aW11bSBudW1iZXIgb2YgY29uc2VjdXRpdmUgcmVkcmF3cwogICAgICBpZiAodGhpcy5yZWRyYXdDb3VudCA8IE1BWF9SRURSQVdTKSB7CiAgICAgICAgdGhpcy5yZWRyYXdDb3VudCsrOwogICAgICAgIHRoaXMuX3JlZHJhdygpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBpbmZpbml0ZSBsb29wIGluIHJlZHJhdz8nKTsKICAgICAgfQogICAgICB0aGlzLnJlZHJhd0NvdW50ID0gMDsKICAgIH0KICB9OwoKICAvLyBUT0RPOiBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMS4xLjAsIHJlbW92ZSBzb21lIGRheQogIENvcmUucHJvdG90eXBlLnJlcGFpbnQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIHJlcGFpbnQgaXMgZGVwcmVjYXRlZC4gVXNlIHJlZHJhdyBpbnN0ZWFkLicpOwogIH07CgogIC8qKgogICAqIFNldCBhIGN1cnJlbnQgdGltZS4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgZXhhbXBsZSB0byBlbnN1cmUgdGhhdCBhIGNsaWVudCdzCiAgICogdGltZSBpcyBzeW5jaHJvbml6ZWQgd2l0aCBhIHNoYXJlZCBzZXJ2ZXIgdGltZS4KICAgKiBPbmx5IGFwcGxpY2FibGUgd2hlbiBvcHRpb24gYHNob3dDdXJyZW50VGltZWAgaXMgdHJ1ZS4KICAgKiBAcGFyYW0ge0RhdGUgfCBTdHJpbmcgfCBOdW1iZXJ9IHRpbWUgICAgIEEgRGF0ZSwgdW5peCB0aW1lc3RhbXAsIG9yCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJU08gZGF0ZSBzdHJpbmcuCiAgICovCiAgQ29yZS5wcm90b3R5cGUuc2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbiAodGltZSkgewogICAgaWYgKCF0aGlzLmN1cnJlbnRUaW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignT3B0aW9uIHNob3dDdXJyZW50VGltZSBtdXN0IGJlIHRydWUnKTsKICAgIH0KCiAgICB0aGlzLmN1cnJlbnRUaW1lLnNldEN1cnJlbnRUaW1lKHRpbWUpOwogIH07CgogIC8qKgogICAqIEdldCB0aGUgY3VycmVudCB0aW1lLgogICAqIE9ubHkgYXBwbGljYWJsZSB3aGVuIG9wdGlvbiBgc2hvd0N1cnJlbnRUaW1lYCBpcyB0cnVlLgogICAqIEByZXR1cm4ge0RhdGV9IFJldHVybnMgdGhlIGN1cnJlbnQgdGltZS4KICAgKi8KICBDb3JlLnByb3RvdHlwZS5nZXRDdXJyZW50VGltZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5jdXJyZW50VGltZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wdGlvbiBzaG93Q3VycmVudFRpbWUgbXVzdCBiZSB0cnVlJyk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuY3VycmVudFRpbWUuZ2V0Q3VycmVudFRpbWUoKTsKICB9OwoKICAvKioKICAgKiBDb252ZXJ0IGEgcG9zaXRpb24gb24gc2NyZWVuIChwaXhlbHMpIHRvIGEgZGF0ZXRpbWUKICAgKiBAcGFyYW0ge2ludH0gICAgIHggICAgUG9zaXRpb24gb24gdGhlIHNjcmVlbiBpbiBwaXhlbHMKICAgKiBAcmV0dXJuIHtEYXRlfSAgIHRpbWUgVGhlIGRhdGV0aW1lIHRoZSBjb3JyZXNwb25kcyB3aXRoIGdpdmVuIHBvc2l0aW9uIHgKICAgKiBAcHJvdGVjdGVkCiAgICovCiAgLy8gVE9ETzogbW92ZSB0aGlzIGZ1bmN0aW9uIHRvIFJhbmdlCiAgQ29yZS5wcm90b3R5cGUuX3RvVGltZSA9IGZ1bmN0aW9uICh4KSB7CiAgICByZXR1cm4gRGF0ZVV0aWwudG9UaW1lKHRoaXMsIHgsIHRoaXMucHJvcHMuY2VudGVyLndpZHRoKTsKICB9OwoKICAvKioKICAgKiBDb252ZXJ0IGEgcG9zaXRpb24gb24gdGhlIGdsb2JhbCBzY3JlZW4gKHBpeGVscykgdG8gYSBkYXRldGltZQogICAqIEBwYXJhbSB7aW50fSAgICAgeCAgICBQb3NpdGlvbiBvbiB0aGUgc2NyZWVuIGluIHBpeGVscwogICAqIEByZXR1cm4ge0RhdGV9ICAgdGltZSBUaGUgZGF0ZXRpbWUgdGhlIGNvcnJlc3BvbmRzIHdpdGggZ2l2ZW4gcG9zaXRpb24geAogICAqIEBwcm90ZWN0ZWQKICAgKi8KICAvLyBUT0RPOiBtb3ZlIHRoaXMgZnVuY3Rpb24gdG8gUmFuZ2UKICBDb3JlLnByb3RvdHlwZS5fdG9HbG9iYWxUaW1lID0gZnVuY3Rpb24gKHgpIHsKICAgIHJldHVybiBEYXRlVXRpbC50b1RpbWUodGhpcywgeCwgdGhpcy5wcm9wcy5yb290LndpZHRoKTsKICAgIC8vdmFyIGNvbnZlcnNpb24gPSB0aGlzLnJhbmdlLmNvbnZlcnNpb24odGhpcy5wcm9wcy5yb290LndpZHRoKTsKICAgIC8vcmV0dXJuIG5ldyBEYXRlKHggLyBjb252ZXJzaW9uLnNjYWxlICsgY29udmVyc2lvbi5vZmZzZXQpOwogIH07CgogIC8qKgogICAqIENvbnZlcnQgYSBkYXRldGltZSAoRGF0ZSBvYmplY3QpIGludG8gYSBwb3NpdGlvbiBvbiB0aGUgc2NyZWVuCiAgICogQHBhcmFtIHtEYXRlfSAgIHRpbWUgQSBkYXRlCiAgICogQHJldHVybiB7aW50fSAgIHggICAgVGhlIHBvc2l0aW9uIG9uIHRoZSBzY3JlZW4gaW4gcGl4ZWxzIHdoaWNoIGNvcnJlc3BvbmRzCiAgICogICAgICAgICAgICAgICAgICAgICAgd2l0aCB0aGUgZ2l2ZW4gZGF0ZS4KICAgKiBAcHJvdGVjdGVkCiAgICovCiAgLy8gVE9ETzogbW92ZSB0aGlzIGZ1bmN0aW9uIHRvIFJhbmdlCiAgQ29yZS5wcm90b3R5cGUuX3RvU2NyZWVuID0gZnVuY3Rpb24gKHRpbWUpIHsKICAgIHJldHVybiBEYXRlVXRpbC50b1NjcmVlbih0aGlzLCB0aW1lLCB0aGlzLnByb3BzLmNlbnRlci53aWR0aCk7CiAgfTsKCiAgLyoqCiAgICogQ29udmVydCBhIGRhdGV0aW1lIChEYXRlIG9iamVjdCkgaW50byBhIHBvc2l0aW9uIG9uIHRoZSByb290CiAgICogVGhpcyBpcyB1c2VkIHRvIGdldCB0aGUgcGl4ZWwgZGVuc2l0eSBlc3RpbWF0ZSBmb3IgdGhlIHNjcmVlbiwgbm90IHRoZSBjZW50ZXIgcGFuZWwKICAgKiBAcGFyYW0ge0RhdGV9ICAgdGltZSBBIGRhdGUKICAgKiBAcmV0dXJuIHtpbnR9ICAgeCAgICBUaGUgcG9zaXRpb24gb24gcm9vdCBpbiBwaXhlbHMgd2hpY2ggY29ycmVzcG9uZHMKICAgKiAgICAgICAgICAgICAgICAgICAgICB3aXRoIHRoZSBnaXZlbiBkYXRlLgogICAqIEBwcm90ZWN0ZWQKICAgKi8KICAvLyBUT0RPOiBtb3ZlIHRoaXMgZnVuY3Rpb24gdG8gUmFuZ2UKICBDb3JlLnByb3RvdHlwZS5fdG9HbG9iYWxTY3JlZW4gPSBmdW5jdGlvbiAodGltZSkgewogICAgcmV0dXJuIERhdGVVdGlsLnRvU2NyZWVuKHRoaXMsIHRpbWUsIHRoaXMucHJvcHMucm9vdC53aWR0aCk7CiAgICAvL3ZhciBjb252ZXJzaW9uID0gdGhpcy5yYW5nZS5jb252ZXJzaW9uKHRoaXMucHJvcHMucm9vdC53aWR0aCk7CiAgICAvL3JldHVybiAodGltZS52YWx1ZU9mKCkgLSBjb252ZXJzaW9uLm9mZnNldCkgKiBjb252ZXJzaW9uLnNjYWxlOwogIH07CgogIC8qKgogICAqIEluaXRpYWxpemUgd2F0Y2hpbmcgd2hlbiBvcHRpb24gYXV0b1Jlc2l6ZSBpcyB0cnVlCiAgICogQHByaXZhdGUKICAgKi8KICBDb3JlLnByb3RvdHlwZS5faW5pdEF1dG9SZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9SZXNpemUgPT0gdHJ1ZSkgewogICAgICB0aGlzLl9zdGFydEF1dG9SZXNpemUoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX3N0b3BBdXRvUmVzaXplKCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogV2F0Y2ggZm9yIGNoYW5nZXMgaW4gdGhlIHNpemUgb2YgdGhlIGNvbnRhaW5lci4gT24gcmVzaXplLCB0aGUgUGFuZWwgd2lsbAogICAqIGF1dG9tYXRpY2FsbHkgcmVkcmF3IGl0c2VsZi4KICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9zdGFydEF1dG9SZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAgIHRoaXMuX3N0b3BBdXRvUmVzaXplKCk7CgogICAgdGhpcy5fb25SZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChtZS5vcHRpb25zLmF1dG9SZXNpemUgIT0gdHJ1ZSkgewogICAgICAgIC8vIHN0b3Agd2F0Y2hpbmcgd2hlbiB0aGUgb3B0aW9uIGF1dG9SZXNpemUgaXMgY2hhbmdlZCB0byBmYWxzZQogICAgICAgIG1lLl9zdG9wQXV0b1Jlc2l6ZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG1lLmRvbS5yb290KSB7CiAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgZnJhbWUgaXMgcmVzaXplZAogICAgICAgIC8vIE5vdGU6IHdlIGNvbXBhcmUgb2Zmc2V0V2lkdGggaGVyZSwgbm90IGNsaWVudFdpZHRoLiBGb3Igc29tZSByZWFzb24sCiAgICAgICAgLy8gSUUgZG9lcyBub3QgcmVzdG9yZSB0aGUgY2xpZW50V2lkdGggZnJvbSAwIHRvIHRoZSBhY3R1YWwgd2lkdGggYWZ0ZXIKICAgICAgICAvLyBjaGFuZ2luZyB0aGUgdGltZWxpbmUncyBjb250YWluZXIgZGlzcGxheSBzdHlsZSBmcm9tIG5vbmUgdG8gdmlzaWJsZQogICAgICAgIGlmIChtZS5kb20ucm9vdC5vZmZzZXRXaWR0aCAhPSBtZS5wcm9wcy5sYXN0V2lkdGggfHwgbWUuZG9tLnJvb3Qub2Zmc2V0SGVpZ2h0ICE9IG1lLnByb3BzLmxhc3RIZWlnaHQpIHsKICAgICAgICAgIG1lLnByb3BzLmxhc3RXaWR0aCA9IG1lLmRvbS5yb290Lm9mZnNldFdpZHRoOwogICAgICAgICAgbWUucHJvcHMubGFzdEhlaWdodCA9IG1lLmRvbS5yb290Lm9mZnNldEhlaWdodDsKCiAgICAgICAgICBtZS5lbWl0KCdjaGFuZ2UnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvIHdpbmRvdyByZXNpemUKICAgIHV0aWwuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdyZXNpemUnLCB0aGlzLl9vblJlc2l6ZSk7CgogICAgdGhpcy53YXRjaFRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5fb25SZXNpemUsIDEwMDApOwogIH07CgogIC8qKgogICAqIFN0b3Agd2F0Y2hpbmcgZm9yIGEgcmVzaXplIG9mIHRoZSBmcmFtZS4KICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9zdG9wQXV0b1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLndhdGNoVGltZXIpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLndhdGNoVGltZXIpOwogICAgICB0aGlzLndhdGNoVGltZXIgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIG9uIHdpbmRvdy5yZXNpemUKICAgIHV0aWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdyZXNpemUnLCB0aGlzLl9vblJlc2l6ZSk7CiAgICB0aGlzLl9vblJlc2l6ZSA9IG51bGw7CiAgfTsKCiAgLyoqCiAgICogU3RhcnQgbW92aW5nIHRoZSB0aW1lbGluZSB2ZXJ0aWNhbGx5CiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9vblRvdWNoID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB0aGlzLnRvdWNoLmFsbG93RHJhZ2dpbmcgPSB0cnVlOwogICAgdGhpcy50b3VjaC5pbml0aWFsU2Nyb2xsVG9wID0gdGhpcy5wcm9wcy5zY3JvbGxUb3A7CiAgfTsKCiAgLyoqCiAgICogU3RhcnQgbW92aW5nIHRoZSB0aW1lbGluZSB2ZXJ0aWNhbGx5CiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9vblBpbmNoID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB0aGlzLnRvdWNoLmFsbG93RHJhZ2dpbmcgPSBmYWxzZTsKICB9OwoKICAvKioKICAgKiBNb3ZlIHRoZSB0aW1lbGluZSB2ZXJ0aWNhbGx5CiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIHJlZnVzZSB0byBkcmFnIHdoZW4gd2Ugd2hlcmUgcGluY2hpbmcgdG8gcHJldmVudCB0aGUgdGltZWxpbmUgbWFrZSBhIGp1bXAKICAgIC8vIHdoZW4gcmVsZWFzaW5nIHRoZSBmaW5nZXJzIGluIG9wcG9zaXRlIG9yZGVyIGZyb20gdGhlIHRvdWNoIHNjcmVlbgogICAgaWYgKCF0aGlzLnRvdWNoLmFsbG93RHJhZ2dpbmcpIHJldHVybjsKCiAgICB2YXIgZGVsdGEgPSBldmVudC5kZWx0YVk7CgogICAgdmFyIG9sZFNjcm9sbFRvcCA9IHRoaXMuX2dldFNjcm9sbFRvcCgpOwogICAgdmFyIG5ld1Njcm9sbFRvcCA9IHRoaXMuX3NldFNjcm9sbFRvcCh0aGlzLnRvdWNoLmluaXRpYWxTY3JvbGxUb3AgKyBkZWx0YSk7CgogICAgaWYgKG5ld1Njcm9sbFRvcCAhPSBvbGRTY3JvbGxUb3ApIHsKICAgICAgdGhpcy5fcmVkcmF3KCk7IC8vIFRPRE86IHRoaXMgY2F1c2VzIHR3byByZWRyYXdzIHdoZW4gZHJhZ2dpbmcsIHRoZSBvdGhlciBpcyB0cmlnZ2VyZWQgYnkgcmFuZ2VjaGFuZ2UgYWxyZWFkeQogICAgICB0aGlzLmVtaXQoJ3ZlcnRpY2FsRHJhZycpOwogICAgfQogIH07CgogIC8qKgogICAqIEFwcGx5IGEgc2Nyb2xsVG9wCiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjcm9sbFRvcAogICAqIEByZXR1cm5zIHtOdW1iZXJ9IHNjcm9sbFRvcCAgUmV0dXJucyB0aGUgYXBwbGllZCBzY3JvbGxUb3AKICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbiAoc2Nyb2xsVG9wKSB7CiAgICB0aGlzLnByb3BzLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDsKICAgIHRoaXMuX3VwZGF0ZVNjcm9sbFRvcCgpOwogICAgcmV0dXJuIHRoaXMucHJvcHMuc2Nyb2xsVG9wOwogIH07CgogIC8qKgogICAqIFVwZGF0ZSB0aGUgY3VycmVudCBzY3JvbGxUb3Agd2hlbiB0aGUgaGVpZ2h0IG9mICB0aGUgY29udGFpbmVycyBoYXMgYmVlbiBjaGFuZ2VkCiAgICogQHJldHVybnMge051bWJlcn0gc2Nyb2xsVG9wICBSZXR1cm5zIHRoZSBhcHBsaWVkIHNjcm9sbFRvcAogICAqIEBwcml2YXRlCiAgICovCiAgQ29yZS5wcm90b3R5cGUuX3VwZGF0ZVNjcm9sbFRvcCA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIHJlY2FsY3VsYXRlIHRoZSBzY3JvbGxUb3BNaW4KICAgIHZhciBzY3JvbGxUb3BNaW4gPSBNYXRoLm1pbih0aGlzLnByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQgLSB0aGlzLnByb3BzLmNlbnRlci5oZWlnaHQsIDApOyAvLyBpcyBuZWdhdGl2ZSBvciB6ZXJvCiAgICBpZiAoc2Nyb2xsVG9wTWluICE9IHRoaXMucHJvcHMuc2Nyb2xsVG9wTWluKSB7CiAgICAgIC8vIGluIGNhc2Ugb2YgYm90dG9tIG9yaWVudGF0aW9uLCBjaGFuZ2UgdGhlIHNjcm9sbFRvcCBzdWNoIHRoYXQgdGhlIGNvbnRlbnRzCiAgICAgIC8vIGRvIG5vdCBtb3ZlIHJlbGF0aXZlIHRvIHRoZSB0aW1lIGF4aXMgYXQgdGhlIGJvdHRvbQogICAgICBpZiAodGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLml0ZW0gIT0gJ3RvcCcpIHsKICAgICAgICB0aGlzLnByb3BzLnNjcm9sbFRvcCArPSBzY3JvbGxUb3BNaW4gLSB0aGlzLnByb3BzLnNjcm9sbFRvcE1pbjsKICAgICAgfQogICAgICB0aGlzLnByb3BzLnNjcm9sbFRvcE1pbiA9IHNjcm9sbFRvcE1pbjsKICAgIH0KCiAgICAvLyBsaW1pdCB0aGUgc2Nyb2xsVG9wIHRvIHRoZSBmZWFzaWJsZSBzY3JvbGwgcmFuZ2UKICAgIGlmICh0aGlzLnByb3BzLnNjcm9sbFRvcCA+IDApIHRoaXMucHJvcHMuc2Nyb2xsVG9wID0gMDsKICAgIGlmICh0aGlzLnByb3BzLnNjcm9sbFRvcCA8IHNjcm9sbFRvcE1pbikgdGhpcy5wcm9wcy5zY3JvbGxUb3AgPSBzY3JvbGxUb3BNaW47CgogICAgcmV0dXJuIHRoaXMucHJvcHMuc2Nyb2xsVG9wOwogIH07CgogIC8qKgogICAqIEdldCB0aGUgY3VycmVudCBzY3JvbGxUb3AKICAgKiBAcmV0dXJucyB7bnVtYmVyfSBzY3JvbGxUb3AKICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9nZXRTY3JvbGxUb3AgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5wcm9wcy5zY3JvbGxUb3A7CiAgfTsKCiAgLyoqCiAgICogTG9hZCBhIGNvbmZpZ3VyYXRvcgogICAqIEByZXR1cm4ge09iamVjdH0KICAgKiBAcHJpdmF0ZQogICAqLwogIENvcmUucHJvdG90eXBlLl9jcmVhdGVDb25maWd1cmF0b3IgPSBmdW5jdGlvbiAoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgYWJzdHJhY3QgbWV0aG9kIF9jcmVhdGVDb25maWd1cmF0b3InKTsKICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IENvcmU7CgovKioqLyB9LAovKiAzMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgSGFtbWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7CiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogIHZhciBEYXRhU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKICB2YXIgRGF0YVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKICB2YXIgVGltZVN0ZXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTsKICB2YXIgQ29tcG9uZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7CiAgdmFyIEdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7CiAgdmFyIEJhY2tncm91bmRHcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpOwogIHZhciBCb3hJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7CiAgdmFyIFBvaW50SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpOwogIHZhciBSYW5nZUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTsKICB2YXIgQmFja2dyb3VuZEl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTsKCiAgdmFyIFVOR1JPVVBFRCA9ICdfX3VuZ3JvdXBlZF9fJzsgLy8gcmVzZXJ2ZWQgZ3JvdXAgaWQgZm9yIHVuZ3JvdXBlZCBpdGVtcwogIHZhciBCQUNLR1JPVU5EID0gJ19fYmFja2dyb3VuZF9fJzsgLy8gcmVzZXJ2ZWQgZ3JvdXAgaWQgZm9yIGJhY2tncm91bmQgaXRlbXMgd2l0aG91dCBncm91cAoKICAvKioKICAgKiBBbiBJdGVtU2V0IGhvbGRzIGEgc2V0IG9mIGl0ZW1zIGFuZCByYW5nZXMgd2hpY2ggY2FuIGJlIGRpc3BsYXllZCBpbiBhCiAgICogcmFuZ2UuIFRoZSB3aWR0aCBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBwYXJlbnQgb2YgdGhlIEl0ZW1TZXQsIGFuZCB0aGUgaGVpZ2h0CiAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgc2l6ZSBvZiB0aGUgaXRlbXMuCiAgICogQHBhcmFtIHt7ZG9tOiBPYmplY3QsIGRvbVByb3BzOiBPYmplY3QsIGVtaXR0ZXI6IEVtaXR0ZXIsIHJhbmdlOiBSYW5nZX19IGJvZHkKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgU2VlIEl0ZW1TZXQuc2V0T3B0aW9ucyBmb3IgdGhlIGF2YWlsYWJsZSBvcHRpb25zLgogICAqIEBjb25zdHJ1Y3RvciBJdGVtU2V0CiAgICogQGV4dGVuZHMgQ29tcG9uZW50CiAgICovCiAgZnVuY3Rpb24gSXRlbVNldChib2R5LCBvcHRpb25zKSB7CiAgICB0aGlzLmJvZHkgPSBib2R5OwoKICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgIHR5cGU6IG51bGwsIC8vICdib3gnLCAncG9pbnQnLCAncmFuZ2UnLCAnYmFja2dyb3VuZCcKICAgICAgb3JpZW50YXRpb246IHsKICAgICAgICBpdGVtOiAnYm90dG9tJyAvLyBpdGVtIG9yaWVudGF0aW9uOiAndG9wJyBvciAnYm90dG9tJwogICAgICB9LAogICAgICBhbGlnbjogJ2F1dG8nLCAvLyBhbGlnbm1lbnQgb2YgYm94IGl0ZW1zCiAgICAgIHN0YWNrOiB0cnVlLAogICAgICBncm91cE9yZGVyOiBudWxsLAoKICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwKICAgICAgbXVsdGlzZWxlY3Q6IGZhbHNlLAoKICAgICAgZWRpdGFibGU6IHsKICAgICAgICB1cGRhdGVUaW1lOiBmYWxzZSwKICAgICAgICB1cGRhdGVHcm91cDogZmFsc2UsCiAgICAgICAgYWRkOiBmYWxzZSwKICAgICAgICByZW1vdmU6IGZhbHNlCiAgICAgIH0sCgogICAgICBzbmFwOiBUaW1lU3RlcC5zbmFwLAoKICAgICAgb25BZGQ6IGZ1bmN0aW9uIG9uQWRkKGl0ZW0sIGNhbGxiYWNrKSB7CiAgICAgICAgY2FsbGJhY2soaXRlbSk7CiAgICAgIH0sCiAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZShpdGVtLCBjYWxsYmFjaykgewogICAgICAgIGNhbGxiYWNrKGl0ZW0pOwogICAgICB9LAogICAgICBvbk1vdmU6IGZ1bmN0aW9uIG9uTW92ZShpdGVtLCBjYWxsYmFjaykgewogICAgICAgIGNhbGxiYWNrKGl0ZW0pOwogICAgICB9LAogICAgICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoaXRlbSwgY2FsbGJhY2spIHsKICAgICAgICBjYWxsYmFjayhpdGVtKTsKICAgICAgfSwKICAgICAgb25Nb3Zpbmc6IGZ1bmN0aW9uIG9uTW92aW5nKGl0ZW0sIGNhbGxiYWNrKSB7CiAgICAgICAgY2FsbGJhY2soaXRlbSk7CiAgICAgIH0sCgogICAgICBtYXJnaW46IHsKICAgICAgICBpdGVtOiB7CiAgICAgICAgICBob3Jpem9udGFsOiAxMCwKICAgICAgICAgIHZlcnRpY2FsOiAxMAogICAgICAgIH0sCiAgICAgICAgYXhpczogMjAKICAgICAgfQogICAgfTsKCiAgICAvLyBvcHRpb25zIGlzIHNoYXJlZCBieSB0aGlzIEl0ZW1TZXQgYW5kIGFsbCBpdHMgaXRlbXMKICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKCiAgICAvLyBvcHRpb25zIGZvciBnZXR0aW5nIGl0ZW1zIGZyb20gdGhlIERhdGFTZXQgd2l0aCB0aGUgY29ycmVjdCB0eXBlCiAgICB0aGlzLml0ZW1PcHRpb25zID0gewogICAgICB0eXBlOiB7IHN0YXJ0OiAnRGF0ZScsIGVuZDogJ0RhdGUnIH0KICAgIH07CgogICAgdGhpcy5jb252ZXJzaW9uID0gewogICAgICB0b1NjcmVlbjogYm9keS51dGlsLnRvU2NyZWVuLAogICAgICB0b1RpbWU6IGJvZHkudXRpbC50b1RpbWUKICAgIH07CiAgICB0aGlzLmRvbSA9IHt9OwogICAgdGhpcy5wcm9wcyA9IHt9OwogICAgdGhpcy5oYW1tZXIgPSBudWxsOwoKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLml0ZW1zRGF0YSA9IG51bGw7IC8vIERhdGFTZXQKICAgIHRoaXMuZ3JvdXBzRGF0YSA9IG51bGw7IC8vIERhdGFTZXQKCiAgICAvLyBsaXN0ZW5lcnMgZm9yIHRoZSBEYXRhU2V0IG9mIHRoZSBpdGVtcwogICAgdGhpcy5pdGVtTGlzdGVuZXJzID0gewogICAgICAnYWRkJzogZnVuY3Rpb24gYWRkKGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkKSB7CiAgICAgICAgbWUuX29uQWRkKHBhcmFtcy5pdGVtcyk7CiAgICAgIH0sCiAgICAgICd1cGRhdGUnOiBmdW5jdGlvbiB1cGRhdGUoZXZlbnQsIHBhcmFtcywgc2VuZGVySWQpIHsKICAgICAgICBtZS5fb25VcGRhdGUocGFyYW1zLml0ZW1zKTsKICAgICAgfSwKICAgICAgJ3JlbW92ZSc6IGZ1bmN0aW9uIHJlbW92ZShldmVudCwgcGFyYW1zLCBzZW5kZXJJZCkgewogICAgICAgIG1lLl9vblJlbW92ZShwYXJhbXMuaXRlbXMpOwogICAgICB9CiAgICB9OwoKICAgIC8vIGxpc3RlbmVycyBmb3IgdGhlIERhdGFTZXQgb2YgdGhlIGdyb3VwcwogICAgdGhpcy5ncm91cExpc3RlbmVycyA9IHsKICAgICAgJ2FkZCc6IGZ1bmN0aW9uIGFkZChldmVudCwgcGFyYW1zLCBzZW5kZXJJZCkgewogICAgICAgIG1lLl9vbkFkZEdyb3VwcyhwYXJhbXMuaXRlbXMpOwogICAgICB9LAogICAgICAndXBkYXRlJzogZnVuY3Rpb24gdXBkYXRlKGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkKSB7CiAgICAgICAgbWUuX29uVXBkYXRlR3JvdXBzKHBhcmFtcy5pdGVtcyk7CiAgICAgIH0sCiAgICAgICdyZW1vdmUnOiBmdW5jdGlvbiByZW1vdmUoZXZlbnQsIHBhcmFtcywgc2VuZGVySWQpIHsKICAgICAgICBtZS5fb25SZW1vdmVHcm91cHMocGFyYW1zLml0ZW1zKTsKICAgICAgfQogICAgfTsKCiAgICB0aGlzLml0ZW1zID0ge307IC8vIG9iamVjdCB3aXRoIGFuIEl0ZW0gZm9yIGV2ZXJ5IGRhdGEgaXRlbQogICAgdGhpcy5ncm91cHMgPSB7fTsgLy8gR3JvdXAgb2JqZWN0IGZvciBldmVyeSBncm91cAogICAgdGhpcy5ncm91cElkcyA9IFtdOwoKICAgIHRoaXMuc2VsZWN0aW9uID0gW107IC8vIGxpc3Qgd2l0aCB0aGUgaWRzIG9mIGFsbCBzZWxlY3RlZCBub2RlcwogICAgdGhpcy5zdGFja0RpcnR5ID0gdHJ1ZTsgLy8gaWYgdHJ1ZSwgYWxsIGl0ZW1zIHdpbGwgYmUgcmVzdGFja2VkIG9uIG5leHQgcmVkcmF3CgogICAgdGhpcy50b3VjaFBhcmFtcyA9IHt9OyAvLyBzdG9yZXMgcHJvcGVydGllcyB3aGlsZSBkcmFnZ2luZwogICAgLy8gY3JlYXRlIHRoZSBIVE1MIERPTQoKICAgIHRoaXMuX2NyZWF0ZSgpOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICB9CgogIEl0ZW1TZXQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpOwoKICAvLyBhdmFpbGFibGUgaXRlbSB0eXBlcyB3aWxsIGJlIHJlZ2lzdGVyZWQgaGVyZQogIEl0ZW1TZXQudHlwZXMgPSB7CiAgICBiYWNrZ3JvdW5kOiBCYWNrZ3JvdW5kSXRlbSwKICAgIGJveDogQm94SXRlbSwKICAgIHJhbmdlOiBSYW5nZUl0ZW0sCiAgICBwb2ludDogUG9pbnRJdGVtCiAgfTsKCiAgLyoqCiAgICogQ3JlYXRlIHRoZSBIVE1MIERPTSBmb3IgdGhlIEl0ZW1TZXQKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBmcmFtZS5jbGFzc05hbWUgPSAndmlzLWl0ZW1zZXQnOwogICAgZnJhbWVbJ3RpbWVsaW5lLWl0ZW1zZXQnXSA9IHRoaXM7CiAgICB0aGlzLmRvbS5mcmFtZSA9IGZyYW1lOwoKICAgIC8vIGNyZWF0ZSBiYWNrZ3JvdW5kIHBhbmVsCiAgICB2YXIgYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgYmFja2dyb3VuZC5jbGFzc05hbWUgPSAndmlzLWJhY2tncm91bmQnOwogICAgZnJhbWUuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZCk7CiAgICB0aGlzLmRvbS5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZDsKCiAgICAvLyBjcmVhdGUgZm9yZWdyb3VuZCBwYW5lbAogICAgdmFyIGZvcmVncm91bmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGZvcmVncm91bmQuY2xhc3NOYW1lID0gJ3Zpcy1mb3JlZ3JvdW5kJzsKICAgIGZyYW1lLmFwcGVuZENoaWxkKGZvcmVncm91bmQpOwogICAgdGhpcy5kb20uZm9yZWdyb3VuZCA9IGZvcmVncm91bmQ7CgogICAgLy8gY3JlYXRlIGF4aXMgcGFuZWwKICAgIHZhciBheGlzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBheGlzLmNsYXNzTmFtZSA9ICd2aXMtYXhpcyc7CiAgICB0aGlzLmRvbS5heGlzID0gYXhpczsKCiAgICAvLyBjcmVhdGUgbGFiZWxzZXQKICAgIHZhciBsYWJlbFNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgbGFiZWxTZXQuY2xhc3NOYW1lID0gJ3Zpcy1sYWJlbHNldCc7CiAgICB0aGlzLmRvbS5sYWJlbFNldCA9IGxhYmVsU2V0OwoKICAgIC8vIGNyZWF0ZSB1bmdyb3VwZWQgR3JvdXAKICAgIHRoaXMuX3VwZGF0ZVVuZ3JvdXBlZCgpOwoKICAgIC8vIGNyZWF0ZSBiYWNrZ3JvdW5kIEdyb3VwCiAgICB2YXIgYmFja2dyb3VuZEdyb3VwID0gbmV3IEJhY2tncm91bmRHcm91cChCQUNLR1JPVU5ELCBudWxsLCB0aGlzKTsKICAgIGJhY2tncm91bmRHcm91cC5zaG93KCk7CiAgICB0aGlzLmdyb3Vwc1tCQUNLR1JPVU5EXSA9IGJhY2tncm91bmRHcm91cDsKCiAgICAvLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzCiAgICAvLyBOb3RlOiB3ZSBiaW5kIHRvIHRoZSBjZW50ZXJDb250YWluZXIgZm9yIHRoZSBjYXNlIHdoZXJlIHRoZSBoZWlnaHQKICAgIC8vICAgICAgIG9mIHRoZSBjZW50ZXIgY29udGFpbmVyIGlzIGxhcmdlciB0aGFuIG9mIHRoZSBJdGVtU2V0LCBzbyB3ZQogICAgLy8gICAgICAgY2FuIGNsaWNrIGluIHRoZSBlbXB0eSBhcmVhIHRvIGNyZWF0ZSBhIG5ldyBpdGVtIG9yIGRlc2VsZWN0IGFuIGl0ZW0uCiAgICB0aGlzLmhhbW1lciA9IG5ldyBIYW1tZXIodGhpcy5ib2R5LmRvbS5jZW50ZXJDb250YWluZXIpOwoKICAgIC8vIGRyYWcgaXRlbXMgd2hlbiBzZWxlY3RlZAogICAgdGhpcy5oYW1tZXIub24oJ2hhbW1lci5pbnB1dCcsIChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHsKICAgICAgICB0aGlzLl9vblRvdWNoKGV2ZW50KTsKICAgICAgfQogICAgfSkuYmluZCh0aGlzKSk7CiAgICB0aGlzLmhhbW1lci5vbigncGFuc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydC5iaW5kKHRoaXMpKTsKICAgIHRoaXMuaGFtbWVyLm9uKCdwYW5tb3ZlJywgdGhpcy5fb25EcmFnLmJpbmQodGhpcykpOwogICAgdGhpcy5oYW1tZXIub24oJ3BhbmVuZCcsIHRoaXMuX29uRHJhZ0VuZC5iaW5kKHRoaXMpKTsKCiAgICAvLyBzaW5nbGUgc2VsZWN0IChvciB1bnNlbGVjdCkgd2hlbiB0YXBwaW5nIGFuIGl0ZW0KICAgIHRoaXMuaGFtbWVyLm9uKCd0YXAnLCB0aGlzLl9vblNlbGVjdEl0ZW0uYmluZCh0aGlzKSk7CgogICAgLy8gbXVsdGkgc2VsZWN0IHdoZW4gaG9sZGluZyBtb3VzZS90b3VjaCwgb3Igb24gY3RybCtjbGljawogICAgdGhpcy5oYW1tZXIub24oJ3ByZXNzJywgdGhpcy5fb25NdWx0aVNlbGVjdEl0ZW0uYmluZCh0aGlzKSk7CgogICAgLy8gYWRkIGl0ZW0gb24gZG91YmxldGFwCiAgICB0aGlzLmhhbW1lci5vbignZG91YmxldGFwJywgdGhpcy5fb25BZGRJdGVtLmJpbmQodGhpcykpOwoKICAgIC8vIGF0dGFjaCB0byB0aGUgRE9NCiAgICB0aGlzLnNob3coKTsKICB9OwoKICAvKioKICAgKiBTZXQgb3B0aW9ucyBmb3IgdGhlIEl0ZW1TZXQuIEV4aXN0aW5nIG9wdGlvbnMgd2lsbCBiZSBleHRlbmRlZC9vdmVyd3JpdHRlbi4KICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBmb2xsb3dpbmcgb3B0aW9ucyBhcmUgYXZhaWxhYmxlOgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZ30gdHlwZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB0eXBlIGZvciB0aGUgaXRlbXMuIENob29zZSBmcm9tICdib3gnCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGVmYXVsdCksICdwb2ludCcsICdyYW5nZScsIG9yICdiYWNrZ3JvdW5kJy4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBkZWZhdWx0IHN0eWxlIGNhbiBiZSBvdmVyd3JpdHRlbiBieQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kaXZpZHVhbCBpdGVtcy4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmd9IGFsaWduCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGlnbm1lbnQgZm9yIHRoZSBpdGVtcywgb25seSBhcHBsaWNhYmxlIGZvcgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQm94SXRlbS4gQ2hvb3NlICdjZW50ZXInIChkZWZhdWx0KSwgJ2xlZnQnLCBvcgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JpZ2h0Jy4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmd9IG9yaWVudGF0aW9uLml0ZW0KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9yaWVudGF0aW9uIG9mIHRoZSBpdGVtIHNldC4gQ2hvb3NlICd0b3AnIG9yCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm90dG9tJyAoZGVmYXVsdCkuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7RnVuY3Rpb259IGdyb3VwT3JkZXIKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc29ydGluZyBmdW5jdGlvbiBmb3Igb3JkZXJpbmcgZ3JvdXBzCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7Qm9vbGVhbn0gc3RhY2sKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUgKGRlZmF1bHQpLCBpdGVtcyB3aWxsIGJlIHN0YWNrZWQgb24KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcCBvZiBlYWNoIG90aGVyLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge051bWJlcn0gbWFyZ2luLmF4aXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcmdpbiBiZXR3ZWVuIHRoZSBheGlzIGFuZCB0aGUgaXRlbXMgaW4gcGl4ZWxzLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBpcyAyMC4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXJ9IG1hcmdpbi5pdGVtLmhvcml6b250YWwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhvcml6b250YWwgbWFyZ2luIGJldHdlZW4gaXRlbXMgaW4gcGl4ZWxzLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBpcyAxMC4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXJ9IG1hcmdpbi5pdGVtLnZlcnRpY2FsCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZXJ0aWNhbCBNYXJnaW4gYmV0d2VlbiBpdGVtcyBpbiBwaXhlbHMuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IGlzIDEwLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge051bWJlcn0gbWFyZ2luLml0ZW0KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcmdpbiBiZXR3ZWVuIGl0ZW1zIGluIHBpeGVscyBpbiBib3RoIGhvcml6b250YWwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCB2ZXJ0aWNhbCBkaXJlY3Rpb24uIERlZmF1bHQgaXMgMTAuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7TnVtYmVyfSBtYXJnaW4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldCBtYXJnaW4gZm9yIGJvdGggYXhpcyBhbmQgaXRlbXMgaW4gcGl4ZWxzLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge0Jvb2xlYW59IHNlbGVjdGFibGUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUgKGRlZmF1bHQpLCBpdGVtcyBjYW4gYmUgc2VsZWN0ZWQuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7Qm9vbGVhbn0gbXVsdGlzZWxlY3QKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUsIG11bHRpcGxlIGl0ZW1zIGNhbiBiZSBzZWxlY3RlZC4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZhbHNlIGJ5IGRlZmF1bHQuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7Qm9vbGVhbn0gZWRpdGFibGUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldCBhbGwgZWRpdGFibGUgb3B0aW9ucyB0byB0cnVlIG9yIGZhbHNlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7Qm9vbGVhbn0gZWRpdGFibGUudXBkYXRlVGltZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsb3cgZHJhZ2dpbmcgYW4gaXRlbSB0byBhbiBvdGhlciBtb21lbnQgaW4gdGltZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge0Jvb2xlYW59IGVkaXRhYmxlLnVwZGF0ZUdyb3VwCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxvdyBkcmFnZ2luZyBhbiBpdGVtIHRvIGFuIG90aGVyIGdyb3VwCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7Qm9vbGVhbn0gZWRpdGFibGUuYWRkCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxvdyBjcmVhdGluZyBuZXcgaXRlbXMgb24gZG91YmxlIHRhcAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAge0Jvb2xlYW59IGVkaXRhYmxlLnJlbW92ZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsb3cgcmVtb3ZpbmcgaXRlbXMgYnkgY2xpY2tpbmcgdGhlIGRlbGV0ZSBidXR0b24KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcCByaWdodCBvZiBhIHNlbGVjdGVkIGl0ZW0uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7RnVuY3Rpb24oaXRlbTogSXRlbSwgY2FsbGJhY2s6IEZ1bmN0aW9uKX0gb25BZGQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbGxiYWNrIGZ1bmN0aW9uIHRyaWdnZXJlZCB3aGVuIGFuIGl0ZW0gaXMgYWJvdXQgdG8gYmUgYWRkZWQ6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHRoZSB1c2VyIGRvdWJsZSB0YXBzIGFuIGVtcHR5IHNwYWNlIGluIHRoZSBUaW1lbGluZS4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtGdW5jdGlvbihpdGVtOiBJdGVtLCBjYWxsYmFjazogRnVuY3Rpb24pfSBvblVwZGF0ZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiBhbiBpdGVtIGlzIGFib3V0IHRvIGJlIHVwZGF0ZWQuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGZ1bmN0aW9uIHR5cGljYWxseSBoYXMgdG8gc2hvdyBhIGRpYWxvZyB3aGVyZSB0aGUgdXNlcgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlIHRoZSBpdGVtLiBJZiBub3QgaW1wbGVtZW50ZWQsIG5vdGhpbmcgaGFwcGVucy4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtGdW5jdGlvbihpdGVtOiBJdGVtLCBjYWxsYmFjazogRnVuY3Rpb24pfSBvbk1vdmUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpcmVkIHdoZW4gYW4gaXRlbSBoYXMgYmVlbiBtb3ZlZC4gSWYgbm90IGltcGxlbWVudGVkLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1vdmUgYWN0aW9uIHdpbGwgYmUgYWNjZXB0ZWQuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB7RnVuY3Rpb24oaXRlbTogSXRlbSwgY2FsbGJhY2s6IEZ1bmN0aW9uKX0gb25SZW1vdmUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpcmVkIHdoZW4gYW4gaXRlbSBpcyBhYm91dCB0byBiZSBkZWxldGVkLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IGltcGxlbWVudGVkLCB0aGUgaXRlbSB3aWxsIGJlIGFsd2F5cyByZW1vdmVkLgogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgaWYgKG9wdGlvbnMpIHsKICAgICAgLy8gY29weSBhbGwgb3B0aW9ucyB0aGF0IHdlIGtub3cKICAgICAgdmFyIGZpZWxkcyA9IFsndHlwZScsICdhbGlnbicsICdvcmRlcicsICdzdGFjaycsICdzZWxlY3RhYmxlJywgJ211bHRpc2VsZWN0JywgJ2dyb3VwT3JkZXInLCAnZGF0YUF0dHJpYnV0ZXMnLCAndGVtcGxhdGUnLCAnaGlkZScsICdzbmFwJ107CiAgICAgIHV0aWwuc2VsZWN0aXZlRXh0ZW5kKGZpZWxkcywgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKCiAgICAgIGlmICgnb3JpZW50YXRpb24nIGluIG9wdGlvbnMpIHsKICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMub3JpZW50YXRpb24gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uaXRlbSA9IG9wdGlvbnMub3JpZW50YXRpb24gPT09ICd0b3AnID8gJ3RvcCcgOiAnYm90dG9tJzsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLm9yaWVudGF0aW9uID09PSAnb2JqZWN0JyAmJiAnaXRlbScgaW4gb3B0aW9ucy5vcmllbnRhdGlvbikgewogICAgICAgICAgdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLml0ZW0gPSBvcHRpb25zLm9yaWVudGF0aW9uLml0ZW07CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoJ21hcmdpbicgaW4gb3B0aW9ucykgewogICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5tYXJnaW4gPT09ICdudW1iZXInKSB7CiAgICAgICAgICB0aGlzLm9wdGlvbnMubWFyZ2luLmF4aXMgPSBvcHRpb25zLm1hcmdpbjsKICAgICAgICAgIHRoaXMub3B0aW9ucy5tYXJnaW4uaXRlbS5ob3Jpem9udGFsID0gb3B0aW9ucy5tYXJnaW47CiAgICAgICAgICB0aGlzLm9wdGlvbnMubWFyZ2luLml0ZW0udmVydGljYWwgPSBvcHRpb25zLm1hcmdpbjsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLm1hcmdpbiA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgIHV0aWwuc2VsZWN0aXZlRXh0ZW5kKFsnYXhpcyddLCB0aGlzLm9wdGlvbnMubWFyZ2luLCBvcHRpb25zLm1hcmdpbik7CiAgICAgICAgICBpZiAoJ2l0ZW0nIGluIG9wdGlvbnMubWFyZ2luKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5tYXJnaW4uaXRlbSA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMubWFyZ2luLml0ZW0uaG9yaXpvbnRhbCA9IG9wdGlvbnMubWFyZ2luLml0ZW07CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1hcmdpbi5pdGVtLnZlcnRpY2FsID0gb3B0aW9ucy5tYXJnaW4uaXRlbTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5tYXJnaW4uaXRlbSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICB1dGlsLnNlbGVjdGl2ZUV4dGVuZChbJ2hvcml6b250YWwnLCAndmVydGljYWwnXSwgdGhpcy5vcHRpb25zLm1hcmdpbi5pdGVtLCBvcHRpb25zLm1hcmdpbi5pdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKCdlZGl0YWJsZScgaW4gb3B0aW9ucykgewogICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5lZGl0YWJsZSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRpdGFibGUudXBkYXRlVGltZSA9IG9wdGlvbnMuZWRpdGFibGU7CiAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRpdGFibGUudXBkYXRlR3JvdXAgPSBvcHRpb25zLmVkaXRhYmxlOwogICAgICAgICAgdGhpcy5vcHRpb25zLmVkaXRhYmxlLmFkZCA9IG9wdGlvbnMuZWRpdGFibGU7CiAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRpdGFibGUucmVtb3ZlID0gb3B0aW9ucy5lZGl0YWJsZTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmVkaXRhYmxlID09PSAnb2JqZWN0JykgewogICAgICAgICAgdXRpbC5zZWxlY3RpdmVFeHRlbmQoWyd1cGRhdGVUaW1lJywgJ3VwZGF0ZUdyb3VwJywgJ2FkZCcsICdyZW1vdmUnXSwgdGhpcy5vcHRpb25zLmVkaXRhYmxlLCBvcHRpb25zLmVkaXRhYmxlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9ucwogICAgICB2YXIgYWRkQ2FsbGJhY2sgPSAoZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICB2YXIgZm4gPSBvcHRpb25zW25hbWVdOwogICAgICAgIGlmIChmbikgewogICAgICAgICAgaWYgKCEoZm4gaW5zdGFuY2VvZiBGdW5jdGlvbikpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvcHRpb24gJyArIG5hbWUgKyAnIG11c3QgYmUgYSBmdW5jdGlvbiAnICsgbmFtZSArICcoaXRlbSwgY2FsbGJhY2spJyk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm9wdGlvbnNbbmFtZV0gPSBmbjsKICAgICAgICB9CiAgICAgIH0pLmJpbmQodGhpcyk7CiAgICAgIFsnb25BZGQnLCAnb25VcGRhdGUnLCAnb25SZW1vdmUnLCAnb25Nb3ZlJywgJ29uTW92aW5nJ10uZm9yRWFjaChhZGRDYWxsYmFjayk7CgogICAgICAvLyBmb3JjZSB0aGUgaXRlbVNldCB0byByZWZyZXNoOiBvcHRpb25zIGxpa2Ugb3JpZW50YXRpb24gYW5kIG1hcmdpbnMgbWF5IGJlIGNoYW5nZWQKICAgICAgdGhpcy5tYXJrRGlydHkoKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBNYXJrIHRoZSBJdGVtU2V0IGRpcnR5IHNvIGl0IHdpbGwgcmVmcmVzaCBldmVyeXRoaW5nIHdpdGggbmV4dCByZWRyYXcuCiAgICogT3B0aW9uYWxseSwgYWxsIGl0ZW1zIGNhbiBiZSBtYXJrZWQgYXMgZGlydHkgYW5kIGJlIHJlZnJlc2hlZC4KICAgKiBAcGFyYW0ge3tyZWZyZXNoSXRlbXM6IGJvb2xlYW59fSBbb3B0aW9uc10KICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5tYXJrRGlydHkgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgdGhpcy5ncm91cElkcyA9IFtdOwogICAgdGhpcy5zdGFja0RpcnR5ID0gdHJ1ZTsKCiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlZnJlc2hJdGVtcykgewogICAgICB1dGlsLmZvckVhY2godGhpcy5pdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLmRpcnR5ID0gdHJ1ZTsKICAgICAgICBpZiAoaXRlbS5kaXNwbGF5ZWQpIGl0ZW0ucmVkcmF3KCk7CiAgICAgIH0pOwogICAgfQogIH07CgogIC8qKgogICAqIERlc3Ryb3kgdGhlIEl0ZW1TZXQKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5oaWRlKCk7CiAgICB0aGlzLnNldEl0ZW1zKG51bGwpOwogICAgdGhpcy5zZXRHcm91cHMobnVsbCk7CgogICAgdGhpcy5oYW1tZXIgPSBudWxsOwoKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgICB0aGlzLmNvbnZlcnNpb24gPSBudWxsOwogIH07CgogIC8qKgogICAqIEhpZGUgdGhlIGNvbXBvbmVudCBmcm9tIHRoZSBET00KICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkgewogICAgLy8gcmVtb3ZlIHRoZSBmcmFtZSBjb250YWluaW5nIHRoZSBpdGVtcwogICAgaWYgKHRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5kb20uZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5mcmFtZSk7CiAgICB9CgogICAgLy8gcmVtb3ZlIHRoZSBheGlzIHdpdGggZG90cwogICAgaWYgKHRoaXMuZG9tLmF4aXMucGFyZW50Tm9kZSkgewogICAgICB0aGlzLmRvbS5heGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20uYXhpcyk7CiAgICB9CgogICAgLy8gcmVtb3ZlIHRoZSBsYWJlbHNldCBjb250YWluaW5nIGFsbCBncm91cCBsYWJlbHMKICAgIGlmICh0aGlzLmRvbS5sYWJlbFNldC5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuZG9tLmxhYmVsU2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20ubGFiZWxTZXQpOwogICAgfQogIH07CgogIC8qKgogICAqIFNob3cgdGhlIGNvbXBvbmVudCBpbiB0aGUgRE9NICh3aGVuIG5vdCBhbHJlYWR5IHZpc2libGUpLgogICAqIEByZXR1cm4ge0Jvb2xlYW59IGNoYW5nZWQKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkgewogICAgLy8gc2hvdyBmcmFtZSBjb250YWluaW5nIHRoZSBpdGVtcwogICAgaWYgKCF0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuYm9keS5kb20uY2VudGVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLmZyYW1lKTsKICAgIH0KCiAgICAvLyBzaG93IGF4aXMgd2l0aCBkb3RzCiAgICBpZiAoIXRoaXMuZG9tLmF4aXMucGFyZW50Tm9kZSkgewogICAgICB0aGlzLmJvZHkuZG9tLmJhY2tncm91bmRWZXJ0aWNhbC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5heGlzKTsKICAgIH0KCiAgICAvLyBzaG93IGxhYmVsc2V0IGNvbnRhaW5pbmcgbGFiZWxzCiAgICBpZiAoIXRoaXMuZG9tLmxhYmVsU2V0LnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5ib2R5LmRvbS5sZWZ0LmFwcGVuZENoaWxkKHRoaXMuZG9tLmxhYmVsU2V0KTsKICAgIH0KICB9OwoKICAvKioKICAgKiBTZXQgc2VsZWN0ZWQgaXRlbXMgYnkgdGhlaXIgaWQuIFJlcGxhY2VzIHRoZSBjdXJyZW50IHNlbGVjdGlvbgogICAqIFVua25vd24gaWQncyBhcmUgc2lsZW50bHkgaWdub3JlZC4KICAgKiBAcGFyYW0ge3N0cmluZ1tdIHwgc3RyaW5nfSBbaWRzXSBBbiBhcnJheSB3aXRoIHplcm8gb3IgbW9yZSBpZCdzIG9mIHRoZSBpdGVtcyB0byBiZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLCBvciBhIHNpbmdsZSBpdGVtIGlkLiBJZiBpZHMgaXMgdW5kZWZpbmVkCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYW4gZW1wdHkgYXJyYXksIGFsbCBpdGVtcyB3aWxsIGJlIHVuc2VsZWN0ZWQuCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuc2V0U2VsZWN0aW9uID0gZnVuY3Rpb24gKGlkcykgewogICAgdmFyIGksIGlpLCBpZCwgaXRlbTsKCiAgICBpZiAoaWRzID09IHVuZGVmaW5lZCkgaWRzID0gW107CiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaWRzKSkgaWRzID0gW2lkc107CgogICAgLy8gdW5zZWxlY3QgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW1zCiAgICBmb3IgKGkgPSAwLCBpaSA9IHRoaXMuc2VsZWN0aW9uLmxlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgaWQgPSB0aGlzLnNlbGVjdGlvbltpXTsKICAgICAgaXRlbSA9IHRoaXMuaXRlbXNbaWRdOwogICAgICBpZiAoaXRlbSkgaXRlbS51bnNlbGVjdCgpOwogICAgfQoKICAgIC8vIHNlbGVjdCBpdGVtcwogICAgdGhpcy5zZWxlY3Rpb24gPSBbXTsKICAgIGZvciAoaSA9IDAsIGlpID0gaWRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgaWQgPSBpZHNbaV07CiAgICAgIGl0ZW0gPSB0aGlzLml0ZW1zW2lkXTsKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKGlkKTsKICAgICAgICBpdGVtLnNlbGVjdCgpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogR2V0IHRoZSBzZWxlY3RlZCBpdGVtcyBieSB0aGVpciBpZAogICAqIEByZXR1cm4ge0FycmF5fSBpZHMgIFRoZSBpZHMgb2YgdGhlIHNlbGVjdGVkIGl0ZW1zCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uLmNvbmNhdChbXSk7CiAgfTsKCiAgLyoqCiAgICogR2V0IHRoZSBpZCdzIG9mIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBpdGVtcy4KICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBpZHMgb2YgdGhlIHZpc2libGUgaXRlbXMKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5nZXRWaXNpYmxlSXRlbXMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcmFuZ2UgPSB0aGlzLmJvZHkucmFuZ2UuZ2V0UmFuZ2UoKTsKICAgIHZhciBsZWZ0ID0gdGhpcy5ib2R5LnV0aWwudG9TY3JlZW4ocmFuZ2Uuc3RhcnQpOwogICAgdmFyIHJpZ2h0ID0gdGhpcy5ib2R5LnV0aWwudG9TY3JlZW4ocmFuZ2UuZW5kKTsKCiAgICB2YXIgaWRzID0gW107CiAgICBmb3IgKHZhciBncm91cElkIGluIHRoaXMuZ3JvdXBzKSB7CiAgICAgIGlmICh0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShncm91cElkKSkgewogICAgICAgIHZhciBncm91cCA9IHRoaXMuZ3JvdXBzW2dyb3VwSWRdOwogICAgICAgIHZhciByYXdWaXNpYmxlSXRlbXMgPSBncm91cC52aXNpYmxlSXRlbXM7CgogICAgICAgIC8vIGZpbHRlciB0aGUgInJhdyIgc2V0IHdpdGggdmlzaWJsZUl0ZW1zIGludG8gYSBzZXQgd2hpY2ggaXMgcmVhbGx5CiAgICAgICAgLy8gdmlzaWJsZSBieSBwaXhlbHMKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd1Zpc2libGVJdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGl0ZW0gPSByYXdWaXNpYmxlSXRlbXNbaV07CiAgICAgICAgICAvLyBUT0RPOiBhbHNvIGNoZWNrIHdoZXRoZXIgdmlzaWJsZSB2ZXJ0aWNhbGx5CiAgICAgICAgICBpZiAoaXRlbS5sZWZ0IDwgcmlnaHQgJiYgaXRlbS5sZWZ0ICsgaXRlbS53aWR0aCA+IGxlZnQpIHsKICAgICAgICAgICAgaWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGlkczsKICB9OwoKICAvKioKICAgKiBEZXNlbGVjdCBhIHNlbGVjdGVkIGl0ZW0KICAgKiBAcGFyYW0ge1N0cmluZyB8IE51bWJlcn0gaWQKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9kZXNlbGVjdCA9IGZ1bmN0aW9uIChpZCkgewogICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uOwogICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc2VsZWN0aW9uLmxlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgaWYgKHNlbGVjdGlvbltpXSA9PSBpZCkgewogICAgICAgIC8vIG5vbi1zdHJpY3QgY29tcGFyaXNvbiEKICAgICAgICBzZWxlY3Rpb24uc3BsaWNlKGksIDEpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgY29tcG9uZW50CiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgcmVzaXplZAogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBtYXJnaW4gPSB0aGlzLm9wdGlvbnMubWFyZ2luLAogICAgICAgIHJhbmdlID0gdGhpcy5ib2R5LnJhbmdlLAogICAgICAgIGFzU2l6ZSA9IHV0aWwub3B0aW9uLmFzU2l6ZSwKICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLAogICAgICAgIG9yaWVudGF0aW9uID0gb3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtLAogICAgICAgIHJlc2l6ZWQgPSBmYWxzZSwKICAgICAgICBmcmFtZSA9IHRoaXMuZG9tLmZyYW1lOwoKICAgIC8vIHJlY2FsY3VsYXRlIGFic29sdXRlIHBvc2l0aW9uIChiZWZvcmUgcmVkcmF3aW5nIGdyb3VwcykKICAgIHRoaXMucHJvcHMudG9wID0gdGhpcy5ib2R5LmRvbVByb3BzLnRvcC5oZWlnaHQgKyB0aGlzLmJvZHkuZG9tUHJvcHMuYm9yZGVyLnRvcDsKICAgIHRoaXMucHJvcHMubGVmdCA9IHRoaXMuYm9keS5kb21Qcm9wcy5sZWZ0LndpZHRoICsgdGhpcy5ib2R5LmRvbVByb3BzLmJvcmRlci5sZWZ0OwoKICAgIC8vIHVwZGF0ZSBjbGFzcyBuYW1lCiAgICBmcmFtZS5jbGFzc05hbWUgPSAndmlzLWl0ZW1zZXQnOwoKICAgIC8vIHJlb3JkZXIgdGhlIGdyb3VwcyAoaWYgbmVlZGVkKQogICAgcmVzaXplZCA9IHRoaXMuX29yZGVyR3JvdXBzKCkgfHwgcmVzaXplZDsKCiAgICAvLyBjaGVjayB3aGV0aGVyIHpvb21lZCAoaW4gdGhhdCBjYXNlIHdlIG5lZWQgdG8gcmUtc3RhY2sgZXZlcnl0aGluZykKICAgIC8vIFRPRE86IHdvdWxkIGJlIG5pY2VyIHRvIGdldCB0aGlzIGFzIGEgdHJpZ2dlciBmcm9tIFJhbmdlCiAgICB2YXIgdmlzaWJsZUludGVydmFsID0gcmFuZ2UuZW5kIC0gcmFuZ2Uuc3RhcnQ7CiAgICB2YXIgem9vbWVkID0gdmlzaWJsZUludGVydmFsICE9IHRoaXMubGFzdFZpc2libGVJbnRlcnZhbCB8fCB0aGlzLnByb3BzLndpZHRoICE9IHRoaXMucHJvcHMubGFzdFdpZHRoOwogICAgaWYgKHpvb21lZCkgdGhpcy5zdGFja0RpcnR5ID0gdHJ1ZTsKICAgIHRoaXMubGFzdFZpc2libGVJbnRlcnZhbCA9IHZpc2libGVJbnRlcnZhbDsKICAgIHRoaXMucHJvcHMubGFzdFdpZHRoID0gdGhpcy5wcm9wcy53aWR0aDsKCiAgICB2YXIgcmVzdGFjayA9IHRoaXMuc3RhY2tEaXJ0eTsKICAgIHZhciBmaXJzdEdyb3VwID0gdGhpcy5fZmlyc3RHcm91cCgpOwogICAgdmFyIGZpcnN0TWFyZ2luID0gewogICAgICBpdGVtOiBtYXJnaW4uaXRlbSwKICAgICAgYXhpczogbWFyZ2luLmF4aXMKICAgIH07CiAgICB2YXIgbm9uRmlyc3RNYXJnaW4gPSB7CiAgICAgIGl0ZW06IG1hcmdpbi5pdGVtLAogICAgICBheGlzOiBtYXJnaW4uaXRlbS52ZXJ0aWNhbCAvIDIKICAgIH07CiAgICB2YXIgaGVpZ2h0ID0gMDsKICAgIHZhciBtaW5IZWlnaHQgPSBtYXJnaW4uYXhpcyArIG1hcmdpbi5pdGVtLnZlcnRpY2FsOwoKICAgIC8vIHJlZHJhdyB0aGUgYmFja2dyb3VuZCBncm91cAogICAgdGhpcy5ncm91cHNbQkFDS0dST1VORF0ucmVkcmF3KHJhbmdlLCBub25GaXJzdE1hcmdpbiwgcmVzdGFjayk7CgogICAgLy8gcmVkcmF3IGFsbCByZWd1bGFyIGdyb3VwcwogICAgdXRpbC5mb3JFYWNoKHRoaXMuZ3JvdXBzLCBmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgdmFyIGdyb3VwTWFyZ2luID0gZ3JvdXAgPT0gZmlyc3RHcm91cCA/IGZpcnN0TWFyZ2luIDogbm9uRmlyc3RNYXJnaW47CiAgICAgIHZhciBncm91cFJlc2l6ZWQgPSBncm91cC5yZWRyYXcocmFuZ2UsIGdyb3VwTWFyZ2luLCByZXN0YWNrKTsKICAgICAgcmVzaXplZCA9IGdyb3VwUmVzaXplZCB8fCByZXNpemVkOwogICAgICBoZWlnaHQgKz0gZ3JvdXAuaGVpZ2h0OwogICAgfSk7CiAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIG1pbkhlaWdodCk7CiAgICB0aGlzLnN0YWNrRGlydHkgPSBmYWxzZTsKCiAgICAvLyB1cGRhdGUgZnJhbWUgaGVpZ2h0CiAgICBmcmFtZS5zdHlsZS5oZWlnaHQgPSBhc1NpemUoaGVpZ2h0KTsKCiAgICAvLyBjYWxjdWxhdGUgYWN0dWFsIHNpemUKICAgIHRoaXMucHJvcHMud2lkdGggPSBmcmFtZS5vZmZzZXRXaWR0aDsKICAgIHRoaXMucHJvcHMuaGVpZ2h0ID0gaGVpZ2h0OwoKICAgIC8vIHJlcG9zaXRpb24gYXhpcwogICAgdGhpcy5kb20uYXhpcy5zdHlsZS50b3AgPSBhc1NpemUob3JpZW50YXRpb24gPT0gJ3RvcCcgPyB0aGlzLmJvZHkuZG9tUHJvcHMudG9wLmhlaWdodCArIHRoaXMuYm9keS5kb21Qcm9wcy5ib3JkZXIudG9wIDogdGhpcy5ib2R5LmRvbVByb3BzLnRvcC5oZWlnaHQgKyB0aGlzLmJvZHkuZG9tUHJvcHMuY2VudGVyQ29udGFpbmVyLmhlaWdodCk7CiAgICB0aGlzLmRvbS5heGlzLnN0eWxlLmxlZnQgPSAnMCc7CgogICAgLy8gY2hlY2sgaWYgdGhpcyBjb21wb25lbnQgaXMgcmVzaXplZAogICAgcmVzaXplZCA9IHRoaXMuX2lzUmVzaXplZCgpIHx8IHJlc2l6ZWQ7CgogICAgcmV0dXJuIHJlc2l6ZWQ7CiAgfTsKCiAgLyoqCiAgICogR2V0IHRoZSBmaXJzdCBncm91cCwgYWxpZ25lZCB3aXRoIHRoZSBheGlzCiAgICogQHJldHVybiB7R3JvdXAgfCBudWxsfSBmaXJzdEdyb3VwCiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fZmlyc3RHcm91cCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBmaXJzdEdyb3VwSW5kZXggPSB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uaXRlbSA9PSAndG9wJyA/IDAgOiB0aGlzLmdyb3VwSWRzLmxlbmd0aCAtIDE7CiAgICB2YXIgZmlyc3RHcm91cElkID0gdGhpcy5ncm91cElkc1tmaXJzdEdyb3VwSW5kZXhdOwogICAgdmFyIGZpcnN0R3JvdXAgPSB0aGlzLmdyb3Vwc1tmaXJzdEdyb3VwSWRdIHx8IHRoaXMuZ3JvdXBzW1VOR1JPVVBFRF07CgogICAgcmV0dXJuIGZpcnN0R3JvdXAgfHwgbnVsbDsKICB9OwoKICAvKioKICAgKiBDcmVhdGUgb3IgZGVsZXRlIHRoZSBncm91cCBob2xkaW5nIGFsbCB1bmdyb3VwZWQgaXRlbXMuIFRoaXMgZ3JvdXAgaXMgdXNlZCB3aGVuCiAgICogdGhlcmUgYXJlIG5vIGdyb3VwcyBzcGVjaWZpZWQuCiAgICogQHByb3RlY3RlZAogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl91cGRhdGVVbmdyb3VwZWQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdW5ncm91cGVkID0gdGhpcy5ncm91cHNbVU5HUk9VUEVEXTsKICAgIHZhciBiYWNrZ3JvdW5kID0gdGhpcy5ncm91cHNbQkFDS0dST1VORF07CiAgICB2YXIgaXRlbSwgaXRlbUlkOwoKICAgIGlmICh0aGlzLmdyb3Vwc0RhdGEpIHsKICAgICAgLy8gcmVtb3ZlIHRoZSBncm91cCBob2xkaW5nIGFsbCB1bmdyb3VwZWQgaXRlbXMKICAgICAgaWYgKHVuZ3JvdXBlZCkgewogICAgICAgIHVuZ3JvdXBlZC5oaWRlKCk7CiAgICAgICAgZGVsZXRlIHRoaXMuZ3JvdXBzW1VOR1JPVVBFRF07CgogICAgICAgIGZvciAoaXRlbUlkIGluIHRoaXMuaXRlbXMpIHsKICAgICAgICAgIGlmICh0aGlzLml0ZW1zLmhhc093blByb3BlcnR5KGl0ZW1JZCkpIHsKICAgICAgICAgICAgaXRlbSA9IHRoaXMuaXRlbXNbaXRlbUlkXTsKICAgICAgICAgICAgaXRlbS5wYXJlbnQgJiYgaXRlbS5wYXJlbnQucmVtb3ZlKGl0ZW0pOwogICAgICAgICAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuX2dldEdyb3VwSWQoaXRlbS5kYXRhKTsKICAgICAgICAgICAgdmFyIGdyb3VwID0gdGhpcy5ncm91cHNbZ3JvdXBJZF07CiAgICAgICAgICAgIGdyb3VwICYmIGdyb3VwLmFkZChpdGVtKSB8fCBpdGVtLmhpZGUoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIGNyZWF0ZSBhIGdyb3VwIGhvbGRpbmcgYWxsICh1bmZpbHRlcmVkKSBpdGVtcwogICAgICBpZiAoIXVuZ3JvdXBlZCkgewogICAgICAgIHZhciBpZCA9IG51bGw7CiAgICAgICAgdmFyIGRhdGEgPSBudWxsOwogICAgICAgIHVuZ3JvdXBlZCA9IG5ldyBHcm91cChpZCwgZGF0YSwgdGhpcyk7CiAgICAgICAgdGhpcy5ncm91cHNbVU5HUk9VUEVEXSA9IHVuZ3JvdXBlZDsKCiAgICAgICAgZm9yIChpdGVtSWQgaW4gdGhpcy5pdGVtcykgewogICAgICAgICAgaWYgKHRoaXMuaXRlbXMuaGFzT3duUHJvcGVydHkoaXRlbUlkKSkgewogICAgICAgICAgICBpdGVtID0gdGhpcy5pdGVtc1tpdGVtSWRdOwogICAgICAgICAgICB1bmdyb3VwZWQuYWRkKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdW5ncm91cGVkLnNob3coKTsKICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIEdldCB0aGUgZWxlbWVudCBmb3IgdGhlIGxhYmVsc2V0CiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IGxhYmVsU2V0CiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuZ2V0TGFiZWxTZXQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5kb20ubGFiZWxTZXQ7CiAgfTsKCiAgLyoqCiAgICogU2V0IGl0ZW1zCiAgICogQHBhcmFtIHt2aXMuRGF0YVNldCB8IG51bGx9IGl0ZW1zCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuc2V0SXRlbXMgPSBmdW5jdGlvbiAoaXRlbXMpIHsKICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgaWRzLAogICAgICAgIG9sZEl0ZW1zRGF0YSA9IHRoaXMuaXRlbXNEYXRhOwoKICAgIC8vIHJlcGxhY2UgdGhlIGRhdGFzZXQKICAgIGlmICghaXRlbXMpIHsKICAgICAgdGhpcy5pdGVtc0RhdGEgPSBudWxsOwogICAgfSBlbHNlIGlmIChpdGVtcyBpbnN0YW5jZW9mIERhdGFTZXQgfHwgaXRlbXMgaW5zdGFuY2VvZiBEYXRhVmlldykgewogICAgICB0aGlzLml0ZW1zRGF0YSA9IGl0ZW1zOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIERhdGFTZXQgb3IgRGF0YVZpZXcnKTsKICAgIH0KCiAgICBpZiAob2xkSXRlbXNEYXRhKSB7CiAgICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gb2xkIGRhdGFzZXQKICAgICAgdXRpbC5mb3JFYWNoKHRoaXMuaXRlbUxpc3RlbmVycywgZnVuY3Rpb24gKGNhbGxiYWNrLCBldmVudCkgewogICAgICAgIG9sZEl0ZW1zRGF0YS5vZmYoZXZlbnQsIGNhbGxiYWNrKTsKICAgICAgfSk7CgogICAgICAvLyByZW1vdmUgYWxsIGRyYXduIGl0ZW1zCiAgICAgIGlkcyA9IG9sZEl0ZW1zRGF0YS5nZXRJZHMoKTsKICAgICAgdGhpcy5fb25SZW1vdmUoaWRzKTsKICAgIH0KCiAgICBpZiAodGhpcy5pdGVtc0RhdGEpIHsKICAgICAgLy8gc3Vic2NyaWJlIHRvIG5ldyBkYXRhc2V0CiAgICAgIHZhciBpZCA9IHRoaXMuaWQ7CiAgICAgIHV0aWwuZm9yRWFjaCh0aGlzLml0ZW1MaXN0ZW5lcnMsIGZ1bmN0aW9uIChjYWxsYmFjaywgZXZlbnQpIHsKICAgICAgICBtZS5pdGVtc0RhdGEub24oZXZlbnQsIGNhbGxiYWNrLCBpZCk7CiAgICAgIH0pOwoKICAgICAgLy8gYWRkIGFsbCBuZXcgaXRlbXMKICAgICAgaWRzID0gdGhpcy5pdGVtc0RhdGEuZ2V0SWRzKCk7CiAgICAgIHRoaXMuX29uQWRkKGlkcyk7CgogICAgICAvLyB1cGRhdGUgdGhlIGdyb3VwIGhvbGRpbmcgYWxsIHVuZ3JvdXBlZCBpdGVtcwogICAgICB0aGlzLl91cGRhdGVVbmdyb3VwZWQoKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBHZXQgdGhlIGN1cnJlbnQgaXRlbXMKICAgKiBAcmV0dXJucyB7dmlzLkRhdGFTZXQgfCBudWxsfQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuaXRlbXNEYXRhOwogIH07CgogIC8qKgogICAqIFNldCBncm91cHMKICAgKiBAcGFyYW0ge3Zpcy5EYXRhU2V0fSBncm91cHMKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5zZXRHcm91cHMgPSBmdW5jdGlvbiAoZ3JvdXBzKSB7CiAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgIGlkczsKCiAgICAvLyB1bnN1YnNjcmliZSBmcm9tIGN1cnJlbnQgZGF0YXNldAogICAgaWYgKHRoaXMuZ3JvdXBzRGF0YSkgewogICAgICB1dGlsLmZvckVhY2godGhpcy5ncm91cExpc3RlbmVycywgZnVuY3Rpb24gKGNhbGxiYWNrLCBldmVudCkgewogICAgICAgIG1lLmdyb3Vwc0RhdGEub2ZmKGV2ZW50LCBjYWxsYmFjayk7CiAgICAgIH0pOwoKICAgICAgLy8gcmVtb3ZlIGFsbCBkcmF3biBncm91cHMKICAgICAgaWRzID0gdGhpcy5ncm91cHNEYXRhLmdldElkcygpOwogICAgICB0aGlzLmdyb3Vwc0RhdGEgPSBudWxsOwogICAgICB0aGlzLl9vblJlbW92ZUdyb3VwcyhpZHMpOyAvLyBub3RlOiB0aGlzIHdpbGwgY2F1c2UgYSByZWRyYXcKICAgIH0KCiAgICAvLyByZXBsYWNlIHRoZSBkYXRhc2V0CiAgICBpZiAoIWdyb3VwcykgewogICAgICB0aGlzLmdyb3Vwc0RhdGEgPSBudWxsOwogICAgfSBlbHNlIGlmIChncm91cHMgaW5zdGFuY2VvZiBEYXRhU2V0IHx8IGdyb3VwcyBpbnN0YW5jZW9mIERhdGFWaWV3KSB7CiAgICAgIHRoaXMuZ3JvdXBzRGF0YSA9IGdyb3VwczsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0RhdGEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBEYXRhU2V0IG9yIERhdGFWaWV3Jyk7CiAgICB9CgogICAgaWYgKHRoaXMuZ3JvdXBzRGF0YSkgewogICAgICAvLyBzdWJzY3JpYmUgdG8gbmV3IGRhdGFzZXQKICAgICAgdmFyIGlkID0gdGhpcy5pZDsKICAgICAgdXRpbC5mb3JFYWNoKHRoaXMuZ3JvdXBMaXN0ZW5lcnMsIGZ1bmN0aW9uIChjYWxsYmFjaywgZXZlbnQpIHsKICAgICAgICBtZS5ncm91cHNEYXRhLm9uKGV2ZW50LCBjYWxsYmFjaywgaWQpOwogICAgICB9KTsKCiAgICAgIC8vIGRyYXcgYWxsIG1zCiAgICAgIGlkcyA9IHRoaXMuZ3JvdXBzRGF0YS5nZXRJZHMoKTsKICAgICAgdGhpcy5fb25BZGRHcm91cHMoaWRzKTsKICAgIH0KCiAgICAvLyB1cGRhdGUgdGhlIGdyb3VwIGhvbGRpbmcgYWxsIHVuZ3JvdXBlZCBpdGVtcwogICAgdGhpcy5fdXBkYXRlVW5ncm91cGVkKCk7CgogICAgLy8gdXBkYXRlIHRoZSBvcmRlciBvZiBhbGwgaXRlbXMgaW4gZWFjaCBncm91cAogICAgdGhpcy5fb3JkZXIoKTsKCiAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdjaGFuZ2UnLCB7IHF1ZXVlOiB0cnVlIH0pOwogIH07CgogIC8qKgogICAqIEdldCB0aGUgY3VycmVudCBncm91cHMKICAgKiBAcmV0dXJucyB7dmlzLkRhdGFTZXQgfCBudWxsfSBncm91cHMKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5nZXRHcm91cHMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5ncm91cHNEYXRhOwogIH07CgogIC8qKgogICAqIFJlbW92ZSBhbiBpdGVtIGJ5IGl0cyBpZAogICAqIEBwYXJhbSB7U3RyaW5nIHwgTnVtYmVyfSBpZAogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaWQpIHsKICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc0RhdGEuZ2V0KGlkKSwKICAgICAgICBkYXRhc2V0ID0gdGhpcy5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpOwoKICAgIGlmIChpdGVtKSB7CiAgICAgIC8vIGNvbmZpcm0gZGVsZXRpb24KICAgICAgdGhpcy5vcHRpb25zLm9uUmVtb3ZlKGl0ZW0sIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIC8vIHJlbW92ZSBieSBpZCBoZXJlLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGFuIGl0ZW0gaGFzIG5vIGlkIGRlZmluZWQKICAgICAgICAgIC8vIGl0c2VsZiwgc28gYmV0dGVyIG5vdCBkZWxldGUgYnkgdGhlIGl0ZW0gaXRzZWxmCiAgICAgICAgICBkYXRhc2V0LnJlbW92ZShpZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9OwoKICAvKioKICAgKiBHZXQgdGhlIHRpbWUgb2YgYW4gaXRlbSBiYXNlZCBvbiBpdCdzIGRhdGEgYW5kIG9wdGlvbnMudHlwZQogICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtRGF0YQogICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHR5cGUKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9nZXRUeXBlID0gZnVuY3Rpb24gKGl0ZW1EYXRhKSB7CiAgICByZXR1cm4gaXRlbURhdGEudHlwZSB8fCB0aGlzLm9wdGlvbnMudHlwZSB8fCAoaXRlbURhdGEuZW5kID8gJ3JhbmdlJyA6ICdib3gnKTsKICB9OwoKICAvKioKICAgKiBHZXQgdGhlIGdyb3VwIGlkIGZvciBhbiBpdGVtCiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1EYXRhCiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZ3JvdXBJZAogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX2dldEdyb3VwSWQgPSBmdW5jdGlvbiAoaXRlbURhdGEpIHsKICAgIHZhciB0eXBlID0gdGhpcy5fZ2V0VHlwZShpdGVtRGF0YSk7CiAgICBpZiAodHlwZSA9PSAnYmFja2dyb3VuZCcgJiYgaXRlbURhdGEuZ3JvdXAgPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBCQUNLR1JPVU5EOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBzRGF0YSA/IGl0ZW1EYXRhLmdyb3VwIDogVU5HUk9VUEVEOwogICAgfQogIH07CgogIC8qKgogICAqIEhhbmRsZSB1cGRhdGVkIGl0ZW1zCiAgICogQHBhcmFtIHtOdW1iZXJbXX0gaWRzCiAgICogQHByb3RlY3RlZAogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9vblVwZGF0ZSA9IGZ1bmN0aW9uIChpZHMpIHsKICAgIHZhciBtZSA9IHRoaXM7CgogICAgaWRzLmZvckVhY2goKGZ1bmN0aW9uIChpZCkgewogICAgICB2YXIgaXRlbURhdGEgPSBtZS5pdGVtc0RhdGEuZ2V0KGlkLCBtZS5pdGVtT3B0aW9ucyk7CiAgICAgIHZhciBpdGVtID0gbWUuaXRlbXNbaWRdOwogICAgICB2YXIgdHlwZSA9IG1lLl9nZXRUeXBlKGl0ZW1EYXRhKTsKCiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IEl0ZW1TZXQudHlwZXNbdHlwZV07CiAgICAgIHZhciBzZWxlY3RlZDsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgLy8gdXBkYXRlIGl0ZW0KICAgICAgICBpZiAoIWNvbnN0cnVjdG9yIHx8ICEoaXRlbSBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSkgewogICAgICAgICAgLy8gaXRlbSB0eXBlIGhhcyBjaGFuZ2VkLCBkZWxldGUgdGhlIGl0ZW0gYW5kIHJlY3JlYXRlIGl0CiAgICAgICAgICBzZWxlY3RlZCA9IGl0ZW0uc2VsZWN0ZWQ7IC8vIHByZXNlcnZlIHNlbGVjdGlvbiBvZiB0aGlzIGl0ZW0KICAgICAgICAgIG1lLl9yZW1vdmVJdGVtKGl0ZW0pOwogICAgICAgICAgaXRlbSA9IG51bGw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lLl91cGRhdGVJdGVtKGl0ZW0sIGl0ZW1EYXRhKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghaXRlbSkgewogICAgICAgIC8vIGNyZWF0ZSBpdGVtCiAgICAgICAgaWYgKGNvbnN0cnVjdG9yKSB7CiAgICAgICAgICBpdGVtID0gbmV3IGNvbnN0cnVjdG9yKGl0ZW1EYXRhLCBtZS5jb252ZXJzaW9uLCBtZS5vcHRpb25zKTsKICAgICAgICAgIGl0ZW0uaWQgPSBpZDsgLy8gVE9ETzogbm90IHNvIG5pY2Ugc2V0dGluZyBpZCBhZnRlcndhcmRzCiAgICAgICAgICBtZS5fYWRkSXRlbShpdGVtKTsKICAgICAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKGlkKTsKICAgICAgICAgICAgaXRlbS5zZWxlY3QoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3Jhbmdlb3ZlcmZsb3cnKSB7CiAgICAgICAgICAvLyBUT0RPOiBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMi4xLjAgKG9yIDMuMC4wPykuIGNsZWFudXAgc29tZSBkYXkKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0l0ZW0gdHlwZSAicmFuZ2VvdmVyZmxvdyIgaXMgZGVwcmVjYXRlZC4gVXNlIGNzcyBzdHlsaW5nIGluc3RlYWQ6ICcgKyAnLnZpcy1pdGVtLnZpcy1yYW5nZSAudmlzLWl0ZW0tY29udGVudCB7b3ZlcmZsb3c6IHZpc2libGU7fScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGl0ZW0gdHlwZSAiJyArIHR5cGUgKyAnIicpOwogICAgICAgIH0KICAgICAgfQogICAgfSkuYmluZCh0aGlzKSk7CgogICAgdGhpcy5fb3JkZXIoKTsKICAgIHRoaXMuc3RhY2tEaXJ0eSA9IHRydWU7IC8vIGZvcmNlIHJlLXN0YWNraW5nIG9mIGFsbCBpdGVtcyBuZXh0IHJlZHJhdwogICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnY2hhbmdlJywgeyBxdWV1ZTogdHJ1ZSB9KTsKICB9OwoKICAvKioKICAgKiBIYW5kbGUgYWRkZWQgaXRlbXMKICAgKiBAcGFyYW0ge051bWJlcltdfSBpZHMKICAgKiBAcHJvdGVjdGVkCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX29uQWRkID0gSXRlbVNldC5wcm90b3R5cGUuX29uVXBkYXRlOwoKICAvKioKICAgKiBIYW5kbGUgcmVtb3ZlZCBpdGVtcwogICAqIEBwYXJhbSB7TnVtYmVyW119IGlkcwogICAqIEBwcm90ZWN0ZWQKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fb25SZW1vdmUgPSBmdW5jdGlvbiAoaWRzKSB7CiAgICB2YXIgY291bnQgPSAwOwogICAgdmFyIG1lID0gdGhpczsKICAgIGlkcy5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgewogICAgICB2YXIgaXRlbSA9IG1lLml0ZW1zW2lkXTsKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICBjb3VudCsrOwogICAgICAgIG1lLl9yZW1vdmVJdGVtKGl0ZW0pOwogICAgICB9CiAgICB9KTsKCiAgICBpZiAoY291bnQpIHsKICAgICAgLy8gdXBkYXRlIG9yZGVyCiAgICAgIHRoaXMuX29yZGVyKCk7CiAgICAgIHRoaXMuc3RhY2tEaXJ0eSA9IHRydWU7IC8vIGZvcmNlIHJlLXN0YWNraW5nIG9mIGFsbCBpdGVtcyBuZXh0IHJlZHJhdwogICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdjaGFuZ2UnLCB7IHF1ZXVlOiB0cnVlIH0pOwogICAgfQogIH07CgogIC8qKgogICAqIFVwZGF0ZSB0aGUgb3JkZXIgb2YgaXRlbSBpbiBhbGwgZ3JvdXBzCiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fb3JkZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyByZW9yZGVyIHRoZSBpdGVtcyBpbiBhbGwgZ3JvdXBzCiAgICAvLyBUT0RPOiBvcHRpbWl6YXRpb246IG9ubHkgcmVvcmRlciBncm91cHMgYWZmZWN0ZWQgYnkgdGhlIGNoYW5nZWQgaXRlbXMKICAgIHV0aWwuZm9yRWFjaCh0aGlzLmdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgIGdyb3VwLm9yZGVyKCk7CiAgICB9KTsKICB9OwoKICAvKioKICAgKiBIYW5kbGUgdXBkYXRlZCBncm91cHMKICAgKiBAcGFyYW0ge051bWJlcltdfSBpZHMKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9vblVwZGF0ZUdyb3VwcyA9IGZ1bmN0aW9uIChpZHMpIHsKICAgIHRoaXMuX29uQWRkR3JvdXBzKGlkcyk7CiAgfTsKCiAgLyoqCiAgICogSGFuZGxlIGNoYW5nZWQgZ3JvdXBzIChhZGRlZCBvciB1cGRhdGVkKQogICAqIEBwYXJhbSB7TnVtYmVyW119IGlkcwogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX29uQWRkR3JvdXBzID0gZnVuY3Rpb24gKGlkcykgewogICAgdmFyIG1lID0gdGhpczsKCiAgICBpZHMuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsKICAgICAgdmFyIGdyb3VwRGF0YSA9IG1lLmdyb3Vwc0RhdGEuZ2V0KGlkKTsKICAgICAgdmFyIGdyb3VwID0gbWUuZ3JvdXBzW2lkXTsKCiAgICAgIGlmICghZ3JvdXApIHsKICAgICAgICAvLyBjaGVjayBmb3IgcmVzZXJ2ZWQgaWRzCiAgICAgICAgaWYgKGlkID09IFVOR1JPVVBFRCB8fCBpZCA9PSBCQUNLR1JPVU5EKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgZ3JvdXAgaWQuICcgKyBpZCArICcgaXMgYSByZXNlcnZlZCBpZC4nKTsKICAgICAgICB9CgogICAgICAgIHZhciBncm91cE9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG1lLm9wdGlvbnMpOwogICAgICAgIHV0aWwuZXh0ZW5kKGdyb3VwT3B0aW9ucywgewogICAgICAgICAgaGVpZ2h0OiBudWxsCiAgICAgICAgfSk7CgogICAgICAgIGdyb3VwID0gbmV3IEdyb3VwKGlkLCBncm91cERhdGEsIG1lKTsKICAgICAgICBtZS5ncm91cHNbaWRdID0gZ3JvdXA7CgogICAgICAgIC8vIGFkZCBpdGVtcyB3aXRoIHRoaXMgZ3JvdXBJZCB0byB0aGUgbmV3IGdyb3VwCiAgICAgICAgZm9yICh2YXIgaXRlbUlkIGluIG1lLml0ZW1zKSB7CiAgICAgICAgICBpZiAobWUuaXRlbXMuaGFzT3duUHJvcGVydHkoaXRlbUlkKSkgewogICAgICAgICAgICB2YXIgaXRlbSA9IG1lLml0ZW1zW2l0ZW1JZF07CiAgICAgICAgICAgIGlmIChpdGVtLmRhdGEuZ3JvdXAgPT0gaWQpIHsKICAgICAgICAgICAgICBncm91cC5hZGQoaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGdyb3VwLm9yZGVyKCk7CiAgICAgICAgZ3JvdXAuc2hvdygpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHVwZGF0ZSBncm91cAogICAgICAgIGdyb3VwLnNldERhdGEoZ3JvdXBEYXRhKTsKICAgICAgfQogICAgfSk7CgogICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnY2hhbmdlJywgeyBxdWV1ZTogdHJ1ZSB9KTsKICB9OwoKICAvKioKICAgKiBIYW5kbGUgcmVtb3ZlZCBncm91cHMKICAgKiBAcGFyYW0ge051bWJlcltdfSBpZHMKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9vblJlbW92ZUdyb3VwcyA9IGZ1bmN0aW9uIChpZHMpIHsKICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwczsKICAgIGlkcy5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgewogICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaWRdOwoKICAgICAgaWYgKGdyb3VwKSB7CiAgICAgICAgZ3JvdXAuaGlkZSgpOwogICAgICAgIGRlbGV0ZSBncm91cHNbaWRdOwogICAgICB9CiAgICB9KTsKCiAgICB0aGlzLm1hcmtEaXJ0eSgpOwoKICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2NoYW5nZScsIHsgcXVldWU6IHRydWUgfSk7CiAgfTsKCiAgLyoqCiAgICogUmVvcmRlciB0aGUgZ3JvdXBzIGlmIG5lZWRlZAogICAqIEByZXR1cm4ge2Jvb2xlYW59IGNoYW5nZWQKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9vcmRlckdyb3VwcyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmdyb3Vwc0RhdGEpIHsKICAgICAgLy8gcmVvcmRlciB0aGUgZ3JvdXBzCiAgICAgIHZhciBncm91cElkcyA9IHRoaXMuZ3JvdXBzRGF0YS5nZXRJZHMoewogICAgICAgIG9yZGVyOiB0aGlzLm9wdGlvbnMuZ3JvdXBPcmRlcgogICAgICB9KTsKCiAgICAgIHZhciBjaGFuZ2VkID0gIXV0aWwuZXF1YWxBcnJheShncm91cElkcywgdGhpcy5ncm91cElkcyk7CiAgICAgIGlmIChjaGFuZ2VkKSB7CiAgICAgICAgLy8gaGlkZSBhbGwgZ3JvdXBzLCByZW1vdmVzIHRoZW0gZnJvbSB0aGUgRE9NCiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzOwogICAgICAgIGdyb3VwSWRzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwSWQpIHsKICAgICAgICAgIGdyb3Vwc1tncm91cElkXS5oaWRlKCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIHNob3cgdGhlIGdyb3VwcyBhZ2FpbiwgYXR0YWNoIHRoZW0gdG8gdGhlIERPTSBpbiBjb3JyZWN0IG9yZGVyCiAgICAgICAgZ3JvdXBJZHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXBJZCkgewogICAgICAgICAgZ3JvdXBzW2dyb3VwSWRdLnNob3coKTsKICAgICAgICB9KTsKCiAgICAgICAgdGhpcy5ncm91cElkcyA9IGdyb3VwSWRzOwogICAgICB9CgogICAgICByZXR1cm4gY2hhbmdlZDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBBZGQgYSBuZXcgaXRlbQogICAqIEBwYXJhbSB7SXRlbX0gaXRlbQogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX2FkZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkgewogICAgdGhpcy5pdGVtc1tpdGVtLmlkXSA9IGl0ZW07CgogICAgLy8gYWRkIHRvIGdyb3VwCiAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuX2dldEdyb3VwSWQoaXRlbS5kYXRhKTsKICAgIHZhciBncm91cCA9IHRoaXMuZ3JvdXBzW2dyb3VwSWRdOwogICAgaWYgKGdyb3VwKSBncm91cC5hZGQoaXRlbSk7CiAgfTsKCiAgLyoqCiAgICogVXBkYXRlIGFuIGV4aXN0aW5nIGl0ZW0KICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW0KICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbURhdGEKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl91cGRhdGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0sIGl0ZW1EYXRhKSB7CiAgICB2YXIgb2xkR3JvdXBJZCA9IGl0ZW0uZGF0YS5ncm91cDsKICAgIHZhciBvbGRTdWJHcm91cElkID0gaXRlbS5kYXRhLnN1Ymdyb3VwOwoKICAgIC8vIHVwZGF0ZSB0aGUgaXRlbXMgZGF0YSAod2lsbCByZWRyYXcgdGhlIGl0ZW0gd2hlbiBkaXNwbGF5ZWQpCiAgICBpdGVtLnNldERhdGEoaXRlbURhdGEpOwoKICAgIC8vIHVwZGF0ZSBncm91cAogICAgaWYgKG9sZEdyb3VwSWQgIT0gaXRlbS5kYXRhLmdyb3VwIHx8IG9sZFN1Ykdyb3VwSWQgIT0gaXRlbS5kYXRhLnN1Ymdyb3VwKSB7CiAgICAgIHZhciBvbGRHcm91cCA9IHRoaXMuZ3JvdXBzW29sZEdyb3VwSWRdOwogICAgICBpZiAob2xkR3JvdXApIG9sZEdyb3VwLnJlbW92ZShpdGVtKTsKCiAgICAgIHZhciBncm91cElkID0gdGhpcy5fZ2V0R3JvdXBJZChpdGVtLmRhdGEpOwogICAgICB2YXIgZ3JvdXAgPSB0aGlzLmdyb3Vwc1tncm91cElkXTsKICAgICAgaWYgKGdyb3VwKSBncm91cC5hZGQoaXRlbSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogRGVsZXRlIGFuIGl0ZW0gZnJvbSB0aGUgSXRlbVNldDogcmVtb3ZlIGl0IGZyb20gdGhlIERPTSwgZnJvbSB0aGUgbWFwCiAgICogd2l0aCBpdGVtcywgYW5kIGZyb20gdGhlIG1hcCB3aXRoIHZpc2libGUgaXRlbXMsIGFuZCBmcm9tIHRoZSBzZWxlY3Rpb24KICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW0KICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgIC8vIHJlbW92ZSBmcm9tIERPTQogICAgaXRlbS5oaWRlKCk7CgogICAgLy8gcmVtb3ZlIGZyb20gaXRlbXMKICAgIGRlbGV0ZSB0aGlzLml0ZW1zW2l0ZW0uaWRdOwoKICAgIC8vIHJlbW92ZSBmcm9tIHNlbGVjdGlvbgogICAgdmFyIGluZGV4ID0gdGhpcy5zZWxlY3Rpb24uaW5kZXhPZihpdGVtLmlkKTsKICAgIGlmIChpbmRleCAhPSAtMSkgdGhpcy5zZWxlY3Rpb24uc3BsaWNlKGluZGV4LCAxKTsKCiAgICAvLyByZW1vdmUgZnJvbSBncm91cAogICAgaXRlbS5wYXJlbnQgJiYgaXRlbS5wYXJlbnQucmVtb3ZlKGl0ZW0pOwogIH07CgogIC8qKgogICAqIENyZWF0ZSBhbiBhcnJheSBjb250YWluaW5nIGFsbCBpdGVtcyBiZWluZyBhIHJhbmdlIChoYXZpbmcgYW4gZW5kIGRhdGUpCiAgICogQHBhcmFtIGFycmF5CiAgICogQHJldHVybnMge0FycmF5fQogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX2NvbnN0cnVjdEJ5RW5kQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHsKICAgIHZhciBlbmRBcnJheSA9IFtdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGFycmF5W2ldIGluc3RhbmNlb2YgUmFuZ2VJdGVtKSB7CiAgICAgICAgZW5kQXJyYXkucHVzaChhcnJheVtpXSk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbmRBcnJheTsKICB9OwoKICAvKioKICAgKiBSZWdpc3RlciB0aGUgY2xpY2tlZCBpdGVtIG9uIHRvdWNoLCBiZWZvcmUgZHJhZ1N0YXJ0IGlzIGluaXRpYXRlZC4KICAgKgogICAqIGRyYWdTdGFydCBpcyBpbml0aWF0ZWQgZnJvbSBhIG1vdXNlbW92ZSBldmVudCwgQUZURVIgdGhlIG1vdXNlL3RvdWNoIGlzCiAgICogYWxyZWFkeSBtb3ZpbmcuIFRoZXJlZm9yZSwgdGhlIG1vdXNlL3RvdWNoIGNhbiBzb21ldGltZXMgYmUgYWJvdmUgYW4gb3RoZXIKICAgKiBET00gZWxlbWVudCB0aGFuIHRoZSBpdGVtIGl0c2VsZi4KICAgKgogICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fb25Ub3VjaCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgLy8gc3RvcmUgdGhlIHRvdWNoZWQgaXRlbSwgdXNlZCBpbiBfb25EcmFnU3RhcnQKICAgIHRoaXMudG91Y2hQYXJhbXMuaXRlbSA9IHRoaXMuaXRlbUZyb21UYXJnZXQoZXZlbnQpOwogICAgdGhpcy50b3VjaFBhcmFtcy5kcmFnTGVmdEl0ZW0gPSBldmVudC50YXJnZXQuZHJhZ0xlZnRJdGVtIHx8IGZhbHNlOwogICAgdGhpcy50b3VjaFBhcmFtcy5kcmFnUmlnaHRJdGVtID0gZXZlbnQudGFyZ2V0LmRyYWdSaWdodEl0ZW0gfHwgZmFsc2U7CiAgICB0aGlzLnRvdWNoUGFyYW1zLml0ZW1Qcm9wcyA9IG51bGw7CiAgfTsKCiAgLyoqCiAgICogU3RhcnQgZHJhZ2dpbmcgdGhlIHNlbGVjdGVkIGV2ZW50cwogICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBpdGVtID0gdGhpcy50b3VjaFBhcmFtcy5pdGVtIHx8IG51bGw7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIHByb3BzOwoKICAgIGlmIChpdGVtICYmIGl0ZW0uc2VsZWN0ZWQpIHsKCiAgICAgIGlmICghdGhpcy5vcHRpb25zLmVkaXRhYmxlLnVwZGF0ZVRpbWUgJiYgIXRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVHcm91cCAmJiAhaXRlbS5lZGl0YWJsZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8gb3ZlcnJpZGUgb3B0aW9ucy5lZGl0YWJsZQogICAgICBpZiAoaXRlbS5lZGl0YWJsZSA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBkcmFnTGVmdEl0ZW0gPSB0aGlzLnRvdWNoUGFyYW1zLmRyYWdMZWZ0SXRlbTsKICAgICAgdmFyIGRyYWdSaWdodEl0ZW0gPSB0aGlzLnRvdWNoUGFyYW1zLmRyYWdSaWdodEl0ZW07CgogICAgICBpZiAoZHJhZ0xlZnRJdGVtKSB7CiAgICAgICAgcHJvcHMgPSB7CiAgICAgICAgICBpdGVtOiBkcmFnTGVmdEl0ZW0sCiAgICAgICAgICBpbml0aWFsWDogZXZlbnQuY2VudGVyLngsCiAgICAgICAgICBkcmFnTGVmdDogdHJ1ZSwKICAgICAgICAgIGRhdGE6IHV0aWwuZXh0ZW5kKHt9LCBpdGVtLmRhdGEpIC8vIGNsb25lIHRoZSBpdGVtcyBkYXRhCiAgICAgICAgfTsKCiAgICAgICAgdGhpcy50b3VjaFBhcmFtcy5pdGVtUHJvcHMgPSBbcHJvcHNdOwogICAgICB9IGVsc2UgaWYgKGRyYWdSaWdodEl0ZW0pIHsKICAgICAgICBwcm9wcyA9IHsKICAgICAgICAgIGl0ZW06IGRyYWdSaWdodEl0ZW0sCiAgICAgICAgICBpbml0aWFsWDogZXZlbnQuY2VudGVyLngsCiAgICAgICAgICBkcmFnUmlnaHQ6IHRydWUsCiAgICAgICAgICBkYXRhOiB1dGlsLmV4dGVuZCh7fSwgaXRlbS5kYXRhKSAvLyBjbG9uZSB0aGUgaXRlbXMgZGF0YQogICAgICAgIH07CgogICAgICAgIHRoaXMudG91Y2hQYXJhbXMuaXRlbVByb3BzID0gW3Byb3BzXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRvdWNoUGFyYW1zLml0ZW1Qcm9wcyA9IHRoaXMuZ2V0U2VsZWN0aW9uKCkubWFwKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgdmFyIGl0ZW0gPSBtZS5pdGVtc1tpZF07CiAgICAgICAgICB2YXIgcHJvcHMgPSB7CiAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgIGluaXRpYWxYOiBldmVudC5jZW50ZXIueCwKICAgICAgICAgICAgZGF0YTogdXRpbC5leHRlbmQoe30sIGl0ZW0uZGF0YSkgLy8gY2xvbmUgdGhlIGl0ZW1zIGRhdGEKICAgICAgICAgIH07CgogICAgICAgICAgcmV0dXJuIHByb3BzOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmVkaXRhYmxlLmFkZCAmJiAoZXZlbnQuc3JjRXZlbnQuY3RybEtleSB8fCBldmVudC5zcmNFdmVudC5tZXRhS2V5KSkgewogICAgICAvLyBjcmVhdGUgYSBuZXcgcmFuZ2UgaXRlbSB3aGVuIGRyYWdnaW5nIHdpdGggY3RybCBrZXkgZG93bgogICAgICB0aGlzLl9vbkRyYWdTdGFydEFkZEl0ZW0oZXZlbnQpOwogICAgfQogIH07CgogIC8qKgogICAqIFN0YXJ0IGNyZWF0aW5nIGEgbmV3IHJhbmdlIGl0ZW0gYnkgZHJhZ2dpbmcuCiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9vbkRyYWdTdGFydEFkZEl0ZW0gPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBzbmFwID0gdGhpcy5vcHRpb25zLnNuYXAgfHwgbnVsbDsKICAgIHZhciB4QWJzID0gdXRpbC5nZXRBYnNvbHV0ZUxlZnQodGhpcy5kb20uZnJhbWUpOwogICAgdmFyIHggPSBldmVudC5jZW50ZXIueCAtIHhBYnMgLSAxMDsgLy8gbWludXMgMTAgdG8gY29tcGVuc2F0ZSBmb3IgdGhlIGRyYWcgc3RhcnRpbmcgYXMgc29vbiBhcyB5b3UndmUgbW92ZWQgMTBweAogICAgdmFyIHRpbWUgPSB0aGlzLmJvZHkudXRpbC50b1RpbWUoeCk7CiAgICB2YXIgc2NhbGUgPSB0aGlzLmJvZHkudXRpbC5nZXRTY2FsZSgpOwogICAgdmFyIHN0ZXAgPSB0aGlzLmJvZHkudXRpbC5nZXRTdGVwKCk7CiAgICB2YXIgc3RhcnQgPSBzbmFwID8gc25hcCh0aW1lLCBzY2FsZSwgc3RlcCkgOiBzdGFydDsKICAgIHZhciBlbmQgPSBzdGFydDsKCiAgICB2YXIgaXRlbURhdGEgPSB7CiAgICAgIHR5cGU6ICdyYW5nZScsCiAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgZW5kOiBlbmQsCiAgICAgIGNvbnRlbnQ6ICduZXcgaXRlbScKICAgIH07CgogICAgdmFyIGlkID0gdXRpbC5yYW5kb21VVUlEKCk7CiAgICBpdGVtRGF0YVt0aGlzLml0ZW1zRGF0YS5fZmllbGRJZF0gPSBpZDsKCiAgICB2YXIgZ3JvdXAgPSB0aGlzLmdyb3VwRnJvbVRhcmdldChldmVudCk7CiAgICBpZiAoZ3JvdXApIHsKICAgICAgaXRlbURhdGEuZ3JvdXAgPSBncm91cC5ncm91cElkOwogICAgfQoKICAgIHZhciBuZXdJdGVtID0gbmV3IFJhbmdlSXRlbShpdGVtRGF0YSwgdGhpcy5jb252ZXJzaW9uLCB0aGlzLm9wdGlvbnMpOwogICAgbmV3SXRlbS5pZCA9IGlkOyAvLyBUT0RPOiBub3Qgc28gbmljZSBzZXR0aW5nIGlkIGFmdGVyd2FyZHMKICAgIG5ld0l0ZW0uZGF0YSA9IGl0ZW1EYXRhOwogICAgdGhpcy5fYWRkSXRlbShuZXdJdGVtKTsKCiAgICB2YXIgcHJvcHMgPSB7CiAgICAgIGl0ZW06IG5ld0l0ZW0sCiAgICAgIGRyYWdSaWdodDogdHJ1ZSwKICAgICAgaW5pdGlhbFg6IGV2ZW50LmNlbnRlci54LAogICAgICBkYXRhOiB1dGlsLmV4dGVuZCh7fSwgaXRlbURhdGEpCiAgICB9OwogICAgdGhpcy50b3VjaFBhcmFtcy5pdGVtUHJvcHMgPSBbcHJvcHNdOwoKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogIH07CgogIC8qKgogICAqIERyYWcgc2VsZWN0ZWQgaXRlbXMKICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX29uRHJhZyA9IGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKHRoaXMudG91Y2hQYXJhbXMuaXRlbVByb3BzKSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIHNuYXAgPSB0aGlzLm9wdGlvbnMuc25hcCB8fCBudWxsOwogICAgICB2YXIgeE9mZnNldCA9IHRoaXMuYm9keS5kb20ucm9vdC5vZmZzZXRMZWZ0ICsgdGhpcy5ib2R5LmRvbVByb3BzLmxlZnQud2lkdGg7CiAgICAgIHZhciBzY2FsZSA9IHRoaXMuYm9keS51dGlsLmdldFNjYWxlKCk7CiAgICAgIHZhciBzdGVwID0gdGhpcy5ib2R5LnV0aWwuZ2V0U3RlcCgpOwoKICAgICAgLy8gbW92ZQogICAgICB0aGlzLnRvdWNoUGFyYW1zLml0ZW1Qcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wcykgewogICAgICAgIHZhciBuZXdQcm9wcyA9IHt9OwogICAgICAgIHZhciBjdXJyZW50ID0gbWUuYm9keS51dGlsLnRvVGltZShldmVudC5jZW50ZXIueCAtIHhPZmZzZXQpOwogICAgICAgIHZhciBpbml0aWFsID0gbWUuYm9keS51dGlsLnRvVGltZShwcm9wcy5pbml0aWFsWCAtIHhPZmZzZXQpOwogICAgICAgIHZhciBvZmZzZXQgPSBjdXJyZW50IC0gaW5pdGlhbDsKCiAgICAgICAgdmFyIGl0ZW1EYXRhID0gdXRpbC5leHRlbmQoe30sIHByb3BzLml0ZW0uZGF0YSk7IC8vIGNsb25lIHRoZSBkYXRhCgogICAgICAgIGlmIChwcm9wcy5pdGVtLmVkaXRhYmxlID09PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHVwZGF0ZVRpbWVBbGxvd2VkID0gbWUub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lIHx8IHByb3BzLml0ZW0uZWRpdGFibGUgPT09IHRydWU7CgogICAgICAgIGlmICh1cGRhdGVUaW1lQWxsb3dlZCkgewogICAgICAgICAgaWYgKHByb3BzLmRyYWdMZWZ0KSB7CiAgICAgICAgICAgIC8vIGRyYWcgbGVmdCBzaWRlIG9mIGEgcmFuZ2UgaXRlbQogICAgICAgICAgICBpZiAoaXRlbURhdGEuc3RhcnQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdmFyIGluaXRpYWxTdGFydCA9IHV0aWwuY29udmVydChwcm9wcy5kYXRhLnN0YXJ0LCAnRGF0ZScpOwogICAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKGluaXRpYWxTdGFydC52YWx1ZU9mKCkgKyBvZmZzZXQpOwogICAgICAgICAgICAgIGl0ZW1EYXRhLnN0YXJ0ID0gc25hcCA/IHNuYXAoc3RhcnQsIHNjYWxlLCBzdGVwKSA6IHN0YXJ0OwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHByb3BzLmRyYWdSaWdodCkgewogICAgICAgICAgICAvLyBkcmFnIHJpZ2h0IHNpZGUgb2YgYSByYW5nZSBpdGVtCiAgICAgICAgICAgIGlmIChpdGVtRGF0YS5lbmQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdmFyIGluaXRpYWxFbmQgPSB1dGlsLmNvbnZlcnQocHJvcHMuZGF0YS5lbmQsICdEYXRlJyk7CiAgICAgICAgICAgICAgdmFyIGVuZCA9IG5ldyBEYXRlKGluaXRpYWxFbmQudmFsdWVPZigpICsgb2Zmc2V0KTsKICAgICAgICAgICAgICBpdGVtRGF0YS5lbmQgPSBzbmFwID8gc25hcChlbmQsIHNjYWxlLCBzdGVwKSA6IGVuZDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gZHJhZyBib3RoIHN0YXJ0IGFuZCBlbmQKICAgICAgICAgICAgaWYgKGl0ZW1EYXRhLnN0YXJ0ICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHZhciBpbml0aWFsU3RhcnQgPSB1dGlsLmNvbnZlcnQocHJvcHMuZGF0YS5zdGFydCwgJ0RhdGUnKS52YWx1ZU9mKCk7CiAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoaW5pdGlhbFN0YXJ0ICsgb2Zmc2V0KTsKCiAgICAgICAgICAgICAgaWYgKGl0ZW1EYXRhLmVuZCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHZhciBpbml0aWFsRW5kID0gdXRpbC5jb252ZXJ0KHByb3BzLmRhdGEuZW5kLCAnRGF0ZScpOwogICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gaW5pdGlhbEVuZC52YWx1ZU9mKCkgLSBpbml0aWFsU3RhcnQudmFsdWVPZigpOwoKICAgICAgICAgICAgICAgIGl0ZW1EYXRhLnN0YXJ0ID0gc25hcCA/IHNuYXAoc3RhcnQsIHNjYWxlLCBzdGVwKSA6IHN0YXJ0OwogICAgICAgICAgICAgICAgaXRlbURhdGEuZW5kID0gbmV3IERhdGUoaXRlbURhdGEuc3RhcnQudmFsdWVPZigpICsgZHVyYXRpb24pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpdGVtRGF0YS5zdGFydCA9IHNuYXAgPyBzbmFwKHN0YXJ0LCBzY2FsZSwgc3RlcCkgOiBzdGFydDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciB1cGRhdGVHcm91cEFsbG93ZWQgPSBtZS5vcHRpb25zLmVkaXRhYmxlLnVwZGF0ZUdyb3VwIHx8IHByb3BzLml0ZW0uZWRpdGFibGUgPT09IHRydWU7CgogICAgICAgIGlmICh1cGRhdGVHcm91cEFsbG93ZWQgJiYgKCFwcm9wcy5kcmFnTGVmdCAmJiAhcHJvcHMuZHJhZ1JpZ2h0KSkgewogICAgICAgICAgaWYgKGl0ZW1EYXRhLmdyb3VwICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvLyBkcmFnIGZyb20gb25lIGdyb3VwIHRvIGFub3RoZXIKICAgICAgICAgICAgdmFyIGdyb3VwID0gbWUuZ3JvdXBGcm9tVGFyZ2V0KGV2ZW50KTsKICAgICAgICAgICAgaWYgKGdyb3VwKSB7CiAgICAgICAgICAgICAgaXRlbURhdGEuZ3JvdXAgPSBncm91cC5ncm91cElkOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBjb25maXJtIG1vdmluZyB0aGUgaXRlbQogICAgICAgIG1lLm9wdGlvbnMub25Nb3ZpbmcoaXRlbURhdGEsIGZ1bmN0aW9uIChpdGVtRGF0YSkgewogICAgICAgICAgaWYgKGl0ZW1EYXRhKSB7CiAgICAgICAgICAgIHByb3BzLml0ZW0uc2V0RGF0YShpdGVtRGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgdGhpcy5zdGFja0RpcnR5ID0gdHJ1ZTsgLy8gZm9yY2UgcmUtc3RhY2tpbmcgb2YgYWxsIGl0ZW1zIG5leHQgcmVkcmF3CiAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2NoYW5nZScpOwogICAgfQogIH07CgogIC8qKgogICAqIE1vdmUgYW4gaXRlbSB0byBhbm90aGVyIGdyb3VwCiAgICogQHBhcmFtIHtJdGVtfSBpdGVtCiAgICogQHBhcmFtIHtTdHJpbmcgfCBOdW1iZXJ9IGdyb3VwSWQKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLl9tb3ZlVG9Hcm91cCA9IGZ1bmN0aW9uIChpdGVtLCBncm91cElkKSB7CiAgICB2YXIgZ3JvdXAgPSB0aGlzLmdyb3Vwc1tncm91cElkXTsKICAgIGlmIChncm91cCAmJiBncm91cC5ncm91cElkICE9IGl0ZW0uZGF0YS5ncm91cCkgewogICAgICB2YXIgb2xkR3JvdXAgPSBpdGVtLnBhcmVudDsKICAgICAgb2xkR3JvdXAucmVtb3ZlKGl0ZW0pOwogICAgICBvbGRHcm91cC5vcmRlcigpOwogICAgICBncm91cC5hZGQoaXRlbSk7CiAgICAgIGdyb3VwLm9yZGVyKCk7CgogICAgICBpdGVtLmRhdGEuZ3JvdXAgPSBncm91cC5ncm91cElkOwogICAgfQogIH07CgogIC8qKgogICAqIEVuZCBvZiBkcmFnZ2luZyBzZWxlY3RlZCBpdGVtcwogICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAodGhpcy50b3VjaFBhcmFtcy5pdGVtUHJvcHMpIHsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICAvLyBwcmVwYXJlIGEgY2hhbmdlIHNldCBmb3IgdGhlIGNoYW5nZWQgaXRlbXMKICAgICAgdmFyIGNoYW5nZXMgPSBbXTsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGRhdGFzZXQgPSB0aGlzLml0ZW1zRGF0YS5nZXREYXRhU2V0KCk7CgogICAgICB2YXIgaXRlbVByb3BzID0gdGhpcy50b3VjaFBhcmFtcy5pdGVtUHJvcHM7CiAgICAgIHRoaXMudG91Y2hQYXJhbXMuaXRlbVByb3BzID0gbnVsbDsKICAgICAgaXRlbVByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3BzKSB7CiAgICAgICAgdmFyIGlkID0gcHJvcHMuaXRlbS5pZDsKICAgICAgICB2YXIgZXhpc3RzID0gbWUuaXRlbXNEYXRhLmdldChpZCwgbWUuaXRlbU9wdGlvbnMpICE9IG51bGw7CgogICAgICAgIGlmICghZXhpc3RzKSB7CiAgICAgICAgICAvLyBhZGQgYSBuZXcgaXRlbQogICAgICAgICAgbWUub3B0aW9ucy5vbkFkZChwcm9wcy5pdGVtLmRhdGEsIGZ1bmN0aW9uIChpdGVtRGF0YSkgewogICAgICAgICAgICBtZS5fcmVtb3ZlSXRlbShwcm9wcy5pdGVtKTsgLy8gcmVtb3ZlIHRlbXBvcmFyeSBpdGVtCiAgICAgICAgICAgIGlmIChpdGVtRGF0YSkgewogICAgICAgICAgICAgIG1lLml0ZW1zRGF0YS5nZXREYXRhU2V0KCkuYWRkKGl0ZW1EYXRhKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gZm9yY2UgcmUtc3RhY2tpbmcgb2YgYWxsIGl0ZW1zIG5leHQgcmVkcmF3CiAgICAgICAgICAgIG1lLnN0YWNrRGlydHkgPSB0cnVlOwogICAgICAgICAgICBtZS5ib2R5LmVtaXR0ZXIuZW1pdCgnY2hhbmdlJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gdXBkYXRlIGV4aXN0aW5nIGl0ZW0KICAgICAgICAgIHZhciBpdGVtRGF0YSA9IHV0aWwuZXh0ZW5kKHt9LCBwcm9wcy5pdGVtLmRhdGEpOyAvLyBjbG9uZSB0aGUgZGF0YQogICAgICAgICAgbWUub3B0aW9ucy5vbk1vdmUoaXRlbURhdGEsIGZ1bmN0aW9uIChpdGVtRGF0YSkgewogICAgICAgICAgICBpZiAoaXRlbURhdGEpIHsKICAgICAgICAgICAgICAvLyBhcHBseSBjaGFuZ2VzCiAgICAgICAgICAgICAgaXRlbURhdGFbZGF0YXNldC5fZmllbGRJZF0gPSBpZDsgLy8gZW5zdXJlIHRoZSBpdGVtIGNvbnRhaW5zIGl0cyBpZCAoY2FuIGJlIHVuZGVmaW5lZCkKICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goaXRlbURhdGEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIHJlc3RvcmUgb3JpZ2luYWwgdmFsdWVzCiAgICAgICAgICAgICAgcHJvcHMuaXRlbS5zZXREYXRhKHByb3BzLmRhdGEpOwoKICAgICAgICAgICAgICBtZS5zdGFja0RpcnR5ID0gdHJ1ZTsgLy8gZm9yY2UgcmUtc3RhY2tpbmcgb2YgYWxsIGl0ZW1zIG5leHQgcmVkcmF3CiAgICAgICAgICAgICAgbWUuYm9keS5lbWl0dGVyLmVtaXQoJ2NoYW5nZScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gYXBwbHkgdGhlIGNoYW5nZXMgdG8gdGhlIGRhdGEgKGlmIHRoZXJlIGFyZSBjaGFuZ2VzKQogICAgICBpZiAoY2hhbmdlcy5sZW5ndGgpIHsKICAgICAgICBkYXRhc2V0LnVwZGF0ZShjaGFuZ2VzKTsKICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIEhhbmRsZSBzZWxlY3RpbmcvZGVzZWxlY3RpbmcgYW4gaXRlbSB3aGVuIHRhcHBpbmcgaXQKICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX29uU2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKCF0aGlzLm9wdGlvbnMuc2VsZWN0YWJsZSkgcmV0dXJuOwoKICAgIHZhciBjdHJsS2V5ID0gZXZlbnQuc3JjRXZlbnQgJiYgKGV2ZW50LnNyY0V2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc3JjRXZlbnQubWV0YUtleSk7CiAgICB2YXIgc2hpZnRLZXkgPSBldmVudC5zcmNFdmVudCAmJiBldmVudC5zcmNFdmVudC5zaGlmdEtleTsKICAgIGlmIChjdHJsS2V5IHx8IHNoaWZ0S2V5KSB7CiAgICAgIHRoaXMuX29uTXVsdGlTZWxlY3RJdGVtKGV2ZW50KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBvbGRTZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpOwoKICAgIHZhciBpdGVtID0gdGhpcy5pdGVtRnJvbVRhcmdldChldmVudCk7CiAgICB2YXIgc2VsZWN0aW9uID0gaXRlbSA/IFtpdGVtLmlkXSA6IFtdOwogICAgdGhpcy5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKTsKCiAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb24oKTsKCiAgICAvLyBlbWl0IGEgc2VsZWN0IGV2ZW50LAogICAgLy8gZXhjZXB0IHdoZW4gb2xkIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgbmV3IHNlbGVjdGlvbiBpcyBzdGlsbCBlbXB0eQogICAgaWYgKG5ld1NlbGVjdGlvbi5sZW5ndGggPiAwIHx8IG9sZFNlbGVjdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3NlbGVjdCcsIHsKICAgICAgICBpdGVtczogbmV3U2VsZWN0aW9uLAogICAgICAgIGV2ZW50OiBldmVudAogICAgICB9KTsKICAgIH0KICB9OwoKICAvKioKICAgKiBIYW5kbGUgY3JlYXRpb24gYW5kIHVwZGF0ZXMgb2YgYW4gaXRlbSBvbiBkb3VibGUgdGFwCiAgICogQHBhcmFtIGV2ZW50CiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5fb25BZGRJdGVtID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlKSByZXR1cm47CiAgICBpZiAoIXRoaXMub3B0aW9ucy5lZGl0YWJsZS5hZGQpIHJldHVybjsKCiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIHNuYXAgPSB0aGlzLm9wdGlvbnMuc25hcCB8fCBudWxsOwogICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1Gcm9tVGFyZ2V0KGV2ZW50KTsKCiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICBpZiAoaXRlbSkgewogICAgICAvLyB1cGRhdGUgaXRlbQoKICAgICAgLy8gZXhlY3V0ZSBhc3luYyBoYW5kbGVyIHRvIHVwZGF0ZSB0aGUgaXRlbSAob3IgY2FuY2VsIGl0KQogICAgICB2YXIgaXRlbURhdGEgPSBtZS5pdGVtc0RhdGEuZ2V0KGl0ZW0uaWQpOyAvLyBnZXQgYSBjbG9uZSBvZiB0aGUgZGF0YSBmcm9tIHRoZSBkYXRhc2V0CiAgICAgIHRoaXMub3B0aW9ucy5vblVwZGF0ZShpdGVtRGF0YSwgZnVuY3Rpb24gKGl0ZW1EYXRhKSB7CiAgICAgICAgaWYgKGl0ZW1EYXRhKSB7CiAgICAgICAgICBtZS5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpLnVwZGF0ZShpdGVtRGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGFkZCBpdGVtCiAgICAgIHZhciB4QWJzID0gdXRpbC5nZXRBYnNvbHV0ZUxlZnQodGhpcy5kb20uZnJhbWUpOwogICAgICB2YXIgeCA9IGV2ZW50LmNlbnRlci54IC0geEFiczsKICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5ib2R5LnV0aWwudG9UaW1lKHgpOwogICAgICB2YXIgc2NhbGUgPSB0aGlzLmJvZHkudXRpbC5nZXRTY2FsZSgpOwogICAgICB2YXIgc3RlcCA9IHRoaXMuYm9keS51dGlsLmdldFN0ZXAoKTsKCiAgICAgIHZhciBuZXdJdGVtID0gewogICAgICAgIHN0YXJ0OiBzbmFwID8gc25hcChzdGFydCwgc2NhbGUsIHN0ZXApIDogc3RhcnQsCiAgICAgICAgY29udGVudDogJ25ldyBpdGVtJwogICAgICB9OwoKICAgICAgLy8gd2hlbiBkZWZhdWx0IHR5cGUgaXMgYSByYW5nZSwgYWRkIGEgZGVmYXVsdCBlbmQgZGF0ZSB0byB0aGUgbmV3IGl0ZW0KICAgICAgaWYgKHRoaXMub3B0aW9ucy50eXBlID09PSAncmFuZ2UnKSB7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMuYm9keS51dGlsLnRvVGltZSh4ICsgdGhpcy5wcm9wcy53aWR0aCAvIDUpOwogICAgICAgIG5ld0l0ZW0uZW5kID0gc25hcCA/IHNuYXAoZW5kLCBzY2FsZSwgc3RlcCkgOiBlbmQ7CiAgICAgIH0KCiAgICAgIG5ld0l0ZW1bdGhpcy5pdGVtc0RhdGEuX2ZpZWxkSWRdID0gdXRpbC5yYW5kb21VVUlEKCk7CgogICAgICB2YXIgZ3JvdXAgPSB0aGlzLmdyb3VwRnJvbVRhcmdldChldmVudCk7CiAgICAgIGlmIChncm91cCkgewogICAgICAgIG5ld0l0ZW0uZ3JvdXAgPSBncm91cC5ncm91cElkOwogICAgICB9CgogICAgICAvLyBleGVjdXRlIGFzeW5jIGhhbmRsZXIgdG8gY3VzdG9taXplIChvciBjYW5jZWwpIGFkZGluZyBhbiBpdGVtCiAgICAgIHRoaXMub3B0aW9ucy5vbkFkZChuZXdJdGVtLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICBtZS5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpLmFkZChpdGVtKTsKICAgICAgICAgIC8vIFRPRE86IG5lZWQgdG8gdHJpZ2dlciBhIHJlZHJhdz8KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH07CgogIC8qKgogICAqIEhhbmRsZSBzZWxlY3RpbmcvZGVzZWxlY3RpbmcgbXVsdGlwbGUgaXRlbXMgd2hlbiBob2xkaW5nIGFuIGl0ZW0KICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbVNldC5wcm90b3R5cGUuX29uTXVsdGlTZWxlY3RJdGVtID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlKSByZXR1cm47CgogICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1Gcm9tVGFyZ2V0KGV2ZW50KTsKCiAgICBpZiAoaXRlbSkgewogICAgICAvLyBtdWx0aSBzZWxlY3QgaXRlbXMgKGlmIGFsbG93ZWQpCgogICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5vcHRpb25zLm11bHRpc2VsZWN0ID8gdGhpcy5nZXRTZWxlY3Rpb24oKSAvLyB0YWtlIGN1cnJlbnQgc2VsZWN0aW9uCiAgICAgIDogW107IC8vIGRlc2VsZWN0IGN1cnJlbnQgc2VsZWN0aW9uCgogICAgICB2YXIgc2hpZnRLZXkgPSBldmVudC5zcmNFdmVudCAmJiBldmVudC5zcmNFdmVudC5zaGlmdEtleSB8fCBmYWxzZTsKCiAgICAgIGlmIChzaGlmdEtleSAmJiB0aGlzLm9wdGlvbnMubXVsdGlzZWxlY3QpIHsKICAgICAgICAvLyBzZWxlY3QgYWxsIGl0ZW1zIGJldHdlZW4gdGhlIG9sZCBzZWxlY3Rpb24gYW5kIHRoZSB0YXBwZWQgaXRlbQoKICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIHNlbGVjdGlvbiByYW5nZQogICAgICAgIHNlbGVjdGlvbi5wdXNoKGl0ZW0uaWQpOwogICAgICAgIHZhciByYW5nZSA9IEl0ZW1TZXQuX2dldEl0ZW1SYW5nZSh0aGlzLml0ZW1zRGF0YS5nZXQoc2VsZWN0aW9uLCB0aGlzLml0ZW1PcHRpb25zKSk7CgogICAgICAgIC8vIHNlbGVjdCBhbGwgaXRlbXMgd2l0aGluIHRoZSBzZWxlY3Rpb24gcmFuZ2UKICAgICAgICBzZWxlY3Rpb24gPSBbXTsKICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLml0ZW1zKSB7CiAgICAgICAgICBpZiAodGhpcy5pdGVtcy5oYXNPd25Qcm9wZXJ0eShpZCkpIHsKICAgICAgICAgICAgdmFyIF9pdGVtID0gdGhpcy5pdGVtc1tpZF07CiAgICAgICAgICAgIHZhciBzdGFydCA9IF9pdGVtLmRhdGEuc3RhcnQ7CiAgICAgICAgICAgIHZhciBlbmQgPSBfaXRlbS5kYXRhLmVuZCAhPT0gdW5kZWZpbmVkID8gX2l0ZW0uZGF0YS5lbmQgOiBzdGFydDsKCiAgICAgICAgICAgIGlmIChzdGFydCA+PSByYW5nZS5taW4gJiYgZW5kIDw9IHJhbmdlLm1heCAmJiAhKF9pdGVtIGluc3RhbmNlb2YgQmFja2dyb3VuZEl0ZW0pKSB7CiAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2goX2l0ZW0uaWQpOyAvLyBkbyBub3QgdXNlIGlkIGJ1dCBpdGVtLmlkLCBpZCBpdHNlbGYgaXMgc3RyaW5naWZpZWQKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBhZGQvcmVtb3ZlIHRoaXMgaXRlbSBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbgogICAgICAgIHZhciBpbmRleCA9IHNlbGVjdGlvbi5pbmRleE9mKGl0ZW0uaWQpOwogICAgICAgIGlmIChpbmRleCA9PSAtMSkgewogICAgICAgICAgLy8gaXRlbSBpcyBub3QgeWV0IHNlbGVjdGVkIC0+IHNlbGVjdCBpdAogICAgICAgICAgc2VsZWN0aW9uLnB1c2goaXRlbS5pZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGl0ZW0gaXMgYWxyZWFkeSBzZWxlY3RlZCAtPiBkZXNlbGVjdCBpdAogICAgICAgICAgc2VsZWN0aW9uLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pOwoKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnc2VsZWN0JywgewogICAgICAgIGl0ZW1zOiB0aGlzLmdldFNlbGVjdGlvbigpLAogICAgICAgIGV2ZW50OiBldmVudAogICAgICB9KTsKICAgIH0KICB9OwoKICAvKioKICAgKiBDYWxjdWxhdGUgdGhlIHRpbWUgcmFuZ2Ugb2YgYSBsaXN0IG9mIGl0ZW1zCiAgICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gaXRlbXNEYXRhCiAgICogQHJldHVybiB7e21pbjogRGF0ZSwgbWF4OiBEYXRlfX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgdGhlIHByb3ZpZGVkIGl0ZW1zCiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtU2V0Ll9nZXRJdGVtUmFuZ2UgPSBmdW5jdGlvbiAoaXRlbXNEYXRhKSB7CiAgICB2YXIgbWF4ID0gbnVsbDsKICAgIHZhciBtaW4gPSBudWxsOwoKICAgIGl0ZW1zRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGlmIChtaW4gPT0gbnVsbCB8fCBkYXRhLnN0YXJ0IDwgbWluKSB7CiAgICAgICAgbWluID0gZGF0YS5zdGFydDsKICAgICAgfQoKICAgICAgaWYgKGRhdGEuZW5kICE9IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChtYXggPT0gbnVsbCB8fCBkYXRhLmVuZCA+IG1heCkgewogICAgICAgICAgbWF4ID0gZGF0YS5lbmQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChtYXggPT0gbnVsbCB8fCBkYXRhLnN0YXJ0ID4gbWF4KSB7CiAgICAgICAgICBtYXggPSBkYXRhLnN0YXJ0OwogICAgICAgIH0KICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIHsKICAgICAgbWluOiBtaW4sCiAgICAgIG1heDogbWF4CiAgICB9OwogIH07CgogIC8qKgogICAqIEZpbmQgYW4gaXRlbSBmcm9tIGFuIGV2ZW50IHRhcmdldDoKICAgKiBzZWFyY2hlcyBmb3IgdGhlIGF0dHJpYnV0ZSAndGltZWxpbmUtaXRlbScgaW4gdGhlIGV2ZW50IHRhcmdldCdzIGVsZW1lbnQgdHJlZQogICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICogQHJldHVybiB7SXRlbSB8IG51bGx9IGl0ZW0KICAgKi8KICBJdGVtU2V0LnByb3RvdHlwZS5pdGVtRnJvbVRhcmdldCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDsKICAgIHdoaWxlICh0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldC5oYXNPd25Qcm9wZXJ0eSgndGltZWxpbmUtaXRlbScpKSB7CiAgICAgICAgcmV0dXJuIHRhcmdldFsndGltZWxpbmUtaXRlbSddOwogICAgICB9CiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH07CgogIC8qKgogICAqIEZpbmQgdGhlIEdyb3VwIGZyb20gYW4gZXZlbnQgdGFyZ2V0OgogICAqIHNlYXJjaGVzIGZvciB0aGUgYXR0cmlidXRlICd0aW1lbGluZS1ncm91cCcgaW4gdGhlIGV2ZW50IHRhcmdldCdzIGVsZW1lbnQgdHJlZQogICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICogQHJldHVybiB7R3JvdXAgfCBudWxsfSBncm91cAogICAqLwogIEl0ZW1TZXQucHJvdG90eXBlLmdyb3VwRnJvbVRhcmdldCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGNsaWVudFkgPSBldmVudC5jZW50ZXIgPyBldmVudC5jZW50ZXIueSA6IGV2ZW50LmNsaWVudFk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JvdXBJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGdyb3VwSWQgPSB0aGlzLmdyb3VwSWRzW2ldOwogICAgICB2YXIgZ3JvdXAgPSB0aGlzLmdyb3Vwc1tncm91cElkXTsKICAgICAgdmFyIGZvcmVncm91bmQgPSBncm91cC5kb20uZm9yZWdyb3VuZDsKICAgICAgdmFyIHRvcCA9IHV0aWwuZ2V0QWJzb2x1dGVUb3AoZm9yZWdyb3VuZCk7CiAgICAgIGlmIChjbGllbnRZID4gdG9wICYmIGNsaWVudFkgPCB0b3AgKyBmb3JlZ3JvdW5kLm9mZnNldEhlaWdodCkgewogICAgICAgIHJldHVybiBncm91cDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtID09PSAndG9wJykgewogICAgICAgIGlmIChpID09PSB0aGlzLmdyb3VwSWRzLmxlbmd0aCAtIDEgJiYgY2xpZW50WSA+IHRvcCkgewogICAgICAgICAgcmV0dXJuIGdyb3VwOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoaSA9PT0gMCAmJiBjbGllbnRZIDwgdG9wICsgZm9yZWdyb3VuZC5vZmZzZXQpIHsKICAgICAgICAgIHJldHVybiBncm91cDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9OwoKICAvKioKICAgKiBGaW5kIHRoZSBJdGVtU2V0IGZyb20gYW4gZXZlbnQgdGFyZ2V0OgogICAqIHNlYXJjaGVzIGZvciB0aGUgYXR0cmlidXRlICd0aW1lbGluZS1pdGVtc2V0JyBpbiB0aGUgZXZlbnQgdGFyZ2V0J3MgZWxlbWVudCB0cmVlCiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcmV0dXJuIHtJdGVtU2V0IHwgbnVsbH0gaXRlbQogICAqLwogIEl0ZW1TZXQuaXRlbVNldEZyb21UYXJnZXQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7CiAgICB3aGlsZSAodGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoJ3RpbWVsaW5lLWl0ZW1zZXQnKSkgewogICAgICAgIHJldHVybiB0YXJnZXRbJ3RpbWVsaW5lLWl0ZW1zZXQnXTsKICAgICAgfQogICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IEl0ZW1TZXQ7CgovKioqLyB9LAovKiAzMiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIHN0YWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7CiAgdmFyIFJhbmdlSXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpOwoKICAvKioKICAgKiBAY29uc3RydWN0b3IgR3JvdXAKICAgKiBAcGFyYW0ge051bWJlciB8IFN0cmluZ30gZ3JvdXBJZAogICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhCiAgICogQHBhcmFtIHtJdGVtU2V0fSBpdGVtU2V0CiAgICovCiAgZnVuY3Rpb24gR3JvdXAoZ3JvdXBJZCwgZGF0YSwgaXRlbVNldCkgewogICAgdGhpcy5ncm91cElkID0gZ3JvdXBJZDsKICAgIHRoaXMuc3ViZ3JvdXBzID0ge307CiAgICB0aGlzLnN1Ymdyb3VwSW5kZXggPSAwOwogICAgdGhpcy5zdWJncm91cE9yZGVyZXIgPSBkYXRhICYmIGRhdGEuc3ViZ3JvdXBPcmRlcjsKICAgIHRoaXMuaXRlbVNldCA9IGl0ZW1TZXQ7CgogICAgdGhpcy5kb20gPSB7fTsKICAgIHRoaXMucHJvcHMgPSB7CiAgICAgIGxhYmVsOiB7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwCiAgICAgIH0KICAgIH07CiAgICB0aGlzLmNsYXNzTmFtZSA9IG51bGw7CgogICAgdGhpcy5pdGVtcyA9IHt9OyAvLyBpdGVtcyBmaWx0ZXJlZCBieSBncm91cElkIG9mIHRoaXMgZ3JvdXAKICAgIHRoaXMudmlzaWJsZUl0ZW1zID0gW107IC8vIGl0ZW1zIGN1cnJlbnRseSB2aXNpYmxlIGluIHdpbmRvdwogICAgdGhpcy5vcmRlcmVkSXRlbXMgPSB7CiAgICAgIGJ5U3RhcnQ6IFtdLAogICAgICBieUVuZDogW10KICAgIH07CiAgICB0aGlzLmNoZWNrUmFuZ2VkSXRlbXMgPSBmYWxzZTsgLy8gbmVlZGVkIHRvIHJlZnJlc2ggdGhlIHJhbmdlZCBpdGVtcyBpZiB0aGUgd2luZG93IGlzIHByb2dyYW1hdGljYWxseSBjaGFuZ2VkIHdpdGggTk8gb3ZlcmxhcC4KICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLml0ZW1TZXQuYm9keS5lbWl0dGVyLm9uKCdjaGVja1JhbmdlZEl0ZW1zJywgZnVuY3Rpb24gKCkgewogICAgICBtZS5jaGVja1JhbmdlZEl0ZW1zID0gdHJ1ZTsKICAgIH0pOwoKICAgIHRoaXMuX2NyZWF0ZSgpOwoKICAgIHRoaXMuc2V0RGF0YShkYXRhKTsKICB9CgogIC8qKgogICAqIENyZWF0ZSBET00gZWxlbWVudHMgZm9yIHRoZSBncm91cAogICAqIEBwcml2YXRlCiAgICovCiAgR3JvdXAucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGxhYmVsLmNsYXNzTmFtZSA9ICd2aXMtbGFiZWwnOwogICAgdGhpcy5kb20ubGFiZWwgPSBsYWJlbDsKCiAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGlubmVyLmNsYXNzTmFtZSA9ICd2aXMtaW5uZXInOwogICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5uZXIpOwogICAgdGhpcy5kb20uaW5uZXIgPSBpbm5lcjsKCiAgICB2YXIgZm9yZWdyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZm9yZWdyb3VuZC5jbGFzc05hbWUgPSAndmlzLWdyb3VwJzsKICAgIGZvcmVncm91bmRbJ3RpbWVsaW5lLWdyb3VwJ10gPSB0aGlzOwogICAgdGhpcy5kb20uZm9yZWdyb3VuZCA9IGZvcmVncm91bmQ7CgogICAgdGhpcy5kb20uYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uYmFja2dyb3VuZC5jbGFzc05hbWUgPSAndmlzLWdyb3VwJzsKCiAgICB0aGlzLmRvbS5heGlzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5heGlzLmNsYXNzTmFtZSA9ICd2aXMtZ3JvdXAnOwoKICAgIC8vIGNyZWF0ZSBhIGhpZGRlbiBtYXJrZXIgdG8gZGV0ZWN0IHdoZW4gdGhlIFRpbWVsaW5lcyBjb250YWluZXIgaXMgYXR0YWNoZWQKICAgIC8vIHRvIHRoZSBET00sIG9yIHRoZSBzdHlsZSBvZiBhIHBhcmVudCBvZiB0aGUgVGltZWxpbmUgaXMgY2hhbmdlZCBmcm9tCiAgICAvLyBkaXNwbGF5Om5vbmUgaXMgY2hhbmdlZCB0byB2aXNpYmxlLgogICAgdGhpcy5kb20ubWFya2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5tYXJrZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwogICAgdGhpcy5kb20ubWFya2VyLmlubmVySFRNTCA9ICc/JzsKICAgIHRoaXMuZG9tLmJhY2tncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5kb20ubWFya2VyKTsKICB9OwoKICAvKioKICAgKiBTZXQgdGhlIGdyb3VwIGRhdGEgZm9yIHRoaXMgZ3JvdXAKICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAgIEdyb3VwIGRhdGEsIGNhbiBjb250YWluIHByb3BlcnRpZXMgY29udGVudCBhbmQgY2xhc3NOYW1lCiAgICovCiAgR3JvdXAucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgLy8gdXBkYXRlIGNvbnRlbnRzCiAgICB2YXIgY29udGVudCA9IGRhdGEgJiYgZGF0YS5jb250ZW50OwogICAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7CiAgICAgIHRoaXMuZG9tLmlubmVyLmFwcGVuZENoaWxkKGNvbnRlbnQpOwogICAgfSBlbHNlIGlmIChjb250ZW50ICE9PSB1bmRlZmluZWQgJiYgY29udGVudCAhPT0gbnVsbCkgewogICAgICB0aGlzLmRvbS5pbm5lci5pbm5lckhUTUwgPSBjb250ZW50OwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5kb20uaW5uZXIuaW5uZXJIVE1MID0gdGhpcy5ncm91cElkIHx8ICcnOyAvLyBncm91cElkIGNhbiBiZSBudWxsCiAgICB9CgogICAgLy8gdXBkYXRlIHRpdGxlCiAgICB0aGlzLmRvbS5sYWJlbC50aXRsZSA9IGRhdGEgJiYgZGF0YS50aXRsZSB8fCAnJzsKCiAgICBpZiAoIXRoaXMuZG9tLmlubmVyLmZpcnN0Q2hpbGQpIHsKICAgICAgdXRpbC5hZGRDbGFzc05hbWUodGhpcy5kb20uaW5uZXIsICd2aXMtaGlkZGVuJyk7CiAgICB9IGVsc2UgewogICAgICB1dGlsLnJlbW92ZUNsYXNzTmFtZSh0aGlzLmRvbS5pbm5lciwgJ3Zpcy1oaWRkZW4nKTsKICAgIH0KCiAgICAvLyB1cGRhdGUgY2xhc3NOYW1lCiAgICB2YXIgY2xhc3NOYW1lID0gZGF0YSAmJiBkYXRhLmNsYXNzTmFtZSB8fCBudWxsOwogICAgaWYgKGNsYXNzTmFtZSAhPSB0aGlzLmNsYXNzTmFtZSkgewogICAgICBpZiAodGhpcy5jbGFzc05hbWUpIHsKICAgICAgICB1dGlsLnJlbW92ZUNsYXNzTmFtZSh0aGlzLmRvbS5sYWJlbCwgdGhpcy5jbGFzc05hbWUpOwogICAgICAgIHV0aWwucmVtb3ZlQ2xhc3NOYW1lKHRoaXMuZG9tLmZvcmVncm91bmQsIHRoaXMuY2xhc3NOYW1lKTsKICAgICAgICB1dGlsLnJlbW92ZUNsYXNzTmFtZSh0aGlzLmRvbS5iYWNrZ3JvdW5kLCB0aGlzLmNsYXNzTmFtZSk7CiAgICAgICAgdXRpbC5yZW1vdmVDbGFzc05hbWUodGhpcy5kb20uYXhpcywgdGhpcy5jbGFzc05hbWUpOwogICAgICB9CiAgICAgIHV0aWwuYWRkQ2xhc3NOYW1lKHRoaXMuZG9tLmxhYmVsLCBjbGFzc05hbWUpOwogICAgICB1dGlsLmFkZENsYXNzTmFtZSh0aGlzLmRvbS5mb3JlZ3JvdW5kLCBjbGFzc05hbWUpOwogICAgICB1dGlsLmFkZENsYXNzTmFtZSh0aGlzLmRvbS5iYWNrZ3JvdW5kLCBjbGFzc05hbWUpOwogICAgICB1dGlsLmFkZENsYXNzTmFtZSh0aGlzLmRvbS5heGlzLCBjbGFzc05hbWUpOwogICAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKICAgIH0KCiAgICAvLyB1cGRhdGUgc3R5bGUKICAgIGlmICh0aGlzLnN0eWxlKSB7CiAgICAgIHV0aWwucmVtb3ZlQ3NzVGV4dCh0aGlzLmRvbS5sYWJlbCwgJ3Zpcy0nICsgdGhpcy5zdHlsZSk7CiAgICAgIHRoaXMuc3R5bGUgPSBudWxsOwogICAgfQogICAgaWYgKGRhdGEgJiYgZGF0YS5zdHlsZSkgewogICAgICB1dGlsLmFkZENzc1RleHQodGhpcy5kb20ubGFiZWwsICd2aXMtJyArIGRhdGEuc3R5bGUpOwogICAgICB0aGlzLnN0eWxlID0gZGF0YS5zdHlsZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBHZXQgdGhlIHdpZHRoIG9mIHRoZSBncm91cCBsYWJlbAogICAqIEByZXR1cm4ge251bWJlcn0gd2lkdGgKICAgKi8KICBHcm91cC5wcm90b3R5cGUuZ2V0TGFiZWxXaWR0aCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnByb3BzLmxhYmVsLndpZHRoOwogIH07CgogIC8qKgogICAqIFJlcGFpbnQgdGhpcyBncm91cAogICAqIEBwYXJhbSB7e3N0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyfX0gcmFuZ2UKICAgKiBAcGFyYW0ge3tpdGVtOiB7aG9yaXpvbnRhbDogbnVtYmVyLCB2ZXJ0aWNhbDogbnVtYmVyfSwgYXhpczogbnVtYmVyfX0gbWFyZ2luCiAgICogQHBhcmFtIHtib29sZWFufSBbcmVzdGFjaz1mYWxzZV0gIEZvcmNlIHJlc3RhY2tpbmcgb2YgYWxsIGl0ZW1zCiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBncm91cCBpcyByZXNpemVkCiAgICovCiAgR3JvdXAucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uIChyYW5nZSwgbWFyZ2luLCByZXN0YWNrKSB7CiAgICB2YXIgcmVzaXplZCA9IGZhbHNlOwoKICAgIC8vIGZvcmNlIHJlY2FsY3VsYXRpb24gb2YgdGhlIGhlaWdodCBvZiB0aGUgaXRlbXMgd2hlbiB0aGUgbWFya2VyIGhlaWdodCBjaGFuZ2VkCiAgICAvLyAoZHVlIHRvIHRoZSBUaW1lbGluZSBiZWluZyBhdHRhY2hlZCB0byB0aGUgRE9NIG9yIGNoYW5nZWQgZnJvbSBkaXNwbGF5Om5vbmUgdG8gdmlzaWJsZSkKICAgIHZhciBtYXJrZXJIZWlnaHQgPSB0aGlzLmRvbS5tYXJrZXIuY2xpZW50SGVpZ2h0OwogICAgaWYgKG1hcmtlckhlaWdodCAhPSB0aGlzLmxhc3RNYXJrZXJIZWlnaHQpIHsKICAgICAgdGhpcy5sYXN0TWFya2VySGVpZ2h0ID0gbWFya2VySGVpZ2h0OwoKICAgICAgdXRpbC5mb3JFYWNoKHRoaXMuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5kaXJ0eSA9IHRydWU7CiAgICAgICAgaWYgKGl0ZW0uZGlzcGxheWVkKSBpdGVtLnJlZHJhdygpOwogICAgICB9KTsKCiAgICAgIHJlc3RhY2sgPSB0cnVlOwogICAgfQoKICAgIC8vIHJlcG9zaXRpb24gdmlzaWJsZSBpdGVtcyB2ZXJ0aWNhbGx5CiAgICBpZiAodHlwZW9mIHRoaXMuaXRlbVNldC5vcHRpb25zLm9yZGVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIC8vIGEgY3VzdG9tIG9yZGVyIGZ1bmN0aW9uCgogICAgICBpZiAocmVzdGFjaykgewogICAgICAgIC8vIGJydXRlIGZvcmNlIHJlc3RhY2sgb2YgYWxsIGl0ZW1zCgogICAgICAgIC8vIHNob3cgYWxsIGl0ZW1zCiAgICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgICB2YXIgbGltaXRTaXplID0gZmFsc2U7CiAgICAgICAgdXRpbC5mb3JFYWNoKHRoaXMuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoIWl0ZW0uZGlzcGxheWVkKSB7CiAgICAgICAgICAgIGl0ZW0ucmVkcmF3KCk7CiAgICAgICAgICAgIG1lLnZpc2libGVJdGVtcy5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgICAgaXRlbS5yZXBvc2l0aW9uWChsaW1pdFNpemUpOwogICAgICAgIH0pOwoKICAgICAgICAvLyBvcmRlciBhbGwgaXRlbXMgYW5kIGZvcmNlIGEgcmVzdGFja2luZwogICAgICAgIHZhciBjdXN0b21PcmRlcmVkSXRlbXMgPSB0aGlzLm9yZGVyZWRJdGVtcy5ieVN0YXJ0LnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgcmV0dXJuIG1lLml0ZW1TZXQub3B0aW9ucy5vcmRlcihhLmRhdGEsIGIuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgICAgc3RhY2suc3RhY2soY3VzdG9tT3JkZXJlZEl0ZW1zLCBtYXJnaW4sIHRydWUgLyogcmVzdGFjaz10cnVlICovKTsKICAgICAgfQoKICAgICAgdGhpcy52aXNpYmxlSXRlbXMgPSB0aGlzLl91cGRhdGVWaXNpYmxlSXRlbXModGhpcy5vcmRlcmVkSXRlbXMsIHRoaXMudmlzaWJsZUl0ZW1zLCByYW5nZSk7CiAgICB9IGVsc2UgewogICAgICAvLyBubyBjdXN0b20gb3JkZXIgZnVuY3Rpb24sIGxhenkgc3RhY2tpbmcKICAgICAgdGhpcy52aXNpYmxlSXRlbXMgPSB0aGlzLl91cGRhdGVWaXNpYmxlSXRlbXModGhpcy5vcmRlcmVkSXRlbXMsIHRoaXMudmlzaWJsZUl0ZW1zLCByYW5nZSk7CgogICAgICBpZiAodGhpcy5pdGVtU2V0Lm9wdGlvbnMuc3RhY2spIHsKICAgICAgICAvLyBUT0RPOiB1Z2x5IHdheSB0byBhY2Nlc3Mgb3B0aW9ucy4uLgogICAgICAgIHN0YWNrLnN0YWNrKHRoaXMudmlzaWJsZUl0ZW1zLCBtYXJnaW4sIHJlc3RhY2spOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vIHN0YWNraW5nCiAgICAgICAgc3RhY2subm9zdGFjayh0aGlzLnZpc2libGVJdGVtcywgbWFyZ2luLCB0aGlzLnN1Ymdyb3Vwcyk7CiAgICAgIH0KICAgIH0KCiAgICAvLyByZWNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBncm91cAogICAgdmFyIGhlaWdodCA9IHRoaXMuX2NhbGN1bGF0ZUhlaWdodChtYXJnaW4pOwoKICAgIC8vIGNhbGN1bGF0ZSBhY3R1YWwgc2l6ZSBhbmQgcG9zaXRpb24KICAgIHZhciBmb3JlZ3JvdW5kID0gdGhpcy5kb20uZm9yZWdyb3VuZDsKICAgIHRoaXMudG9wID0gZm9yZWdyb3VuZC5vZmZzZXRUb3A7CiAgICB0aGlzLmxlZnQgPSBmb3JlZ3JvdW5kLm9mZnNldExlZnQ7CiAgICB0aGlzLndpZHRoID0gZm9yZWdyb3VuZC5vZmZzZXRXaWR0aDsKICAgIHJlc2l6ZWQgPSB1dGlsLnVwZGF0ZVByb3BlcnR5KHRoaXMsICdoZWlnaHQnLCBoZWlnaHQpIHx8IHJlc2l6ZWQ7CgogICAgLy8gcmVjYWxjdWxhdGUgc2l6ZSBvZiBsYWJlbAogICAgcmVzaXplZCA9IHV0aWwudXBkYXRlUHJvcGVydHkodGhpcy5wcm9wcy5sYWJlbCwgJ3dpZHRoJywgdGhpcy5kb20uaW5uZXIuY2xpZW50V2lkdGgpIHx8IHJlc2l6ZWQ7CiAgICByZXNpemVkID0gdXRpbC51cGRhdGVQcm9wZXJ0eSh0aGlzLnByb3BzLmxhYmVsLCAnaGVpZ2h0JywgdGhpcy5kb20uaW5uZXIuY2xpZW50SGVpZ2h0KSB8fCByZXNpemVkOwoKICAgIC8vIGFwcGx5IG5ldyBoZWlnaHQKICAgIHRoaXMuZG9tLmJhY2tncm91bmQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JzsKICAgIHRoaXMuZG9tLmZvcmVncm91bmQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JzsKICAgIHRoaXMuZG9tLmxhYmVsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7CgogICAgLy8gdXBkYXRlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIGl0ZW1zIGFmdGVyIHRoZXkgYXJlIHJlLXN0YWNrZWQgYW5kIHRoZSBoZWlnaHQgb2YgdGhlIGdyb3VwIGlzIGNhbGN1bGF0ZWQKICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMudmlzaWJsZUl0ZW1zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgdmFyIGl0ZW0gPSB0aGlzLnZpc2libGVJdGVtc1tpXTsKICAgICAgaXRlbS5yZXBvc2l0aW9uWShtYXJnaW4pOwogICAgfQoKICAgIHJldHVybiByZXNpemVkOwogIH07CgogIC8qKgogICAqIHJlY2FsY3VsYXRlIHRoZSBoZWlnaHQgb2YgdGhlIGdyb3VwCiAgICogQHBhcmFtIHt7aXRlbToge2hvcml6b250YWw6IG51bWJlciwgdmVydGljYWw6IG51bWJlcn0sIGF4aXM6IG51bWJlcn19IG1hcmdpbgogICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGhlaWdodAogICAqIEBwcml2YXRlCiAgICovCiAgR3JvdXAucHJvdG90eXBlLl9jYWxjdWxhdGVIZWlnaHQgPSBmdW5jdGlvbiAobWFyZ2luKSB7CiAgICAvLyByZWNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBncm91cAogICAgdmFyIGhlaWdodDsKICAgIHZhciB2aXNpYmxlSXRlbXMgPSB0aGlzLnZpc2libGVJdGVtczsKICAgIC8vdmFyIHZpc2libGVTdWJncm91cHMgPSBbXTsKICAgIC8vdGhpcy52aXNpYmxlU3ViZ3JvdXBzID0gMDsKICAgIHRoaXMucmVzZXRTdWJncm91cHMoKTsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBpZiAodmlzaWJsZUl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIG1pbiA9IHZpc2libGVJdGVtc1swXS50b3A7CiAgICAgIHZhciBtYXggPSB2aXNpYmxlSXRlbXNbMF0udG9wICsgdmlzaWJsZUl0ZW1zWzBdLmhlaWdodDsKICAgICAgdXRpbC5mb3JFYWNoKHZpc2libGVJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGl0ZW0udG9wKTsKICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIGl0ZW0udG9wICsgaXRlbS5oZWlnaHQpOwogICAgICAgIGlmIChpdGVtLmRhdGEuc3ViZ3JvdXAgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgbWUuc3ViZ3JvdXBzW2l0ZW0uZGF0YS5zdWJncm91cF0uaGVpZ2h0ID0gTWF0aC5tYXgobWUuc3ViZ3JvdXBzW2l0ZW0uZGF0YS5zdWJncm91cF0uaGVpZ2h0LCBpdGVtLmhlaWdodCk7CiAgICAgICAgICBtZS5zdWJncm91cHNbaXRlbS5kYXRhLnN1Ymdyb3VwXS52aXNpYmxlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAobWluID4gbWFyZ2luLmF4aXMpIHsKICAgICAgICAvLyB0aGVyZSBpcyBhbiBlbXB0eSBnYXAgYmV0d2VlbiB0aGUgbG93ZXN0IGl0ZW0gYW5kIHRoZSBheGlzCiAgICAgICAgdmFyIG9mZnNldCA9IG1pbiAtIG1hcmdpbi5heGlzOwogICAgICAgIG1heCAtPSBvZmZzZXQ7CiAgICAgICAgdXRpbC5mb3JFYWNoKHZpc2libGVJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0udG9wIC09IG9mZnNldDsKICAgICAgICB9KTsKICAgICAgfQogICAgICBoZWlnaHQgPSBtYXggKyBtYXJnaW4uaXRlbS52ZXJ0aWNhbCAvIDI7CiAgICB9IGVsc2UgewogICAgICBoZWlnaHQgPSAwOwogICAgfQogICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCB0aGlzLnByb3BzLmxhYmVsLmhlaWdodCk7CgogICAgcmV0dXJuIGhlaWdodDsKICB9OwoKICAvKioKICAgKiBTaG93IHRoaXMgZ3JvdXA6IGF0dGFjaCB0byB0aGUgRE9NCiAgICovCiAgR3JvdXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuZG9tLmxhYmVsLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5pdGVtU2V0LmRvbS5sYWJlbFNldC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5sYWJlbCk7CiAgICB9CgogICAgaWYgKCF0aGlzLmRvbS5mb3JlZ3JvdW5kLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5pdGVtU2V0LmRvbS5mb3JlZ3JvdW5kLmFwcGVuZENoaWxkKHRoaXMuZG9tLmZvcmVncm91bmQpOwogICAgfQoKICAgIGlmICghdGhpcy5kb20uYmFja2dyb3VuZC5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuaXRlbVNldC5kb20uYmFja2dyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5iYWNrZ3JvdW5kKTsKICAgIH0KCiAgICBpZiAoIXRoaXMuZG9tLmF4aXMucGFyZW50Tm9kZSkgewogICAgICB0aGlzLml0ZW1TZXQuZG9tLmF4aXMuYXBwZW5kQ2hpbGQodGhpcy5kb20uYXhpcyk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogSGlkZSB0aGlzIGdyb3VwOiByZW1vdmUgZnJvbSB0aGUgRE9NCiAgICovCiAgR3JvdXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFiZWwgPSB0aGlzLmRvbS5sYWJlbDsKICAgIGlmIChsYWJlbC5wYXJlbnROb2RlKSB7CiAgICAgIGxhYmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGFiZWwpOwogICAgfQoKICAgIHZhciBmb3JlZ3JvdW5kID0gdGhpcy5kb20uZm9yZWdyb3VuZDsKICAgIGlmIChmb3JlZ3JvdW5kLnBhcmVudE5vZGUpIHsKICAgICAgZm9yZWdyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZvcmVncm91bmQpOwogICAgfQoKICAgIHZhciBiYWNrZ3JvdW5kID0gdGhpcy5kb20uYmFja2dyb3VuZDsKICAgIGlmIChiYWNrZ3JvdW5kLnBhcmVudE5vZGUpIHsKICAgICAgYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJhY2tncm91bmQpOwogICAgfQoKICAgIHZhciBheGlzID0gdGhpcy5kb20uYXhpczsKICAgIGlmIChheGlzLnBhcmVudE5vZGUpIHsKICAgICAgYXhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGF4aXMpOwogICAgfQogIH07CgogIC8qKgogICAqIEFkZCBhbiBpdGVtIHRvIHRoZSBncm91cAogICAqIEBwYXJhbSB7SXRlbX0gaXRlbQogICAqLwogIEdyb3VwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgdGhpcy5pdGVtc1tpdGVtLmlkXSA9IGl0ZW07CiAgICBpdGVtLnNldFBhcmVudCh0aGlzKTsKCiAgICAvLyBhZGQgdG8KICAgIGlmIChpdGVtLmRhdGEuc3ViZ3JvdXAgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodGhpcy5zdWJncm91cHNbaXRlbS5kYXRhLnN1Ymdyb3VwXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5zdWJncm91cHNbaXRlbS5kYXRhLnN1Ymdyb3VwXSA9IHsgaGVpZ2h0OiAwLCB2aXNpYmxlOiBmYWxzZSwgaW5kZXg6IHRoaXMuc3ViZ3JvdXBJbmRleCwgaXRlbXM6IFtdIH07CiAgICAgICAgdGhpcy5zdWJncm91cEluZGV4Kys7CiAgICAgIH0KICAgICAgdGhpcy5zdWJncm91cHNbaXRlbS5kYXRhLnN1Ymdyb3VwXS5pdGVtcy5wdXNoKGl0ZW0pOwogICAgfQogICAgdGhpcy5vcmRlclN1Ymdyb3VwcygpOwoKICAgIGlmICh0aGlzLnZpc2libGVJdGVtcy5pbmRleE9mKGl0ZW0pID09IC0xKSB7CiAgICAgIHZhciByYW5nZSA9IHRoaXMuaXRlbVNldC5ib2R5LnJhbmdlOyAvLyBUT0RPOiBub3QgbmljZSBhY2Nlc3NpbmcgdGhlIHJhbmdlIGxpa2UgdGhpcwogICAgICB0aGlzLl9jaGVja0lmVmlzaWJsZShpdGVtLCB0aGlzLnZpc2libGVJdGVtcywgcmFuZ2UpOwogICAgfQogIH07CgogIEdyb3VwLnByb3RvdHlwZS5vcmRlclN1Ymdyb3VwcyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnN1Ymdyb3VwT3JkZXJlciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBzb3J0QXJyYXkgPSBbXTsKICAgICAgaWYgKHR5cGVvZiB0aGlzLnN1Ymdyb3VwT3JkZXJlciA9PSAnc3RyaW5nJykgewogICAgICAgIGZvciAodmFyIHN1Ymdyb3VwIGluIHRoaXMuc3ViZ3JvdXBzKSB7CiAgICAgICAgICBzb3J0QXJyYXkucHVzaCh7IHN1Ymdyb3VwOiBzdWJncm91cCwgc29ydEZpZWxkOiB0aGlzLnN1Ymdyb3Vwc1tzdWJncm91cF0uaXRlbXNbMF0uZGF0YVt0aGlzLnN1Ymdyb3VwT3JkZXJlcl0gfSk7CiAgICAgICAgfQogICAgICAgIHNvcnRBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS5zb3J0RmllbGQgLSBiLnNvcnRGaWVsZDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5zdWJncm91cE9yZGVyZXIgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGZvciAodmFyIHN1Ymdyb3VwIGluIHRoaXMuc3ViZ3JvdXBzKSB7CiAgICAgICAgICBzb3J0QXJyYXkucHVzaCh0aGlzLnN1Ymdyb3Vwc1tzdWJncm91cF0uaXRlbXNbMF0uZGF0YSk7CiAgICAgICAgfQogICAgICAgIHNvcnRBcnJheS5zb3J0KHRoaXMuc3ViZ3JvdXBPcmRlcmVyKTsKICAgICAgfQoKICAgICAgaWYgKHNvcnRBcnJheS5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0QXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3ViZ3JvdXBzW3NvcnRBcnJheVtpXS5zdWJncm91cF0uaW5kZXggPSBpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIEdyb3VwLnByb3RvdHlwZS5yZXNldFN1Ymdyb3VwcyA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIHN1Ymdyb3VwIGluIHRoaXMuc3ViZ3JvdXBzKSB7CiAgICAgIGlmICh0aGlzLnN1Ymdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShzdWJncm91cCkpIHsKICAgICAgICB0aGlzLnN1Ymdyb3Vwc1tzdWJncm91cF0udmlzaWJsZSA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgZ3JvdXAKICAgKiBAcGFyYW0ge0l0ZW19IGl0ZW0KICAgKi8KICBHcm91cC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGRlbGV0ZSB0aGlzLml0ZW1zW2l0ZW0uaWRdOwogICAgaXRlbS5zZXRQYXJlbnQobnVsbCk7CgogICAgLy8gcmVtb3ZlIGZyb20gdmlzaWJsZSBpdGVtcwogICAgdmFyIGluZGV4ID0gdGhpcy52aXNpYmxlSXRlbXMuaW5kZXhPZihpdGVtKTsKICAgIGlmIChpbmRleCAhPSAtMSkgdGhpcy52aXNpYmxlSXRlbXMuc3BsaWNlKGluZGV4LCAxKTsKCiAgICAvLyBUT0RPOiBhbHNvIHJlbW92ZSBmcm9tIG9yZGVyZWQgaXRlbXM/CiAgfTsKCiAgLyoqCiAgICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgY29ycmVzcG9uZGluZyBEYXRhU2V0CiAgICogQHBhcmFtIHtJdGVtfSBpdGVtCiAgICovCiAgR3JvdXAucHJvdG90eXBlLnJlbW92ZUZyb21EYXRhU2V0ID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHRoaXMuaXRlbVNldC5yZW1vdmVJdGVtKGl0ZW0uaWQpOwogIH07CgogIC8qKgogICAqIFJlb3JkZXIgdGhlIGl0ZW1zCiAgICovCiAgR3JvdXAucHJvdG90eXBlLm9yZGVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGFycmF5ID0gdXRpbC50b0FycmF5KHRoaXMuaXRlbXMpOwogICAgdmFyIHN0YXJ0QXJyYXkgPSBbXTsKICAgIHZhciBlbmRBcnJheSA9IFtdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGFycmF5W2ldLmRhdGEuZW5kICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBlbmRBcnJheS5wdXNoKGFycmF5W2ldKTsKICAgICAgfQogICAgICBzdGFydEFycmF5LnB1c2goYXJyYXlbaV0pOwogICAgfQogICAgdGhpcy5vcmRlcmVkSXRlbXMgPSB7CiAgICAgIGJ5U3RhcnQ6IHN0YXJ0QXJyYXksCiAgICAgIGJ5RW5kOiBlbmRBcnJheQogICAgfTsKCiAgICBzdGFjay5vcmRlckJ5U3RhcnQodGhpcy5vcmRlcmVkSXRlbXMuYnlTdGFydCk7CiAgICBzdGFjay5vcmRlckJ5RW5kKHRoaXMub3JkZXJlZEl0ZW1zLmJ5RW5kKTsKICB9OwoKICAvKioKICAgKiBVcGRhdGUgdGhlIHZpc2libGUgaXRlbXMKICAgKiBAcGFyYW0ge3tieVN0YXJ0OiBJdGVtW10sIGJ5RW5kOiBJdGVtW119fSBvcmRlcmVkSXRlbXMgICBBbGwgaXRlbXMgb3JkZXJlZCBieSBzdGFydCBkYXRlIGFuZCBieSBlbmQgZGF0ZQogICAqIEBwYXJhbSB7SXRlbVtdfSB2aXNpYmxlSXRlbXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBwcmV2aW91c2x5IHZpc2libGUgaXRlbXMuCiAgICogQHBhcmFtIHt7c3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXJ9fSByYW5nZSAgICAgICAgICAgICAgVmlzaWJsZSByYW5nZQogICAqIEByZXR1cm4ge0l0ZW1bXX0gdmlzaWJsZUl0ZW1zICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBuZXcgdmlzaWJsZSBpdGVtcy4KICAgKiBAcHJpdmF0ZQogICAqLwogIEdyb3VwLnByb3RvdHlwZS5fdXBkYXRlVmlzaWJsZUl0ZW1zID0gZnVuY3Rpb24gKG9yZGVyZWRJdGVtcywgb2xkVmlzaWJsZUl0ZW1zLCByYW5nZSkgewogICAgdmFyIHZpc2libGVJdGVtcyA9IFtdOwogICAgdmFyIHZpc2libGVJdGVtc0xvb2t1cCA9IHt9OyAvLyB3ZSBrZWVwIHRoaXMgdG8gcXVpY2tseSBsb29rIHVwIGlmIGFuIGl0ZW0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGxpc3Qgd2l0aG91dCB1c2luZyBpbmRleE9mIG9uIHZpc2libGVJdGVtcwogICAgdmFyIGludGVydmFsID0gKHJhbmdlLmVuZCAtIHJhbmdlLnN0YXJ0KSAvIDQ7CiAgICB2YXIgbG93ZXJCb3VuZCA9IHJhbmdlLnN0YXJ0IC0gaW50ZXJ2YWw7CiAgICB2YXIgdXBwZXJCb3VuZCA9IHJhbmdlLmVuZCArIGludGVydmFsOwogICAgdmFyIGl0ZW0sIGk7CgogICAgLy8gdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGRvIHRoZSBiaW5hcnkgc2VhcmNoLgogICAgdmFyIHNlYXJjaEZ1bmN0aW9uID0gZnVuY3Rpb24gc2VhcmNoRnVuY3Rpb24odmFsdWUpIHsKICAgICAgaWYgKHZhbHVlIDwgbG93ZXJCb3VuZCkgewogICAgICAgIHJldHVybiAtMTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8PSB1cHBlckJvdW5kKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICAgIH0KICAgIH07CgogICAgLy8gZmlyc3QgY2hlY2sgaWYgdGhlIGl0ZW1zIHRoYXQgd2VyZSBpbiB2aWV3IHByZXZpb3VzbHkgYXJlIHN0aWxsIGluIHZpZXcuCiAgICAvLyBJTVBPUlRBTlQ6IHRoaXMgaGFuZGxlcyB0aGUgY2FzZSBmb3IgdGhlIGl0ZW1zIHdpdGggc3RhcnRkYXRlIGJlZm9yZSB0aGUgd2luZG93IGFuZCBlbmRkYXRlIGFmdGVyIHRoZSB3aW5kb3chCiAgICAvLyBhbHNvIGNsZWFucyB1cCBpbnZpc2libGUgaXRlbXMuCiAgICBpZiAob2xkVmlzaWJsZUl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgZm9yIChpID0gMDsgaSA8IG9sZFZpc2libGVJdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuX2NoZWNrSWZWaXNpYmxlV2l0aFJlZmVyZW5jZShvbGRWaXNpYmxlSXRlbXNbaV0sIHZpc2libGVJdGVtcywgdmlzaWJsZUl0ZW1zTG9va3VwLCByYW5nZSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyB3ZSBkbyBhIGJpbmFyeSBzZWFyY2ggZm9yIHRoZSBpdGVtcyB0aGF0IGhhdmUgb25seSBzdGFydCB2YWx1ZXMuCiAgICB2YXIgaW5pdGlhbFBvc0J5U3RhcnQgPSB1dGlsLmJpbmFyeVNlYXJjaEN1c3RvbShvcmRlcmVkSXRlbXMuYnlTdGFydCwgc2VhcmNoRnVuY3Rpb24sICdkYXRhJywgJ3N0YXJ0Jyk7CgogICAgLy8gdHJhY2UgdGhlIHZpc2libGUgaXRlbXMgZnJvbSB0aGUgaW5pdGFsIHN0YXJ0IHBvcyBib3RoIHdheXMgdW50aWwgYW4gaW52aXNpYmxlIGl0ZW0gaXMgZm91bmQsIHdlIG9ubHkgbG9vayBhdCB0aGUgc3RhcnQgdmFsdWVzLgogICAgdGhpcy5fdHJhY2VWaXNpYmxlKGluaXRpYWxQb3NCeVN0YXJ0LCBvcmRlcmVkSXRlbXMuYnlTdGFydCwgdmlzaWJsZUl0ZW1zLCB2aXNpYmxlSXRlbXNMb29rdXAsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmRhdGEuc3RhcnQgPCBsb3dlckJvdW5kIHx8IGl0ZW0uZGF0YS5zdGFydCA+IHVwcGVyQm91bmQ7CiAgICB9KTsKCiAgICAvLyBpZiB0aGUgd2luZG93IGhhcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgd2l0aG91dCBvdmVybGFwcGluZyB0aGUgb2xkIHdpbmRvdywgdGhlIHJhbmdlZCBpdGVtcyB3aXRoIHN0YXJ0IDwgbG93ZXJCb3VuZCBhbmQgZW5kID4gdXBwZXJib3VuZCBhcmUgbm90IHNob3duLgogICAgLy8gV2UgdGhlcmVmb3JlIGhhdmUgdG8gYnJ1dGUgZm9yY2UgY2hlY2sgYWxsIGl0ZW1zIGluIHRoZSBieUVuZCBsaXN0CiAgICBpZiAodGhpcy5jaGVja1JhbmdlZEl0ZW1zID09IHRydWUpIHsKICAgICAgdGhpcy5jaGVja1JhbmdlZEl0ZW1zID0gZmFsc2U7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBvcmRlcmVkSXRlbXMuYnlFbmQubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLl9jaGVja0lmVmlzaWJsZVdpdGhSZWZlcmVuY2Uob3JkZXJlZEl0ZW1zLmJ5RW5kW2ldLCB2aXNpYmxlSXRlbXMsIHZpc2libGVJdGVtc0xvb2t1cCwgcmFuZ2UpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyB3ZSBkbyBhIGJpbmFyeSBzZWFyY2ggZm9yIHRoZSBpdGVtcyB0aGF0IGhhdmUgZGVmaW5lZCBlbmQgdGltZXMuCiAgICAgIHZhciBpbml0aWFsUG9zQnlFbmQgPSB1dGlsLmJpbmFyeVNlYXJjaEN1c3RvbShvcmRlcmVkSXRlbXMuYnlFbmQsIHNlYXJjaEZ1bmN0aW9uLCAnZGF0YScsICdlbmQnKTsKCiAgICAgIC8vIHRyYWNlIHRoZSB2aXNpYmxlIGl0ZW1zIGZyb20gdGhlIGluaXRhbCBzdGFydCBwb3MgYm90aCB3YXlzIHVudGlsIGFuIGludmlzaWJsZSBpdGVtIGlzIGZvdW5kLCB3ZSBvbmx5IGxvb2sgYXQgdGhlIGVuZCB2YWx1ZXMuCiAgICAgIHRoaXMuX3RyYWNlVmlzaWJsZShpbml0aWFsUG9zQnlFbmQsIG9yZGVyZWRJdGVtcy5ieUVuZCwgdmlzaWJsZUl0ZW1zLCB2aXNpYmxlSXRlbXNMb29rdXAsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uZGF0YS5lbmQgPCBsb3dlckJvdW5kIHx8IGl0ZW0uZGF0YS5lbmQgPiB1cHBlckJvdW5kOwogICAgICB9KTsKICAgIH0KCiAgICAvLyBmaW5hbGx5LCB3ZSByZXBvc2l0aW9uIGFsbCB0aGUgdmlzaWJsZSBpdGVtcy4KICAgIGZvciAoaSA9IDA7IGkgPCB2aXNpYmxlSXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgaXRlbSA9IHZpc2libGVJdGVtc1tpXTsKICAgICAgaWYgKCFpdGVtLmRpc3BsYXllZCkgaXRlbS5zaG93KCk7CiAgICAgIC8vIHJlcG9zaXRpb24gaXRlbSBob3Jpem9udGFsbHkKICAgICAgaXRlbS5yZXBvc2l0aW9uWCgpOwogICAgfQoKICAgIC8vIGRlYnVnCiAgICAvL2NvbnNvbGUubG9nKCJuZXcgbGluZSIpCiAgICAvL2lmICh0aGlzLmdyb3VwSWQgPT0gbnVsbCkgewogICAgLy8gIGZvciAoaSA9IDA7IGkgPCBvcmRlcmVkSXRlbXMuYnlTdGFydC5sZW5ndGg7IGkrKykgewogICAgLy8gICAgaXRlbSA9IG9yZGVyZWRJdGVtcy5ieVN0YXJ0W2ldLmRhdGE7CiAgICAvLyAgICBjb25zb2xlLmxvZygnc3RhcnQnLGksaW5pdGlhbFBvc0J5U3RhcnQsIGl0ZW0uc3RhcnQudmFsdWVPZigpLCBpdGVtLmNvbnRlbnQsIGl0ZW0uc3RhcnQgPj0gbG93ZXJCb3VuZCAmJiBpdGVtLnN0YXJ0IDw9IHVwcGVyQm91bmQsaSA9PSBpbml0aWFsUG9zQnlTdGFydCA/ICI8LS0tLS0tLS0tLS0tLS0tLS0tLSBIRVJFRUVFIiA6ICIiKQogICAgLy8gIH0KICAgIC8vICBmb3IgKGkgPSAwOyBpIDwgb3JkZXJlZEl0ZW1zLmJ5RW5kLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgICBpdGVtID0gb3JkZXJlZEl0ZW1zLmJ5RW5kW2ldLmRhdGE7CiAgICAvLyAgICBjb25zb2xlLmxvZygncmFuZ2VFbmQnLGksaW5pdGlhbFBvc0J5RW5kLCBpdGVtLmVuZC52YWx1ZU9mKCksIGl0ZW0uY29udGVudCwgaXRlbS5lbmQgPj0gcmFuZ2Uuc3RhcnQgJiYgaXRlbS5lbmQgPD0gcmFuZ2UuZW5kLGkgPT0gaW5pdGlhbFBvc0J5RW5kID8gIjwtLS0tLS0tLS0tLS0tLS0tLS0tIEhFUkVFRUUiIDogIiIpCiAgICAvLyAgfQogICAgLy99CgogICAgcmV0dXJuIHZpc2libGVJdGVtczsKICB9OwoKICBHcm91cC5wcm90b3R5cGUuX3RyYWNlVmlzaWJsZSA9IGZ1bmN0aW9uIChpbml0aWFsUG9zLCBpdGVtcywgdmlzaWJsZUl0ZW1zLCB2aXNpYmxlSXRlbXNMb29rdXAsIGJyZWFrQ29uZGl0aW9uKSB7CiAgICB2YXIgaXRlbTsKICAgIHZhciBpOwoKICAgIGlmIChpbml0aWFsUG9zICE9IC0xKSB7CiAgICAgIGZvciAoaSA9IGluaXRpYWxQb3M7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgaXRlbSA9IGl0ZW1zW2ldOwogICAgICAgIGlmIChicmVha0NvbmRpdGlvbihpdGVtKSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh2aXNpYmxlSXRlbXNMb29rdXBbaXRlbS5pZF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB2aXNpYmxlSXRlbXNMb29rdXBbaXRlbS5pZF0gPSB0cnVlOwogICAgICAgICAgICB2aXNpYmxlSXRlbXMucHVzaChpdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAoaSA9IGluaXRpYWxQb3MgKyAxOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpdGVtID0gaXRlbXNbaV07CiAgICAgICAgaWYgKGJyZWFrQ29uZGl0aW9uKGl0ZW0pKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHZpc2libGVJdGVtc0xvb2t1cFtpdGVtLmlkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHZpc2libGVJdGVtc0xvb2t1cFtpdGVtLmlkXSA9IHRydWU7CiAgICAgICAgICAgIHZpc2libGVJdGVtcy5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIHRoaXMgZnVuY3Rpb24gaXMgdmVyeSBzaW1pbGFyIHRvIHRoZSBfY2hlY2tJZkludmlzaWJsZSgpIGJ1dCBpdCBkb2VzIG5vdAogICAqIHJldHVybiBib29sZWFucywgaGlkZXMgdGhlIGl0ZW0gaWYgaXQgc2hvdWxkIG5vdCBiZSBzZWVuIGFuZCBhbHdheXMgYWRkcyB0bwogICAqIHRoZSB2aXNpYmxlSXRlbXMuCiAgICogdGhpcyBvbmUgaXMgZm9yIGJydXRlIGZvcmNpbmcgYW5kIGhpZGluZy4KICAgKgogICAqIEBwYXJhbSB7SXRlbX0gaXRlbQogICAqIEBwYXJhbSB7QXJyYXl9IHZpc2libGVJdGVtcwogICAqIEBwYXJhbSB7e3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn19IHJhbmdlCiAgICogQHByaXZhdGUKICAgKi8KICBHcm91cC5wcm90b3R5cGUuX2NoZWNrSWZWaXNpYmxlID0gZnVuY3Rpb24gKGl0ZW0sIHZpc2libGVJdGVtcywgcmFuZ2UpIHsKICAgIGlmIChpdGVtLmlzVmlzaWJsZShyYW5nZSkpIHsKICAgICAgaWYgKCFpdGVtLmRpc3BsYXllZCkgaXRlbS5zaG93KCk7CiAgICAgIC8vIHJlcG9zaXRpb24gaXRlbSBob3Jpem9udGFsbHkKICAgICAgaXRlbS5yZXBvc2l0aW9uWCgpOwogICAgICB2aXNpYmxlSXRlbXMucHVzaChpdGVtKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChpdGVtLmRpc3BsYXllZCkgaXRlbS5oaWRlKCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogdGhpcyBmdW5jdGlvbiBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhlIF9jaGVja0lmSW52aXNpYmxlKCkgYnV0IGl0IGRvZXMgbm90CiAgICogcmV0dXJuIGJvb2xlYW5zLCBoaWRlcyB0aGUgaXRlbSBpZiBpdCBzaG91bGQgbm90IGJlIHNlZW4gYW5kIGFsd2F5cyBhZGRzIHRvCiAgICogdGhlIHZpc2libGVJdGVtcy4KICAgKiB0aGlzIG9uZSBpcyBmb3IgYnJ1dGUgZm9yY2luZyBhbmQgaGlkaW5nLgogICAqCiAgICogQHBhcmFtIHtJdGVtfSBpdGVtCiAgICogQHBhcmFtIHtBcnJheX0gdmlzaWJsZUl0ZW1zCiAgICogQHBhcmFtIHt7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfX0gcmFuZ2UKICAgKiBAcHJpdmF0ZQogICAqLwogIEdyb3VwLnByb3RvdHlwZS5fY2hlY2tJZlZpc2libGVXaXRoUmVmZXJlbmNlID0gZnVuY3Rpb24gKGl0ZW0sIHZpc2libGVJdGVtcywgdmlzaWJsZUl0ZW1zTG9va3VwLCByYW5nZSkgewogICAgaWYgKGl0ZW0uaXNWaXNpYmxlKHJhbmdlKSkgewogICAgICBpZiAodmlzaWJsZUl0ZW1zTG9va3VwW2l0ZW0uaWRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICB2aXNpYmxlSXRlbXNMb29rdXBbaXRlbS5pZF0gPSB0cnVlOwogICAgICAgIHZpc2libGVJdGVtcy5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAoaXRlbS5kaXNwbGF5ZWQpIGl0ZW0uaGlkZSgpOwogICAgfQogIH07CgogIG1vZHVsZS5leHBvcnRzID0gR3JvdXA7CgovKioqLyB9LAovKiAzMyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIG9yZGVyaW5nIGFuZCBzdGFja2luZyBvZiBpdGVtcwogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIEVQU0lMT04gPSAwLjAwMTsgLy8gdXNlZCB3aGVuIGNoZWNraW5nIGNvbGxpc2lvbnMsIHRvIHByZXZlbnQgcm91bmQtb2ZmIGVycm9ycwoKICAvKioKICAgKiBPcmRlciBpdGVtcyBieSB0aGVpciBzdGFydCBkYXRhCiAgICogQHBhcmFtIHtJdGVtW119IGl0ZW1zCiAgICovCiAgZXhwb3J0cy5vcmRlckJ5U3RhcnQgPSBmdW5jdGlvbiAoaXRlbXMpIHsKICAgIGl0ZW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgcmV0dXJuIGEuZGF0YS5zdGFydCAtIGIuZGF0YS5zdGFydDsKICAgIH0pOwogIH07CgogIC8qKgogICAqIE9yZGVyIGl0ZW1zIGJ5IHRoZWlyIGVuZCBkYXRlLiBJZiB0aGV5IGhhdmUgbm8gZW5kIGRhdGUsIHRoZWlyIHN0YXJ0IGRhdGUKICAgKiBpcyB1c2VkLgogICAqIEBwYXJhbSB7SXRlbVtdfSBpdGVtcwogICAqLwogIGV4cG9ydHMub3JkZXJCeUVuZCA9IGZ1bmN0aW9uIChpdGVtcykgewogICAgaXRlbXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICB2YXIgYVRpbWUgPSAnZW5kJyBpbiBhLmRhdGEgPyBhLmRhdGEuZW5kIDogYS5kYXRhLnN0YXJ0LAogICAgICAgICAgYlRpbWUgPSAnZW5kJyBpbiBiLmRhdGEgPyBiLmRhdGEuZW5kIDogYi5kYXRhLnN0YXJ0OwoKICAgICAgcmV0dXJuIGFUaW1lIC0gYlRpbWU7CiAgICB9KTsKICB9OwoKICAvKioKICAgKiBBZGp1c3QgdmVydGljYWwgcG9zaXRpb25zIG9mIHRoZSBpdGVtcyBzdWNoIHRoYXQgdGhleSBkb24ndCBvdmVybGFwIGVhY2gKICAgKiBvdGhlci4KICAgKiBAcGFyYW0ge0l0ZW1bXX0gaXRlbXMKICAgKiAgICAgICAgICAgIEFsbCB2aXNpYmxlIGl0ZW1zCiAgICogQHBhcmFtIHt7aXRlbToge2hvcml6b250YWw6IG51bWJlciwgdmVydGljYWw6IG51bWJlcn0sIGF4aXM6IG51bWJlcn19IG1hcmdpbgogICAqICAgICAgICAgICAgTWFyZ2lucyBiZXR3ZWVuIGl0ZW1zIGFuZCBiZXR3ZWVuIGl0ZW1zIGFuZCB0aGUgYXhpcy4KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZT1mYWxzZV0KICAgKiAgICAgICAgICAgIElmIHRydWUsIGFsbCBpdGVtcyB3aWxsIGJlIHJlcG9zaXRpb25lZC4gSWYgZmFsc2UgKGRlZmF1bHQpLCBvbmx5CiAgICogICAgICAgICAgICBpdGVtcyBoYXZpbmcgYSB0b3A9PT1udWxsIHdpbGwgYmUgcmUtc3RhY2tlZAogICAqLwogIGV4cG9ydHMuc3RhY2sgPSBmdW5jdGlvbiAoaXRlbXMsIG1hcmdpbiwgZm9yY2UpIHsKICAgIHZhciBpLCBpTWF4OwoKICAgIGlmIChmb3JjZSkgewogICAgICAvLyByZXNldCB0b3AgcG9zaXRpb24gb2YgYWxsIGl0ZW1zCiAgICAgIGZvciAoaSA9IDAsIGlNYXggPSBpdGVtcy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHsKICAgICAgICBpdGVtc1tpXS50b3AgPSBudWxsOwogICAgICB9CiAgICB9CgogICAgLy8gY2FsY3VsYXRlIG5ldywgbm9uLW92ZXJsYXBwaW5nIHBvc2l0aW9ucwogICAgZm9yIChpID0gMCwgaU1heCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykgewogICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldOwogICAgICBpZiAoaXRlbS5zdGFjayAmJiBpdGVtLnRvcCA9PT0gbnVsbCkgewogICAgICAgIC8vIGluaXRpYWxpemUgdG9wIHBvc2l0aW9uCiAgICAgICAgaXRlbS50b3AgPSBtYXJnaW4uYXhpczsKCiAgICAgICAgZG8gewogICAgICAgICAgLy8gVE9ETzogb3B0aW1pemUgY2hlY2tpbmcgZm9yIG92ZXJsYXAuIHdoZW4gdGhlcmUgaXMgYSBnYXAgd2l0aG91dCBpdGVtcywKICAgICAgICAgIC8vICAgICAgIHlvdSBvbmx5IG5lZWQgdG8gY2hlY2sgZm9yIGl0ZW1zIGZyb20gdGhlIG5leHQgaXRlbSBvbiwgbm90IGZyb20gemVybwogICAgICAgICAgdmFyIGNvbGxpZGluZ0l0ZW0gPSBudWxsOwogICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gaXRlbXMubGVuZ3RoOyBqIDwgamo7IGorKykgewogICAgICAgICAgICB2YXIgb3RoZXIgPSBpdGVtc1tqXTsKICAgICAgICAgICAgaWYgKG90aGVyLnRvcCAhPT0gbnVsbCAmJiBvdGhlciAhPT0gaXRlbSAmJiBvdGhlci5zdGFjayAmJiBleHBvcnRzLmNvbGxpc2lvbihpdGVtLCBvdGhlciwgbWFyZ2luLml0ZW0pKSB7CiAgICAgICAgICAgICAgY29sbGlkaW5nSXRlbSA9IG90aGVyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGNvbGxpZGluZ0l0ZW0gIT0gbnVsbCkgewogICAgICAgICAgICAvLyBUaGVyZSBpcyBhIGNvbGxpc2lvbi4gUmVwb3NpdGlvbiB0aGUgaXRlbXMgYWJvdmUgdGhlIGNvbGxpZGluZyBlbGVtZW50CiAgICAgICAgICAgIGl0ZW0udG9wID0gY29sbGlkaW5nSXRlbS50b3AgKyBjb2xsaWRpbmdJdGVtLmhlaWdodCArIG1hcmdpbi5pdGVtLnZlcnRpY2FsOwogICAgICAgICAgfQogICAgICAgIH0gd2hpbGUgKGNvbGxpZGluZ0l0ZW0pOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQWRqdXN0IHZlcnRpY2FsIHBvc2l0aW9ucyBvZiB0aGUgaXRlbXMgd2l0aG91dCBzdGFja2luZyB0aGVtCiAgICogQHBhcmFtIHtJdGVtW119IGl0ZW1zCiAgICogICAgICAgICAgICBBbGwgdmlzaWJsZSBpdGVtcwogICAqIEBwYXJhbSB7e2l0ZW06IHtob3Jpem9udGFsOiBudW1iZXIsIHZlcnRpY2FsOiBudW1iZXJ9LCBheGlzOiBudW1iZXJ9fSBtYXJnaW4KICAgKiAgICAgICAgICAgIE1hcmdpbnMgYmV0d2VlbiBpdGVtcyBhbmQgYmV0d2VlbiBpdGVtcyBhbmQgdGhlIGF4aXMuCiAgICovCiAgZXhwb3J0cy5ub3N0YWNrID0gZnVuY3Rpb24gKGl0ZW1zLCBtYXJnaW4sIHN1Ymdyb3VwcykgewogICAgdmFyIGksIGlNYXgsIG5ld1RvcDsKCiAgICAvLyByZXNldCB0b3AgcG9zaXRpb24gb2YgYWxsIGl0ZW1zCiAgICBmb3IgKGkgPSAwLCBpTWF4ID0gaXRlbXMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7CiAgICAgIGlmIChpdGVtc1tpXS5kYXRhLnN1Ymdyb3VwICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBuZXdUb3AgPSBtYXJnaW4uYXhpczsKICAgICAgICBmb3IgKHZhciBzdWJncm91cCBpbiBzdWJncm91cHMpIHsKICAgICAgICAgIGlmIChzdWJncm91cHMuaGFzT3duUHJvcGVydHkoc3ViZ3JvdXApKSB7CiAgICAgICAgICAgIGlmIChzdWJncm91cHNbc3ViZ3JvdXBdLnZpc2libGUgPT0gdHJ1ZSAmJiBzdWJncm91cHNbc3ViZ3JvdXBdLmluZGV4IDwgc3ViZ3JvdXBzW2l0ZW1zW2ldLmRhdGEuc3ViZ3JvdXBdLmluZGV4KSB7CiAgICAgICAgICAgICAgbmV3VG9wICs9IHN1Ymdyb3Vwc1tzdWJncm91cF0uaGVpZ2h0ICsgbWFyZ2luLml0ZW0udmVydGljYWw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaXRlbXNbaV0udG9wID0gbmV3VG9wOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW1zW2ldLnRvcCA9IG1hcmdpbi5heGlzOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogVGVzdCBpZiB0aGUgdHdvIHByb3ZpZGVkIGl0ZW1zIGNvbGxpZGUKICAgKiBUaGUgaXRlbXMgbXVzdCBoYXZlIHBhcmFtZXRlcnMgbGVmdCwgd2lkdGgsIHRvcCwgYW5kIGhlaWdodC4KICAgKiBAcGFyYW0ge0l0ZW19IGEgICAgICAgICAgVGhlIGZpcnN0IGl0ZW0KICAgKiBAcGFyYW0ge0l0ZW19IGIgICAgICAgICAgVGhlIHNlY29uZCBpdGVtCiAgICogQHBhcmFtIHt7aG9yaXpvbnRhbDogbnVtYmVyLCB2ZXJ0aWNhbDogbnVtYmVyfX0gbWFyZ2luCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIEFuIG9iamVjdCBjb250YWluaW5nIGEgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bSByZXF1aXJlZCBtYXJnaW4uCiAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICAgIHRydWUgaWYgYSBhbmQgYiBjb2xsaWRlLCBlbHNlIGZhbHNlCiAgICovCiAgZXhwb3J0cy5jb2xsaXNpb24gPSBmdW5jdGlvbiAoYSwgYiwgbWFyZ2luKSB7CiAgICByZXR1cm4gYS5sZWZ0IC0gbWFyZ2luLmhvcml6b250YWwgKyBFUFNJTE9OIDwgYi5sZWZ0ICsgYi53aWR0aCAmJiBhLmxlZnQgKyBhLndpZHRoICsgbWFyZ2luLmhvcml6b250YWwgLSBFUFNJTE9OID4gYi5sZWZ0ICYmIGEudG9wIC0gbWFyZ2luLnZlcnRpY2FsICsgRVBTSUxPTiA8IGIudG9wICsgYi5oZWlnaHQgJiYgYS50b3AgKyBhLmhlaWdodCArIG1hcmdpbi52ZXJ0aWNhbCAtIEVQU0lMT04gPiBiLnRvcDsKICB9OwoKLyoqKi8gfSwKLyogMzQgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIEhhbW1lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpOwogIHZhciBJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7CgogIC8qKgogICAqIEBjb25zdHJ1Y3RvciBSYW5nZUl0ZW0KICAgKiBAZXh0ZW5kcyBJdGVtCiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgICAgICAgICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVycyBzdGFydCwgZW5kCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCwgY2xhc3NOYW1lLgogICAqIEBwYXJhbSB7e3RvU2NyZWVuOiBmdW5jdGlvbiwgdG9UaW1lOiBmdW5jdGlvbn19IGNvbnZlcnNpb24KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJzaW9uIGZ1bmN0aW9ucyBmcm9tIHRpbWUgdG8gc2NyZWVuIGFuZCB2aWNlIHZlcnNhCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgQ29uZmlndXJhdGlvbiBvcHRpb25zCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZGVzY3JpYmUgb3B0aW9ucwogICAqLwogIGZ1bmN0aW9uIFJhbmdlSXRlbShkYXRhLCBjb252ZXJzaW9uLCBvcHRpb25zKSB7CiAgICB0aGlzLnByb3BzID0gewogICAgICBjb250ZW50OiB7CiAgICAgICAgd2lkdGg6IDAKICAgICAgfQogICAgfTsKICAgIHRoaXMub3ZlcmZsb3cgPSBmYWxzZTsgLy8gaWYgY29udGVudHMgY2FuIG92ZXJmbG93IChjc3Mgc3R5bGluZyksIHRoaXMgZmxhZyBpcyBzZXQgdG8gdHJ1ZQoKICAgIC8vIHZhbGlkYXRlIGRhdGEKICAgIGlmIChkYXRhKSB7CiAgICAgIGlmIChkYXRhLnN0YXJ0ID09IHVuZGVmaW5lZCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvcGVydHkgInN0YXJ0IiBtaXNzaW5nIGluIGl0ZW0gJyArIGRhdGEuaWQpOwogICAgICB9CiAgICAgIGlmIChkYXRhLmVuZCA9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5ICJlbmQiIG1pc3NpbmcgaW4gaXRlbSAnICsgZGF0YS5pZCk7CiAgICAgIH0KICAgIH0KCiAgICBJdGVtLmNhbGwodGhpcywgZGF0YSwgY29udmVyc2lvbiwgb3B0aW9ucyk7CiAgfQoKICBSYW5nZUl0ZW0ucHJvdG90eXBlID0gbmV3IEl0ZW0obnVsbCwgbnVsbCwgbnVsbCk7CgogIFJhbmdlSXRlbS5wcm90b3R5cGUuYmFzZUNsYXNzTmFtZSA9ICd2aXMtaXRlbSB2aXMtcmFuZ2UnOwoKICAvKioKICAgKiBDaGVjayB3aGV0aGVyIHRoaXMgaXRlbSBpcyB2aXNpYmxlIGluc2lkZSBnaXZlbiByYW5nZQogICAqIEByZXR1cm5zIHt7c3RhcnQ6IE51bWJlciwgZW5kOiBOdW1iZXJ9fSByYW5nZSB3aXRoIGEgdGltZXN0YW1wIGZvciBzdGFydCBhbmQgZW5kCiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmlzaWJsZQogICAqLwogIFJhbmdlSXRlbS5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAvLyBkZXRlcm1pbmUgdmlzaWJpbGl0eQogICAgcmV0dXJuIHRoaXMuZGF0YS5zdGFydCA8IHJhbmdlLmVuZCAmJiB0aGlzLmRhdGEuZW5kID4gcmFuZ2Uuc3RhcnQ7CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgaXRlbQogICAqLwogIFJhbmdlSXRlbS5wcm90b3R5cGUucmVkcmF3ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGRvbSA9IHRoaXMuZG9tOwogICAgaWYgKCFkb20pIHsKICAgICAgLy8gY3JlYXRlIERPTQogICAgICB0aGlzLmRvbSA9IHt9OwogICAgICBkb20gPSB0aGlzLmRvbTsKCiAgICAgIC8vIGJhY2tncm91bmQgYm94CiAgICAgIGRvbS5ib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgLy8gY2xhc3NOYW1lIGlzIHVwZGF0ZWQgaW4gcmVkcmF3KCkKCiAgICAgIC8vIGZyYW1lIGJveCAodG8gcHJldmVudCB0aGUgaXRlbSBjb250ZW50cyBmcm9tIG92ZXJmbG93aW5nCiAgICAgIGRvbS5mcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBkb20uZnJhbWUuY2xhc3NOYW1lID0gJ3Zpcy1pdGVtLW92ZXJmbG93JzsKICAgICAgZG9tLmJveC5hcHBlbmRDaGlsZChkb20uZnJhbWUpOwoKICAgICAgLy8gY29udGVudHMgYm94CiAgICAgIGRvbS5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGRvbS5jb250ZW50LmNsYXNzTmFtZSA9ICd2aXMtaXRlbS1jb250ZW50JzsKICAgICAgZG9tLmZyYW1lLmFwcGVuZENoaWxkKGRvbS5jb250ZW50KTsKCiAgICAgIC8vIGF0dGFjaCB0aGlzIGl0ZW0gYXMgYXR0cmlidXRlCiAgICAgIGRvbS5ib3hbJ3RpbWVsaW5lLWl0ZW0nXSA9IHRoaXM7CgogICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBhcHBlbmQgRE9NIHRvIHBhcmVudCBET00KICAgIGlmICghdGhpcy5wYXJlbnQpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVkcmF3IGl0ZW06IG5vIHBhcmVudCBhdHRhY2hlZCcpOwogICAgfQogICAgaWYgKCFkb20uYm94LnBhcmVudE5vZGUpIHsKICAgICAgdmFyIGZvcmVncm91bmQgPSB0aGlzLnBhcmVudC5kb20uZm9yZWdyb3VuZDsKICAgICAgaWYgKCFmb3JlZ3JvdW5kKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVkcmF3IGl0ZW06IHBhcmVudCBoYXMgbm8gZm9yZWdyb3VuZCBjb250YWluZXIgZWxlbWVudCcpOwogICAgICB9CiAgICAgIGZvcmVncm91bmQuYXBwZW5kQ2hpbGQoZG9tLmJveCk7CiAgICB9CiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7CgogICAgLy8gVXBkYXRlIERPTSB3aGVuIGl0ZW0gaXMgbWFya2VkIGRpcnR5LiBBbiBpdGVtIGlzIG1hcmtlZCBkaXJ0eSB3aGVuOgogICAgLy8gLSB0aGUgaXRlbSBpcyBub3QgeWV0IHJlbmRlcmVkCiAgICAvLyAtIHRoZSBpdGVtJ3MgZGF0YSBpcyBjaGFuZ2VkCiAgICAvLyAtIHRoZSBpdGVtIGlzIHNlbGVjdGVkL2Rlc2VsZWN0ZWQKICAgIGlmICh0aGlzLmRpcnR5KSB7CiAgICAgIHRoaXMuX3VwZGF0ZUNvbnRlbnRzKHRoaXMuZG9tLmNvbnRlbnQpOwogICAgICB0aGlzLl91cGRhdGVUaXRsZSh0aGlzLmRvbS5ib3gpOwogICAgICB0aGlzLl91cGRhdGVEYXRhQXR0cmlidXRlcyh0aGlzLmRvbS5ib3gpOwogICAgICB0aGlzLl91cGRhdGVTdHlsZSh0aGlzLmRvbS5ib3gpOwoKICAgICAgdmFyIGVkaXRhYmxlID0gKHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lIHx8IHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVHcm91cCB8fCB0aGlzLmVkaXRhYmxlID09PSB0cnVlKSAmJiB0aGlzLmVkaXRhYmxlICE9PSBmYWxzZTsKCiAgICAgIC8vIHVwZGF0ZSBjbGFzcwogICAgICB2YXIgY2xhc3NOYW1lID0gKHRoaXMuZGF0YS5jbGFzc05hbWUgPyAnICcgKyB0aGlzLmRhdGEuY2xhc3NOYW1lIDogJycpICsgKHRoaXMuc2VsZWN0ZWQgPyAnIHZpcy1zZWxlY3RlZCcgOiAnJykgKyAoZWRpdGFibGUgPyAnIHZpcy1lZGl0YWJsZScgOiAnIHZpcy1yZWFkb25seScpOwogICAgICBkb20uYm94LmNsYXNzTmFtZSA9IHRoaXMuYmFzZUNsYXNzTmFtZSArIGNsYXNzTmFtZTsKCiAgICAgIC8vIGRldGVybWluZSBmcm9tIGNzcyB3aGV0aGVyIHRoaXMgYm94IGhhcyBvdmVyZmxvdwogICAgICB0aGlzLm92ZXJmbG93ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9tLmZyYW1lKS5vdmVyZmxvdyAhPT0gJ2hpZGRlbic7CgogICAgICAvLyByZWNhbGN1bGF0ZSBzaXplCiAgICAgIC8vIHR1cm4gb2ZmIG1heC13aWR0aCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSB0aGUgcmVhbCB3aWR0aAogICAgICAvLyB0aGlzIGNhdXNlcyBhbiBleHRyYSBicm93c2VyIHJlcGFpbnQvcmVmbG93LCBidXQgc28gYmUgaXQKICAgICAgdGhpcy5kb20uY29udGVudC5zdHlsZS5tYXhXaWR0aCA9ICdub25lJzsKICAgICAgdGhpcy5wcm9wcy5jb250ZW50LndpZHRoID0gdGhpcy5kb20uY29udGVudC5vZmZzZXRXaWR0aDsKICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmRvbS5ib3gub2Zmc2V0SGVpZ2h0OwogICAgICB0aGlzLmRvbS5jb250ZW50LnN0eWxlLm1heFdpZHRoID0gJyc7CgogICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgICB9CgogICAgdGhpcy5fcmVwYWludERlbGV0ZUJ1dHRvbihkb20uYm94KTsKICAgIHRoaXMuX3JlcGFpbnREcmFnTGVmdCgpOwogICAgdGhpcy5fcmVwYWludERyYWdSaWdodCgpOwogIH07CgogIC8qKgogICAqIFNob3cgdGhlIGl0ZW0gaW4gdGhlIERPTSAod2hlbiBub3QgYWxyZWFkeSB2aXNpYmxlKS4gVGhlIGl0ZW1zIERPTSB3aWxsCiAgICogYmUgY3JlYXRlZCB3aGVuIG5lZWRlZC4KICAgKi8KICBSYW5nZUl0ZW0ucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuZGlzcGxheWVkKSB7CiAgICAgIHRoaXMucmVkcmF3KCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogSGlkZSB0aGUgaXRlbSBmcm9tIHRoZSBET00gKHdoZW4gdmlzaWJsZSkKICAgKiBAcmV0dXJuIHtCb29sZWFufSBjaGFuZ2VkCiAgICovCiAgUmFuZ2VJdGVtLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuZGlzcGxheWVkKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLmRvbS5ib3g7CgogICAgICBpZiAoYm94LnBhcmVudE5vZGUpIHsKICAgICAgICBib3gucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChib3gpOwogICAgICB9CgogICAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlOwogICAgfQogIH07CgogIC8qKgogICAqIFJlcG9zaXRpb24gdGhlIGl0ZW0gaG9yaXpvbnRhbGx5CiAgICogQHBhcmFtIHtib29sZWFufSBbbGltaXRTaXplPXRydWVdIElmIHRydWUgKGRlZmF1bHQpLCB0aGUgd2lkdGggb2YgdGhlIHJhbmdlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gd2lsbCBiZSBsaW1pdGVkLCBhcyB0aGUgYnJvd3NlciBjYW5ub3QKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSB2ZXJ5IHdpZGUgZGl2cy4gVGhpcyBtZWFucyB0aG91Z2gKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCB0aGUgYXBwbGllZCBsZWZ0IGFuZCB3aWR0aCBtYXkKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGNvcnJlc3BvbmQgdG8gdGhlIHJhbmdlcyBzdGFydCBhbmQgZW5kCiAgICogQE92ZXJyaWRlCiAgICovCiAgUmFuZ2VJdGVtLnByb3RvdHlwZS5yZXBvc2l0aW9uWCA9IGZ1bmN0aW9uIChsaW1pdFNpemUpIHsKICAgIHZhciBwYXJlbnRXaWR0aCA9IHRoaXMucGFyZW50LndpZHRoOwogICAgdmFyIHN0YXJ0ID0gdGhpcy5jb252ZXJzaW9uLnRvU2NyZWVuKHRoaXMuZGF0YS5zdGFydCk7CiAgICB2YXIgZW5kID0gdGhpcy5jb252ZXJzaW9uLnRvU2NyZWVuKHRoaXMuZGF0YS5lbmQpOwogICAgdmFyIGNvbnRlbnRMZWZ0OwogICAgdmFyIGNvbnRlbnRXaWR0aDsKCiAgICAvLyBsaW1pdCB0aGUgd2lkdGggb2YgdGhlIHJhbmdlLCBhcyBicm93c2VycyBjYW5ub3QgZHJhdyB2ZXJ5IHdpZGUgZGl2cwogICAgaWYgKGxpbWl0U2l6ZSA9PT0gdW5kZWZpbmVkIHx8IGxpbWl0U2l6ZSA9PT0gdHJ1ZSkgewogICAgICBpZiAoc3RhcnQgPCAtcGFyZW50V2lkdGgpIHsKICAgICAgICBzdGFydCA9IC1wYXJlbnRXaWR0aDsKICAgICAgfQogICAgICBpZiAoZW5kID4gMiAqIHBhcmVudFdpZHRoKSB7CiAgICAgICAgZW5kID0gMiAqIHBhcmVudFdpZHRoOwogICAgICB9CiAgICB9CiAgICB2YXIgYm94V2lkdGggPSBNYXRoLm1heChlbmQgLSBzdGFydCwgMSk7CgogICAgaWYgKHRoaXMub3ZlcmZsb3cpIHsKICAgICAgdGhpcy5sZWZ0ID0gc3RhcnQ7CiAgICAgIHRoaXMud2lkdGggPSBib3hXaWR0aCArIHRoaXMucHJvcHMuY29udGVudC53aWR0aDsKICAgICAgY29udGVudFdpZHRoID0gdGhpcy5wcm9wcy5jb250ZW50LndpZHRoOwoKICAgICAgLy8gTm90ZTogVGhlIGNhbGN1bGF0aW9uIG9mIHdpZHRoIGlzIGFuIG9wdGltaXN0aWMgY2FsY3VsYXRpb24sIGdpdmluZwogICAgICAvLyAgICAgICBhIHdpZHRoIHdoaWNoIHdpbGwgbm90IGNoYW5nZSB3aGVuIG1vdmluZyB0aGUgVGltZWxpbmUKICAgICAgLy8gICAgICAgU28gbm8gcmUtc3RhY2tpbmcgbmVlZGVkLCB3aGljaCBpcyBuaWNlciBmb3IgdGhlIGV5ZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubGVmdCA9IHN0YXJ0OwogICAgICB0aGlzLndpZHRoID0gYm94V2lkdGg7CiAgICAgIGNvbnRlbnRXaWR0aCA9IE1hdGgubWluKGVuZCAtIHN0YXJ0LCB0aGlzLnByb3BzLmNvbnRlbnQud2lkdGgpOwogICAgfQoKICAgIHRoaXMuZG9tLmJveC5zdHlsZS5sZWZ0ID0gdGhpcy5sZWZ0ICsgJ3B4JzsKICAgIHRoaXMuZG9tLmJveC5zdHlsZS53aWR0aCA9IGJveFdpZHRoICsgJ3B4JzsKCiAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5hbGlnbikgewogICAgICBjYXNlICdsZWZ0JzoKICAgICAgICB0aGlzLmRvbS5jb250ZW50LnN0eWxlLmxlZnQgPSAnMCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdyaWdodCc6CiAgICAgICAgdGhpcy5kb20uY29udGVudC5zdHlsZS5sZWZ0ID0gTWF0aC5tYXgoYm94V2lkdGggLSBjb250ZW50V2lkdGgsIDApICsgJ3B4JzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2NlbnRlcic6CiAgICAgICAgdGhpcy5kb20uY29udGVudC5zdHlsZS5sZWZ0ID0gTWF0aC5tYXgoKGJveFdpZHRoIC0gY29udGVudFdpZHRoKSAvIDIsIDApICsgJ3B4JzsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgLy8gJ2F1dG8nCiAgICAgICAgLy8gd2hlbiByYW5nZSBleGNlZWRzIGxlZnQgb2YgdGhlIHdpbmRvdywgcG9zaXRpb24gdGhlIGNvbnRlbnRzIGF0IHRoZSBsZWZ0IG9mIHRoZSB2aXNpYmxlIGFyZWEKICAgICAgICBpZiAodGhpcy5vdmVyZmxvdykgewogICAgICAgICAgaWYgKGVuZCA+IDApIHsKICAgICAgICAgICAgY29udGVudExlZnQgPSBNYXRoLm1heCgtc3RhcnQsIDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29udGVudExlZnQgPSAtY29udGVudFdpZHRoOyAvLyBlbnN1cmUgaXQncyBub3QgdmlzaWJsZSBhbnltb3JlCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChzdGFydCA8IDApIHsKICAgICAgICAgICAgY29udGVudExlZnQgPSAtc3RhcnQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb250ZW50TGVmdCA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuZG9tLmNvbnRlbnQuc3R5bGUubGVmdCA9IGNvbnRlbnRMZWZ0ICsgJ3B4JzsKICAgIH0KICB9OwoKICAvKioKICAgKiBSZXBvc2l0aW9uIHRoZSBpdGVtIHZlcnRpY2FsbHkKICAgKiBAT3ZlcnJpZGUKICAgKi8KICBSYW5nZUl0ZW0ucHJvdG90eXBlLnJlcG9zaXRpb25ZID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG9yaWVudGF0aW9uID0gdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLml0ZW07CiAgICB2YXIgYm94ID0gdGhpcy5kb20uYm94OwoKICAgIGlmIChvcmllbnRhdGlvbiA9PSAndG9wJykgewogICAgICBib3guc3R5bGUudG9wID0gdGhpcy50b3AgKyAncHgnOwogICAgfSBlbHNlIHsKICAgICAgYm94LnN0eWxlLnRvcCA9IHRoaXMucGFyZW50LmhlaWdodCAtIHRoaXMudG9wIC0gdGhpcy5oZWlnaHQgKyAncHgnOwogICAgfQogIH07CgogIC8qKgogICAqIFJlcGFpbnQgYSBkcmFnIGFyZWEgb24gdGhlIGxlZnQgc2lkZSBvZiB0aGUgcmFuZ2Ugd2hlbiB0aGUgcmFuZ2UgaXMgc2VsZWN0ZWQKICAgKiBAcHJvdGVjdGVkCiAgICovCiAgUmFuZ2VJdGVtLnByb3RvdHlwZS5fcmVwYWludERyYWdMZWZ0ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuc2VsZWN0ZWQgJiYgdGhpcy5vcHRpb25zLmVkaXRhYmxlLnVwZGF0ZVRpbWUgJiYgIXRoaXMuZG9tLmRyYWdMZWZ0KSB7CiAgICAgIC8vIGNyZWF0ZSBhbmQgc2hvdyBkcmFnIGFyZWEKICAgICAgdmFyIGRyYWdMZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGRyYWdMZWZ0LmNsYXNzTmFtZSA9ICd2aXMtZHJhZy1sZWZ0JzsKICAgICAgZHJhZ0xlZnQuZHJhZ0xlZnRJdGVtID0gdGhpczsKCiAgICAgIHRoaXMuZG9tLmJveC5hcHBlbmRDaGlsZChkcmFnTGVmdCk7CiAgICAgIHRoaXMuZG9tLmRyYWdMZWZ0ID0gZHJhZ0xlZnQ7CiAgICB9IGVsc2UgaWYgKCF0aGlzLnNlbGVjdGVkICYmIHRoaXMuZG9tLmRyYWdMZWZ0KSB7CiAgICAgIC8vIGRlbGV0ZSBkcmFnIGFyZWEKICAgICAgaWYgKHRoaXMuZG9tLmRyYWdMZWZ0LnBhcmVudE5vZGUpIHsKICAgICAgICB0aGlzLmRvbS5kcmFnTGVmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmRyYWdMZWZ0KTsKICAgICAgfQogICAgICB0aGlzLmRvbS5kcmFnTGVmdCA9IG51bGw7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCBhIGRyYWcgYXJlYSBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgcmFuZ2Ugd2hlbiB0aGUgcmFuZ2UgaXMgc2VsZWN0ZWQKICAgKiBAcHJvdGVjdGVkCiAgICovCiAgUmFuZ2VJdGVtLnByb3RvdHlwZS5fcmVwYWludERyYWdSaWdodCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnNlbGVjdGVkICYmIHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lICYmICF0aGlzLmRvbS5kcmFnUmlnaHQpIHsKICAgICAgLy8gY3JlYXRlIGFuZCBzaG93IGRyYWcgYXJlYQogICAgICB2YXIgZHJhZ1JpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGRyYWdSaWdodC5jbGFzc05hbWUgPSAndmlzLWRyYWctcmlnaHQnOwogICAgICBkcmFnUmlnaHQuZHJhZ1JpZ2h0SXRlbSA9IHRoaXM7CgogICAgICB0aGlzLmRvbS5ib3guYXBwZW5kQ2hpbGQoZHJhZ1JpZ2h0KTsKICAgICAgdGhpcy5kb20uZHJhZ1JpZ2h0ID0gZHJhZ1JpZ2h0OwogICAgfSBlbHNlIGlmICghdGhpcy5zZWxlY3RlZCAmJiB0aGlzLmRvbS5kcmFnUmlnaHQpIHsKICAgICAgLy8gZGVsZXRlIGRyYWcgYXJlYQogICAgICBpZiAodGhpcy5kb20uZHJhZ1JpZ2h0LnBhcmVudE5vZGUpIHsKICAgICAgICB0aGlzLmRvbS5kcmFnUmlnaHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5kcmFnUmlnaHQpOwogICAgICB9CiAgICAgIHRoaXMuZG9tLmRyYWdSaWdodCA9IG51bGw7CiAgICB9CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBSYW5nZUl0ZW07CgovKioqLyB9LAovKiAzNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgSGFtbWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7CiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICAvKioKICAgKiBAY29uc3RydWN0b3IgSXRlbQogICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhICAgICAgICAgICAgIE9iamVjdCBjb250YWluaW5nIChvcHRpb25hbCkgcGFyYW1ldGVycyB0eXBlLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LCBlbmQsIGNvbnRlbnQsIGdyb3VwLCBjbGFzc05hbWUuCiAgICogQHBhcmFtIHt7dG9TY3JlZW46IGZ1bmN0aW9uLCB0b1RpbWU6IGZ1bmN0aW9ufX0gY29udmVyc2lvbgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnZlcnNpb24gZnVuY3Rpb25zIGZyb20gdGltZSB0byBzY3JlZW4gYW5kIHZpY2UgdmVyc2EKICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgICAgICAgICBDb25maWd1cmF0aW9uIG9wdGlvbnMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBkZXNjcmliZSBhdmFpbGFibGUgb3B0aW9ucwogICAqLwogIGZ1bmN0aW9uIEl0ZW0oZGF0YSwgY29udmVyc2lvbiwgb3B0aW9ucykgewogICAgdGhpcy5pZCA9IG51bGw7CiAgICB0aGlzLnBhcmVudCA9IG51bGw7CiAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgdGhpcy5kb20gPSBudWxsOwogICAgdGhpcy5jb252ZXJzaW9uID0gY29udmVyc2lvbiB8fCB7fTsKICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgogICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlOwogICAgdGhpcy5kaXNwbGF5ZWQgPSBmYWxzZTsKICAgIHRoaXMuZGlydHkgPSB0cnVlOwoKICAgIHRoaXMudG9wID0gbnVsbDsKICAgIHRoaXMubGVmdCA9IG51bGw7CiAgICB0aGlzLndpZHRoID0gbnVsbDsKICAgIHRoaXMuaGVpZ2h0ID0gbnVsbDsKCiAgICB0aGlzLmVkaXRhYmxlID0gbnVsbDsKICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLmhhc093blByb3BlcnR5KCdlZGl0YWJsZScpICYmIHR5cGVvZiB0aGlzLmRhdGEuZWRpdGFibGUgPT09ICdib29sZWFuJykgewogICAgICB0aGlzLmVkaXRhYmxlID0gZGF0YS5lZGl0YWJsZTsKICAgIH0KICB9CgogIEl0ZW0ucHJvdG90eXBlLnN0YWNrID0gdHJ1ZTsKCiAgLyoqCiAgICogU2VsZWN0IGN1cnJlbnQgaXRlbQogICAqLwogIEl0ZW0ucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2VsZWN0ZWQgPSB0cnVlOwogICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgICBpZiAodGhpcy5kaXNwbGF5ZWQpIHRoaXMucmVkcmF3KCk7CiAgfTsKCiAgLyoqCiAgICogVW5zZWxlY3QgY3VycmVudCBpdGVtCiAgICovCiAgSXRlbS5wcm90b3R5cGUudW5zZWxlY3QgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7CiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgIGlmICh0aGlzLmRpc3BsYXllZCkgdGhpcy5yZWRyYXcoKTsKICB9OwoKICAvKioKICAgKiBTZXQgZGF0YSBmb3IgdGhlIGl0ZW0uIEV4aXN0aW5nIGRhdGEgd2lsbCBiZSB1cGRhdGVkLiBUaGUgaWQgc2hvdWxkIG5vdAogICAqIGJlIGNoYW5nZWQuIFdoZW4gdGhlIGl0ZW0gaXMgZGlzcGxheWVkLCBpdCB3aWxsIGJlIHJlZHJhd24gaW1tZWRpYXRlbHkuCiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEKICAgKi8KICBJdGVtLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgIHZhciBncm91cENoYW5nZWQgPSBkYXRhLmdyb3VwICE9IHVuZGVmaW5lZCAmJiB0aGlzLmRhdGEuZ3JvdXAgIT0gZGF0YS5ncm91cDsKICAgIGlmIChncm91cENoYW5nZWQpIHsKICAgICAgdGhpcy5wYXJlbnQuaXRlbVNldC5fbW92ZVRvR3JvdXAodGhpcywgZGF0YS5ncm91cCk7CiAgICB9CgogICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlJykgJiYgdHlwZW9mIGRhdGEuZWRpdGFibGUgPT09ICdib29sZWFuJykgewogICAgICB0aGlzLmVkaXRhYmxlID0gZGF0YS5lZGl0YWJsZTsKICAgIH0KCiAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgICBpZiAodGhpcy5kaXNwbGF5ZWQpIHRoaXMucmVkcmF3KCk7CiAgfTsKCiAgLyoqCiAgICogU2V0IGEgcGFyZW50IGZvciB0aGUgaXRlbQogICAqIEBwYXJhbSB7SXRlbVNldCB8IEdyb3VwfSBwYXJlbnQKICAgKi8KICBJdGVtLnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7CiAgICBpZiAodGhpcy5kaXNwbGF5ZWQpIHsKICAgICAgdGhpcy5oaWRlKCk7CiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50OwogICAgICBpZiAodGhpcy5wYXJlbnQpIHsKICAgICAgICB0aGlzLnNob3coKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ2hlY2sgd2hldGhlciB0aGlzIGl0ZW0gaXMgdmlzaWJsZSBpbnNpZGUgZ2l2ZW4gcmFuZ2UKICAgKiBAcmV0dXJucyB7e3N0YXJ0OiBOdW1iZXIsIGVuZDogTnVtYmVyfX0gcmFuZ2Ugd2l0aCBhIHRpbWVzdGFtcCBmb3Igc3RhcnQgYW5kIGVuZAogICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZpc2libGUKICAgKi8KICBJdGVtLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgIC8vIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBJdGVtIGltcGxlbWVudGF0aW9ucwogICAgcmV0dXJuIGZhbHNlOwogIH07CgogIC8qKgogICAqIFNob3cgdGhlIEl0ZW0gaW4gdGhlIERPTSAod2hlbiBub3QgYWxyZWFkeSB2aXNpYmxlKQogICAqIEByZXR1cm4ge0Jvb2xlYW59IGNoYW5nZWQKICAgKi8KICBJdGVtLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGZhbHNlOwogIH07CgogIC8qKgogICAqIEhpZGUgdGhlIEl0ZW0gZnJvbSB0aGUgRE9NICh3aGVuIHZpc2libGUpCiAgICogQHJldHVybiB7Qm9vbGVhbn0gY2hhbmdlZAogICAqLwogIEl0ZW0ucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgaXRlbQogICAqLwogIEl0ZW0ucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHt9OwoKICAvKioKICAgKiBSZXBvc2l0aW9uIHRoZSBJdGVtIGhvcml6b250YWxseQogICAqLwogIEl0ZW0ucHJvdG90eXBlLnJlcG9zaXRpb25YID0gZnVuY3Rpb24gKCkge307CgogIC8qKgogICAqIFJlcG9zaXRpb24gdGhlIEl0ZW0gdmVydGljYWxseQogICAqLwogIEl0ZW0ucHJvdG90eXBlLnJlcG9zaXRpb25ZID0gZnVuY3Rpb24gKCkge307CgogIC8qKgogICAqIFJlcGFpbnQgYSBkZWxldGUgYnV0dG9uIG9uIHRoZSB0b3AgcmlnaHQgb2YgdGhlIGl0ZW0gd2hlbiB0aGUgaXRlbSBpcyBzZWxlY3RlZAogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGFuY2hvcgogICAqIEBwcm90ZWN0ZWQKICAgKi8KICBJdGVtLnByb3RvdHlwZS5fcmVwYWludERlbGV0ZUJ1dHRvbiA9IGZ1bmN0aW9uIChhbmNob3IpIHsKICAgIHZhciBlZGl0YWJsZSA9ICh0aGlzLm9wdGlvbnMuZWRpdGFibGUucmVtb3ZlIHx8IHRoaXMuZGF0YS5lZGl0YWJsZSA9PT0gdHJ1ZSkgJiYgdGhpcy5kYXRhLmVkaXRhYmxlICE9PSBmYWxzZTsKCiAgICBpZiAodGhpcy5zZWxlY3RlZCAmJiBlZGl0YWJsZSAmJiAhdGhpcy5kb20uZGVsZXRlQnV0dG9uKSB7CiAgICAgIC8vIGNyZWF0ZSBhbmQgc2hvdyBidXR0b24KICAgICAgdmFyIG1lID0gdGhpczsKCiAgICAgIHZhciBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICd2aXMtZGVsZXRlJzsKICAgICAgZGVsZXRlQnV0dG9uLnRpdGxlID0gJ0RlbGV0ZSB0aGlzIGl0ZW0nOwoKICAgICAgLy8gVE9ETzogYmUgYWJsZSB0byBkZXN0cm95IHRoZSBkZWxldGUgYnV0dG9uCiAgICAgIG5ldyBIYW1tZXIoZGVsZXRlQnV0dG9uKS5vbigndGFwJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgbWUucGFyZW50LnJlbW92ZUZyb21EYXRhU2V0KG1lKTsKICAgICAgfSk7CgogICAgICBhbmNob3IuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTsKICAgICAgdGhpcy5kb20uZGVsZXRlQnV0dG9uID0gZGVsZXRlQnV0dG9uOwogICAgfSBlbHNlIGlmICghdGhpcy5zZWxlY3RlZCAmJiB0aGlzLmRvbS5kZWxldGVCdXR0b24pIHsKICAgICAgLy8gcmVtb3ZlIGJ1dHRvbgogICAgICBpZiAodGhpcy5kb20uZGVsZXRlQnV0dG9uLnBhcmVudE5vZGUpIHsKICAgICAgICB0aGlzLmRvbS5kZWxldGVCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5kZWxldGVCdXR0b24pOwogICAgICB9CiAgICAgIHRoaXMuZG9tLmRlbGV0ZUJ1dHRvbiA9IG51bGw7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU2V0IEhUTUwgY29udGVudHMgZm9yIHRoZSBpdGVtCiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50ICAgSFRNTCBlbGVtZW50IHRvIGZpbGwgd2l0aCB0aGUgY29udGVudHMKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW0ucHJvdG90eXBlLl91cGRhdGVDb250ZW50cyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICB2YXIgY29udGVudDsKICAgIGlmICh0aGlzLm9wdGlvbnMudGVtcGxhdGUpIHsKICAgICAgdmFyIGl0ZW1EYXRhID0gdGhpcy5wYXJlbnQuaXRlbVNldC5pdGVtc0RhdGEuZ2V0KHRoaXMuaWQpOyAvLyBnZXQgYSBjbG9uZSBvZiB0aGUgZGF0YSBmcm9tIHRoZSBkYXRhc2V0CiAgICAgIGNvbnRlbnQgPSB0aGlzLm9wdGlvbnMudGVtcGxhdGUoaXRlbURhdGEpOwogICAgfSBlbHNlIHsKICAgICAgY29udGVudCA9IHRoaXMuZGF0YS5jb250ZW50OwogICAgfQoKICAgIHZhciBjaGFuZ2VkID0gdGhpcy5fY29udGVudFRvU3RyaW5nKHRoaXMuY29udGVudCkgIT09IHRoaXMuX2NvbnRlbnRUb1N0cmluZyhjb250ZW50KTsKICAgIGlmIChjaGFuZ2VkKSB7CiAgICAgIC8vIG9ubHkgcmVwbGFjZSB0aGUgY29udGVudCB3aGVuIGNoYW5nZWQKICAgICAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7CiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnJzsKICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNvbnRlbnQpOwogICAgICB9IGVsc2UgaWYgKGNvbnRlbnQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50OwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghKHRoaXMuZGF0YS50eXBlID09ICdiYWNrZ3JvdW5kJyAmJiB0aGlzLmRhdGEuY29udGVudCA9PT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSAiY29udGVudCIgbWlzc2luZyBpbiBpdGVtICcgKyB0aGlzLmlkKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU2V0IEhUTUwgY29udGVudHMgZm9yIHRoZSBpdGVtCiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50ICAgSFRNTCBlbGVtZW50IHRvIGZpbGwgd2l0aCB0aGUgY29udGVudHMKICAgKiBAcHJpdmF0ZQogICAqLwogIEl0ZW0ucHJvdG90eXBlLl91cGRhdGVUaXRsZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5kYXRhLnRpdGxlICE9IG51bGwpIHsKICAgICAgZWxlbWVudC50aXRsZSA9IHRoaXMuZGF0YS50aXRsZSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd2aXMtdGl0bGUnKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBQcm9jZXNzIGRhdGFBdHRyaWJ1dGVzIHRpbWVsaW5lIG9wdGlvbiBhbmQgc2V0IGFzIGRhdGEtIGF0dHJpYnV0ZXMgb24gZG9tLmNvbnRlbnQKICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgICBIVE1MIGVsZW1lbnQgdG8gd2hpY2ggdGhlIGF0dHJpYnV0ZXMgd2lsbCBiZSBhdHRhY2hlZAogICAqIEBwcml2YXRlCiAgICovCiAgSXRlbS5wcm90b3R5cGUuX3VwZGF0ZURhdGFBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YUF0dHJpYnV0ZXMgJiYgdGhpcy5vcHRpb25zLmRhdGFBdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBbXTsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5kYXRhQXR0cmlidXRlcykpIHsKICAgICAgICBhdHRyaWJ1dGVzID0gdGhpcy5vcHRpb25zLmRhdGFBdHRyaWJ1dGVzOwogICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5kYXRhQXR0cmlidXRlcyA9PSAnYWxsJykgewogICAgICAgIGF0dHJpYnV0ZXMgPSBPYmplY3Qua2V5cyh0aGlzLmRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVzW2ldOwogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZGF0YVtuYW1lXTsKCiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBuYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLScgKyBuYW1lKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBVcGRhdGUgY3VzdG9tIHN0eWxlcyBvZiB0aGUgZWxlbWVudAogICAqIEBwYXJhbSBlbGVtZW50CiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtLnByb3RvdHlwZS5fdXBkYXRlU3R5bGUgPSBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgLy8gcmVtb3ZlIG9sZCBzdHlsZXMKICAgIGlmICh0aGlzLnN0eWxlKSB7CiAgICAgIHV0aWwucmVtb3ZlQ3NzVGV4dChlbGVtZW50LCB0aGlzLnN0eWxlKTsKICAgICAgdGhpcy5zdHlsZSA9IG51bGw7CiAgICB9CgogICAgLy8gYXBwZW5kIG5ldyBzdHlsZXMKICAgIGlmICh0aGlzLmRhdGEuc3R5bGUpIHsKICAgICAgdXRpbC5hZGRDc3NUZXh0KGVsZW1lbnQsIHRoaXMuZGF0YS5zdHlsZSk7CiAgICAgIHRoaXMuc3R5bGUgPSB0aGlzLmRhdGEuc3R5bGU7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU3RyaW5naWZ5IHRoZSBpdGVtcyBjb250ZW50cwogICAqIEBwYXJhbSB7c3RyaW5nIHwgRWxlbWVudCB8IHVuZGVmaW5lZH0gY29udGVudAogICAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9CiAgICogQHByaXZhdGUKICAgKi8KICBJdGVtLnByb3RvdHlwZS5fY29udGVudFRvU3RyaW5nID0gZnVuY3Rpb24gKGNvbnRlbnQpIHsKICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHJldHVybiBjb250ZW50OwogICAgaWYgKGNvbnRlbnQgJiYgJ291dGVySFRNTCcgaW4gY29udGVudCkgcmV0dXJuIGNvbnRlbnQub3V0ZXJIVE1MOwogICAgcmV0dXJuIGNvbnRlbnQ7CiAgfTsKCiAgLyoqCiAgICogUmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgaXRlbSBsZWZ0IGZyb20gaXRzIHN0YXJ0IGRhdGUKICAgKiBAcmV0dXJuIHtudW1iZXJ9CiAgICovCiAgSXRlbS5wcm90b3R5cGUuZ2V0V2lkdGhMZWZ0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIDA7CiAgfTsKCiAgLyoqCiAgICogUmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgaXRlbSByaWdodCBmcm9tIHRoZSBtYXggb2YgaXRzIHN0YXJ0IGFuZCBlbmQgZGF0ZQogICAqIEByZXR1cm4ge251bWJlcn0KICAgKi8KICBJdGVtLnByb3RvdHlwZS5nZXRXaWR0aFJpZ2h0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIDA7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBJdGVtOwoKICAvLyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYnkgdGhlIGl0ZW0KCiAgLy8gc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHRoZSBpdGVtCgogIC8vIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSB0aGUgaXRlbQoKLyoqKi8gfSwKLyogMzYgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIG1vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7CiAgdmFyIERhdGVVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7CiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICAvKioKICAgKiBAY29uc3RydWN0b3IgIFRpbWVTdGVwCiAgICogVGhlIGNsYXNzIFRpbWVTdGVwIGlzIGFuIGl0ZXJhdG9yIGZvciBkYXRlcy4gWW91IHByb3ZpZGUgYSBzdGFydCBkYXRlIGFuZCBhbgogICAqIGVuZCBkYXRlLiBUaGUgY2xhc3MgaXRzZWxmIGRldGVybWluZXMgdGhlIGJlc3Qgc2NhbGUgKHN0ZXAgc2l6ZSkgYmFzZWQgb24gdGhlCiAgICogcHJvdmlkZWQgc3RhcnQgRGF0ZSwgZW5kIERhdGUsIGFuZCBtaW5pbXVtU3RlcC4KICAgKgogICAqIElmIG1pbmltdW1TdGVwIGlzIHByb3ZpZGVkLCB0aGUgc3RlcCBzaXplIGlzIGNob3NlbiBhcyBjbG9zZSBhcyBwb3NzaWJsZQogICAqIHRvIHRoZSBtaW5pbXVtU3RlcCBidXQgbGFyZ2VyIHRoYW4gbWluaW11bVN0ZXAuIElmIG1pbmltdW1TdGVwIGlzIG5vdAogICAqIHByb3ZpZGVkLCB0aGUgc2NhbGUgaXMgc2V0IHRvIDEgREFZLgogICAqIFRoZSBtaW5pbXVtU3RlcCBzaG91bGQgY29ycmVzcG9uZCB3aXRoIHRoZSBvbnNjcmVlbiBzaXplIG9mIGFib3V0IDYgY2hhcmFjdGVycwogICAqCiAgICogQWx0ZXJuYXRpdmVseSwgeW91IGNhbiBzZXQgYSBzY2FsZSBieSBoYW5kLgogICAqIEFmdGVyIGNyZWF0aW9uLCB5b3UgY2FuIGluaXRpYWxpemUgdGhlIGNsYXNzIGJ5IGV4ZWN1dGluZyBmaXJzdCgpLiBUaGVuIHlvdQogICAqIGNhbiBpdGVyYXRlIGZyb20gdGhlIHN0YXJ0IGRhdGUgdG8gdGhlIGVuZCBkYXRlIHZpYSBuZXh0KCkuIFlvdSBjYW4gY2hlY2sgaWYKICAgKiB0aGUgZW5kIGRhdGUgaXMgcmVhY2hlZCB3aXRoIHRoZSBmdW5jdGlvbiBoYXNOZXh0KCkuIEFmdGVyIGVhY2ggc3RlcCwgeW91IGNhbgogICAqIHJldHJpZXZlIHRoZSBjdXJyZW50IGRhdGUgdmlhIGdldEN1cnJlbnQoKS4KICAgKiBUaGUgVGltZVN0ZXAgaGFzIHNjYWxlcyByYW5naW5nIGZyb20gbWlsbGlzZWNvbmRzLCBzZWNvbmRzLCBtaW51dGVzLCBob3VycywKICAgKiBkYXlzLCB0byB5ZWFycy4KICAgKgogICAqIFZlcnNpb246IDEuMgogICAqCiAgICogQHBhcmFtIHtEYXRlfSBbc3RhcnRdICAgICAgICAgVGhlIHN0YXJ0IGRhdGUsIGZvciBleGFtcGxlIG5ldyBEYXRlKDIwMTAsIDksIDIxKQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIG5ldyBEYXRlKDIwMTAsIDksIDIxLCAyMywgNDUsIDAwKQogICAqIEBwYXJhbSB7RGF0ZX0gW2VuZF0gICAgICAgICAgIFRoZSBlbmQgZGF0ZQogICAqIEBwYXJhbSB7TnVtYmVyfSBbbWluaW11bVN0ZXBdIE9wdGlvbmFsLiBNaW5pbXVtIHN0ZXAgc2l6ZSBpbiBtaWxsaXNlY29uZHMKICAgKi8KICBmdW5jdGlvbiBUaW1lU3RlcChzdGFydCwgZW5kLCBtaW5pbXVtU3RlcCwgaGlkZGVuRGF0ZXMpIHsKICAgIC8vIHZhcmlhYmxlcwogICAgdGhpcy5jdXJyZW50ID0gbmV3IERhdGUoKTsKICAgIHRoaXMuX3N0YXJ0ID0gbmV3IERhdGUoKTsKICAgIHRoaXMuX2VuZCA9IG5ldyBEYXRlKCk7CgogICAgdGhpcy5hdXRvU2NhbGUgPSB0cnVlOwogICAgdGhpcy5zY2FsZSA9ICdkYXknOwogICAgdGhpcy5zdGVwID0gMTsKCiAgICAvLyBpbml0aWFsaXplIHRoZSByYW5nZQogICAgdGhpcy5zZXRSYW5nZShzdGFydCwgZW5kLCBtaW5pbXVtU3RlcCk7CgogICAgLy8gaGlkZGVuIERhdGVzIG9wdGlvbnMKICAgIHRoaXMuc3dpdGNoZWREYXkgPSBmYWxzZTsKICAgIHRoaXMuc3dpdGNoZWRNb250aCA9IGZhbHNlOwogICAgdGhpcy5zd2l0Y2hlZFllYXIgPSBmYWxzZTsKICAgIHRoaXMuaGlkZGVuRGF0ZXMgPSBoaWRkZW5EYXRlczsKICAgIGlmIChoaWRkZW5EYXRlcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuaGlkZGVuRGF0ZXMgPSBbXTsKICAgIH0KCiAgICB0aGlzLmZvcm1hdCA9IFRpbWVTdGVwLkZPUk1BVDsgLy8gZGVmYXVsdCBmb3JtYXR0aW5nCiAgfQoKICAvLyBUaW1lIGZvcm1hdHRpbmcKICBUaW1lU3RlcC5GT1JNQVQgPSB7CiAgICBtaW5vckxhYmVsczogewogICAgICBtaWxsaXNlY29uZDogJ1NTUycsCiAgICAgIHNlY29uZDogJ3MnLAogICAgICBtaW51dGU6ICdISDptbScsCiAgICAgIGhvdXI6ICdISDptbScsCiAgICAgIHdlZWtkYXk6ICdkZGQgRCcsCiAgICAgIGRheTogJ0QnLAogICAgICBtb250aDogJ01NTScsCiAgICAgIHllYXI6ICdZWVlZJwogICAgfSwKICAgIG1ham9yTGFiZWxzOiB7CiAgICAgIG1pbGxpc2Vjb25kOiAnSEg6bW06c3MnLAogICAgICBzZWNvbmQ6ICdEIE1NTU0gSEg6bW0nLAogICAgICBtaW51dGU6ICdkZGQgRCBNTU1NJywKICAgICAgaG91cjogJ2RkZCBEIE1NTU0nLAogICAgICB3ZWVrZGF5OiAnTU1NTSBZWVlZJywKICAgICAgZGF5OiAnTU1NTSBZWVlZJywKICAgICAgbW9udGg6ICdZWVlZJywKICAgICAgeWVhcjogJycKICAgIH0KICB9OwoKICAvKioKICAgKiBTZXQgY3VzdG9tIGZvcm1hdHRpbmcgZm9yIHRoZSBtaW5vciBhbiBtYWpvciBsYWJlbHMgb2YgdGhlIFRpbWVTdGVwLgogICAqIEJvdGggYG1pbm9yTGFiZWxzYCBhbmQgYG1ham9yTGFiZWxzYCBhcmUgYW4gT2JqZWN0IHdpdGggcHJvcGVydGllczoKICAgKiAnbWlsbGlzZWNvbmQnLCAnc2Vjb25kJywgJ21pbnV0ZScsICdob3VyJywgJ3dlZWtkYXknLCAnZGF5JywgJ21vbnRoJywgJ3llYXInLgogICAqIEBwYXJhbSB7e21pbm9yTGFiZWxzOiBPYmplY3QsIG1ham9yTGFiZWxzOiBPYmplY3R9fSBmb3JtYXQKICAgKi8KICBUaW1lU3RlcC5wcm90b3R5cGUuc2V0Rm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCkgewogICAgdmFyIGRlZmF1bHRGb3JtYXQgPSB1dGlsLmRlZXBFeHRlbmQoe30sIFRpbWVTdGVwLkZPUk1BVCk7CiAgICB0aGlzLmZvcm1hdCA9IHV0aWwuZGVlcEV4dGVuZChkZWZhdWx0Rm9ybWF0LCBmb3JtYXQpOwogIH07CgogIC8qKgogICAqIFNldCBhIG5ldyByYW5nZQogICAqIElmIG1pbmltdW1TdGVwIGlzIHByb3ZpZGVkLCB0aGUgc3RlcCBzaXplIGlzIGNob3NlbiBhcyBjbG9zZSBhcyBwb3NzaWJsZQogICAqIHRvIHRoZSBtaW5pbXVtU3RlcCBidXQgbGFyZ2VyIHRoYW4gbWluaW11bVN0ZXAuIElmIG1pbmltdW1TdGVwIGlzIG5vdAogICAqIHByb3ZpZGVkLCB0aGUgc2NhbGUgaXMgc2V0IHRvIDEgREFZLgogICAqIFRoZSBtaW5pbXVtU3RlcCBzaG91bGQgY29ycmVzcG9uZCB3aXRoIHRoZSBvbnNjcmVlbiBzaXplIG9mIGFib3V0IDYgY2hhcmFjdGVycwogICAqIEBwYXJhbSB7RGF0ZX0gW3N0YXJ0XSAgICAgIFRoZSBzdGFydCBkYXRlIGFuZCB0aW1lLgogICAqIEBwYXJhbSB7RGF0ZX0gW2VuZF0gICAgICAgIFRoZSBlbmQgZGF0ZSBhbmQgdGltZS4KICAgKiBAcGFyYW0ge2ludH0gW21pbmltdW1TdGVwXSBPcHRpb25hbC4gTWluaW11bSBzdGVwIHNpemUgaW4gbWlsbGlzZWNvbmRzCiAgICovCiAgVGltZVN0ZXAucHJvdG90eXBlLnNldFJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIG1pbmltdW1TdGVwKSB7CiAgICBpZiAoIShzdGFydCBpbnN0YW5jZW9mIERhdGUpIHx8ICEoZW5kIGluc3RhbmNlb2YgRGF0ZSkpIHsKICAgICAgdGhyb3cgJ05vIGxlZ2FsIHN0YXJ0IG9yIGVuZCBkYXRlIGluIG1ldGhvZCBzZXRSYW5nZSc7CiAgICB9CgogICAgdGhpcy5fc3RhcnQgPSBzdGFydCAhPSB1bmRlZmluZWQgPyBuZXcgRGF0ZShzdGFydC52YWx1ZU9mKCkpIDogbmV3IERhdGUoKTsKICAgIHRoaXMuX2VuZCA9IGVuZCAhPSB1bmRlZmluZWQgPyBuZXcgRGF0ZShlbmQudmFsdWVPZigpKSA6IG5ldyBEYXRlKCk7CgogICAgaWYgKHRoaXMuYXV0b1NjYWxlKSB7CiAgICAgIHRoaXMuc2V0TWluaW11bVN0ZXAobWluaW11bVN0ZXApOwogICAgfQogIH07CgogIC8qKgogICAqIFNldCB0aGUgcmFuZ2UgaXRlcmF0b3IgdG8gdGhlIHN0YXJ0IGRhdGUuCiAgICovCiAgVGltZVN0ZXAucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5jdXJyZW50ID0gbmV3IERhdGUodGhpcy5fc3RhcnQudmFsdWVPZigpKTsKICAgIHRoaXMucm91bmRUb01pbm9yKCk7CiAgfTsKCiAgLyoqCiAgICogUm91bmQgdGhlIGN1cnJlbnQgZGF0ZSB0byB0aGUgZmlyc3QgbWlub3IgZGF0ZSB2YWx1ZQogICAqIFRoaXMgbXVzdCBiZSBleGVjdXRlZCBvbmNlIHdoZW4gdGhlIGN1cnJlbnQgZGF0ZSBpcyBzZXQgdG8gc3RhcnQgRGF0ZQogICAqLwogIFRpbWVTdGVwLnByb3RvdHlwZS5yb3VuZFRvTWlub3IgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyByb3VuZCB0byBmbG9vcgogICAgLy8gSU1QT1JUQU5UOiB3ZSBoYXZlIG5vIGJyZWFrcyBpbiB0aGlzIHN3aXRjaCEgKHRoaXMgaXMgbm8gYnVnKQogICAgLy8gbm9pbnNwZWN0aW9uIEZhbGxUaHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKUwogICAgc3dpdGNoICh0aGlzLnNjYWxlKSB7CiAgICAgIGNhc2UgJ3llYXInOgogICAgICAgIHRoaXMuY3VycmVudC5zZXRGdWxsWWVhcih0aGlzLnN0ZXAgKiBNYXRoLmZsb29yKHRoaXMuY3VycmVudC5nZXRGdWxsWWVhcigpIC8gdGhpcy5zdGVwKSk7CiAgICAgICAgdGhpcy5jdXJyZW50LnNldE1vbnRoKDApOwogICAgICBjYXNlICdtb250aCc6CiAgICAgICAgdGhpcy5jdXJyZW50LnNldERhdGUoMSk7CiAgICAgIGNhc2UgJ2RheSc6IC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaAogICAgICBjYXNlICd3ZWVrZGF5JzoKICAgICAgICB0aGlzLmN1cnJlbnQuc2V0SG91cnMoMCk7CiAgICAgIGNhc2UgJ2hvdXInOgogICAgICAgIHRoaXMuY3VycmVudC5zZXRNaW51dGVzKDApOwogICAgICBjYXNlICdtaW51dGUnOgogICAgICAgIHRoaXMuY3VycmVudC5zZXRTZWNvbmRzKDApOwogICAgICBjYXNlICdzZWNvbmQnOgogICAgICAgIHRoaXMuY3VycmVudC5zZXRNaWxsaXNlY29uZHMoMCk7CiAgICAgICAgLy9jYXNlICdtaWxsaXNlY29uZCc6IC8vIG5vdGhpbmcgdG8gZG8gZm9yIG1pbGxpc2Vjb25kcwogICAgfQoKICAgIGlmICh0aGlzLnN0ZXAgIT0gMSkgewogICAgICAvLyByb3VuZCBkb3duIHRvIHRoZSBmaXJzdCBtaW5vciB2YWx1ZSB0aGF0IGlzIGEgbXVsdGlwbGUgb2YgdGhlIGN1cnJlbnQgc3RlcCBzaXplCiAgICAgIHN3aXRjaCAodGhpcy5zY2FsZSkgewogICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzoKICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRNaWxsaXNlY29uZHModGhpcy5jdXJyZW50LmdldE1pbGxpc2Vjb25kcygpIC0gdGhpcy5jdXJyZW50LmdldE1pbGxpc2Vjb25kcygpICUgdGhpcy5zdGVwKTticmVhazsKICAgICAgICBjYXNlICdzZWNvbmQnOgogICAgICAgICAgdGhpcy5jdXJyZW50LnNldFNlY29uZHModGhpcy5jdXJyZW50LmdldFNlY29uZHMoKSAtIHRoaXMuY3VycmVudC5nZXRTZWNvbmRzKCkgJSB0aGlzLnN0ZXApO2JyZWFrOwogICAgICAgIGNhc2UgJ21pbnV0ZSc6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0TWludXRlcyh0aGlzLmN1cnJlbnQuZ2V0TWludXRlcygpIC0gdGhpcy5jdXJyZW50LmdldE1pbnV0ZXMoKSAlIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgY2FzZSAnaG91cic6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0SG91cnModGhpcy5jdXJyZW50LmdldEhvdXJzKCkgLSB0aGlzLmN1cnJlbnQuZ2V0SG91cnMoKSAlIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgY2FzZSAnd2Vla2RheSc6IC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaAogICAgICAgIGNhc2UgJ2RheSc6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0RGF0ZSh0aGlzLmN1cnJlbnQuZ2V0RGF0ZSgpIC0gMSAtICh0aGlzLmN1cnJlbnQuZ2V0RGF0ZSgpIC0gMSkgJSB0aGlzLnN0ZXAgKyAxKTticmVhazsKICAgICAgICBjYXNlICdtb250aCc6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0TW9udGgodGhpcy5jdXJyZW50LmdldE1vbnRoKCkgLSB0aGlzLmN1cnJlbnQuZ2V0TW9udGgoKSAlIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgY2FzZSAneWVhcic6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0RnVsbFllYXIodGhpcy5jdXJyZW50LmdldEZ1bGxZZWFyKCkgLSB0aGlzLmN1cnJlbnQuZ2V0RnVsbFllYXIoKSAlIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ2hlY2sgaWYgdGhlIHRoZXJlIGlzIGEgbmV4dCBzdGVwCiAgICogQHJldHVybiB7Ym9vbGVhbn0gIHRydWUgaWYgdGhlIGN1cnJlbnQgZGF0ZSBoYXMgbm90IHBhc3NlZCB0aGUgZW5kIGRhdGUKICAgKi8KICBUaW1lU3RlcC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmN1cnJlbnQudmFsdWVPZigpIDw9IHRoaXMuX2VuZC52YWx1ZU9mKCk7CiAgfTsKCiAgLyoqCiAgICogRG8gdGhlIG5leHQgc3RlcAogICAqLwogIFRpbWVTdGVwLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHByZXYgPSB0aGlzLmN1cnJlbnQudmFsdWVPZigpOwoKICAgIC8vIFR3byBjYXNlcywgbmVlZGVkIHRvIHByZXZlbnQgaXNzdWVzIHdpdGggc3dpdGNoaW5nIGRheWxpZ2h0IHNhdmluZ3MKICAgIC8vIChlbmQgb2YgTWFyY2ggYW5kIGVuZCBvZiBPY3RvYmVyKQogICAgaWYgKHRoaXMuY3VycmVudC5nZXRNb250aCgpIDwgNikgewogICAgICBzd2l0Y2ggKHRoaXMuc2NhbGUpIHsKICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6CgogICAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3IERhdGUodGhpcy5jdXJyZW50LnZhbHVlT2YoKSArIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgY2FzZSAnc2Vjb25kJzoKICAgICAgICAgIHRoaXMuY3VycmVudCA9IG5ldyBEYXRlKHRoaXMuY3VycmVudC52YWx1ZU9mKCkgKyB0aGlzLnN0ZXAgKiAxMDAwKTticmVhazsKICAgICAgICBjYXNlICdtaW51dGUnOgogICAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3IERhdGUodGhpcy5jdXJyZW50LnZhbHVlT2YoKSArIHRoaXMuc3RlcCAqIDEwMDAgKiA2MCk7YnJlYWs7CiAgICAgICAgY2FzZSAnaG91cic6CiAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBuZXcgRGF0ZSh0aGlzLmN1cnJlbnQudmFsdWVPZigpICsgdGhpcy5zdGVwICogMTAwMCAqIDYwICogNjApOwogICAgICAgICAgLy8gaW4gY2FzZSBvZiBza2lwcGluZyBhbiBob3VyIGZvciBkYXlsaWdodCBzYXZpbmdzLCBhZGp1c3QgdGhlIGhvdXIgYWdhaW4gKGVsc2UgeW91IGdldDogMGggNWggOWggLi4uIGluc3RlYWQgb2YgMGggNGggOGggLi4uKQogICAgICAgICAgdmFyIGggPSB0aGlzLmN1cnJlbnQuZ2V0SG91cnMoKTsKICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRIb3VycyhoIC0gaCAlIHRoaXMuc3RlcCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd3ZWVrZGF5JzogLy8gaW50ZW50aW9uYWwgZmFsbCB0aHJvdWdoCiAgICAgICAgY2FzZSAnZGF5JzoKICAgICAgICAgIHRoaXMuY3VycmVudC5zZXREYXRlKHRoaXMuY3VycmVudC5nZXREYXRlKCkgKyB0aGlzLnN0ZXApO2JyZWFrOwogICAgICAgIGNhc2UgJ21vbnRoJzoKICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRNb250aCh0aGlzLmN1cnJlbnQuZ2V0TW9udGgoKSArIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgY2FzZSAneWVhcic6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0RnVsbFllYXIodGhpcy5jdXJyZW50LmdldEZ1bGxZZWFyKCkgKyB0aGlzLnN0ZXApO2JyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc3dpdGNoICh0aGlzLnNjYWxlKSB7CiAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOgogICAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3IERhdGUodGhpcy5jdXJyZW50LnZhbHVlT2YoKSArIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgY2FzZSAnc2Vjb25kJzoKICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRTZWNvbmRzKHRoaXMuY3VycmVudC5nZXRTZWNvbmRzKCkgKyB0aGlzLnN0ZXApO2JyZWFrOwogICAgICAgIGNhc2UgJ21pbnV0ZSc6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0TWludXRlcyh0aGlzLmN1cnJlbnQuZ2V0TWludXRlcygpICsgdGhpcy5zdGVwKTticmVhazsKICAgICAgICBjYXNlICdob3VyJzoKICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRIb3Vycyh0aGlzLmN1cnJlbnQuZ2V0SG91cnMoKSArIHRoaXMuc3RlcCk7YnJlYWs7CiAgICAgICAgY2FzZSAnd2Vla2RheSc6IC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaAogICAgICAgIGNhc2UgJ2RheSc6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0RGF0ZSh0aGlzLmN1cnJlbnQuZ2V0RGF0ZSgpICsgdGhpcy5zdGVwKTticmVhazsKICAgICAgICBjYXNlICdtb250aCc6CiAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0TW9udGgodGhpcy5jdXJyZW50LmdldE1vbnRoKCkgKyB0aGlzLnN0ZXApO2JyZWFrOwogICAgICAgIGNhc2UgJ3llYXInOgogICAgICAgICAgdGhpcy5jdXJyZW50LnNldEZ1bGxZZWFyKHRoaXMuY3VycmVudC5nZXRGdWxsWWVhcigpICsgdGhpcy5zdGVwKTticmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy5zdGVwICE9IDEpIHsKICAgICAgLy8gcm91bmQgZG93biB0byB0aGUgY29ycmVjdCBtYWpvciB2YWx1ZQogICAgICBzd2l0Y2ggKHRoaXMuc2NhbGUpIHsKICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6CiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50LmdldE1pbGxpc2Vjb25kcygpIDwgdGhpcy5zdGVwKSB0aGlzLmN1cnJlbnQuc2V0TWlsbGlzZWNvbmRzKDApO2JyZWFrOwogICAgICAgIGNhc2UgJ3NlY29uZCc6CiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50LmdldFNlY29uZHMoKSA8IHRoaXMuc3RlcCkgdGhpcy5jdXJyZW50LnNldFNlY29uZHMoMCk7YnJlYWs7CiAgICAgICAgY2FzZSAnbWludXRlJzoKICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQuZ2V0TWludXRlcygpIDwgdGhpcy5zdGVwKSB0aGlzLmN1cnJlbnQuc2V0TWludXRlcygwKTticmVhazsKICAgICAgICBjYXNlICdob3VyJzoKICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQuZ2V0SG91cnMoKSA8IHRoaXMuc3RlcCkgdGhpcy5jdXJyZW50LnNldEhvdXJzKDApO2JyZWFrOwogICAgICAgIGNhc2UgJ3dlZWtkYXknOiAvLyBpbnRlbnRpb25hbCBmYWxsIHRocm91Z2gKICAgICAgICBjYXNlICdkYXknOgogICAgICAgICAgaWYgKHRoaXMuY3VycmVudC5nZXREYXRlKCkgPCB0aGlzLnN0ZXAgKyAxKSB0aGlzLmN1cnJlbnQuc2V0RGF0ZSgxKTticmVhazsKICAgICAgICBjYXNlICdtb250aCc6CiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50LmdldE1vbnRoKCkgPCB0aGlzLnN0ZXApIHRoaXMuY3VycmVudC5zZXRNb250aCgwKTticmVhazsKICAgICAgICBjYXNlICd5ZWFyJzoKICAgICAgICAgIGJyZWFrOyAvLyBub3RoaW5nIHRvIGRvIGZvciB5ZWFyCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgLy8gc2FmZXR5IG1lY2hhbmlzbTogaWYgY3VycmVudCB0aW1lIGlzIHN0aWxsIHVuY2hhbmdlZCwgbW92ZSB0byB0aGUgZW5kCiAgICBpZiAodGhpcy5jdXJyZW50LnZhbHVlT2YoKSA9PSBwcmV2KSB7CiAgICAgIHRoaXMuY3VycmVudCA9IG5ldyBEYXRlKHRoaXMuX2VuZC52YWx1ZU9mKCkpOwogICAgfQoKICAgIERhdGVVdGlsLnN0ZXBPdmVySGlkZGVuRGF0ZXModGhpcywgcHJldik7CiAgfTsKCiAgLyoqCiAgICogR2V0IHRoZSBjdXJyZW50IGRhdGV0aW1lCiAgICogQHJldHVybiB7RGF0ZX0gIGN1cnJlbnQgVGhlIGN1cnJlbnQgZGF0ZQogICAqLwogIFRpbWVTdGVwLnByb3RvdHlwZS5nZXRDdXJyZW50ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY3VycmVudDsKICB9OwoKICAvKioKICAgKiBTZXQgYSBjdXN0b20gc2NhbGUuIEF1dG9zY2FsaW5nIHdpbGwgYmUgZGlzYWJsZWQuCiAgICogRm9yIGV4YW1wbGUgc2V0U2NhbGUoJ21pbnV0ZScsIDUpIHdpbGwgcmVzdWx0CiAgICogaW4gbWlub3Igc3RlcHMgb2YgNSBtaW51dGVzLCBhbmQgbWFqb3Igc3RlcHMgb2YgYW4gaG91ci4KICAgKgogICAqIEBwYXJhbSB7e3NjYWxlOiBzdHJpbmcsIHN0ZXA6IG51bWJlcn19IHBhcmFtcwogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFuIG9iamVjdCBjb250YWluaW5nIHR3byBwcm9wZXJ0aWVzOgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gQSBzdHJpbmcgJ3NjYWxlJy4gQ2hvb3NlIGZyb20gJ21pbGxpc2Vjb25kJywgJ3NlY29uZCcsCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWludXRlJywgJ2hvdXInLCAnd2Vla2RheScsICdkYXknLCAnbW9udGgnLCAneWVhcicuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBBIG51bWJlciAnc3RlcCcuIEEgc3RlcCBzaXplLCBieSBkZWZhdWx0IDEuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaG9vc2UgZm9yIGV4YW1wbGUgMSwgMiwgNSwgb3IgMTAuCiAgICovCiAgVGltZVN0ZXAucHJvdG90eXBlLnNldFNjYWxlID0gZnVuY3Rpb24gKHBhcmFtcykgewogICAgaWYgKHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zLnNjYWxlID09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuc2NhbGUgPSBwYXJhbXMuc2NhbGU7CiAgICAgIHRoaXMuc3RlcCA9IHBhcmFtcy5zdGVwID4gMCA/IHBhcmFtcy5zdGVwIDogMTsKICAgICAgdGhpcy5hdXRvU2NhbGUgPSBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBFbmFibGUgb3IgZGlzYWJsZSBhdXRvc2NhbGluZwogICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlICBJZiB0cnVlLCBhdXRvYXNjYWxpbmcgaXMgc2V0IHRydWUKICAgKi8KICBUaW1lU3RlcC5wcm90b3R5cGUuc2V0QXV0b1NjYWxlID0gZnVuY3Rpb24gKGVuYWJsZSkgewogICAgdGhpcy5hdXRvU2NhbGUgPSBlbmFibGU7CiAgfTsKCiAgLyoqCiAgICogQXV0b21hdGljYWxseSBkZXRlcm1pbmUgdGhlIHNjYWxlIHRoYXQgYmVzdHMgZml0cyB0aGUgcHJvdmlkZWQgbWluaW11bSBzdGVwCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttaW5pbXVtU3RlcF0gIFRoZSBtaW5pbXVtIHN0ZXAgc2l6ZSBpbiBtaWxsaXNlY29uZHMKICAgKi8KICBUaW1lU3RlcC5wcm90b3R5cGUuc2V0TWluaW11bVN0ZXAgPSBmdW5jdGlvbiAobWluaW11bVN0ZXApIHsKICAgIGlmIChtaW5pbXVtU3RlcCA9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vdmFyIGIgPSBhc2MgKyBkczsKCiAgICB2YXIgc3RlcFllYXIgPSAxMDAwICogNjAgKiA2MCAqIDI0ICogMzAgKiAxMjsKICAgIHZhciBzdGVwTW9udGggPSAxMDAwICogNjAgKiA2MCAqIDI0ICogMzA7CiAgICB2YXIgc3RlcERheSA9IDEwMDAgKiA2MCAqIDYwICogMjQ7CiAgICB2YXIgc3RlcEhvdXIgPSAxMDAwICogNjAgKiA2MDsKICAgIHZhciBzdGVwTWludXRlID0gMTAwMCAqIDYwOwogICAgdmFyIHN0ZXBTZWNvbmQgPSAxMDAwOwogICAgdmFyIHN0ZXBNaWxsaXNlY29uZCA9IDE7CgogICAgLy8gZmluZCB0aGUgc21hbGxlc3Qgc3RlcCB0aGF0IGlzIGxhcmdlciB0aGFuIHRoZSBwcm92aWRlZCBtaW5pbXVtU3RlcAogICAgaWYgKHN0ZXBZZWFyICogMTAwMCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAneWVhcic7dGhpcy5zdGVwID0gMTAwMDsKICAgIH0KICAgIGlmIChzdGVwWWVhciAqIDUwMCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAneWVhcic7dGhpcy5zdGVwID0gNTAwOwogICAgfQogICAgaWYgKHN0ZXBZZWFyICogMTAwID4gbWluaW11bVN0ZXApIHsKICAgICAgdGhpcy5zY2FsZSA9ICd5ZWFyJzt0aGlzLnN0ZXAgPSAxMDA7CiAgICB9CiAgICBpZiAoc3RlcFllYXIgKiA1MCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAneWVhcic7dGhpcy5zdGVwID0gNTA7CiAgICB9CiAgICBpZiAoc3RlcFllYXIgKiAxMCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAneWVhcic7dGhpcy5zdGVwID0gMTA7CiAgICB9CiAgICBpZiAoc3RlcFllYXIgKiA1ID4gbWluaW11bVN0ZXApIHsKICAgICAgdGhpcy5zY2FsZSA9ICd5ZWFyJzt0aGlzLnN0ZXAgPSA1OwogICAgfQogICAgaWYgKHN0ZXBZZWFyID4gbWluaW11bVN0ZXApIHsKICAgICAgdGhpcy5zY2FsZSA9ICd5ZWFyJzt0aGlzLnN0ZXAgPSAxOwogICAgfQogICAgaWYgKHN0ZXBNb250aCAqIDMgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ21vbnRoJzt0aGlzLnN0ZXAgPSAzOwogICAgfQogICAgaWYgKHN0ZXBNb250aCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnbW9udGgnO3RoaXMuc3RlcCA9IDE7CiAgICB9CiAgICBpZiAoc3RlcERheSAqIDUgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ2RheSc7dGhpcy5zdGVwID0gNTsKICAgIH0KICAgIGlmIChzdGVwRGF5ICogMiA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnZGF5Jzt0aGlzLnN0ZXAgPSAyOwogICAgfQogICAgaWYgKHN0ZXBEYXkgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ2RheSc7dGhpcy5zdGVwID0gMTsKICAgIH0KICAgIGlmIChzdGVwRGF5IC8gMiA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnd2Vla2RheSc7dGhpcy5zdGVwID0gMTsKICAgIH0KICAgIGlmIChzdGVwSG91ciAqIDQgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ2hvdXInO3RoaXMuc3RlcCA9IDQ7CiAgICB9CiAgICBpZiAoc3RlcEhvdXIgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ2hvdXInO3RoaXMuc3RlcCA9IDE7CiAgICB9CiAgICBpZiAoc3RlcE1pbnV0ZSAqIDE1ID4gbWluaW11bVN0ZXApIHsKICAgICAgdGhpcy5zY2FsZSA9ICdtaW51dGUnO3RoaXMuc3RlcCA9IDE1OwogICAgfQogICAgaWYgKHN0ZXBNaW51dGUgKiAxMCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnbWludXRlJzt0aGlzLnN0ZXAgPSAxMDsKICAgIH0KICAgIGlmIChzdGVwTWludXRlICogNSA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnbWludXRlJzt0aGlzLnN0ZXAgPSA1OwogICAgfQogICAgaWYgKHN0ZXBNaW51dGUgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ21pbnV0ZSc7dGhpcy5zdGVwID0gMTsKICAgIH0KICAgIGlmIChzdGVwU2Vjb25kICogMTUgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ3NlY29uZCc7dGhpcy5zdGVwID0gMTU7CiAgICB9CiAgICBpZiAoc3RlcFNlY29uZCAqIDEwID4gbWluaW11bVN0ZXApIHsKICAgICAgdGhpcy5zY2FsZSA9ICdzZWNvbmQnO3RoaXMuc3RlcCA9IDEwOwogICAgfQogICAgaWYgKHN0ZXBTZWNvbmQgKiA1ID4gbWluaW11bVN0ZXApIHsKICAgICAgdGhpcy5zY2FsZSA9ICdzZWNvbmQnO3RoaXMuc3RlcCA9IDU7CiAgICB9CiAgICBpZiAoc3RlcFNlY29uZCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnc2Vjb25kJzt0aGlzLnN0ZXAgPSAxOwogICAgfQogICAgaWYgKHN0ZXBNaWxsaXNlY29uZCAqIDIwMCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnbWlsbGlzZWNvbmQnO3RoaXMuc3RlcCA9IDIwMDsKICAgIH0KICAgIGlmIChzdGVwTWlsbGlzZWNvbmQgKiAxMDAgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ21pbGxpc2Vjb25kJzt0aGlzLnN0ZXAgPSAxMDA7CiAgICB9CiAgICBpZiAoc3RlcE1pbGxpc2Vjb25kICogNTAgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ21pbGxpc2Vjb25kJzt0aGlzLnN0ZXAgPSA1MDsKICAgIH0KICAgIGlmIChzdGVwTWlsbGlzZWNvbmQgKiAxMCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnbWlsbGlzZWNvbmQnO3RoaXMuc3RlcCA9IDEwOwogICAgfQogICAgaWYgKHN0ZXBNaWxsaXNlY29uZCAqIDUgPiBtaW5pbXVtU3RlcCkgewogICAgICB0aGlzLnNjYWxlID0gJ21pbGxpc2Vjb25kJzt0aGlzLnN0ZXAgPSA1OwogICAgfQogICAgaWYgKHN0ZXBNaWxsaXNlY29uZCA+IG1pbmltdW1TdGVwKSB7CiAgICAgIHRoaXMuc2NhbGUgPSAnbWlsbGlzZWNvbmQnO3RoaXMuc3RlcCA9IDE7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU25hcCBhIGRhdGUgdG8gYSByb3VuZGVkIHZhbHVlLgogICAqIFRoZSBzbmFwIGludGVydmFscyBhcmUgZGVwZW5kZW50IG9uIHRoZSBjdXJyZW50IHNjYWxlIGFuZCBzdGVwLgogICAqIFN0YXRpYyBmdW5jdGlvbgogICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAgICB0aGUgZGF0ZSB0byBiZSBzbmFwcGVkLgogICAqIEBwYXJhbSB7c3RyaW5nfSBzY2FsZSBDdXJyZW50IHNjYWxlLCBjYW4gYmUgJ21pbGxpc2Vjb25kJywgJ3NlY29uZCcsCiAgICogICAgICAgICAgICAgICAgICAgICAgICdtaW51dGUnLCAnaG91cicsICd3ZWVrZGF5LCAnZGF5JywgJ21vbnRoJywgJ3llYXInLgogICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwICBDdXJyZW50IHN0ZXAgKDEsIDIsIDQsIDUsIC4uLgogICAqIEByZXR1cm4ge0RhdGV9IHNuYXBwZWREYXRlCiAgICovCiAgVGltZVN0ZXAuc25hcCA9IGZ1bmN0aW9uIChkYXRlLCBzY2FsZSwgc3RlcCkgewogICAgdmFyIGNsb25lID0gbmV3IERhdGUoZGF0ZS52YWx1ZU9mKCkpOwoKICAgIGlmIChzY2FsZSA9PSAneWVhcicpIHsKICAgICAgdmFyIHllYXIgPSBjbG9uZS5nZXRGdWxsWWVhcigpICsgTWF0aC5yb3VuZChjbG9uZS5nZXRNb250aCgpIC8gMTIpOwogICAgICBjbG9uZS5zZXRGdWxsWWVhcihNYXRoLnJvdW5kKHllYXIgLyBzdGVwKSAqIHN0ZXApOwogICAgICBjbG9uZS5zZXRNb250aCgwKTsKICAgICAgY2xvbmUuc2V0RGF0ZSgwKTsKICAgICAgY2xvbmUuc2V0SG91cnMoMCk7CiAgICAgIGNsb25lLnNldE1pbnV0ZXMoMCk7CiAgICAgIGNsb25lLnNldFNlY29uZHMoMCk7CiAgICAgIGNsb25lLnNldE1pbGxpc2Vjb25kcygwKTsKICAgIH0gZWxzZSBpZiAoc2NhbGUgPT0gJ21vbnRoJykgewogICAgICBpZiAoY2xvbmUuZ2V0RGF0ZSgpID4gMTUpIHsKICAgICAgICBjbG9uZS5zZXREYXRlKDEpOwogICAgICAgIGNsb25lLnNldE1vbnRoKGNsb25lLmdldE1vbnRoKCkgKyAxKTsKICAgICAgICAvLyBpbXBvcnRhbnQ6IGZpcnN0IHNldCBEYXRlIHRvIDEsIGFmdGVyIHRoYXQgY2hhbmdlIHRoZSBtb250aC4KICAgICAgfSBlbHNlIHsKICAgICAgICBjbG9uZS5zZXREYXRlKDEpOwogICAgICB9CgogICAgICBjbG9uZS5zZXRIb3VycygwKTsKICAgICAgY2xvbmUuc2V0TWludXRlcygwKTsKICAgICAgY2xvbmUuc2V0U2Vjb25kcygwKTsKICAgICAgY2xvbmUuc2V0TWlsbGlzZWNvbmRzKDApOwogICAgfSBlbHNlIGlmIChzY2FsZSA9PSAnZGF5JykgewogICAgICAvL25vaW5zcGVjdGlvbiBGYWxsdGhyb3VnaEluU3dpdGNoU3RhdGVtZW50SlMKICAgICAgc3dpdGNoIChzdGVwKSB7CiAgICAgICAgY2FzZSA1OgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIGNsb25lLnNldEhvdXJzKE1hdGgucm91bmQoY2xvbmUuZ2V0SG91cnMoKSAvIDI0KSAqIDI0KTticmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY2xvbmUuc2V0SG91cnMoTWF0aC5yb3VuZChjbG9uZS5nZXRIb3VycygpIC8gMTIpICogMTIpO2JyZWFrOwogICAgICB9CiAgICAgIGNsb25lLnNldE1pbnV0ZXMoMCk7CiAgICAgIGNsb25lLnNldFNlY29uZHMoMCk7CiAgICAgIGNsb25lLnNldE1pbGxpc2Vjb25kcygwKTsKICAgIH0gZWxzZSBpZiAoc2NhbGUgPT0gJ3dlZWtkYXknKSB7CiAgICAgIC8vbm9pbnNwZWN0aW9uIEZhbGx0aHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKUwogICAgICBzd2l0Y2ggKHN0ZXApIHsKICAgICAgICBjYXNlIDU6CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2xvbmUuc2V0SG91cnMoTWF0aC5yb3VuZChjbG9uZS5nZXRIb3VycygpIC8gMTIpICogMTIpO2JyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBjbG9uZS5zZXRIb3VycyhNYXRoLnJvdW5kKGNsb25lLmdldEhvdXJzKCkgLyA2KSAqIDYpO2JyZWFrOwogICAgICB9CiAgICAgIGNsb25lLnNldE1pbnV0ZXMoMCk7CiAgICAgIGNsb25lLnNldFNlY29uZHMoMCk7CiAgICAgIGNsb25lLnNldE1pbGxpc2Vjb25kcygwKTsKICAgIH0gZWxzZSBpZiAoc2NhbGUgPT0gJ2hvdXInKSB7CiAgICAgIHN3aXRjaCAoc3RlcCkgewogICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNsb25lLnNldE1pbnV0ZXMoTWF0aC5yb3VuZChjbG9uZS5nZXRNaW51dGVzKCkgLyA2MCkgKiA2MCk7YnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGNsb25lLnNldE1pbnV0ZXMoTWF0aC5yb3VuZChjbG9uZS5nZXRNaW51dGVzKCkgLyAzMCkgKiAzMCk7YnJlYWs7CiAgICAgIH0KICAgICAgY2xvbmUuc2V0U2Vjb25kcygwKTsKICAgICAgY2xvbmUuc2V0TWlsbGlzZWNvbmRzKDApOwogICAgfSBlbHNlIGlmIChzY2FsZSA9PSAnbWludXRlJykgewogICAgICAvL25vaW5zcGVjdGlvbiBGYWxsdGhyb3VnaEluU3dpdGNoU3RhdGVtZW50SlMKICAgICAgc3dpdGNoIChzdGVwKSB7CiAgICAgICAgY2FzZSAxNToKICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2xvbmUuc2V0TWludXRlcyhNYXRoLnJvdW5kKGNsb25lLmdldE1pbnV0ZXMoKSAvIDUpICogNSk7CiAgICAgICAgICBjbG9uZS5zZXRTZWNvbmRzKDApOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA1OgogICAgICAgICAgY2xvbmUuc2V0U2Vjb25kcyhNYXRoLnJvdW5kKGNsb25lLmdldFNlY29uZHMoKSAvIDYwKSAqIDYwKTticmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY2xvbmUuc2V0U2Vjb25kcyhNYXRoLnJvdW5kKGNsb25lLmdldFNlY29uZHMoKSAvIDMwKSAqIDMwKTticmVhazsKICAgICAgfQogICAgICBjbG9uZS5zZXRNaWxsaXNlY29uZHMoMCk7CiAgICB9IGVsc2UgaWYgKHNjYWxlID09ICdzZWNvbmQnKSB7CiAgICAgIC8vbm9pbnNwZWN0aW9uIEZhbGx0aHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKUwogICAgICBzd2l0Y2ggKHN0ZXApIHsKICAgICAgICBjYXNlIDE1OgogICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBjbG9uZS5zZXRTZWNvbmRzKE1hdGgucm91bmQoY2xvbmUuZ2V0U2Vjb25kcygpIC8gNSkgKiA1KTsKICAgICAgICAgIGNsb25lLnNldE1pbGxpc2Vjb25kcygwKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNToKICAgICAgICAgIGNsb25lLnNldE1pbGxpc2Vjb25kcyhNYXRoLnJvdW5kKGNsb25lLmdldE1pbGxpc2Vjb25kcygpIC8gMTAwMCkgKiAxMDAwKTticmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY2xvbmUuc2V0TWlsbGlzZWNvbmRzKE1hdGgucm91bmQoY2xvbmUuZ2V0TWlsbGlzZWNvbmRzKCkgLyA1MDApICogNTAwKTticmVhazsKICAgICAgfQogICAgfSBlbHNlIGlmIChzY2FsZSA9PSAnbWlsbGlzZWNvbmQnKSB7CiAgICAgIHZhciBfc3RlcCA9IHN0ZXAgPiA1ID8gc3RlcCAvIDIgOiAxOwogICAgICBjbG9uZS5zZXRNaWxsaXNlY29uZHMoTWF0aC5yb3VuZChjbG9uZS5nZXRNaWxsaXNlY29uZHMoKSAvIF9zdGVwKSAqIF9zdGVwKTsKICAgIH0KCiAgICByZXR1cm4gY2xvbmU7CiAgfTsKCiAgLyoqCiAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdmFsdWUgaXMgYSBtYWpvciB2YWx1ZSAoZm9yIGV4YW1wbGUgd2hlbiB0aGUgc3RlcAogICAqIGlzIERBWSwgYSBtYWpvciB2YWx1ZSBpcyBlYWNoIGZpcnN0IGRheSBvZiB0aGUgTU9OVEgpCiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBjdXJyZW50IGRhdGUgaXMgbWFqb3IsIGVsc2UgZmFsc2UuCiAgICovCiAgVGltZVN0ZXAucHJvdG90eXBlLmlzTWFqb3IgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5zd2l0Y2hlZFllYXIgPT0gdHJ1ZSkgewogICAgICB0aGlzLnN3aXRjaGVkWWVhciA9IGZhbHNlOwogICAgICBzd2l0Y2ggKHRoaXMuc2NhbGUpIHsKICAgICAgICBjYXNlICd5ZWFyJzoKICAgICAgICBjYXNlICdtb250aCc6CiAgICAgICAgY2FzZSAnd2Vla2RheSc6CiAgICAgICAgY2FzZSAnZGF5JzoKICAgICAgICBjYXNlICdob3VyJzoKICAgICAgICBjYXNlICdtaW51dGUnOgogICAgICAgIGNhc2UgJ3NlY29uZCc6CiAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0aGlzLnN3aXRjaGVkTW9udGggPT0gdHJ1ZSkgewogICAgICB0aGlzLnN3aXRjaGVkTW9udGggPSBmYWxzZTsKICAgICAgc3dpdGNoICh0aGlzLnNjYWxlKSB7CiAgICAgICAgY2FzZSAnd2Vla2RheSc6CiAgICAgICAgY2FzZSAnZGF5JzoKICAgICAgICBjYXNlICdob3VyJzoKICAgICAgICBjYXNlICdtaW51dGUnOgogICAgICAgIGNhc2UgJ3NlY29uZCc6CiAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0aGlzLnN3aXRjaGVkRGF5ID09IHRydWUpIHsKICAgICAgdGhpcy5zd2l0Y2hlZERheSA9IGZhbHNlOwogICAgICBzd2l0Y2ggKHRoaXMuc2NhbGUpIHsKICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6CiAgICAgICAgY2FzZSAnc2Vjb25kJzoKICAgICAgICBjYXNlICdtaW51dGUnOgogICAgICAgIGNhc2UgJ2hvdXInOgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHN3aXRjaCAodGhpcy5zY2FsZSkgewogICAgICBjYXNlICdtaWxsaXNlY29uZCc6CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5nZXRNaWxsaXNlY29uZHMoKSA9PSAwOwogICAgICBjYXNlICdzZWNvbmQnOgogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuZ2V0U2Vjb25kcygpID09IDA7CiAgICAgIGNhc2UgJ21pbnV0ZSc6CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5nZXRIb3VycygpID09IDAgJiYgdGhpcy5jdXJyZW50LmdldE1pbnV0ZXMoKSA9PSAwOwogICAgICBjYXNlICdob3VyJzoKICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LmdldEhvdXJzKCkgPT0gMDsKICAgICAgY2FzZSAnd2Vla2RheSc6IC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaAogICAgICBjYXNlICdkYXknOgogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuZ2V0RGF0ZSgpID09IDE7CiAgICAgIGNhc2UgJ21vbnRoJzoKICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LmdldE1vbnRoKCkgPT0gMDsKICAgICAgY2FzZSAneWVhcic6CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBSZXR1cm5zIGZvcm1hdHRlZCB0ZXh0IGZvciB0aGUgbWlub3IgYXhpc2xhYmVsLCBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQKICAgKiBkYXRlIGFuZCB0aGUgc2NhbGUuIEZvciBleGFtcGxlIHdoZW4gc2NhbGUgaXMgTUlOVVRFLCB0aGUgY3VycmVudCB0aW1lIGlzCiAgICogZm9ybWF0dGVkIGFzICJoaDptbSIuCiAgICogQHBhcmFtIHtEYXRlfSBbZGF0ZV0gY3VzdG9tIGRhdGUuIGlmIG5vdCBwcm92aWRlZCwgY3VycmVudCBkYXRlIGlzIHRha2VuCiAgICovCiAgVGltZVN0ZXAucHJvdG90eXBlLmdldExhYmVsTWlub3IgPSBmdW5jdGlvbiAoZGF0ZSkgewogICAgaWYgKGRhdGUgPT0gdW5kZWZpbmVkKSB7CiAgICAgIGRhdGUgPSB0aGlzLmN1cnJlbnQ7CiAgICB9CgogICAgdmFyIGZvcm1hdCA9IHRoaXMuZm9ybWF0Lm1pbm9yTGFiZWxzW3RoaXMuc2NhbGVdOwogICAgcmV0dXJuIGZvcm1hdCAmJiBmb3JtYXQubGVuZ3RoID4gMCA/IG1vbWVudChkYXRlKS5mb3JtYXQoZm9ybWF0KSA6ICcnOwogIH07CgogIC8qKgogICAqIFJldHVybnMgZm9ybWF0dGVkIHRleHQgZm9yIHRoZSBtYWpvciBheGlzIGxhYmVsLCBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQKICAgKiBkYXRlIGFuZCB0aGUgc2NhbGUuIEZvciBleGFtcGxlIHdoZW4gc2NhbGUgaXMgTUlOVVRFLCB0aGUgbWFqb3Igc2NhbGUgaXMKICAgKiBob3VycywgYW5kIHRoZSBob3VyIHdpbGwgYmUgZm9ybWF0dGVkIGFzICJoaCIuCiAgICogQHBhcmFtIHtEYXRlfSBbZGF0ZV0gY3VzdG9tIGRhdGUuIGlmIG5vdCBwcm92aWRlZCwgY3VycmVudCBkYXRlIGlzIHRha2VuCiAgICovCiAgVGltZVN0ZXAucHJvdG90eXBlLmdldExhYmVsTWFqb3IgPSBmdW5jdGlvbiAoZGF0ZSkgewogICAgaWYgKGRhdGUgPT0gdW5kZWZpbmVkKSB7CiAgICAgIGRhdGUgPSB0aGlzLmN1cnJlbnQ7CiAgICB9CgogICAgdmFyIGZvcm1hdCA9IHRoaXMuZm9ybWF0Lm1ham9yTGFiZWxzW3RoaXMuc2NhbGVdOwogICAgcmV0dXJuIGZvcm1hdCAmJiBmb3JtYXQubGVuZ3RoID4gMCA/IG1vbWVudChkYXRlKS5mb3JtYXQoZm9ybWF0KSA6ICcnOwogIH07CgogIFRpbWVTdGVwLnByb3RvdHlwZS5nZXRDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbSA9IG1vbWVudCh0aGlzLmN1cnJlbnQpOwogICAgdmFyIGRhdGUgPSBtLmxvY2FsZSA/IG0ubG9jYWxlKCdlbicpIDogbS5sYW5nKCdlbicpOyAvLyBvbGQgdmVyc2lvbnMgb2YgbW9tZW50IGhhdmUgLmxhbmcoKSBmdW5jdGlvbgogICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXA7CgogICAgZnVuY3Rpb24gZXZlbih2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUgLyBzdGVwICUgMiA9PSAwID8gJyB2aXMtZXZlbicgOiAnIHZpcy1vZGQnOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvZGF5KGRhdGUpIHsKICAgICAgaWYgKGRhdGUuaXNTYW1lKG5ldyBEYXRlKCksICdkYXknKSkgewogICAgICAgIHJldHVybiAnIHZpcy10b2RheSc7CiAgICAgIH0KICAgICAgaWYgKGRhdGUuaXNTYW1lKG1vbWVudCgpLmFkZCgxLCAnZGF5JyksICdkYXknKSkgewogICAgICAgIHJldHVybiAnIHZpcy10b21vcnJvdyc7CiAgICAgIH0KICAgICAgaWYgKGRhdGUuaXNTYW1lKG1vbWVudCgpLmFkZCgtMSwgJ2RheScpLCAnZGF5JykpIHsKICAgICAgICByZXR1cm4gJyB2aXMteWVzdGVyZGF5JzsKICAgICAgfQogICAgICByZXR1cm4gJyc7CiAgICB9CgogICAgZnVuY3Rpb24gY3VycmVudFdlZWsoZGF0ZSkgewogICAgICByZXR1cm4gZGF0ZS5pc1NhbWUobmV3IERhdGUoKSwgJ3dlZWsnKSA/ICcgdmlzLWN1cnJlbnQtd2VlaycgOiAnJzsKICAgIH0KCiAgICBmdW5jdGlvbiBjdXJyZW50TW9udGgoZGF0ZSkgewogICAgICByZXR1cm4gZGF0ZS5pc1NhbWUobmV3IERhdGUoKSwgJ21vbnRoJykgPyAnIHZpcy1jdXJyZW50LW1vbnRoJyA6ICcnOwogICAgfQoKICAgIGZ1bmN0aW9uIGN1cnJlbnRZZWFyKGRhdGUpIHsKICAgICAgcmV0dXJuIGRhdGUuaXNTYW1lKG5ldyBEYXRlKCksICd5ZWFyJykgPyAnIHZpcy1jdXJyZW50LXllYXInIDogJyc7CiAgICB9CgogICAgc3dpdGNoICh0aGlzLnNjYWxlKSB7CiAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzoKICAgICAgICByZXR1cm4gZXZlbihkYXRlLm1pbGxpc2Vjb25kcygpKS50cmltKCk7CgogICAgICBjYXNlICdzZWNvbmQnOgogICAgICAgIHJldHVybiBldmVuKGRhdGUuc2Vjb25kcygpKS50cmltKCk7CgogICAgICBjYXNlICdtaW51dGUnOgogICAgICAgIHJldHVybiBldmVuKGRhdGUubWludXRlcygpKS50cmltKCk7CgogICAgICBjYXNlICdob3VyJzoKICAgICAgICB2YXIgaG91cnMgPSBkYXRlLmhvdXJzKCk7CiAgICAgICAgaWYgKHRoaXMuc3RlcCA9PSA0KSB7CiAgICAgICAgICBob3VycyA9IGhvdXJzICsgJy1oJyArIChob3VycyArIDQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJ3Zpcy1oJyArIGhvdXJzICsgdG9kYXkoZGF0ZSkgKyBldmVuKGRhdGUuaG91cnMoKSk7CgogICAgICBjYXNlICd3ZWVrZGF5JzoKICAgICAgICByZXR1cm4gJ3Zpcy0nICsgZGF0ZS5mb3JtYXQoJ2RkZGQnKS50b0xvd2VyQ2FzZSgpICsgdG9kYXkoZGF0ZSkgKyBjdXJyZW50V2VlayhkYXRlKSArIGV2ZW4oZGF0ZS5kYXRlKCkpOwoKICAgICAgY2FzZSAnZGF5JzoKICAgICAgICB2YXIgZGF5ID0gZGF0ZS5kYXRlKCk7CiAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5mb3JtYXQoJ01NTU0nKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHVybiAndmlzLWRheScgKyBkYXkgKyAnIHZpcy0nICsgbW9udGggKyBjdXJyZW50TW9udGgoZGF0ZSkgKyBldmVuKGRheSAtIDEpOwoKICAgICAgY2FzZSAnbW9udGgnOgogICAgICAgIHJldHVybiAndmlzLScgKyBkYXRlLmZvcm1hdCgnTU1NTScpLnRvTG93ZXJDYXNlKCkgKyBjdXJyZW50TW9udGgoZGF0ZSkgKyBldmVuKGRhdGUubW9udGgoKSk7CgogICAgICBjYXNlICd5ZWFyJzoKICAgICAgICB2YXIgeWVhciA9IGRhdGUueWVhcigpOwogICAgICAgIHJldHVybiAndmlzLXllYXInICsgeWVhciArIGN1cnJlbnRZZWFyKGRhdGUpICsgZXZlbih5ZWFyKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICcnOwogICAgfQogIH07CgogIG1vZHVsZS5leHBvcnRzID0gVGltZVN0ZXA7CgovKioqLyB9LAovKiAzNyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIEdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7CgogIC8qKgogICAqIEBjb25zdHJ1Y3RvciBCYWNrZ3JvdW5kR3JvdXAKICAgKiBAcGFyYW0ge051bWJlciB8IFN0cmluZ30gZ3JvdXBJZAogICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhCiAgICogQHBhcmFtIHtJdGVtU2V0fSBpdGVtU2V0CiAgICovCiAgZnVuY3Rpb24gQmFja2dyb3VuZEdyb3VwKGdyb3VwSWQsIGRhdGEsIGl0ZW1TZXQpIHsKICAgIEdyb3VwLmNhbGwodGhpcywgZ3JvdXBJZCwgZGF0YSwgaXRlbVNldCk7CgogICAgdGhpcy53aWR0aCA9IDA7CiAgICB0aGlzLmhlaWdodCA9IDA7CiAgICB0aGlzLnRvcCA9IDA7CiAgICB0aGlzLmxlZnQgPSAwOwogIH0KCiAgQmFja2dyb3VuZEdyb3VwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3JvdXAucHJvdG90eXBlKTsKCiAgLyoqCiAgICogUmVwYWludCB0aGlzIGdyb3VwCiAgICogQHBhcmFtIHt7c3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXJ9fSByYW5nZQogICAqIEBwYXJhbSB7e2l0ZW06IHtob3Jpem9udGFsOiBudW1iZXIsIHZlcnRpY2FsOiBudW1iZXJ9LCBheGlzOiBudW1iZXJ9fSBtYXJnaW4KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXN0YWNrPWZhbHNlXSAgRm9yY2UgcmVzdGFja2luZyBvZiBhbGwgaXRlbXMKICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGdyb3VwIGlzIHJlc2l6ZWQKICAgKi8KICBCYWNrZ3JvdW5kR3JvdXAucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uIChyYW5nZSwgbWFyZ2luLCByZXN0YWNrKSB7CiAgICB2YXIgcmVzaXplZCA9IGZhbHNlOwoKICAgIHRoaXMudmlzaWJsZUl0ZW1zID0gdGhpcy5fdXBkYXRlVmlzaWJsZUl0ZW1zKHRoaXMub3JkZXJlZEl0ZW1zLCB0aGlzLnZpc2libGVJdGVtcywgcmFuZ2UpOwoKICAgIC8vIGNhbGN1bGF0ZSBhY3R1YWwgc2l6ZQogICAgdGhpcy53aWR0aCA9IHRoaXMuZG9tLmJhY2tncm91bmQub2Zmc2V0V2lkdGg7CgogICAgLy8gYXBwbHkgbmV3IGhlaWdodCAoanVzdCBhbHdheXMgemVybyBmb3IgQmFja2dyb3VuZEdyb3VwCiAgICB0aGlzLmRvbS5iYWNrZ3JvdW5kLnN0eWxlLmhlaWdodCA9ICcwJzsKCiAgICAvLyB1cGRhdGUgdmVydGljYWwgcG9zaXRpb24gb2YgaXRlbXMgYWZ0ZXIgdGhleSBhcmUgcmUtc3RhY2tlZCBhbmQgdGhlIGhlaWdodCBvZiB0aGUgZ3JvdXAgaXMgY2FsY3VsYXRlZAogICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy52aXNpYmxlSXRlbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICB2YXIgaXRlbSA9IHRoaXMudmlzaWJsZUl0ZW1zW2ldOwogICAgICBpdGVtLnJlcG9zaXRpb25ZKG1hcmdpbik7CiAgICB9CgogICAgcmV0dXJuIHJlc2l6ZWQ7CiAgfTsKCiAgLyoqCiAgICogU2hvdyB0aGlzIGdyb3VwOiBhdHRhY2ggdG8gdGhlIERPTQogICAqLwogIEJhY2tncm91bmRHcm91cC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5kb20uYmFja2dyb3VuZC5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuaXRlbVNldC5kb20uYmFja2dyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5iYWNrZ3JvdW5kKTsKICAgIH0KICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IEJhY2tncm91bmRHcm91cDsKCi8qKiovIH0sCi8qIDM4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7CiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICAvKioKICAgKiBAY29uc3RydWN0b3IgQm94SXRlbQogICAqIEBleHRlbmRzIEl0ZW0KICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAgICAgICAgICAgICBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJzIHN0YXJ0CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCwgY2xhc3NOYW1lLgogICAqIEBwYXJhbSB7e3RvU2NyZWVuOiBmdW5jdGlvbiwgdG9UaW1lOiBmdW5jdGlvbn19IGNvbnZlcnNpb24KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJzaW9uIGZ1bmN0aW9ucyBmcm9tIHRpbWUgdG8gc2NyZWVuIGFuZCB2aWNlIHZlcnNhCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgQ29uZmlndXJhdGlvbiBvcHRpb25zCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZGVzY3JpYmUgYXZhaWxhYmxlIG9wdGlvbnMKICAgKi8KICBmdW5jdGlvbiBCb3hJdGVtKGRhdGEsIGNvbnZlcnNpb24sIG9wdGlvbnMpIHsKICAgIHRoaXMucHJvcHMgPSB7CiAgICAgIGRvdDogewogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMAogICAgICB9LAogICAgICBsaW5lOiB7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwCiAgICAgIH0KICAgIH07CgogICAgLy8gdmFsaWRhdGUgZGF0YQogICAgaWYgKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuc3RhcnQgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSAic3RhcnQiIG1pc3NpbmcgaW4gaXRlbSAnICsgZGF0YSk7CiAgICAgIH0KICAgIH0KCiAgICBJdGVtLmNhbGwodGhpcywgZGF0YSwgY29udmVyc2lvbiwgb3B0aW9ucyk7CiAgfQoKICBCb3hJdGVtLnByb3RvdHlwZSA9IG5ldyBJdGVtKG51bGwsIG51bGwsIG51bGwpOwoKICAvKioKICAgKiBDaGVjayB3aGV0aGVyIHRoaXMgaXRlbSBpcyB2aXNpYmxlIGluc2lkZSBnaXZlbiByYW5nZQogICAqIEByZXR1cm5zIHt7c3RhcnQ6IE51bWJlciwgZW5kOiBOdW1iZXJ9fSByYW5nZSB3aXRoIGEgdGltZXN0YW1wIGZvciBzdGFydCBhbmQgZW5kCiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmlzaWJsZQogICAqLwogIEJveEl0ZW0ucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgLy8gZGV0ZXJtaW5lIHZpc2liaWxpdHkKICAgIC8vIFRPRE86IGFjY291bnQgZm9yIHRoZSByZWFsIHdpZHRoIG9mIHRoZSBpdGVtLiBSaWdodCBub3cgd2UganVzdCBhZGQgMS80IHRvIHRoZSB3aW5kb3cKICAgIHZhciBpbnRlcnZhbCA9IChyYW5nZS5lbmQgLSByYW5nZS5zdGFydCkgLyA0OwogICAgcmV0dXJuIHRoaXMuZGF0YS5zdGFydCA+IHJhbmdlLnN0YXJ0IC0gaW50ZXJ2YWwgJiYgdGhpcy5kYXRhLnN0YXJ0IDwgcmFuZ2UuZW5kICsgaW50ZXJ2YWw7CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgaXRlbQogICAqLwogIEJveEl0ZW0ucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBkb20gPSB0aGlzLmRvbTsKICAgIGlmICghZG9tKSB7CiAgICAgIC8vIGNyZWF0ZSBET00KICAgICAgdGhpcy5kb20gPSB7fTsKICAgICAgZG9tID0gdGhpcy5kb207CgogICAgICAvLyBjcmVhdGUgbWFpbiBib3gKICAgICAgZG9tLmJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpOwoKICAgICAgLy8gY29udGVudHMgYm94IChpbnNpZGUgdGhlIGJhY2tncm91bmQgYm94KS4gdXNlZCBmb3IgbWFraW5nIG1hcmdpbnMKICAgICAgZG9tLmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTsKICAgICAgZG9tLmNvbnRlbnQuY2xhc3NOYW1lID0gJ3Zpcy1pdGVtLWNvbnRlbnQnOwogICAgICBkb20uYm94LmFwcGVuZENoaWxkKGRvbS5jb250ZW50KTsKCiAgICAgIC8vIGxpbmUgdG8gYXhpcwogICAgICBkb20ubGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpOwogICAgICBkb20ubGluZS5jbGFzc05hbWUgPSAndmlzLWxpbmUnOwoKICAgICAgLy8gZG90IG9uIGF4aXMKICAgICAgZG9tLmRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpOwogICAgICBkb20uZG90LmNsYXNzTmFtZSA9ICd2aXMtZG90JzsKCiAgICAgIC8vIGF0dGFjaCB0aGlzIGl0ZW0gYXMgYXR0cmlidXRlCiAgICAgIGRvbS5ib3hbJ3RpbWVsaW5lLWl0ZW0nXSA9IHRoaXM7CgogICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBhcHBlbmQgRE9NIHRvIHBhcmVudCBET00KICAgIGlmICghdGhpcy5wYXJlbnQpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVkcmF3IGl0ZW06IG5vIHBhcmVudCBhdHRhY2hlZCcpOwogICAgfQogICAgaWYgKCFkb20uYm94LnBhcmVudE5vZGUpIHsKICAgICAgdmFyIGZvcmVncm91bmQgPSB0aGlzLnBhcmVudC5kb20uZm9yZWdyb3VuZDsKICAgICAgaWYgKCFmb3JlZ3JvdW5kKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWRyYXcgaXRlbTogcGFyZW50IGhhcyBubyBmb3JlZ3JvdW5kIGNvbnRhaW5lciBlbGVtZW50Jyk7CiAgICAgIGZvcmVncm91bmQuYXBwZW5kQ2hpbGQoZG9tLmJveCk7CiAgICB9CiAgICBpZiAoIWRvbS5saW5lLnBhcmVudE5vZGUpIHsKICAgICAgdmFyIGJhY2tncm91bmQgPSB0aGlzLnBhcmVudC5kb20uYmFja2dyb3VuZDsKICAgICAgaWYgKCFiYWNrZ3JvdW5kKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWRyYXcgaXRlbTogcGFyZW50IGhhcyBubyBiYWNrZ3JvdW5kIGNvbnRhaW5lciBlbGVtZW50Jyk7CiAgICAgIGJhY2tncm91bmQuYXBwZW5kQ2hpbGQoZG9tLmxpbmUpOwogICAgfQogICAgaWYgKCFkb20uZG90LnBhcmVudE5vZGUpIHsKICAgICAgdmFyIGF4aXMgPSB0aGlzLnBhcmVudC5kb20uYXhpczsKICAgICAgaWYgKCFiYWNrZ3JvdW5kKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWRyYXcgaXRlbTogcGFyZW50IGhhcyBubyBheGlzIGNvbnRhaW5lciBlbGVtZW50Jyk7CiAgICAgIGF4aXMuYXBwZW5kQ2hpbGQoZG9tLmRvdCk7CiAgICB9CiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7CgogICAgLy8gVXBkYXRlIERPTSB3aGVuIGl0ZW0gaXMgbWFya2VkIGRpcnR5LiBBbiBpdGVtIGlzIG1hcmtlZCBkaXJ0eSB3aGVuOgogICAgLy8gLSB0aGUgaXRlbSBpcyBub3QgeWV0IHJlbmRlcmVkCiAgICAvLyAtIHRoZSBpdGVtJ3MgZGF0YSBpcyBjaGFuZ2VkCiAgICAvLyAtIHRoZSBpdGVtIGlzIHNlbGVjdGVkL2Rlc2VsZWN0ZWQKICAgIGlmICh0aGlzLmRpcnR5KSB7CiAgICAgIHRoaXMuX3VwZGF0ZUNvbnRlbnRzKHRoaXMuZG9tLmNvbnRlbnQpOwogICAgICB0aGlzLl91cGRhdGVUaXRsZSh0aGlzLmRvbS5ib3gpOwogICAgICB0aGlzLl91cGRhdGVEYXRhQXR0cmlidXRlcyh0aGlzLmRvbS5ib3gpOwogICAgICB0aGlzLl91cGRhdGVTdHlsZSh0aGlzLmRvbS5ib3gpOwoKICAgICAgdmFyIGVkaXRhYmxlID0gKHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lIHx8IHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVHcm91cCB8fCB0aGlzLmVkaXRhYmxlID09PSB0cnVlKSAmJiB0aGlzLmVkaXRhYmxlICE9PSBmYWxzZTsKCiAgICAgIC8vIHVwZGF0ZSBjbGFzcwogICAgICB2YXIgY2xhc3NOYW1lID0gKHRoaXMuZGF0YS5jbGFzc05hbWUgPyAnICcgKyB0aGlzLmRhdGEuY2xhc3NOYW1lIDogJycpICsgKHRoaXMuc2VsZWN0ZWQgPyAnIHZpcy1zZWxlY3RlZCcgOiAnJykgKyAoZWRpdGFibGUgPyAnIHZpcy1lZGl0YWJsZScgOiAnIHZpcy1yZWFkb25seScpOwogICAgICBkb20uYm94LmNsYXNzTmFtZSA9ICd2aXMtaXRlbSB2aXMtYm94JyArIGNsYXNzTmFtZTsKICAgICAgZG9tLmxpbmUuY2xhc3NOYW1lID0gJ3Zpcy1pdGVtIHZpcy1saW5lJyArIGNsYXNzTmFtZTsKICAgICAgZG9tLmRvdC5jbGFzc05hbWUgPSAndmlzLWl0ZW0gdmlzLWRvdCcgKyBjbGFzc05hbWU7CgogICAgICAvLyByZWNhbGN1bGF0ZSBzaXplCiAgICAgIHRoaXMucHJvcHMuZG90LmhlaWdodCA9IGRvbS5kb3Qub2Zmc2V0SGVpZ2h0OwogICAgICB0aGlzLnByb3BzLmRvdC53aWR0aCA9IGRvbS5kb3Qub2Zmc2V0V2lkdGg7CiAgICAgIHRoaXMucHJvcHMubGluZS53aWR0aCA9IGRvbS5saW5lLm9mZnNldFdpZHRoOwogICAgICB0aGlzLndpZHRoID0gZG9tLmJveC5vZmZzZXRXaWR0aDsKICAgICAgdGhpcy5oZWlnaHQgPSBkb20uYm94Lm9mZnNldEhlaWdodDsKCiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgIH0KCiAgICB0aGlzLl9yZXBhaW50RGVsZXRlQnV0dG9uKGRvbS5ib3gpOwogIH07CgogIC8qKgogICAqIFNob3cgdGhlIGl0ZW0gaW4gdGhlIERPTSAod2hlbiBub3QgYWxyZWFkeSBkaXNwbGF5ZWQpLiBUaGUgaXRlbXMgRE9NIHdpbGwKICAgKiBiZSBjcmVhdGVkIHdoZW4gbmVlZGVkLgogICAqLwogIEJveEl0ZW0ucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuZGlzcGxheWVkKSB7CiAgICAgIHRoaXMucmVkcmF3KCk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogSGlkZSB0aGUgaXRlbSBmcm9tIHRoZSBET00gKHdoZW4gdmlzaWJsZSkKICAgKi8KICBCb3hJdGVtLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuZGlzcGxheWVkKSB7CiAgICAgIHZhciBkb20gPSB0aGlzLmRvbTsKCiAgICAgIGlmIChkb20uYm94LnBhcmVudE5vZGUpIGRvbS5ib3gucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20uYm94KTsKICAgICAgaWYgKGRvbS5saW5lLnBhcmVudE5vZGUpIGRvbS5saW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZG9tLmxpbmUpOwogICAgICBpZiAoZG9tLmRvdC5wYXJlbnROb2RlKSBkb20uZG90LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZG9tLmRvdCk7CgogICAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlOwogICAgfQogIH07CgogIC8qKgogICAqIFJlcG9zaXRpb24gdGhlIGl0ZW0gaG9yaXpvbnRhbGx5CiAgICogQE92ZXJyaWRlCiAgICovCiAgQm94SXRlbS5wcm90b3R5cGUucmVwb3NpdGlvblggPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3RhcnQgPSB0aGlzLmNvbnZlcnNpb24udG9TY3JlZW4odGhpcy5kYXRhLnN0YXJ0KTsKICAgIHZhciBhbGlnbiA9IHRoaXMub3B0aW9ucy5hbGlnbjsKICAgIHZhciBsZWZ0OwoKICAgIC8vIGNhbGN1bGF0ZSBsZWZ0IHBvc2l0aW9uIG9mIHRoZSBib3gKICAgIGlmIChhbGlnbiA9PSAncmlnaHQnKSB7CiAgICAgIHRoaXMubGVmdCA9IHN0YXJ0IC0gdGhpcy53aWR0aDsKICAgIH0gZWxzZSBpZiAoYWxpZ24gPT0gJ2xlZnQnKSB7CiAgICAgIHRoaXMubGVmdCA9IHN0YXJ0OwogICAgfSBlbHNlIHsKICAgICAgLy8gZGVmYXVsdCBvciAnY2VudGVyJwogICAgICB0aGlzLmxlZnQgPSBzdGFydCAtIHRoaXMud2lkdGggLyAyOwogICAgfQoKICAgIC8vIHJlcG9zaXRpb24gYm94CiAgICB0aGlzLmRvbS5ib3guc3R5bGUubGVmdCA9IHRoaXMubGVmdCArICdweCc7CgogICAgLy8gcmVwb3NpdGlvbiBsaW5lCiAgICB0aGlzLmRvbS5saW5lLnN0eWxlLmxlZnQgPSBzdGFydCAtIHRoaXMucHJvcHMubGluZS53aWR0aCAvIDIgKyAncHgnOwoKICAgIC8vIHJlcG9zaXRpb24gZG90CiAgICB0aGlzLmRvbS5kb3Quc3R5bGUubGVmdCA9IHN0YXJ0IC0gdGhpcy5wcm9wcy5kb3Qud2lkdGggLyAyICsgJ3B4JzsKICB9OwoKICAvKioKICAgKiBSZXBvc2l0aW9uIHRoZSBpdGVtIHZlcnRpY2FsbHkKICAgKiBAT3ZlcnJpZGUKICAgKi8KICBCb3hJdGVtLnByb3RvdHlwZS5yZXBvc2l0aW9uWSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBvcmllbnRhdGlvbiA9IHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtOwogICAgdmFyIGJveCA9IHRoaXMuZG9tLmJveDsKICAgIHZhciBsaW5lID0gdGhpcy5kb20ubGluZTsKICAgIHZhciBkb3QgPSB0aGlzLmRvbS5kb3Q7CgogICAgaWYgKG9yaWVudGF0aW9uID09ICd0b3AnKSB7CiAgICAgIGJveC5zdHlsZS50b3AgPSAodGhpcy50b3AgfHwgMCkgKyAncHgnOwoKICAgICAgbGluZS5zdHlsZS50b3AgPSAnMCc7CiAgICAgIGxpbmUuc3R5bGUuaGVpZ2h0ID0gdGhpcy5wYXJlbnQudG9wICsgdGhpcy50b3AgKyAxICsgJ3B4JzsKICAgICAgbGluZS5zdHlsZS5ib3R0b20gPSAnJzsKICAgIH0gZWxzZSB7CiAgICAgIC8vIG9yaWVudGF0aW9uICdib3R0b20nCiAgICAgIHZhciBpdGVtU2V0SGVpZ2h0ID0gdGhpcy5wYXJlbnQuaXRlbVNldC5wcm9wcy5oZWlnaHQ7IC8vIFRPRE86IHRoaXMgaXMgbmFzdHkKICAgICAgdmFyIGxpbmVIZWlnaHQgPSBpdGVtU2V0SGVpZ2h0IC0gdGhpcy5wYXJlbnQudG9wIC0gdGhpcy5wYXJlbnQuaGVpZ2h0ICsgdGhpcy50b3A7CgogICAgICBib3guc3R5bGUudG9wID0gKHRoaXMucGFyZW50LmhlaWdodCAtIHRoaXMudG9wIC0gdGhpcy5oZWlnaHQgfHwgMCkgKyAncHgnOwogICAgICBsaW5lLnN0eWxlLnRvcCA9IGl0ZW1TZXRIZWlnaHQgLSBsaW5lSGVpZ2h0ICsgJ3B4JzsKICAgICAgbGluZS5zdHlsZS5ib3R0b20gPSAnMCc7CiAgICB9CgogICAgZG90LnN0eWxlLnRvcCA9IC10aGlzLnByb3BzLmRvdC5oZWlnaHQgLyAyICsgJ3B4JzsKICB9OwoKICAvKioKICAgKiBSZXR1cm4gdGhlIHdpZHRoIG9mIHRoZSBpdGVtIGxlZnQgZnJvbSBpdHMgc3RhcnQgZGF0ZQogICAqIEByZXR1cm4ge251bWJlcn0KICAgKi8KICBCb3hJdGVtLnByb3RvdHlwZS5nZXRXaWR0aExlZnQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy53aWR0aCAvIDI7CiAgfTsKCiAgLyoqCiAgICogUmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgaXRlbSByaWdodCBmcm9tIGl0cyBzdGFydCBkYXRlCiAgICogQHJldHVybiB7bnVtYmVyfQogICAqLwogIEJveEl0ZW0ucHJvdG90eXBlLmdldFdpZHRoUmlnaHQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy53aWR0aCAvIDI7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBCb3hJdGVtOwoKLyoqKi8gfSwKLyogMzkgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIEl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTsKCiAgLyoqCiAgICogQGNvbnN0cnVjdG9yIFBvaW50SXRlbQogICAqIEBleHRlbmRzIEl0ZW0KICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAgICAgICAgICAgICBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJzIHN0YXJ0CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCwgY2xhc3NOYW1lLgogICAqIEBwYXJhbSB7e3RvU2NyZWVuOiBmdW5jdGlvbiwgdG9UaW1lOiBmdW5jdGlvbn19IGNvbnZlcnNpb24KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJzaW9uIGZ1bmN0aW9ucyBmcm9tIHRpbWUgdG8gc2NyZWVuIGFuZCB2aWNlIHZlcnNhCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgQ29uZmlndXJhdGlvbiBvcHRpb25zCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZGVzY3JpYmUgYXZhaWxhYmxlIG9wdGlvbnMKICAgKi8KICBmdW5jdGlvbiBQb2ludEl0ZW0oZGF0YSwgY29udmVyc2lvbiwgb3B0aW9ucykgewogICAgdGhpcy5wcm9wcyA9IHsKICAgICAgZG90OiB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMAogICAgICB9LAogICAgICBjb250ZW50OiB7CiAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgIG1hcmdpbkxlZnQ6IDAKICAgICAgfQogICAgfTsKCiAgICAvLyB2YWxpZGF0ZSBkYXRhCiAgICBpZiAoZGF0YSkgewogICAgICBpZiAoZGF0YS5zdGFydCA9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5ICJzdGFydCIgbWlzc2luZyBpbiBpdGVtICcgKyBkYXRhKTsKICAgICAgfQogICAgfQoKICAgIEl0ZW0uY2FsbCh0aGlzLCBkYXRhLCBjb252ZXJzaW9uLCBvcHRpb25zKTsKICB9CgogIFBvaW50SXRlbS5wcm90b3R5cGUgPSBuZXcgSXRlbShudWxsLCBudWxsLCBudWxsKTsKCiAgLyoqCiAgICogQ2hlY2sgd2hldGhlciB0aGlzIGl0ZW0gaXMgdmlzaWJsZSBpbnNpZGUgZ2l2ZW4gcmFuZ2UKICAgKiBAcmV0dXJucyB7e3N0YXJ0OiBOdW1iZXIsIGVuZDogTnVtYmVyfX0gcmFuZ2Ugd2l0aCBhIHRpbWVzdGFtcCBmb3Igc3RhcnQgYW5kIGVuZAogICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZpc2libGUKICAgKi8KICBQb2ludEl0ZW0ucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgLy8gZGV0ZXJtaW5lIHZpc2liaWxpdHkKICAgIC8vIFRPRE86IGFjY291bnQgZm9yIHRoZSByZWFsIHdpZHRoIG9mIHRoZSBpdGVtLiBSaWdodCBub3cgd2UganVzdCBhZGQgMS80IHRvIHRoZSB3aW5kb3cKICAgIHZhciBpbnRlcnZhbCA9IChyYW5nZS5lbmQgLSByYW5nZS5zdGFydCkgLyA0OwogICAgcmV0dXJuIHRoaXMuZGF0YS5zdGFydCA+IHJhbmdlLnN0YXJ0IC0gaW50ZXJ2YWwgJiYgdGhpcy5kYXRhLnN0YXJ0IDwgcmFuZ2UuZW5kICsgaW50ZXJ2YWw7CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgaXRlbQogICAqLwogIFBvaW50SXRlbS5wcm90b3R5cGUucmVkcmF3ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGRvbSA9IHRoaXMuZG9tOwogICAgaWYgKCFkb20pIHsKICAgICAgLy8gY3JlYXRlIERPTQogICAgICB0aGlzLmRvbSA9IHt9OwogICAgICBkb20gPSB0aGlzLmRvbTsKCiAgICAgIC8vIGJhY2tncm91bmQgYm94CiAgICAgIGRvbS5wb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAvLyBjbGFzc05hbWUgaXMgdXBkYXRlZCBpbiByZWRyYXcoKQoKICAgICAgLy8gY29udGVudHMgYm94LCByaWdodCBmcm9tIHRoZSBkb3QKICAgICAgZG9tLmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZG9tLmNvbnRlbnQuY2xhc3NOYW1lID0gJ3Zpcy1pdGVtLWNvbnRlbnQnOwogICAgICBkb20ucG9pbnQuYXBwZW5kQ2hpbGQoZG9tLmNvbnRlbnQpOwoKICAgICAgLy8gZG90IGF0IHN0YXJ0CiAgICAgIGRvbS5kb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZG9tLnBvaW50LmFwcGVuZENoaWxkKGRvbS5kb3QpOwoKICAgICAgLy8gYXR0YWNoIHRoaXMgaXRlbSBhcyBhdHRyaWJ1dGUKICAgICAgZG9tLnBvaW50Wyd0aW1lbGluZS1pdGVtJ10gPSB0aGlzOwoKICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgICB9CgogICAgLy8gYXBwZW5kIERPTSB0byBwYXJlbnQgRE9NCiAgICBpZiAoIXRoaXMucGFyZW50KSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZHJhdyBpdGVtOiBubyBwYXJlbnQgYXR0YWNoZWQnKTsKICAgIH0KICAgIGlmICghZG9tLnBvaW50LnBhcmVudE5vZGUpIHsKICAgICAgdmFyIGZvcmVncm91bmQgPSB0aGlzLnBhcmVudC5kb20uZm9yZWdyb3VuZDsKICAgICAgaWYgKCFmb3JlZ3JvdW5kKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVkcmF3IGl0ZW06IHBhcmVudCBoYXMgbm8gZm9yZWdyb3VuZCBjb250YWluZXIgZWxlbWVudCcpOwogICAgICB9CiAgICAgIGZvcmVncm91bmQuYXBwZW5kQ2hpbGQoZG9tLnBvaW50KTsKICAgIH0KICAgIHRoaXMuZGlzcGxheWVkID0gdHJ1ZTsKCiAgICAvLyBVcGRhdGUgRE9NIHdoZW4gaXRlbSBpcyBtYXJrZWQgZGlydHkuIEFuIGl0ZW0gaXMgbWFya2VkIGRpcnR5IHdoZW46CiAgICAvLyAtIHRoZSBpdGVtIGlzIG5vdCB5ZXQgcmVuZGVyZWQKICAgIC8vIC0gdGhlIGl0ZW0ncyBkYXRhIGlzIGNoYW5nZWQKICAgIC8vIC0gdGhlIGl0ZW0gaXMgc2VsZWN0ZWQvZGVzZWxlY3RlZAogICAgaWYgKHRoaXMuZGlydHkpIHsKICAgICAgdGhpcy5fdXBkYXRlQ29udGVudHModGhpcy5kb20uY29udGVudCk7CiAgICAgIHRoaXMuX3VwZGF0ZVRpdGxlKHRoaXMuZG9tLnBvaW50KTsKICAgICAgdGhpcy5fdXBkYXRlRGF0YUF0dHJpYnV0ZXModGhpcy5kb20ucG9pbnQpOwogICAgICB0aGlzLl91cGRhdGVTdHlsZSh0aGlzLmRvbS5wb2ludCk7CgogICAgICB2YXIgZWRpdGFibGUgPSAodGhpcy5vcHRpb25zLmVkaXRhYmxlLnVwZGF0ZVRpbWUgfHwgdGhpcy5vcHRpb25zLmVkaXRhYmxlLnVwZGF0ZUdyb3VwIHx8IHRoaXMuZWRpdGFibGUgPT09IHRydWUpICYmIHRoaXMuZWRpdGFibGUgIT09IGZhbHNlOwoKICAgICAgLy8gdXBkYXRlIGNsYXNzCiAgICAgIHZhciBjbGFzc05hbWUgPSAodGhpcy5kYXRhLmNsYXNzTmFtZSA/ICcgJyArIHRoaXMuZGF0YS5jbGFzc05hbWUgOiAnJykgKyAodGhpcy5zZWxlY3RlZCA/ICcgdmlzLXNlbGVjdGVkJyA6ICcnKSArIChlZGl0YWJsZSA/ICcgdmlzLWVkaXRhYmxlJyA6ICcgdmlzLXJlYWRvbmx5Jyk7CiAgICAgIGRvbS5wb2ludC5jbGFzc05hbWUgPSAndmlzLWl0ZW0gdmlzLXBvaW50JyArIGNsYXNzTmFtZTsKICAgICAgZG9tLmRvdC5jbGFzc05hbWUgPSAndmlzLWl0ZW0gdmlzLWRvdCcgKyBjbGFzc05hbWU7CgogICAgICAvLyByZWNhbGN1bGF0ZSBzaXplIG9mIGRvdCBhbmQgY29udGVudHMKICAgICAgdGhpcy5wcm9wcy5kb3Qud2lkdGggPSBkb20uZG90Lm9mZnNldFdpZHRoOwogICAgICB0aGlzLnByb3BzLmRvdC5oZWlnaHQgPSBkb20uZG90Lm9mZnNldEhlaWdodDsKICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmhlaWdodCA9IGRvbS5jb250ZW50Lm9mZnNldEhlaWdodDsKCiAgICAgIC8vIHJlc2l6ZSBjb250ZW50cwogICAgICBkb20uY29udGVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gMiAqIHRoaXMucHJvcHMuZG90LndpZHRoICsgJ3B4JzsKICAgICAgLy9kb20uY29udGVudC5zdHlsZS5tYXJnaW5SaWdodCA9IC4uLiArICdweCc7IC8vIFRPRE86IG1hcmdpbiByaWdodAoKICAgICAgZG9tLmRvdC5zdHlsZS50b3AgPSAodGhpcy5oZWlnaHQgLSB0aGlzLnByb3BzLmRvdC5oZWlnaHQpIC8gMiArICdweCc7CiAgICAgIGRvbS5kb3Quc3R5bGUubGVmdCA9IHRoaXMucHJvcHMuZG90LndpZHRoIC8gMiArICdweCc7CgogICAgICAvLyByZWNhbGN1bGF0ZSBzaXplCiAgICAgIHRoaXMud2lkdGggPSBkb20ucG9pbnQub2Zmc2V0V2lkdGg7CiAgICAgIHRoaXMuaGVpZ2h0ID0gZG9tLnBvaW50Lm9mZnNldEhlaWdodDsKCiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgIH0KCiAgICB0aGlzLl9yZXBhaW50RGVsZXRlQnV0dG9uKGRvbS5wb2ludCk7CiAgfTsKCiAgLyoqCiAgICogU2hvdyB0aGUgaXRlbSBpbiB0aGUgRE9NICh3aGVuIG5vdCBhbHJlYWR5IHZpc2libGUpLiBUaGUgaXRlbXMgRE9NIHdpbGwKICAgKiBiZSBjcmVhdGVkIHdoZW4gbmVlZGVkLgogICAqLwogIFBvaW50SXRlbS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5kaXNwbGF5ZWQpIHsKICAgICAgdGhpcy5yZWRyYXcoKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBIaWRlIHRoZSBpdGVtIGZyb20gdGhlIERPTSAod2hlbiB2aXNpYmxlKQogICAqLwogIFBvaW50SXRlbS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmRpc3BsYXllZCkgewogICAgICBpZiAodGhpcy5kb20ucG9pbnQucGFyZW50Tm9kZSkgewogICAgICAgIHRoaXMuZG9tLnBvaW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20ucG9pbnQpOwogICAgICB9CgogICAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlOwogICAgfQogIH07CgogIC8qKgogICAqIFJlcG9zaXRpb24gdGhlIGl0ZW0gaG9yaXpvbnRhbGx5CiAgICogQE92ZXJyaWRlCiAgICovCiAgUG9pbnRJdGVtLnByb3RvdHlwZS5yZXBvc2l0aW9uWCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzdGFydCA9IHRoaXMuY29udmVyc2lvbi50b1NjcmVlbih0aGlzLmRhdGEuc3RhcnQpOwoKICAgIHRoaXMubGVmdCA9IHN0YXJ0IC0gdGhpcy5wcm9wcy5kb3Qud2lkdGg7CgogICAgLy8gcmVwb3NpdGlvbiBwb2ludAogICAgdGhpcy5kb20ucG9pbnQuc3R5bGUubGVmdCA9IHRoaXMubGVmdCArICdweCc7CiAgfTsKCiAgLyoqCiAgICogUmVwb3NpdGlvbiB0aGUgaXRlbSB2ZXJ0aWNhbGx5CiAgICogQE92ZXJyaWRlCiAgICovCiAgUG9pbnRJdGVtLnByb3RvdHlwZS5yZXBvc2l0aW9uWSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBvcmllbnRhdGlvbiA9IHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtOwogICAgdmFyIHBvaW50ID0gdGhpcy5kb20ucG9pbnQ7CgogICAgaWYgKG9yaWVudGF0aW9uID09ICd0b3AnKSB7CiAgICAgIHBvaW50LnN0eWxlLnRvcCA9IHRoaXMudG9wICsgJ3B4JzsKICAgIH0gZWxzZSB7CiAgICAgIHBvaW50LnN0eWxlLnRvcCA9IHRoaXMucGFyZW50LmhlaWdodCAtIHRoaXMudG9wIC0gdGhpcy5oZWlnaHQgKyAncHgnOwogICAgfQogIH07CgogIC8qKgogICAqIFJldHVybiB0aGUgd2lkdGggb2YgdGhlIGl0ZW0gbGVmdCBmcm9tIGl0cyBzdGFydCBkYXRlCiAgICogQHJldHVybiB7bnVtYmVyfQogICAqLwogIFBvaW50SXRlbS5wcm90b3R5cGUuZ2V0V2lkdGhMZWZ0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMucHJvcHMuZG90LndpZHRoOwogIH07CgogIC8qKgogICAqIFJldHVybiB0aGUgd2lkdGggb2YgdGhlIGl0ZW0gcmlnaHQgZnJvbSAgaXRzIHN0YXJ0IGRhdGUKICAgKiBAcmV0dXJuIHtudW1iZXJ9CiAgICovCiAgUG9pbnRJdGVtLnByb3RvdHlwZS5nZXRXaWR0aFJpZ2h0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMud2lkdGggLSB0aGlzLnByb3BzLmRvdC53aWR0aDsKICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IFBvaW50SXRlbTsKCi8qKiovIH0sCi8qIDQwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBIYW1tZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTsKICB2YXIgSXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpOwogIHZhciBCYWNrZ3JvdW5kR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTsKICB2YXIgUmFuZ2VJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7CgogIC8qKgogICAqIEBjb25zdHJ1Y3RvciBCYWNrZ3JvdW5kSXRlbQogICAqIEBleHRlbmRzIEl0ZW0KICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAgICAgICAgICAgICBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJzIHN0YXJ0LCBlbmQKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LCBjbGFzc05hbWUuCiAgICogQHBhcmFtIHt7dG9TY3JlZW46IGZ1bmN0aW9uLCB0b1RpbWU6IGZ1bmN0aW9ufX0gY29udmVyc2lvbgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnZlcnNpb24gZnVuY3Rpb25zIGZyb20gdGltZSB0byBzY3JlZW4gYW5kIHZpY2UgdmVyc2EKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBDb25maWd1cmF0aW9uIG9wdGlvbnMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBkZXNjcmliZSBvcHRpb25zCiAgICovCiAgLy8gVE9ETzogaW1wbGVtZW50IHN1cHBvcnQgZm9yIHRoZSBCYWNrZ3JvdW5kSXRlbSBqdXN0IGhhdmluZyBhIHN0YXJ0LCB0aGVuIGJlaW5nIGRpc3BsYXllZCBhcyBhIHNvcnQgb2YgYW4gYW5ub3RhdGlvbgogIGZ1bmN0aW9uIEJhY2tncm91bmRJdGVtKGRhdGEsIGNvbnZlcnNpb24sIG9wdGlvbnMpIHsKICAgIHRoaXMucHJvcHMgPSB7CiAgICAgIGNvbnRlbnQ6IHsKICAgICAgICB3aWR0aDogMAogICAgICB9CiAgICB9OwogICAgdGhpcy5vdmVyZmxvdyA9IGZhbHNlOyAvLyBpZiBjb250ZW50cyBjYW4gb3ZlcmZsb3cgKGNzcyBzdHlsaW5nKSwgdGhpcyBmbGFnIGlzIHNldCB0byB0cnVlCgogICAgLy8gdmFsaWRhdGUgZGF0YQogICAgaWYgKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuc3RhcnQgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSAic3RhcnQiIG1pc3NpbmcgaW4gaXRlbSAnICsgZGF0YS5pZCk7CiAgICAgIH0KICAgICAgaWYgKGRhdGEuZW5kID09IHVuZGVmaW5lZCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvcGVydHkgImVuZCIgbWlzc2luZyBpbiBpdGVtICcgKyBkYXRhLmlkKTsKICAgICAgfQogICAgfQoKICAgIEl0ZW0uY2FsbCh0aGlzLCBkYXRhLCBjb252ZXJzaW9uLCBvcHRpb25zKTsKICB9CgogIEJhY2tncm91bmRJdGVtLnByb3RvdHlwZSA9IG5ldyBJdGVtKG51bGwsIG51bGwsIG51bGwpOwoKICBCYWNrZ3JvdW5kSXRlbS5wcm90b3R5cGUuYmFzZUNsYXNzTmFtZSA9ICd2aXMtaXRlbSB2aXMtYmFja2dyb3VuZCc7CiAgQmFja2dyb3VuZEl0ZW0ucHJvdG90eXBlLnN0YWNrID0gZmFsc2U7CgogIC8qKgogICAqIENoZWNrIHdoZXRoZXIgdGhpcyBpdGVtIGlzIHZpc2libGUgaW5zaWRlIGdpdmVuIHJhbmdlCiAgICogQHJldHVybnMge3tzdGFydDogTnVtYmVyLCBlbmQ6IE51bWJlcn19IHJhbmdlIHdpdGggYSB0aW1lc3RhbXAgZm9yIHN0YXJ0IGFuZCBlbmQKICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2aXNpYmxlCiAgICovCiAgQmFja2dyb3VuZEl0ZW0ucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgLy8gZGV0ZXJtaW5lIHZpc2liaWxpdHkKICAgIHJldHVybiB0aGlzLmRhdGEuc3RhcnQgPCByYW5nZS5lbmQgJiYgdGhpcy5kYXRhLmVuZCA+IHJhbmdlLnN0YXJ0OwogIH07CgogIC8qKgogICAqIFJlcGFpbnQgdGhlIGl0ZW0KICAgKi8KICBCYWNrZ3JvdW5kSXRlbS5wcm90b3R5cGUucmVkcmF3ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGRvbSA9IHRoaXMuZG9tOwogICAgaWYgKCFkb20pIHsKICAgICAgLy8gY3JlYXRlIERPTQogICAgICB0aGlzLmRvbSA9IHt9OwogICAgICBkb20gPSB0aGlzLmRvbTsKCiAgICAgIC8vIGJhY2tncm91bmQgYm94CiAgICAgIGRvbS5ib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgLy8gY2xhc3NOYW1lIGlzIHVwZGF0ZWQgaW4gcmVkcmF3KCkKCiAgICAgIC8vIGZyYW1lIGJveCAodG8gcHJldmVudCB0aGUgaXRlbSBjb250ZW50cyBmcm9tIG92ZXJmbG93aW5nCiAgICAgIGRvbS5mcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBkb20uZnJhbWUuY2xhc3NOYW1lID0gJ3Zpcy1pdGVtLW92ZXJmbG93JzsKICAgICAgZG9tLmJveC5hcHBlbmRDaGlsZChkb20uZnJhbWUpOwoKICAgICAgLy8gY29udGVudHMgYm94CiAgICAgIGRvbS5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGRvbS5jb250ZW50LmNsYXNzTmFtZSA9ICd2aXMtaXRlbS1jb250ZW50JzsKICAgICAgZG9tLmZyYW1lLmFwcGVuZENoaWxkKGRvbS5jb250ZW50KTsKCiAgICAgIC8vIE5vdGU6IHdlIGRvIE5PVCBhdHRhY2ggdGhpcyBpdGVtIGFzIGF0dHJpYnV0ZSB0byB0aGUgRE9NLAogICAgICAvLyAgICAgICBzdWNoIHRoYXQgYmFja2dyb3VuZCBpdGVtcyBjYW5ub3QgYmUgc2VsZWN0ZWQKICAgICAgLy9kb20uYm94Wyd0aW1lbGluZS1pdGVtJ10gPSB0aGlzOwoKICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgICB9CgogICAgLy8gYXBwZW5kIERPTSB0byBwYXJlbnQgRE9NCiAgICBpZiAoIXRoaXMucGFyZW50KSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZHJhdyBpdGVtOiBubyBwYXJlbnQgYXR0YWNoZWQnKTsKICAgIH0KICAgIGlmICghZG9tLmJveC5wYXJlbnROb2RlKSB7CiAgICAgIHZhciBiYWNrZ3JvdW5kID0gdGhpcy5wYXJlbnQuZG9tLmJhY2tncm91bmQ7CiAgICAgIGlmICghYmFja2dyb3VuZCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZHJhdyBpdGVtOiBwYXJlbnQgaGFzIG5vIGJhY2tncm91bmQgY29udGFpbmVyIGVsZW1lbnQnKTsKICAgICAgfQogICAgICBiYWNrZ3JvdW5kLmFwcGVuZENoaWxkKGRvbS5ib3gpOwogICAgfQogICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlOwoKICAgIC8vIFVwZGF0ZSBET00gd2hlbiBpdGVtIGlzIG1hcmtlZCBkaXJ0eS4gQW4gaXRlbSBpcyBtYXJrZWQgZGlydHkgd2hlbjoKICAgIC8vIC0gdGhlIGl0ZW0gaXMgbm90IHlldCByZW5kZXJlZAogICAgLy8gLSB0aGUgaXRlbSdzIGRhdGEgaXMgY2hhbmdlZAogICAgLy8gLSB0aGUgaXRlbSBpcyBzZWxlY3RlZC9kZXNlbGVjdGVkCiAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICB0aGlzLl91cGRhdGVDb250ZW50cyh0aGlzLmRvbS5jb250ZW50KTsKICAgICAgdGhpcy5fdXBkYXRlVGl0bGUodGhpcy5kb20uY29udGVudCk7CiAgICAgIHRoaXMuX3VwZGF0ZURhdGFBdHRyaWJ1dGVzKHRoaXMuZG9tLmNvbnRlbnQpOwogICAgICB0aGlzLl91cGRhdGVTdHlsZSh0aGlzLmRvbS5ib3gpOwoKICAgICAgLy8gdXBkYXRlIGNsYXNzCiAgICAgIHZhciBjbGFzc05hbWUgPSAodGhpcy5kYXRhLmNsYXNzTmFtZSA/ICcgJyArIHRoaXMuZGF0YS5jbGFzc05hbWUgOiAnJykgKyAodGhpcy5zZWxlY3RlZCA/ICcgdmlzLXNlbGVjdGVkJyA6ICcnKTsKICAgICAgZG9tLmJveC5jbGFzc05hbWUgPSB0aGlzLmJhc2VDbGFzc05hbWUgKyBjbGFzc05hbWU7CgogICAgICAvLyBkZXRlcm1pbmUgZnJvbSBjc3Mgd2hldGhlciB0aGlzIGJveCBoYXMgb3ZlcmZsb3cKICAgICAgdGhpcy5vdmVyZmxvdyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvbS5jb250ZW50KS5vdmVyZmxvdyAhPT0gJ2hpZGRlbic7CgogICAgICAvLyByZWNhbGN1bGF0ZSBzaXplCiAgICAgIHRoaXMucHJvcHMuY29udGVudC53aWR0aCA9IHRoaXMuZG9tLmNvbnRlbnQub2Zmc2V0V2lkdGg7CiAgICAgIHRoaXMuaGVpZ2h0ID0gMDsgLy8gc2V0IGhlaWdodCB6ZXJvLCBzbyB0aGlzIGl0ZW0gd2lsbCBiZSBpZ25vcmVkIHdoZW4gc3RhY2tpbmcgaXRlbXMKCiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBTaG93IHRoZSBpdGVtIGluIHRoZSBET00gKHdoZW4gbm90IGFscmVhZHkgdmlzaWJsZSkuIFRoZSBpdGVtcyBET00gd2lsbAogICAqIGJlIGNyZWF0ZWQgd2hlbiBuZWVkZWQuCiAgICovCiAgQmFja2dyb3VuZEl0ZW0ucHJvdG90eXBlLnNob3cgPSBSYW5nZUl0ZW0ucHJvdG90eXBlLnNob3c7CgogIC8qKgogICAqIEhpZGUgdGhlIGl0ZW0gZnJvbSB0aGUgRE9NICh3aGVuIHZpc2libGUpCiAgICogQHJldHVybiB7Qm9vbGVhbn0gY2hhbmdlZAogICAqLwogIEJhY2tncm91bmRJdGVtLnByb3RvdHlwZS5oaWRlID0gUmFuZ2VJdGVtLnByb3RvdHlwZS5oaWRlOwoKICAvKioKICAgKiBSZXBvc2l0aW9uIHRoZSBpdGVtIGhvcml6b250YWxseQogICAqIEBPdmVycmlkZQogICAqLwogIEJhY2tncm91bmRJdGVtLnByb3RvdHlwZS5yZXBvc2l0aW9uWCA9IFJhbmdlSXRlbS5wcm90b3R5cGUucmVwb3NpdGlvblg7CgogIC8qKgogICAqIFJlcG9zaXRpb24gdGhlIGl0ZW0gdmVydGljYWxseQogICAqIEBPdmVycmlkZQogICAqLwogIEJhY2tncm91bmRJdGVtLnByb3RvdHlwZS5yZXBvc2l0aW9uWSA9IGZ1bmN0aW9uIChtYXJnaW4pIHsKICAgIHZhciBvblRvcCA9IHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtID09PSAndG9wJzsKICAgIHRoaXMuZG9tLmNvbnRlbnQuc3R5bGUudG9wID0gb25Ub3AgPyAnJyA6ICcwJzsKICAgIHRoaXMuZG9tLmNvbnRlbnQuc3R5bGUuYm90dG9tID0gb25Ub3AgPyAnMCcgOiAnJzsKICAgIHZhciBoZWlnaHQ7CgogICAgLy8gc3BlY2lhbCBwb3NpdGlvbmluZyBmb3Igc3ViZ3JvdXBzCiAgICBpZiAodGhpcy5kYXRhLnN1Ymdyb3VwICE9PSB1bmRlZmluZWQpIHsKICAgICAgLy8gVE9ETzogaW5zdGVhZCBvZiBjYWxjdWxhdGluZyB0aGUgdG9wIHBvc2l0aW9uIG9mIHRoZSBzdWJncm91cHMgaGVyZSBmb3IgZXZlcnkgQmFja2dyb3VuZEl0ZW0sIGNhbGN1bGF0ZSB0aGUgdG9wIG9mIHRoZSBzdWJncm91cCBvbmNlIGluIEl0ZW1zZXQKCiAgICAgIHZhciBpdGVtU3ViZ3JvdXAgPSB0aGlzLmRhdGEuc3ViZ3JvdXA7CiAgICAgIHZhciBzdWJncm91cHMgPSB0aGlzLnBhcmVudC5zdWJncm91cHM7CiAgICAgIHZhciBzdWJncm91cEluZGV4ID0gc3ViZ3JvdXBzW2l0ZW1TdWJncm91cF0uaW5kZXg7CiAgICAgIC8vIGlmIHRoZSBvcmllbnRhdGlvbiBpcyB0b3AsIHdlIG5lZWQgdG8gdGFrZSB0aGUgZGlmZmVyZW5jZSBpbiBoZWlnaHQgaW50byBhY2NvdW50LgogICAgICBpZiAob25Ub3AgPT0gdHJ1ZSkgewogICAgICAgIC8vIHRoZSBmaXJzdCBzdWJncm91cCB3aWxsIGhhdmUgdG8gYWNjb3VudCBmb3IgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHRvcCB0byB0aGUgZmlyc3QgaXRlbS4KICAgICAgICBoZWlnaHQgPSB0aGlzLnBhcmVudC5zdWJncm91cHNbaXRlbVN1Ymdyb3VwXS5oZWlnaHQgKyBtYXJnaW4uaXRlbS52ZXJ0aWNhbDsKICAgICAgICBoZWlnaHQgKz0gc3ViZ3JvdXBJbmRleCA9PSAwID8gbWFyZ2luLmF4aXMgLSAwLjUgKiBtYXJnaW4uaXRlbS52ZXJ0aWNhbCA6IDA7CiAgICAgICAgdmFyIG5ld1RvcCA9IHRoaXMucGFyZW50LnRvcDsKICAgICAgICBmb3IgKHZhciBzdWJncm91cCBpbiBzdWJncm91cHMpIHsKICAgICAgICAgIGlmIChzdWJncm91cHMuaGFzT3duUHJvcGVydHkoc3ViZ3JvdXApKSB7CiAgICAgICAgICAgIGlmIChzdWJncm91cHNbc3ViZ3JvdXBdLnZpc2libGUgPT0gdHJ1ZSAmJiBzdWJncm91cHNbc3ViZ3JvdXBdLmluZGV4IDwgc3ViZ3JvdXBJbmRleCkgewogICAgICAgICAgICAgIG5ld1RvcCArPSBzdWJncm91cHNbc3ViZ3JvdXBdLmhlaWdodCArIG1hcmdpbi5pdGVtLnZlcnRpY2FsOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyB0aGUgb3RoZXJzIHdpbGwgaGF2ZSB0byBiZSBvZmZzZXQgZG93bndhcmRzIHdpdGggdGhpcyBzYW1lIGRpc3RhbmNlLgogICAgICAgIG5ld1RvcCArPSBzdWJncm91cEluZGV4ICE9IDAgPyBtYXJnaW4uYXhpcyAtIDAuNSAqIG1hcmdpbi5pdGVtLnZlcnRpY2FsIDogMDsKICAgICAgICB0aGlzLmRvbS5ib3guc3R5bGUudG9wID0gbmV3VG9wICsgJ3B4JzsKICAgICAgICB0aGlzLmRvbS5ib3guc3R5bGUuYm90dG9tID0gJyc7CiAgICAgIH0KICAgICAgLy8gYW5kIHdoZW4gdGhlIG9yaWVudGF0aW9uIGlzIGJvdHRvbToKICAgICAgZWxzZSB7CiAgICAgICAgdmFyIG5ld1RvcCA9IHRoaXMucGFyZW50LnRvcDsKICAgICAgICB2YXIgdG90YWxIZWlnaHQgPSAwOwogICAgICAgIGZvciAodmFyIHN1Ymdyb3VwIGluIHN1Ymdyb3VwcykgewogICAgICAgICAgaWYgKHN1Ymdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShzdWJncm91cCkpIHsKICAgICAgICAgICAgaWYgKHN1Ymdyb3Vwc1tzdWJncm91cF0udmlzaWJsZSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgdmFyIG5ld0hlaWdodCA9IHN1Ymdyb3Vwc1tzdWJncm91cF0uaGVpZ2h0ICsgbWFyZ2luLml0ZW0udmVydGljYWw7CiAgICAgICAgICAgICAgdG90YWxIZWlnaHQgKz0gbmV3SGVpZ2h0OwogICAgICAgICAgICAgIGlmIChzdWJncm91cHNbc3ViZ3JvdXBdLmluZGV4ID4gc3ViZ3JvdXBJbmRleCkgewogICAgICAgICAgICAgICAgbmV3VG9wICs9IG5ld0hlaWdodDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaGVpZ2h0ID0gdGhpcy5wYXJlbnQuc3ViZ3JvdXBzW2l0ZW1TdWJncm91cF0uaGVpZ2h0ICsgbWFyZ2luLml0ZW0udmVydGljYWw7CiAgICAgICAgdGhpcy5kb20uYm94LnN0eWxlLnRvcCA9IHRoaXMucGFyZW50LmhlaWdodCAtIHRvdGFsSGVpZ2h0ICsgbmV3VG9wICsgJ3B4JzsKICAgICAgICB0aGlzLmRvbS5ib3guc3R5bGUuYm90dG9tID0gJyc7CiAgICAgIH0KICAgIH0KICAgIC8vIGFuZCBpbiB0aGUgY2FzZSBvZiBubyBzdWJncm91cHM6CiAgICBlbHNlIHsKICAgICAgLy8gd2Ugd2FudCBiYWNrZ3JvdW5kcyB3aXRoIGdyb3VwcyB0byBvbmx5IHNob3cgaW4gZ3JvdXBzLgogICAgICBpZiAodGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBCYWNrZ3JvdW5kR3JvdXApIHsKICAgICAgICAvLyBpZiB0aGUgaXRlbSBpcyBub3QgaW4gYSBncm91cDoKICAgICAgICBoZWlnaHQgPSBNYXRoLm1heCh0aGlzLnBhcmVudC5oZWlnaHQsIHRoaXMucGFyZW50Lml0ZW1TZXQuYm9keS5kb21Qcm9wcy5jZW50ZXIuaGVpZ2h0LCB0aGlzLnBhcmVudC5pdGVtU2V0LmJvZHkuZG9tUHJvcHMuY2VudGVyQ29udGFpbmVyLmhlaWdodCk7CiAgICAgICAgdGhpcy5kb20uYm94LnN0eWxlLnRvcCA9IG9uVG9wID8gJzAnIDogJyc7CiAgICAgICAgdGhpcy5kb20uYm94LnN0eWxlLmJvdHRvbSA9IG9uVG9wID8gJycgOiAnMCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGVpZ2h0ID0gdGhpcy5wYXJlbnQuaGVpZ2h0OwogICAgICAgIC8vIHNhbWUgYWxpZ25tZW50IGZvciBpdGVtcyB3aGVuIG9yaWVudGF0aW9uIGlzIHRvcCBvciBib3R0b20KICAgICAgICB0aGlzLmRvbS5ib3guc3R5bGUudG9wID0gdGhpcy5wYXJlbnQudG9wICsgJ3B4JzsKICAgICAgICB0aGlzLmRvbS5ib3guc3R5bGUuYm90dG9tID0gJyc7CiAgICAgIH0KICAgIH0KICAgIHRoaXMuZG9tLmJveC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnOwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gQmFja2dyb3VuZEl0ZW07CgovKioqLyB9LAovKiA0MSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIENvbXBvbmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpOwogIHZhciBUaW1lU3RlcCA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpOwogIHZhciBEYXRlVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpOwogIHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOwoKICAvKioKICAgKiBBIGhvcml6b250YWwgdGltZSBheGlzCiAgICogQHBhcmFtIHt7ZG9tOiBPYmplY3QsIGRvbVByb3BzOiBPYmplY3QsIGVtaXR0ZXI6IEVtaXR0ZXIsIHJhbmdlOiBSYW5nZX19IGJvZHkKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBTZWUgVGltZUF4aXMuc2V0T3B0aW9ucyBmb3IgdGhlIGF2YWlsYWJsZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuCiAgICogQGNvbnN0cnVjdG9yIFRpbWVBeGlzCiAgICogQGV4dGVuZHMgQ29tcG9uZW50CiAgICovCiAgZnVuY3Rpb24gVGltZUF4aXMoYm9keSwgb3B0aW9ucykgewogICAgdGhpcy5kb20gPSB7CiAgICAgIGZvcmVncm91bmQ6IG51bGwsCiAgICAgIGxpbmVzOiBbXSwKICAgICAgbWFqb3JUZXh0czogW10sCiAgICAgIG1pbm9yVGV4dHM6IFtdLAogICAgICByZWR1bmRhbnQ6IHsKICAgICAgICBsaW5lczogW10sCiAgICAgICAgbWFqb3JUZXh0czogW10sCiAgICAgICAgbWlub3JUZXh0czogW10KICAgICAgfQogICAgfTsKICAgIHRoaXMucHJvcHMgPSB7CiAgICAgIHJhbmdlOiB7CiAgICAgICAgc3RhcnQ6IDAsCiAgICAgICAgZW5kOiAwLAogICAgICAgIG1pbmltdW1TdGVwOiAwCiAgICAgIH0sCiAgICAgIGxpbmVUb3A6IDAKICAgIH07CgogICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHsKICAgICAgb3JpZW50YXRpb246IHsKICAgICAgICBheGlzOiAnYm90dG9tJwogICAgICB9LCAvLyBheGlzIG9yaWVudGF0aW9uOiAndG9wJyBvciAnYm90dG9tJwogICAgICBzaG93TWlub3JMYWJlbHM6IHRydWUsCiAgICAgIHNob3dNYWpvckxhYmVsczogdHJ1ZSwKICAgICAgZm9ybWF0OiBUaW1lU3RlcC5GT1JNQVQsCiAgICAgIHRpbWVBeGlzOiBudWxsCiAgICB9OwogICAgdGhpcy5vcHRpb25zID0gdXRpbC5leHRlbmQoe30sIHRoaXMuZGVmYXVsdE9wdGlvbnMpOwoKICAgIHRoaXMuYm9keSA9IGJvZHk7CgogICAgLy8gY3JlYXRlIHRoZSBIVE1MIERPTQogICAgdGhpcy5fY3JlYXRlKCk7CgogICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwogIH0KCiAgVGltZUF4aXMucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpOwoKICAvKioKICAgKiBTZXQgb3B0aW9ucyBmb3IgdGhlIFRpbWVBeGlzLgogICAqIFBhcmFtZXRlcnMgd2lsbCBiZSBtZXJnZWQgaW4gY3VycmVudCBvcHRpb25zLgogICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zICBBdmFpbGFibGUgb3B0aW9uczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAge3N0cmluZ30gW29yaWVudGF0aW9uLmF4aXNdCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHtib29sZWFufSBbc2hvd01pbm9yTGFiZWxzXQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICB7Ym9vbGVhbn0gW3Nob3dNYWpvckxhYmVsc10KICAgKi8KICBUaW1lQXhpcy5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICBpZiAob3B0aW9ucykgewogICAgICAvLyBjb3B5IGFsbCBvcHRpb25zIHRoYXQgd2Uga25vdwogICAgICB1dGlsLnNlbGVjdGl2ZUV4dGVuZChbJ3Nob3dNaW5vckxhYmVscycsICdzaG93TWFqb3JMYWJlbHMnLCAnaGlkZGVuRGF0ZXMnLCAndGltZUF4aXMnXSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKCiAgICAgIC8vIGRlZXAgY29weSB0aGUgZm9ybWF0IG9wdGlvbnMKICAgICAgdXRpbC5zZWxlY3RpdmVEZWVwRXh0ZW5kKFsnZm9ybWF0J10sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgogICAgICBpZiAoJ29yaWVudGF0aW9uJyBpbiBvcHRpb25zKSB7CiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9yaWVudGF0aW9uID09PSAnc3RyaW5nJykgewogICAgICAgICAgdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLmF4aXMgPSBvcHRpb25zLm9yaWVudGF0aW9uOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMub3JpZW50YXRpb24gPT09ICdvYmplY3QnICYmICdheGlzJyBpbiBvcHRpb25zLm9yaWVudGF0aW9uKSB7CiAgICAgICAgICB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcyA9IG9wdGlvbnMub3JpZW50YXRpb24uYXhpczsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGFwcGx5IGxvY2FsZSB0byBtb21lbnQuanMKICAgICAgLy8gVE9ETzogbm90IHNvIG5pY2UsIHRoaXMgaXMgYXBwbGllZCBnbG9iYWxseSB0byBtb21lbnQuanMKICAgICAgaWYgKCdsb2NhbGUnIGluIG9wdGlvbnMpIHsKICAgICAgICBpZiAodHlwZW9mIG1vbWVudC5sb2NhbGUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIC8vIG1vbWVudC5qcyAyLjguMSsKICAgICAgICAgIG1vbWVudC5sb2NhbGUob3B0aW9ucy5sb2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtb21lbnQubGFuZyhvcHRpb25zLmxvY2FsZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ3JlYXRlIHRoZSBIVE1MIERPTSBmb3IgdGhlIFRpbWVBeGlzCiAgICovCiAgVGltZUF4aXMucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmRvbS5mb3JlZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5iYWNrZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgdGhpcy5kb20uZm9yZWdyb3VuZC5jbGFzc05hbWUgPSAndmlzLXRpbWUtYXhpcyB2aXMtZm9yZWdyb3VuZCc7CiAgICB0aGlzLmRvbS5iYWNrZ3JvdW5kLmNsYXNzTmFtZSA9ICd2aXMtdGltZS1heGlzIHZpcy1iYWNrZ3JvdW5kJzsKICB9OwoKICAvKioKICAgKiBEZXN0cm95IHRoZSBUaW1lQXhpcwogICAqLwogIFRpbWVBeGlzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgLy8gcmVtb3ZlIGZyb20gRE9NCiAgICBpZiAodGhpcy5kb20uZm9yZWdyb3VuZC5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuZG9tLmZvcmVncm91bmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5mb3JlZ3JvdW5kKTsKICAgIH0KICAgIGlmICh0aGlzLmRvbS5iYWNrZ3JvdW5kLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5kb20uYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmJhY2tncm91bmQpOwogICAgfQoKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgY29tcG9uZW50CiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgcmVzaXplZAogICAqLwogIFRpbWVBeGlzLnByb3RvdHlwZS5yZWRyYXcgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzOwogICAgdmFyIGZvcmVncm91bmQgPSB0aGlzLmRvbS5mb3JlZ3JvdW5kOwogICAgdmFyIGJhY2tncm91bmQgPSB0aGlzLmRvbS5iYWNrZ3JvdW5kOwoKICAgIC8vIGRldGVybWluZSB0aGUgY29ycmVjdCBwYXJlbnQgRE9NIGVsZW1lbnQgKGRlcGVuZGluZyBvbiBvcHRpb24gb3JpZW50YXRpb24pCiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLmF4aXMgPT0gJ3RvcCcgPyB0aGlzLmJvZHkuZG9tLnRvcCA6IHRoaXMuYm9keS5kb20uYm90dG9tOwogICAgdmFyIHBhcmVudENoYW5nZWQgPSBmb3JlZ3JvdW5kLnBhcmVudE5vZGUgIT09IHBhcmVudDsKCiAgICAvLyBjYWxjdWxhdGUgY2hhcmFjdGVyIHdpZHRoIGFuZCBoZWlnaHQKICAgIHRoaXMuX2NhbGN1bGF0ZUNoYXJTaXplKCk7CgogICAgLy8gVE9ETzogcmVjYWxjdWxhdGUgc2l6ZXMgb25seSBuZWVkZWQgd2hlbiBwYXJlbnQgaXMgcmVzaXplZCBvciBvcHRpb25zIGlzIGNoYW5nZWQKICAgIHZhciBzaG93TWlub3JMYWJlbHMgPSB0aGlzLm9wdGlvbnMuc2hvd01pbm9yTGFiZWxzICYmIHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5heGlzICE9PSAnbm9uZSc7CiAgICB2YXIgc2hvd01ham9yTGFiZWxzID0gdGhpcy5vcHRpb25zLnNob3dNYWpvckxhYmVscyAmJiB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcyAhPT0gJ25vbmUnOwoKICAgIC8vIGRldGVybWluZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgZWxlbWVucyBmb3IgdGhlIGF4aXMKICAgIHByb3BzLm1pbm9yTGFiZWxIZWlnaHQgPSBzaG93TWlub3JMYWJlbHMgPyBwcm9wcy5taW5vckNoYXJIZWlnaHQgOiAwOwogICAgcHJvcHMubWFqb3JMYWJlbEhlaWdodCA9IHNob3dNYWpvckxhYmVscyA/IHByb3BzLm1ham9yQ2hhckhlaWdodCA6IDA7CiAgICBwcm9wcy5oZWlnaHQgPSBwcm9wcy5taW5vckxhYmVsSGVpZ2h0ICsgcHJvcHMubWFqb3JMYWJlbEhlaWdodDsKICAgIHByb3BzLndpZHRoID0gZm9yZWdyb3VuZC5vZmZzZXRXaWR0aDsKCiAgICBwcm9wcy5taW5vckxpbmVIZWlnaHQgPSB0aGlzLmJvZHkuZG9tUHJvcHMucm9vdC5oZWlnaHQgLSBwcm9wcy5tYWpvckxhYmVsSGVpZ2h0IC0gKHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5heGlzID09ICd0b3AnID8gdGhpcy5ib2R5LmRvbVByb3BzLmJvdHRvbS5oZWlnaHQgOiB0aGlzLmJvZHkuZG9tUHJvcHMudG9wLmhlaWdodCk7CiAgICBwcm9wcy5taW5vckxpbmVXaWR0aCA9IDE7IC8vIFRPRE86IHJlYWxseSBjYWxjdWxhdGUgd2lkdGgKICAgIHByb3BzLm1ham9yTGluZUhlaWdodCA9IHByb3BzLm1pbm9yTGluZUhlaWdodCArIHByb3BzLm1ham9yTGFiZWxIZWlnaHQ7CiAgICBwcm9wcy5tYWpvckxpbmVXaWR0aCA9IDE7IC8vIFRPRE86IHJlYWxseSBjYWxjdWxhdGUgd2lkdGgKCiAgICAvLyAgdGFrZSBmb3JlZ3JvdW5kIGFuZCBiYWNrZ3JvdW5kIG9mZmxpbmUgd2hpbGUgdXBkYXRpbmcgKGlzIGFsbW9zdCB0d2ljZSBhcyBmYXN0KQogICAgdmFyIGZvcmVncm91bmROZXh0U2libGluZyA9IGZvcmVncm91bmQubmV4dFNpYmxpbmc7CiAgICB2YXIgYmFja2dyb3VuZE5leHRTaWJsaW5nID0gYmFja2dyb3VuZC5uZXh0U2libGluZzsKICAgIGZvcmVncm91bmQucGFyZW50Tm9kZSAmJiBmb3JlZ3JvdW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZm9yZWdyb3VuZCk7CiAgICBiYWNrZ3JvdW5kLnBhcmVudE5vZGUgJiYgYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJhY2tncm91bmQpOwoKICAgIGZvcmVncm91bmQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5wcm9wcy5oZWlnaHQgKyAncHgnOwoKICAgIHRoaXMuX3JlcGFpbnRMYWJlbHMoKTsKCiAgICAvLyBwdXQgRE9NIG9ubGluZSBhZ2FpbiAoYXQgdGhlIHNhbWUgcGxhY2UpCiAgICBpZiAoZm9yZWdyb3VuZE5leHRTaWJsaW5nKSB7CiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZm9yZWdyb3VuZCwgZm9yZWdyb3VuZE5leHRTaWJsaW5nKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChmb3JlZ3JvdW5kKTsKICAgIH0KICAgIGlmIChiYWNrZ3JvdW5kTmV4dFNpYmxpbmcpIHsKICAgICAgdGhpcy5ib2R5LmRvbS5iYWNrZ3JvdW5kVmVydGljYWwuaW5zZXJ0QmVmb3JlKGJhY2tncm91bmQsIGJhY2tncm91bmROZXh0U2libGluZyk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmJvZHkuZG9tLmJhY2tncm91bmRWZXJ0aWNhbC5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5faXNSZXNpemVkKCkgfHwgcGFyZW50Q2hhbmdlZDsKICB9OwoKICAvKioKICAgKiBSZXBhaW50IG1ham9yIGFuZCBtaW5vciB0ZXh0IGxhYmVscyBhbmQgdmVydGljYWwgZ3JpZCBsaW5lcwogICAqIEBwcml2YXRlCiAgICovCiAgVGltZUF4aXMucHJvdG90eXBlLl9yZXBhaW50TGFiZWxzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG9yaWVudGF0aW9uID0gdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLmF4aXM7CgogICAgLy8gY2FsY3VsYXRlIHJhbmdlIGFuZCBzdGVwIChzdGVwIHN1Y2ggdGhhdCB3ZSBoYXZlIHNwYWNlIGZvciA3IGNoYXJhY3RlcnMgcGVyIGxhYmVsKQogICAgdmFyIHN0YXJ0ID0gdXRpbC5jb252ZXJ0KHRoaXMuYm9keS5yYW5nZS5zdGFydCwgJ051bWJlcicpOwogICAgdmFyIGVuZCA9IHV0aWwuY29udmVydCh0aGlzLmJvZHkucmFuZ2UuZW5kLCAnTnVtYmVyJyk7CiAgICB2YXIgdGltZUxhYmVsc2l6ZSA9IHRoaXMuYm9keS51dGlsLnRvVGltZSgodGhpcy5wcm9wcy5taW5vckNoYXJXaWR0aCB8fCAxMCkgKiA3KS52YWx1ZU9mKCk7CiAgICB2YXIgbWluaW11bVN0ZXAgPSB0aW1lTGFiZWxzaXplIC0gRGF0ZVV0aWwuZ2V0SGlkZGVuRHVyYXRpb25CZWZvcmUodGhpcy5ib2R5LmhpZGRlbkRhdGVzLCB0aGlzLmJvZHkucmFuZ2UsIHRpbWVMYWJlbHNpemUpOwogICAgbWluaW11bVN0ZXAgLT0gdGhpcy5ib2R5LnV0aWwudG9UaW1lKDApLnZhbHVlT2YoKTsKCiAgICB2YXIgc3RlcCA9IG5ldyBUaW1lU3RlcChuZXcgRGF0ZShzdGFydCksIG5ldyBEYXRlKGVuZCksIG1pbmltdW1TdGVwLCB0aGlzLmJvZHkuaGlkZGVuRGF0ZXMpOwogICAgaWYgKHRoaXMub3B0aW9ucy5mb3JtYXQpIHsKICAgICAgc3RlcC5zZXRGb3JtYXQodGhpcy5vcHRpb25zLmZvcm1hdCk7CiAgICB9CiAgICBpZiAodGhpcy5vcHRpb25zLnRpbWVBeGlzKSB7CiAgICAgIHN0ZXAuc2V0U2NhbGUodGhpcy5vcHRpb25zLnRpbWVBeGlzKTsKICAgIH0KICAgIHRoaXMuc3RlcCA9IHN0ZXA7CgogICAgLy8gTW92ZSBhbGwgRE9NIGVsZW1lbnRzIHRvIGEgInJlZHVuZGFudCIgbGlzdCwgd2hlcmUgdGhleQogICAgLy8gY2FuIGJlIHBpY2tlZCBmb3IgcmUtdXNlLCBhbmQgY2xlYXIgdGhlIGxpc3RzIHdpdGggbGluZXMgYW5kIHRleHRzLgogICAgLy8gQXQgdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb24gX3JlcGFpbnRMYWJlbHMsIGxlZnQgb3ZlciBlbGVtZW50cyB3aWxsIGJlIGNsZWFuZWQgdXAKICAgIHZhciBkb20gPSB0aGlzLmRvbTsKICAgIGRvbS5yZWR1bmRhbnQubGluZXMgPSBkb20ubGluZXM7CiAgICBkb20ucmVkdW5kYW50Lm1ham9yVGV4dHMgPSBkb20ubWFqb3JUZXh0czsKICAgIGRvbS5yZWR1bmRhbnQubWlub3JUZXh0cyA9IGRvbS5taW5vclRleHRzOwogICAgZG9tLmxpbmVzID0gW107CiAgICBkb20ubWFqb3JUZXh0cyA9IFtdOwogICAgZG9tLm1pbm9yVGV4dHMgPSBbXTsKCiAgICB2YXIgY3VyOwogICAgdmFyIHggPSAwOwogICAgdmFyIGlzTWFqb3I7CiAgICB2YXIgeFByZXYgPSAwOwogICAgdmFyIHdpZHRoID0gMDsKICAgIHZhciBwcmV2TGluZTsKICAgIHZhciB4Rmlyc3RNYWpvckxhYmVsID0gdW5kZWZpbmVkOwogICAgdmFyIG1heCA9IDA7CiAgICB2YXIgY2xhc3NOYW1lOwoKICAgIHN0ZXAuZmlyc3QoKTsKICAgIHdoaWxlIChzdGVwLmhhc05leHQoKSAmJiBtYXggPCAxMDAwKSB7CiAgICAgIG1heCsrOwoKICAgICAgY3VyID0gc3RlcC5nZXRDdXJyZW50KCk7CiAgICAgIGlzTWFqb3IgPSBzdGVwLmlzTWFqb3IoKTsKICAgICAgY2xhc3NOYW1lID0gc3RlcC5nZXRDbGFzc05hbWUoKTsKCiAgICAgIHhQcmV2ID0geDsKICAgICAgeCA9IHRoaXMuYm9keS51dGlsLnRvU2NyZWVuKGN1cik7CiAgICAgIHdpZHRoID0geCAtIHhQcmV2OwogICAgICBpZiAocHJldkxpbmUpIHsKICAgICAgICBwcmV2TGluZS5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93TWlub3JMYWJlbHMpIHsKICAgICAgICB0aGlzLl9yZXBhaW50TWlub3JUZXh0KHgsIHN0ZXAuZ2V0TGFiZWxNaW5vcigpLCBvcmllbnRhdGlvbiwgY2xhc3NOYW1lKTsKICAgICAgfQoKICAgICAgaWYgKGlzTWFqb3IgJiYgdGhpcy5vcHRpb25zLnNob3dNYWpvckxhYmVscykgewogICAgICAgIGlmICh4ID4gMCkgewogICAgICAgICAgaWYgKHhGaXJzdE1ham9yTGFiZWwgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHhGaXJzdE1ham9yTGFiZWwgPSB4OwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5fcmVwYWludE1ham9yVGV4dCh4LCBzdGVwLmdldExhYmVsTWFqb3IoKSwgb3JpZW50YXRpb24sIGNsYXNzTmFtZSk7CiAgICAgICAgfQogICAgICAgIHByZXZMaW5lID0gdGhpcy5fcmVwYWludE1ham9yTGluZSh4LCBvcmllbnRhdGlvbiwgY2xhc3NOYW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcmV2TGluZSA9IHRoaXMuX3JlcGFpbnRNaW5vckxpbmUoeCwgb3JpZW50YXRpb24sIGNsYXNzTmFtZSk7CiAgICAgIH0KCiAgICAgIHN0ZXAubmV4dCgpOwogICAgfQoKICAgIC8vIGNyZWF0ZSBhIG1ham9yIGxhYmVsIG9uIHRoZSBsZWZ0IHdoZW4gbmVlZGVkCiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dNYWpvckxhYmVscykgewogICAgICB2YXIgbGVmdFRpbWUgPSB0aGlzLmJvZHkudXRpbC50b1RpbWUoMCksCiAgICAgICAgICBsZWZ0VGV4dCA9IHN0ZXAuZ2V0TGFiZWxNYWpvcihsZWZ0VGltZSksCiAgICAgICAgICB3aWR0aFRleHQgPSBsZWZ0VGV4dC5sZW5ndGggKiAodGhpcy5wcm9wcy5tYWpvckNoYXJXaWR0aCB8fCAxMCkgKyAxMDsgLy8gdXBwZXIgYm91bmQgZXN0aW1hdGlvbgoKICAgICAgaWYgKHhGaXJzdE1ham9yTGFiZWwgPT0gdW5kZWZpbmVkIHx8IHdpZHRoVGV4dCA8IHhGaXJzdE1ham9yTGFiZWwpIHsKICAgICAgICB0aGlzLl9yZXBhaW50TWFqb3JUZXh0KDAsIGxlZnRUZXh0LCBvcmllbnRhdGlvbiwgY2xhc3NOYW1lKTsKICAgICAgfQogICAgfQoKICAgIC8vIENsZWFudXAgbGVmdG92ZXIgRE9NIGVsZW1lbnRzIGZyb20gdGhlIHJlZHVuZGFudCBsaXN0CiAgICB1dGlsLmZvckVhY2godGhpcy5kb20ucmVkdW5kYW50LCBmdW5jdGlvbiAoYXJyKSB7CiAgICAgIHdoaWxlIChhcnIubGVuZ3RoKSB7CiAgICAgICAgdmFyIGVsZW0gPSBhcnIucG9wKCk7CiAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlKSB7CiAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwoKICAvKioKICAgKiBDcmVhdGUgYSBtaW5vciBsYWJlbCBmb3IgdGhlIGF4aXMgYXQgcG9zaXRpb24geAogICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQKICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZW50YXRpb24gICAidG9wIiBvciAiYm90dG9tIiAoZGVmYXVsdCkKICAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lCiAgICogQHByaXZhdGUKICAgKi8KICBUaW1lQXhpcy5wcm90b3R5cGUuX3JlcGFpbnRNaW5vclRleHQgPSBmdW5jdGlvbiAoeCwgdGV4dCwgb3JpZW50YXRpb24sIGNsYXNzTmFtZSkgewogICAgLy8gcmV1c2UgcmVkdW5kYW50IGxhYmVsCiAgICB2YXIgbGFiZWwgPSB0aGlzLmRvbS5yZWR1bmRhbnQubWlub3JUZXh0cy5zaGlmdCgpOwoKICAgIGlmICghbGFiZWwpIHsKICAgICAgLy8gY3JlYXRlIG5ldyBsYWJlbAogICAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTsKICAgICAgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoY29udGVudCk7CiAgICAgIHRoaXMuZG9tLmZvcmVncm91bmQuYXBwZW5kQ2hpbGQobGFiZWwpOwogICAgfQogICAgdGhpcy5kb20ubWlub3JUZXh0cy5wdXNoKGxhYmVsKTsKCiAgICBsYWJlbC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSA9IHRleHQ7CgogICAgbGFiZWwuc3R5bGUudG9wID0gb3JpZW50YXRpb24gPT0gJ3RvcCcgPyB0aGlzLnByb3BzLm1ham9yTGFiZWxIZWlnaHQgKyAncHgnIDogJzAnOwogICAgbGFiZWwuc3R5bGUubGVmdCA9IHggKyAncHgnOwogICAgbGFiZWwuY2xhc3NOYW1lID0gJ3Zpcy10ZXh0IHZpcy1taW5vciAnICsgY2xhc3NOYW1lOwogICAgLy9sYWJlbC50aXRsZSA9IHRpdGxlOyAgLy8gVE9ETzogdGhpcyBpcyBhIGhlYXZ5IG9wZXJhdGlvbgogIH07CgogIC8qKgogICAqIENyZWF0ZSBhIE1ham9yIGxhYmVsIGZvciB0aGUgYXhpcyBhdCBwb3NpdGlvbiB4CiAgICogQHBhcmFtIHtOdW1iZXJ9IHgKICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dAogICAqIEBwYXJhbSB7U3RyaW5nfSBvcmllbnRhdGlvbiAgICJ0b3AiIG9yICJib3R0b20iIChkZWZhdWx0KQogICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWUKICAgKiBAcHJpdmF0ZQogICAqLwogIFRpbWVBeGlzLnByb3RvdHlwZS5fcmVwYWludE1ham9yVGV4dCA9IGZ1bmN0aW9uICh4LCB0ZXh0LCBvcmllbnRhdGlvbiwgY2xhc3NOYW1lKSB7CiAgICAvLyByZXVzZSByZWR1bmRhbnQgbGFiZWwKICAgIHZhciBsYWJlbCA9IHRoaXMuZG9tLnJlZHVuZGFudC5tYWpvclRleHRzLnNoaWZ0KCk7CgogICAgaWYgKCFsYWJlbCkgewogICAgICAvLyBjcmVhdGUgbGFiZWwKICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTsKICAgICAgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoY29udGVudCk7CiAgICAgIHRoaXMuZG9tLmZvcmVncm91bmQuYXBwZW5kQ2hpbGQobGFiZWwpOwogICAgfQogICAgdGhpcy5kb20ubWFqb3JUZXh0cy5wdXNoKGxhYmVsKTsKCiAgICBsYWJlbC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSA9IHRleHQ7CiAgICBsYWJlbC5jbGFzc05hbWUgPSAndmlzLXRleHQgdmlzLW1ham9yICcgKyBjbGFzc05hbWU7CiAgICAvL2xhYmVsLnRpdGxlID0gdGl0bGU7IC8vIFRPRE86IHRoaXMgaXMgYSBoZWF2eSBvcGVyYXRpb24KCiAgICBsYWJlbC5zdHlsZS50b3AgPSBvcmllbnRhdGlvbiA9PSAndG9wJyA/ICcwJyA6IHRoaXMucHJvcHMubWlub3JMYWJlbEhlaWdodCArICdweCc7CiAgICBsYWJlbC5zdHlsZS5sZWZ0ID0geCArICdweCc7CiAgfTsKCiAgLyoqCiAgICogQ3JlYXRlIGEgbWlub3IgbGluZSBmb3IgdGhlIGF4aXMgYXQgcG9zaXRpb24geAogICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWVudGF0aW9uICAgInRvcCIgb3IgImJvdHRvbSIgKGRlZmF1bHQpCiAgICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZQogICAqIEByZXR1cm4ge0VsZW1lbnR9IFJldHVybnMgdGhlIGNyZWF0ZWQgbGluZQogICAqIEBwcml2YXRlCiAgICovCiAgVGltZUF4aXMucHJvdG90eXBlLl9yZXBhaW50TWlub3JMaW5lID0gZnVuY3Rpb24gKHgsIG9yaWVudGF0aW9uLCBjbGFzc05hbWUpIHsKICAgIC8vIHJldXNlIHJlZHVuZGFudCBsaW5lCiAgICB2YXIgbGluZSA9IHRoaXMuZG9tLnJlZHVuZGFudC5saW5lcy5zaGlmdCgpOwogICAgaWYgKCFsaW5lKSB7CiAgICAgIC8vIGNyZWF0ZSB2ZXJ0aWNhbCBsaW5lCiAgICAgIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgdGhpcy5kb20uYmFja2dyb3VuZC5hcHBlbmRDaGlsZChsaW5lKTsKICAgIH0KICAgIHRoaXMuZG9tLmxpbmVzLnB1c2gobGluZSk7CgogICAgdmFyIHByb3BzID0gdGhpcy5wcm9wczsKICAgIGlmIChvcmllbnRhdGlvbiA9PSAndG9wJykgewogICAgICBsaW5lLnN0eWxlLnRvcCA9IHByb3BzLm1ham9yTGFiZWxIZWlnaHQgKyAncHgnOwogICAgfSBlbHNlIHsKICAgICAgbGluZS5zdHlsZS50b3AgPSB0aGlzLmJvZHkuZG9tUHJvcHMudG9wLmhlaWdodCArICdweCc7CiAgICB9CiAgICBsaW5lLnN0eWxlLmhlaWdodCA9IHByb3BzLm1pbm9yTGluZUhlaWdodCArICdweCc7CiAgICBsaW5lLnN0eWxlLmxlZnQgPSB4IC0gcHJvcHMubWlub3JMaW5lV2lkdGggLyAyICsgJ3B4JzsKCiAgICBsaW5lLmNsYXNzTmFtZSA9ICd2aXMtZ3JpZCB2aXMtdmVydGljYWwgdmlzLW1pbm9yICcgKyBjbGFzc05hbWU7CgogICAgcmV0dXJuIGxpbmU7CiAgfTsKCiAgLyoqCiAgICogQ3JlYXRlIGEgTWFqb3IgbGluZSBmb3IgdGhlIGF4aXMgYXQgcG9zaXRpb24geAogICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWVudGF0aW9uICAgInRvcCIgb3IgImJvdHRvbSIgKGRlZmF1bHQpCiAgICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZQogICAqIEByZXR1cm4ge0VsZW1lbnR9IFJldHVybnMgdGhlIGNyZWF0ZWQgbGluZQogICAqIEBwcml2YXRlCiAgICovCiAgVGltZUF4aXMucHJvdG90eXBlLl9yZXBhaW50TWFqb3JMaW5lID0gZnVuY3Rpb24gKHgsIG9yaWVudGF0aW9uLCBjbGFzc05hbWUpIHsKICAgIC8vIHJldXNlIHJlZHVuZGFudCBsaW5lCiAgICB2YXIgbGluZSA9IHRoaXMuZG9tLnJlZHVuZGFudC5saW5lcy5zaGlmdCgpOwogICAgaWYgKCFsaW5lKSB7CiAgICAgIC8vIGNyZWF0ZSB2ZXJ0aWNhbCBsaW5lCiAgICAgIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgdGhpcy5kb20uYmFja2dyb3VuZC5hcHBlbmRDaGlsZChsaW5lKTsKICAgIH0KICAgIHRoaXMuZG9tLmxpbmVzLnB1c2gobGluZSk7CgogICAgdmFyIHByb3BzID0gdGhpcy5wcm9wczsKICAgIGlmIChvcmllbnRhdGlvbiA9PSAndG9wJykgewogICAgICBsaW5lLnN0eWxlLnRvcCA9ICcwJzsKICAgIH0gZWxzZSB7CiAgICAgIGxpbmUuc3R5bGUudG9wID0gdGhpcy5ib2R5LmRvbVByb3BzLnRvcC5oZWlnaHQgKyAncHgnOwogICAgfQogICAgbGluZS5zdHlsZS5sZWZ0ID0geCAtIHByb3BzLm1ham9yTGluZVdpZHRoIC8gMiArICdweCc7CiAgICBsaW5lLnN0eWxlLmhlaWdodCA9IHByb3BzLm1ham9yTGluZUhlaWdodCArICdweCc7CgogICAgbGluZS5jbGFzc05hbWUgPSAndmlzLWdyaWQgdmlzLXZlcnRpY2FsIHZpcy1tYWpvciAnICsgY2xhc3NOYW1lOwoKICAgIHJldHVybiBsaW5lOwogIH07CgogIC8qKgogICAqIERldGVybWluZSB0aGUgc2l6ZSBvZiB0ZXh0IG9uIHRoZSBheGlzIChib3RoIG1ham9yIGFuZCBtaW5vciBheGlzKS4KICAgKiBUaGUgc2l6ZSBpcyBjYWxjdWxhdGVkIG9ubHkgb25jZSBhbmQgdGhlbiBjYWNoZWQgaW4gdGhpcy5wcm9wcy4KICAgKiBAcHJpdmF0ZQogICAqLwogIFRpbWVBeGlzLnByb3RvdHlwZS5fY2FsY3VsYXRlQ2hhclNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyBOb3RlOiBXZSBjYWxjdWxhdGUgY2hhciBzaXplIHdpdGggZXZlcnkgcmVkcmF3LiBTaXplIG1heSBjaGFuZ2UsIGZvcgogICAgLy8gZXhhbXBsZSB3aGVuIGFueSBvZiB0aGUgdGltZWxpbmVzIHBhcmVudHMgaGFkIGRpc3BsYXk6bm9uZSBmb3IgZXhhbXBsZS4KCiAgICAvLyBkZXRlcm1pbmUgdGhlIGNoYXIgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbWlub3IgYXhpcwogICAgaWYgKCF0aGlzLmRvbS5tZWFzdXJlQ2hhck1pbm9yKSB7CiAgICAgIHRoaXMuZG9tLm1lYXN1cmVDaGFyTWlub3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTsKICAgICAgdGhpcy5kb20ubWVhc3VyZUNoYXJNaW5vci5jbGFzc05hbWUgPSAndmlzLXRleHQgdmlzLW1pbm9yIHZpcy1tZWFzdXJlJzsKICAgICAgdGhpcy5kb20ubWVhc3VyZUNoYXJNaW5vci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CgogICAgICB0aGlzLmRvbS5tZWFzdXJlQ2hhck1pbm9yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcwJykpOwogICAgICB0aGlzLmRvbS5mb3JlZ3JvdW5kLmFwcGVuZENoaWxkKHRoaXMuZG9tLm1lYXN1cmVDaGFyTWlub3IpOwogICAgfQogICAgdGhpcy5wcm9wcy5taW5vckNoYXJIZWlnaHQgPSB0aGlzLmRvbS5tZWFzdXJlQ2hhck1pbm9yLmNsaWVudEhlaWdodDsKICAgIHRoaXMucHJvcHMubWlub3JDaGFyV2lkdGggPSB0aGlzLmRvbS5tZWFzdXJlQ2hhck1pbm9yLmNsaWVudFdpZHRoOwoKICAgIC8vIGRldGVybWluZSB0aGUgY2hhciB3aWR0aCBhbmQgaGVpZ2h0IG9uIHRoZSBtYWpvciBheGlzCiAgICBpZiAoIXRoaXMuZG9tLm1lYXN1cmVDaGFyTWFqb3IpIHsKICAgICAgdGhpcy5kb20ubWVhc3VyZUNoYXJNYWpvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpOwogICAgICB0aGlzLmRvbS5tZWFzdXJlQ2hhck1ham9yLmNsYXNzTmFtZSA9ICd2aXMtdGV4dCB2aXMtbWFqb3IgdmlzLW1lYXN1cmUnOwogICAgICB0aGlzLmRvbS5tZWFzdXJlQ2hhck1ham9yLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKCiAgICAgIHRoaXMuZG9tLm1lYXN1cmVDaGFyTWFqb3IuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJzAnKSk7CiAgICAgIHRoaXMuZG9tLmZvcmVncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5kb20ubWVhc3VyZUNoYXJNYWpvcik7CiAgICB9CiAgICB0aGlzLnByb3BzLm1ham9yQ2hhckhlaWdodCA9IHRoaXMuZG9tLm1lYXN1cmVDaGFyTWFqb3IuY2xpZW50SGVpZ2h0OwogICAgdGhpcy5wcm9wcy5tYWpvckNoYXJXaWR0aCA9IHRoaXMuZG9tLm1lYXN1cmVDaGFyTWFqb3IuY2xpZW50V2lkdGg7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBUaW1lQXhpczsKCi8qKiovIH0sCi8qIDQyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBrZXljaGFybSA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpOwogIHZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7CiAgdmFyIEhhbW1lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpOwogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgLyoqCiAgICogVHVybiBhbiBlbGVtZW50IGludG8gYW4gY2xpY2tUb1VzZSBlbGVtZW50LgogICAqIFdoZW4gbm90IGFjdGl2ZSwgdGhlIGVsZW1lbnQgaGFzIGEgdHJhbnNwYXJlbnQgb3ZlcmxheS4gV2hlbiB0aGUgb3ZlcmxheSBpcwogICAqIGNsaWNrZWQsIHRoZSBtb2RlIGlzIGNoYW5nZWQgdG8gYWN0aXZlLgogICAqIFdoZW4gYWN0aXZlLCB0aGUgZWxlbWVudCBpcyBkaXNwbGF5ZWQgd2l0aCBhIGJsdWUgYm9yZGVyIGFyb3VuZCBpdCwgYW5kCiAgICogdGhlIGludGVyYWN0aXZlIGNvbnRlbnRzIG9mIHRoZSBlbGVtZW50IGNhbiBiZSB1c2VkLiBXaGVuIGNsaWNrZWQgb3V0c2lkZQogICAqIHRoZSBlbGVtZW50LCB0aGUgZWxlbWVudHMgbW9kZSBpcyBjaGFuZ2VkIHRvIGluYWN0aXZlLgogICAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVyCiAgICogQGNvbnN0cnVjdG9yCiAgICovCiAgZnVuY3Rpb24gQWN0aXZhdG9yKGNvbnRhaW5lcikgewogICAgdGhpcy5hY3RpdmUgPSBmYWxzZTsKCiAgICB0aGlzLmRvbSA9IHsKICAgICAgY29udGFpbmVyOiBjb250YWluZXIKICAgIH07CgogICAgdGhpcy5kb20ub3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20ub3ZlcmxheS5jbGFzc05hbWUgPSAndmlzLW92ZXJsYXknOwoKICAgIHRoaXMuZG9tLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5vdmVybGF5KTsKCiAgICB0aGlzLmhhbW1lciA9IEhhbW1lcih0aGlzLmRvbS5vdmVybGF5KTsKICAgIHRoaXMuaGFtbWVyLm9uKCd0YXAnLCB0aGlzLl9vblRhcE92ZXJsYXkuYmluZCh0aGlzKSk7CgogICAgLy8gYmxvY2sgYWxsIHRvdWNoIGV2ZW50cyAoZXhjZXB0IHRhcCkKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgZXZlbnRzID0gWyd0YXAnLCAnZG91YmxldGFwJywgJ3ByZXNzJywgJ3BpbmNoJywgJ3BhbicsICdwYW5zdGFydCcsICdwYW5tb3ZlJywgJ3BhbmVuZCddOwogICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIG1lLmhhbW1lci5vbihldmVudCwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0pOwogICAgfSk7CgogICAgLy8gYXR0YWNoIGEgY2xpY2sgZXZlbnQgdG8gdGhlIHdpbmRvdywgaW4gb3JkZXIgdG8gZGVhY3RpdmF0ZSB3aGVuIGNsaWNraW5nIG91dHNpZGUgdGhlIHRpbWVsaW5lCiAgICBpZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQuYm9keSkgewogICAgICB0aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBpZiAoIV9oYXNQYXJlbnQoZXZlbnQudGFyZ2V0LCBjb250YWluZXIpKSB7CiAgICAgICAgICBtZS5kZWFjdGl2YXRlKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTsKICAgIH0KCiAgICBpZiAodGhpcy5rZXljaGFybSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMua2V5Y2hhcm0uZGVzdHJveSgpOwogICAgfQogICAgdGhpcy5rZXljaGFybSA9IGtleWNoYXJtKCk7CgogICAgLy8ga2V5Y2hhcm0gbGlzdGVuZXIgb25seSBib3VuZGVkIHdoZW4gYWN0aXZlKQogICAgdGhpcy5lc2NMaXN0ZW5lciA9IHRoaXMuZGVhY3RpdmF0ZS5iaW5kKHRoaXMpOwogIH0KCiAgLy8gdHVybiBpbnRvIGFuIGV2ZW50IGVtaXR0ZXIKICBFbWl0dGVyKEFjdGl2YXRvci5wcm90b3R5cGUpOwoKICAvLyBUaGUgY3VycmVudGx5IGFjdGl2ZSBhY3RpdmF0b3IKICBBY3RpdmF0b3IuY3VycmVudCA9IG51bGw7CgogIC8qKgogICAqIERlc3Ryb3kgdGhlIGFjdGl2YXRvci4gQ2xlYW5zIHVwIGFsbCBjcmVhdGVkIERPTSBhbmQgZXZlbnQgbGlzdGVuZXJzCiAgICovCiAgQWN0aXZhdG9yLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5kZWFjdGl2YXRlKCk7CgogICAgLy8gcmVtb3ZlIGRvbQogICAgdGhpcy5kb20ub3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLm92ZXJsYXkpOwoKICAgIC8vIHJlbW92ZSBnbG9iYWwgZXZlbnQgbGlzdGVuZXIKICAgIGlmICh0aGlzLm9uQ2xpY2spIHsKICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7CiAgICB9CgogICAgLy8gY2xlYW51cCBoYW1tZXIgaW5zdGFuY2VzCiAgICB0aGlzLmhhbW1lci5kZXN0cm95KCk7CiAgICB0aGlzLmhhbW1lciA9IG51bGw7CiAgICAvLyBGSVhNRTogY2xlYW5pbmcgdXAgaGFtbWVyIGluc3RhbmNlcyBkb2Vzbid0IHdvcmsgKFRpbWVsaW5lIG5vdCByZW1vdmVkIGZyb20gbWVtb3J5KQogIH07CgogIC8qKgogICAqIEFjdGl2YXRlIHRoZSBlbGVtZW50CiAgICogT3ZlcmxheSBpcyBoaWRkZW4sIGVsZW1lbnQgaXMgZGVjb3JhdGVkIHdpdGggYSBibHVlIHNoYWRvdyBib3JkZXIKICAgKi8KICBBY3RpdmF0b3IucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkgewogICAgLy8gd2UgYWxsb3cgb25seSBvbmUgYWN0aXZlIGFjdGl2YXRvciBhdCBhIHRpbWUKICAgIGlmIChBY3RpdmF0b3IuY3VycmVudCkgewogICAgICBBY3RpdmF0b3IuY3VycmVudC5kZWFjdGl2YXRlKCk7CiAgICB9CiAgICBBY3RpdmF0b3IuY3VycmVudCA9IHRoaXM7CgogICAgdGhpcy5hY3RpdmUgPSB0cnVlOwogICAgdGhpcy5kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgdXRpbC5hZGRDbGFzc05hbWUodGhpcy5kb20uY29udGFpbmVyLCAndmlzLWFjdGl2ZScpOwoKICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7CiAgICB0aGlzLmVtaXQoJ2FjdGl2YXRlJyk7CgogICAgLy8gdWdseSBoYWNrOiBiaW5kIEVTQyBhZnRlciBlbWl0dGluZyB0aGUgZXZlbnRzLCBhcyB0aGUgTmV0d29yayByZWJpbmRzIGFsbAogICAgLy8ga2V5Ym9hcmQgZXZlbnRzIG9uIGEgJ2NoYW5nZScgZXZlbnQKICAgIHRoaXMua2V5Y2hhcm0uYmluZCgnZXNjJywgdGhpcy5lc2NMaXN0ZW5lcik7CiAgfTsKCiAgLyoqCiAgICogRGVhY3RpdmF0ZSB0aGUgZWxlbWVudAogICAqIE92ZXJsYXkgaXMgZGlzcGxheWVkIG9uIHRvcCBvZiB0aGUgZWxlbWVudAogICAqLwogIEFjdGl2YXRvci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7CiAgICB0aGlzLmRvbS5vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHV0aWwucmVtb3ZlQ2xhc3NOYW1lKHRoaXMuZG9tLmNvbnRhaW5lciwgJ3Zpcy1hY3RpdmUnKTsKICAgIHRoaXMua2V5Y2hhcm0udW5iaW5kKCdlc2MnLCB0aGlzLmVzY0xpc3RlbmVyKTsKCiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpOwogICAgdGhpcy5lbWl0KCdkZWFjdGl2YXRlJyk7CiAgfTsKCiAgLyoqCiAgICogSGFuZGxlIGEgdGFwIGV2ZW50OiBhY3RpdmF0ZSB0aGUgY29udGFpbmVyCiAgICogQHBhcmFtIGV2ZW50CiAgICogQHByaXZhdGUKICAgKi8KICBBY3RpdmF0b3IucHJvdG90eXBlLl9vblRhcE92ZXJsYXkgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIGFjdGl2YXRlIHRoZSBjb250YWluZXIKICAgIHRoaXMuYWN0aXZhdGUoKTsKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogIH07CgogIC8qKgogICAqIFRlc3Qgd2hldGhlciB0aGUgZWxlbWVudCBoYXMgdGhlIHJlcXVlc3RlZCBwYXJlbnQgZWxlbWVudCBzb21ld2hlcmUgaW4KICAgKiBpdHMgY2hhaW4gb2YgcGFyZW50IG5vZGVzLgogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQKICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnQKICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIHBhcmVudCBpcyBmb3VuZCBzb21ld2hlcmUgaW4gdGhlCiAgICogICAgICAgICAgICAgICAgICAgIGNoYWluIG9mIHBhcmVudCBub2Rlcy4KICAgKiBAcHJpdmF0ZQogICAqLwogIGZ1bmN0aW9uIF9oYXNQYXJlbnQoZWxlbWVudCwgcGFyZW50KSB7CiAgICB3aGlsZSAoZWxlbWVudCkgewogICAgICBpZiAoZWxlbWVudCA9PT0gcGFyZW50KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9CgogIG1vZHVsZS5leHBvcnRzID0gQWN0aXZhdG9yOwoKLyoqKi8gfSwKLyogNDMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogIHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyJ1c2Ugc3RyaWN0IjsKICAvKioKICAgKiBDcmVhdGVkIGJ5IEFsZXggb24gMTEvNi8yMDE0LgogICAqLwoKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMjTDQwLUw2MAogIC8vIGlmIHRoZSBtb2R1bGUgaGFzIG5vIGRlcGVuZGVuY2llcywgdGhlIGFib3ZlIHBhdHRlcm4gY2FuIGJlIHNpbXBsaWZpZWQgdG8KICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgIGlmICh0cnVlKSB7CiAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLAogICAgICAvLyBsaWtlIE5vZGUuCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgfSBlbHNlIHsKICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgICAgcm9vdC5rZXljaGFybSA9IGZhY3RvcnkoKTsKICAgIH0KICB9KHRoaXMsIGZ1bmN0aW9uICgpIHsKCiAgICBmdW5jdGlvbiBrZXljaGFybShvcHRpb25zKSB7CiAgICAgIHZhciBwcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCB8fCBmYWxzZTsKCiAgICAgIHZhciBjb250YWluZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuY29udGFpbmVyIHx8IHdpbmRvdzsKCiAgICAgIHZhciBfZXhwb3J0RnVuY3Rpb25zID0ge307CiAgICAgIHZhciBfYm91bmQgPSB7a2V5ZG93bjp7fSwga2V5dXA6e319OwogICAgICB2YXIgX2tleXMgPSB7fTsKICAgICAgdmFyIGk7CgogICAgICAvLyBhIC0gegogICAgICBmb3IgKGkgPSA5NzsgaSA8PSAxMjI7IGkrKykge19rZXlzW1N0cmluZy5mcm9tQ2hhckNvZGUoaSldID0ge2NvZGU6NjUgKyAoaSAtIDk3KSwgc2hpZnQ6IGZhbHNlfTt9CiAgICAgIC8vIEEgLSBaCiAgICAgIGZvciAoaSA9IDY1OyBpIDw9IDkwOyBpKyspIHtfa2V5c1tTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IHtjb2RlOmksIHNoaWZ0OiB0cnVlfTt9CiAgICAgIC8vIDAgLSA5CiAgICAgIGZvciAoaSA9IDA7ICBpIDw9IDk7ICAgaSsrKSB7X2tleXNbJycgKyBpXSA9IHtjb2RlOjQ4ICsgaSwgc2hpZnQ6IGZhbHNlfTt9CiAgICAgIC8vIEYxIC0gRjEyCiAgICAgIGZvciAoaSA9IDE7ICBpIDw9IDEyOyAgIGkrKykge19rZXlzWydGJyArIGldID0ge2NvZGU6MTExICsgaSwgc2hpZnQ6IGZhbHNlfTt9CiAgICAgIC8vIG51bTAgLSBudW05CiAgICAgIGZvciAoaSA9IDA7ICBpIDw9IDk7ICAgaSsrKSB7X2tleXNbJ251bScgKyBpXSA9IHtjb2RlOjk2ICsgaSwgc2hpZnQ6IGZhbHNlfTt9CgogICAgICAvLyBudW1wYWQgbWlzYwogICAgICBfa2V5c1snbnVtKiddID0ge2NvZGU6MTA2LCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snbnVtKyddID0ge2NvZGU6MTA3LCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snbnVtLSddID0ge2NvZGU6MTA5LCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snbnVtLyddID0ge2NvZGU6MTExLCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snbnVtLiddID0ge2NvZGU6MTEwLCBzaGlmdDogZmFsc2V9OwogICAgICAvLyBhcnJvd3MKICAgICAgX2tleXNbJ2xlZnQnXSAgPSB7Y29kZTozNywgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ3VwJ10gICAgPSB7Y29kZTozOCwgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ3JpZ2h0J10gPSB7Y29kZTozOSwgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ2Rvd24nXSAgPSB7Y29kZTo0MCwgc2hpZnQ6IGZhbHNlfTsKICAgICAgLy8gZXh0cmEga2V5cwogICAgICBfa2V5c1snc3BhY2UnXSA9IHtjb2RlOjMyLCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snZW50ZXInXSA9IHtjb2RlOjEzLCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snc2hpZnQnXSA9IHtjb2RlOjE2LCBzaGlmdDogdW5kZWZpbmVkfTsKICAgICAgX2tleXNbJ2VzYyddICAgPSB7Y29kZToyNywgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ2JhY2tzcGFjZSddID0ge2NvZGU6OCwgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ3RhYiddICAgICAgID0ge2NvZGU6OSwgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ2N0cmwnXSAgICAgID0ge2NvZGU6MTcsIHNoaWZ0OiBmYWxzZX07CiAgICAgIF9rZXlzWydhbHQnXSAgICAgICA9IHtjb2RlOjE4LCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snZGVsZXRlJ10gICAgPSB7Y29kZTo0Niwgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ3BhZ2V1cCddICAgID0ge2NvZGU6MzMsIHNoaWZ0OiBmYWxzZX07CiAgICAgIF9rZXlzWydwYWdlZG93biddICA9IHtjb2RlOjM0LCBzaGlmdDogZmFsc2V9OwogICAgICAvLyBzeW1ib2xzCiAgICAgIF9rZXlzWyc9J10gICAgID0ge2NvZGU6MTg3LCBzaGlmdDogZmFsc2V9OwogICAgICBfa2V5c1snLSddICAgICA9IHtjb2RlOjE4OSwgc2hpZnQ6IGZhbHNlfTsKICAgICAgX2tleXNbJ10nXSAgICAgPSB7Y29kZToyMjEsIHNoaWZ0OiBmYWxzZX07CiAgICAgIF9rZXlzWydbJ10gICAgID0ge2NvZGU6MjE5LCBzaGlmdDogZmFsc2V9OwoKCgogICAgICB2YXIgZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7aGFuZGxlRXZlbnQoZXZlbnQsJ2tleWRvd24nKTt9OwogICAgICB2YXIgdXAgPSBmdW5jdGlvbihldmVudCkge2hhbmRsZUV2ZW50KGV2ZW50LCdrZXl1cCcpO307CgogICAgICAvLyBoYW5kbGUgdGhlIGFjdHVhbHkgYm91bmQga2V5IHdpdGggdGhlIGV2ZW50CiAgICAgIHZhciBoYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGV2ZW50LHR5cGUpIHsKICAgICAgICBpZiAoX2JvdW5kW3R5cGVdW2V2ZW50LmtleUNvZGVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBib3VuZCA9IF9ib3VuZFt0eXBlXVtldmVudC5rZXlDb2RlXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGJvdW5kW2ldLnNoaWZ0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBib3VuZFtpXS5mbihldmVudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoYm91bmRbaV0uc2hpZnQgPT0gdHJ1ZSAmJiBldmVudC5zaGlmdEtleSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgYm91bmRbaV0uZm4oZXZlbnQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kW2ldLnNoaWZ0ID09IGZhbHNlICYmIGV2ZW50LnNoaWZ0S2V5ID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgYm91bmRbaV0uZm4oZXZlbnQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHByZXZlbnREZWZhdWx0ID09IHRydWUpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICAvLyBiaW5kIGEga2V5IHRvIGEgY2FsbGJhY2sKICAgICAgX2V4cG9ydEZ1bmN0aW9ucy5iaW5kID0gZnVuY3Rpb24oa2V5LCBjYWxsYmFjaywgdHlwZSkgewogICAgICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHR5cGUgPSAna2V5ZG93bic7CiAgICAgICAgfQogICAgICAgIGlmIChfa2V5c1trZXldID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigidW5zdXBwb3J0ZWQga2V5OiAiICsga2V5KTsKICAgICAgICB9CiAgICAgICAgaWYgKF9ib3VuZFt0eXBlXVtfa2V5c1trZXldLmNvZGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIF9ib3VuZFt0eXBlXVtfa2V5c1trZXldLmNvZGVdID0gW107CiAgICAgICAgfQogICAgICAgIF9ib3VuZFt0eXBlXVtfa2V5c1trZXldLmNvZGVdLnB1c2goe2ZuOmNhbGxiYWNrLCBzaGlmdDpfa2V5c1trZXldLnNoaWZ0fSk7CiAgICAgIH07CgoKICAgICAgLy8gYmluZCBhbGwga2V5cyB0byBhIGNhbGwgYmFjayAoZGVtbyBwdXJwb3NlcykKICAgICAgX2V4cG9ydEZ1bmN0aW9ucy5iaW5kQWxsID0gZnVuY3Rpb24oY2FsbGJhY2ssIHR5cGUpIHsKICAgICAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0eXBlID0gJ2tleWRvd24nOwogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrZXkgaW4gX2tleXMpIHsKICAgICAgICAgIGlmIChfa2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICAgIF9leHBvcnRGdW5jdGlvbnMuYmluZChrZXksY2FsbGJhY2ssdHlwZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLy8gZ2V0IHRoZSBrZXkgbGFiZWwgZnJvbSBhbiBldmVudAogICAgICBfZXhwb3J0RnVuY3Rpb25zLmdldEtleSA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgZm9yICh2YXIga2V5IGluIF9rZXlzKSB7CiAgICAgICAgICBpZiAoX2tleXMuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgPT0gdHJ1ZSAmJiBfa2V5c1trZXldLnNoaWZ0ID09IHRydWUgJiYgZXZlbnQua2V5Q29kZSA9PSBfa2V5c1trZXldLmNvZGUpIHsKICAgICAgICAgICAgICByZXR1cm4ga2V5OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5ID09IGZhbHNlICYmIF9rZXlzW2tleV0uc2hpZnQgPT0gZmFsc2UgJiYgZXZlbnQua2V5Q29kZSA9PSBfa2V5c1trZXldLmNvZGUpIHsKICAgICAgICAgICAgICByZXR1cm4ga2V5OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX2tleXNba2V5XS5jb2RlICYmIGtleSA9PSAnc2hpZnQnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGtleTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gInVua25vd24ga2V5LCBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCI7CiAgICAgIH07CgogICAgICAvLyB1bmJpbmQgZWl0aGVyIGEgc3BlY2lmaWMgY2FsbGJhY2sgZnJvbSBhIGtleSBvciBhbGwgb2YgdGhlbSAoYnkgbGVhdmluZyBjYWxsYmFjayB1bmRlZmluZWQpCiAgICAgIF9leHBvcnRGdW5jdGlvbnMudW5iaW5kID0gZnVuY3Rpb24oa2V5LCBjYWxsYmFjaywgdHlwZSkgewogICAgICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHR5cGUgPSAna2V5ZG93bic7CiAgICAgICAgfQogICAgICAgIGlmIChfa2V5c1trZXldID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigidW5zdXBwb3J0ZWQga2V5OiAiICsga2V5KTsKICAgICAgICB9CiAgICAgICAgaWYgKGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBuZXdCaW5kaW5ncyA9IFtdOwogICAgICAgICAgdmFyIGJvdW5kID0gX2JvdW5kW3R5cGVdW19rZXlzW2tleV0uY29kZV07CiAgICAgICAgICBpZiAoYm91bmQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgaWYgKCEoYm91bmRbaV0uZm4gPT0gY2FsbGJhY2sgJiYgYm91bmRbaV0uc2hpZnQgPT0gX2tleXNba2V5XS5zaGlmdCkpIHsKICAgICAgICAgICAgICAgIG5ld0JpbmRpbmdzLnB1c2goX2JvdW5kW3R5cGVdW19rZXlzW2tleV0uY29kZV1baV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgX2JvdW5kW3R5cGVdW19rZXlzW2tleV0uY29kZV0gPSBuZXdCaW5kaW5nczsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICBfYm91bmRbdHlwZV1bX2tleXNba2V5XS5jb2RlXSA9IFtdOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8vIHJlc2V0IGFsbCBib3VuZCB2YXJpYWJsZXMuCiAgICAgIF9leHBvcnRGdW5jdGlvbnMucmVzZXQgPSBmdW5jdGlvbigpIHsKICAgICAgICBfYm91bmQgPSB7a2V5ZG93bjp7fSwga2V5dXA6e319OwogICAgICB9OwoKICAgICAgLy8gdW5iaW5kIGFsbCBsaXN0ZW5lcnMgYW5kIHJlc2V0IGFsbCB2YXJpYWJsZXMuCiAgICAgIF9leHBvcnRGdW5jdGlvbnMuZGVzdHJveSA9IGZ1bmN0aW9uKCkgewogICAgICAgIF9ib3VuZCA9IHtrZXlkb3duOnt9LCBrZXl1cDp7fX07CiAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkb3duLCB0cnVlKTsKICAgICAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB1cCwgdHJ1ZSk7CiAgICAgIH07CgogICAgICAvLyBjcmVhdGUgbGlzdGVuZXJzLgogICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsZG93bix0cnVlKTsKICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyx1cCx0cnVlKTsKCiAgICAgIC8vIHJldHVybiB0aGUgcHVibGljIGZ1bmN0aW9ucy4KICAgICAgcmV0dXJuIF9leHBvcnRGdW5jdGlvbnM7CiAgICB9CgogICAgcmV0dXJuIGtleWNoYXJtOwogIH0pKTsKCgoKCi8qKiovIH0sCi8qIDQ0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBIYW1tZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTsKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIENvbXBvbmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpOwogIHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOwogIHZhciBsb2NhbGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7CgogIC8qKgogICAqIEEgY3VzdG9tIHRpbWUgYmFyCiAgICogQHBhcmFtIHt7cmFuZ2U6IFJhbmdlLCBkb206IE9iamVjdH19IGJvZHkKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBBdmFpbGFibGUgcGFyYW1ldGVyczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyIHwgc3RyaW5nfSBpZAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IGxvY2FsZXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RyaW5nfSBsb2NhbGUKICAgKiBAY29uc3RydWN0b3IgQ3VzdG9tVGltZQogICAqIEBleHRlbmRzIENvbXBvbmVudAogICAqLwoKICBmdW5jdGlvbiBDdXN0b21UaW1lKGJvZHksIG9wdGlvbnMpIHsKICAgIHRoaXMuYm9keSA9IGJvZHk7CgogICAgLy8gZGVmYXVsdCBvcHRpb25zCiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICBsb2NhbGVzOiBsb2NhbGVzLAogICAgICBsb2NhbGU6ICdlbicsCiAgICAgIGlkOiB1bmRlZmluZWQKICAgIH07CiAgICB0aGlzLm9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CgogICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50aW1lKSB7CiAgICAgIHRoaXMuY3VzdG9tVGltZSA9IG9wdGlvbnMudGltZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY3VzdG9tVGltZSA9IG5ldyBEYXRlKCk7CiAgICB9CgogICAgdGhpcy5ldmVudFBhcmFtcyA9IHt9OyAvLyBzdG9yZXMgc3RhdGUgcGFyYW1ldGVycyB3aGlsZSBkcmFnZ2luZyB0aGUgYmFyCgogICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwoKICAgIC8vIGNyZWF0ZSB0aGUgRE9NCiAgICB0aGlzLl9jcmVhdGUoKTsKICB9CgogIEN1c3RvbVRpbWUucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpOwoKICAvKioKICAgKiBTZXQgb3B0aW9ucyBmb3IgdGhlIGNvbXBvbmVudC4gT3B0aW9ucyB3aWxsIGJlIG1lcmdlZCBpbiBjdXJyZW50IG9wdGlvbnMuCiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgIEF2YWlsYWJsZSBwYXJhbWV0ZXJzOgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtudW1iZXIgfCBzdHJpbmd9IGlkCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0cmluZ30gbG9jYWxlcwogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IGxvY2FsZQogICAqLwogIEN1c3RvbVRpbWUucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgaWYgKG9wdGlvbnMpIHsKICAgICAgLy8gY29weSBhbGwgb3B0aW9ucyB0aGF0IHdlIGtub3cKICAgICAgdXRpbC5zZWxlY3RpdmVFeHRlbmQoWydsb2NhbGUnLCAnbG9jYWxlcycsICdpZCddLCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOwogICAgfQogIH07CgogIC8qKgogICAqIENyZWF0ZSB0aGUgRE9NIGZvciB0aGUgY3VzdG9tIHRpbWUKICAgKiBAcHJpdmF0ZQogICAqLwogIEN1c3RvbVRpbWUucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBiYXJbJ2N1c3RvbS10aW1lJ10gPSB0aGlzOwogICAgYmFyLmNsYXNzTmFtZSA9ICd2aXMtY3VzdG9tLXRpbWUgJyArICh0aGlzLm9wdGlvbnMuaWQgfHwgJycpOwogICAgYmFyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgIGJhci5zdHlsZS50b3AgPSAnMHB4JzsKICAgIGJhci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7CiAgICB0aGlzLmJhciA9IGJhcjsKCiAgICB2YXIgZHJhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZHJhZy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICBkcmFnLnN0eWxlLnRvcCA9ICcwcHgnOwogICAgZHJhZy5zdHlsZS5sZWZ0ID0gJy0xMHB4JzsKICAgIGRyYWcuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnOwogICAgZHJhZy5zdHlsZS53aWR0aCA9ICcyMHB4JzsKICAgIGJhci5hcHBlbmRDaGlsZChkcmFnKTsKCiAgICAvLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzCiAgICB0aGlzLmhhbW1lciA9IG5ldyBIYW1tZXIoZHJhZyk7CiAgICB0aGlzLmhhbW1lci5vbigncGFuc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydC5iaW5kKHRoaXMpKTsKICAgIHRoaXMuaGFtbWVyLm9uKCdwYW5tb3ZlJywgdGhpcy5fb25EcmFnLmJpbmQodGhpcykpOwogICAgdGhpcy5oYW1tZXIub24oJ3BhbmVuZCcsIHRoaXMuX29uRHJhZ0VuZC5iaW5kKHRoaXMpKTsKICAgIC8vIFRPRE86IGNsZWFudXAKICAgIC8vdGhpcy5oYW1tZXIub24oJ3BhbicsICAgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAvLyAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIC8vfSk7CiAgfTsKCiAgLyoqCiAgICogRGVzdHJveSB0aGUgQ3VzdG9tVGltZSBiYXIKICAgKi8KICBDdXN0b21UaW1lLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5oaWRlKCk7CgogICAgdGhpcy5oYW1tZXIuZGVzdHJveSgpOwogICAgdGhpcy5oYW1tZXIgPSBudWxsOwoKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgY29tcG9uZW50CiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgcmVzaXplZAogICAqLwogIEN1c3RvbVRpbWUucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBwYXJlbnQgPSB0aGlzLmJvZHkuZG9tLmJhY2tncm91bmRWZXJ0aWNhbDsKICAgIGlmICh0aGlzLmJhci5wYXJlbnROb2RlICE9IHBhcmVudCkgewogICAgICAvLyBhdHRhY2ggdG8gdGhlIGRvbQogICAgICBpZiAodGhpcy5iYXIucGFyZW50Tm9kZSkgewogICAgICAgIHRoaXMuYmFyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5iYXIpOwogICAgICB9CiAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmJhcik7CiAgICB9CgogICAgdmFyIHggPSB0aGlzLmJvZHkudXRpbC50b1NjcmVlbih0aGlzLmN1c3RvbVRpbWUpOwoKICAgIHZhciBsb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTsKICAgIGlmICghbG9jYWxlKSB7CiAgICAgIGlmICghdGhpcy53YXJuZWQpIHsKICAgICAgICBjb25zb2xlLmxvZygnV0FSTklORzogb3B0aW9ucy5sb2NhbGVzW1wnJyArIHRoaXMub3B0aW9ucy5sb2NhbGUgKyAnXCddIG5vdCBmb3VuZC4gU2VlIGh0dHA6Ly92aXNqcy5vcmcvZG9jcy90aW1lbGluZS5odG1sI0xvY2FsaXphdGlvbicpOwogICAgICAgIHRoaXMud2FybmVkID0gdHJ1ZTsKICAgICAgfQogICAgICBsb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlc1snZW4nXTsgLy8gZmFsbCBiYWNrIG9uIGVuZ2xpc2ggd2hlbiBub3QgYXZhaWxhYmxlCiAgICB9CiAgICB2YXIgdGl0bGUgPSBsb2NhbGUudGltZSArICc6ICcgKyBtb21lbnQodGhpcy5jdXN0b21UaW1lKS5mb3JtYXQoJ2RkZGQsIE1NTU0gRG8gWVlZWSwgSDptbTpzcycpOwogICAgdGl0bGUgPSB0aXRsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRpdGxlLnN1YnN0cmluZygxKTsKCiAgICB0aGlzLmJhci5zdHlsZS5sZWZ0ID0geCArICdweCc7CiAgICB0aGlzLmJhci50aXRsZSA9IHRpdGxlOwoKICAgIHJldHVybiBmYWxzZTsKICB9OwoKICAvKioKICAgKiBSZW1vdmUgdGhlIEN1c3RvbVRpbWUgZnJvbSB0aGUgRE9NCiAgICovCiAgQ3VzdG9tVGltZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIHJlbW92ZSB0aGUgbGluZSBmcm9tIHRoZSBET00KICAgIGlmICh0aGlzLmJhci5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuYmFyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5iYXIpOwogICAgfQogIH07CgogIC8qKgogICAqIFNldCBjdXN0b20gdGltZS4KICAgKiBAcGFyYW0ge0RhdGUgfCBudW1iZXIgfCBzdHJpbmd9IHRpbWUKICAgKi8KICBDdXN0b21UaW1lLnByb3RvdHlwZS5zZXRDdXN0b21UaW1lID0gZnVuY3Rpb24gKHRpbWUpIHsKICAgIHRoaXMuY3VzdG9tVGltZSA9IHV0aWwuY29udmVydCh0aW1lLCAnRGF0ZScpOwogICAgdGhpcy5yZWRyYXcoKTsKICB9OwoKICAvKioKICAgKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBjdXN0b20gdGltZS4KICAgKiBAcmV0dXJuIHtEYXRlfSBjdXN0b21UaW1lCiAgICovCiAgQ3VzdG9tVGltZS5wcm90b3R5cGUuZ2V0Q3VzdG9tVGltZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLmN1c3RvbVRpbWUudmFsdWVPZigpKTsKICB9OwoKICAvKioKICAgKiBTdGFydCBtb3ZpbmcgaG9yaXpvbnRhbGx5CiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIEN1c3RvbVRpbWUucHJvdG90eXBlLl9vbkRyYWdTdGFydCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgdGhpcy5ldmVudFBhcmFtcy5kcmFnZ2luZyA9IHRydWU7CiAgICB0aGlzLmV2ZW50UGFyYW1zLmN1c3RvbVRpbWUgPSB0aGlzLmN1c3RvbVRpbWU7CgogICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgfTsKCiAgLyoqCiAgICogUGVyZm9ybSBtb3Zpbmcgb3BlcmF0aW5nLgogICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICogQHByaXZhdGUKICAgKi8KICBDdXN0b21UaW1lLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIXRoaXMuZXZlbnRQYXJhbXMuZHJhZ2dpbmcpIHJldHVybjsKCiAgICB2YXIgeCA9IHRoaXMuYm9keS51dGlsLnRvU2NyZWVuKHRoaXMuZXZlbnRQYXJhbXMuY3VzdG9tVGltZSkgKyBldmVudC5kZWx0YVg7CiAgICB2YXIgdGltZSA9IHRoaXMuYm9keS51dGlsLnRvVGltZSh4KTsKCiAgICB0aGlzLnNldEN1c3RvbVRpbWUodGltZSk7CgogICAgLy8gZmlyZSBhIHRpbWVjaGFuZ2UgZXZlbnQKICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3RpbWVjaGFuZ2UnLCB7CiAgICAgIGlkOiB0aGlzLm9wdGlvbnMuaWQsCiAgICAgIHRpbWU6IG5ldyBEYXRlKHRoaXMuY3VzdG9tVGltZS52YWx1ZU9mKCkpCiAgICB9KTsKCiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICB9OwoKICAvKioKICAgKiBTdG9wIG1vdmluZyBvcGVyYXRpbmcuCiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcHJpdmF0ZQogICAqLwogIEN1c3RvbVRpbWUucHJvdG90eXBlLl9vbkRyYWdFbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmICghdGhpcy5ldmVudFBhcmFtcy5kcmFnZ2luZykgcmV0dXJuOwoKICAgIC8vIGZpcmUgYSB0aW1lY2hhbmdlZCBldmVudAogICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgndGltZWNoYW5nZWQnLCB7CiAgICAgIGlkOiB0aGlzLm9wdGlvbnMuaWQsCiAgICAgIHRpbWU6IG5ldyBEYXRlKHRoaXMuY3VzdG9tVGltZS52YWx1ZU9mKCkpCiAgICB9KTsKCiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICB9OwoKICAvKioKICAgKiBGaW5kIGEgY3VzdG9tIHRpbWUgZnJvbSBhbiBldmVudCB0YXJnZXQ6CiAgICogc2VhcmNoZXMgZm9yIHRoZSBhdHRyaWJ1dGUgJ2N1c3RvbS10aW1lJyBpbiB0aGUgZXZlbnQgdGFyZ2V0J3MgZWxlbWVudCB0cmVlCiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQKICAgKiBAcmV0dXJuIHtDdXN0b21UaW1lIHwgbnVsbH0gY3VzdG9tVGltZQogICAqLwogIEN1c3RvbVRpbWUuY3VzdG9tVGltZUZyb21UYXJnZXQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7CiAgICB3aGlsZSAodGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoJ2N1c3RvbS10aW1lJykpIHsKICAgICAgICByZXR1cm4gdGFyZ2V0WydjdXN0b20tdGltZSddOwogICAgICB9CiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gQ3VzdG9tVGltZTsKCi8qKiovIH0sCi8qIDQ1ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIHZhciBfQ29sb3JQaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTsKCiAgdmFyIF9Db2xvclBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2xvclBpY2tlcik7CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgLyoqCiAgICogVGhlIHdheSB0aGlzIHdvcmtzIGlzIGZvciBhbGwgcHJvcGVydGllcyBvZiB0aGlzLnBvc3NpYmxlIG9wdGlvbnMsIHlvdSBjYW4gc3VwcGx5IHRoZSBwcm9wZXJ0eSBuYW1lIGluIGFueSBmb3JtIHRvIGxpc3QgdGhlIG9wdGlvbnMuCiAgICogQm9vbGVhbiBvcHRpb25zIGFyZSByZWNvZ25pc2VkIGFzIEJvb2xlYW4KICAgKiBOdW1iZXIgb3B0aW9ucyBzaG91bGQgYmUgd3JpdHRlbiBhcyBhcnJheTogW2RlZmF1bHQgdmFsdWUsIG1pbiB2YWx1ZSwgbWF4IHZhbHVlLCBzdGVwc2l6ZV0KICAgKiBDb2xvcnMgc2hvdWxkIGJlIHdyaXR0ZW4gYXMgYXJyYXk6IFsnY29sb3InLCAnI2ZmZmZmZiddCiAgICogU3RyaW5ncyB3aXRoIHNob3VsZCBiZSB3cml0dGVuIGFzIGFycmF5OiBbb3B0aW9uMSwgb3B0aW9uMiwgb3B0aW9uMywgLi5dCiAgICoKICAgKiBUaGUgb3B0aW9ucyBhcmUgbWF0Y2hlZCB3aXRoIHRoZWlyIGNvdW50ZXJwYXJ0cyBpbiBlYWNoIG9mIHRoZSBtb2R1bGVzIGFuZCB0aGUgdmFsdWVzIHVzZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24gYXJlCiAgICoKICAgKiBAcGFyYW0gcGFyZW50TW9kdWxlICAgICAgICB8IHRoZSBsb2NhdGlvbiB3aGVyZSBwYXJlbnRNb2R1bGUuc2V0T3B0aW9ucygpIGNhbiBiZSBjYWxsZWQKICAgKiBAcGFyYW0gZGVmYXVsdENvbnRhaW5lciAgICB8IHRoZSBkZWZhdWx0IGNvbnRhaW5lciBvZiB0aGUgbW9kdWxlCiAgICogQHBhcmFtIGNvbmZpZ3VyZU9wdGlvbnMgICAgfCB0aGUgZnVsbHkgY29uZmlndXJlZCBhbmQgcHJlZGVmaW5lZCBvcHRpb25zIHNldCBmb3VuZCBpbiBhbGxPcHRpb25zLmpzCiAgICogQHBhcmFtIHBpeGVsUmF0aW8gICAgICAgICAgfCBjYW52YXMgcGl4ZWwgcmF0aW8KICAgKi8KCiAgdmFyIENvbmZpZ3VyYXRvciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBDb25maWd1cmF0b3IocGFyZW50TW9kdWxlLCBkZWZhdWx0Q29udGFpbmVyLCBjb25maWd1cmVPcHRpb25zKSB7CiAgICAgIHZhciBwaXhlbFJhdGlvID0gYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzNdOwoKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpZ3VyYXRvcik7CgogICAgICB0aGlzLnBhcmVudCA9IHBhcmVudE1vZHVsZTsKICAgICAgdGhpcy5jaGFuZ2VkT3B0aW9ucyA9IFtdOwogICAgICB0aGlzLmNvbnRhaW5lciA9IGRlZmF1bHRDb250YWluZXI7CiAgICAgIHRoaXMuYWxsb3dDcmVhdGlvbiA9IGZhbHNlOwoKICAgICAgdGhpcy5vcHRpb25zID0ge307CiAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgZmlsdGVyOiB0cnVlLAogICAgICAgIGNvbnRhaW5lcjogdW5kZWZpbmVkLAogICAgICAgIHNob3dCdXR0b246IHRydWUKICAgICAgfTsKICAgICAgdXRpbC5leHRlbmQodGhpcy5vcHRpb25zLCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKCiAgICAgIHRoaXMuY29uZmlndXJlT3B0aW9ucyA9IGNvbmZpZ3VyZU9wdGlvbnM7CiAgICAgIHRoaXMubW9kdWxlT3B0aW9ucyA9IHt9OwogICAgICB0aGlzLmRvbUVsZW1lbnRzID0gW107CiAgICAgIHRoaXMuY29sb3JQaWNrZXIgPSBuZXcgX0NvbG9yUGlja2VyMlsnZGVmYXVsdCddKHBpeGVsUmF0aW8pOwogICAgICB0aGlzLndyYXBwZXIgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKENvbmZpZ3VyYXRvciwgW3sKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCgogICAgICAvKioKICAgICAgICogcmVmcmVzaCBhbGwgb3B0aW9ucy4KICAgICAgICogQmVjYXVzZSBhbGwgbW9kdWxlcyBwYXJzZSB0aGVpciBvcHRpb25zIGJ5IHRoZW1zZWx2ZXMsIHdlIGp1c3QgdXNlIHRoZWlyIG9wdGlvbnMuIFdlIGNvcHkgdGhlbSBoZXJlLgogICAgICAgKgogICAgICAgKiBAcGFyYW0gb3B0aW9ucwogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBlbmFibGVkID0gdHJ1ZTsKICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZpbHRlciA9IG9wdGlvbnM7CiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmlsdGVyID0gb3B0aW9ucy5qb2luKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JykgewogICAgICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAob3B0aW9ucy5maWx0ZXIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5maWx0ZXIgPSBvcHRpb25zLmZpbHRlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93QnV0dG9uICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2hvd0J1dHRvbiA9IG9wdGlvbnMuc2hvd0J1dHRvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAob3B0aW9ucy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBlbmFibGVkID0gb3B0aW9ucy5lbmFibGVkOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZpbHRlciA9IHRydWU7CiAgICAgICAgICAgIGVuYWJsZWQgPSBvcHRpb25zOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmlsdGVyID0gb3B0aW9uczsKICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpbHRlciA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMub3B0aW9ucy5lbmFibGVkID0gZW5hYmxlZDsKICAgICAgICB9CiAgICAgICAgdGhpcy5fY2xlYW4oKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXRNb2R1bGVPcHRpb25zJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1vZHVsZU9wdGlvbnMobW9kdWxlT3B0aW9ucykgewogICAgICAgIHRoaXMubW9kdWxlT3B0aW9ucyA9IG1vZHVsZU9wdGlvbnM7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLl9jbGVhbigpOwogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb250YWluZXIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMub3B0aW9ucy5jb250YWluZXI7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLl9jcmVhdGUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2NyZWF0ZScsCgogICAgICAvKioKICAgICAgICogQ3JlYXRlIGFsbCBET00gZWxlbWVudHMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuX2NsZWFuKCk7CiAgICAgICAgdGhpcy5jaGFuZ2VkT3B0aW9ucyA9IFtdOwoKICAgICAgICB2YXIgZmlsdGVyID0gdGhpcy5vcHRpb25zLmZpbHRlcjsKICAgICAgICB2YXIgY291bnRlciA9IDA7CiAgICAgICAgdmFyIHNob3cgPSBmYWxzZTsKICAgICAgICBmb3IgKHZhciBvcHRpb24gaW4gdGhpcy5jb25maWd1cmVPcHRpb25zKSB7CiAgICAgICAgICBpZiAodGhpcy5jb25maWd1cmVPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHsKICAgICAgICAgICAgdGhpcy5hbGxvd0NyZWF0aW9uID0gZmFsc2U7CiAgICAgICAgICAgIHNob3cgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICBzaG93ID0gZmlsdGVyKG9wdGlvbiwgW10pOwogICAgICAgICAgICAgIHNob3cgPSBzaG93IHx8IHRoaXMuX2hhbmRsZU9iamVjdCh0aGlzLmNvbmZpZ3VyZU9wdGlvbnNbb3B0aW9uXSwgW29wdGlvbl0sIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlciA9PT0gdHJ1ZSB8fCBmaWx0ZXIuaW5kZXhPZihvcHRpb24pICE9PSAtMSkgewogICAgICAgICAgICAgIHNob3cgPSB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc2hvdyAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICB0aGlzLmFsbG93Q3JlYXRpb24gPSB0cnVlOwoKICAgICAgICAgICAgICAvLyBsaW5lYnJlYWsgYmV0d2VlbiBjYXRlZ29yaWVzCiAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgPiAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9tYWtlSXRlbShbXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIGEgaGVhZGVyIGZvciB0aGUgY2F0ZWdvcnkKICAgICAgICAgICAgICB0aGlzLl9tYWtlSGVhZGVyKG9wdGlvbik7CgogICAgICAgICAgICAgIC8vIGdldCB0aGUgc3Vib3B0aW9ucwogICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU9iamVjdCh0aGlzLmNvbmZpZ3VyZU9wdGlvbnNbb3B0aW9uXSwgW29wdGlvbl0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvdW50ZXIrKzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0J1dHRvbiA9PT0gdHJ1ZSkgewogICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGdlbmVyYXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGdlbmVyYXRlQnV0dG9uLmNsYXNzTmFtZSA9ICd2aXMtbmV0d29yay1jb25maWd1cmF0aW9uIGJ1dHRvbic7CiAgICAgICAgICAgIGdlbmVyYXRlQnV0dG9uLmlubmVySFRNTCA9ICdnZW5lcmF0ZSBvcHRpb25zJzsKICAgICAgICAgICAgZ2VuZXJhdGVCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy5fcHJpbnRPcHRpb25zKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGdlbmVyYXRlQnV0dG9uLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGdlbmVyYXRlQnV0dG9uLmNsYXNzTmFtZSA9ICd2aXMtbmV0d29yay1jb25maWd1cmF0aW9uIGJ1dHRvbiBob3Zlcic7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGdlbmVyYXRlQnV0dG9uLm9ubW91c2VvdXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZ2VuZXJhdGVCdXR0b24uY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24gYnV0dG9uJzsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIF90aGlzLm9wdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgX3RoaXMub3B0aW9uc0NvbnRhaW5lci5jbGFzc05hbWUgPSAndmlzLW5ldHdvcmstY29uZmlndXJhdGlvbiB2aXMtb3B0aW9uLWNvbnRhaW5lcic7CgogICAgICAgICAgICBfdGhpcy5kb21FbGVtZW50cy5wdXNoKF90aGlzLm9wdGlvbnNDb250YWluZXIpOwogICAgICAgICAgICBfdGhpcy5kb21FbGVtZW50cy5wdXNoKGdlbmVyYXRlQnV0dG9uKTsKICAgICAgICAgIH0pKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wdXNoKCk7CiAgICAgICAgdGhpcy5jb2xvclBpY2tlci5pbnNlcnRUbyh0aGlzLmNvbnRhaW5lcik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3B1c2gnLAoKICAgICAgLyoqCiAgICAgICAqIGRyYXcgYWxsIERPTSBlbGVtZW50cyBvbiB0aGUgc2NyZWVuCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3B1c2goKSB7CiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTmFtZSA9ICd2aXMtbmV0d29yay1jb25maWd1cmF0aW9uLXdyYXBwZXInOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMud3JhcHBlcik7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRvbUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jbGVhbicsCgogICAgICAvKioKICAgICAgICogZGVsZXRlIGFsbCBET00gZWxlbWVudHMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2xlYW4oKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRvbUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLndyYXBwZXIucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50c1tpXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy53cmFwcGVyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMud3JhcHBlcik7CiAgICAgICAgICB0aGlzLndyYXBwZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHRoaXMuZG9tRWxlbWVudHMgPSBbXTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZ2V0VmFsdWUnLAoKICAgICAgLyoqCiAgICAgICAqIGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgYWN0dWFsT3B0aW9ucyBpZiBpdCBleGlzdHMKICAgICAgICogQHBhcmFtIHthcnJheX0gcGF0aCAgICB8IHdoZXJlIHRvIGxvb2sgZm9yIHRoZSBhY3R1YWwgb3B0aW9uCiAgICAgICAqIEByZXR1cm5zIHsqfQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRWYWx1ZShwYXRoKSB7CiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLm1vZHVsZU9wdGlvbnM7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoYmFzZVtwYXRoW2ldXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGJhc2UgPSBiYXNlW3BhdGhbaV1dOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYmFzZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBiYXNlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19tYWtlSXRlbScsCgogICAgICAvKioKICAgICAgICogYWxsIG9wdGlvbiBlbGVtZW50cyBhcmUgd3JhcHBlZCBpbiBhbiBpdGVtCiAgICAgICAqIEBwYXJhbSBwYXRoCiAgICAgICAqIEBwYXJhbSBkb21FbGVtZW50cwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tYWtlSXRlbShwYXRoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkb21FbGVtZW50cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgIGRvbUVsZW1lbnRzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmFsbG93Q3JlYXRpb24gPT09IHRydWUpIHsKICAgICAgICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24gaXRlbSBzJyArIHBhdGgubGVuZ3RoOwogICAgICAgICAgICBkb21FbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF90aGlzMi5kb21FbGVtZW50cy5wdXNoKGl0ZW0pOwogICAgICAgICAgfSkoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX21ha2VIZWFkZXInLAoKICAgICAgLyoqCiAgICAgICAqIGhlYWRlciBmb3IgbWFqb3Igc3ViamVjdHMKICAgICAgICogQHBhcmFtIG5hbWUKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFrZUhlYWRlcihuYW1lKSB7CiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGRpdi5jbGFzc05hbWUgPSAndmlzLW5ldHdvcmstY29uZmlndXJhdGlvbiBoZWFkZXInOwogICAgICAgIGRpdi5pbm5lckhUTUwgPSBuYW1lOwogICAgICAgIHRoaXMuX21ha2VJdGVtKFtdLCBkaXYpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19tYWtlTGFiZWwnLAoKICAgICAgLyoqCiAgICAgICAqIG1ha2UgYSBsYWJlbCwgaWYgaXQgaXMgYW4gb2JqZWN0IGxhYmVsLCBpdCBnZXRzIGRpZmZlcmVudCBzdHlsaW5nLgogICAgICAgKiBAcGFyYW0gbmFtZQogICAgICAgKiBAcGFyYW0gcGF0aAogICAgICAgKiBAcGFyYW0gb2JqZWN0TGFiZWwKICAgICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tYWtlTGFiZWwobmFtZSwgcGF0aCkgewogICAgICAgIHZhciBvYmplY3RMYWJlbCA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMl07CgogICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24gbGFiZWwgcycgKyBwYXRoLmxlbmd0aDsKICAgICAgICBpZiAob2JqZWN0TGFiZWwgPT09IHRydWUpIHsKICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnPGk+PGI+JyArIG5hbWUgKyAnOjwvYj48L2k+JzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGl2LmlubmVySFRNTCA9IG5hbWUgKyAnOic7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkaXY7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX21ha2VEcm9wZG93bicsCgogICAgICAvKioKICAgICAgICogbWFrZSBhIGRyb3Bkb3duIGxpc3QgZm9yIG11bHRpcGxlIHBvc3NpYmxlIHN0cmluZyBvcHRvaW5zCiAgICAgICAqIEBwYXJhbSBhcnIKICAgICAgICogQHBhcmFtIHZhbHVlCiAgICAgICAqIEBwYXJhbSBwYXRoCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX21ha2VEcm9wZG93bihhcnIsIHZhbHVlLCBwYXRoKSB7CiAgICAgICAgdmFyIHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgIHNlbGVjdC5jbGFzc05hbWUgPSAndmlzLW5ldHdvcmstY29uZmlndXJhdGlvbiBzZWxlY3QnOwogICAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0gMDsKICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKGFyci5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHsKICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IGFyci5pbmRleE9mKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICBvcHRpb24udmFsdWUgPSBhcnJbaV07CiAgICAgICAgICBpZiAoaSA9PT0gc2VsZWN0ZWRWYWx1ZSkgewogICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSAnc2VsZWN0ZWQnOwogICAgICAgICAgfQogICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IGFycltpXTsKICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOwogICAgICAgIH0KCiAgICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgICBzZWxlY3Qub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBtZS5fdXBkYXRlKHRoaXMudmFsdWUsIHBhdGgpOwogICAgICAgIH07CgogICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX21ha2VMYWJlbChwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIHBhdGgpOwogICAgICAgIHRoaXMuX21ha2VJdGVtKHBhdGgsIGxhYmVsLCBzZWxlY3QpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19tYWtlUmFuZ2UnLAoKICAgICAgLyoqCiAgICAgICAqIG1ha2UgYSByYW5nZSBvYmplY3QgZm9yIG51bWVyaWMgb3B0aW9ucwogICAgICAgKiBAcGFyYW0gYXJyCiAgICAgICAqIEBwYXJhbSB2YWx1ZQogICAgICAgKiBAcGFyYW0gcGF0aAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tYWtlUmFuZ2UoYXJyLCB2YWx1ZSwgcGF0aCkgewogICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBhcnJbMF07CiAgICAgICAgdmFyIG1pbiA9IGFyclsxXTsKICAgICAgICB2YXIgbWF4ID0gYXJyWzJdOwogICAgICAgIHZhciBzdGVwID0gYXJyWzNdOwogICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgcmFuZ2UuY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24gcmFuZ2UnOwogICAgICAgIHRyeSB7CiAgICAgICAgICByYW5nZS50eXBlID0gJ3JhbmdlJzsgLy8gbm90IHN1cHBvcnRlZCBvbiBJRTkKICAgICAgICAgIHJhbmdlLm1pbiA9IG1pbjsKICAgICAgICAgIHJhbmdlLm1heCA9IG1heDsKICAgICAgICB9IGNhdGNoIChlcnIpIHt9CiAgICAgICAgcmFuZ2Uuc3RlcCA9IHN0ZXA7CgogICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAodmFsdWUgPCAwICYmIHZhbHVlICogMiA8IG1pbikgewogICAgICAgICAgICByYW5nZS5taW4gPSB2YWx1ZSAqIDI7CiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICogMC4xIDwgbWluKSB7CiAgICAgICAgICAgIHJhbmdlLm1pbiA9IHZhbHVlIC8gMTA7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodmFsdWUgKiAyID4gbWF4ICYmIG1heCAhPT0gMSkgewogICAgICAgICAgICByYW5nZS5tYXggPSB2YWx1ZSAqIDI7CiAgICAgICAgICB9CiAgICAgICAgICByYW5nZS52YWx1ZSA9IHZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByYW5nZS52YWx1ZSA9IGRlZmF1bHRWYWx1ZTsKICAgICAgICB9CgogICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgaW5wdXQuY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24gcmFuZ2VpbnB1dCc7CiAgICAgICAgaW5wdXQudmFsdWUgPSByYW5nZS52YWx1ZTsKCiAgICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgICByYW5nZS5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlucHV0LnZhbHVlID0gdGhpcy52YWx1ZTttZS5fdXBkYXRlKE51bWJlcih0aGlzLnZhbHVlKSwgcGF0aCk7CiAgICAgICAgfTsKICAgICAgICByYW5nZS5vbmlucHV0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaW5wdXQudmFsdWUgPSB0aGlzLnZhbHVlOwogICAgICAgIH07CgogICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX21ha2VMYWJlbChwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIHBhdGgpOwogICAgICAgIHRoaXMuX21ha2VJdGVtKHBhdGgsIGxhYmVsLCByYW5nZSwgaW5wdXQpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19tYWtlQ2hlY2tib3gnLAoKICAgICAgLyoqCiAgICAgICAqIG1ha2UgYSBjaGVja2JveCBmb3IgYm9vbGVhbiBvcHRpb25zLgogICAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlCiAgICAgICAqIEBwYXJhbSB2YWx1ZQogICAgICAgKiBAcGFyYW0gcGF0aAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tYWtlQ2hlY2tib3goZGVmYXVsdFZhbHVlLCB2YWx1ZSwgcGF0aCkgewogICAgICAgIHZhciBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7CiAgICAgICAgY2hlY2tib3guY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24gY2hlY2tib3gnOwogICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBkZWZhdWx0VmFsdWU7CiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB2YWx1ZTsKICAgICAgICAgIGlmICh2YWx1ZSAhPT0gZGVmYXVsdFZhbHVlKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gZGVmYXVsdFZhbHVlLmVuYWJsZWQpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZE9wdGlvbnMucHVzaCh7IHBhdGg6IHBhdGgsIHZhbHVlOiB2YWx1ZSB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHsgcGF0aDogcGF0aCwgdmFsdWU6IHZhbHVlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgbWUgPSB0aGlzOwogICAgICAgIGNoZWNrYm94Lm9uY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgbWUuX3VwZGF0ZSh0aGlzLmNoZWNrZWQsIHBhdGgpOwogICAgICAgIH07CgogICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX21ha2VMYWJlbChwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIHBhdGgpOwogICAgICAgIHRoaXMuX21ha2VJdGVtKHBhdGgsIGxhYmVsLCBjaGVja2JveCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX21ha2VUZXh0SW5wdXQnLAoKICAgICAgLyoqCiAgICAgICAqIG1ha2UgYSB0ZXh0IGlucHV0IGZpZWxkIGZvciBzdHJpbmcgb3B0aW9ucy4KICAgICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZQogICAgICAgKiBAcGFyYW0gdmFsdWUKICAgICAgICogQHBhcmFtIHBhdGgKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFrZVRleHRJbnB1dChkZWZhdWx0VmFsdWUsIHZhbHVlLCBwYXRoKSB7CiAgICAgICAgdmFyIGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgICBjaGVja2JveC50eXBlID0gJ3RleHQnOwogICAgICAgIGNoZWNrYm94LmNsYXNzTmFtZSA9ICd2aXMtbmV0d29yay1jb25maWd1cmF0aW9uIHRleHQnOwogICAgICAgIGNoZWNrYm94LnZhbHVlID0gdmFsdWU7CiAgICAgICAgaWYgKHZhbHVlICE9PSBkZWZhdWx0VmFsdWUpIHsKICAgICAgICAgIHRoaXMuY2hhbmdlZE9wdGlvbnMucHVzaCh7IHBhdGg6IHBhdGgsIHZhbHVlOiB2YWx1ZSB9KTsKICAgICAgICB9CgogICAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBtZS5fdXBkYXRlKHRoaXMudmFsdWUsIHBhdGgpOwogICAgICAgIH07CgogICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX21ha2VMYWJlbChwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIHBhdGgpOwogICAgICAgIHRoaXMuX21ha2VJdGVtKHBhdGgsIGxhYmVsLCBjaGVja2JveCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX21ha2VDb2xvckZpZWxkJywKCiAgICAgIC8qKgogICAgICAgKiBtYWtlIGEgY29sb3IgZmllbGQgd2l0aCBhIGNvbG9yIHBpY2tlciBmb3IgY29sb3IgZmllbGRzCiAgICAgICAqIEBwYXJhbSBhcnIKICAgICAgICogQHBhcmFtIHZhbHVlCiAgICAgICAqIEBwYXJhbSBwYXRoCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX21ha2VDb2xvckZpZWxkKGFyciwgdmFsdWUsIHBhdGgpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIGRlZmF1bHRDb2xvciA9IGFyclsxXTsKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdENvbG9yIDogdmFsdWU7CgogICAgICAgIGlmICh2YWx1ZSAhPT0gJ25vbmUnKSB7CiAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLWNvbmZpZ3VyYXRpb24gY29sb3JCbG9jayc7CiAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdmFsdWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAndmlzLW5ldHdvcmstY29uZmlndXJhdGlvbiBjb2xvckJsb2NrIG5vbmUnOwogICAgICAgIH0KCiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdENvbG9yIDogdmFsdWU7CiAgICAgICAgZGl2Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMuX3Nob3dDb2xvclBpY2tlcih2YWx1ZSwgZGl2LCBwYXRoKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLl9tYWtlTGFiZWwocGF0aFtwYXRoLmxlbmd0aCAtIDFdLCBwYXRoKTsKICAgICAgICB0aGlzLl9tYWtlSXRlbShwYXRoLCBsYWJlbCwgZGl2KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfc2hvd0NvbG9yUGlja2VyJywKCiAgICAgIC8qKgogICAgICAgKiB1c2VkIGJ5IHRoZSBjb2xvciBidXR0b25zIHRvIGNhbGwgdGhlIGNvbG9yIHBpY2tlci4KICAgICAgICogQHBhcmFtIGV2ZW50CiAgICAgICAqIEBwYXJhbSB2YWx1ZQogICAgICAgKiBAcGFyYW0gZGl2CiAgICAgICAqIEBwYXJhbSBwYXRoCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3Nob3dDb2xvclBpY2tlcih2YWx1ZSwgZGl2LCBwYXRoKSB7CiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAgIHZhciByZWN0ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHZhciBib2R5UmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIHBpY2tlclggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoICsgNTsKICAgICAgICB2YXIgcGlja2VyWSA9IHJlY3QudG9wIC0gYm9keVJlY3QudG9wICsgcmVjdC5oZWlnaHQgKiAwLjU7CiAgICAgICAgdGhpcy5jb2xvclBpY2tlci5zaG93KHBpY2tlclgsIHBpY2tlclkpOwogICAgICAgIHRoaXMuY29sb3JQaWNrZXIuc2V0Q29sb3IodmFsdWUpOwogICAgICAgIHRoaXMuY29sb3JQaWNrZXIuc2V0Q2FsbGJhY2soZnVuY3Rpb24gKGNvbG9yKSB7CiAgICAgICAgICB2YXIgY29sb3JTdHJpbmcgPSAncmdiYSgnICsgY29sb3IuciArICcsJyArIGNvbG9yLmcgKyAnLCcgKyBjb2xvci5iICsgJywnICsgY29sb3IuYSArICcpJzsKICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclN0cmluZzsKICAgICAgICAgIF90aGlzNC5fdXBkYXRlKGNvbG9yU3RyaW5nLCBwYXRoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfaGFuZGxlT2JqZWN0JywKCiAgICAgIC8qKgogICAgICAgKiBwYXJzZSBhbiBvYmplY3QgYW5kIGRyYXcgdGhlIGNvcnJlY3QgaXRlbXMKICAgICAgICogQHBhcmFtIG9iagogICAgICAgKiBAcGFyYW0gcGF0aAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVPYmplY3Qob2JqKSB7CiAgICAgICAgdmFyIHBhdGggPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdOwogICAgICAgIHZhciBjaGVja09ubHkgPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzJdOwoKICAgICAgICB2YXIgc2hvdyA9IGZhbHNlOwogICAgICAgIHZhciBmaWx0ZXIgPSB0aGlzLm9wdGlvbnMuZmlsdGVyOwogICAgICAgIHZhciB2aXNpYmxlSW5TZXQgPSBmYWxzZTsKICAgICAgICBmb3IgKHZhciBzdWJPYmogaW4gb2JqKSB7CiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHN1Yk9iaikpIHsKICAgICAgICAgICAgc2hvdyA9IHRydWU7CiAgICAgICAgICAgIHZhciBpdGVtID0gb2JqW3N1Yk9ial07CiAgICAgICAgICAgIHZhciBuZXdQYXRoID0gdXRpbC5jb3B5QW5kRXh0ZW5kQXJyYXkocGF0aCwgc3ViT2JqKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICBzaG93ID0gZmlsdGVyKHN1Yk9iaiwgcGF0aCk7CgogICAgICAgICAgICAgIC8vIGlmIG5lZWRlZCB3ZSBtdXN0IGdvIGRlZXBlciBpbnRvIHRoZSBvYmplY3QuCiAgICAgICAgICAgICAgaWYgKHNob3cgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgQXJyYXkpICYmIHR5cGVvZiBpdGVtICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgaXRlbSAhPT0gJ2Jvb2xlYW4nICYmIGl0ZW0gaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd0NyZWF0aW9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHNob3cgPSB0aGlzLl9oYW5kbGVPYmplY3QoaXRlbSwgbmV3UGF0aCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dDcmVhdGlvbiA9IGNoZWNrT25seSA9PT0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc2hvdyAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICB2aXNpYmxlSW5TZXQgPSB0cnVlOwogICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX2dldFZhbHVlKG5ld1BhdGgpOwoKICAgICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVBcnJheShpdGVtLCB2YWx1ZSwgbmV3UGF0aCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgIHRoaXMuX21ha2VUZXh0SW5wdXQoaXRlbSwgdmFsdWUsIG5ld1BhdGgpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdib29sZWFuJykgewogICAgICAgICAgICAgICAgdGhpcy5fbWFrZUNoZWNrYm94KGl0ZW0sIHZhbHVlLCBuZXdQYXRoKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0gaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgICAgIC8vIGNvbGxhcHNlIHRoZSBwaHlzaWNzIG9wdGlvbnMgdGhhdCBhcmUgbm90IGVuYWJsZWQKICAgICAgICAgICAgICAgIHZhciBkcmF3ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGlmIChwYXRoLmluZGV4T2YoJ3BoeXNpY3MnKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kdWxlT3B0aW9ucy5waHlzaWNzLnNvbHZlciAhPT0gc3ViT2JqKSB7CiAgICAgICAgICAgICAgICAgICAgZHJhdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGRyYXcgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbGx5IGNvbGxhcHNlIG9wdGlvbnMgd2l0aCBhbiBkaXNhYmxlZCBlbmFibGVkIG9wdGlvbi4KICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVuYWJsZWRQYXRoID0gdXRpbC5jb3B5QW5kRXh0ZW5kQXJyYXkobmV3UGF0aCwgJ2VuYWJsZWQnKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZW5hYmxlZFZhbHVlID0gdGhpcy5fZ2V0VmFsdWUoZW5hYmxlZFBhdGgpOwogICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGVkVmFsdWUgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX21ha2VMYWJlbChzdWJPYmosIG5ld1BhdGgsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFrZUl0ZW0obmV3UGF0aCwgbGFiZWwpOwogICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUluU2V0ID0gdGhpcy5faGFuZGxlT2JqZWN0KGl0ZW0sIG5ld1BhdGgpIHx8IHZpc2libGVJblNldDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFrZUNoZWNrYm94KGl0ZW0sIGVuYWJsZWRWYWx1ZSwgbmV3UGF0aCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX21ha2VMYWJlbChzdWJPYmosIG5ld1BhdGgsIHRydWUpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuX21ha2VJdGVtKG5ld1BhdGgsIGxhYmVsKTsKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlSW5TZXQgPSB0aGlzLl9oYW5kbGVPYmplY3QoaXRlbSwgbmV3UGF0aCkgfHwgdmlzaWJsZUluU2V0OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2RvbnQga25vdyBob3cgdG8gaGFuZGxlJywgaXRlbSwgc3ViT2JqLCBuZXdQYXRoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZpc2libGVJblNldDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfaGFuZGxlQXJyYXknLAoKICAgICAgLyoqCiAgICAgICAqIGhhbmRsZSB0aGUgYXJyYXkgdHlwZSBvZiBvcHRpb24KICAgICAgICogQHBhcmFtIG9wdGlvbk5hbWUKICAgICAgICogQHBhcmFtIGFycgogICAgICAgKiBAcGFyYW0gdmFsdWUKICAgICAgICogQHBhcmFtIHBhdGgKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQXJyYXkoYXJyLCB2YWx1ZSwgcGF0aCkgewogICAgICAgIGlmICh0eXBlb2YgYXJyWzBdID09PSAnc3RyaW5nJyAmJiBhcnJbMF0gPT09ICdjb2xvcicpIHsKICAgICAgICAgIHRoaXMuX21ha2VDb2xvckZpZWxkKGFyciwgdmFsdWUsIHBhdGgpOwogICAgICAgICAgaWYgKGFyclsxXSAhPT0gdmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHsgcGF0aDogcGF0aCwgdmFsdWU6IHZhbHVlIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyclswXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRoaXMuX21ha2VEcm9wZG93bihhcnIsIHZhbHVlLCBwYXRoKTsKICAgICAgICAgIGlmIChhcnJbMF0gIT09IHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuY2hhbmdlZE9wdGlvbnMucHVzaCh7IHBhdGg6IHBhdGgsIHZhbHVlOiB2YWx1ZSB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcnJbMF0gPT09ICdudW1iZXInKSB7CiAgICAgICAgICB0aGlzLl9tYWtlUmFuZ2UoYXJyLCB2YWx1ZSwgcGF0aCk7CiAgICAgICAgICBpZiAoYXJyWzBdICE9PSB2YWx1ZSkgewogICAgICAgICAgICB0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goeyBwYXRoOiBwYXRoLCB2YWx1ZTogTnVtYmVyKHZhbHVlKSB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3VwZGF0ZScsCgogICAgICAvKioKICAgICAgICogY2FsbGVkIHRvIHVwZGF0ZSB0aGUgbmV0d29yayB3aXRoIHRoZSBuZXcgc2V0dGluZ3MuCiAgICAgICAqIEBwYXJhbSB2YWx1ZQogICAgICAgKiBAcGFyYW0gcGF0aAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUodmFsdWUsIHBhdGgpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX2NvbnN0cnVjdE9wdGlvbnModmFsdWUsIHBhdGgpOwogICAgICAgIHRoaXMucGFyZW50LnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2NvbnN0cnVjdE9wdGlvbnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NvbnN0cnVjdE9wdGlvbnModmFsdWUsIHBhdGgpIHsKICAgICAgICB2YXIgb3B0aW9uc09iaiA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07CgogICAgICAgIHZhciBwb2ludGVyID0gb3B0aW9uc09iajsKCiAgICAgICAgLy8gd2hlbiBkcm9wZG93biBib3hlcyBjYW4gYmUgc3RyaW5nIG9yIGJvb2xlYW4sIHdlIHR5cGVjYXN0IGl0IGludG8gY29ycmVjdCB0eXBlcwogICAgICAgIHZhbHVlID0gdmFsdWUgPT09ICd0cnVlJyA/IHRydWUgOiB2YWx1ZTsKICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSAnZmFsc2UnID8gZmFsc2UgOiB2YWx1ZTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAocGF0aFtpXSAhPT0gJ2dsb2JhbCcpIHsKICAgICAgICAgICAgaWYgKHBvaW50ZXJbcGF0aFtpXV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHBvaW50ZXJbcGF0aFtpXV0gPSB7fTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaSAhPT0gcGF0aC5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgcG9pbnRlciA9IHBvaW50ZXJbcGF0aFtpXV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcG9pbnRlcltwYXRoW2ldXSA9IHZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBvcHRpb25zT2JqOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19wcmludE9wdGlvbnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX3ByaW50T3B0aW9ucygpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IHt9OwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFuZ2VkT3B0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5fY29uc3RydWN0T3B0aW9ucyh0aGlzLmNoYW5nZWRPcHRpb25zW2ldLnZhbHVlLCB0aGlzLmNoYW5nZWRPcHRpb25zW2ldLnBhdGgsIG9wdGlvbnMpOwogICAgICAgIH0KICAgICAgICB0aGlzLm9wdGlvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJzxwcmU+dmFyIG9wdGlvbnMgPSAnICsgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgbnVsbCwgMikgKyAnPC9wcmU+JzsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBDb25maWd1cmF0b3I7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gQ29uZmlndXJhdG9yOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNDYgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIHZhciBIYW1tZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTsKICB2YXIgaGFtbWVyVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpOwogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgdmFyIENvbG9yUGlja2VyID0gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIENvbG9yUGlja2VyKCkgewogICAgICB2YXIgcGl4ZWxSYXRpbyA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1swXTsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xvclBpY2tlcik7CgogICAgICB0aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvOwogICAgICB0aGlzLmdlbmVyYXRlZCA9IGZhbHNlOwogICAgICB0aGlzLmNlbnRlckNvb3JkaW5hdGVzID0geyB4OiAyODkgLyAyLCB5OiAyODkgLyAyIH07CiAgICAgIHRoaXMuciA9IDI4OSAqIDAuNDk7CiAgICAgIHRoaXMuY29sb3IgPSB7IHI6IDI1NSwgZzogMjU1LCBiOiAyNTUsIGE6IDEgfTsKICAgICAgdGhpcy5odWVDaXJjbGUgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMuaW5pdGlhbENvbG9yID0geyByOiAyNTUsIGc6IDI1NSwgYjogMjU1LCBhOiAxIH07CiAgICAgIHRoaXMucHJldmlvdXNDb2xvciA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5hcHBsaWVkID0gZmFsc2U7CgogICAgICAvLyBib3VuZCBieQogICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge307CgogICAgICAvLyBjcmVhdGUgYWxsIERPTSBlbGVtZW50cwogICAgICB0aGlzLl9jcmVhdGUoKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoQ29sb3JQaWNrZXIsIFt7CiAgICAgIGtleTogJ2luc2VydFRvJywKCiAgICAgIC8qKgogICAgICAgKiB0aGlzIGluc2VydHMgdGhlIGNvbG9yUGlja2VyIGludG8gYSBkaXYgZnJvbSB0aGUgRE9NCiAgICAgICAqIEBwYXJhbSBjb250YWluZXIKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbnNlcnRUbyhjb250YWluZXIpIHsKICAgICAgICBpZiAodGhpcy5oYW1tZXIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5oYW1tZXIuZGVzdHJveSgpOwogICAgICAgICAgdGhpcy5oYW1tZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpOwogICAgICAgIHRoaXMuX2JpbmRIYW1tZXIoKTsKCiAgICAgICAgdGhpcy5fc2V0U2l6ZSgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3NldENhbGxiYWNrJywKCiAgICAgIC8qKgogICAgICAgKiB0aGUgY2FsbGJhY2sgaXMgZXhlY3V0ZWQgb24gYXBwbHkgYW5kIHNhdmUuIEJpbmQgaXQgdG8gdGhlIGFwcGxpY2F0aW9uCiAgICAgICAqIEBwYXJhbSBjYWxsYmFjawogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldENhbGxiYWNrKGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGF0dGVtcHRlZCB0byBzZXQgYXMgY29sb3JQaWNrZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19pc0NvbG9yU3RyaW5nJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0NvbG9yU3RyaW5nKGNvbG9yKSB7CiAgICAgICAgdmFyIGh0bWxDb2xvcnMgPSB7IGJsYWNrOiAnIzAwMDAwMCcsIG5hdnk6ICcjMDAwMDgwJywgZGFya2JsdWU6ICcjMDAwMDhCJywgbWVkaXVtYmx1ZTogJyMwMDAwQ0QnLCBibHVlOiAnIzAwMDBGRicsIGRhcmtncmVlbjogJyMwMDY0MDAnLCBncmVlbjogJyMwMDgwMDAnLCB0ZWFsOiAnIzAwODA4MCcsIGRhcmtjeWFuOiAnIzAwOEI4QicsIGRlZXBza3libHVlOiAnIzAwQkZGRicsIGRhcmt0dXJxdW9pc2U6ICcjMDBDRUQxJywgbWVkaXVtc3ByaW5nZ3JlZW46ICcjMDBGQTlBJywgbGltZTogJyMwMEZGMDAnLCBzcHJpbmdncmVlbjogJyMwMEZGN0YnLCBhcXVhOiAnIzAwRkZGRicsIGN5YW46ICcjMDBGRkZGJywgbWlkbmlnaHRibHVlOiAnIzE5MTk3MCcsIGRvZGdlcmJsdWU6ICcjMUU5MEZGJywgbGlnaHRzZWFncmVlbjogJyMyMEIyQUEnLCBmb3Jlc3RncmVlbjogJyMyMjhCMjInLCBzZWFncmVlbjogJyMyRThCNTcnLCBkYXJrc2xhdGVncmF5OiAnIzJGNEY0RicsIGxpbWVncmVlbjogJyMzMkNEMzInLCBtZWRpdW1zZWFncmVlbjogJyMzQ0IzNzEnLCB0dXJxdW9pc2U6ICcjNDBFMEQwJywgcm95YWxibHVlOiAnIzQxNjlFMScsIHN0ZWVsYmx1ZTogJyM0NjgyQjQnLCBkYXJrc2xhdGVibHVlOiAnIzQ4M0Q4QicsIG1lZGl1bXR1cnF1b2lzZTogJyM0OEQxQ0MnLCBpbmRpZ286ICcjNEIwMDgyJywgZGFya29saXZlZ3JlZW46ICcjNTU2QjJGJywgY2FkZXRibHVlOiAnIzVGOUVBMCcsIGNvcm5mbG93ZXJibHVlOiAnIzY0OTVFRCcsIG1lZGl1bWFxdWFtYXJpbmU6ICcjNjZDREFBJywgZGltZ3JheTogJyM2OTY5NjknLCBzbGF0ZWJsdWU6ICcjNkE1QUNEJywgb2xpdmVkcmFiOiAnIzZCOEUyMycsIHNsYXRlZ3JheTogJyM3MDgwOTAnLCBsaWdodHNsYXRlZ3JheTogJyM3Nzg4OTknLCBtZWRpdW1zbGF0ZWJsdWU6ICcjN0I2OEVFJywgbGF3bmdyZWVuOiAnIzdDRkMwMCcsIGNoYXJ0cmV1c2U6ICcjN0ZGRjAwJywgYXF1YW1hcmluZTogJyM3RkZGRDQnLCBtYXJvb246ICcjODAwMDAwJywgcHVycGxlOiAnIzgwMDA4MCcsIG9saXZlOiAnIzgwODAwMCcsIGdyYXk6ICcjODA4MDgwJywgc2t5Ymx1ZTogJyM4N0NFRUInLCBsaWdodHNreWJsdWU6ICcjODdDRUZBJywgYmx1ZXZpb2xldDogJyM4QTJCRTInLCBkYXJrcmVkOiAnIzhCMDAwMCcsIGRhcmttYWdlbnRhOiAnIzhCMDA4QicsIHNhZGRsZWJyb3duOiAnIzhCNDUxMycsIGRhcmtzZWFncmVlbjogJyM4RkJDOEYnLCBsaWdodGdyZWVuOiAnIzkwRUU5MCcsIG1lZGl1bXB1cnBsZTogJyM5MzcwRDgnLCBkYXJrdmlvbGV0OiAnIzk0MDBEMycsIHBhbGVncmVlbjogJyM5OEZCOTgnLCBkYXJrb3JjaGlkOiAnIzk5MzJDQycsIHllbGxvd2dyZWVuOiAnIzlBQ0QzMicsIHNpZW5uYTogJyNBMDUyMkQnLCBicm93bjogJyNBNTJBMkEnLCBkYXJrZ3JheTogJyNBOUE5QTknLCBsaWdodGJsdWU6ICcjQUREOEU2JywgZ3JlZW55ZWxsb3c6ICcjQURGRjJGJywgcGFsZXR1cnF1b2lzZTogJyNBRkVFRUUnLCBsaWdodHN0ZWVsYmx1ZTogJyNCMEM0REUnLCBwb3dkZXJibHVlOiAnI0IwRTBFNicsIGZpcmVicmljazogJyNCMjIyMjInLCBkYXJrZ29sZGVucm9kOiAnI0I4ODYwQicsIG1lZGl1bW9yY2hpZDogJyNCQTU1RDMnLCByb3N5YnJvd246ICcjQkM4RjhGJywgZGFya2toYWtpOiAnI0JEQjc2QicsIHNpbHZlcjogJyNDMEMwQzAnLCBtZWRpdW12aW9sZXRyZWQ6ICcjQzcxNTg1JywgaW5kaWFucmVkOiAnI0NENUM1QycsIHBlcnU6ICcjQ0Q4NTNGJywgY2hvY29sYXRlOiAnI0QyNjkxRScsIHRhbjogJyNEMkI0OEMnLCBsaWdodGdyZXk6ICcjRDNEM0QzJywgcGFsZXZpb2xldHJlZDogJyNEODcwOTMnLCB0aGlzdGxlOiAnI0Q4QkZEOCcsIG9yY2hpZDogJyNEQTcwRDYnLCBnb2xkZW5yb2Q6ICcjREFBNTIwJywgY3JpbXNvbjogJyNEQzE0M0MnLCBnYWluc2Jvcm86ICcjRENEQ0RDJywgcGx1bTogJyNEREEwREQnLCBidXJseXdvb2Q6ICcjREVCODg3JywgbGlnaHRjeWFuOiAnI0UwRkZGRicsIGxhdmVuZGVyOiAnI0U2RTZGQScsIGRhcmtzYWxtb246ICcjRTk5NjdBJywgdmlvbGV0OiAnI0VFODJFRScsIHBhbGVnb2xkZW5yb2Q6ICcjRUVFOEFBJywgbGlnaHRjb3JhbDogJyNGMDgwODAnLCBraGFraTogJyNGMEU2OEMnLCBhbGljZWJsdWU6ICcjRjBGOEZGJywgaG9uZXlkZXc6ICcjRjBGRkYwJywgYXp1cmU6ICcjRjBGRkZGJywgc2FuZHlicm93bjogJyNGNEE0NjAnLCB3aGVhdDogJyNGNURFQjMnLCBiZWlnZTogJyNGNUY1REMnLCB3aGl0ZXNtb2tlOiAnI0Y1RjVGNScsIG1pbnRjcmVhbTogJyNGNUZGRkEnLCBnaG9zdHdoaXRlOiAnI0Y4RjhGRicsIHNhbG1vbjogJyNGQTgwNzInLCBhbnRpcXVld2hpdGU6ICcjRkFFQkQ3JywgbGluZW46ICcjRkFGMEU2JywgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6ICcjRkFGQUQyJywgb2xkbGFjZTogJyNGREY1RTYnLCByZWQ6ICcjRkYwMDAwJywgZnVjaHNpYTogJyNGRjAwRkYnLCBtYWdlbnRhOiAnI0ZGMDBGRicsIGRlZXBwaW5rOiAnI0ZGMTQ5MycsIG9yYW5nZXJlZDogJyNGRjQ1MDAnLCB0b21hdG86ICcjRkY2MzQ3JywgaG90cGluazogJyNGRjY5QjQnLCBjb3JhbDogJyNGRjdGNTAnLCBkYXJrb3JhbmdlOiAnI0ZGOEMwMCcsIGxpZ2h0c2FsbW9uOiAnI0ZGQTA3QScsIG9yYW5nZTogJyNGRkE1MDAnLCBsaWdodHBpbms6ICcjRkZCNkMxJywgcGluazogJyNGRkMwQ0InLCBnb2xkOiAnI0ZGRDcwMCcsIHBlYWNocHVmZjogJyNGRkRBQjknLCBuYXZham93aGl0ZTogJyNGRkRFQUQnLCBtb2NjYXNpbjogJyNGRkU0QjUnLCBiaXNxdWU6ICcjRkZFNEM0JywgbWlzdHlyb3NlOiAnI0ZGRTRFMScsIGJsYW5jaGVkYWxtb25kOiAnI0ZGRUJDRCcsIHBhcGF5YXdoaXA6ICcjRkZFRkQ1JywgbGF2ZW5kZXJibHVzaDogJyNGRkYwRjUnLCBzZWFzaGVsbDogJyNGRkY1RUUnLCBjb3Juc2lsazogJyNGRkY4REMnLCBsZW1vbmNoaWZmb246ICcjRkZGQUNEJywgZmxvcmFsd2hpdGU6ICcjRkZGQUYwJywgc25vdzogJyNGRkZBRkEnLCB5ZWxsb3c6ICcjRkZGRjAwJywgbGlnaHR5ZWxsb3c6ICcjRkZGRkUwJywgaXZvcnk6ICcjRkZGRkYwJywgd2hpdGU6ICcjRkZGRkZGJyB9OwogICAgICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICByZXR1cm4gaHRtbENvbG9yc1tjb2xvcl07CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3NldENvbG9yJywKCiAgICAgIC8qKgogICAgICAgKiBTZXQgdGhlIGNvbG9yIG9mIHRoZSBjb2xvclBpY2tlcgogICAgICAgKiBTdXBwb3J0ZWQgZm9ybWF0czoKICAgICAgICogJ3JlZCcgICAgICAgICAgICAgICAgICAgLS0+IEhUTUwgY29sb3Igc3RyaW5nCiAgICAgICAqICcjZmZmZmZmJyAgICAgICAgICAgICAgIC0tPiBoZXggc3RyaW5nCiAgICAgICAqICdyYmcoMjU1LDI1NSwyNTUpJyAgICAgIC0tPiByZ2Igc3RyaW5nCiAgICAgICAqICdyZ2JhKDI1NSwyNTUsMjU1LDEuMCknIC0tPiByZ2JhIHN0cmluZwogICAgICAgKiB7cjoyNTUsZzoyNTUsYjoyNTV9ICAgICAtLT4gcmdiIG9iamVjdAogICAgICAgKiB7cjoyNTUsZzoyNTUsYjoyNTUsYToxLjB9IC0tPiByZ2JhIG9iamVjdAogICAgICAgKiBAcGFyYW0gY29sb3IKICAgICAgICogQHBhcmFtIHNldEluaXRpYWwKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb2xvcihjb2xvcikgewogICAgICAgIHZhciBzZXRJbml0aWFsID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzFdOwoKICAgICAgICBpZiAoY29sb3IgPT09ICdub25lJykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJnYmEgPSB1bmRlZmluZWQ7CgogICAgICAgIC8vIGlmIGEgaHRtbCBjb2xvciBzaG9ydGhhbmQgaXMgdXNlZCwgY29udmVydCB0byBoZXgKICAgICAgICB2YXIgaHRtbENvbG9yID0gdGhpcy5faXNDb2xvclN0cmluZyhjb2xvcik7CiAgICAgICAgaWYgKGh0bWxDb2xvciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjb2xvciA9IGh0bWxDb2xvcjsKICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIGZvcm1hdAogICAgICAgIGlmICh1dGlsLmlzU3RyaW5nKGNvbG9yKSA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHV0aWwuaXNWYWxpZFJHQihjb2xvcikgPT09IHRydWUpIHsKICAgICAgICAgICAgdmFyIHJnYmFBcnJheSA9IGNvbG9yLnN1YnN0cig0KS5zdWJzdHIoMCwgY29sb3IubGVuZ3RoIC0gNSkuc3BsaXQoJywnKTsKICAgICAgICAgICAgcmdiYSA9IHsgcjogcmdiYUFycmF5WzBdLCBnOiByZ2JhQXJyYXlbMV0sIGI6IHJnYmFBcnJheVsyXSwgYTogMSB9OwogICAgICAgICAgfSBlbHNlIGlmICh1dGlsLmlzVmFsaWRSR0JBKGNvbG9yKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICB2YXIgcmdiYUFycmF5ID0gY29sb3Iuc3Vic3RyKDUpLnN1YnN0cigwLCBjb2xvci5sZW5ndGggLSA2KS5zcGxpdCgnLCcpOwogICAgICAgICAgICByZ2JhID0geyByOiByZ2JhQXJyYXlbMF0sIGc6IHJnYmFBcnJheVsxXSwgYjogcmdiYUFycmF5WzJdLCBhOiByZ2JhQXJyYXlbM10gfTsKICAgICAgICAgIH0gZWxzZSBpZiAodXRpbC5pc1ZhbGlkSGV4KGNvbG9yKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICB2YXIgcmdiT2JqID0gdXRpbC5oZXhUb1JHQihjb2xvcik7CiAgICAgICAgICAgIHJnYmEgPSB7IHI6IHJnYk9iai5yLCBnOiByZ2JPYmouZywgYjogcmdiT2JqLmIsIGE6IDEgfTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgICAgICAgIGlmIChjb2xvci5yICE9PSB1bmRlZmluZWQgJiYgY29sb3IuZyAhPT0gdW5kZWZpbmVkICYmIGNvbG9yLmIgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHZhciBhbHBoYSA9IGNvbG9yLmEgIT09IHVuZGVmaW5lZCA/IGNvbG9yLmEgOiAnMS4wJzsKICAgICAgICAgICAgICByZ2JhID0geyByOiBjb2xvci5yLCBnOiBjb2xvci5nLCBiOiBjb2xvci5iLCBhOiBhbHBoYSB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBzZXQgY29sb3IKICAgICAgICBpZiAocmdiYSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gY29sb3IgcGFzc2VkIHRvIHRoZSBjb2xvclBpY2tlci4gU3VwcG9ydGVkIGFyZSBzdHJpbmdzOiByZ2IsIGhleCwgcmdiYS4gT2JqZWN0OiByZ2IgKHtyOnIsZzpnLGI6YixbYTphXX0pLiBTdXBwbGllZDogJyArIEpTT04uc3RyaW5naWZ5KGNvbG9yKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuX3NldENvbG9yKHJnYmEsIHNldEluaXRpYWwpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzaG93JywKCiAgICAgIC8qKgogICAgICAgKiB0aGlzIHNob3dzIHRoZSBjb2xvciBwaWNrZXIgYXQgYSBsb2NhdGlvbi4gVGhlIGh1ZSBjaXJjbGUgaXMgY29uc3RydWN0ZWQgb25jZSBhbmQgc3RvcmVkLgogICAgICAgKiBAcGFyYW0geAogICAgICAgKiBAcGFyYW0geQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coeCwgeSkgewogICAgICAgIHRoaXMuYXBwbGllZCA9IGZhbHNlOwogICAgICAgIHRoaXMuZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS50b3AgPSB5ICsgJ3B4JzsKICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JzsKICAgICAgICB0aGlzLl9nZW5lcmF0ZUh1ZUNpcmNsZSgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19oaWRlJywKCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQUklWQVRFIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgogICAgICAvKioKICAgICAgICogSGlkZSB0aGUgcGlja2VyLiBJcyBjYWxsZWQgYnkgdGhlIGNhbmNlbCBidXR0b24uCiAgICAgICAqIE9wdGlvbmFsIGJvb2xlYW4gdG8gc3RvcmUgdGhlIHByZXZpb3VzIGNvbG9yIGZvciBlYXN5IGFjY2VzcyBsYXRlciBvbi4KICAgICAgICogQHBhcmFtIHN0b3JlUHJldmlvdXMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGlkZSgpIHsKICAgICAgICB2YXIgc3RvcmVQcmV2aW91cyA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1swXTsKCiAgICAgICAgLy8gc3RvcmUgdGhlIHByZXZpb3VzIGNvbG9yIGZvciBuZXh0IHRpbWU7CiAgICAgICAgaWYgKHN0b3JlUHJldmlvdXMgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMucHJldmlvdXNDb2xvciA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLmNvbG9yKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmFwcGxpZWQgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2sodGhpcy5pbml0aWFsQ29sb3IpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19zYXZlJywKCiAgICAgIC8qKgogICAgICAgKiBib3VuZCB0byB0aGUgc2F2ZSBidXR0b24uIFNhdmVzIGFuZCBoaWRlcy4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2F2ZSgpIHsKICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrKHRoaXMuY29sb3IpOwogICAgICAgIHRoaXMuYXBwbGllZCA9IGZhbHNlOwogICAgICAgIHRoaXMuX2hpZGUoKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfYXBwbHknLAoKICAgICAgLyoqCiAgICAgICAqIEJvdW5kIHRvIGFwcGx5IGJ1dHRvbi4gU2F2ZXMgYnV0IGRvZXMgbm90IGNsb3NlLiBJcyB1bmRvbmUgYnkgdGhlIGNhbmNlbCBidXR0b24uCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5KCkgewogICAgICAgIHRoaXMuYXBwbGllZCA9IHRydWU7CiAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFjayh0aGlzLmNvbG9yKTsKICAgICAgICB0aGlzLl91cGRhdGVQaWNrZXIodGhpcy5jb2xvcik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2xvYWRMYXN0JywKCiAgICAgIC8qKgogICAgICAgKiBsb2FkIHRoZSBjb2xvciBmcm9tIHRoZSBwcmV2aW91cyBzZXNzaW9uLgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2FkTGFzdCgpIHsKICAgICAgICBpZiAodGhpcy5wcmV2aW91c0NvbG9yICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuc2V0Q29sb3IodGhpcy5wcmV2aW91c0NvbG9yLCBmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCdUaGVyZSBpcyBubyBsYXN0IGNvbG9yIHRvIGxvYWQuLi4nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3NldENvbG9yJywKCiAgICAgIC8qKgogICAgICAgKiBzZXQgdGhlIGNvbG9yLCBwbGFjZSB0aGUgcGlja2VyCiAgICAgICAqIEBwYXJhbSByZ2JhCiAgICAgICAqIEBwYXJhbSBzZXRJbml0aWFsCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldENvbG9yKHJnYmEpIHsKICAgICAgICB2YXIgc2V0SW5pdGlhbCA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTsKCiAgICAgICAgLy8gc3RvcmUgdGhlIGluaXRpYWwgY29sb3IKICAgICAgICBpZiAoc2V0SW5pdGlhbCA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5pbml0aWFsQ29sb3IgPSB1dGlsLmV4dGVuZCh7fSwgcmdiYSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNvbG9yID0gcmdiYTsKICAgICAgICB2YXIgaHN2ID0gdXRpbC5SR0JUb0hTVihyZ2JhLnIsIHJnYmEuZywgcmdiYS5iKTsKCiAgICAgICAgdmFyIGFuZ2xlQ29udmVydCA9IDIgKiBNYXRoLlBJOwogICAgICAgIHZhciByYWRpdXMgPSB0aGlzLnIgKiBoc3YuczsKICAgICAgICB2YXIgeCA9IHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueCArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlQ29udmVydCAqIGhzdi5oKTsKICAgICAgICB2YXIgeSA9IHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueSArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlQ29udmVydCAqIGhzdi5oKTsKCiAgICAgICAgdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLnN0eWxlLmxlZnQgPSB4IC0gMC41ICogdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLmNsaWVudFdpZHRoICsgJ3B4JzsKICAgICAgICB0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3Iuc3R5bGUudG9wID0geSAtIDAuNSAqIHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5jbGllbnRIZWlnaHQgKyAncHgnOwoKICAgICAgICB0aGlzLl91cGRhdGVQaWNrZXIocmdiYSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3NldE9wYWNpdHknLAoKICAgICAgLyoqCiAgICAgICAqIGJvdW5kIHRvIG9wYWNpdHkgY29udHJvbAogICAgICAgKiBAcGFyYW0gdmFsdWUKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0T3BhY2l0eSh2YWx1ZSkgewogICAgICAgIHRoaXMuY29sb3IuYSA9IHZhbHVlIC8gMTAwOwogICAgICAgIHRoaXMuX3VwZGF0ZVBpY2tlcih0aGlzLmNvbG9yKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfc2V0QnJpZ2h0bmVzcycsCgogICAgICAvKioKICAgICAgICogYm91bmQgdG8gYnJpZ2h0bmVzcyBjb250cm9sCiAgICAgICAqIEBwYXJhbSB2YWx1ZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRCcmlnaHRuZXNzKHZhbHVlKSB7CiAgICAgICAgdmFyIGhzdiA9IHV0aWwuUkdCVG9IU1YodGhpcy5jb2xvci5yLCB0aGlzLmNvbG9yLmcsIHRoaXMuY29sb3IuYik7CiAgICAgICAgaHN2LnYgPSB2YWx1ZSAvIDEwMDsKICAgICAgICB2YXIgcmdiYSA9IHV0aWwuSFNWVG9SR0IoaHN2LmgsIGhzdi5zLCBoc3Yudik7CiAgICAgICAgcmdiYVsnYSddID0gdGhpcy5jb2xvci5hOwogICAgICAgIHRoaXMuY29sb3IgPSByZ2JhOwogICAgICAgIHRoaXMuX3VwZGF0ZVBpY2tlcigpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ191cGRhdGVQaWNrZXInLAoKICAgICAgLyoqCiAgICAgICAqIHVwZGF0ZSB0aGUgY29sb3JwaWNrZXIuIEEgYmxhY2sgY2lyY2xlIG92ZXJsYXlzIHRoZSBodWUgY2lyY2xlIHRvIG1pbWljIHRoZSBicmlnaHRuZXNzIGRlY3JlYXNpbmcuCiAgICAgICAqIEBwYXJhbSByZ2JhCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVBpY2tlcigpIHsKICAgICAgICB2YXIgcmdiYSA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jb2xvciA6IGFyZ3VtZW50c1swXTsKCiAgICAgICAgdmFyIGhzdiA9IHV0aWwuUkdCVG9IU1YocmdiYS5yLCByZ2JhLmcsIHJnYmEuYik7CiAgICAgICAgdmFyIGN0eCA9IHRoaXMuY29sb3JQaWNrZXJDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBpZiAodGhpcy5waXhlbFJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkgLyAoY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMSk7CiAgICAgICAgfQogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0odGhpcy5waXhlbFJhdGlvLCAwLCAwLCB0aGlzLnBpeGVsUmF0aW8sIDAsIDApOwoKICAgICAgICAvLyBjbGVhciB0aGUgY2FudmFzCiAgICAgICAgdmFyIHcgPSB0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmNsaWVudFdpZHRoOwogICAgICAgIHZhciBoID0gdGhpcy5jb2xvclBpY2tlckNhbnZhcy5jbGllbnRIZWlnaHQ7CiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTsKCiAgICAgICAgY3R4LnB1dEltYWdlRGF0YSh0aGlzLmh1ZUNpcmNsZSwgMCwgMCk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLCcgKyAoMSAtIGhzdi52KSArICcpJzsKICAgICAgICBjdHguY2lyY2xlKHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueCwgdGhpcy5jZW50ZXJDb29yZGluYXRlcy55LCB0aGlzLnIpOwogICAgICAgIGN0eC5maWxsKCk7CgogICAgICAgIHRoaXMuYnJpZ2h0bmVzc1JhbmdlLnZhbHVlID0gMTAwICogaHN2LnY7CiAgICAgICAgdGhpcy5vcGFjaXR5UmFuZ2UudmFsdWUgPSAxMDAgKiByZ2JhLmE7CgogICAgICAgIHRoaXMuaW5pdGlhbENvbG9yRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKCcgKyB0aGlzLmluaXRpYWxDb2xvci5yICsgJywnICsgdGhpcy5pbml0aWFsQ29sb3IuZyArICcsJyArIHRoaXMuaW5pdGlhbENvbG9yLmIgKyAnLCcgKyB0aGlzLmluaXRpYWxDb2xvci5hICsgJyknOwogICAgICAgIHRoaXMubmV3Q29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoJyArIHRoaXMuY29sb3IuciArICcsJyArIHRoaXMuY29sb3IuZyArICcsJyArIHRoaXMuY29sb3IuYiArICcsJyArIHRoaXMuY29sb3IuYSArICcpJzsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfc2V0U2l6ZScsCgogICAgICAvKioKICAgICAgICogdXNlZCBieSBjcmVhdGUgdG8gc2V0IHRoZSBzaXplIG9mIHRoZSBjYW52YXMuCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFNpemUoKSB7CiAgICAgICAgdGhpcy5jb2xvclBpY2tlckNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgICAgICB0aGlzLmNvbG9yUGlja2VyQ2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDAlJzsKCiAgICAgICAgdGhpcy5jb2xvclBpY2tlckNhbnZhcy53aWR0aCA9IDI4OSAqIHRoaXMucGl4ZWxSYXRpbzsKICAgICAgICB0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmhlaWdodCA9IDI4OSAqIHRoaXMucGl4ZWxSYXRpbzsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY3JlYXRlJywKCiAgICAgIC8qKgogICAgICAgKiBjcmVhdGUgYWxsIGRvbSBlbGVtZW50cwogICAgICAgKiBUT0RPOiBjbGVhbnVwLCBsb3RzIG9mIHNpbWlsYXIgZG9tIGVsZW1lbnRzCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZSgpIHsKICAgICAgICB0aGlzLmZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdGhpcy5mcmFtZS5jbGFzc05hbWUgPSAndmlzLWNvbG9yLXBpY2tlcic7CgogICAgICAgIHRoaXMuY29sb3JQaWNrZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xhc3NOYW1lID0gJ3Zpcy1zZWxlY3Rvcic7CiAgICAgICAgdGhpcy5jb2xvclBpY2tlckRpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IpOwoKICAgICAgICB0aGlzLmNvbG9yUGlja2VyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgdGhpcy5jb2xvclBpY2tlckRpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yUGlja2VyQ2FudmFzKTsKCiAgICAgICAgaWYgKCF0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmdldENvbnRleHQpIHsKICAgICAgICAgIHZhciBub0NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpOwogICAgICAgICAgbm9DYW52YXMuc3R5bGUuY29sb3IgPSAncmVkJzsKICAgICAgICAgIG5vQ2FudmFzLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7CiAgICAgICAgICBub0NhbnZhcy5zdHlsZS5wYWRkaW5nID0gJzEwcHgnOwogICAgICAgICAgbm9DYW52YXMuaW5uZXJIVE1MID0gJ0Vycm9yOiB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBIVE1MIGNhbnZhcyc7CiAgICAgICAgICB0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmFwcGVuZENoaWxkKG5vQ2FudmFzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGN0eCA9IHRoaXMuY29sb3JQaWNrZXJDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICAgIHRoaXMucGl4ZWxSYXRpbyA9ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSAvIChjdHgud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGN0eC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHguYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxKTsKCiAgICAgICAgICB0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmdldENvbnRleHQoJzJkJykuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywgMCwgMCwgdGhpcy5waXhlbFJhdGlvLCAwLCAwKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY29sb3JQaWNrZXJEaXYuY2xhc3NOYW1lID0gJ3Zpcy1jb2xvcic7CgogICAgICAgIHRoaXMub3BhY2l0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMub3BhY2l0eURpdi5jbGFzc05hbWUgPSAndmlzLW9wYWNpdHknOwoKICAgICAgICB0aGlzLmJyaWdodG5lc3NEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmJyaWdodG5lc3NEaXYuY2xhc3NOYW1lID0gJ3Zpcy1icmlnaHRuZXNzJzsKCiAgICAgICAgdGhpcy5hcnJvd0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMuYXJyb3dEaXYuY2xhc3NOYW1lID0gJ3Zpcy1hcnJvdyc7CgogICAgICAgIHRoaXMub3BhY2l0eVJhbmdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy5vcGFjaXR5UmFuZ2UudHlwZSA9ICdyYW5nZSc7IC8vIE5vdCBzdXBwb3J0ZWQgb24gSUU5CiAgICAgICAgICB0aGlzLm9wYWNpdHlSYW5nZS5taW4gPSAnMCc7CiAgICAgICAgICB0aGlzLm9wYWNpdHlSYW5nZS5tYXggPSAnMTAwJzsKICAgICAgICB9IGNhdGNoIChlcnIpIHt9CiAgICAgICAgdGhpcy5vcGFjaXR5UmFuZ2UudmFsdWUgPSAnMTAwJzsKICAgICAgICB0aGlzLm9wYWNpdHlSYW5nZS5jbGFzc05hbWUgPSAndmlzLXJhbmdlJzsKCiAgICAgICAgdGhpcy5icmlnaHRuZXNzUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgIHRyeSB7CiAgICAgICAgICB0aGlzLmJyaWdodG5lc3NSYW5nZS50eXBlID0gJ3JhbmdlJzsgLy8gTm90IHN1cHBvcnRlZCBvbiBJRTkKICAgICAgICAgIHRoaXMuYnJpZ2h0bmVzc1JhbmdlLm1pbiA9ICcwJzsKICAgICAgICAgIHRoaXMuYnJpZ2h0bmVzc1JhbmdlLm1heCA9ICcxMDAnOwogICAgICAgIH0gY2F0Y2ggKGVycikge30KICAgICAgICB0aGlzLmJyaWdodG5lc3NSYW5nZS52YWx1ZSA9ICcxMDAnOwogICAgICAgIHRoaXMuYnJpZ2h0bmVzc1JhbmdlLmNsYXNzTmFtZSA9ICd2aXMtcmFuZ2UnOwoKICAgICAgICB0aGlzLm9wYWNpdHlEaXYuYXBwZW5kQ2hpbGQodGhpcy5vcGFjaXR5UmFuZ2UpOwogICAgICAgIHRoaXMuYnJpZ2h0bmVzc0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJyaWdodG5lc3NSYW5nZSk7CgogICAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgICAgdGhpcy5vcGFjaXR5UmFuZ2Uub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBtZS5fc2V0T3BhY2l0eSh0aGlzLnZhbHVlKTsKICAgICAgICB9OwogICAgICAgIHRoaXMub3BhY2l0eVJhbmdlLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBtZS5fc2V0T3BhY2l0eSh0aGlzLnZhbHVlKTsKICAgICAgICB9OwogICAgICAgIHRoaXMuYnJpZ2h0bmVzc1JhbmdlLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgbWUuX3NldEJyaWdodG5lc3ModGhpcy52YWx1ZSk7CiAgICAgICAgfTsKICAgICAgICB0aGlzLmJyaWdodG5lc3NSYW5nZS5vbmlucHV0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgbWUuX3NldEJyaWdodG5lc3ModGhpcy52YWx1ZSk7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5icmlnaHRuZXNzTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmJyaWdodG5lc3NMYWJlbC5jbGFzc05hbWUgPSAndmlzLWxhYmVsIHZpcy1icmlnaHRuZXNzJzsKICAgICAgICB0aGlzLmJyaWdodG5lc3NMYWJlbC5pbm5lckhUTUwgPSAnYnJpZ2h0bmVzczonOwoKICAgICAgICB0aGlzLm9wYWNpdHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMub3BhY2l0eUxhYmVsLmNsYXNzTmFtZSA9ICd2aXMtbGFiZWwgdmlzLW9wYWNpdHknOwogICAgICAgIHRoaXMub3BhY2l0eUxhYmVsLmlubmVySFRNTCA9ICdvcGFjaXR5Oic7CgogICAgICAgIHRoaXMubmV3Q29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLm5ld0NvbG9yRGl2LmNsYXNzTmFtZSA9ICd2aXMtbmV3LWNvbG9yJzsKICAgICAgICB0aGlzLm5ld0NvbG9yRGl2LmlubmVySFRNTCA9ICduZXcnOwoKICAgICAgICB0aGlzLmluaXRpYWxDb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMuaW5pdGlhbENvbG9yRGl2LmNsYXNzTmFtZSA9ICd2aXMtaW5pdGlhbC1jb2xvcic7CiAgICAgICAgdGhpcy5pbml0aWFsQ29sb3JEaXYuaW5uZXJIVE1MID0gJ2luaXRpYWwnOwoKICAgICAgICB0aGlzLmNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMuY2FuY2VsQnV0dG9uLmNsYXNzTmFtZSA9ICd2aXMtYnV0dG9uIHZpcy1jYW5jZWwnOwogICAgICAgIHRoaXMuY2FuY2VsQnV0dG9uLmlubmVySFRNTCA9ICdjYW5jZWwnOwogICAgICAgIHRoaXMuY2FuY2VsQnV0dG9uLm9uY2xpY2sgPSB0aGlzLl9oaWRlLmJpbmQodGhpcywgZmFsc2UpOwoKICAgICAgICB0aGlzLmFwcGx5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdGhpcy5hcHBseUJ1dHRvbi5jbGFzc05hbWUgPSAndmlzLWJ1dHRvbiB2aXMtYXBwbHknOwogICAgICAgIHRoaXMuYXBwbHlCdXR0b24uaW5uZXJIVE1MID0gJ2FwcGx5JzsKICAgICAgICB0aGlzLmFwcGx5QnV0dG9uLm9uY2xpY2sgPSB0aGlzLl9hcHBseS5iaW5kKHRoaXMpOwoKICAgICAgICB0aGlzLnNhdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLnNhdmVCdXR0b24uY2xhc3NOYW1lID0gJ3Zpcy1idXR0b24gdmlzLXNhdmUnOwogICAgICAgIHRoaXMuc2F2ZUJ1dHRvbi5pbm5lckhUTUwgPSAnc2F2ZSc7CiAgICAgICAgdGhpcy5zYXZlQnV0dG9uLm9uY2xpY2sgPSB0aGlzLl9zYXZlLmJpbmQodGhpcyk7CgogICAgICAgIHRoaXMubG9hZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMubG9hZEJ1dHRvbi5jbGFzc05hbWUgPSAndmlzLWJ1dHRvbiB2aXMtbG9hZCc7CiAgICAgICAgdGhpcy5sb2FkQnV0dG9uLmlubmVySFRNTCA9ICdsb2FkIGxhc3QnOwogICAgICAgIHRoaXMubG9hZEJ1dHRvbi5vbmNsaWNrID0gdGhpcy5fbG9hZExhc3QuYmluZCh0aGlzKTsKCiAgICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yUGlja2VyRGl2KTsKICAgICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dEaXYpOwogICAgICAgIHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5icmlnaHRuZXNzTGFiZWwpOwogICAgICAgIHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5icmlnaHRuZXNzRGl2KTsKICAgICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMub3BhY2l0eUxhYmVsKTsKICAgICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMub3BhY2l0eURpdik7CiAgICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLm5ld0NvbG9yRGl2KTsKICAgICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuaW5pdGlhbENvbG9yRGl2KTsKCiAgICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmNhbmNlbEJ1dHRvbik7CiAgICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmFwcGx5QnV0dG9uKTsKICAgICAgICB0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuc2F2ZUJ1dHRvbik7CiAgICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmxvYWRCdXR0b24pOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19iaW5kSGFtbWVyJywKCiAgICAgIC8qKgogICAgICAgKiBiaW5kIGhhbW1lciB0byB0aGUgY29sb3IgcGlja2VyCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2JpbmRIYW1tZXIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdGhpcy5kcmFnID0ge307CiAgICAgICAgdGhpcy5waW5jaCA9IHt9OwogICAgICAgIHRoaXMuaGFtbWVyID0gbmV3IEhhbW1lcih0aGlzLmNvbG9yUGlja2VyQ2FudmFzKTsKICAgICAgICB0aGlzLmhhbW1lci5nZXQoJ3BpbmNoJykuc2V0KHsgZW5hYmxlOiB0cnVlIH0pOwoKICAgICAgICBoYW1tZXJVdGlsLm9uVG91Y2godGhpcy5oYW1tZXIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMuX21vdmVTZWxlY3RvcihldmVudCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oYW1tZXIub24oJ3RhcCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMuX21vdmVTZWxlY3RvcihldmVudCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oYW1tZXIub24oJ3BhbnN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBfdGhpcy5fbW92ZVNlbGVjdG9yKGV2ZW50KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmhhbW1lci5vbigncGFubW92ZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMuX21vdmVTZWxlY3RvcihldmVudCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oYW1tZXIub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMuX21vdmVTZWxlY3RvcihldmVudCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2dlbmVyYXRlSHVlQ2lyY2xlJywKCiAgICAgIC8qKgogICAgICAgKiBnZW5lcmF0ZSB0aGUgaHVlIGNpcmNsZS4gVGhpcyBpcyByZWxhdGl2ZWx5IGhlYXZ5ICgyMDBtcykgYW5kIGlzIGRvbmUgb25seSBvbmNlIG9uIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHNob3duLgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZW5lcmF0ZUh1ZUNpcmNsZSgpIHsKICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5jb2xvclBpY2tlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgICAgaWYgKHRoaXMucGl4ZWxSYXRpb24gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkgLyAoY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMSk7CiAgICAgICAgICB9CiAgICAgICAgICBjdHguc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywgMCwgMCwgdGhpcy5waXhlbFJhdGlvLCAwLCAwKTsKCiAgICAgICAgICAvLyBjbGVhciB0aGUgY2FudmFzCiAgICAgICAgICB2YXIgdyA9IHRoaXMuY29sb3JQaWNrZXJDYW52YXMuY2xpZW50V2lkdGg7CiAgICAgICAgICB2YXIgaCA9IHRoaXMuY29sb3JQaWNrZXJDYW52YXMuY2xpZW50SGVpZ2h0OwogICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTsKCiAgICAgICAgICAvLyBkcmF3IGh1ZSBjaXJjbGUKICAgICAgICAgIHZhciB4ID0gdW5kZWZpbmVkLAogICAgICAgICAgICAgIHkgPSB1bmRlZmluZWQsCiAgICAgICAgICAgICAgaHVlID0gdW5kZWZpbmVkLAogICAgICAgICAgICAgIHNhdCA9IHVuZGVmaW5lZDsKICAgICAgICAgIHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMgPSB7IHg6IHcgKiAwLjUsIHk6IGggKiAwLjUgfTsKICAgICAgICAgIHRoaXMuciA9IDAuNDkgKiB3OwogICAgICAgICAgdmFyIGFuZ2xlQ29udmVydCA9IDIgKiBNYXRoLlBJIC8gMzYwOwogICAgICAgICAgdmFyIGhmYWMgPSAxIC8gMzYwOwogICAgICAgICAgdmFyIHNmYWMgPSAxIC8gdGhpcy5yOwogICAgICAgICAgdmFyIHJnYiA9IHVuZGVmaW5lZDsKICAgICAgICAgIGZvciAoaHVlID0gMDsgaHVlIDwgMzYwOyBodWUrKykgewogICAgICAgICAgICBmb3IgKHNhdCA9IDA7IHNhdCA8IHRoaXMucjsgc2F0KyspIHsKICAgICAgICAgICAgICB4ID0gdGhpcy5jZW50ZXJDb29yZGluYXRlcy54ICsgc2F0ICogTWF0aC5zaW4oYW5nbGVDb252ZXJ0ICogaHVlKTsKICAgICAgICAgICAgICB5ID0gdGhpcy5jZW50ZXJDb29yZGluYXRlcy55ICsgc2F0ICogTWF0aC5jb3MoYW5nbGVDb252ZXJ0ICogaHVlKTsKICAgICAgICAgICAgICByZ2IgPSB1dGlsLkhTVlRvUkdCKGh1ZSAqIGhmYWMsIHNhdCAqIHNmYWMsIDEpOwogICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiKCcgKyByZ2IuciArICcsJyArIHJnYi5nICsgJywnICsgcmdiLmIgKyAnKSc7CiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHggLSAwLjUsIHkgLSAwLjUsIDIsIDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLDAsMCwxKSc7CiAgICAgICAgICBjdHguY2lyY2xlKHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueCwgdGhpcy5jZW50ZXJDb29yZGluYXRlcy55LCB0aGlzLnIpOwogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIHRoaXMuaHVlQ2lyY2xlID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3LCBoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5nZW5lcmF0ZWQgPSB0cnVlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19tb3ZlU2VsZWN0b3InLAoKICAgICAgLyoqCiAgICAgICAqIG1vdmUgdGhlIHNlbGVjdG9yLiBUaGlzIGlzIGNhbGxlZCBieSBoYW1tZXIgZnVuY3Rpb25zLgogICAgICAgKgogICAgICAgKiBAcGFyYW0gZXZlbnQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbW92ZVNlbGVjdG9yKGV2ZW50KSB7CiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmNvbG9yUGlja2VyRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHZhciBsZWZ0ID0gZXZlbnQuY2VudGVyLnggLSByZWN0LmxlZnQ7CiAgICAgICAgdmFyIHRvcCA9IGV2ZW50LmNlbnRlci55IC0gcmVjdC50b3A7CgogICAgICAgIHZhciBjZW50ZXJZID0gMC41ICogdGhpcy5jb2xvclBpY2tlckRpdi5jbGllbnRIZWlnaHQ7CiAgICAgICAgdmFyIGNlbnRlclggPSAwLjUgKiB0aGlzLmNvbG9yUGlja2VyRGl2LmNsaWVudFdpZHRoOwoKICAgICAgICB2YXIgeCA9IGxlZnQgLSBjZW50ZXJYOwogICAgICAgIHZhciB5ID0gdG9wIC0gY2VudGVyWTsKCiAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih4LCB5KTsKICAgICAgICB2YXIgcmFkaXVzID0gMC45OCAqIE1hdGgubWluKE1hdGguc3FydCh4ICogeCArIHkgKiB5KSwgY2VudGVyWCk7CgogICAgICAgIHZhciBuZXdUb3AgPSBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMgKyBjZW50ZXJZOwogICAgICAgIHZhciBuZXdMZWZ0ID0gTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzICsgY2VudGVyWDsKCiAgICAgICAgdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLnN0eWxlLnRvcCA9IG5ld1RvcCAtIDAuNSAqIHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5jbGllbnRIZWlnaHQgKyAncHgnOwogICAgICAgIHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5zdHlsZS5sZWZ0ID0gbmV3TGVmdCAtIDAuNSAqIHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5jbGllbnRXaWR0aCArICdweCc7CgogICAgICAgIC8vIHNldCBjb2xvcgogICAgICAgIHZhciBoID0gYW5nbGUgLyAoMiAqIE1hdGguUEkpOwogICAgICAgIGggPSBoIDwgMCA/IGggKyAxIDogaDsKICAgICAgICB2YXIgcyA9IHJhZGl1cyAvIHRoaXMucjsKICAgICAgICB2YXIgaHN2ID0gdXRpbC5SR0JUb0hTVih0aGlzLmNvbG9yLnIsIHRoaXMuY29sb3IuZywgdGhpcy5jb2xvci5iKTsKICAgICAgICBoc3YuaCA9IGg7CiAgICAgICAgaHN2LnMgPSBzOwogICAgICAgIHZhciByZ2JhID0gdXRpbC5IU1ZUb1JHQihoc3YuaCwgaHN2LnMsIGhzdi52KTsKICAgICAgICByZ2JhWydhJ10gPSB0aGlzLmNvbG9yLmE7CiAgICAgICAgdGhpcy5jb2xvciA9IHJnYmE7CgogICAgICAgIC8vIHVwZGF0ZSBwcmV2aWV3cwogICAgICAgIHRoaXMuaW5pdGlhbENvbG9yRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKCcgKyB0aGlzLmluaXRpYWxDb2xvci5yICsgJywnICsgdGhpcy5pbml0aWFsQ29sb3IuZyArICcsJyArIHRoaXMuaW5pdGlhbENvbG9yLmIgKyAnLCcgKyB0aGlzLmluaXRpYWxDb2xvci5hICsgJyknOwogICAgICAgIHRoaXMubmV3Q29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoJyArIHRoaXMuY29sb3IuciArICcsJyArIHRoaXMuY29sb3IuZyArICcsJyArIHRoaXMuY29sb3IuYiArICcsJyArIHRoaXMuY29sb3IuYSArICcpJzsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBDb2xvclBpY2tlcjsKICB9KSgpOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBDb2xvclBpY2tlcjsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDQ3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogIHZhciBlcnJvckZvdW5kID0gZmFsc2U7CiAgdmFyIGFsbE9wdGlvbnMgPSB1bmRlZmluZWQ7CiAgdmFyIHByaW50U3R5bGUgPSAnYmFja2dyb3VuZDogI0ZGZWVlZTsgY29sb3I6ICNkZDAwMDAnOwogIC8qKgogICAqICBVc2VkIHRvIHZhbGlkYXRlIG9wdGlvbnMuCiAgICovCgogIHZhciBWYWxpZGF0b3IgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gVmFsaWRhdG9yKCkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmFsaWRhdG9yKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoVmFsaWRhdG9yLCBudWxsLCBbewogICAgICBrZXk6ICd2YWxpZGF0ZScsCgogICAgICAvKioKICAgICAgICogTWFpbiBmdW5jdGlvbiB0byBiZSBjYWxsZWQKICAgICAgICogQHBhcmFtIG9wdGlvbnMKICAgICAgICogQHBhcmFtIHN1Yk9iamVjdAogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShvcHRpb25zLCByZWZlcmVuY2VPcHRpb25zLCBzdWJPYmplY3QpIHsKICAgICAgICBlcnJvckZvdW5kID0gZmFsc2U7CiAgICAgICAgYWxsT3B0aW9ucyA9IHJlZmVyZW5jZU9wdGlvbnM7CiAgICAgICAgdmFyIHVzZWRPcHRpb25zID0gcmVmZXJlbmNlT3B0aW9uczsKICAgICAgICBpZiAoc3ViT2JqZWN0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHVzZWRPcHRpb25zID0gcmVmZXJlbmNlT3B0aW9uc1tzdWJPYmplY3RdOwogICAgICAgIH0KICAgICAgICBWYWxpZGF0b3IucGFyc2Uob3B0aW9ucywgdXNlZE9wdGlvbnMsIFtdKTsKICAgICAgICByZXR1cm4gZXJyb3JGb3VuZDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdwYXJzZScsCgogICAgICAvKioKICAgICAgICogV2lsbCB0cmF2ZXJzZSBhbiBvYmplY3QgcmVjdXJzaXZlbHkgYW5kIGNoZWNrIGV2ZXJ5IHZhbHVlCiAgICAgICAqIEBwYXJhbSBvcHRpb25zCiAgICAgICAqIEBwYXJhbSByZWZlcmVuY2VPcHRpb25zCiAgICAgICAqIEBwYXJhbSBwYXRoCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2Uob3B0aW9ucywgcmVmZXJlbmNlT3B0aW9ucywgcGF0aCkgewogICAgICAgIGZvciAodmFyIG9wdGlvbiBpbiBvcHRpb25zKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7CiAgICAgICAgICAgIFZhbGlkYXRvci5jaGVjayhvcHRpb24sIG9wdGlvbnMsIHJlZmVyZW5jZU9wdGlvbnMsIHBhdGgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdjaGVjaycsCgogICAgICAvKioKICAgICAgICogQ2hlY2sgZXZlcnkgdmFsdWUuIElmIHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QsIGNhbGwgdGhlIHBhcnNlIGZ1bmN0aW9uIG9uIHRoYXQgb2JqZWN0LgogICAgICAgKiBAcGFyYW0gb3B0aW9uCiAgICAgICAqIEBwYXJhbSBvcHRpb25zCiAgICAgICAqIEBwYXJhbSByZWZlcmVuY2VPcHRpb25zCiAgICAgICAqIEBwYXJhbSBwYXRoCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2sob3B0aW9uLCBvcHRpb25zLCByZWZlcmVuY2VPcHRpb25zLCBwYXRoKSB7CiAgICAgICAgaWYgKHJlZmVyZW5jZU9wdGlvbnNbb3B0aW9uXSA9PT0gdW5kZWZpbmVkICYmIHJlZmVyZW5jZU9wdGlvbnMuX19hbnlfXyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBWYWxpZGF0b3IuZ2V0U3VnZ2VzdGlvbihvcHRpb24sIHJlZmVyZW5jZU9wdGlvbnMsIHBhdGgpOwogICAgICAgIH0gZWxzZSBpZiAocmVmZXJlbmNlT3B0aW9uc1tvcHRpb25dID09PSB1bmRlZmluZWQgJiYgcmVmZXJlbmNlT3B0aW9ucy5fX2FueV9fICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vIF9fYW55X18gaXMgYSB3aWxkY2FyZC4gQW55IHZhbHVlIGlzIGFjY2VwdGVkIGFuZCB3aWxsIGJlIGZ1cnRoZXIgYW5hbHlzZWQgYnkgcmVmZXJlbmNlLgogICAgICAgICAgaWYgKFZhbGlkYXRvci5nZXRUeXBlKG9wdGlvbnNbb3B0aW9uXSkgPT09ICdvYmplY3QnICYmIHJlZmVyZW5jZU9wdGlvbnNbJ19fYW55X18nXS5fX3R5cGVfXyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIC8vIGlmIHRoZSBhbnkgc3ViZ3JvdXAgaXMgbm90IGEgcHJlZGVmaW5lZCBvYmplY3QgaW50IGhlIGNvbmZpZ3VyYXRvciB3ZSBkbyBub3QgbG9vayBkZWVwZXIgaW50byB0aGUgb2JqZWN0LgogICAgICAgICAgICBWYWxpZGF0b3IuY2hlY2tGaWVsZHMob3B0aW9uLCBvcHRpb25zLCByZWZlcmVuY2VPcHRpb25zLCAnX19hbnlfXycsIHJlZmVyZW5jZU9wdGlvbnNbJ19fYW55X18nXS5fX3R5cGVfXywgcGF0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBWYWxpZGF0b3IuY2hlY2tGaWVsZHMob3B0aW9uLCBvcHRpb25zLCByZWZlcmVuY2VPcHRpb25zLCAnX19hbnlfXycsIHJlZmVyZW5jZU9wdGlvbnNbJ19fYW55X18nXSwgcGF0aCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIFNpbmNlIGFsbCBvcHRpb25zIGluIHRoZSByZWZlcmVuY2UgYXJlIG9iamVjdHMsIHdlIGNhbiBjaGVjayB3aGV0aGVyIHRoZXkgYXJlIHN1cHBvc2VkIHRvIGJlIG9iamVjdCB0byBsb29rIGZvciB0aGUgX190eXBlX18gZmllbGQuCiAgICAgICAgICBpZiAocmVmZXJlbmNlT3B0aW9uc1tvcHRpb25dLl9fdHlwZV9fICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgLy8gaWYgdGhpcyBzaG91bGQgYmUgYW4gb2JqZWN0LCB3ZSBjaGVjayBpZiB0aGUgY29ycmVjdCB0eXBlIGhhcyBiZWVuIHN1cHBsaWVkIHRvIGFjY291bnQgZm9yIHNob3J0aGFuZCBvcHRpb25zLgogICAgICAgICAgICBWYWxpZGF0b3IuY2hlY2tGaWVsZHMob3B0aW9uLCBvcHRpb25zLCByZWZlcmVuY2VPcHRpb25zLCBvcHRpb24sIHJlZmVyZW5jZU9wdGlvbnNbb3B0aW9uXS5fX3R5cGVfXywgcGF0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBWYWxpZGF0b3IuY2hlY2tGaWVsZHMob3B0aW9uLCBvcHRpb25zLCByZWZlcmVuY2VPcHRpb25zLCBvcHRpb24sIHJlZmVyZW5jZU9wdGlvbnNbb3B0aW9uXSwgcGF0aCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2NoZWNrRmllbGRzJywKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gIG9wdGlvbiAgICAgfCB0aGUgb3B0aW9uIHByb3BlcnR5CiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSAgb3B0aW9ucyAgICB8IFRoZSBzdXBwbGllZCBvcHRpb25zIG9iamVjdAogICAgICAgKiBAcGFyYW0ge09iamVjdH0gIHJlZmVyZW5jZU9wdGlvbnMgICAgfCBUaGUgcmVmZXJlbmNlIG9wdGlvbnMgY29udGFpbmluZyBhbGwgb3B0aW9ucyBhbmQgdGhlaXIgYWxsb3dlZCBmb3JtYXRzCiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgcmVmZXJlbmNlT3B0aW9uICAgICB8IFVzdWFsbHkgdGhpcyBpcyB0aGUgc2FtZSBhcyBvcHRpb24sIGV4Y2VwdCB3aGVuIGhhbmRsaW5nIGFuIF9fYW55X18gdGFnLgogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gIHJlZk9wdGlvblR5cGUgICAgICAgfCBUaGlzIGlzIHRoZSB0eXBlIG9iamVjdCBmcm9tIHRoZSByZWZlcmVuY2Ugb3B0aW9ucwogICAgICAgKiBAcGFyYW0ge0FycmF5fSAgIHBhdGggICAgICB8IHdoZXJlIGluIHRoZSBvYmplY3QgaXMgdGhlIG9wdGlvbgogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRmllbGRzKG9wdGlvbiwgb3B0aW9ucywgcmVmZXJlbmNlT3B0aW9ucywgcmVmZXJlbmNlT3B0aW9uLCByZWZPcHRpb25PYmosIHBhdGgpIHsKICAgICAgICB2YXIgb3B0aW9uVHlwZSA9IFZhbGlkYXRvci5nZXRUeXBlKG9wdGlvbnNbb3B0aW9uXSk7CiAgICAgICAgdmFyIHJlZk9wdGlvblR5cGUgPSByZWZPcHRpb25PYmpbb3B0aW9uVHlwZV07CiAgICAgICAgaWYgKHJlZk9wdGlvblR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy8gaWYgdGhlIHR5cGUgaXMgY29ycmVjdCwgd2UgY2hlY2sgaWYgaXQgaXMgc3VwcG9zZWQgdG8gYmUgb25lIG9mIGEgZmV3IHNlbGVjdCB2YWx1ZXMKICAgICAgICAgIGlmIChWYWxpZGF0b3IuZ2V0VHlwZShyZWZPcHRpb25UeXBlKSA9PT0gJ2FycmF5JykgewogICAgICAgICAgICBpZiAocmVmT3B0aW9uVHlwZS5pbmRleE9mKG9wdGlvbnNbb3B0aW9uXSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjSW52YWxpZCBvcHRpb24gZGV0ZWN0ZWQgaW4gIicgKyBvcHRpb24gKyAnIi4nICsgJyBBbGxvd2VkIHZhbHVlcyBhcmU6JyArIFZhbGlkYXRvci5wcmludChyZWZPcHRpb25UeXBlKSArICcgbm90ICInICsgb3B0aW9uc1tvcHRpb25dICsgJyIuICcgKyBWYWxpZGF0b3IucHJpbnRMb2NhdGlvbihwYXRoLCBvcHRpb24pLCBwcmludFN0eWxlKTsKICAgICAgICAgICAgICBlcnJvckZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25UeXBlID09PSAnb2JqZWN0JyAmJiByZWZlcmVuY2VPcHRpb24gIT09ICdfX2FueV9fJykgewogICAgICAgICAgICAgIHBhdGggPSB1dGlsLmNvcHlBbmRFeHRlbmRBcnJheShwYXRoLCBvcHRpb24pOwogICAgICAgICAgICAgIFZhbGlkYXRvci5wYXJzZShvcHRpb25zW29wdGlvbl0sIHJlZmVyZW5jZU9wdGlvbnNbcmVmZXJlbmNlT3B0aW9uXSwgcGF0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9uVHlwZSA9PT0gJ29iamVjdCcgJiYgcmVmZXJlbmNlT3B0aW9uICE9PSAnX19hbnlfXycpIHsKICAgICAgICAgICAgcGF0aCA9IHV0aWwuY29weUFuZEV4dGVuZEFycmF5KHBhdGgsIG9wdGlvbik7CiAgICAgICAgICAgIFZhbGlkYXRvci5wYXJzZShvcHRpb25zW29wdGlvbl0sIHJlZmVyZW5jZU9wdGlvbnNbcmVmZXJlbmNlT3B0aW9uXSwgcGF0aCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChyZWZPcHRpb25PYmpbJ2FueSddID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vIHR5cGUgb2YgdGhlIGZpZWxkIGlzIGluY29ycmVjdCBhbmQgdGhlIGZpZWxkIGNhbm5vdCBiZSBhbnkKICAgICAgICAgIGNvbnNvbGUubG9nKCclY0ludmFsaWQgdHlwZSByZWNlaXZlZCBmb3IgIicgKyBvcHRpb24gKyAnIi4gRXhwZWN0ZWQ6ICcgKyBWYWxpZGF0b3IucHJpbnQoT2JqZWN0LmtleXMocmVmT3B0aW9uT2JqKSkgKyAnLiBSZWNlaXZlZCBbJyArIG9wdGlvblR5cGUgKyAnXSAiJyArIG9wdGlvbnNbb3B0aW9uXSArICciJyArIFZhbGlkYXRvci5wcmludExvY2F0aW9uKHBhdGgsIG9wdGlvbiksIHByaW50U3R5bGUpOwogICAgICAgICAgZXJyb3JGb3VuZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2dldFR5cGUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHlwZShvYmplY3QpIHsKICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmplY3Q7CgogICAgICAgIGlmICh0eXBlID09PSAnb2JqZWN0JykgewogICAgICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4gJ251bGwnOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEJvb2xlYW4pIHsKICAgICAgICAgICAgcmV0dXJuICdib29sZWFuJzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBOdW1iZXIpIHsKICAgICAgICAgICAgcmV0dXJuICdudW1iZXInOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICAgICAgICByZXR1cm4gJ3N0cmluZyc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7CiAgICAgICAgICAgIHJldHVybiAnYXJyYXknOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIERhdGUpIHsKICAgICAgICAgICAgcmV0dXJuICdkYXRlJzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChvYmplY3Qubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByZXR1cm4gJ2RvbSc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAob2JqZWN0Ll9pc0FNb21lbnRPYmplY3QgPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuICdtb21lbnQnOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuICdvYmplY3QnOwogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHsKICAgICAgICAgIHJldHVybiAnbnVtYmVyJzsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykgewogICAgICAgICAgcmV0dXJuICdib29sZWFuJzsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICByZXR1cm4gJ3N0cmluZyc7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiAndW5kZWZpbmVkJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHR5cGU7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZ2V0U3VnZ2VzdGlvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdWdnZXN0aW9uKG9wdGlvbiwgb3B0aW9ucywgcGF0aCkgewogICAgICAgIHZhciBsb2NhbFNlYXJjaCA9IFZhbGlkYXRvci5maW5kSW5PcHRpb25zKG9wdGlvbiwgb3B0aW9ucywgcGF0aCwgZmFsc2UpOwogICAgICAgIHZhciBnbG9iYWxTZWFyY2ggPSBWYWxpZGF0b3IuZmluZEluT3B0aW9ucyhvcHRpb24sIGFsbE9wdGlvbnMsIFtdLCB0cnVlKTsKCiAgICAgICAgdmFyIGxvY2FsU2VhcmNoVGhyZXNob2xkID0gODsKICAgICAgICB2YXIgZ2xvYmFsU2VhcmNoVGhyZXNob2xkID0gNDsKCiAgICAgICAgaWYgKGxvY2FsU2VhcmNoLmluZGV4TWF0Y2ggIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgY29uc29sZS5sb2coJyVjVW5rbm93biBvcHRpb24gZGV0ZWN0ZWQ6ICInICsgb3B0aW9uICsgJyIgaW4gJyArIFZhbGlkYXRvci5wcmludExvY2F0aW9uKGxvY2FsU2VhcmNoLnBhdGgsIG9wdGlvbiwgJycpICsgJ1BlcmhhcHMgaXQgd2FzIGluY29tcGxldGU/IERpZCB5b3UgbWVhbjogIicgKyBsb2NhbFNlYXJjaC5pbmRleE1hdGNoICsgJyI/XG5cbicsIHByaW50U3R5bGUpOwogICAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsU2VhcmNoLmRpc3RhbmNlIDw9IGdsb2JhbFNlYXJjaFRocmVzaG9sZCAmJiBsb2NhbFNlYXJjaC5kaXN0YW5jZSA+IGdsb2JhbFNlYXJjaC5kaXN0YW5jZSkgewogICAgICAgICAgY29uc29sZS5sb2coJyVjVW5rbm93biBvcHRpb24gZGV0ZWN0ZWQ6ICInICsgb3B0aW9uICsgJyIgaW4gJyArIFZhbGlkYXRvci5wcmludExvY2F0aW9uKGxvY2FsU2VhcmNoLnBhdGgsIG9wdGlvbiwgJycpICsgJ1BlcmhhcHMgaXQgd2FzIG1pc3BsYWNlZD8gTWF0Y2hpbmcgb3B0aW9uIGZvdW5kIGF0OiAnICsgVmFsaWRhdG9yLnByaW50TG9jYXRpb24oZ2xvYmFsU2VhcmNoLnBhdGgsIGdsb2JhbFNlYXJjaC5jbG9zZXN0TWF0Y2gsICcnKSwgcHJpbnRTdHlsZSk7CiAgICAgICAgfSBlbHNlIGlmIChsb2NhbFNlYXJjaC5kaXN0YW5jZSA8PSBsb2NhbFNlYXJjaFRocmVzaG9sZCkgewogICAgICAgICAgY29uc29sZS5sb2coJyVjVW5rbm93biBvcHRpb24gZGV0ZWN0ZWQ6ICInICsgb3B0aW9uICsgJyIuIERpZCB5b3UgbWVhbiAiJyArIGxvY2FsU2VhcmNoLmNsb3Nlc3RNYXRjaCArICciPycgKyBWYWxpZGF0b3IucHJpbnRMb2NhdGlvbihsb2NhbFNlYXJjaC5wYXRoLCBvcHRpb24pLCBwcmludFN0eWxlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJyVjVW5rbm93biBvcHRpb24gZGV0ZWN0ZWQ6ICInICsgb3B0aW9uICsgJyIuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U6ICcgKyBWYWxpZGF0b3IucHJpbnQoT2JqZWN0LmtleXMob3B0aW9ucykpICsgVmFsaWRhdG9yLnByaW50TG9jYXRpb24ocGF0aCwgb3B0aW9uKSwgcHJpbnRTdHlsZSk7CiAgICAgICAgfQoKICAgICAgICBlcnJvckZvdW5kID0gdHJ1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdmaW5kSW5PcHRpb25zJywKCiAgICAgIC8qKgogICAgICAgKiB0cmF2ZXJzZSB0aGUgb3B0aW9ucyBpbiBzZWFyY2ggZm9yIGEgbWF0Y2guCiAgICAgICAqIEBwYXJhbSBvcHRpb24KICAgICAgICogQHBhcmFtIG9wdGlvbnMKICAgICAgICogQHBhcmFtIHBhdGgKICAgICAgICogQHBhcmFtIHJlY3Vyc2l2ZQogICAgICAgKiBAcmV0dXJucyB7e2Nsb3Nlc3RNYXRjaDogc3RyaW5nLCBwYXRoOiBBcnJheSwgZGlzdGFuY2U6IG51bWJlcn19CiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEluT3B0aW9ucyhvcHRpb24sIG9wdGlvbnMsIHBhdGgpIHsKICAgICAgICB2YXIgcmVjdXJzaXZlID0gYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1szXTsKCiAgICAgICAgdmFyIG1pbiA9IDEwMDAwMDAwMDA7CiAgICAgICAgdmFyIGNsb3Nlc3RNYXRjaCA9ICcnOwogICAgICAgIHZhciBjbG9zZXN0TWF0Y2hQYXRoID0gW107CiAgICAgICAgdmFyIGxvd2VyQ2FzZU9wdGlvbiA9IG9wdGlvbi50b0xvd2VyQ2FzZSgpOwogICAgICAgIHZhciBpbmRleE1hdGNoID0gdW5kZWZpbmVkOwogICAgICAgIGZvciAodmFyIG9wIGluIG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBkaXN0YW5jZSA9IHVuZGVmaW5lZDsKICAgICAgICAgIGlmIChvcHRpb25zW29wXS5fX3R5cGVfXyAhPT0gdW5kZWZpbmVkICYmIHJlY3Vyc2l2ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gVmFsaWRhdG9yLmZpbmRJbk9wdGlvbnMob3B0aW9uLCBvcHRpb25zW29wXSwgdXRpbC5jb3B5QW5kRXh0ZW5kQXJyYXkocGF0aCwgb3ApKTsKICAgICAgICAgICAgaWYgKG1pbiA+IHJlc3VsdC5kaXN0YW5jZSkgewogICAgICAgICAgICAgIGNsb3Nlc3RNYXRjaCA9IHJlc3VsdC5jbG9zZXN0TWF0Y2g7CiAgICAgICAgICAgICAgY2xvc2VzdE1hdGNoUGF0aCA9IHJlc3VsdC5wYXRoOwogICAgICAgICAgICAgIG1pbiA9IHJlc3VsdC5kaXN0YW5jZTsKICAgICAgICAgICAgICBpbmRleE1hdGNoID0gcmVzdWx0LmluZGV4TWF0Y2g7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChvcC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJDYXNlT3B0aW9uKSAhPT0gLTEpIHsKICAgICAgICAgICAgICBpbmRleE1hdGNoID0gb3A7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGlzdGFuY2UgPSBWYWxpZGF0b3IubGV2ZW5zaHRlaW5EaXN0YW5jZShvcHRpb24sIG9wKTsKICAgICAgICAgICAgaWYgKG1pbiA+IGRpc3RhbmNlKSB7CiAgICAgICAgICAgICAgY2xvc2VzdE1hdGNoID0gb3A7CiAgICAgICAgICAgICAgY2xvc2VzdE1hdGNoUGF0aCA9IHV0aWwuY29weUFycmF5KHBhdGgpOwogICAgICAgICAgICAgIG1pbiA9IGRpc3RhbmNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB7IGNsb3Nlc3RNYXRjaDogY2xvc2VzdE1hdGNoLCBwYXRoOiBjbG9zZXN0TWF0Y2hQYXRoLCBkaXN0YW5jZTogbWluLCBpbmRleE1hdGNoOiBpbmRleE1hdGNoIH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAncHJpbnRMb2NhdGlvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcmludExvY2F0aW9uKHBhdGgsIG9wdGlvbikgewogICAgICAgIHZhciBwcmVmaXggPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/ICdQcm9ibGVtIHZhbHVlIGZvdW5kIGF0OiBcbicgOiBhcmd1bWVudHNbMl07CgogICAgICAgIHZhciBzdHIgPSAnXG5cbicgKyBwcmVmaXggKyAnb3B0aW9ucyA9IHtcbic7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGkgKyAxOyBqKyspIHsKICAgICAgICAgICAgc3RyICs9ICcgICc7CiAgICAgICAgICB9CiAgICAgICAgICBzdHIgKz0gcGF0aFtpXSArICc6IHtcbic7CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGF0aC5sZW5ndGggKyAxOyBqKyspIHsKICAgICAgICAgIHN0ciArPSAnICAnOwogICAgICAgIH0KICAgICAgICBzdHIgKz0gb3B0aW9uICsgJ1xuJzsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoICsgMTsgaSsrKSB7CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhdGgubGVuZ3RoIC0gaTsgaisrKSB7CiAgICAgICAgICAgIHN0ciArPSAnICAnOwogICAgICAgICAgfQogICAgICAgICAgc3RyICs9ICd9XG4nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyICsgJ1xuXG4nOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3ByaW50JywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByaW50KG9wdGlvbnMpIHsKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3B0aW9ucykucmVwbGFjZSgvKFwiKXwoXFspfChcXSl8KCwiX190eXBlX18iKS9nLCAnJykucmVwbGFjZSgvKFwsKS9nLCAnLCAnKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdsZXZlbnNodGVpbkRpc3RhbmNlJywKCiAgICAgIC8vIENvbXB1dGUgdGhlIGVkaXQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIGdpdmVuIHN0cmluZ3MKICAgICAgLy8gaHR0cDovL2VuLndpa2lib29rcy5vcmcvd2lraS9BbGdvcml0aG1fSW1wbGVtZW50YXRpb24vU3RyaW5ncy9MZXZlbnNodGVpbl9kaXN0YW5jZSNKYXZhU2NyaXB0CiAgICAgIC8qCiAgICAgICBDb3B5cmlnaHQgKGMpIDIwMTEgQW5kcmVpIE1hY2tlbnppZQogICAgICAgIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgICAgIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogICAgICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBsZXZlbnNodGVpbkRpc3RhbmNlKGEsIGIpIHsKICAgICAgICBpZiAoYS5sZW5ndGggPT09IDApIHJldHVybiBiLmxlbmd0aDsKICAgICAgICBpZiAoYi5sZW5ndGggPT09IDApIHJldHVybiBhLmxlbmd0aDsKCiAgICAgICAgdmFyIG1hdHJpeCA9IFtdOwoKICAgICAgICAvLyBpbmNyZW1lbnQgYWxvbmcgdGhlIGZpcnN0IGNvbHVtbiBvZiBlYWNoIHJvdwogICAgICAgIHZhciBpOwogICAgICAgIGZvciAoaSA9IDA7IGkgPD0gYi5sZW5ndGg7IGkrKykgewogICAgICAgICAgbWF0cml4W2ldID0gW2ldOwogICAgICAgIH0KCiAgICAgICAgLy8gaW5jcmVtZW50IGVhY2ggY29sdW1uIGluIHRoZSBmaXJzdCByb3cKICAgICAgICB2YXIgajsKICAgICAgICBmb3IgKGogPSAwOyBqIDw9IGEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIG1hdHJpeFswXVtqXSA9IGo7CiAgICAgICAgfQoKICAgICAgICAvLyBGaWxsIGluIHRoZSByZXN0IG9mIHRoZSBtYXRyaXgKICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IGIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZvciAoaiA9IDE7IGogPD0gYS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAoYi5jaGFyQXQoaSAtIDEpID09IGEuY2hhckF0KGogLSAxKSkgewogICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMV1baiAtIDFdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IE1hdGgubWluKG1hdHJpeFtpIC0gMV1baiAtIDFdICsgMSwgLy8gc3Vic3RpdHV0aW9uCiAgICAgICAgICAgICAgTWF0aC5taW4obWF0cml4W2ldW2ogLSAxXSArIDEsIC8vIGluc2VydGlvbgogICAgICAgICAgICAgIG1hdHJpeFtpIC0gMV1bal0gKyAxKSk7IC8vIGRlbGV0aW9uCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBtYXRyaXhbYi5sZW5ndGhdW2EubGVuZ3RoXTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBWYWxpZGF0b3I7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gVmFsaWRhdG9yOwogIGV4cG9ydHMucHJpbnRTdHlsZSA9IHByaW50U3R5bGU7CgovKioqLyB9LAovKiA0OCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLyoqCiAgICogVGhpcyBvYmplY3QgY29udGFpbnMgYWxsIHBvc3NpYmxlIG9wdGlvbnMuIEl0IHdpbGwgY2hlY2sgaWYgdGhlIHR5cGVzIGFyZSBjb3JyZWN0LCBpZiByZXF1aXJlZCBpZiB0aGUgb3B0aW9uIGlzIG9uZQogICAqIG9mIHRoZSBhbGxvd2VkIHZhbHVlcy4KICAgKgogICAqIF9fYW55X18gbWVhbnMgdGhhdCB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgZG9lcyBub3QgbWF0dGVyLgogICAqIF9fdHlwZV9fIGlzIGEgcmVxdWlyZWQgZmllbGQgZm9yIGFsbCBvYmplY3RzIGFuZCBjb250YWlucyB0aGUgYWxsb3dlZCB0eXBlcyBvZiBhbGwgb2JqZWN0cwogICAqLwogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKICB2YXIgc3RyaW5nID0gJ3N0cmluZyc7CiAgdmFyIGJvb2xlYW4gPSAnYm9vbGVhbic7CiAgdmFyIG51bWJlciA9ICdudW1iZXInOwogIHZhciBhcnJheSA9ICdhcnJheSc7CiAgdmFyIGRhdGUgPSAnZGF0ZSc7CiAgdmFyIG9iamVjdCA9ICdvYmplY3QnOyAvLyBzaG91bGQgb25seSBiZSBpbiBhIF9fdHlwZV9fIHByb3BlcnR5CiAgdmFyIGRvbSA9ICdkb20nOwogIHZhciBtb21lbnQgPSAnbW9tZW50JzsKICB2YXIgYW55ID0gJ2FueSc7CgogIHZhciBhbGxPcHRpb25zID0gewogICAgY29uZmlndXJlOiB7CiAgICAgIGVuYWJsZWQ6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBmaWx0ZXI6IHsgYm9vbGVhbjogYm9vbGVhbiwgJ2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJyB9LAogICAgICBjb250YWluZXI6IHsgZG9tOiBkb20gfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIGJvb2xlYW46IGJvb2xlYW4sICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfQogICAgfSwKCiAgICAvL2dsb2JhbHMgOgogICAgYWxpZ246IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgIGF1dG9SZXNpemU6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgY2xpY2tUb1VzZTogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICBkYXRhQXR0cmlidXRlczogeyBzdHJpbmc6IHN0cmluZywgYXJyYXk6IGFycmF5IH0sCiAgICBlZGl0YWJsZTogewogICAgICBhZGQ6IHsgYm9vbGVhbjogYm9vbGVhbiwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIHJlbW92ZTogeyBib29sZWFuOiBib29sZWFuLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgdXBkYXRlR3JvdXA6IHsgYm9vbGVhbjogYm9vbGVhbiwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIHVwZGF0ZVRpbWU6IHsgYm9vbGVhbjogYm9vbGVhbiwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIF9fdHlwZV9fOiB7IGJvb2xlYW46IGJvb2xlYW4sIG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICBlbmQ6IHsgbnVtYmVyOiBudW1iZXIsIGRhdGU6IGRhdGUsIHN0cmluZzogc3RyaW5nLCBtb21lbnQ6IG1vbWVudCB9LAogICAgZm9ybWF0OiB7CiAgICAgIG1pbm9yTGFiZWxzOiB7CiAgICAgICAgbWlsbGlzZWNvbmQ6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICAgIHNlY29uZDogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgbWludXRlOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBob3VyOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICB3ZWVrZGF5OiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBkYXk6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICAgIG1vbnRoOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICB5ZWFyOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICAgIH0sCiAgICAgIG1ham9yTGFiZWxzOiB7CiAgICAgICAgbWlsbGlzZWNvbmQ6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICAgIHNlY29uZDogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgbWludXRlOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBob3VyOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICB3ZWVrZGF5OiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBkYXk6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICAgIG1vbnRoOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICB5ZWFyOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICAgIH0sCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICBncm91cE9yZGVyOiB7IHN0cmluZzogc3RyaW5nLCAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nIH0sCiAgICBoZWlnaHQ6IHsgc3RyaW5nOiBzdHJpbmcsIG51bWJlcjogbnVtYmVyIH0sCiAgICBoaWRkZW5EYXRlczogeyBvYmplY3Q6IG9iamVjdCwgYXJyYXk6IGFycmF5IH0sCiAgICBsb2NhbGU6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgIGxvY2FsZXM6IHsKICAgICAgX19hbnlfXzogeyBhbnk6IGFueSB9LAogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICB9LAogICAgbWFyZ2luOiB7CiAgICAgIGF4aXM6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgaXRlbTogewogICAgICAgIGhvcml6b250YWw6IHsgbnVtYmVyOiBudW1iZXIsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICAgIHZlcnRpY2FsOiB7IG51bWJlcjogbnVtYmVyLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgbnVtYmVyOiBudW1iZXIgfQogICAgICB9LAogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgbnVtYmVyOiBudW1iZXIgfQogICAgfSwKICAgIG1heDogeyBkYXRlOiBkYXRlLCBudW1iZXI6IG51bWJlciwgc3RyaW5nOiBzdHJpbmcsIG1vbWVudDogbW9tZW50IH0sCiAgICBtYXhIZWlnaHQ6IHsgbnVtYmVyOiBudW1iZXIsIHN0cmluZzogc3RyaW5nIH0sCiAgICBtaW46IHsgZGF0ZTogZGF0ZSwgbnVtYmVyOiBudW1iZXIsIHN0cmluZzogc3RyaW5nLCBtb21lbnQ6IG1vbWVudCB9LAogICAgbWluSGVpZ2h0OiB7IG51bWJlcjogbnVtYmVyLCBzdHJpbmc6IHN0cmluZyB9LAogICAgbW92ZWFibGU6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgbXVsdGlzZWxlY3Q6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgb25BZGQ6IHsgJ2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJyB9LAogICAgb25VcGRhdGU6IHsgJ2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJyB9LAogICAgb25Nb3ZlOiB7ICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgIG9uTW92aW5nOiB7ICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgIG9uUmVtb3ZlOiB7ICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgIG9yZGVyOiB7ICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgIG9yaWVudGF0aW9uOiB7CiAgICAgIGF4aXM6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICBpdGVtOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgX190eXBlX186IHsgc3RyaW5nOiBzdHJpbmcsIG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICBzZWxlY3RhYmxlOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHNob3dDdXJyZW50VGltZTogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICBzaG93TWFqb3JMYWJlbHM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgc2hvd01pbm9yTGFiZWxzOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHN0YWNrOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHNuYXA6IHsgJ2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJywgJ251bGwnOiAnbnVsbCcgfSwKICAgIHN0YXJ0OiB7IGRhdGU6IGRhdGUsIG51bWJlcjogbnVtYmVyLCBzdHJpbmc6IHN0cmluZywgbW9tZW50OiBtb21lbnQgfSwKICAgIHRlbXBsYXRlOiB7ICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgIHRpbWVBeGlzOiB7CiAgICAgIHNjYWxlOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgc3RlcDogeyBudW1iZXI6IG51bWJlciwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICB0eXBlOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICB3aWR0aDogeyBzdHJpbmc6IHN0cmluZywgbnVtYmVyOiBudW1iZXIgfSwKICAgIHpvb21hYmxlOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHpvb21NYXg6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgIHpvb21NaW46IHsgbnVtYmVyOiBudW1iZXIgfSwKCiAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgfTsKCiAgdmFyIGNvbmZpZ3VyZU9wdGlvbnMgPSB7CiAgICBnbG9iYWw6IHsKICAgICAgYWxpZ246IFsnY2VudGVyJywgJ2xlZnQnLCAncmlnaHQnXSwKICAgICAgYXV0b1Jlc2l6ZTogdHJ1ZSwKICAgICAgY2xpY2tUb1VzZTogZmFsc2UsCiAgICAgIC8vIGRhdGFBdHRyaWJ1dGVzOiBbJ2FsbCddLCAvLyBGSVhNRTogY2FuIGJlICdhbGwnIG9yIHN0cmluZ1tdCiAgICAgIGVkaXRhYmxlOiB7CiAgICAgICAgYWRkOiBmYWxzZSwKICAgICAgICByZW1vdmU6IGZhbHNlLAogICAgICAgIHVwZGF0ZUdyb3VwOiBmYWxzZSwKICAgICAgICB1cGRhdGVUaW1lOiBmYWxzZQogICAgICB9LAogICAgICBlbmQ6ICcnLAogICAgICBmb3JtYXQ6IHsKICAgICAgICBtaW5vckxhYmVsczogewogICAgICAgICAgbWlsbGlzZWNvbmQ6ICdTU1MnLAogICAgICAgICAgc2Vjb25kOiAncycsCiAgICAgICAgICBtaW51dGU6ICdISDptbScsCiAgICAgICAgICBob3VyOiAnSEg6bW0nLAogICAgICAgICAgd2Vla2RheTogJ2RkZCBEJywKICAgICAgICAgIGRheTogJ0QnLAogICAgICAgICAgbW9udGg6ICdNTU0nLAogICAgICAgICAgeWVhcjogJ1lZWVknCiAgICAgICAgfSwKICAgICAgICBtYWpvckxhYmVsczogewogICAgICAgICAgbWlsbGlzZWNvbmQ6ICdISDptbTpzcycsCiAgICAgICAgICBzZWNvbmQ6ICdEIE1NTU0gSEg6bW0nLAogICAgICAgICAgbWludXRlOiAnZGRkIEQgTU1NTScsCiAgICAgICAgICBob3VyOiAnZGRkIEQgTU1NTScsCiAgICAgICAgICB3ZWVrZGF5OiAnTU1NTSBZWVlZJywKICAgICAgICAgIGRheTogJ01NTU0gWVlZWScsCiAgICAgICAgICBtb250aDogJ1lZWVknLAogICAgICAgICAgeWVhcjogJycKICAgICAgICB9CiAgICAgIH0sCgogICAgICAvL2dyb3VwT3JkZXI6IHtzdHJpbmcsICdmdW5jdGlvbic6ICdmdW5jdGlvbid9LAogICAgICBoZWlnaHQ6ICcnLAogICAgICAvL2hpZGRlbkRhdGVzOiB7b2JqZWN0LCBhcnJheX0sCiAgICAgIGxvY2FsZTogJycsCiAgICAgIG1hcmdpbjogewogICAgICAgIGF4aXM6IFsyMCwgMCwgMTAwLCAxXSwKICAgICAgICBpdGVtOiB7CiAgICAgICAgICBob3Jpem9udGFsOiBbMTAsIDAsIDEwMCwgMV0sCiAgICAgICAgICB2ZXJ0aWNhbDogWzEwLCAwLCAxMDAsIDFdCiAgICAgICAgfQogICAgICB9LAogICAgICBtYXg6ICcnLAogICAgICBtYXhIZWlnaHQ6ICcnLAogICAgICBtaW46ICcnLAogICAgICBtaW5IZWlnaHQ6ICcnLAogICAgICBtb3ZlYWJsZTogZmFsc2UsCiAgICAgIG11bHRpc2VsZWN0OiBmYWxzZSwKICAgICAgLy9vbkFkZDogeydmdW5jdGlvbic6ICdmdW5jdGlvbid9LAogICAgICAvL29uVXBkYXRlOiB7J2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJ30sCiAgICAgIC8vb25Nb3ZlOiB7J2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJ30sCiAgICAgIC8vb25Nb3Zpbmc6IHsnZnVuY3Rpb24nOiAnZnVuY3Rpb24nfSwKICAgICAgLy9vblJlbmFtZTogeydmdW5jdGlvbic6ICdmdW5jdGlvbid9LAogICAgICAvL29yZGVyOiB7J2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJ30sCiAgICAgIG9yaWVudGF0aW9uOiB7CiAgICAgICAgYXhpczogWydib3RoJywgJ2JvdHRvbScsICd0b3AnXSwKICAgICAgICBpdGVtOiBbJ2JvdHRvbScsICd0b3AnXQogICAgICB9LAogICAgICBzZWxlY3RhYmxlOiB0cnVlLAogICAgICBzaG93Q3VycmVudFRpbWU6IGZhbHNlLAogICAgICBzaG93TWFqb3JMYWJlbHM6IHRydWUsCiAgICAgIHNob3dNaW5vckxhYmVsczogdHJ1ZSwKICAgICAgc3RhY2s6IHRydWUsCiAgICAgIC8vc25hcDogeydmdW5jdGlvbic6ICdmdW5jdGlvbicsIG5hZGF9LAogICAgICBzdGFydDogJycsCiAgICAgIC8vdGVtcGxhdGU6IHsnZnVuY3Rpb24nOiAnZnVuY3Rpb24nfSwKICAgICAgLy90aW1lQXhpczogewogICAgICAvLyAgc2NhbGU6IFsnbWlsbGlzZWNvbmQnLCAnc2Vjb25kJywgJ21pbnV0ZScsICdob3VyJywgJ3dlZWtkYXknLCAnZGF5JywgJ21vbnRoJywgJ3llYXInXSwKICAgICAgLy8gIHN0ZXA6IFsxLCAxLCAxMCwgMV0KICAgICAgLy99LAogICAgICB0eXBlOiBbJ2JveCcsICdwb2ludCcsICdyYW5nZScsICdiYWNrZ3JvdW5kJ10sCiAgICAgIHdpZHRoOiAnMTAwJScsCiAgICAgIHpvb21hYmxlOiB0cnVlLAogICAgICB6b29tTWF4OiBbMzE1MzYwMDAwMDAwMDAwLCAxMCwgMzE1MzYwMDAwMDAwMDAwLCAxXSwKICAgICAgem9vbU1pbjogWzEwLCAxMCwgMzE1MzYwMDAwMDAwMDAwLCAxXQogICAgfQogIH07CgogIGV4cG9ydHMuYWxsT3B0aW9ucyA9IGFsbE9wdGlvbnM7CiAgZXhwb3J0cy5jb25maWd1cmVPcHRpb25zID0gY29uZmlndXJlT3B0aW9uczsKCi8qKiovIH0sCi8qIDQ5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7CiAgdmFyIEhhbW1lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpOwogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICB2YXIgRGF0YVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7CiAgdmFyIERhdGFWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7CiAgdmFyIFJhbmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7CiAgdmFyIENvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTsKICB2YXIgVGltZUF4aXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTsKICB2YXIgQ3VycmVudFRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTsKICB2YXIgQ3VzdG9tVGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpOwogIHZhciBMaW5lR3JhcGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTsKCiAgdmFyIENvbmZpZ3VyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpOwogIHZhciBWYWxpZGF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KVsnZGVmYXVsdCddOwogIHZhciBwcmludFN0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NykucHJpbnRTdHlsZTsKICB2YXIgYWxsT3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpLmFsbE9wdGlvbnM7CiAgdmFyIGNvbmZpZ3VyZU9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KS5jb25maWd1cmVPcHRpb25zOwoKICAvKioKICAgKiBDcmVhdGUgYSB0aW1lbGluZSB2aXN1YWxpemF0aW9uCiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyCiAgICogQHBhcmFtIHt2aXMuRGF0YVNldCB8IEFycmF5fSBbaXRlbXNdCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgU2VlIEdyYXBoMmQuc2V0T3B0aW9ucyBmb3IgdGhlIGF2YWlsYWJsZSBvcHRpb25zLgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIENvcmUKICAgKi8KICBmdW5jdGlvbiBHcmFwaDJkKGNvbnRhaW5lciwgaXRlbXMsIGdyb3Vwcywgb3B0aW9ucykgewogICAgLy8gaWYgdGhlIHRoaXJkIGVsZW1lbnQgaXMgb3B0aW9ucywgdGhlIGZvcnRoIGlzIGdyb3VwcyAob3B0aW9uYWxseSk7CiAgICBpZiAoIShBcnJheS5pc0FycmF5KGdyb3VwcykgfHwgZ3JvdXBzIGluc3RhbmNlb2YgRGF0YVNldCkgJiYgZ3JvdXBzIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgIHZhciBmb3J0aEFyZ3VtZW50ID0gb3B0aW9uczsKICAgICAgb3B0aW9ucyA9IGdyb3VwczsKICAgICAgZ3JvdXBzID0gZm9ydGhBcmd1bWVudDsKICAgIH0KCiAgICB2YXIgbWUgPSB0aGlzOwogICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHsKICAgICAgc3RhcnQ6IG51bGwsCiAgICAgIGVuZDogbnVsbCwKCiAgICAgIGF1dG9SZXNpemU6IHRydWUsCgogICAgICBvcmllbnRhdGlvbjogewogICAgICAgIGF4aXM6ICdib3R0b20nLCAvLyBheGlzIG9yaWVudGF0aW9uOiAnYm90dG9tJywgJ3RvcCcsIG9yICdib3RoJwogICAgICAgIGl0ZW06ICdib3R0b20nIC8vIG5vdCByZWxldmFudCBmb3IgR3JhcGgyZAogICAgICB9LAoKICAgICAgd2lkdGg6IG51bGwsCiAgICAgIGhlaWdodDogbnVsbCwKICAgICAgbWF4SGVpZ2h0OiBudWxsLAogICAgICBtaW5IZWlnaHQ6IG51bGwKICAgIH07CiAgICB0aGlzLm9wdGlvbnMgPSB1dGlsLmRlZXBFeHRlbmQoe30sIHRoaXMuZGVmYXVsdE9wdGlvbnMpOwoKICAgIC8vIENyZWF0ZSB0aGUgRE9NLCBwcm9wcywgYW5kIGVtaXR0ZXIKICAgIHRoaXMuX2NyZWF0ZShjb250YWluZXIpOwoKICAgIC8vIGFsbCBjb21wb25lbnRzIGxpc3RlZCBoZXJlIHdpbGwgYmUgcmVwYWludGVkIGF1dG9tYXRpY2FsbHkKICAgIHRoaXMuY29tcG9uZW50cyA9IFtdOwoKICAgIHRoaXMuYm9keSA9IHsKICAgICAgZG9tOiB0aGlzLmRvbSwKICAgICAgZG9tUHJvcHM6IHRoaXMucHJvcHMsCiAgICAgIGVtaXR0ZXI6IHsKICAgICAgICBvbjogdGhpcy5vbi5iaW5kKHRoaXMpLAogICAgICAgIG9mZjogdGhpcy5vZmYuYmluZCh0aGlzKSwKICAgICAgICBlbWl0OiB0aGlzLmVtaXQuYmluZCh0aGlzKQogICAgICB9LAogICAgICBoaWRkZW5EYXRlczogW10sCiAgICAgIHV0aWw6IHsKICAgICAgICB0b1NjcmVlbjogbWUuX3RvU2NyZWVuLmJpbmQobWUpLAogICAgICAgIHRvR2xvYmFsU2NyZWVuOiBtZS5fdG9HbG9iYWxTY3JlZW4uYmluZChtZSksIC8vIHRoaXMgcmVmZXJzIHRvIHRoZSByb290LndpZHRoCiAgICAgICAgdG9UaW1lOiBtZS5fdG9UaW1lLmJpbmQobWUpLAogICAgICAgIHRvR2xvYmFsVGltZTogbWUuX3RvR2xvYmFsVGltZS5iaW5kKG1lKQogICAgICB9CiAgICB9OwoKICAgIC8vIHJhbmdlCiAgICB0aGlzLnJhbmdlID0gbmV3IFJhbmdlKHRoaXMuYm9keSk7CiAgICB0aGlzLmNvbXBvbmVudHMucHVzaCh0aGlzLnJhbmdlKTsKICAgIHRoaXMuYm9keS5yYW5nZSA9IHRoaXMucmFuZ2U7CgogICAgLy8gdGltZSBheGlzCiAgICB0aGlzLnRpbWVBeGlzID0gbmV3IFRpbWVBeGlzKHRoaXMuYm9keSk7CiAgICB0aGlzLmNvbXBvbmVudHMucHVzaCh0aGlzLnRpbWVBeGlzKTsKICAgIC8vdGhpcy5ib2R5LnV0aWwuc25hcCA9IHRoaXMudGltZUF4aXMuc25hcC5iaW5kKHRoaXMudGltZUF4aXMpOwoKICAgIC8vIGN1cnJlbnQgdGltZSBiYXIKICAgIHRoaXMuY3VycmVudFRpbWUgPSBuZXcgQ3VycmVudFRpbWUodGhpcy5ib2R5KTsKICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKHRoaXMuY3VycmVudFRpbWUpOwoKICAgIC8vIGl0ZW0gc2V0CiAgICB0aGlzLmxpbmVncmFwaCA9IG5ldyBMaW5lR3JhcGgodGhpcy5ib2R5KTsKICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKHRoaXMubGluZWdyYXBoKTsKCiAgICB0aGlzLml0ZW1zRGF0YSA9IG51bGw7IC8vIERhdGFTZXQKICAgIHRoaXMuZ3JvdXBzRGF0YSA9IG51bGw7IC8vIERhdGFTZXQKCiAgICB0aGlzLm9uKCd0YXAnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbWUuZW1pdCgnY2xpY2snLCBtZS5nZXRFdmVudFByb3BlcnRpZXMoZXZlbnQpKTsKICAgIH0pOwogICAgdGhpcy5vbignZG91YmxldGFwJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIG1lLmVtaXQoJ2RvdWJsZUNsaWNrJywgbWUuZ2V0RXZlbnRQcm9wZXJ0aWVzKGV2ZW50KSk7CiAgICB9KTsKICAgIHRoaXMuZG9tLnJvb3Qub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICBtZS5lbWl0KCdjb250ZXh0bWVudScsIG1lLmdldEV2ZW50UHJvcGVydGllcyhldmVudCkpOwogICAgfTsKCiAgICAvLyBhcHBseSBvcHRpb25zCiAgICBpZiAob3B0aW9ucykgewogICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICB9CgogICAgLy8gSU1QT1JUQU5UOiBUSElTIEhBUFBFTlMgQkVGT1JFIFNFVCBJVEVNUyEKICAgIGlmIChncm91cHMpIHsKICAgICAgdGhpcy5zZXRHcm91cHMoZ3JvdXBzKTsKICAgIH0KCiAgICAvLyBjcmVhdGUgaXRlbXNldAogICAgaWYgKGl0ZW1zKSB7CiAgICAgIHRoaXMuc2V0SXRlbXMoaXRlbXMpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5fcmVkcmF3KCk7CiAgICB9CiAgfQoKICAvLyBFeHRlbmQgdGhlIGZ1bmN0aW9uYWxpdHkgZnJvbSBDb3JlCiAgR3JhcGgyZC5wcm90b3R5cGUgPSBuZXcgQ29yZSgpOwoKICBHcmFwaDJkLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIC8vIHZhbGlkYXRlIG9wdGlvbnMKICAgIHZhciBlcnJvckZvdW5kID0gVmFsaWRhdG9yLnZhbGlkYXRlKG9wdGlvbnMsIGFsbE9wdGlvbnMpOwogICAgaWYgKGVycm9yRm91bmQgPT09IHRydWUpIHsKICAgICAgY29uc29sZS5sb2coJyVjRXJyb3JzIGhhdmUgYmVlbiBmb3VuZCBpbiB0aGUgc3VwcGxpZWQgb3B0aW9ucyBvYmplY3QuJywgcHJpbnRTdHlsZSk7CiAgICB9CgogICAgQ29yZS5wcm90b3R5cGUuc2V0T3B0aW9ucy5jYWxsKHRoaXMsIG9wdGlvbnMpOwogIH07CgogIC8qKgogICAqIFNldCBpdGVtcwogICAqIEBwYXJhbSB7dmlzLkRhdGFTZXQgfCBBcnJheSB8IG51bGx9IGl0ZW1zCiAgICovCiAgR3JhcGgyZC5wcm90b3R5cGUuc2V0SXRlbXMgPSBmdW5jdGlvbiAoaXRlbXMpIHsKICAgIHZhciBpbml0aWFsTG9hZCA9IHRoaXMuaXRlbXNEYXRhID09IG51bGw7CgogICAgLy8gY29udmVydCB0byB0eXBlIERhdGFTZXQgd2hlbiBuZWVkZWQKICAgIHZhciBuZXdEYXRhU2V0OwogICAgaWYgKCFpdGVtcykgewogICAgICBuZXdEYXRhU2V0ID0gbnVsbDsKICAgIH0gZWxzZSBpZiAoaXRlbXMgaW5zdGFuY2VvZiBEYXRhU2V0IHx8IGl0ZW1zIGluc3RhbmNlb2YgRGF0YVZpZXcpIHsKICAgICAgbmV3RGF0YVNldCA9IGl0ZW1zOwogICAgfSBlbHNlIHsKICAgICAgLy8gdHVybiBhbiBhcnJheSBpbnRvIGEgZGF0YXNldAogICAgICBuZXdEYXRhU2V0ID0gbmV3IERhdGFTZXQoaXRlbXMsIHsKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBzdGFydDogJ0RhdGUnLAogICAgICAgICAgZW5kOiAnRGF0ZScKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8vIHNldCBpdGVtcwogICAgdGhpcy5pdGVtc0RhdGEgPSBuZXdEYXRhU2V0OwogICAgdGhpcy5saW5lZ3JhcGggJiYgdGhpcy5saW5lZ3JhcGguc2V0SXRlbXMobmV3RGF0YVNldCk7CgogICAgaWYgKGluaXRpYWxMb2FkKSB7CiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3RhcnQgIT0gdW5kZWZpbmVkIHx8IHRoaXMub3B0aW9ucy5lbmQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5vcHRpb25zLnN0YXJ0ICE9IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5zdGFydCA6IG51bGw7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMub3B0aW9ucy5lbmQgIT0gdW5kZWZpbmVkID8gdGhpcy5vcHRpb25zLmVuZCA6IG51bGw7CgogICAgICAgIHRoaXMuc2V0V2luZG93KHN0YXJ0LCBlbmQsIHsgYW5pbWF0aW9uOiBmYWxzZSB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpdCh7IGFuaW1hdGlvbjogZmFsc2UgfSk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBTZXQgZ3JvdXBzCiAgICogQHBhcmFtIHt2aXMuRGF0YVNldCB8IEFycmF5fSBncm91cHMKICAgKi8KICBHcmFwaDJkLnByb3RvdHlwZS5zZXRHcm91cHMgPSBmdW5jdGlvbiAoZ3JvdXBzKSB7CiAgICAvLyBjb252ZXJ0IHRvIHR5cGUgRGF0YVNldCB3aGVuIG5lZWRlZAogICAgdmFyIG5ld0RhdGFTZXQ7CiAgICBpZiAoIWdyb3VwcykgewogICAgICBuZXdEYXRhU2V0ID0gbnVsbDsKICAgIH0gZWxzZSBpZiAoZ3JvdXBzIGluc3RhbmNlb2YgRGF0YVNldCB8fCBncm91cHMgaW5zdGFuY2VvZiBEYXRhVmlldykgewogICAgICBuZXdEYXRhU2V0ID0gZ3JvdXBzOwogICAgfSBlbHNlIHsKICAgICAgLy8gdHVybiBhbiBhcnJheSBpbnRvIGEgZGF0YXNldAogICAgICBuZXdEYXRhU2V0ID0gbmV3IERhdGFTZXQoZ3JvdXBzKTsKICAgIH0KCiAgICB0aGlzLmdyb3Vwc0RhdGEgPSBuZXdEYXRhU2V0OwogICAgdGhpcy5saW5lZ3JhcGguc2V0R3JvdXBzKG5ld0RhdGFTZXQpOwogIH07CgogIC8qKgogICAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYW4gU1ZHIGVsZW1lbnQgd2l0aCB0aGUgaWNvbiBvZiB0aGUgZ3JvdXAgKHNpemUgZGV0ZXJtaW5lZCBieSBpY29uV2lkdGggYW5kIGljb25IZWlnaHQpLCB0aGUgbGFiZWwgb2YgdGhlIGdyb3VwIChjb250ZW50KSBhbmQgdGhlIHlBeGlzT3JpZW50YXRpb24gb2YgdGhlIGdyb3VwIChsZWZ0IG9yIHJpZ2h0KS4KICAgKiBAcGFyYW0gZ3JvdXBJZAogICAqIEBwYXJhbSB3aWR0aAogICAqIEBwYXJhbSBoZWlnaHQKICAgKi8KICBHcmFwaDJkLnByb3RvdHlwZS5nZXRMZWdlbmQgPSBmdW5jdGlvbiAoZ3JvdXBJZCwgd2lkdGgsIGhlaWdodCkgewogICAgaWYgKHdpZHRoID09PSB1bmRlZmluZWQpIHsKICAgICAgd2lkdGggPSAxNTsKICAgIH0KICAgIGlmIChoZWlnaHQgPT09IHVuZGVmaW5lZCkgewogICAgICBoZWlnaHQgPSAxNTsKICAgIH0KICAgIGlmICh0aGlzLmxpbmVncmFwaC5ncm91cHNbZ3JvdXBJZF0gIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5saW5lZ3JhcGguZ3JvdXBzW2dyb3VwSWRdLmdldExlZ2VuZCh3aWR0aCwgaGVpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAnY2Fubm90IGZpbmQgZ3JvdXA6JyArIGdyb3VwSWQ7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogVGhpcyBjaGVja3MgaWYgdGhlIHZpc2libGUgb3B0aW9uIG9mIHRoZSBzdXBwbGllZCBncm91cCAoYnkgSUQpIGlzIHRydWUgb3IgZmFsc2UuCiAgICogQHBhcmFtIGdyb3VwSWQKICAgKiBAcmV0dXJucyB7Kn0KICAgKi8KICBHcmFwaDJkLnByb3RvdHlwZS5pc0dyb3VwVmlzaWJsZSA9IGZ1bmN0aW9uIChncm91cElkKSB7CiAgICBpZiAodGhpcy5saW5lZ3JhcGguZ3JvdXBzW2dyb3VwSWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMubGluZWdyYXBoLmdyb3Vwc1tncm91cElkXS52aXNpYmxlICYmICh0aGlzLmxpbmVncmFwaC5vcHRpb25zLmdyb3Vwcy52aXNpYmlsaXR5W2dyb3VwSWRdID09PSB1bmRlZmluZWQgfHwgdGhpcy5saW5lZ3JhcGgub3B0aW9ucy5ncm91cHMudmlzaWJpbGl0eVtncm91cElkXSA9PSB0cnVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBHZXQgdGhlIGRhdGEgcmFuZ2Ugb2YgdGhlIGl0ZW0gc2V0LgogICAqIEByZXR1cm5zIHt7bWluOiBEYXRlLCBtYXg6IERhdGV9fSByYW5nZSAgQSByYW5nZSB3aXRoIGEgc3RhcnQgYW5kIGVuZCBEYXRlLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlbiBubyBtaW5pbXVtIGlzIGZvdW5kLCBtaW49PW51bGwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZW4gbm8gbWF4aW11bSBpcyBmb3VuZCwgbWF4PT1udWxsCiAgICovCiAgR3JhcGgyZC5wcm90b3R5cGUuZ2V0RGF0YVJhbmdlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG1pbiA9IG51bGw7CiAgICB2YXIgbWF4ID0gbnVsbDsKCiAgICAvLyBjYWxjdWxhdGUgbWluIGZyb20gc3RhcnQgZmlsZWQKICAgIGZvciAodmFyIGdyb3VwSWQgaW4gdGhpcy5saW5lZ3JhcGguZ3JvdXBzKSB7CiAgICAgIGlmICh0aGlzLmxpbmVncmFwaC5ncm91cHMuaGFzT3duUHJvcGVydHkoZ3JvdXBJZCkpIHsKICAgICAgICBpZiAodGhpcy5saW5lZ3JhcGguZ3JvdXBzW2dyb3VwSWRdLnZpc2libGUgPT0gdHJ1ZSkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVncmFwaC5ncm91cHNbZ3JvdXBJZF0uaXRlbXNEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5saW5lZ3JhcGguZ3JvdXBzW2dyb3VwSWRdLml0ZW1zRGF0YVtpXTsKICAgICAgICAgICAgdmFyIHZhbHVlID0gdXRpbC5jb252ZXJ0KGl0ZW0ueCwgJ0RhdGUnKS52YWx1ZU9mKCk7CiAgICAgICAgICAgIG1pbiA9IG1pbiA9PSBudWxsID8gdmFsdWUgOiBtaW4gPiB2YWx1ZSA/IHZhbHVlIDogbWluOwogICAgICAgICAgICBtYXggPSBtYXggPT0gbnVsbCA/IHZhbHVlIDogbWF4IDwgdmFsdWUgPyB2YWx1ZSA6IG1heDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gewogICAgICBtaW46IG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGwsCiAgICAgIG1heDogbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbAogICAgfTsKICB9OwoKICAvKioKICAgKiBHZW5lcmF0ZSBUaW1lbGluZSByZWxhdGVkIGluZm9ybWF0aW9uIGZyb20gYW4gZXZlbnQKICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggcmVsYXRlZCBpbmZvcm1hdGlvbiwgbGlrZSBvbiB3aGljaCBhcmVhCiAgICogICAgICAgICAgICAgICAgICBUaGUgZXZlbnQgaGFwcGVuZWQsIHdoZXRoZXIgY2xpY2tlZCBvbiBhbiBpdGVtLCBldGMuCiAgICovCiAgR3JhcGgyZC5wcm90b3R5cGUuZ2V0RXZlbnRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgY2xpZW50WCA9IGV2ZW50LmNlbnRlciA/IGV2ZW50LmNlbnRlci54IDogZXZlbnQuY2xpZW50WDsKICAgIHZhciBjbGllbnRZID0gZXZlbnQuY2VudGVyID8gZXZlbnQuY2VudGVyLnkgOiBldmVudC5jbGllbnRZOwogICAgdmFyIHggPSBjbGllbnRYIC0gdXRpbC5nZXRBYnNvbHV0ZUxlZnQodGhpcy5kb20uY2VudGVyQ29udGFpbmVyKTsKICAgIHZhciB5ID0gY2xpZW50WSAtIHV0aWwuZ2V0QWJzb2x1dGVUb3AodGhpcy5kb20uY2VudGVyQ29udGFpbmVyKTsKICAgIHZhciB0aW1lID0gdGhpcy5fdG9UaW1lKHgpOwoKICAgIHZhciBjdXN0b21UaW1lID0gQ3VzdG9tVGltZS5jdXN0b21UaW1lRnJvbVRhcmdldChldmVudCk7CgogICAgdmFyIGVsZW1lbnQgPSB1dGlsLmdldFRhcmdldChldmVudCk7CiAgICB2YXIgd2hhdCA9IG51bGw7CiAgICBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy50aW1lQXhpcy5kb20uZm9yZWdyb3VuZCkpIHsKICAgICAgd2hhdCA9ICdheGlzJzsKICAgIH0gZWxzZSBpZiAodGhpcy50aW1lQXhpczIgJiYgdXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy50aW1lQXhpczIuZG9tLmZvcmVncm91bmQpKSB7CiAgICAgIHdoYXQgPSAnYXhpcyc7CiAgICB9IGVsc2UgaWYgKHV0aWwuaGFzUGFyZW50KGVsZW1lbnQsIHRoaXMubGluZWdyYXBoLnlBeGlzTGVmdC5kb20uZnJhbWUpKSB7CiAgICAgIHdoYXQgPSAnZGF0YS1heGlzJzsKICAgIH0gZWxzZSBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy5saW5lZ3JhcGgueUF4aXNSaWdodC5kb20uZnJhbWUpKSB7CiAgICAgIHdoYXQgPSAnZGF0YS1heGlzJzsKICAgIH0gZWxzZSBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy5saW5lZ3JhcGgubGVnZW5kTGVmdC5kb20uZnJhbWUpKSB7CiAgICAgIHdoYXQgPSAnbGVnZW5kJzsKICAgIH0gZWxzZSBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy5saW5lZ3JhcGgubGVnZW5kUmlnaHQuZG9tLmZyYW1lKSkgewogICAgICB3aGF0ID0gJ2xlZ2VuZCc7CiAgICB9IGVsc2UgaWYgKGN1c3RvbVRpbWUgIT0gbnVsbCkgewogICAgICB3aGF0ID0gJ2N1c3RvbS10aW1lJzsKICAgIH0gZWxzZSBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy5jdXJyZW50VGltZS5iYXIpKSB7CiAgICAgIHdoYXQgPSAnY3VycmVudC10aW1lJzsKICAgIH0gZWxzZSBpZiAodXRpbC5oYXNQYXJlbnQoZWxlbWVudCwgdGhpcy5kb20uY2VudGVyKSkgewogICAgICB3aGF0ID0gJ2JhY2tncm91bmQnOwogICAgfQoKICAgIHZhciB2YWx1ZSA9IFtdOwogICAgdmFyIHlBeGlzTGVmdCA9IHRoaXMubGluZWdyYXBoLnlBeGlzTGVmdDsKICAgIHZhciB5QXhpc1JpZ2h0ID0gdGhpcy5saW5lZ3JhcGgueUF4aXNSaWdodDsKICAgIGlmICgheUF4aXNMZWZ0LmhpZGRlbikgewogICAgICB2YWx1ZS5wdXNoKHlBeGlzTGVmdC5zY3JlZW5Ub1ZhbHVlKHkpKTsKICAgIH0KICAgIGlmICgheUF4aXNSaWdodC5oaWRkZW4pIHsKICAgICAgdmFsdWUucHVzaCh5QXhpc1JpZ2h0LnNjcmVlblRvVmFsdWUoeSkpOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGV2ZW50OiBldmVudCwKICAgICAgd2hhdDogd2hhdCwKICAgICAgcGFnZVg6IGV2ZW50LnNyY0V2ZW50ID8gZXZlbnQuc3JjRXZlbnQucGFnZVggOiBldmVudC5wYWdlWCwKICAgICAgcGFnZVk6IGV2ZW50LnNyY0V2ZW50ID8gZXZlbnQuc3JjRXZlbnQucGFnZVkgOiBldmVudC5wYWdlWSwKICAgICAgeDogeCwKICAgICAgeTogeSwKICAgICAgdGltZTogdGltZSwKICAgICAgdmFsdWU6IHZhbHVlCiAgICB9OwogIH07CgogIC8qKgogICAqIExvYWQgYSBjb25maWd1cmF0b3IKICAgKiBAcmV0dXJuIHtPYmplY3R9CiAgICogQHByaXZhdGUKICAgKi8KICBHcmFwaDJkLnByb3RvdHlwZS5fY3JlYXRlQ29uZmlndXJhdG9yID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBDb25maWd1cmF0b3IodGhpcywgdGhpcy5kb20uY29udGFpbmVyLCBjb25maWd1cmVPcHRpb25zKTsKICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IEdyYXBoMmQ7CgovKioqLyB9LAovKiA1MCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIERPTXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpOwogIHZhciBEYXRhU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKICB2YXIgRGF0YVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKICB2YXIgQ29tcG9uZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7CiAgdmFyIERhdGFBeGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7CiAgdmFyIEdyYXBoR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTsKICB2YXIgTGVnZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7CiAgdmFyIEJhckZ1bmN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpOwogIHZhciBMaW5lRnVuY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7CgogIHZhciBVTkdST1VQRUQgPSAnX191bmdyb3VwZWRfXyc7IC8vIHJlc2VydmVkIGdyb3VwIGlkIGZvciB1bmdyb3VwZWQgaXRlbXMKCiAgLyoqCiAgICogVGhpcyBpcyB0aGUgY29uc3RydWN0b3Igb2YgdGhlIExpbmVHcmFwaC4gSXQgcmVxdWlyZXMgYSBUaW1lbGluZSBib2R5IGFuZCBvcHRpb25zLgogICAqCiAgICogQHBhcmFtIGJvZHkKICAgKiBAcGFyYW0gb3B0aW9ucwogICAqIEBjb25zdHJ1Y3RvcgogICAqLwogIGZ1bmN0aW9uIExpbmVHcmFwaChib2R5LCBvcHRpb25zKSB7CiAgICB0aGlzLmlkID0gdXRpbC5yYW5kb21VVUlEKCk7CiAgICB0aGlzLmJvZHkgPSBib2R5OwoKICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgIHlBeGlzT3JpZW50YXRpb246ICdsZWZ0JywKICAgICAgZGVmYXVsdEdyb3VwOiAnZGVmYXVsdCcsCiAgICAgIHNvcnQ6IHRydWUsCiAgICAgIHNhbXBsaW5nOiB0cnVlLAogICAgICBzdGFjazogZmFsc2UsCiAgICAgIGdyYXBoSGVpZ2h0OiAnNDAwcHgnLAogICAgICBzaGFkZWQ6IHsKICAgICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgICBvcmllbnRhdGlvbjogJ2JvdHRvbScgLy8gdG9wLCBib3R0b20KICAgICAgfSwKICAgICAgc3R5bGU6ICdsaW5lJywgLy8gbGluZSwgYmFyCiAgICAgIGJhckNoYXJ0OiB7CiAgICAgICAgd2lkdGg6IDUwLAogICAgICAgIHNpZGVCeVNpZGU6IGZhbHNlLAogICAgICAgIGFsaWduOiAnY2VudGVyJyAvLyBsZWZ0LCBjZW50ZXIsIHJpZ2h0CiAgICAgIH0sCiAgICAgIGludGVycG9sYXRpb246IHsKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHBhcmFtZXRyaXphdGlvbjogJ2NlbnRyaXBldGFsJywgLy8gdW5pZm9ybSAoYWxwaGEgPSAwLjApLCBjaG9yZGFsIChhbHBoYSA9IDEuMCksIGNlbnRyaXBldGFsIChhbHBoYSA9IDAuNSkKICAgICAgICBhbHBoYTogMC41CiAgICAgIH0sCiAgICAgIGRyYXdQb2ludHM6IHsKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHNpemU6IDYsCiAgICAgICAgc3R5bGU6ICdzcXVhcmUnIC8vIHNxdWFyZSwgY2lyY2xlCiAgICAgIH0sCiAgICAgIGRhdGFBeGlzOiB7CiAgICAgICAgc2hvd01pbm9yTGFiZWxzOiB0cnVlLAogICAgICAgIHNob3dNYWpvckxhYmVsczogdHJ1ZSwKICAgICAgICBpY29uczogZmFsc2UsCiAgICAgICAgd2lkdGg6ICc0MHB4JywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGFsaWduWmVyb3M6IHRydWUsCiAgICAgICAgbGVmdDogewogICAgICAgICAgcmFuZ2U6IHsgbWluOiB1bmRlZmluZWQsIG1heDogdW5kZWZpbmVkIH0sCiAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICB9LAogICAgICAgICAgdGl0bGU6IHsgdGV4dDogdW5kZWZpbmVkLCBzdHlsZTogdW5kZWZpbmVkIH0KICAgICAgICB9LAogICAgICAgIHJpZ2h0OiB7CiAgICAgICAgICByYW5nZTogeyBtaW46IHVuZGVmaW5lZCwgbWF4OiB1bmRlZmluZWQgfSwKICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgIH0sCiAgICAgICAgICB0aXRsZTogeyB0ZXh0OiB1bmRlZmluZWQsIHN0eWxlOiB1bmRlZmluZWQgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbGVnZW5kOiB7CiAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgaWNvbnM6IHRydWUsCiAgICAgICAgbGVmdDogewogICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWxlZnQnIC8vIHRvcC9ib3R0b20gLSBsZWZ0LHJpZ2h0CiAgICAgICAgfSwKICAgICAgICByaWdodDogewogICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JyAvLyB0b3AvYm90dG9tIC0gbGVmdCxyaWdodAogICAgICAgIH0KICAgICAgfSwKICAgICAgZ3JvdXBzOiB7CiAgICAgICAgdmlzaWJpbGl0eToge30KICAgICAgfQogICAgfTsKCiAgICAvLyBvcHRpb25zIGlzIHNoYXJlZCBieSB0aGlzIEl0ZW1TZXQgYW5kIGFsbCBpdHMgaXRlbXMKICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKICAgIHRoaXMuZG9tID0ge307CiAgICB0aGlzLnByb3BzID0ge307CiAgICB0aGlzLmhhbW1lciA9IG51bGw7CiAgICB0aGlzLmdyb3VwcyA9IHt9OwogICAgdGhpcy5hYm9ydGVkR3JhcGhVcGRhdGUgPSBmYWxzZTsKICAgIHRoaXMudXBkYXRlU1ZHaGVpZ2h0ID0gZmFsc2U7CiAgICB0aGlzLnVwZGF0ZVNWR2hlaWdodE9uUmVzaXplID0gZmFsc2U7CgogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuaXRlbXNEYXRhID0gbnVsbDsgLy8gRGF0YVNldAogICAgdGhpcy5ncm91cHNEYXRhID0gbnVsbDsgLy8gRGF0YVNldAoKICAgIC8vIGxpc3RlbmVycyBmb3IgdGhlIERhdGFTZXQgb2YgdGhlIGl0ZW1zCiAgICB0aGlzLml0ZW1MaXN0ZW5lcnMgPSB7CiAgICAgICdhZGQnOiBmdW5jdGlvbiBhZGQoZXZlbnQsIHBhcmFtcywgc2VuZGVySWQpIHsKICAgICAgICBtZS5fb25BZGQocGFyYW1zLml0ZW1zKTsKICAgICAgfSwKICAgICAgJ3VwZGF0ZSc6IGZ1bmN0aW9uIHVwZGF0ZShldmVudCwgcGFyYW1zLCBzZW5kZXJJZCkgewogICAgICAgIG1lLl9vblVwZGF0ZShwYXJhbXMuaXRlbXMpOwogICAgICB9LAogICAgICAncmVtb3ZlJzogZnVuY3Rpb24gcmVtb3ZlKGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkKSB7CiAgICAgICAgbWUuX29uUmVtb3ZlKHBhcmFtcy5pdGVtcyk7CiAgICAgIH0KICAgIH07CgogICAgLy8gbGlzdGVuZXJzIGZvciB0aGUgRGF0YVNldCBvZiB0aGUgZ3JvdXBzCiAgICB0aGlzLmdyb3VwTGlzdGVuZXJzID0gewogICAgICAnYWRkJzogZnVuY3Rpb24gYWRkKGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkKSB7CiAgICAgICAgbWUuX29uQWRkR3JvdXBzKHBhcmFtcy5pdGVtcyk7CiAgICAgIH0sCiAgICAgICd1cGRhdGUnOiBmdW5jdGlvbiB1cGRhdGUoZXZlbnQsIHBhcmFtcywgc2VuZGVySWQpIHsKICAgICAgICBtZS5fb25VcGRhdGVHcm91cHMocGFyYW1zLml0ZW1zKTsKICAgICAgfSwKICAgICAgJ3JlbW92ZSc6IGZ1bmN0aW9uIHJlbW92ZShldmVudCwgcGFyYW1zLCBzZW5kZXJJZCkgewogICAgICAgIG1lLl9vblJlbW92ZUdyb3VwcyhwYXJhbXMuaXRlbXMpOwogICAgICB9CiAgICB9OwoKICAgIHRoaXMuaXRlbXMgPSB7fTsgLy8gb2JqZWN0IHdpdGggYW4gSXRlbSBmb3IgZXZlcnkgZGF0YSBpdGVtCiAgICB0aGlzLnNlbGVjdGlvbiA9IFtdOyAvLyBsaXN0IHdpdGggdGhlIGlkcyBvZiBhbGwgc2VsZWN0ZWQgbm9kZXMKICAgIHRoaXMubGFzdFN0YXJ0ID0gdGhpcy5ib2R5LnJhbmdlLnN0YXJ0OwogICAgdGhpcy50b3VjaFBhcmFtcyA9IHt9OyAvLyBzdG9yZXMgcHJvcGVydGllcyB3aGlsZSBkcmFnZ2luZwoKICAgIHRoaXMuc3ZnRWxlbWVudHMgPSB7fTsKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIHRoaXMuZ3JvdXBzVXNpbmdEZWZhdWx0U3R5bGVzID0gWzBdOwogICAgdGhpcy5DT1VOVEVSID0gMDsKICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdyYW5nZWNoYW5nZWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIG1lLmxhc3RTdGFydCA9IG1lLmJvZHkucmFuZ2Uuc3RhcnQ7CiAgICAgIG1lLnN2Zy5zdHlsZS5sZWZ0ID0gdXRpbC5vcHRpb24uYXNTaXplKC1tZS5wcm9wcy53aWR0aCk7CiAgICAgIG1lLnJlZHJhdy5jYWxsKG1lLCB0cnVlKTsKICAgIH0pOwoKICAgIC8vIGNyZWF0ZSB0aGUgSFRNTCBET00KICAgIHRoaXMuX2NyZWF0ZSgpOwogICAgdGhpcy5mcmFtZXdvcmsgPSB7IHN2ZzogdGhpcy5zdmcsIHN2Z0VsZW1lbnRzOiB0aGlzLnN2Z0VsZW1lbnRzLCBvcHRpb25zOiB0aGlzLm9wdGlvbnMsIGdyb3VwczogdGhpcy5ncm91cHMgfTsKICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2NoYW5nZScpOwogIH0KCiAgTGluZUdyYXBoLnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTsKCiAgLyoqCiAgICogQ3JlYXRlIHRoZSBIVE1MIERPTSBmb3IgdGhlIEl0ZW1TZXQKICAgKi8KICBMaW5lR3JhcGgucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGZyYW1lLmNsYXNzTmFtZSA9ICd2aXMtbGluZS1ncmFwaCc7CiAgICB0aGlzLmRvbS5mcmFtZSA9IGZyYW1lOwoKICAgIC8vIGNyZWF0ZSBzdmcgZWxlbWVudCBmb3IgZ3JhcGggZHJhd2luZy4KICAgIHRoaXMuc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTsKICAgIHRoaXMuc3ZnLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgIHRoaXMuc3ZnLnN0eWxlLmhlaWdodCA9ICgnJyArIHRoaXMub3B0aW9ucy5ncmFwaEhlaWdodCkucmVwbGFjZSgncHgnLCAnJykgKyAncHgnOwogICAgdGhpcy5zdmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICBmcmFtZS5hcHBlbmRDaGlsZCh0aGlzLnN2Zyk7CgogICAgLy8gZGF0YSBheGlzCiAgICB0aGlzLm9wdGlvbnMuZGF0YUF4aXMub3JpZW50YXRpb24gPSAnbGVmdCc7CiAgICB0aGlzLnlBeGlzTGVmdCA9IG5ldyBEYXRhQXhpcyh0aGlzLmJvZHksIHRoaXMub3B0aW9ucy5kYXRhQXhpcywgdGhpcy5zdmcsIHRoaXMub3B0aW9ucy5ncm91cHMpOwoKICAgIHRoaXMub3B0aW9ucy5kYXRhQXhpcy5vcmllbnRhdGlvbiA9ICdyaWdodCc7CiAgICB0aGlzLnlBeGlzUmlnaHQgPSBuZXcgRGF0YUF4aXModGhpcy5ib2R5LCB0aGlzLm9wdGlvbnMuZGF0YUF4aXMsIHRoaXMuc3ZnLCB0aGlzLm9wdGlvbnMuZ3JvdXBzKTsKICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuZGF0YUF4aXMub3JpZW50YXRpb247CgogICAgLy8gbGVnZW5kcwogICAgdGhpcy5sZWdlbmRMZWZ0ID0gbmV3IExlZ2VuZCh0aGlzLmJvZHksIHRoaXMub3B0aW9ucy5sZWdlbmQsICdsZWZ0JywgdGhpcy5vcHRpb25zLmdyb3Vwcyk7CiAgICB0aGlzLmxlZ2VuZFJpZ2h0ID0gbmV3IExlZ2VuZCh0aGlzLmJvZHksIHRoaXMub3B0aW9ucy5sZWdlbmQsICdyaWdodCcsIHRoaXMub3B0aW9ucy5ncm91cHMpOwoKICAgIHRoaXMuc2hvdygpOwogIH07CgogIC8qKgogICAqIHNldCB0aGUgb3B0aW9ucyBvZiB0aGUgTGluZUdyYXBoLiB0aGUgbWVyZ2VPcHRpb25zIGlzIHVzZWQgZm9yIHN1Yk9iamVjdHMgdGhhdCBoYXZlIGFuIGVuYWJsZWQgZWxlbWVudC4KICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucwogICAqLwogIExpbmVHcmFwaC5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CiAgICBpZiAob3B0aW9ucykgewogICAgICB2YXIgZmllbGRzID0gWydzYW1wbGluZycsICdkZWZhdWx0R3JvdXAnLCAnc3RhY2snLCAnaGVpZ2h0JywgJ2dyYXBoSGVpZ2h0JywgJ3lBeGlzT3JpZW50YXRpb24nLCAnc3R5bGUnLCAnYmFyQ2hhcnQnLCAnZGF0YUF4aXMnLCAnc29ydCcsICdncm91cHMnXTsKICAgICAgaWYgKG9wdGlvbnMuZ3JhcGhIZWlnaHQgPT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLnVwZGF0ZVNWR2hlaWdodCA9IHRydWU7CiAgICAgICAgdGhpcy51cGRhdGVTVkdoZWlnaHRPblJlc2l6ZSA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2R5LmRvbVByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmdyYXBoSGVpZ2h0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAocGFyc2VJbnQoKG9wdGlvbnMuZ3JhcGhIZWlnaHQgKyAnJykucmVwbGFjZSgncHgnLCAnJykpIDwgdGhpcy5ib2R5LmRvbVByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQpIHsKICAgICAgICAgIHRoaXMudXBkYXRlU1ZHaGVpZ2h0ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdXRpbC5zZWxlY3RpdmVEZWVwRXh0ZW5kKGZpZWxkcywgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKICAgICAgdXRpbC5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBvcHRpb25zLCAnaW50ZXJwb2xhdGlvbicpOwogICAgICB1dGlsLm1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMsICdkcmF3UG9pbnRzJyk7CiAgICAgIHV0aWwubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucywgb3B0aW9ucywgJ3NoYWRlZCcpOwogICAgICB1dGlsLm1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMsICdsZWdlbmQnKTsKCiAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHsKICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9PSAnb2JqZWN0JykgewogICAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24pIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24gPT0gJ3VuaWZvcm0nKSB7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGEgPSAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24gPT0gJ2Nob3JkYWwnKSB7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGEgPSAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnBhcmFtZXRyaXphdGlvbiA9ICdjZW50cmlwZXRhbCc7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGEgPSAwLjU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnlBeGlzTGVmdCkgewogICAgICAgIGlmIChvcHRpb25zLmRhdGFBeGlzICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMueUF4aXNMZWZ0LnNldE9wdGlvbnModGhpcy5vcHRpb25zLmRhdGFBeGlzKTsKICAgICAgICAgIHRoaXMueUF4aXNSaWdodC5zZXRPcHRpb25zKHRoaXMub3B0aW9ucy5kYXRhQXhpcyk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5sZWdlbmRMZWZ0KSB7CiAgICAgICAgaWYgKG9wdGlvbnMubGVnZW5kICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMubGVnZW5kTGVmdC5zZXRPcHRpb25zKHRoaXMub3B0aW9ucy5sZWdlbmQpOwogICAgICAgICAgdGhpcy5sZWdlbmRSaWdodC5zZXRPcHRpb25zKHRoaXMub3B0aW9ucy5sZWdlbmQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KFVOR1JPVVBFRCkpIHsKICAgICAgICB0aGlzLmdyb3Vwc1tVTkdST1VQRURdLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIH0KICAgIH0KCiAgICAvLyB0aGlzIGlzIHVzZWQgdG8gcmVkcmF3IHRoZSBncmFwaCBpZiB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZ3JvdXBzIGlzIGNoYW5nZWQuCiAgICBpZiAodGhpcy5kb20uZnJhbWUpIHsKICAgICAgdGhpcy5yZWRyYXcodHJ1ZSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogSGlkZSB0aGUgY29tcG9uZW50IGZyb20gdGhlIERPTQogICAqLwogIExpbmVHcmFwaC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIHJlbW92ZSB0aGUgZnJhbWUgY29udGFpbmluZyB0aGUgaXRlbXMKICAgIGlmICh0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20uZnJhbWUpOwogICAgfQogIH07CgogIC8qKgogICAqIFNob3cgdGhlIGNvbXBvbmVudCBpbiB0aGUgRE9NICh3aGVuIG5vdCBhbHJlYWR5IHZpc2libGUpLgogICAqIEByZXR1cm4ge0Jvb2xlYW59IGNoYW5nZWQKICAgKi8KICBMaW5lR3JhcGgucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyBzaG93IGZyYW1lIGNvbnRhaW5pbmcgdGhlIGl0ZW1zCiAgICBpZiAoIXRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5ib2R5LmRvbS5jZW50ZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uZnJhbWUpOwogICAgfQogIH07CgogIC8qKgogICAqIFNldCBpdGVtcwogICAqIEBwYXJhbSB7dmlzLkRhdGFTZXQgfCBudWxsfSBpdGVtcwogICAqLwogIExpbmVHcmFwaC5wcm90b3R5cGUuc2V0SXRlbXMgPSBmdW5jdGlvbiAoaXRlbXMpIHsKICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgaWRzLAogICAgICAgIG9sZEl0ZW1zRGF0YSA9IHRoaXMuaXRlbXNEYXRhOwoKICAgIC8vIHJlcGxhY2UgdGhlIGRhdGFzZXQKICAgIGlmICghaXRlbXMpIHsKICAgICAgdGhpcy5pdGVtc0RhdGEgPSBudWxsOwogICAgfSBlbHNlIGlmIChpdGVtcyBpbnN0YW5jZW9mIERhdGFTZXQgfHwgaXRlbXMgaW5zdGFuY2VvZiBEYXRhVmlldykgewogICAgICB0aGlzLml0ZW1zRGF0YSA9IGl0ZW1zOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIERhdGFTZXQgb3IgRGF0YVZpZXcnKTsKICAgIH0KCiAgICBpZiAob2xkSXRlbXNEYXRhKSB7CiAgICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gb2xkIGRhdGFzZXQKICAgICAgdXRpbC5mb3JFYWNoKHRoaXMuaXRlbUxpc3RlbmVycywgZnVuY3Rpb24gKGNhbGxiYWNrLCBldmVudCkgewogICAgICAgIG9sZEl0ZW1zRGF0YS5vZmYoZXZlbnQsIGNhbGxiYWNrKTsKICAgICAgfSk7CgogICAgICAvLyByZW1vdmUgYWxsIGRyYXduIGl0ZW1zCiAgICAgIGlkcyA9IG9sZEl0ZW1zRGF0YS5nZXRJZHMoKTsKICAgICAgdGhpcy5fb25SZW1vdmUoaWRzKTsKICAgIH0KCiAgICBpZiAodGhpcy5pdGVtc0RhdGEpIHsKICAgICAgLy8gc3Vic2NyaWJlIHRvIG5ldyBkYXRhc2V0CiAgICAgIHZhciBpZCA9IHRoaXMuaWQ7CiAgICAgIHV0aWwuZm9yRWFjaCh0aGlzLml0ZW1MaXN0ZW5lcnMsIGZ1bmN0aW9uIChjYWxsYmFjaywgZXZlbnQpIHsKICAgICAgICBtZS5pdGVtc0RhdGEub24oZXZlbnQsIGNhbGxiYWNrLCBpZCk7CiAgICAgIH0pOwoKICAgICAgLy8gYWRkIGFsbCBuZXcgaXRlbXMKICAgICAgaWRzID0gdGhpcy5pdGVtc0RhdGEuZ2V0SWRzKCk7CiAgICAgIHRoaXMuX29uQWRkKGlkcyk7CiAgICB9CiAgICB0aGlzLl91cGRhdGVVbmdyb3VwZWQoKTsKICAgIC8vdGhpcy5fdXBkYXRlR3JhcGgoKTsKICAgIHRoaXMucmVkcmF3KHRydWUpOwogIH07CgogIC8qKgogICAqIFNldCBncm91cHMKICAgKiBAcGFyYW0ge3Zpcy5EYXRhU2V0fSBncm91cHMKICAgKi8KICBMaW5lR3JhcGgucHJvdG90eXBlLnNldEdyb3VwcyA9IGZ1bmN0aW9uIChncm91cHMpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgaWRzOwoKICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gY3VycmVudCBkYXRhc2V0CiAgICBpZiAodGhpcy5ncm91cHNEYXRhKSB7CiAgICAgIHV0aWwuZm9yRWFjaCh0aGlzLmdyb3VwTGlzdGVuZXJzLCBmdW5jdGlvbiAoY2FsbGJhY2ssIGV2ZW50KSB7CiAgICAgICAgbWUuZ3JvdXBzRGF0YS5vZmYoZXZlbnQsIGNhbGxiYWNrKTsKICAgICAgfSk7CgogICAgICAvLyByZW1vdmUgYWxsIGRyYXduIGdyb3VwcwogICAgICBpZHMgPSB0aGlzLmdyb3Vwc0RhdGEuZ2V0SWRzKCk7CiAgICAgIHRoaXMuZ3JvdXBzRGF0YSA9IG51bGw7CiAgICAgIHRoaXMuX29uUmVtb3ZlR3JvdXBzKGlkcyk7IC8vIG5vdGU6IHRoaXMgd2lsbCBjYXVzZSBhIHJlZHJhdwogICAgfQoKICAgIC8vIHJlcGxhY2UgdGhlIGRhdGFzZXQKICAgIGlmICghZ3JvdXBzKSB7CiAgICAgIHRoaXMuZ3JvdXBzRGF0YSA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGdyb3VwcyBpbnN0YW5jZW9mIERhdGFTZXQgfHwgZ3JvdXBzIGluc3RhbmNlb2YgRGF0YVZpZXcpIHsKICAgICAgdGhpcy5ncm91cHNEYXRhID0gZ3JvdXBzOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIERhdGFTZXQgb3IgRGF0YVZpZXcnKTsKICAgIH0KCiAgICBpZiAodGhpcy5ncm91cHNEYXRhKSB7CiAgICAgIC8vIHN1YnNjcmliZSB0byBuZXcgZGF0YXNldAogICAgICB2YXIgaWQgPSB0aGlzLmlkOwogICAgICB1dGlsLmZvckVhY2godGhpcy5ncm91cExpc3RlbmVycywgZnVuY3Rpb24gKGNhbGxiYWNrLCBldmVudCkgewogICAgICAgIG1lLmdyb3Vwc0RhdGEub24oZXZlbnQsIGNhbGxiYWNrLCBpZCk7CiAgICAgIH0pOwoKICAgICAgLy8gZHJhdyBhbGwgbXMKICAgICAgaWRzID0gdGhpcy5ncm91cHNEYXRhLmdldElkcygpOwogICAgICB0aGlzLl9vbkFkZEdyb3VwcyhpZHMpOwogICAgfQogICAgdGhpcy5fb25VcGRhdGUoKTsKICB9OwoKICAvKioKICAgKiBVcGRhdGUgdGhlIGRhdGEKICAgKiBAcGFyYW0gW2lkc10KICAgKiBAcHJpdmF0ZQogICAqLwogIExpbmVHcmFwaC5wcm90b3R5cGUuX29uVXBkYXRlID0gZnVuY3Rpb24gKGlkcykgewogICAgdGhpcy5fdXBkYXRlVW5ncm91cGVkKCk7CiAgICB0aGlzLl91cGRhdGVBbGxHcm91cERhdGEoKTsKICAgIC8vdGhpcy5fdXBkYXRlR3JhcGgoKTsKICAgIHRoaXMucmVkcmF3KHRydWUpOwogIH07CiAgTGluZUdyYXBoLnByb3RvdHlwZS5fb25BZGQgPSBmdW5jdGlvbiAoaWRzKSB7CiAgICB0aGlzLl9vblVwZGF0ZShpZHMpOwogIH07CiAgTGluZUdyYXBoLnByb3RvdHlwZS5fb25SZW1vdmUgPSBmdW5jdGlvbiAoaWRzKSB7CiAgICB0aGlzLl9vblVwZGF0ZShpZHMpOwogIH07CiAgTGluZUdyYXBoLnByb3RvdHlwZS5fb25VcGRhdGVHcm91cHMgPSBmdW5jdGlvbiAoZ3JvdXBJZHMpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGdyb3VwID0gdGhpcy5ncm91cHNEYXRhLmdldChncm91cElkc1tpXSk7CiAgICAgIHRoaXMuX3VwZGF0ZUdyb3VwKGdyb3VwLCBncm91cElkc1tpXSk7CiAgICB9CgogICAgLy90aGlzLl91cGRhdGVHcmFwaCgpOwogICAgdGhpcy5yZWRyYXcodHJ1ZSk7CiAgfTsKICBMaW5lR3JhcGgucHJvdG90eXBlLl9vbkFkZEdyb3VwcyA9IGZ1bmN0aW9uIChncm91cElkcykgewogICAgdGhpcy5fb25VcGRhdGVHcm91cHMoZ3JvdXBJZHMpOwogIH07CgogIC8qKgogICAqIHRoaXMgY2xlYW5zIHRoZSBncm91cCBvdXQgb2ZmIHRoZSBsZWdlbmRzIGFuZCB0aGUgZGF0YWF4aXMsIHVwZGF0ZXMgdGhlIHVuZ3JvdXBlZCBhbmQgdXBkYXRlcyB0aGUgZ3JhcGgKICAgKiBAcGFyYW0ge0FycmF5fSBncm91cElkcwogICAqIEBwcml2YXRlCiAgICovCiAgTGluZUdyYXBoLnByb3RvdHlwZS5fb25SZW1vdmVHcm91cHMgPSBmdW5jdGlvbiAoZ3JvdXBJZHMpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KGdyb3VwSWRzW2ldKSkgewogICAgICAgIGlmICh0aGlzLmdyb3Vwc1tncm91cElkc1tpXV0ub3B0aW9ucy55QXhpc09yaWVudGF0aW9uID09ICdyaWdodCcpIHsKICAgICAgICAgIHRoaXMueUF4aXNSaWdodC5yZW1vdmVHcm91cChncm91cElkc1tpXSk7CiAgICAgICAgICB0aGlzLmxlZ2VuZFJpZ2h0LnJlbW92ZUdyb3VwKGdyb3VwSWRzW2ldKTsKICAgICAgICAgIHRoaXMubGVnZW5kUmlnaHQucmVkcmF3KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMueUF4aXNMZWZ0LnJlbW92ZUdyb3VwKGdyb3VwSWRzW2ldKTsKICAgICAgICAgIHRoaXMubGVnZW5kTGVmdC5yZW1vdmVHcm91cChncm91cElkc1tpXSk7CiAgICAgICAgICB0aGlzLmxlZ2VuZExlZnQucmVkcmF3KCk7CiAgICAgICAgfQogICAgICAgIGRlbGV0ZSB0aGlzLmdyb3Vwc1tncm91cElkc1tpXV07CiAgICAgIH0KICAgIH0KICAgIHRoaXMuX3VwZGF0ZVVuZ3JvdXBlZCgpOwogICAgLy90aGlzLl91cGRhdGVHcmFwaCgpOwogICAgdGhpcy5yZWRyYXcodHJ1ZSk7CiAgfTsKCiAgLyoqCiAgICogdXBkYXRlIGEgZ3JvdXAgb2JqZWN0IHdpdGggdGhlIGdyb3VwIGRhdGFzZXQgZW50cmVlCiAgICoKICAgKiBAcGFyYW0gZ3JvdXAKICAgKiBAcGFyYW0gZ3JvdXBJZAogICAqIEBwcml2YXRlCiAgICovCiAgTGluZUdyYXBoLnByb3RvdHlwZS5fdXBkYXRlR3JvdXAgPSBmdW5jdGlvbiAoZ3JvdXAsIGdyb3VwSWQpIHsKICAgIGlmICghdGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkoZ3JvdXBJZCkpIHsKICAgICAgdGhpcy5ncm91cHNbZ3JvdXBJZF0gPSBuZXcgR3JhcGhHcm91cChncm91cCwgZ3JvdXBJZCwgdGhpcy5vcHRpb25zLCB0aGlzLmdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlcyk7CiAgICAgIGlmICh0aGlzLmdyb3Vwc1tncm91cElkXS5vcHRpb25zLnlBeGlzT3JpZW50YXRpb24gPT0gJ3JpZ2h0JykgewogICAgICAgIHRoaXMueUF4aXNSaWdodC5hZGRHcm91cChncm91cElkLCB0aGlzLmdyb3Vwc1tncm91cElkXSk7CiAgICAgICAgdGhpcy5sZWdlbmRSaWdodC5hZGRHcm91cChncm91cElkLCB0aGlzLmdyb3Vwc1tncm91cElkXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy55QXhpc0xlZnQuYWRkR3JvdXAoZ3JvdXBJZCwgdGhpcy5ncm91cHNbZ3JvdXBJZF0pOwogICAgICAgIHRoaXMubGVnZW5kTGVmdC5hZGRHcm91cChncm91cElkLCB0aGlzLmdyb3Vwc1tncm91cElkXSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZ3JvdXBzW2dyb3VwSWRdLnVwZGF0ZShncm91cCk7CiAgICAgIGlmICh0aGlzLmdyb3Vwc1tncm91cElkXS5vcHRpb25zLnlBeGlzT3JpZW50YXRpb24gPT0gJ3JpZ2h0JykgewogICAgICAgIHRoaXMueUF4aXNSaWdodC51cGRhdGVHcm91cChncm91cElkLCB0aGlzLmdyb3Vwc1tncm91cElkXSk7CiAgICAgICAgdGhpcy5sZWdlbmRSaWdodC51cGRhdGVHcm91cChncm91cElkLCB0aGlzLmdyb3Vwc1tncm91cElkXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy55QXhpc0xlZnQudXBkYXRlR3JvdXAoZ3JvdXBJZCwgdGhpcy5ncm91cHNbZ3JvdXBJZF0pOwogICAgICAgIHRoaXMubGVnZW5kTGVmdC51cGRhdGVHcm91cChncm91cElkLCB0aGlzLmdyb3Vwc1tncm91cElkXSk7CiAgICAgIH0KICAgIH0KICAgIHRoaXMubGVnZW5kTGVmdC5yZWRyYXcoKTsKICAgIHRoaXMubGVnZW5kUmlnaHQucmVkcmF3KCk7CiAgfTsKCiAgLyoqCiAgICogdGhpcyB1cGRhdGVzIGFsbCBncm91cHMsIGl0IGlzIHVzZWQgd2hlbiB0aGVyZSBpcyBhbiB1cGRhdGUgdGhlIHRoZSBpdGVtc2V0LgogICAqCiAgICogQHByaXZhdGUKICAgKi8KICBMaW5lR3JhcGgucHJvdG90eXBlLl91cGRhdGVBbGxHcm91cERhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5pdGVtc0RhdGEgIT0gbnVsbCkgewogICAgICB2YXIgZ3JvdXBzQ29udGVudCA9IHt9OwogICAgICB2YXIgZ3JvdXBJZDsKICAgICAgZm9yIChncm91cElkIGluIHRoaXMuZ3JvdXBzKSB7CiAgICAgICAgaWYgKHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KGdyb3VwSWQpKSB7CiAgICAgICAgICBncm91cHNDb250ZW50W2dyb3VwSWRdID0gW107CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAodmFyIGl0ZW1JZCBpbiB0aGlzLml0ZW1zRGF0YS5fZGF0YSkgewogICAgICAgIGlmICh0aGlzLml0ZW1zRGF0YS5fZGF0YS5oYXNPd25Qcm9wZXJ0eShpdGVtSWQpKSB7CiAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNEYXRhLl9kYXRhW2l0ZW1JZF07CiAgICAgICAgICBpZiAoZ3JvdXBzQ29udGVudFtpdGVtLmdyb3VwXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgcmVmZXJlbmNlZCBncm91cC4gUG9zc2libGUgcmVhc29uOiBpdGVtcyBhZGRlZCBiZWZvcmUgZ3JvdXBzPyBHcm91cHMgbmVlZCB0byBiZSBhZGRlZCBiZWZvcmUgaXRlbXMsIGFzIGl0ZW1zIHJlZmVyIHRvIGdyb3Vwcy4nKTsKICAgICAgICAgIH0KICAgICAgICAgIGl0ZW0ueCA9IHV0aWwuY29udmVydChpdGVtLngsICdEYXRlJyk7CiAgICAgICAgICBncm91cHNDb250ZW50W2l0ZW0uZ3JvdXBdLnB1c2goaXRlbSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAoZ3JvdXBJZCBpbiB0aGlzLmdyb3VwcykgewogICAgICAgIGlmICh0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShncm91cElkKSkgewogICAgICAgICAgdGhpcy5ncm91cHNbZ3JvdXBJZF0uc2V0SXRlbXMoZ3JvdXBzQ29udGVudFtncm91cElkXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ3JlYXRlIG9yIGRlbGV0ZSB0aGUgZ3JvdXAgaG9sZGluZyBhbGwgdW5ncm91cGVkIGl0ZW1zLiBUaGlzIGdyb3VwIGlzIHVzZWQgd2hlbgogICAqIHRoZXJlIGFyZSBubyBncm91cHMgc3BlY2lmaWVkLiBUaGlzIGFub255bW91cyBncm91cCBpcyBjYWxsZWQgJ2dyYXBoJy4KICAgKiBAcHJvdGVjdGVkCiAgICovCiAgTGluZUdyYXBoLnByb3RvdHlwZS5fdXBkYXRlVW5ncm91cGVkID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuaXRlbXNEYXRhICYmIHRoaXMuaXRlbXNEYXRhICE9IG51bGwpIHsKICAgICAgdmFyIHVuZ3JvdXBlZENvdW50ZXIgPSAwOwogICAgICBmb3IgKHZhciBpdGVtSWQgaW4gdGhpcy5pdGVtc0RhdGEuX2RhdGEpIHsKICAgICAgICBpZiAodGhpcy5pdGVtc0RhdGEuX2RhdGEuaGFzT3duUHJvcGVydHkoaXRlbUlkKSkgewogICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zRGF0YS5fZGF0YVtpdGVtSWRdOwogICAgICAgICAgaWYgKGl0ZW0gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdncm91cCcpKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0uZ3JvdXAgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgaXRlbS5ncm91cCA9IFVOR1JPVVBFRDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaXRlbS5ncm91cCA9IFVOR1JPVVBFRDsKICAgICAgICAgICAgfQogICAgICAgICAgICB1bmdyb3VwZWRDb3VudGVyID0gaXRlbS5ncm91cCA9PSBVTkdST1VQRUQgPyB1bmdyb3VwZWRDb3VudGVyICsgMSA6IHVuZ3JvdXBlZENvdW50ZXI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodW5ncm91cGVkQ291bnRlciA9PSAwKSB7CiAgICAgICAgZGVsZXRlIHRoaXMuZ3JvdXBzW1VOR1JPVVBFRF07CiAgICAgICAgdGhpcy5sZWdlbmRMZWZ0LnJlbW92ZUdyb3VwKFVOR1JPVVBFRCk7CiAgICAgICAgdGhpcy5sZWdlbmRSaWdodC5yZW1vdmVHcm91cChVTkdST1VQRUQpOwogICAgICAgIHRoaXMueUF4aXNMZWZ0LnJlbW92ZUdyb3VwKFVOR1JPVVBFRCk7CiAgICAgICAgdGhpcy55QXhpc1JpZ2h0LnJlbW92ZUdyb3VwKFVOR1JPVVBFRCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGdyb3VwID0geyBpZDogVU5HUk9VUEVELCBjb250ZW50OiB0aGlzLm9wdGlvbnMuZGVmYXVsdEdyb3VwIH07CiAgICAgICAgdGhpcy5fdXBkYXRlR3JvdXAoZ3JvdXAsIFVOR1JPVVBFRCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGRlbGV0ZSB0aGlzLmdyb3Vwc1tVTkdST1VQRURdOwogICAgICB0aGlzLmxlZ2VuZExlZnQucmVtb3ZlR3JvdXAoVU5HUk9VUEVEKTsKICAgICAgdGhpcy5sZWdlbmRSaWdodC5yZW1vdmVHcm91cChVTkdST1VQRUQpOwogICAgICB0aGlzLnlBeGlzTGVmdC5yZW1vdmVHcm91cChVTkdST1VQRUQpOwogICAgICB0aGlzLnlBeGlzUmlnaHQucmVtb3ZlR3JvdXAoVU5HUk9VUEVEKTsKICAgIH0KCiAgICB0aGlzLmxlZ2VuZExlZnQucmVkcmF3KCk7CiAgICB0aGlzLmxlZ2VuZFJpZ2h0LnJlZHJhdygpOwogIH07CgogIC8qKgogICAqIFJlZHJhdyB0aGUgY29tcG9uZW50LCBtYW5kYXRvcnkgZnVuY3Rpb24KICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyByZXNpemVkCiAgICovCiAgTGluZUdyYXBoLnByb3RvdHlwZS5yZWRyYXcgPSBmdW5jdGlvbiAoZm9yY2VHcmFwaFVwZGF0ZSkgewogICAgdmFyIHJlc2l6ZWQgPSBmYWxzZTsKCiAgICAvLyBjYWxjdWxhdGUgYWN0dWFsIHNpemUgYW5kIHBvc2l0aW9uCiAgICB0aGlzLnByb3BzLndpZHRoID0gdGhpcy5kb20uZnJhbWUub2Zmc2V0V2lkdGg7CiAgICB0aGlzLnByb3BzLmhlaWdodCA9IHRoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0IC0gdGhpcy5ib2R5LmRvbVByb3BzLmJvcmRlci50b3AgLSB0aGlzLmJvZHkuZG9tUHJvcHMuYm9yZGVyLmJvdHRvbTsKCiAgICAvLyB1cGRhdGUgdGhlIGdyYXBoIGlmIHRoZXJlIGlzIG5vIGxhc3RXaWR0aCBvciB3aXRoLCB1c2VkIGZvciB0aGUgaW5pdGlhbCBkcmF3CiAgICBpZiAodGhpcy5sYXN0V2lkdGggPT09IHVuZGVmaW5lZCAmJiB0aGlzLnByb3BzLndpZHRoKSB7CiAgICAgIGZvcmNlR3JhcGhVcGRhdGUgPSB0cnVlOwogICAgfQoKICAgIC8vIGNoZWNrIGlmIHRoaXMgY29tcG9uZW50IGlzIHJlc2l6ZWQKICAgIHJlc2l6ZWQgPSB0aGlzLl9pc1Jlc2l6ZWQoKSB8fCByZXNpemVkOwoKICAgIC8vIGNoZWNrIHdoZXRoZXIgem9vbWVkIChpbiB0aGF0IGNhc2Ugd2UgbmVlZCB0byByZS1zdGFjayBldmVyeXRoaW5nKQogICAgdmFyIHZpc2libGVJbnRlcnZhbCA9IHRoaXMuYm9keS5yYW5nZS5lbmQgLSB0aGlzLmJvZHkucmFuZ2Uuc3RhcnQ7CiAgICB2YXIgem9vbWVkID0gdmlzaWJsZUludGVydmFsICE9IHRoaXMubGFzdFZpc2libGVJbnRlcnZhbDsKICAgIHRoaXMubGFzdFZpc2libGVJbnRlcnZhbCA9IHZpc2libGVJbnRlcnZhbDsKCiAgICAvLyB0aGUgc3ZnIGVsZW1lbnQgaXMgdGhyZWUgdGltZXMgYXMgYmlnIGFzIHRoZSB3aWR0aCwgdGhpcyBhbGxvd3MgZm9yIGZ1bGx5IGRyYWdnaW5nIGxlZnQgYW5kIHJpZ2h0CiAgICAvLyB3aXRob3V0IHJlbG9hZGluZyB0aGUgZ3JhcGguIHRoZSBjb250cm9scyBmb3IgdGhpcyBhcmUgYm91bmQgdG8gZXZlbnRzIGluIHRoZSBjb25zdHJ1Y3RvcgogICAgaWYgKHJlc2l6ZWQgPT0gdHJ1ZSkgewogICAgICB0aGlzLnN2Zy5zdHlsZS53aWR0aCA9IHV0aWwub3B0aW9uLmFzU2l6ZSgzICogdGhpcy5wcm9wcy53aWR0aCk7CiAgICAgIHRoaXMuc3ZnLnN0eWxlLmxlZnQgPSB1dGlsLm9wdGlvbi5hc1NpemUoLXRoaXMucHJvcHMud2lkdGgpOwoKICAgICAgLy8gaWYgdGhlIGhlaWdodCBvZiB0aGUgZ3JhcGggaXMgc2V0IGFzIHByb3BvcnRpb25hbCwgY2hhbmdlIHRoZSBoZWlnaHQgb2YgdGhlIHN2ZwogICAgICBpZiAoKHRoaXMub3B0aW9ucy5oZWlnaHQgKyAnJykuaW5kZXhPZignJScpICE9IC0xIHx8IHRoaXMudXBkYXRlU1ZHaGVpZ2h0T25SZXNpemUgPT0gdHJ1ZSkgewogICAgICAgIHRoaXMudXBkYXRlU1ZHaGVpZ2h0ID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIC8vIHVwZGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBncmFwaCBvbiBlYWNoIHJlZHJhdyBvZiB0aGUgZ3JhcGguCiAgICBpZiAodGhpcy51cGRhdGVTVkdoZWlnaHQgPT0gdHJ1ZSkgewogICAgICBpZiAodGhpcy5vcHRpb25zLmdyYXBoSGVpZ2h0ICE9IHRoaXMucHJvcHMuaGVpZ2h0ICsgJ3B4JykgewogICAgICAgIHRoaXMub3B0aW9ucy5ncmFwaEhlaWdodCA9IHRoaXMucHJvcHMuaGVpZ2h0ICsgJ3B4JzsKICAgICAgICB0aGlzLnN2Zy5zdHlsZS5oZWlnaHQgPSB0aGlzLnByb3BzLmhlaWdodCArICdweCc7CiAgICAgIH0KICAgICAgdGhpcy51cGRhdGVTVkdoZWlnaHQgPSBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuc3ZnLnN0eWxlLmhlaWdodCA9ICgnJyArIHRoaXMub3B0aW9ucy5ncmFwaEhlaWdodCkucmVwbGFjZSgncHgnLCAnJykgKyAncHgnOwogICAgfQoKICAgIC8vIHpvb21lZCBpcyBoZXJlIHRvIGVuc3VyZSB0aGF0IGFuaW1hdGlvbnMgYXJlIHNob3duIGNvcnJlY3RseS4KICAgIGlmIChyZXNpemVkID09IHRydWUgfHwgem9vbWVkID09IHRydWUgfHwgdGhpcy5hYm9ydGVkR3JhcGhVcGRhdGUgPT0gdHJ1ZSB8fCBmb3JjZUdyYXBoVXBkYXRlID09IHRydWUpIHsKICAgICAgcmVzaXplZCA9IHRoaXMuX3VwZGF0ZUdyYXBoKCkgfHwgcmVzaXplZDsKICAgIH0gZWxzZSB7CiAgICAgIC8vIG1vdmUgdGhlIHdob2xlIHN2ZyB3aGlsZSBkcmFnZ2luZwogICAgICBpZiAodGhpcy5sYXN0U3RhcnQgIT0gMCkgewogICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmJvZHkucmFuZ2Uuc3RhcnQgLSB0aGlzLmxhc3RTdGFydDsKICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmJvZHkucmFuZ2UuZW5kIC0gdGhpcy5ib2R5LnJhbmdlLnN0YXJ0OwogICAgICAgIGlmICh0aGlzLnByb3BzLndpZHRoICE9IDApIHsKICAgICAgICAgIHZhciByYW5nZVBlclBpeGVsSW52ID0gdGhpcy5wcm9wcy53aWR0aCAvIHJhbmdlOwogICAgICAgICAgdmFyIHhPZmZzZXQgPSBvZmZzZXQgKiByYW5nZVBlclBpeGVsSW52OwogICAgICAgICAgdGhpcy5zdmcuc3R5bGUubGVmdCA9IC10aGlzLnByb3BzLndpZHRoIC0geE9mZnNldCArICdweCc7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5sZWdlbmRMZWZ0LnJlZHJhdygpOwogICAgdGhpcy5sZWdlbmRSaWdodC5yZWRyYXcoKTsKICAgIHJldHVybiByZXNpemVkOwogIH07CgogIC8qKgogICAqIFVwZGF0ZSBhbmQgcmVkcmF3IHRoZSBncmFwaC4KICAgKgogICAqLwogIExpbmVHcmFwaC5wcm90b3R5cGUuX3VwZGF0ZUdyYXBoID0gZnVuY3Rpb24gKCkgewogICAgLy8gcmVzZXQgdGhlIHN2ZyBlbGVtZW50cwogICAgRE9NdXRpbC5wcmVwYXJlRWxlbWVudHModGhpcy5zdmdFbGVtZW50cyk7CiAgICBpZiAodGhpcy5wcm9wcy53aWR0aCAhPSAwICYmIHRoaXMuaXRlbXNEYXRhICE9IG51bGwpIHsKICAgICAgdmFyIGdyb3VwLCBpOwogICAgICB2YXIgcHJlcHJvY2Vzc2VkR3JvdXBEYXRhID0ge307CiAgICAgIHZhciBwcm9jZXNzZWRHcm91cERhdGEgPSB7fTsKICAgICAgdmFyIGdyb3VwUmFuZ2VzID0ge307CiAgICAgIHZhciBjaGFuZ2VDYWxsZWQgPSBmYWxzZTsKCiAgICAgIC8vIGdldHRpbmcgZ3JvdXAgSWRzCiAgICAgIHZhciBncm91cElkcyA9IFtdOwogICAgICBmb3IgKHZhciBncm91cElkIGluIHRoaXMuZ3JvdXBzKSB7CiAgICAgICAgaWYgKHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KGdyb3VwSWQpKSB7CiAgICAgICAgICBncm91cCA9IHRoaXMuZ3JvdXBzW2dyb3VwSWRdOwogICAgICAgICAgaWYgKGdyb3VwLnZpc2libGUgPT0gdHJ1ZSAmJiAodGhpcy5vcHRpb25zLmdyb3Vwcy52aXNpYmlsaXR5W2dyb3VwSWRdID09PSB1bmRlZmluZWQgfHwgdGhpcy5vcHRpb25zLmdyb3Vwcy52aXNpYmlsaXR5W2dyb3VwSWRdID09IHRydWUpKSB7CiAgICAgICAgICAgIGdyb3VwSWRzLnB1c2goZ3JvdXBJZCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChncm91cElkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gdGhpcyBpcyB0aGUgcmFuZ2Ugb2YgdGhlIFNWRyBjYW52YXMKICAgICAgICB2YXIgbWluRGF0ZSA9IHRoaXMuYm9keS51dGlsLnRvR2xvYmFsVGltZSgtdGhpcy5ib2R5LmRvbVByb3BzLnJvb3Qud2lkdGgpOwogICAgICAgIHZhciBtYXhEYXRlID0gdGhpcy5ib2R5LnV0aWwudG9HbG9iYWxUaW1lKDIgKiB0aGlzLmJvZHkuZG9tUHJvcHMucm9vdC53aWR0aCk7CiAgICAgICAgdmFyIGdyb3Vwc0RhdGEgPSB7fTsKICAgICAgICAvLyBmaWxsIGdyb3VwcyBkYXRhLCB0aGlzIG9ubHkgbG9hZHMgdGhlIGRhdGEgd2UgcmVxdWlyZSBiYXNlZCBvbiB0aGUgdGltZXdpbmRvdwogICAgICAgIHRoaXMuX2dldFJlbGV2YW50RGF0YShncm91cElkcywgZ3JvdXBzRGF0YSwgbWluRGF0ZSwgbWF4RGF0ZSk7CgogICAgICAgIC8vIGFwcGx5IHNhbXBsaW5nLCBpZiBkaXNhYmxlZCwgaXQgd2lsbCBwYXNzIHRocm91Z2ggdGhpcyBmdW5jdGlvbi4KICAgICAgICB0aGlzLl9hcHBseVNhbXBsaW5nKGdyb3VwSWRzLCBncm91cHNEYXRhKTsKCiAgICAgICAgLy8gd2UgdHJhbnNmb3JtIHRoZSBYIGNvb3JkaW5hdGVzIHRvIGRldGVjdCBjb2xsaXNpb25zCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3VwSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBwcmVwcm9jZXNzZWRHcm91cERhdGFbZ3JvdXBJZHNbaV1dID0gdGhpcy5fY29udmVydFhjb29yZGluYXRlcyhncm91cHNEYXRhW2dyb3VwSWRzW2ldXSk7CiAgICAgICAgfQoKICAgICAgICAvLyBub3cgYWxsIG5lZWRlZCBkYXRhIGhhcyBiZWVuIGNvbGxlY3RlZCB3ZSBzdGFydCB0aGUgcHJvY2Vzc2luZy4KICAgICAgICB0aGlzLl9nZXRZUmFuZ2VzKGdyb3VwSWRzLCBwcmVwcm9jZXNzZWRHcm91cERhdGEsIGdyb3VwUmFuZ2VzKTsKCiAgICAgICAgLy8gdXBkYXRlIHRoZSBZIGF4aXMgZmlyc3QsIHdlIHVzZSB0aGlzIGRhdGEgdG8gZHJhdyBhdCB0aGUgY29ycmVjdCBZIHBvaW50cwogICAgICAgIC8vIGNoYW5nZUNhbGxlZCBpcyByZXF1aXJlZCB0byBjbGVhbiB0aGUgU1ZHIG9uIGEgY2hhbmdlIGVtaXQuCiAgICAgICAgY2hhbmdlQ2FsbGVkID0gdGhpcy5fdXBkYXRlWUF4aXMoZ3JvdXBJZHMsIGdyb3VwUmFuZ2VzKTsKICAgICAgICB2YXIgTUFYX0NZQ0xFUyA9IDU7CiAgICAgICAgaWYgKGNoYW5nZUNhbGxlZCA9PSB0cnVlICYmIHRoaXMuQ09VTlRFUiA8IE1BWF9DWUNMRVMpIHsKICAgICAgICAgIERPTXV0aWwuY2xlYW51cEVsZW1lbnRzKHRoaXMuc3ZnRWxlbWVudHMpOwogICAgICAgICAgdGhpcy5hYm9ydGVkR3JhcGhVcGRhdGUgPSB0cnVlOwogICAgICAgICAgdGhpcy5DT1VOVEVSKys7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdjaGFuZ2UnKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5DT1VOVEVSID4gTUFYX0NZQ0xFUykgewogICAgICAgICAgICBjb25zb2xlLmxvZygnV0FSTklORzogdGhlcmUgbWF5IGJlIGFuIGluZmluaXRlIGxvb3AgaW4gdGhlIF91cGRhdGVHcmFwaCBlbWl0dGVyIGN5Y2xlLicpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5DT1VOVEVSID0gMDsKICAgICAgICAgIHRoaXMuYWJvcnRlZEdyYXBoVXBkYXRlID0gZmFsc2U7CgogICAgICAgICAgLy8gV2l0aCB0aGUgeUF4aXMgc2NhbGVkIGNvcnJlY3RseSwgdXNlIHRoaXMgdG8gZ2V0IHRoZSBZIHZhbHVlcyBvZiB0aGUgcG9pbnRzLgogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3VwSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGdyb3VwID0gdGhpcy5ncm91cHNbZ3JvdXBJZHNbaV1dOwogICAgICAgICAgICBwcm9jZXNzZWRHcm91cERhdGFbZ3JvdXBJZHNbaV1dID0gdGhpcy5fY29udmVydFljb29yZGluYXRlcyhncm91cHNEYXRhW2dyb3VwSWRzW2ldXSwgZ3JvdXApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIGRyYXcgdGhlIGdyb3VwcwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3VwSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGdyb3VwID0gdGhpcy5ncm91cHNbZ3JvdXBJZHNbaV1dOwogICAgICAgICAgICBpZiAoZ3JvdXAub3B0aW9ucy5zdHlsZSAhPSAnYmFyJykgewogICAgICAgICAgICAgIC8vIGJhciBuZWVkcyB0byBiZSBkcmF3biBlbm1hc3NlCiAgICAgICAgICAgICAgZ3JvdXAuZHJhdyhwcm9jZXNzZWRHcm91cERhdGFbZ3JvdXBJZHNbaV1dLCBncm91cCwgdGhpcy5mcmFtZXdvcmspOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBCYXJGdW5jdGlvbnMuZHJhdyhncm91cElkcywgcHJvY2Vzc2VkR3JvdXBEYXRhLCB0aGlzLmZyYW1ld29yayk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy8gY2xlYW51cCB1bnVzZWQgc3ZnIGVsZW1lbnRzCiAgICBET011dGlsLmNsZWFudXBFbGVtZW50cyh0aGlzLnN2Z0VsZW1lbnRzKTsKICAgIHJldHVybiBmYWxzZTsKICB9OwoKICAvKioKICAgKiBmaXJzdCBzZWxlY3QgYW5kIHByZXByb2Nlc3MgdGhlIGRhdGEgZnJvbSB0aGUgZGF0YXNldHMuCiAgICogdGhlIGdyb3VwcyBoYXZlIHRoZWlyIHByZXNlbGVjdGlvbiBvZiBkYXRhLCB3ZSBub3cgbG9vcCBvdmVyIHRoaXMgZGF0YSB0byBzZWUKICAgKiB3aGF0IGRhdGEgd2UgbmVlZCB0byBkcmF3LiBTb3J0ZWQgZGF0YSBpcyBtdWNoIGZhc3Rlci4KICAgKiBtb3JlIG9wdGltaXphdGlvbiBpcyBwb3NzaWJsZSBieSBkb2luZyB0aGUgc2FtcGxpbmcgYmVmb3JlIGFuZCB1c2luZyB0aGUgYmluYXJ5IHNlYXJjaAogICAqIHRvIGZpbmQgdGhlIGVuZCBkYXRlIHRvIGRldGVybWluZSB0aGUgaW5jcmVtZW50LgogICAqCiAgICogQHBhcmFtIHthcnJheX0gIGdyb3VwSWRzCiAgICogQHBhcmFtIHtvYmplY3R9IGdyb3Vwc0RhdGEKICAgKiBAcGFyYW0ge2RhdGV9ICAgbWluRGF0ZQogICAqIEBwYXJhbSB7ZGF0ZX0gICBtYXhEYXRlCiAgICogQHByaXZhdGUKICAgKi8KICBMaW5lR3JhcGgucHJvdG90eXBlLl9nZXRSZWxldmFudERhdGEgPSBmdW5jdGlvbiAoZ3JvdXBJZHMsIGdyb3Vwc0RhdGEsIG1pbkRhdGUsIG1heERhdGUpIHsKICAgIHZhciBncm91cCwgaSwgaiwgaXRlbTsKICAgIGlmIChncm91cElkcy5sZW5ndGggPiAwKSB7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cElkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGdyb3VwID0gdGhpcy5ncm91cHNbZ3JvdXBJZHNbaV1dOwogICAgICAgIGdyb3Vwc0RhdGFbZ3JvdXBJZHNbaV1dID0gW107CiAgICAgICAgdmFyIGRhdGFDb250YWluZXIgPSBncm91cHNEYXRhW2dyb3VwSWRzW2ldXTsKICAgICAgICAvLyBvcHRpbWl6YXRpb24gZm9yIHNvcnRlZCBkYXRhCiAgICAgICAgaWYgKGdyb3VwLm9wdGlvbnMuc29ydCA9PSB0cnVlKSB7CiAgICAgICAgICB2YXIgZ3Vlc3MgPSBNYXRoLm1heCgwLCB1dGlsLmJpbmFyeVNlYXJjaFZhbHVlKGdyb3VwLml0ZW1zRGF0YSwgbWluRGF0ZSwgJ3gnLCAnYmVmb3JlJykpOwogICAgICAgICAgZm9yIChqID0gZ3Vlc3M7IGogPCBncm91cC5pdGVtc0RhdGEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgaXRlbSA9IGdyb3VwLml0ZW1zRGF0YVtqXTsKICAgICAgICAgICAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGlmIChpdGVtLnggPiBtYXhEYXRlKSB7CiAgICAgICAgICAgICAgICBkYXRhQ29udGFpbmVyLnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGF0YUNvbnRhaW5lci5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZ3JvdXAuaXRlbXNEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGl0ZW0gPSBncm91cC5pdGVtc0RhdGFbal07CiAgICAgICAgICAgIGlmIChpdGVtICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS54ID4gbWluRGF0ZSAmJiBpdGVtLnggPCBtYXhEYXRlKSB7CiAgICAgICAgICAgICAgICBkYXRhQ29udGFpbmVyLnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICoKICAgKiBAcGFyYW0gZ3JvdXBJZHMKICAgKiBAcGFyYW0gZ3JvdXBzRGF0YQogICAqIEBwcml2YXRlCiAgICovCiAgTGluZUdyYXBoLnByb3RvdHlwZS5fYXBwbHlTYW1wbGluZyA9IGZ1bmN0aW9uIChncm91cElkcywgZ3JvdXBzRGF0YSkgewogICAgdmFyIGdyb3VwOwogICAgaWYgKGdyb3VwSWRzLmxlbmd0aCA+IDApIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cElkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGdyb3VwID0gdGhpcy5ncm91cHNbZ3JvdXBJZHNbaV1dOwogICAgICAgIGlmIChncm91cC5vcHRpb25zLnNhbXBsaW5nID09IHRydWUpIHsKICAgICAgICAgIHZhciBkYXRhQ29udGFpbmVyID0gZ3JvdXBzRGF0YVtncm91cElkc1tpXV07CiAgICAgICAgICBpZiAoZGF0YUNvbnRhaW5lci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSAxOwogICAgICAgICAgICB2YXIgYW1vdW50T2ZQb2ludHMgPSBkYXRhQ29udGFpbmVyLmxlbmd0aDsKCiAgICAgICAgICAgIC8vIHRoZSBnbG9iYWwgc2NyZWVuIGlzIHVzZWQgYmVjYXVzZSBjaGFuZ2luZyB0aGUgd2lkdGggb2YgdGhlIHlBeGlzIG1heSBhZmZlY3QgdGhlIGluY3JlbWVudCwgcmVzdWx0aW5nIGluIGFuIGVuZGxlc3MgbG9vcAogICAgICAgICAgICAvLyBvZiB3aWR0aCBjaGFuZ2luZyBvZiB0aGUgeUF4aXMuCiAgICAgICAgICAgIHZhciB4RGlzdGFuY2UgPSB0aGlzLmJvZHkudXRpbC50b0dsb2JhbFNjcmVlbihkYXRhQ29udGFpbmVyW2RhdGFDb250YWluZXIubGVuZ3RoIC0gMV0ueCkgLSB0aGlzLmJvZHkudXRpbC50b0dsb2JhbFNjcmVlbihkYXRhQ29udGFpbmVyWzBdLngpOwogICAgICAgICAgICB2YXIgcG9pbnRzUGVyUGl4ZWwgPSBhbW91bnRPZlBvaW50cyAvIHhEaXN0YW5jZTsKICAgICAgICAgICAgaW5jcmVtZW50ID0gTWF0aC5taW4oTWF0aC5jZWlsKDAuMiAqIGFtb3VudE9mUG9pbnRzKSwgTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChwb2ludHNQZXJQaXhlbCkpKTsKCiAgICAgICAgICAgIHZhciBzYW1wbGVkRGF0YSA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFtb3VudE9mUG9pbnRzOyBqICs9IGluY3JlbWVudCkgewogICAgICAgICAgICAgIHNhbXBsZWREYXRhLnB1c2goZGF0YUNvbnRhaW5lcltqXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ3JvdXBzRGF0YVtncm91cElkc1tpXV0gPSBzYW1wbGVkRGF0YTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKgogICAqCiAgICogQHBhcmFtIHthcnJheX0gIGdyb3VwSWRzCiAgICogQHBhcmFtIHtvYmplY3R9IGdyb3Vwc0RhdGEKICAgKiBAcGFyYW0ge29iamVjdH0gZ3JvdXBSYW5nZXMgIHwgdGhpcyBpcyBiZWluZyBmaWxsZWQgaGVyZQogICAqIEBwcml2YXRlCiAgICovCiAgTGluZUdyYXBoLnByb3RvdHlwZS5fZ2V0WVJhbmdlcyA9IGZ1bmN0aW9uIChncm91cElkcywgZ3JvdXBzRGF0YSwgZ3JvdXBSYW5nZXMpIHsKICAgIHZhciBncm91cERhdGEsIGdyb3VwLCBpOwogICAgdmFyIGNvbWJpbmVkRGF0YUxlZnQgPSBbXTsKICAgIHZhciBjb21iaW5lZERhdGFSaWdodCA9IFtdOwogICAgdmFyIG9wdGlvbnM7CiAgICBpZiAoZ3JvdXBJZHMubGVuZ3RoID4gMCkgewogICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBncm91cERhdGEgPSBncm91cHNEYXRhW2dyb3VwSWRzW2ldXTsKICAgICAgICBvcHRpb25zID0gdGhpcy5ncm91cHNbZ3JvdXBJZHNbaV1dLm9wdGlvbnM7CiAgICAgICAgaWYgKGdyb3VwRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICBncm91cCA9IHRoaXMuZ3JvdXBzW2dyb3VwSWRzW2ldXTsKICAgICAgICAgIC8vIGlmIGJhciBncmFwaHMgYXJlIHN0YWNrZWQsIHRoZWlyIHJhbmdlIG5lZWQgdG8gYmUgaGFuZGxlZCBkaWZmZXJlbnRseSBhbmQgYWNjdW11bGF0ZWQgb3ZlciBhbGwgZ3JvdXBzLgogICAgICAgICAgaWYgKG9wdGlvbnMuc3RhY2sgPT09IHRydWUgJiYgb3B0aW9ucy5zdHlsZSA9PT0gJ2JhcicpIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMueUF4aXNPcmllbnRhdGlvbiA9PT0gJ2xlZnQnKSB7CiAgICAgICAgICAgICAgY29tYmluZWREYXRhTGVmdCA9IGNvbWJpbmVkRGF0YUxlZnQuY29uY2F0KGdyb3VwLmdldERhdGEoZ3JvdXBEYXRhKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29tYmluZWREYXRhUmlnaHQgPSBjb21iaW5lZERhdGFSaWdodC5jb25jYXQoZ3JvdXAuZ2V0RGF0YShncm91cERhdGEpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZ3JvdXBSYW5nZXNbZ3JvdXBJZHNbaV1dID0gZ3JvdXAuZ2V0WVJhbmdlKGdyb3VwRGF0YSwgZ3JvdXBJZHNbaV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gaWYgYmFyIGdyYXBocyBhcmUgc3RhY2tlZCwgdGhlaXIgcmFuZ2UgbmVlZCB0byBiZSBoYW5kbGVkIGRpZmZlcmVudGx5IGFuZCBhY2N1bXVsYXRlZCBvdmVyIGFsbCBncm91cHMuCiAgICAgIEJhckZ1bmN0aW9ucy5nZXRTdGFja2VkWVJhbmdlKGNvbWJpbmVkRGF0YUxlZnQsIGdyb3VwUmFuZ2VzLCBncm91cElkcywgJ19fYmFyU3RhY2tMZWZ0JywgJ2xlZnQnKTsKICAgICAgQmFyRnVuY3Rpb25zLmdldFN0YWNrZWRZUmFuZ2UoY29tYmluZWREYXRhUmlnaHQsIGdyb3VwUmFuZ2VzLCBncm91cElkcywgJ19fYmFyU3RhY2tSaWdodCcsICdyaWdodCcpOwogICAgICAvLyBpZiBsaW5lIGdyYXBocyBhcmUgc3RhY2tlZCwgdGhlaXIgcmFuZ2UgbmVlZCB0byBiZSBoYW5kbGVkIGRpZmZlcmVudGx5IGFuZCBhY2N1bXVsYXRlZCBvdmVyIGFsbCBncm91cHMuCiAgICAgIC8vTGluZUZ1bmN0aW9ucy5nZXRTdGFja2VkWVJhbmdlKGNvbWJpbmVkRGF0YUxlZnQgLCBncm91cFJhbmdlcywgZ3JvdXBJZHMsICdfX2xpbmVTdGFja0xlZnQnICwgJ2xlZnQnICk7CiAgICAgIC8vTGluZUZ1bmN0aW9ucy5nZXRTdGFja2VkWVJhbmdlKGNvbWJpbmVkRGF0YVJpZ2h0LCBncm91cFJhbmdlcywgZ3JvdXBJZHMsICdfX2xpbmVTdGFja1JpZ2h0JywgJ3JpZ2h0Jyk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogdGhpcyBzZXRzIHRoZSBZIHJhbmdlcyBmb3IgdGhlIFkgYXhpcy4gSXQgYWxzbyBkZXRlcm1pbmVzIHdoaWNoIG9mIHRoZSBheGlzIHNob3VsZCBiZSBzaG93biBvciBoaWRkZW4uCiAgICogQHBhcmFtIHtBcnJheX0gZ3JvdXBJZHMKICAgKiBAcGFyYW0ge09iamVjdH0gZ3JvdXBSYW5nZXMKICAgKiBAcHJpdmF0ZQogICAqLwogIExpbmVHcmFwaC5wcm90b3R5cGUuX3VwZGF0ZVlBeGlzID0gZnVuY3Rpb24gKGdyb3VwSWRzLCBncm91cFJhbmdlcykgewogICAgdmFyIHJlc2l6ZWQgPSBmYWxzZTsKICAgIHZhciB5QXhpc0xlZnRVc2VkID0gZmFsc2U7CiAgICB2YXIgeUF4aXNSaWdodFVzZWQgPSBmYWxzZTsKICAgIHZhciBtaW5MZWZ0ID0gMTAwMDAwMDAwMCwKICAgICAgICBtaW5SaWdodCA9IDEwMDAwMDAwMDAsCiAgICAgICAgbWF4TGVmdCA9IC0xMDAwMDAwMDAwLAogICAgICAgIG1heFJpZ2h0ID0gLTEwMDAwMDAwMDAsCiAgICAgICAgbWluVmFsLAogICAgICAgIG1heFZhbDsKICAgIC8vIGlmIGdyb3VwcyBhcmUgcHJlc2VudAogICAgaWYgKGdyb3VwSWRzLmxlbmd0aCA+IDApIHsKICAgICAgLy8gdGhpcyBpcyBoZXJlIHRvIG1ha2Ugc3VyZSB0aGF0IGlmIHRoZXJlIGFyZSBubyBpdGVtcyBpbiB0aGUgYXhpcyBidXQgdGhlcmUgYXJlIGdyb3VwcywgdGhhdCB0aGVyZSBpcyBubyBpbmZpbml0ZSBkcmF3L3JlZHJhdyBsb29wLgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGdyb3VwID0gdGhpcy5ncm91cHNbZ3JvdXBJZHNbaV1dOwogICAgICAgIGlmIChncm91cCAmJiBncm91cC5vcHRpb25zLnlBeGlzT3JpZW50YXRpb24gIT0gJ3JpZ2h0JykgewogICAgICAgICAgeUF4aXNMZWZ0VXNlZCA9IHRydWU7CiAgICAgICAgICBtaW5MZWZ0ID0gMDsKICAgICAgICAgIG1heExlZnQgPSAwOwogICAgICAgIH0gZWxzZSBpZiAoZ3JvdXAgJiYgZ3JvdXAub3B0aW9ucy55QXhpc09yaWVudGF0aW9uKSB7CiAgICAgICAgICB5QXhpc1JpZ2h0VXNlZCA9IHRydWU7CiAgICAgICAgICBtaW5SaWdodCA9IDA7CiAgICAgICAgICBtYXhSaWdodCA9IDA7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBpZiB0aGVyZSBhcmUgaXRlbXM6CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoZ3JvdXBSYW5nZXMuaGFzT3duUHJvcGVydHkoZ3JvdXBJZHNbaV0pKSB7CiAgICAgICAgICBpZiAoZ3JvdXBSYW5nZXNbZ3JvdXBJZHNbaV1dLmlnbm9yZSAhPT0gdHJ1ZSkgewogICAgICAgICAgICBtaW5WYWwgPSBncm91cFJhbmdlc1tncm91cElkc1tpXV0ubWluOwogICAgICAgICAgICBtYXhWYWwgPSBncm91cFJhbmdlc1tncm91cElkc1tpXV0ubWF4OwoKICAgICAgICAgICAgaWYgKGdyb3VwUmFuZ2VzW2dyb3VwSWRzW2ldXS55QXhpc09yaWVudGF0aW9uICE9ICdyaWdodCcpIHsKICAgICAgICAgICAgICB5QXhpc0xlZnRVc2VkID0gdHJ1ZTsKICAgICAgICAgICAgICBtaW5MZWZ0ID0gbWluTGVmdCA+IG1pblZhbCA/IG1pblZhbCA6IG1pbkxlZnQ7CiAgICAgICAgICAgICAgbWF4TGVmdCA9IG1heExlZnQgPCBtYXhWYWwgPyBtYXhWYWwgOiBtYXhMZWZ0OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHlBeGlzUmlnaHRVc2VkID0gdHJ1ZTsKICAgICAgICAgICAgICBtaW5SaWdodCA9IG1pblJpZ2h0ID4gbWluVmFsID8gbWluVmFsIDogbWluUmlnaHQ7CiAgICAgICAgICAgICAgbWF4UmlnaHQgPSBtYXhSaWdodCA8IG1heFZhbCA/IG1heFZhbCA6IG1heFJpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoeUF4aXNMZWZ0VXNlZCA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy55QXhpc0xlZnQuc2V0UmFuZ2UobWluTGVmdCwgbWF4TGVmdCk7CiAgICAgIH0KICAgICAgaWYgKHlBeGlzUmlnaHRVc2VkID09IHRydWUpIHsKICAgICAgICB0aGlzLnlBeGlzUmlnaHQuc2V0UmFuZ2UobWluUmlnaHQsIG1heFJpZ2h0KTsKICAgICAgfQogICAgfQogICAgcmVzaXplZCA9IHRoaXMuX3RvZ2dsZUF4aXNWaXNpYmxpdHkoeUF4aXNMZWZ0VXNlZCwgdGhpcy55QXhpc0xlZnQpIHx8IHJlc2l6ZWQ7CiAgICByZXNpemVkID0gdGhpcy5fdG9nZ2xlQXhpc1Zpc2libGl0eSh5QXhpc1JpZ2h0VXNlZCwgdGhpcy55QXhpc1JpZ2h0KSB8fCByZXNpemVkOwoKICAgIGlmICh5QXhpc1JpZ2h0VXNlZCA9PSB0cnVlICYmIHlBeGlzTGVmdFVzZWQgPT0gdHJ1ZSkgewogICAgICB0aGlzLnlBeGlzTGVmdC5kcmF3SWNvbnMgPSB0cnVlOwogICAgICB0aGlzLnlBeGlzUmlnaHQuZHJhd0ljb25zID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMueUF4aXNMZWZ0LmRyYXdJY29ucyA9IGZhbHNlOwogICAgICB0aGlzLnlBeGlzUmlnaHQuZHJhd0ljb25zID0gZmFsc2U7CiAgICB9CiAgICB0aGlzLnlBeGlzUmlnaHQubWFzdGVyID0gIXlBeGlzTGVmdFVzZWQ7CiAgICBpZiAodGhpcy55QXhpc1JpZ2h0Lm1hc3RlciA9PSBmYWxzZSkgewogICAgICBpZiAoeUF4aXNSaWdodFVzZWQgPT0gdHJ1ZSkgewogICAgICAgIHRoaXMueUF4aXNMZWZ0LmxpbmVPZmZzZXQgPSB0aGlzLnlBeGlzUmlnaHQud2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy55QXhpc0xlZnQubGluZU9mZnNldCA9IDA7CiAgICAgIH0KCiAgICAgIHJlc2l6ZWQgPSB0aGlzLnlBeGlzTGVmdC5yZWRyYXcoKSB8fCByZXNpemVkOwogICAgICB0aGlzLnlBeGlzUmlnaHQuc3RlcFBpeGVscyA9IHRoaXMueUF4aXNMZWZ0LnN0ZXBQaXhlbHM7CiAgICAgIHRoaXMueUF4aXNSaWdodC56ZXJvQ3Jvc3NpbmcgPSB0aGlzLnlBeGlzTGVmdC56ZXJvQ3Jvc3Npbmc7CiAgICAgIHRoaXMueUF4aXNSaWdodC5hbW91bnRPZlN0ZXBzID0gdGhpcy55QXhpc0xlZnQuYW1vdW50T2ZTdGVwczsKICAgICAgcmVzaXplZCA9IHRoaXMueUF4aXNSaWdodC5yZWRyYXcoKSB8fCByZXNpemVkOwogICAgfSBlbHNlIHsKICAgICAgcmVzaXplZCA9IHRoaXMueUF4aXNSaWdodC5yZWRyYXcoKSB8fCByZXNpemVkOwogICAgfQoKICAgIC8vIGNsZWFuIHRoZSBhY2N1bXVsYXRlZCBsaXN0cwogICAgdmFyIHRlbXBHcm91cHMgPSBbJ19fYmFyU3RhY2tMZWZ0JywgJ19fYmFyU3RhY2tSaWdodCcsICdfX2xpbmVTdGFja0xlZnQnLCAnX19saW5lU3RhY2tSaWdodCddOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wR3JvdXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChncm91cElkcy5pbmRleE9mKHRlbXBHcm91cHNbaV0pICE9IC0xKSB7CiAgICAgICAgZ3JvdXBJZHMuc3BsaWNlKGdyb3VwSWRzLmluZGV4T2YodGVtcEdyb3Vwc1tpXSksIDEpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc2l6ZWQ7CiAgfTsKCiAgLyoqCiAgICogVGhpcyBzaG93cyBvciBoaWRlcyB0aGUgWSBheGlzIGlmIG5lZWRlZC4gSWYgdGhlcmUgaXMgYSBjaGFuZ2UsIHRoZSBjaGFuZ2VkIGV2ZW50IGlzIGVtaXR0ZWQgYnkgdGhlIHVwZGF0ZVlBeGlzIGZ1bmN0aW9uCiAgICoKICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF4aXNVc2VkCiAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0gYXhpcwogICAqLwogIExpbmVHcmFwaC5wcm90b3R5cGUuX3RvZ2dsZUF4aXNWaXNpYmxpdHkgPSBmdW5jdGlvbiAoYXhpc1VzZWQsIGF4aXMpIHsKICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7CiAgICBpZiAoYXhpc1VzZWQgPT0gZmFsc2UpIHsKICAgICAgaWYgKGF4aXMuZG9tLmZyYW1lLnBhcmVudE5vZGUgJiYgYXhpcy5oaWRkZW4gPT0gZmFsc2UpIHsKICAgICAgICBheGlzLmhpZGUoKTsKICAgICAgICBjaGFuZ2VkID0gdHJ1ZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKCFheGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlICYmIGF4aXMuaGlkZGVuID09IHRydWUpIHsKICAgICAgICBheGlzLnNob3coKTsKICAgICAgICBjaGFuZ2VkID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGNoYW5nZWQ7CiAgfTsKCiAgLyoqCiAgICogVGhpcyB1c2VzIHRoZSBEYXRhQXhpcyBvYmplY3QgdG8gZ2VuZXJhdGUgdGhlIGNvcnJlY3QgWCBjb29yZGluYXRlIG9uIHRoZSBTVkcgd2luZG93LiBJdCB1c2VzIHRoZQogICAqIHV0aWwgZnVuY3Rpb24gdG9TY3JlZW4gdG8gZ2V0IHRoZSB4IGNvb3JkaW5hdGUgZnJvbSB0aGUgdGltZXN0YW1wLiBJdCBhbHNvIHByZS1maWx0ZXJzIHRoZSBkYXRhIGFuZCBnZXQgdGhlIG1pbk1heCByYW5nZXMgZm9yCiAgICogdGhlIHlBeGlzLgogICAqCiAgICogQHBhcmFtIGRhdGFwb2ludHMKICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICogQHByaXZhdGUKICAgKi8KICBMaW5lR3JhcGgucHJvdG90eXBlLl9jb252ZXJ0WGNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGRhdGFwb2ludHMpIHsKICAgIHZhciBleHRyYWN0ZWREYXRhID0gW107CiAgICB2YXIgeFZhbHVlLCB5VmFsdWU7CiAgICB2YXIgdG9TY3JlZW4gPSB0aGlzLmJvZHkudXRpbC50b1NjcmVlbjsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFwb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgeFZhbHVlID0gdG9TY3JlZW4oZGF0YXBvaW50c1tpXS54KSArIHRoaXMucHJvcHMud2lkdGg7CiAgICAgIHlWYWx1ZSA9IGRhdGFwb2ludHNbaV0ueTsKICAgICAgZXh0cmFjdGVkRGF0YS5wdXNoKHsgeDogeFZhbHVlLCB5OiB5VmFsdWUgfSk7CiAgICB9CgogICAgcmV0dXJuIGV4dHJhY3RlZERhdGE7CiAgfTsKCiAgLyoqCiAgICogVGhpcyB1c2VzIHRoZSBEYXRhQXhpcyBvYmplY3QgdG8gZ2VuZXJhdGUgdGhlIGNvcnJlY3QgWCBjb29yZGluYXRlIG9uIHRoZSBTVkcgd2luZG93LiBJdCB1c2VzIHRoZQogICAqIHV0aWwgZnVuY3Rpb24gdG9TY3JlZW4gdG8gZ2V0IHRoZSB4IGNvb3JkaW5hdGUgZnJvbSB0aGUgdGltZXN0YW1wLiBJdCBhbHNvIHByZS1maWx0ZXJzIHRoZSBkYXRhIGFuZCBnZXQgdGhlIG1pbk1heCByYW5nZXMgZm9yCiAgICogdGhlIHlBeGlzLgogICAqCiAgICogQHBhcmFtIGRhdGFwb2ludHMKICAgKiBAcGFyYW0gZ3JvdXAKICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICogQHByaXZhdGUKICAgKi8KICBMaW5lR3JhcGgucHJvdG90eXBlLl9jb252ZXJ0WWNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGRhdGFwb2ludHMsIGdyb3VwKSB7CiAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IFtdOwogICAgdmFyIHhWYWx1ZSwgeVZhbHVlOwogICAgdmFyIHRvU2NyZWVuID0gdGhpcy5ib2R5LnV0aWwudG9TY3JlZW47CiAgICB2YXIgYXhpcyA9IHRoaXMueUF4aXNMZWZ0OwogICAgdmFyIHN2Z0hlaWdodCA9IE51bWJlcih0aGlzLnN2Zy5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykpOwogICAgaWYgKGdyb3VwLm9wdGlvbnMueUF4aXNPcmllbnRhdGlvbiA9PSAncmlnaHQnKSB7CiAgICAgIGF4aXMgPSB0aGlzLnlBeGlzUmlnaHQ7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBsYWJlbFZhbHVlID0gZGF0YXBvaW50c1tpXS5sYWJlbCA/IGRhdGFwb2ludHNbaV0ubGFiZWwgOiBudWxsOwogICAgICB4VmFsdWUgPSB0b1NjcmVlbihkYXRhcG9pbnRzW2ldLngpICsgdGhpcy5wcm9wcy53aWR0aDsKICAgICAgeVZhbHVlID0gTWF0aC5yb3VuZChheGlzLmNvbnZlcnRWYWx1ZShkYXRhcG9pbnRzW2ldLnkpKTsKICAgICAgZXh0cmFjdGVkRGF0YS5wdXNoKHsgeDogeFZhbHVlLCB5OiB5VmFsdWUsIGxhYmVsOiBsYWJlbFZhbHVlIH0pOwogICAgfQoKICAgIGdyb3VwLnNldFplcm9Qb3NpdGlvbihNYXRoLm1pbihzdmdIZWlnaHQsIGF4aXMuY29udmVydFZhbHVlKDApKSk7CgogICAgcmV0dXJuIGV4dHJhY3RlZERhdGE7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBMaW5lR3JhcGg7CgovKioqLyB9LAovKiA1MSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIERPTXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpOwogIHZhciBDb21wb25lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTsKICB2YXIgRGF0YVN0ZXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTsKCiAgLyoqCiAgICogQSBob3Jpem9udGFsIHRpbWUgYXhpcwogICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICAgIFNlZSBEYXRhQXhpcy5zZXRPcHRpb25zIGZvciB0aGUgYXZhaWxhYmxlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy4KICAgKiBAY29uc3RydWN0b3IgRGF0YUF4aXMKICAgKiBAZXh0ZW5kcyBDb21wb25lbnQKICAgKiBAcGFyYW0gYm9keQogICAqLwogIGZ1bmN0aW9uIERhdGFBeGlzKGJvZHksIG9wdGlvbnMsIHN2ZywgbGluZWdyYXBoT3B0aW9ucykgewogICAgdGhpcy5pZCA9IHV0aWwucmFuZG9tVVVJRCgpOwogICAgdGhpcy5ib2R5ID0gYm9keTsKCiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICBvcmllbnRhdGlvbjogJ2xlZnQnLCAvLyBzdXBwb3J0ZWQ6ICdsZWZ0JywgJ3JpZ2h0JwogICAgICBzaG93TWlub3JMYWJlbHM6IHRydWUsCiAgICAgIHNob3dNYWpvckxhYmVsczogdHJ1ZSwKICAgICAgaWNvbnM6IHRydWUsCiAgICAgIG1ham9yTGluZXNPZmZzZXQ6IDcsCiAgICAgIG1pbm9yTGluZXNPZmZzZXQ6IDQsCiAgICAgIGxhYmVsT2Zmc2V0WDogMTAsCiAgICAgIGxhYmVsT2Zmc2V0WTogMiwKICAgICAgaWNvbldpZHRoOiAyMCwKICAgICAgd2lkdGg6ICc0MHB4JywKICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgYWxpZ25aZXJvczogdHJ1ZSwKICAgICAgbGVmdDogewogICAgICAgIHJhbmdlOiB7IG1pbjogdW5kZWZpbmVkLCBtYXg6IHVuZGVmaW5lZCB9LAogICAgICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfSwKICAgICAgICB0aXRsZTogeyB0ZXh0OiB1bmRlZmluZWQsIHN0eWxlOiB1bmRlZmluZWQgfQogICAgICB9LAogICAgICByaWdodDogewogICAgICAgIHJhbmdlOiB7IG1pbjogdW5kZWZpbmVkLCBtYXg6IHVuZGVmaW5lZCB9LAogICAgICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfSwKICAgICAgICB0aXRsZTogeyB0ZXh0OiB1bmRlZmluZWQsIHN0eWxlOiB1bmRlZmluZWQgfQogICAgICB9CiAgICB9OwoKICAgIHRoaXMubGluZWdyYXBoT3B0aW9ucyA9IGxpbmVncmFwaE9wdGlvbnM7CiAgICB0aGlzLmxpbmVncmFwaFNWRyA9IHN2ZzsKICAgIHRoaXMucHJvcHMgPSB7fTsKICAgIHRoaXMuRE9NZWxlbWVudHMgPSB7IC8vIGR5bmFtaWMgZWxlbWVudHMKICAgICAgbGluZXM6IHt9LAogICAgICBsYWJlbHM6IHt9LAogICAgICB0aXRsZToge30KICAgIH07CgogICAgdGhpcy5kb20gPSB7fTsKCiAgICB0aGlzLnJhbmdlID0geyBzdGFydDogMCwgZW5kOiAwIH07CgogICAgdGhpcy5vcHRpb25zID0gdXRpbC5leHRlbmQoe30sIHRoaXMuZGVmYXVsdE9wdGlvbnMpOwogICAgdGhpcy5jb252ZXJzaW9uRmFjdG9yID0gMTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICB0aGlzLndpZHRoID0gTnVtYmVyKCgnJyArIHRoaXMub3B0aW9ucy53aWR0aCkucmVwbGFjZSgncHgnLCAnJykpOwogICAgdGhpcy5taW5XaWR0aCA9IHRoaXMud2lkdGg7CiAgICB0aGlzLmhlaWdodCA9IHRoaXMubGluZWdyYXBoU1ZHLm9mZnNldEhlaWdodDsKICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7CgogICAgdGhpcy5zdGVwUGl4ZWxzID0gMjU7CiAgICB0aGlzLnplcm9Dcm9zc2luZyA9IC0xOwogICAgdGhpcy5hbW91bnRPZlN0ZXBzID0gLTE7CgogICAgdGhpcy5saW5lT2Zmc2V0ID0gMDsKICAgIHRoaXMubWFzdGVyID0gdHJ1ZTsKICAgIHRoaXMuc3ZnRWxlbWVudHMgPSB7fTsKICAgIHRoaXMuaWNvbnNSZW1vdmVkID0gZmFsc2U7CgogICAgdGhpcy5ncm91cHMgPSB7fTsKICAgIHRoaXMuYW1vdW50T2ZHcm91cHMgPSAwOwoKICAgIC8vIGNyZWF0ZSB0aGUgSFRNTCBET00KICAgIHRoaXMuX2NyZWF0ZSgpOwoKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigndmVydGljYWxEcmFnJywgZnVuY3Rpb24gKCkgewogICAgICBtZS5kb20ubGluZUNvbnRhaW5lci5zdHlsZS50b3AgPSBtZS5ib2R5LmRvbVByb3BzLnNjcm9sbFRvcCArICdweCc7CiAgICB9KTsKICB9CgogIERhdGFBeGlzLnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTsKCiAgRGF0YUF4aXMucHJvdG90eXBlLmFkZEdyb3VwID0gZnVuY3Rpb24gKGxhYmVsLCBncmFwaE9wdGlvbnMpIHsKICAgIGlmICghdGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkobGFiZWwpKSB7CiAgICAgIHRoaXMuZ3JvdXBzW2xhYmVsXSA9IGdyYXBoT3B0aW9uczsKICAgIH0KICAgIHRoaXMuYW1vdW50T2ZHcm91cHMgKz0gMTsKICB9OwoKICBEYXRhQXhpcy5wcm90b3R5cGUudXBkYXRlR3JvdXAgPSBmdW5jdGlvbiAobGFiZWwsIGdyYXBoT3B0aW9ucykgewogICAgdGhpcy5ncm91cHNbbGFiZWxdID0gZ3JhcGhPcHRpb25zOwogIH07CgogIERhdGFBeGlzLnByb3RvdHlwZS5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uIChsYWJlbCkgewogICAgaWYgKHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KGxhYmVsKSkgewogICAgICBkZWxldGUgdGhpcy5ncm91cHNbbGFiZWxdOwogICAgICB0aGlzLmFtb3VudE9mR3JvdXBzIC09IDE7CiAgICB9CiAgfTsKCiAgRGF0YUF4aXMucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgaWYgKG9wdGlvbnMpIHsKICAgICAgdmFyIHJlZHJhdyA9IGZhbHNlOwogICAgICBpZiAodGhpcy5vcHRpb25zLm9yaWVudGF0aW9uICE9IG9wdGlvbnMub3JpZW50YXRpb24gJiYgb3B0aW9ucy5vcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmVkcmF3ID0gdHJ1ZTsKICAgICAgfQogICAgICB2YXIgZmllbGRzID0gWydvcmllbnRhdGlvbicsICdzaG93TWlub3JMYWJlbHMnLCAnc2hvd01ham9yTGFiZWxzJywgJ2ljb25zJywgJ21ham9yTGluZXNPZmZzZXQnLCAnbWlub3JMaW5lc09mZnNldCcsICdsYWJlbE9mZnNldFgnLCAnbGFiZWxPZmZzZXRZJywgJ2ljb25XaWR0aCcsICd3aWR0aCcsICd2aXNpYmxlJywgJ2xlZnQnLCAncmlnaHQnLCAnYWxpZ25aZXJvcyddOwogICAgICB1dGlsLnNlbGVjdGl2ZUV4dGVuZChmaWVsZHMsIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgogICAgICB0aGlzLm1pbldpZHRoID0gTnVtYmVyKCgnJyArIHRoaXMub3B0aW9ucy53aWR0aCkucmVwbGFjZSgncHgnLCAnJykpOwoKICAgICAgaWYgKHJlZHJhdyA9PT0gdHJ1ZSAmJiB0aGlzLmRvbS5mcmFtZSkgewogICAgICAgIHRoaXMuaGlkZSgpOwogICAgICAgIHRoaXMuc2hvdygpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ3JlYXRlIHRoZSBIVE1MIERPTSBmb3IgdGhlIERhdGFBeGlzCiAgICovCiAgRGF0YUF4aXMucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmRvbS5mcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uZnJhbWUuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGg7CiAgICB0aGlzLmRvbS5mcmFtZS5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDsKCiAgICB0aGlzLmRvbS5saW5lQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB0aGlzLmRvbS5saW5lQ29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnOwogICAgdGhpcy5kb20ubGluZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDsKICAgIHRoaXMuZG9tLmxpbmVDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOwoKICAgIC8vIGNyZWF0ZSBzdmcgZWxlbWVudCBmb3IgZ3JhcGggZHJhd2luZy4KICAgIHRoaXMuc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTsKICAgIHRoaXMuc3ZnLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgIHRoaXMuc3ZnLnN0eWxlLnRvcCA9ICcwcHgnOwogICAgdGhpcy5zdmcuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnOwogICAgdGhpcy5zdmcuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICB0aGlzLnN2Zy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHRoaXMuZG9tLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuc3ZnKTsKICB9OwoKICBEYXRhQXhpcy5wcm90b3R5cGUuX3JlZHJhd0dyb3VwSWNvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICBET011dGlsLnByZXBhcmVFbGVtZW50cyh0aGlzLnN2Z0VsZW1lbnRzKTsKCiAgICB2YXIgeDsKICAgIHZhciBpY29uV2lkdGggPSB0aGlzLm9wdGlvbnMuaWNvbldpZHRoOwogICAgdmFyIGljb25IZWlnaHQgPSAxNTsKICAgIHZhciBpY29uT2Zmc2V0ID0gNDsKICAgIHZhciB5ID0gaWNvbk9mZnNldCArIDAuNSAqIGljb25IZWlnaHQ7CgogICAgaWYgKHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbiA9PT0gJ2xlZnQnKSB7CiAgICAgIHggPSBpY29uT2Zmc2V0OwogICAgfSBlbHNlIHsKICAgICAgeCA9IHRoaXMud2lkdGggLSBpY29uV2lkdGggLSBpY29uT2Zmc2V0OwogICAgfQoKICAgIHZhciBncm91cEFycmF5ID0gT2JqZWN0LmtleXModGhpcy5ncm91cHMpOwogICAgZ3JvdXBBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogMTsKICAgIH0pOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBBcnJheS5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZ3JvdXBJZCA9IGdyb3VwQXJyYXlbaV07CiAgICAgIGlmICh0aGlzLmdyb3Vwc1tncm91cElkXS52aXNpYmxlID09PSB0cnVlICYmICh0aGlzLmxpbmVncmFwaE9wdGlvbnMudmlzaWJpbGl0eVtncm91cElkXSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMubGluZWdyYXBoT3B0aW9ucy52aXNpYmlsaXR5W2dyb3VwSWRdID09PSB0cnVlKSkgewogICAgICAgIHRoaXMuZ3JvdXBzW2dyb3VwSWRdLmRyYXdJY29uKHgsIHksIHRoaXMuc3ZnRWxlbWVudHMsIHRoaXMuc3ZnLCBpY29uV2lkdGgsIGljb25IZWlnaHQpOwogICAgICAgIHkgKz0gaWNvbkhlaWdodCArIGljb25PZmZzZXQ7CiAgICAgIH0KICAgIH0KCiAgICBET011dGlsLmNsZWFudXBFbGVtZW50cyh0aGlzLnN2Z0VsZW1lbnRzKTsKICAgIHRoaXMuaWNvbnNSZW1vdmVkID0gZmFsc2U7CiAgfTsKCiAgRGF0YUF4aXMucHJvdG90eXBlLl9jbGVhbnVwSWNvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5pY29uc1JlbW92ZWQgPT09IGZhbHNlKSB7CiAgICAgIERPTXV0aWwucHJlcGFyZUVsZW1lbnRzKHRoaXMuc3ZnRWxlbWVudHMpOwogICAgICBET011dGlsLmNsZWFudXBFbGVtZW50cyh0aGlzLnN2Z0VsZW1lbnRzKTsKICAgICAgdGhpcy5pY29uc1JlbW92ZWQgPSB0cnVlOwogICAgfQogIH07CgogIC8qKgogICAqIENyZWF0ZSB0aGUgSFRNTCBET00gZm9yIHRoZSBEYXRhQXhpcwogICAqLwogIERhdGFBeGlzLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5oaWRkZW4gPSBmYWxzZTsKICAgIGlmICghdGhpcy5kb20uZnJhbWUucGFyZW50Tm9kZSkgewogICAgICBpZiAodGhpcy5vcHRpb25zLm9yaWVudGF0aW9uID09PSAnbGVmdCcpIHsKICAgICAgICB0aGlzLmJvZHkuZG9tLmxlZnQuYXBwZW5kQ2hpbGQodGhpcy5kb20uZnJhbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYm9keS5kb20ucmlnaHQuYXBwZW5kQ2hpbGQodGhpcy5kb20uZnJhbWUpOwogICAgICB9CiAgICB9CgogICAgaWYgKCF0aGlzLmRvbS5saW5lQ29udGFpbmVyLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5ib2R5LmRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5saW5lQ29udGFpbmVyKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBDcmVhdGUgdGhlIEhUTUwgRE9NIGZvciB0aGUgRGF0YUF4aXMKICAgKi8KICBEYXRhQXhpcy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTsKICAgIGlmICh0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20uZnJhbWUpOwogICAgfQoKICAgIGlmICh0aGlzLmRvbS5saW5lQ29udGFpbmVyLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5kb20ubGluZUNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmxpbmVDb250YWluZXIpOwogICAgfQogIH07CgogIC8qKgogICAqIFNldCBhIHJhbmdlIChzdGFydCBhbmQgZW5kKQogICAqIEBwYXJhbSBlbmQKICAgKiBAcGFyYW0gc3RhcnQKICAgKiBAcGFyYW0gZW5kCiAgICovCiAgRGF0YUF4aXMucHJvdG90eXBlLnNldFJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHsKICAgIGlmICh0aGlzLm1hc3RlciA9PT0gZmFsc2UgJiYgdGhpcy5vcHRpb25zLmFsaWduWmVyb3MgPT09IHRydWUgJiYgdGhpcy56ZXJvQ3Jvc3NpbmcgIT0gLTEpIHsKICAgICAgaWYgKHN0YXJ0ID4gMCkgewogICAgICAgIHN0YXJ0ID0gMDsKICAgICAgfQogICAgfQogICAgdGhpcy5yYW5nZS5zdGFydCA9IHN0YXJ0OwogICAgdGhpcy5yYW5nZS5lbmQgPSBlbmQ7CiAgfTsKCiAgLyoqCiAgICogUmVwYWludCB0aGUgY29tcG9uZW50CiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgcmVzaXplZAogICAqLwogIERhdGFBeGlzLnByb3RvdHlwZS5yZWRyYXcgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcmVzaXplZCA9IGZhbHNlOwogICAgdmFyIGFjdGl2ZUdyb3VwcyA9IDA7CgogICAgLy8gTWFrZSBzdXJlIHRoZSBsaW5lIGNvbnRhaW5lciBhZGhlcmVzIHRvIHRoZSB2ZXJ0aWNhbCBzY3JvbGxpbmcuCiAgICB0aGlzLmRvbS5saW5lQ29udGFpbmVyLnN0eWxlLnRvcCA9IHRoaXMuYm9keS5kb21Qcm9wcy5zY3JvbGxUb3AgKyAncHgnOwoKICAgIGZvciAodmFyIGdyb3VwSWQgaW4gdGhpcy5ncm91cHMpIHsKICAgICAgaWYgKHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KGdyb3VwSWQpKSB7CiAgICAgICAgaWYgKHRoaXMuZ3JvdXBzW2dyb3VwSWRdLnZpc2libGUgPT09IHRydWUgJiYgKHRoaXMubGluZWdyYXBoT3B0aW9ucy52aXNpYmlsaXR5W2dyb3VwSWRdID09PSB1bmRlZmluZWQgfHwgdGhpcy5saW5lZ3JhcGhPcHRpb25zLnZpc2liaWxpdHlbZ3JvdXBJZF0gPT09IHRydWUpKSB7CiAgICAgICAgICBhY3RpdmVHcm91cHMrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICh0aGlzLmFtb3VudE9mR3JvdXBzID09PSAwIHx8IGFjdGl2ZUdyb3VwcyA9PT0gMCkgewogICAgICB0aGlzLmhpZGUoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuc2hvdygpOwogICAgICB0aGlzLmhlaWdodCA9IE51bWJlcih0aGlzLmxpbmVncmFwaFNWRy5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykpOwoKICAgICAgLy8gc3ZnIG9mZnNldGhlaWdodCBkaWQgbm90IHdvcmsgaW4gZmlyZWZveCBhbmQgZXhwbG9yZXIuLi4KICAgICAgdGhpcy5kb20ubGluZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7CiAgICAgIHRoaXMud2lkdGggPSB0aGlzLm9wdGlvbnMudmlzaWJsZSA9PT0gdHJ1ZSA/IE51bWJlcigoJycgKyB0aGlzLm9wdGlvbnMud2lkdGgpLnJlcGxhY2UoJ3B4JywgJycpKSA6IDA7CgogICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzOwogICAgICB2YXIgZnJhbWUgPSB0aGlzLmRvbS5mcmFtZTsKCiAgICAgIC8vIHVwZGF0ZSBjbGFzc25hbWUKICAgICAgZnJhbWUuY2xhc3NOYW1lID0gJ3Zpcy1kYXRhLWF4aXMnOwoKICAgICAgLy8gY2FsY3VsYXRlIGNoYXJhY3RlciB3aWR0aCBhbmQgaGVpZ2h0CiAgICAgIHRoaXMuX2NhbGN1bGF0ZUNoYXJTaXplKCk7CgogICAgICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLm9wdGlvbnMub3JpZW50YXRpb247CiAgICAgIHZhciBzaG93TWlub3JMYWJlbHMgPSB0aGlzLm9wdGlvbnMuc2hvd01pbm9yTGFiZWxzOwogICAgICB2YXIgc2hvd01ham9yTGFiZWxzID0gdGhpcy5vcHRpb25zLnNob3dNYWpvckxhYmVsczsKCiAgICAgIC8vIGRldGVybWluZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgZWxlbWVudHMgZm9yIHRoZSBheGlzCiAgICAgIHByb3BzLm1pbm9yTGFiZWxIZWlnaHQgPSBzaG93TWlub3JMYWJlbHMgPyBwcm9wcy5taW5vckNoYXJIZWlnaHQgOiAwOwogICAgICBwcm9wcy5tYWpvckxhYmVsSGVpZ2h0ID0gc2hvd01ham9yTGFiZWxzID8gcHJvcHMubWFqb3JDaGFySGVpZ2h0IDogMDsKCiAgICAgIHByb3BzLm1pbm9yTGluZVdpZHRoID0gdGhpcy5ib2R5LmRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5vZmZzZXRXaWR0aCAtIHRoaXMubGluZU9mZnNldCAtIHRoaXMud2lkdGggKyAyICogdGhpcy5vcHRpb25zLm1pbm9yTGluZXNPZmZzZXQ7CiAgICAgIHByb3BzLm1pbm9yTGluZUhlaWdodCA9IDE7CiAgICAgIHByb3BzLm1ham9yTGluZVdpZHRoID0gdGhpcy5ib2R5LmRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5vZmZzZXRXaWR0aCAtIHRoaXMubGluZU9mZnNldCAtIHRoaXMud2lkdGggKyAyICogdGhpcy5vcHRpb25zLm1ham9yTGluZXNPZmZzZXQ7CiAgICAgIHByb3BzLm1ham9yTGluZUhlaWdodCA9IDE7CgogICAgICAvLyAgdGFrZSBmcmFtZSBvZmZsaW5lIHdoaWxlIHVwZGF0aW5nIChpcyBhbG1vc3QgdHdpY2UgYXMgZmFzdCkKICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnbGVmdCcpIHsKICAgICAgICBmcmFtZS5zdHlsZS50b3AgPSAnMCc7CiAgICAgICAgZnJhbWUuc3R5bGUubGVmdCA9ICcwJzsKICAgICAgICBmcmFtZS5zdHlsZS5ib3R0b20gPSAnJzsKICAgICAgICBmcmFtZS5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnOwogICAgICAgIGZyYW1lLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JzsKICAgICAgICB0aGlzLnByb3BzLndpZHRoID0gdGhpcy5ib2R5LmRvbVByb3BzLmxlZnQud2lkdGg7CiAgICAgICAgdGhpcy5wcm9wcy5oZWlnaHQgPSB0aGlzLmJvZHkuZG9tUHJvcHMubGVmdC5oZWlnaHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gcmlnaHQKICAgICAgICBmcmFtZS5zdHlsZS50b3AgPSAnJzsKICAgICAgICBmcmFtZS5zdHlsZS5ib3R0b20gPSAnMCc7CiAgICAgICAgZnJhbWUuc3R5bGUubGVmdCA9ICcwJzsKICAgICAgICBmcmFtZS5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnOwogICAgICAgIGZyYW1lLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JzsKICAgICAgICB0aGlzLnByb3BzLndpZHRoID0gdGhpcy5ib2R5LmRvbVByb3BzLnJpZ2h0LndpZHRoOwogICAgICAgIHRoaXMucHJvcHMuaGVpZ2h0ID0gdGhpcy5ib2R5LmRvbVByb3BzLnJpZ2h0LmhlaWdodDsKICAgICAgfQoKICAgICAgcmVzaXplZCA9IHRoaXMuX3JlZHJhd0xhYmVscygpOwogICAgICByZXNpemVkID0gdGhpcy5faXNSZXNpemVkKCkgfHwgcmVzaXplZDsKCiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaWNvbnMgPT09IHRydWUpIHsKICAgICAgICB0aGlzLl9yZWRyYXdHcm91cEljb25zKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fY2xlYW51cEljb25zKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuX3JlZHJhd1RpdGxlKG9yaWVudGF0aW9uKTsKICAgIH0KICAgIHJldHVybiByZXNpemVkOwogIH07CgogIC8qKgogICAqIFJlcGFpbnQgbWFqb3IgYW5kIG1pbm9yIHRleHQgbGFiZWxzIGFuZCB2ZXJ0aWNhbCBncmlkIGxpbmVzCiAgICogQHByaXZhdGUKICAgKi8KICBEYXRhQXhpcy5wcm90b3R5cGUuX3JlZHJhd0xhYmVscyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciByZXNpemVkID0gZmFsc2U7CiAgICBET011dGlsLnByZXBhcmVFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLmxpbmVzKTsKICAgIERPTXV0aWwucHJlcGFyZUVsZW1lbnRzKHRoaXMuRE9NZWxlbWVudHMubGFiZWxzKTsKICAgIHZhciBvcmllbnRhdGlvbiA9IHRoaXMub3B0aW9uc1snb3JpZW50YXRpb24nXTsKCiAgICAvLyBnZXQgdGhlIHJhbmdlIGZvciB0aGUgc2xhdmVkIGF4aXMKICAgIHZhciBzdGVwOwogICAgaWYgKHRoaXMubWFzdGVyID09PSBmYWxzZSkgewogICAgICB2YXIgc3RlcFNpemUsIHJhbmdlU3RhcnQsIHJhbmdlRW5kLCBtaW5pbXVtU3RlcDsKICAgICAgaWYgKHRoaXMuemVyb0Nyb3NzaW5nICE9PSAtMSAmJiB0aGlzLm9wdGlvbnMuYWxpZ25aZXJvcyA9PT0gdHJ1ZSkgewogICAgICAgIGlmICh0aGlzLnJhbmdlLmVuZCA+IDApIHsKICAgICAgICAgIHN0ZXBTaXplID0gdGhpcy5yYW5nZS5lbmQgLyB0aGlzLnplcm9Dcm9zc2luZzsgLy8gc2l6ZSBvZiBvbmUgc3RlcAogICAgICAgICAgcmFuZ2VTdGFydCA9IHRoaXMucmFuZ2UuZW5kIC0gdGhpcy5hbW91bnRPZlN0ZXBzICogc3RlcFNpemU7CiAgICAgICAgICByYW5nZUVuZCA9IHRoaXMucmFuZ2UuZW5kOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBhbGwgb2YgdGhlIHJhbmdlIChpbmNsdWRpbmcgc3RhcnQpIGhhcyB0byBiZSBkb25lIGJlZm9yZSB0aGUgemVybyBjcm9zc2luZy4KICAgICAgICAgIHN0ZXBTaXplID0gLTEgKiB0aGlzLnJhbmdlLnN0YXJ0IC8gKHRoaXMuYW1vdW50T2ZTdGVwcyAtIHRoaXMuemVyb0Nyb3NzaW5nKTsgLy8gYWJzb2x1dGUgc2l6ZSBvZiBhIHN0ZXAKICAgICAgICAgIHJhbmdlU3RhcnQgPSB0aGlzLnJhbmdlLnN0YXJ0OwogICAgICAgICAgcmFuZ2VFbmQgPSB0aGlzLnJhbmdlLnN0YXJ0ICsgc3RlcFNpemUgKiB0aGlzLmFtb3VudE9mU3RlcHM7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJhbmdlU3RhcnQgPSB0aGlzLnJhbmdlLnN0YXJ0OwogICAgICAgIHJhbmdlRW5kID0gdGhpcy5yYW5nZS5lbmQ7CiAgICAgIH0KICAgICAgbWluaW11bVN0ZXAgPSB0aGlzLnN0ZXBQaXhlbHM7CiAgICB9IGVsc2UgewogICAgICAvLyBjYWxjdWxhdGUgcmFuZ2UgYW5kIHN0ZXAgKHN0ZXAgc3VjaCB0aGF0IHdlIGhhdmUgc3BhY2UgZm9yIDcgY2hhcmFjdGVycyBwZXIgbGFiZWwpCiAgICAgIG1pbmltdW1TdGVwID0gdGhpcy5wcm9wcy5tYWpvckNoYXJIZWlnaHQ7CiAgICAgIHJhbmdlU3RhcnQgPSB0aGlzLnJhbmdlLnN0YXJ0OwogICAgICByYW5nZUVuZCA9IHRoaXMucmFuZ2UuZW5kOwogICAgfQoKICAgIHRoaXMuc3RlcCA9IHN0ZXAgPSBuZXcgRGF0YVN0ZXAocmFuZ2VTdGFydCwgcmFuZ2VFbmQsIG1pbmltdW1TdGVwLCB0aGlzLmRvbS5mcmFtZS5vZmZzZXRIZWlnaHQsIHRoaXMub3B0aW9uc1t0aGlzLm9wdGlvbnMub3JpZW50YXRpb25dLnJhbmdlLCB0aGlzLm9wdGlvbnNbdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uXS5mb3JtYXQsIHRoaXMubWFzdGVyID09PSBmYWxzZSAmJiB0aGlzLm9wdGlvbnMuYWxpZ25aZXJvcyAvLyBkb2VzIHRoZSBzdGVwIGhhdmUgdG8gYWxpZ24gemVyb3M/IG9ubHkgaWYgbm90IG1hc3RlciBhbmQgdGhlIG9wdGlvbnMgaXMgb24KICAgICk7CgogICAgLy8gdGhlIHNsYXZlIGF4aXMgbmVlZHMgdG8gdXNlIHRoZSBzYW1lIGhvcml6b250YWwgbGluZXMgYXMgdGhlIG1hc3RlciBheGlzLgogICAgaWYgKHRoaXMubWFzdGVyID09PSB0cnVlKSB7CiAgICAgIHRoaXMuc3RlcFBpeGVscyA9IHRoaXMuZG9tLmZyYW1lLm9mZnNldEhlaWdodCAvIHN0ZXAubWFyZ2luUmFuZ2UgKiBzdGVwLnN0ZXA7CiAgICAgIHRoaXMuYW1vdW50T2ZTdGVwcyA9IE1hdGguY2VpbCh0aGlzLmRvbS5mcmFtZS5vZmZzZXRIZWlnaHQgLyB0aGlzLnN0ZXBQaXhlbHMpOwogICAgfSBlbHNlIHsKICAgICAgLy8gYWxpZ24gd2l0aCB6ZXJvCiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxpZ25aZXJvcyA9PT0gdHJ1ZSAmJiB0aGlzLnplcm9Dcm9zc2luZyAhPT0gLTEpIHsKICAgICAgICAvLyBkaXN0YW5jZSBpcyB0aGUgYW1vdW50IG9mIHN0ZXBzIGF3YXkgZnJvbSB0aGUgemVybyBjcm9zc2luZyB3ZSBhcmUuCiAgICAgICAgdmFyIGRpc3RhbmNlID0gKHN0ZXAuY3VycmVudCAtIHRoaXMuemVyb0Nyb3NzaW5nICogc3RlcC5zdGVwKSAvIHN0ZXAuc3RlcDsKICAgICAgICB0aGlzLnN0ZXAuc2hpZnQoZGlzdGFuY2UpOwogICAgICB9CiAgICB9CgogICAgLy8gdmFsdWUgYXQgdGhlIGJvdHRvbSBvZiB0aGUgU1ZHCiAgICB0aGlzLnZhbHVlQXRCb3R0b20gPSBzdGVwLm1hcmdpbkVuZDsKCiAgICB0aGlzLm1heExhYmVsU2l6ZSA9IDA7CiAgICB2YXIgeSA9IDA7IC8vIGluaXQgdmFsdWUKICAgIHZhciBzdGVwSW5kZXggPSAwOyAvLyBpbml0IHZhbHVlCiAgICB2YXIgaXNNYWpvciA9IGZhbHNlOyAvLyBpbml0IHZhbHVlCiAgICB3aGlsZSAoc3RlcEluZGV4IDwgdGhpcy5hbW91bnRPZlN0ZXBzKSB7CiAgICAgIHkgPSBNYXRoLnJvdW5kKHN0ZXBJbmRleCAqIHRoaXMuc3RlcFBpeGVscyk7CiAgICAgIGlzTWFqb3IgPSBzdGVwLmlzTWFqb3IoKTsKCiAgICAgIGlmIChzdGVwSW5kZXggPiAwICYmIHN0ZXBJbmRleCAhPT0gdGhpcy5hbW91bnRPZlN0ZXBzKSB7CiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1snc2hvd01pbm9yTGFiZWxzJ10gJiYgaXNNYWpvciA9PT0gZmFsc2UgfHwgdGhpcy5tYXN0ZXIgPT09IGZhbHNlICYmIHRoaXMub3B0aW9uc1snc2hvd01pbm9yTGFiZWxzJ10gPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuX3JlZHJhd0xhYmVsKHkgLSAyLCBzdGVwLmdldEN1cnJlbnQoKSwgb3JpZW50YXRpb24sICd2aXMteS1heGlzIHZpcy1taW5vcicsIHRoaXMucHJvcHMubWlub3JDaGFySGVpZ2h0KTsKICAgICAgICB9CgogICAgICAgIGlmIChpc01ham9yICYmIHRoaXMub3B0aW9uc1snc2hvd01ham9yTGFiZWxzJ10gJiYgdGhpcy5tYXN0ZXIgPT09IHRydWUgfHwgdGhpcy5vcHRpb25zWydzaG93TWlub3JMYWJlbHMnXSA9PT0gZmFsc2UgJiYgdGhpcy5tYXN0ZXIgPT09IGZhbHNlICYmIGlzTWFqb3IgPT09IHRydWUpIHsKICAgICAgICAgIGlmICh5ID49IDApIHsKICAgICAgICAgICAgdGhpcy5fcmVkcmF3TGFiZWwoeSAtIDIsIHN0ZXAuZ2V0Q3VycmVudCgpLCBvcmllbnRhdGlvbiwgJ3Zpcy15LWF4aXMgdmlzLW1ham9yJywgdGhpcy5wcm9wcy5tYWpvckNoYXJIZWlnaHQpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5fcmVkcmF3TGluZSh5LCBvcmllbnRhdGlvbiwgJ3Zpcy1ncmlkIHZpcy1ob3Jpem9udGFsIHZpcy1tYWpvcicsIHRoaXMub3B0aW9ucy5tYWpvckxpbmVzT2Zmc2V0LCB0aGlzLnByb3BzLm1ham9yTGluZVdpZHRoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5fcmVkcmF3TGluZSh5LCBvcmllbnRhdGlvbiwgJ3Zpcy1ncmlkIHZpcy1ob3Jpem9udGFsIHZpcy1taW5vcicsIHRoaXMub3B0aW9ucy5taW5vckxpbmVzT2Zmc2V0LCB0aGlzLnByb3BzLm1pbm9yTGluZVdpZHRoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGdldCB6ZXJvIGNyb3NzaW5nCiAgICAgIGlmICh0aGlzLm1hc3RlciA9PT0gdHJ1ZSAmJiBzdGVwLmN1cnJlbnQgPT09IDApIHsKICAgICAgICB0aGlzLnplcm9Dcm9zc2luZyA9IHN0ZXBJbmRleDsKICAgICAgfQoKICAgICAgc3RlcC5uZXh0KCk7CiAgICAgIHN0ZXBJbmRleCArPSAxOwogICAgfQoKICAgIC8vIGdldCB6ZXJvIGNyb3NzaW5nIGlmIGl0J3MgdGhlIGxhc3Qgc3RlcAogICAgaWYgKHRoaXMubWFzdGVyID09PSB0cnVlICYmIHN0ZXAuY3VycmVudCA9PT0gMCkgewogICAgICB0aGlzLnplcm9Dcm9zc2luZyA9IHN0ZXBJbmRleDsKICAgIH0KCiAgICB0aGlzLmNvbnZlcnNpb25GYWN0b3IgPSB0aGlzLnN0ZXBQaXhlbHMgLyBzdGVwLnN0ZXA7CgogICAgLy8gTm90ZSB0aGF0IHRpdGxlIGlzIHJvdGF0ZWQsIHNvIHdlJ3JlIHVzaW5nIHRoZSBoZWlnaHQsIG5vdCB3aWR0aCEKICAgIHZhciB0aXRsZVdpZHRoID0gMDsKICAgIGlmICh0aGlzLm9wdGlvbnNbb3JpZW50YXRpb25dLnRpdGxlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zW29yaWVudGF0aW9uXS50aXRsZS50ZXh0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdGl0bGVXaWR0aCA9IHRoaXMucHJvcHMudGl0bGVDaGFySGVpZ2h0OwogICAgfQogICAgdmFyIG9mZnNldCA9IHRoaXMub3B0aW9ucy5pY29ucyA9PT0gdHJ1ZSA/IE1hdGgubWF4KHRoaXMub3B0aW9ucy5pY29uV2lkdGgsIHRpdGxlV2lkdGgpICsgdGhpcy5vcHRpb25zLmxhYmVsT2Zmc2V0WCArIDE1IDogdGl0bGVXaWR0aCArIHRoaXMub3B0aW9ucy5sYWJlbE9mZnNldFggKyAxNTsKCiAgICAvLyB0aGlzIHdpbGwgcmVzaXplIHRoZSB5QXhpcyB0byBhY2NvbW1vZGF0ZSB0aGUgbGFiZWxzLgogICAgaWYgKHRoaXMubWF4TGFiZWxTaXplID4gdGhpcy53aWR0aCAtIG9mZnNldCAmJiB0aGlzLm9wdGlvbnMudmlzaWJsZSA9PT0gdHJ1ZSkgewogICAgICB0aGlzLndpZHRoID0gdGhpcy5tYXhMYWJlbFNpemUgKyBvZmZzZXQ7CiAgICAgIHRoaXMub3B0aW9ucy53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnOwogICAgICBET011dGlsLmNsZWFudXBFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLmxpbmVzKTsKICAgICAgRE9NdXRpbC5jbGVhbnVwRWxlbWVudHModGhpcy5ET01lbGVtZW50cy5sYWJlbHMpOwogICAgICB0aGlzLnJlZHJhdygpOwogICAgICByZXNpemVkID0gdHJ1ZTsKICAgIH0KICAgIC8vIHRoaXMgd2lsbCByZXNpemUgdGhlIHlBeGlzIGlmIGl0IGlzIHRvbyBiaWcgZm9yIHRoZSBsYWJlbHMuCiAgICBlbHNlIGlmICh0aGlzLm1heExhYmVsU2l6ZSA8IHRoaXMud2lkdGggLSBvZmZzZXQgJiYgdGhpcy5vcHRpb25zLnZpc2libGUgPT09IHRydWUgJiYgdGhpcy53aWR0aCA+IHRoaXMubWluV2lkdGgpIHsKICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHRoaXMubWluV2lkdGgsIHRoaXMubWF4TGFiZWxTaXplICsgb2Zmc2V0KTsKICAgICAgdGhpcy5vcHRpb25zLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7CiAgICAgIERPTXV0aWwuY2xlYW51cEVsZW1lbnRzKHRoaXMuRE9NZWxlbWVudHMubGluZXMpOwogICAgICBET011dGlsLmNsZWFudXBFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLmxhYmVscyk7CiAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgIHJlc2l6ZWQgPSB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgRE9NdXRpbC5jbGVhbnVwRWxlbWVudHModGhpcy5ET01lbGVtZW50cy5saW5lcyk7CiAgICAgIERPTXV0aWwuY2xlYW51cEVsZW1lbnRzKHRoaXMuRE9NZWxlbWVudHMubGFiZWxzKTsKICAgICAgcmVzaXplZCA9IGZhbHNlOwogICAgfQoKICAgIHJldHVybiByZXNpemVkOwogIH07CgogIERhdGFBeGlzLnByb3RvdHlwZS5jb252ZXJ0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgIHZhciBpbnZlcnRlZFZhbHVlID0gdGhpcy52YWx1ZUF0Qm90dG9tIC0gdmFsdWU7CiAgICB2YXIgY29udmVydGVkVmFsdWUgPSBpbnZlcnRlZFZhbHVlICogdGhpcy5jb252ZXJzaW9uRmFjdG9yOwogICAgcmV0dXJuIGNvbnZlcnRlZFZhbHVlOwogIH07CgogIERhdGFBeGlzLnByb3RvdHlwZS5zY3JlZW5Ub1ZhbHVlID0gZnVuY3Rpb24gKHgpIHsKICAgIHJldHVybiB0aGlzLnZhbHVlQXRCb3R0b20gLSB4IC8gdGhpcy5jb252ZXJzaW9uRmFjdG9yOwogIH07CgogIC8qKgogICAqIENyZWF0ZSBhIGxhYmVsIGZvciB0aGUgYXhpcyBhdCBwb3NpdGlvbiB4CiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0geQogICAqIEBwYXJhbSB0ZXh0CiAgICogQHBhcmFtIG9yaWVudGF0aW9uCiAgICogQHBhcmFtIGNsYXNzTmFtZQogICAqIEBwYXJhbSBjaGFyYWN0ZXJIZWlnaHQKICAgKi8KICBEYXRhQXhpcy5wcm90b3R5cGUuX3JlZHJhd0xhYmVsID0gZnVuY3Rpb24gKHksIHRleHQsIG9yaWVudGF0aW9uLCBjbGFzc05hbWUsIGNoYXJhY3RlckhlaWdodCkgewogICAgLy8gcmV1c2UgcmVkdW5kYW50IGxhYmVsCiAgICB2YXIgbGFiZWwgPSBET011dGlsLmdldERPTUVsZW1lbnQoJ2RpdicsIHRoaXMuRE9NZWxlbWVudHMubGFiZWxzLCB0aGlzLmRvbS5mcmFtZSk7IC8vdGhpcy5kb20ucmVkdW5kYW50LmxhYmVscy5zaGlmdCgpOwogICAgbGFiZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lOwogICAgbGFiZWwuaW5uZXJIVE1MID0gdGV4dDsKICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ2xlZnQnKSB7CiAgICAgIGxhYmVsLnN0eWxlLmxlZnQgPSAnLScgKyB0aGlzLm9wdGlvbnMubGFiZWxPZmZzZXRYICsgJ3B4JzsKICAgICAgbGFiZWwuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JzsKICAgIH0gZWxzZSB7CiAgICAgIGxhYmVsLnN0eWxlLnJpZ2h0ID0gJy0nICsgdGhpcy5vcHRpb25zLmxhYmVsT2Zmc2V0WCArICdweCc7CiAgICAgIGxhYmVsLnN0eWxlLnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgIH0KCiAgICBsYWJlbC5zdHlsZS50b3AgPSB5IC0gMC41ICogY2hhcmFjdGVySGVpZ2h0ICsgdGhpcy5vcHRpb25zLmxhYmVsT2Zmc2V0WSArICdweCc7CgogICAgdGV4dCArPSAnJzsKCiAgICB2YXIgbGFyZ2VzdFdpZHRoID0gTWF0aC5tYXgodGhpcy5wcm9wcy5tYWpvckNoYXJXaWR0aCwgdGhpcy5wcm9wcy5taW5vckNoYXJXaWR0aCk7CiAgICBpZiAodGhpcy5tYXhMYWJlbFNpemUgPCB0ZXh0Lmxlbmd0aCAqIGxhcmdlc3RXaWR0aCkgewogICAgICB0aGlzLm1heExhYmVsU2l6ZSA9IHRleHQubGVuZ3RoICogbGFyZ2VzdFdpZHRoOwogICAgfQogIH07CgogIC8qKgogICAqIENyZWF0ZSBhIG1pbm9yIGxpbmUgZm9yIHRoZSBheGlzIGF0IHBvc2l0aW9uIHkKICAgKiBAcGFyYW0geQogICAqIEBwYXJhbSBvcmllbnRhdGlvbgogICAqIEBwYXJhbSBjbGFzc05hbWUKICAgKiBAcGFyYW0gb2Zmc2V0CiAgICogQHBhcmFtIHdpZHRoCiAgICovCiAgRGF0YUF4aXMucHJvdG90eXBlLl9yZWRyYXdMaW5lID0gZnVuY3Rpb24gKHksIG9yaWVudGF0aW9uLCBjbGFzc05hbWUsIG9mZnNldCwgd2lkdGgpIHsKICAgIGlmICh0aGlzLm1hc3RlciA9PT0gdHJ1ZSkgewogICAgICB2YXIgbGluZSA9IERPTXV0aWwuZ2V0RE9NRWxlbWVudCgnZGl2JywgdGhpcy5ET01lbGVtZW50cy5saW5lcywgdGhpcy5kb20ubGluZUNvbnRhaW5lcik7IC8vdGhpcy5kb20ucmVkdW5kYW50LmxpbmVzLnNoaWZ0KCk7CiAgICAgIGxpbmUuY2xhc3NOYW1lID0gY2xhc3NOYW1lOwogICAgICBsaW5lLmlubmVySFRNTCA9ICcnOwoKICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnbGVmdCcpIHsKICAgICAgICBsaW5lLnN0eWxlLmxlZnQgPSB0aGlzLndpZHRoIC0gb2Zmc2V0ICsgJ3B4JzsKICAgICAgfSBlbHNlIHsKICAgICAgICBsaW5lLnN0eWxlLnJpZ2h0ID0gdGhpcy53aWR0aCAtIG9mZnNldCArICdweCc7CiAgICAgIH0KCiAgICAgIGxpbmUuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7CiAgICAgIGxpbmUuc3R5bGUudG9wID0geSArICdweCc7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogQ3JlYXRlIGEgdGl0bGUgZm9yIHRoZSBheGlzCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0gb3JpZW50YXRpb24KICAgKi8KICBEYXRhQXhpcy5wcm90b3R5cGUuX3JlZHJhd1RpdGxlID0gZnVuY3Rpb24gKG9yaWVudGF0aW9uKSB7CiAgICBET011dGlsLnByZXBhcmVFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLnRpdGxlKTsKCiAgICAvLyBDaGVjayBpZiB0aGUgdGl0bGUgaXMgZGVmaW5lZCBmb3IgdGhpcyBheGVzCiAgICBpZiAodGhpcy5vcHRpb25zW29yaWVudGF0aW9uXS50aXRsZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9uc1tvcmllbnRhdGlvbl0udGl0bGUudGV4dCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB0aXRsZSA9IERPTXV0aWwuZ2V0RE9NRWxlbWVudCgnZGl2JywgdGhpcy5ET01lbGVtZW50cy50aXRsZSwgdGhpcy5kb20uZnJhbWUpOwogICAgICB0aXRsZS5jbGFzc05hbWUgPSAndmlzLXktYXhpcyB2aXMtdGl0bGUgdmlzLScgKyBvcmllbnRhdGlvbjsKICAgICAgdGl0bGUuaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zW29yaWVudGF0aW9uXS50aXRsZS50ZXh0OwoKICAgICAgLy8gQWRkIHN0eWxlIC0gaWYgcHJvdmlkZWQKICAgICAgaWYgKHRoaXMub3B0aW9uc1tvcmllbnRhdGlvbl0udGl0bGUuc3R5bGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHV0aWwuYWRkQ3NzVGV4dCh0aXRsZSwgdGhpcy5vcHRpb25zW29yaWVudGF0aW9uXS50aXRsZS5zdHlsZSk7CiAgICAgIH0KCiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ2xlZnQnKSB7CiAgICAgICAgdGl0bGUuc3R5bGUubGVmdCA9IHRoaXMucHJvcHMudGl0bGVDaGFySGVpZ2h0ICsgJ3B4JzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aXRsZS5zdHlsZS5yaWdodCA9IHRoaXMucHJvcHMudGl0bGVDaGFySGVpZ2h0ICsgJ3B4JzsKICAgICAgfQoKICAgICAgdGl0bGUuc3R5bGUud2lkdGggPSB0aGlzLmhlaWdodCArICdweCc7CiAgICB9CgogICAgLy8gd2UgbmVlZCB0byBjbGVhbiB1cCBpbiBjYXNlIHdlIGRpZCBub3QgdXNlIGFsbCBlbGVtZW50cy4KICAgIERPTXV0aWwuY2xlYW51cEVsZW1lbnRzKHRoaXMuRE9NZWxlbWVudHMudGl0bGUpOwogIH07CgogIC8qKgogICAqIERldGVybWluZSB0aGUgc2l6ZSBvZiB0ZXh0IG9uIHRoZSBheGlzIChib3RoIG1ham9yIGFuZCBtaW5vciBheGlzKS4KICAgKiBUaGUgc2l6ZSBpcyBjYWxjdWxhdGVkIG9ubHkgb25jZSBhbmQgdGhlbiBjYWNoZWQgaW4gdGhpcy5wcm9wcy4KICAgKiBAcHJpdmF0ZQogICAqLwogIERhdGFBeGlzLnByb3RvdHlwZS5fY2FsY3VsYXRlQ2hhclNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyBkZXRlcm1pbmUgdGhlIGNoYXIgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbWlub3IgYXhpcwogICAgaWYgKCEoJ21pbm9yQ2hhckhlaWdodCcgaW4gdGhpcy5wcm9wcykpIHsKICAgICAgdmFyIHRleHRNaW5vciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcwJyk7CiAgICAgIHZhciBtZWFzdXJlQ2hhck1pbm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIG1lYXN1cmVDaGFyTWlub3IuY2xhc3NOYW1lID0gJ3Zpcy15LWF4aXMgdmlzLW1pbm9yIHZpcy1tZWFzdXJlJzsKICAgICAgbWVhc3VyZUNoYXJNaW5vci5hcHBlbmRDaGlsZCh0ZXh0TWlub3IpOwogICAgICB0aGlzLmRvbS5mcmFtZS5hcHBlbmRDaGlsZChtZWFzdXJlQ2hhck1pbm9yKTsKCiAgICAgIHRoaXMucHJvcHMubWlub3JDaGFySGVpZ2h0ID0gbWVhc3VyZUNoYXJNaW5vci5jbGllbnRIZWlnaHQ7CiAgICAgIHRoaXMucHJvcHMubWlub3JDaGFyV2lkdGggPSBtZWFzdXJlQ2hhck1pbm9yLmNsaWVudFdpZHRoOwoKICAgICAgdGhpcy5kb20uZnJhbWUucmVtb3ZlQ2hpbGQobWVhc3VyZUNoYXJNaW5vcik7CiAgICB9CgogICAgaWYgKCEoJ21ham9yQ2hhckhlaWdodCcgaW4gdGhpcy5wcm9wcykpIHsKICAgICAgdmFyIHRleHRNYWpvciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcwJyk7CiAgICAgIHZhciBtZWFzdXJlQ2hhck1ham9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIG1lYXN1cmVDaGFyTWFqb3IuY2xhc3NOYW1lID0gJ3Zpcy15LWF4aXMgdmlzLW1ham9yIHZpcy1tZWFzdXJlJzsKICAgICAgbWVhc3VyZUNoYXJNYWpvci5hcHBlbmRDaGlsZCh0ZXh0TWFqb3IpOwogICAgICB0aGlzLmRvbS5mcmFtZS5hcHBlbmRDaGlsZChtZWFzdXJlQ2hhck1ham9yKTsKCiAgICAgIHRoaXMucHJvcHMubWFqb3JDaGFySGVpZ2h0ID0gbWVhc3VyZUNoYXJNYWpvci5jbGllbnRIZWlnaHQ7CiAgICAgIHRoaXMucHJvcHMubWFqb3JDaGFyV2lkdGggPSBtZWFzdXJlQ2hhck1ham9yLmNsaWVudFdpZHRoOwoKICAgICAgdGhpcy5kb20uZnJhbWUucmVtb3ZlQ2hpbGQobWVhc3VyZUNoYXJNYWpvcik7CiAgICB9CgogICAgaWYgKCEoJ3RpdGxlQ2hhckhlaWdodCcgaW4gdGhpcy5wcm9wcykpIHsKICAgICAgdmFyIHRleHRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcwJyk7CiAgICAgIHZhciBtZWFzdXJlQ2hhclRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIG1lYXN1cmVDaGFyVGl0bGUuY2xhc3NOYW1lID0gJ3Zpcy15LWF4aXMgdmlzLXRpdGxlIHZpcy1tZWFzdXJlJzsKICAgICAgbWVhc3VyZUNoYXJUaXRsZS5hcHBlbmRDaGlsZCh0ZXh0VGl0bGUpOwogICAgICB0aGlzLmRvbS5mcmFtZS5hcHBlbmRDaGlsZChtZWFzdXJlQ2hhclRpdGxlKTsKCiAgICAgIHRoaXMucHJvcHMudGl0bGVDaGFySGVpZ2h0ID0gbWVhc3VyZUNoYXJUaXRsZS5jbGllbnRIZWlnaHQ7CiAgICAgIHRoaXMucHJvcHMudGl0bGVDaGFyV2lkdGggPSBtZWFzdXJlQ2hhclRpdGxlLmNsaWVudFdpZHRoOwoKICAgICAgdGhpcy5kb20uZnJhbWUucmVtb3ZlQ2hpbGQobWVhc3VyZUNoYXJUaXRsZSk7CiAgICB9CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBEYXRhQXhpczsKCi8qKiovIH0sCi8qIDUyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICAvKioKICAgKiBAY29uc3RydWN0b3IgIERhdGFTdGVwCiAgICogVGhlIGNsYXNzIERhdGFTdGVwIGlzIGFuIGl0ZXJhdG9yIGZvciBkYXRhIGZvciB0aGUgbGluZUdyYXBoLiBZb3UgcHJvdmlkZSBhIHN0YXJ0IGRhdGEgcG9pbnQgYW5kIGFuCiAgICogZW5kIGRhdGEgcG9pbnQuIFRoZSBjbGFzcyBpdHNlbGYgZGV0ZXJtaW5lcyB0aGUgYmVzdCBzY2FsZSAoc3RlcCBzaXplKSBiYXNlZCBvbiB0aGUKICAgKiBwcm92aWRlZCBzdGFydCBEYXRlLCBlbmQgRGF0ZSwgYW5kIG1pbmltdW1TdGVwLgogICAqCiAgICogSWYgbWluaW11bVN0ZXAgaXMgcHJvdmlkZWQsIHRoZSBzdGVwIHNpemUgaXMgY2hvc2VuIGFzIGNsb3NlIGFzIHBvc3NpYmxlCiAgICogdG8gdGhlIG1pbmltdW1TdGVwIGJ1dCBsYXJnZXIgdGhhbiBtaW5pbXVtU3RlcC4gSWYgbWluaW11bVN0ZXAgaXMgbm90CiAgICogcHJvdmlkZWQsIHRoZSBzY2FsZSBpcyBzZXQgdG8gMSBEQVkuCiAgICogVGhlIG1pbmltdW1TdGVwIHNob3VsZCBjb3JyZXNwb25kIHdpdGggdGhlIG9uc2NyZWVuIHNpemUgb2YgYWJvdXQgNiBjaGFyYWN0ZXJzCiAgICoKICAgKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHNldCBhIHNjYWxlIGJ5IGhhbmQuCiAgICogQWZ0ZXIgY3JlYXRpb24sIHlvdSBjYW4gaW5pdGlhbGl6ZSB0aGUgY2xhc3MgYnkgZXhlY3V0aW5nIGZpcnN0KCkuIFRoZW4geW91CiAgICogY2FuIGl0ZXJhdGUgZnJvbSB0aGUgc3RhcnQgZGF0ZSB0byB0aGUgZW5kIGRhdGUgdmlhIG5leHQoKS4gWW91IGNhbiBjaGVjayBpZgogICAqIHRoZSBlbmQgZGF0ZSBpcyByZWFjaGVkIHdpdGggdGhlIGZ1bmN0aW9uIGhhc05leHQoKS4gQWZ0ZXIgZWFjaCBzdGVwLCB5b3UgY2FuCiAgICogcmV0cmlldmUgdGhlIGN1cnJlbnQgZGF0ZSB2aWEgZ2V0Q3VycmVudCgpLgogICAqIFRoZSBEYXRhU3RlcCBoYXMgc2NhbGVzIHJhbmdpbmcgZnJvbSBtaWxsaXNlY29uZHMsIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLAogICAqIGRheXMsIHRvIHllYXJzLgogICAqCiAgICogVmVyc2lvbjogMS4yCiAgICoKICAgKiBAcGFyYW0ge0RhdGV9IFtzdGFydF0gICAgICAgICBUaGUgc3RhcnQgZGF0ZSwgZm9yIGV4YW1wbGUgbmV3IERhdGUoMjAxMCwgOSwgMjEpCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgbmV3IERhdGUoMjAxMCwgOSwgMjEsIDIzLCA0NSwgMDApCiAgICogQHBhcmFtIHtEYXRlfSBbZW5kXSAgICAgICAgICAgVGhlIGVuZCBkYXRlCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttaW5pbXVtU3RlcF0gT3B0aW9uYWwuIE1pbmltdW0gc3RlcCBzaXplIGluIG1pbGxpc2Vjb25kcwogICAqLwogICd1c2Ugc3RyaWN0JzsKCiAgZnVuY3Rpb24gRGF0YVN0ZXAoc3RhcnQsIGVuZCwgbWluaW11bVN0ZXAsIGNvbnRhaW5lckhlaWdodCwgY3VzdG9tUmFuZ2UsIGZvcm1hdHRpbmdGdW5jdGlvbiwgYWxpZ25aZXJvcykgewogICAgLy8gdmFyaWFibGVzCiAgICB0aGlzLmN1cnJlbnQgPSAwOwoKICAgIHRoaXMuYXV0b1NjYWxlID0gdHJ1ZTsKICAgIHRoaXMuc3RlcEluZGV4ID0gMDsKICAgIHRoaXMuc3RlcCA9IDE7CiAgICB0aGlzLnNjYWxlID0gMTsKICAgIHRoaXMuZm9ybWF0dGluZ0Z1bmN0aW9uID0gZm9ybWF0dGluZ0Z1bmN0aW9uOwoKICAgIHRoaXMubWFyZ2luU3RhcnQ7CiAgICB0aGlzLm1hcmdpbkVuZDsKICAgIHRoaXMuZGVhZFNwYWNlID0gMDsKCiAgICB0aGlzLm1ham9yU3RlcHMgPSBbMSwgMiwgNSwgMTBdOwogICAgdGhpcy5taW5vclN0ZXBzID0gWzAuMjUsIDAuNSwgMSwgMl07CgogICAgdGhpcy5hbGlnblplcm9zID0gYWxpZ25aZXJvczsKCiAgICB0aGlzLnNldFJhbmdlKHN0YXJ0LCBlbmQsIG1pbmltdW1TdGVwLCBjb250YWluZXJIZWlnaHQsIGN1c3RvbVJhbmdlKTsKICB9CgogIC8qKgogICAqIFNldCBhIG5ldyByYW5nZQogICAqIElmIG1pbmltdW1TdGVwIGlzIHByb3ZpZGVkLCB0aGUgc3RlcCBzaXplIGlzIGNob3NlbiBhcyBjbG9zZSBhcyBwb3NzaWJsZQogICAqIHRvIHRoZSBtaW5pbXVtU3RlcCBidXQgbGFyZ2VyIHRoYW4gbWluaW11bVN0ZXAuIElmIG1pbmltdW1TdGVwIGlzIG5vdAogICAqIHByb3ZpZGVkLCB0aGUgc2NhbGUgaXMgc2V0IHRvIDEgREFZLgogICAqIFRoZSBtaW5pbXVtU3RlcCBzaG91bGQgY29ycmVzcG9uZCB3aXRoIHRoZSBvbnNjcmVlbiBzaXplIG9mIGFib3V0IDYgY2hhcmFjdGVycwogICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdICAgICAgVGhlIHN0YXJ0IGRhdGUgYW5kIHRpbWUuCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRdICAgICAgICBUaGUgZW5kIGRhdGUgYW5kIHRpbWUuCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttaW5pbXVtU3RlcF0gT3B0aW9uYWwuIE1pbmltdW0gc3RlcCBzaXplIGluIG1pbGxpc2Vjb25kcwogICAqLwogIERhdGFTdGVwLnByb3RvdHlwZS5zZXRSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBtaW5pbXVtU3RlcCwgY29udGFpbmVySGVpZ2h0LCBjdXN0b21SYW5nZSkgewogICAgdGhpcy5fc3RhcnQgPSBjdXN0b21SYW5nZS5taW4gPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogY3VzdG9tUmFuZ2UubWluOwogICAgdGhpcy5fZW5kID0gY3VzdG9tUmFuZ2UubWF4ID09PSB1bmRlZmluZWQgPyBlbmQgOiBjdXN0b21SYW5nZS5tYXg7CiAgICBpZiAodGhpcy5fc3RhcnQgPT09IHRoaXMuX2VuZCkgewogICAgICB0aGlzLl9zdGFydCA9IGN1c3RvbVJhbmdlLm1pbiA9PT0gdW5kZWZpbmVkID8gdGhpcy5fc3RhcnQgLSAwLjc1IDogdGhpcy5fc3RhcnQ7CiAgICAgIHRoaXMuX2VuZCA9IGN1c3RvbVJhbmdlLm1heCA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZW5kICsgMSA6IHRoaXMuX2VuZDs7CiAgICB9CgogICAgaWYgKHRoaXMuYXV0b1NjYWxlID09PSB0cnVlKSB7CiAgICAgIHRoaXMuc2V0TWluaW11bVN0ZXAobWluaW11bVN0ZXAsIGNvbnRhaW5lckhlaWdodCk7CiAgICB9CgogICAgdGhpcy5zZXRGaXJzdChjdXN0b21SYW5nZSk7CiAgfTsKCiAgLyoqCiAgICogQXV0b21hdGljYWxseSBkZXRlcm1pbmUgdGhlIHNjYWxlIHRoYXQgYmVzdHMgZml0cyB0aGUgcHJvdmlkZWQgbWluaW11bSBzdGVwCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttaW5pbXVtU3RlcF0gIFRoZSBtaW5pbXVtIHN0ZXAgc2l6ZSBpbiBwaXhlbHMKICAgKi8KICBEYXRhU3RlcC5wcm90b3R5cGUuc2V0TWluaW11bVN0ZXAgPSBmdW5jdGlvbiAobWluaW11bVN0ZXAsIGNvbnRhaW5lckhlaWdodCkgewogICAgLy8gcm91bmQgdG8gZmxvb3IKICAgIHZhciByYW5nZSA9IHRoaXMuX2VuZCAtIHRoaXMuX3N0YXJ0OwogICAgdmFyIHNhZmVSYW5nZSA9IHJhbmdlICogMS4yOwogICAgdmFyIG1pbmltdW1TdGVwVmFsdWUgPSBtaW5pbXVtU3RlcCAqIChzYWZlUmFuZ2UgLyBjb250YWluZXJIZWlnaHQpOwogICAgdmFyIG9yZGVyT2ZNYWduaXR1ZGUgPSBNYXRoLnJvdW5kKE1hdGgubG9nKHNhZmVSYW5nZSkgLyBNYXRoLkxOMTApOwoKICAgIHZhciBtaW5vclN0ZXBJZHggPSAtMTsKICAgIHZhciBtYWduaXR1ZGVmYWN0b3IgPSBNYXRoLnBvdygxMCwgb3JkZXJPZk1hZ25pdHVkZSk7CgogICAgdmFyIHN0YXJ0ID0gMDsKICAgIGlmIChvcmRlck9mTWFnbml0dWRlIDwgMCkgewogICAgICBzdGFydCA9IG9yZGVyT2ZNYWduaXR1ZGU7CiAgICB9CgogICAgdmFyIHNvbHV0aW9uRm91bmQgPSBmYWxzZTsKICAgIGZvciAodmFyIGkgPSBzdGFydDsgTWF0aC5hYnMoaSkgPD0gTWF0aC5hYnMob3JkZXJPZk1hZ25pdHVkZSk7IGkrKykgewogICAgICBtYWduaXR1ZGVmYWN0b3IgPSBNYXRoLnBvdygxMCwgaSk7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5taW5vclN0ZXBzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgdmFyIHN0ZXBTaXplID0gbWFnbml0dWRlZmFjdG9yICogdGhpcy5taW5vclN0ZXBzW2pdOwogICAgICAgIGlmIChzdGVwU2l6ZSA+PSBtaW5pbXVtU3RlcFZhbHVlKSB7CiAgICAgICAgICBzb2x1dGlvbkZvdW5kID0gdHJ1ZTsKICAgICAgICAgIG1pbm9yU3RlcElkeCA9IGo7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHNvbHV0aW9uRm91bmQgPT09IHRydWUpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgdGhpcy5zdGVwSW5kZXggPSBtaW5vclN0ZXBJZHg7CiAgICB0aGlzLnNjYWxlID0gbWFnbml0dWRlZmFjdG9yOwogICAgdGhpcy5zdGVwID0gbWFnbml0dWRlZmFjdG9yICogdGhpcy5taW5vclN0ZXBzW21pbm9yU3RlcElkeF07CiAgfTsKCiAgLyoqCiAgICogUm91bmQgdGhlIGN1cnJlbnQgZGF0ZSB0byB0aGUgZmlyc3QgbWlub3IgZGF0ZSB2YWx1ZQogICAqIFRoaXMgbXVzdCBiZSBleGVjdXRlZCBvbmNlIHdoZW4gdGhlIGN1cnJlbnQgZGF0ZSBpcyBzZXQgdG8gc3RhcnQgRGF0ZQogICAqLwogIERhdGFTdGVwLnByb3RvdHlwZS5zZXRGaXJzdCA9IGZ1bmN0aW9uIChjdXN0b21SYW5nZSkgewogICAgaWYgKGN1c3RvbVJhbmdlID09PSB1bmRlZmluZWQpIHsKICAgICAgY3VzdG9tUmFuZ2UgPSB7fTsKICAgIH0KCiAgICB2YXIgbmljZVN0YXJ0ID0gY3VzdG9tUmFuZ2UubWluID09PSB1bmRlZmluZWQgPyB0aGlzLl9zdGFydCAtIHRoaXMuc2NhbGUgKiAyICogdGhpcy5taW5vclN0ZXBzW3RoaXMuc3RlcEluZGV4XSA6IGN1c3RvbVJhbmdlLm1pbjsKICAgIHZhciBuaWNlRW5kID0gY3VzdG9tUmFuZ2UubWF4ID09PSB1bmRlZmluZWQgPyB0aGlzLl9lbmQgKyB0aGlzLnNjYWxlICogdGhpcy5taW5vclN0ZXBzW3RoaXMuc3RlcEluZGV4XSA6IGN1c3RvbVJhbmdlLm1heDsKCiAgICB0aGlzLm1hcmdpbkVuZCA9IGN1c3RvbVJhbmdlLm1heCA9PT0gdW5kZWZpbmVkID8gdGhpcy5yb3VuZFRvTWlub3IobmljZUVuZCkgOiBjdXN0b21SYW5nZS5tYXg7CiAgICB0aGlzLm1hcmdpblN0YXJ0ID0gY3VzdG9tUmFuZ2UubWluID09PSB1bmRlZmluZWQgPyB0aGlzLnJvdW5kVG9NaW5vcihuaWNlU3RhcnQpIDogY3VzdG9tUmFuZ2UubWluOwoKICAgIC8vIGlmIHdlIG5lZWQgdG8gYWxpZ24gdGhlIHplcm8ncyB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZXJlIGlzIGEgemVybyB0byB1c2UuCiAgICBpZiAodGhpcy5hbGlnblplcm9zID09PSB0cnVlICYmICh0aGlzLm1hcmdpbkVuZCAtIHRoaXMubWFyZ2luU3RhcnQpICUgdGhpcy5zdGVwICE9IDApIHsKICAgICAgdGhpcy5tYXJnaW5FbmQgKz0gdGhpcy5tYXJnaW5FbmQgJSB0aGlzLnN0ZXA7CiAgICB9CgogICAgdGhpcy5kZWFkU3BhY2UgPSB0aGlzLnJvdW5kVG9NaW5vcihuaWNlRW5kKSAtIG5pY2VFbmQgKyB0aGlzLnJvdW5kVG9NaW5vcihuaWNlU3RhcnQpIC0gbmljZVN0YXJ0OwogICAgdGhpcy5tYXJnaW5SYW5nZSA9IHRoaXMubWFyZ2luRW5kIC0gdGhpcy5tYXJnaW5TdGFydDsKCiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLm1hcmdpbkVuZDsKICB9OwoKICBEYXRhU3RlcC5wcm90b3R5cGUucm91bmRUb01pbm9yID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgcm91bmRlZCA9IHZhbHVlIC0gdmFsdWUgJSAodGhpcy5zY2FsZSAqIHRoaXMubWlub3JTdGVwc1t0aGlzLnN0ZXBJbmRleF0pOwogICAgaWYgKHZhbHVlICUgKHRoaXMuc2NhbGUgKiB0aGlzLm1pbm9yU3RlcHNbdGhpcy5zdGVwSW5kZXhdKSA+IDAuNSAqICh0aGlzLnNjYWxlICogdGhpcy5taW5vclN0ZXBzW3RoaXMuc3RlcEluZGV4XSkpIHsKICAgICAgcmV0dXJuIHJvdW5kZWQgKyB0aGlzLnNjYWxlICogdGhpcy5taW5vclN0ZXBzW3RoaXMuc3RlcEluZGV4XTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByb3VuZGVkOwogICAgfQogIH07CgogIC8qKgogICAqIENoZWNrIGlmIHRoZSB0aGVyZSBpcyBhIG5leHQgc3RlcAogICAqIEByZXR1cm4ge2Jvb2xlYW59ICB0cnVlIGlmIHRoZSBjdXJyZW50IGRhdGUgaGFzIG5vdCBwYXNzZWQgdGhlIGVuZCBkYXRlCiAgICovCiAgRGF0YVN0ZXAucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jdXJyZW50ID49IHRoaXMubWFyZ2luU3RhcnQ7CiAgfTsKCiAgLyoqCiAgICogRG8gdGhlIG5leHQgc3RlcAogICAqLwogIERhdGFTdGVwLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHByZXYgPSB0aGlzLmN1cnJlbnQ7CiAgICB0aGlzLmN1cnJlbnQgLT0gdGhpcy5zdGVwOwoKICAgIC8vIHNhZmV0eSBtZWNoYW5pc206IGlmIGN1cnJlbnQgdGltZSBpcyBzdGlsbCB1bmNoYW5nZWQsIG1vdmUgdG8gdGhlIGVuZAogICAgaWYgKHRoaXMuY3VycmVudCA9PT0gcHJldikgewogICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLl9lbmQ7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogRG8gdGhlIG5leHQgc3RlcAogICAqLwogIERhdGFTdGVwLnByb3RvdHlwZS5wcmV2aW91cyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY3VycmVudCArPSB0aGlzLnN0ZXA7CiAgICB0aGlzLm1hcmdpbkVuZCArPSB0aGlzLnN0ZXA7CiAgICB0aGlzLm1hcmdpblJhbmdlID0gdGhpcy5tYXJnaW5FbmQgLSB0aGlzLm1hcmdpblN0YXJ0OwogIH07CgogIC8qKgogICAqIEdldCB0aGUgY3VycmVudCBkYXRldGltZQogICAqIEByZXR1cm4ge1N0cmluZ30gIGN1cnJlbnQgVGhlIGN1cnJlbnQgZGF0ZQogICAqLwogIERhdGFTdGVwLnByb3RvdHlwZS5nZXRDdXJyZW50ID0gZnVuY3Rpb24gKCkgewogICAgLy8gcHJldmVudCByb3VuZC1vZmYgZXJyb3JzIHdoZW4gY2xvc2UgdG8gemVybwogICAgdmFyIGN1cnJlbnQgPSBNYXRoLmFicyh0aGlzLmN1cnJlbnQpIDwgdGhpcy5zdGVwIC8gMiA/IDAgOiB0aGlzLmN1cnJlbnQ7CiAgICB2YXIgcmV0dXJuVmFsdWUgPSBjdXJyZW50LnRvUHJlY2lzaW9uKDUpOwogICAgaWYgKHR5cGVvZiB0aGlzLmZvcm1hdHRpbmdGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICByZXR1cm5WYWx1ZSA9IHRoaXMuZm9ybWF0dGluZ0Z1bmN0aW9uKGN1cnJlbnQpOwogICAgfQoKICAgIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUgPT09ICdudW1iZXInKSB7CiAgICAgIHJldHVybiAnJyArIHJldHVyblZhbHVlOwogICAgfSBlbHNlIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiByZXR1cm5WYWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBjdXJyZW50LnRvUHJlY2lzaW9uKDUpOwogICAgfQogIH07CgogIC8qKgogICAqIENoZWNrIGlmIHRoZSBjdXJyZW50IHZhbHVlIGlzIGEgbWFqb3IgdmFsdWUgKGZvciBleGFtcGxlIHdoZW4gdGhlIHN0ZXAKICAgKiBpcyBEQVksIGEgbWFqb3IgdmFsdWUgaXMgZWFjaCBmaXJzdCBkYXkgb2YgdGhlIE1PTlRIKQogICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgY3VycmVudCBkYXRlIGlzIG1ham9yLCBlbHNlIGZhbHNlLgogICAqLwogIERhdGFTdGVwLnByb3RvdHlwZS5pc01ham9yID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY3VycmVudCAlICh0aGlzLnNjYWxlICogdGhpcy5tYWpvclN0ZXBzW3RoaXMuc3RlcEluZGV4XSkgPT09IDA7CiAgfTsKCiAgRGF0YVN0ZXAucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKHN0ZXBzKSB7CiAgICBpZiAoc3RlcHMgPCAwKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgLXN0ZXBzOyBpKyspIHsKICAgICAgICB0aGlzLnByZXZpb3VzKCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoc3RlcHMgPiAwKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcHM7IGkrKykgewogICAgICAgIHRoaXMubmV4dCgpOwogICAgICB9CiAgICB9CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBEYXRhU3RlcDsKCi8qKiovIH0sCi8qIDUzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICB2YXIgRE9NdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7CiAgdmFyIExpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTsKICB2YXIgQmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7CiAgdmFyIFBvaW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpOwoKICAvKioKICAgKiAvKioKICAgKiBAcGFyYW0ge29iamVjdH0gZ3JvdXAgICAgICAgICAgICB8IHRoZSBvYmplY3Qgb2YgdGhlIGdyb3VwIGZyb20gdGhlIGRhdGFzZXQKICAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBJZCAgICAgICAgICB8IElEIG9mIHRoZSBncm91cAogICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zICAgICAgICAgIHwgdGhlIGRlZmF1bHQgb3B0aW9ucwogICAqIEBwYXJhbSB7YXJyYXl9IGdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlcyAgfCB0aGlzIGFycmF5IGhhcyBvbmUgZW50cmVlLgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJdCBpcyBwYXNzZWQgYXMgYW4gYXJyYXkgc28gaXQgaXMgcGFzc2VkIGJ5IHJlZmVyZW5jZS4KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXQgZW51bWVyYXRlcyB0aHJvdWdoIHRoZSBkZWZhdWx0IHN0eWxlcwogICAqIEBjb25zdHJ1Y3RvcgogICAqLwogIGZ1bmN0aW9uIEdyYXBoR3JvdXAoZ3JvdXAsIGdyb3VwSWQsIG9wdGlvbnMsIGdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlcykgewogICAgdGhpcy5pZCA9IGdyb3VwSWQ7CiAgICB2YXIgZmllbGRzID0gWydzYW1wbGluZycsICdzdHlsZScsICdzb3J0JywgJ3lBeGlzT3JpZW50YXRpb24nLCAnYmFyQ2hhcnQnLCAnZHJhd1BvaW50cycsICdzaGFkZWQnLCAnaW50ZXJwb2xhdGlvbiddOwogICAgdGhpcy5vcHRpb25zID0gdXRpbC5zZWxlY3RpdmVCcmlkZ2VPYmplY3QoZmllbGRzLCBvcHRpb25zKTsKICAgIHRoaXMudXNpbmdEZWZhdWx0U3R5bGUgPSBncm91cC5jbGFzc05hbWUgPT09IHVuZGVmaW5lZDsKICAgIHRoaXMuZ3JvdXBzVXNpbmdEZWZhdWx0U3R5bGVzID0gZ3JvdXBzVXNpbmdEZWZhdWx0U3R5bGVzOwogICAgdGhpcy56ZXJvUG9zaXRpb24gPSAwOwogICAgdGhpcy51cGRhdGUoZ3JvdXApOwogICAgaWYgKHRoaXMudXNpbmdEZWZhdWx0U3R5bGUgPT0gdHJ1ZSkgewogICAgICB0aGlzLmdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlc1swXSArPSAxOwogICAgfQogICAgdGhpcy5pdGVtc0RhdGEgPSBbXTsKICAgIHRoaXMudmlzaWJsZSA9IGdyb3VwLnZpc2libGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBncm91cC52aXNpYmxlOwogIH0KCiAgLyoqCiAgICogdGhpcyBsb2FkcyBhIHJlZmVyZW5jZSB0byBhbGwgaXRlbXMgaW4gdGhpcyBncm91cCBpbnRvIHRoaXMgZ3JvdXAuCiAgICogQHBhcmFtIHthcnJheX0gaXRlbXMKICAgKi8KICBHcmFwaEdyb3VwLnByb3RvdHlwZS5zZXRJdGVtcyA9IGZ1bmN0aW9uIChpdGVtcykgewogICAgaWYgKGl0ZW1zICE9IG51bGwpIHsKICAgICAgdGhpcy5pdGVtc0RhdGEgPSBpdGVtczsKICAgICAgaWYgKHRoaXMub3B0aW9ucy5zb3J0ID09IHRydWUpIHsKICAgICAgICB0aGlzLml0ZW1zRGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS54IC0gYi54OwogICAgICAgIH0pOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLml0ZW1zRGF0YSA9IFtdOwogICAgfQogIH07CgogIC8qKgogICAqIHRoaXMgaXMgdXNlZCBmb3IgcGxvdHRpbmcgYmFyY2hhcnRzLCB0aGlzIHdheSwgd2Ugb25seSBoYXZlIHRvIGNhbGN1bGF0ZSBpdCBvbmNlLgogICAqIEBwYXJhbSBwb3MKICAgKi8KICBHcmFwaEdyb3VwLnByb3RvdHlwZS5zZXRaZXJvUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zKSB7CiAgICB0aGlzLnplcm9Qb3NpdGlvbiA9IHBvczsKICB9OwoKICAvKioKICAgKiBzZXQgdGhlIG9wdGlvbnMgb2YgdGhlIGdyYXBoIGdyb3VwIG92ZXIgdGhlIGRlZmF1bHQgb3B0aW9ucy4KICAgKiBAcGFyYW0gb3B0aW9ucwogICAqLwogIEdyYXBoR3JvdXAucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgZmllbGRzID0gWydzYW1wbGluZycsICdzdHlsZScsICdzb3J0JywgJ3lBeGlzT3JpZW50YXRpb24nLCAnYmFyQ2hhcnQnXTsKICAgICAgdXRpbC5zZWxlY3RpdmVEZWVwRXh0ZW5kKGZpZWxkcywgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKCiAgICAgIHV0aWwubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucywgb3B0aW9ucywgJ2ludGVycG9sYXRpb24nKTsKICAgICAgdXRpbC5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBvcHRpb25zLCAnZHJhd1BvaW50cycpOwogICAgICB1dGlsLm1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMsICdzaGFkZWQnKTsKCiAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHsKICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9PSAnb2JqZWN0JykgewogICAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24pIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24gPT0gJ3VuaWZvcm0nKSB7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGEgPSAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24gPT0gJ2Nob3JkYWwnKSB7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGEgPSAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnBhcmFtZXRyaXphdGlvbiA9ICdjZW50cmlwZXRhbCc7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGEgPSAwLjU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy5vcHRpb25zLnN0eWxlID09ICdsaW5lJykgewogICAgICB0aGlzLnR5cGUgPSBuZXcgTGluZSh0aGlzLmlkLCB0aGlzLm9wdGlvbnMpOwogICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3R5bGUgPT0gJ2JhcicpIHsKICAgICAgdGhpcy50eXBlID0gbmV3IEJhcih0aGlzLmlkLCB0aGlzLm9wdGlvbnMpOwogICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3R5bGUgPT0gJ3BvaW50cycpIHsKICAgICAgdGhpcy50eXBlID0gbmV3IFBvaW50cyh0aGlzLmlkLCB0aGlzLm9wdGlvbnMpOwogICAgfQogIH07CgogIC8qKgogICAqIHRoaXMgdXBkYXRlcyB0aGUgY3VycmVudCBncm91cCBjbGFzcyB3aXRoIHRoZSBsYXRlc3QgZ3JvdXAgZGF0YXNldCBlbnRyZWUsIHVzZWQgaW4gX3VwZGF0ZUdyb3VwIGluIGxpbmVncmFwaAogICAqIEBwYXJhbSBncm91cAogICAqLwogIEdyYXBoR3JvdXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChncm91cCkgewogICAgdGhpcy5ncm91cCA9IGdyb3VwOwogICAgdGhpcy5jb250ZW50ID0gZ3JvdXAuY29udGVudCB8fCAnZ3JhcGgnOwogICAgdGhpcy5jbGFzc05hbWUgPSBncm91cC5jbGFzc05hbWUgfHwgdGhpcy5jbGFzc05hbWUgfHwgJ3Zpcy1ncmFwaC1ncm91cCcgKyB0aGlzLmdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlc1swXSAlIDEwOwogICAgdGhpcy52aXNpYmxlID0gZ3JvdXAudmlzaWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGdyb3VwLnZpc2libGU7CiAgICB0aGlzLnN0eWxlID0gZ3JvdXAuc3R5bGU7CiAgICB0aGlzLnNldE9wdGlvbnMoZ3JvdXAub3B0aW9ucyk7CiAgfTsKCiAgLyoqCiAgICogZHJhdyB0aGUgaWNvbiBmb3IgdGhlIGxlZ2VuZC4KICAgKgogICAqIEBwYXJhbSB4CiAgICogQHBhcmFtIHkKICAgKiBAcGFyYW0gSlNPTmNvbnRhaW5lcgogICAqIEBwYXJhbSBTVkdjb250YWluZXIKICAgKiBAcGFyYW0gaWNvbldpZHRoCiAgICogQHBhcmFtIGljb25IZWlnaHQKICAgKi8KICBHcmFwaEdyb3VwLnByb3RvdHlwZS5kcmF3SWNvbiA9IGZ1bmN0aW9uICh4LCB5LCBKU09OY29udGFpbmVyLCBTVkdjb250YWluZXIsIGljb25XaWR0aCwgaWNvbkhlaWdodCkgewogICAgdmFyIGZpbGxIZWlnaHQgPSBpY29uSGVpZ2h0ICogMC41OwogICAgdmFyIHBhdGgsIGZpbGxQYXRoOwoKICAgIHZhciBvdXRsaW5lID0gRE9NdXRpbC5nZXRTVkdFbGVtZW50KCdyZWN0JywgSlNPTmNvbnRhaW5lciwgU1ZHY29udGFpbmVyKTsKICAgIG91dGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCB4KTsKICAgIG91dGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3knLCB5IC0gZmlsbEhlaWdodCk7CiAgICBvdXRsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIGljb25XaWR0aCk7CiAgICBvdXRsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCAyICogZmlsbEhlaWdodCk7CiAgICBvdXRsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsICd2aXMtb3V0bGluZScpOwoKICAgIGlmICh0aGlzLm9wdGlvbnMuc3R5bGUgPT0gJ2xpbmUnKSB7CiAgICAgIHBhdGggPSBET011dGlsLmdldFNWR0VsZW1lbnQoJ3BhdGgnLCBKU09OY29udGFpbmVyLCBTVkdjb250YWluZXIpOwogICAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsIHRoaXMuY2xhc3NOYW1lKTsKICAgICAgaWYgKHRoaXMuc3R5bGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgdGhpcy5zdHlsZSk7CiAgICAgIH0KCiAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnTScgKyB4ICsgJywnICsgeSArICcgTCcgKyAoeCArIGljb25XaWR0aCkgKyAnLCcgKyB5ICsgJycpOwogICAgICBpZiAodGhpcy5vcHRpb25zLnNoYWRlZC5lbmFibGVkID09IHRydWUpIHsKICAgICAgICBmaWxsUGF0aCA9IERPTXV0aWwuZ2V0U1ZHRWxlbWVudCgncGF0aCcsIEpTT05jb250YWluZXIsIFNWR2NvbnRhaW5lcik7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaGFkZWQub3JpZW50YXRpb24gPT0gJ3RvcCcpIHsKICAgICAgICAgIGZpbGxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJ00nICsgeCArICcsICcgKyAoeSAtIGZpbGxIZWlnaHQpICsgJ0wnICsgeCArICcsJyArIHkgKyAnIEwnICsgKHggKyBpY29uV2lkdGgpICsgJywnICsgeSArICcgTCcgKyAoeCArIGljb25XaWR0aCkgKyAnLCcgKyAoeSAtIGZpbGxIZWlnaHQpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZmlsbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnTScgKyB4ICsgJywnICsgeSArICcgJyArICdMJyArIHggKyAnLCcgKyAoeSArIGZpbGxIZWlnaHQpICsgJyAnICsgJ0wnICsgKHggKyBpY29uV2lkdGgpICsgJywnICsgKHkgKyBmaWxsSGVpZ2h0KSArICdMJyArICh4ICsgaWNvbldpZHRoKSArICcsJyArIHkpOwogICAgICAgIH0KICAgICAgICBmaWxsUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY2xhc3MnLCB0aGlzLmNsYXNzTmFtZSArICcgdmlzLWljb24tZmlsbCcpOwogICAgICB9CgogICAgICBpZiAodGhpcy5vcHRpb25zLmRyYXdQb2ludHMuZW5hYmxlZCA9PSB0cnVlKSB7CiAgICAgICAgRE9NdXRpbC5kcmF3UG9pbnQoeCArIDAuNSAqIGljb25XaWR0aCwgeSwgdGhpcywgSlNPTmNvbnRhaW5lciwgU1ZHY29udGFpbmVyKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGJhcldpZHRoID0gTWF0aC5yb3VuZCgwLjMgKiBpY29uV2lkdGgpOwogICAgICB2YXIgYmFyMUhlaWdodCA9IE1hdGgucm91bmQoMC40ICogaWNvbkhlaWdodCk7CiAgICAgIHZhciBiYXIySGVpZ2h0ID0gTWF0aC5yb3VuZCgwLjc1ICogaWNvbkhlaWdodCk7CgogICAgICB2YXIgb2Zmc2V0ID0gTWF0aC5yb3VuZCgoaWNvbldpZHRoIC0gMiAqIGJhcldpZHRoKSAvIDMpOwoKICAgICAgRE9NdXRpbC5kcmF3QmFyKHggKyAwLjUgKiBiYXJXaWR0aCArIG9mZnNldCwgeSArIGZpbGxIZWlnaHQgLSBiYXIxSGVpZ2h0IC0gMSwgYmFyV2lkdGgsIGJhcjFIZWlnaHQsIHRoaXMuY2xhc3NOYW1lICsgJyB2aXMtYmFyJywgSlNPTmNvbnRhaW5lciwgU1ZHY29udGFpbmVyLCB0aGlzLnN0eWxlKTsKICAgICAgRE9NdXRpbC5kcmF3QmFyKHggKyAxLjUgKiBiYXJXaWR0aCArIG9mZnNldCArIDIsIHkgKyBmaWxsSGVpZ2h0IC0gYmFyMkhlaWdodCAtIDEsIGJhcldpZHRoLCBiYXIySGVpZ2h0LCB0aGlzLmNsYXNzTmFtZSArICcgdmlzLWJhcicsIEpTT05jb250YWluZXIsIFNWR2NvbnRhaW5lciwgdGhpcy5zdHlsZSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogcmV0dXJuIHRoZSBsZWdlbmQgZW50cmVlIGZvciB0aGlzIGdyb3VwLgogICAqCiAgICogQHBhcmFtIGljb25XaWR0aAogICAqIEBwYXJhbSBpY29uSGVpZ2h0CiAgICogQHJldHVybnMge3tpY29uOiBIVE1MRWxlbWVudCwgbGFiZWw6IChncm91cC5jb250ZW50fCp8c3RyaW5nKSwgb3JpZW50YXRpb246ICgub3B0aW9ucy55QXhpc09yaWVudGF0aW9ufCopfX0KICAgKi8KICBHcmFwaEdyb3VwLnByb3RvdHlwZS5nZXRMZWdlbmQgPSBmdW5jdGlvbiAoaWNvbldpZHRoLCBpY29uSGVpZ2h0KSB7CiAgICB2YXIgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTsKICAgIHRoaXMuZHJhd0ljb24oMCwgMC41ICogaWNvbkhlaWdodCwgW10sIHN2ZywgaWNvbldpZHRoLCBpY29uSGVpZ2h0KTsKICAgIHJldHVybiB7IGljb246IHN2ZywgbGFiZWw6IHRoaXMuY29udGVudCwgb3JpZW50YXRpb246IHRoaXMub3B0aW9ucy55QXhpc09yaWVudGF0aW9uIH07CiAgfTsKCiAgR3JhcGhHcm91cC5wcm90b3R5cGUuZ2V0WVJhbmdlID0gZnVuY3Rpb24gKGdyb3VwRGF0YSkgewogICAgcmV0dXJuIHRoaXMudHlwZS5nZXRZUmFuZ2UoZ3JvdXBEYXRhKTsKICB9OwoKICBHcmFwaEdyb3VwLnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKGdyb3VwRGF0YSkgewogICAgcmV0dXJuIHRoaXMudHlwZS5nZXREYXRhKGdyb3VwRGF0YSk7CiAgfTsKCiAgR3JhcGhHcm91cC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChkYXRhc2V0LCBncm91cCwgZnJhbWV3b3JrKSB7CiAgICB0aGlzLnR5cGUuZHJhdyhkYXRhc2V0LCBncm91cCwgZnJhbWV3b3JrKTsKICB9OwoKICBtb2R1bGUuZXhwb3J0cyA9IEdyYXBoR3JvdXA7CgovKioqLyB9LAovKiA1NCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgRE9NdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7CiAgdmFyIFBvaW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpOwoKICBmdW5jdGlvbiBMaW5lKGdyb3VwSWQsIG9wdGlvbnMpIHsKICAgIHRoaXMuZ3JvdXBJZCA9IGdyb3VwSWQ7CiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogIH0KCiAgTGluZS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIChncm91cERhdGEpIHsKICAgIHZhciBjb21iaW5lZERhdGEgPSBbXTsKICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgIGNvbWJpbmVkRGF0YS5wdXNoKHsKICAgICAgICB4OiBncm91cERhdGFbal0ueCwKICAgICAgICB5OiBncm91cERhdGFbal0ueSwKICAgICAgICBncm91cElkOiB0aGlzLmdyb3VwSWQKICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gY29tYmluZWREYXRhOwogIH07CgogIExpbmUucHJvdG90eXBlLmdldFlSYW5nZSA9IGZ1bmN0aW9uIChncm91cERhdGEpIHsKICAgIHZhciB5TWluID0gZ3JvdXBEYXRhWzBdLnk7CiAgICB2YXIgeU1heCA9IGdyb3VwRGF0YVswXS55OwogICAgZm9yICh2YXIgaiA9IDA7IGogPCBncm91cERhdGEubGVuZ3RoOyBqKyspIHsKICAgICAgeU1pbiA9IHlNaW4gPiBncm91cERhdGFbal0ueSA/IGdyb3VwRGF0YVtqXS55IDogeU1pbjsKICAgICAgeU1heCA9IHlNYXggPCBncm91cERhdGFbal0ueSA/IGdyb3VwRGF0YVtqXS55IDogeU1heDsKICAgIH0KICAgIHJldHVybiB7IG1pbjogeU1pbiwgbWF4OiB5TWF4LCB5QXhpc09yaWVudGF0aW9uOiB0aGlzLm9wdGlvbnMueUF4aXNPcmllbnRhdGlvbiB9OwogIH07CgogIExpbmUuZ2V0U3RhY2tlZFlSYW5nZSA9IGZ1bmN0aW9uIChjb21iaW5lZERhdGEsIGdyb3VwUmFuZ2VzLCBncm91cElkcywgZ3JvdXBMYWJlbCwgb3JpZW50YXRpb24pIHsKICAgIGlmIChjb21iaW5lZERhdGEubGVuZ3RoID4gMCkgewogICAgICAvLyBzb3J0IGJ5IHRpbWUgYW5kIGJ5IGdyb3VwCiAgICAgIGNvbWJpbmVkRGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgaWYgKGEueCA9PT0gYi54KSB7CiAgICAgICAgICByZXR1cm4gYS5ncm91cElkIDwgYi5ncm91cElkID8gLTEgOiAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gYS54IC0gYi54OwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBpbnRlcnNlY3Rpb25zID0ge307CgogICAgICBMaW5lLl9nZXREYXRhSW50ZXJzZWN0aW9ucyhpbnRlcnNlY3Rpb25zLCBjb21iaW5lZERhdGEpOwogICAgICBncm91cFJhbmdlc1tncm91cExhYmVsXSA9IExpbmUuX2dldFN0YWNrZWRZUmFuZ2UoaW50ZXJzZWN0aW9ucywgY29tYmluZWREYXRhKTsKICAgICAgZ3JvdXBSYW5nZXNbZ3JvdXBMYWJlbF0ueUF4aXNPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uOwogICAgICBncm91cElkcy5wdXNoKGdyb3VwTGFiZWwpOwogICAgfQogIH07CgogIExpbmUuX2dldFN0YWNrZWRZUmFuZ2UgPSBmdW5jdGlvbiAoaW50ZXJzZWN0aW9ucywgY29tYmluZWREYXRhKSB7CiAgICB2YXIga2V5OwogICAgdmFyIHlNaW4gPSBjb21iaW5lZERhdGFbMF0ueTsKICAgIHZhciB5TWF4ID0gY29tYmluZWREYXRhWzBdLnk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbWJpbmVkRGF0YS5sZW5ndGg7IGkrKykgewogICAgICBrZXkgPSBjb21iaW5lZERhdGFbaV0ueDsKICAgICAgaWYgKGludGVyc2VjdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgeU1pbiA9IHlNaW4gPiBjb21iaW5lZERhdGFbaV0ueSA/IGNvbWJpbmVkRGF0YVtpXS55IDogeU1pbjsKICAgICAgICB5TWF4ID0geU1heCA8IGNvbWJpbmVkRGF0YVtpXS55ID8gY29tYmluZWREYXRhW2ldLnkgOiB5TWF4OwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChjb21iaW5lZERhdGFbaV0ueSA8IDApIHsKICAgICAgICAgIGludGVyc2VjdGlvbnNba2V5XS5hY2N1bXVsYXRlZE5lZ2F0aXZlICs9IGNvbWJpbmVkRGF0YVtpXS55OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbnRlcnNlY3Rpb25zW2tleV0uYWNjdW11bGF0ZWRQb3NpdGl2ZSArPSBjb21iaW5lZERhdGFbaV0ueTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGZvciAodmFyIHhwb3MgaW4gaW50ZXJzZWN0aW9ucykgewogICAgICBpZiAoaW50ZXJzZWN0aW9ucy5oYXNPd25Qcm9wZXJ0eSh4cG9zKSkgewogICAgICAgIHlNaW4gPSB5TWluID4gaW50ZXJzZWN0aW9uc1t4cG9zXS5hY2N1bXVsYXRlZE5lZ2F0aXZlID8gaW50ZXJzZWN0aW9uc1t4cG9zXS5hY2N1bXVsYXRlZE5lZ2F0aXZlIDogeU1pbjsKICAgICAgICB5TWluID0geU1pbiA+IGludGVyc2VjdGlvbnNbeHBvc10uYWNjdW11bGF0ZWRQb3NpdGl2ZSA/IGludGVyc2VjdGlvbnNbeHBvc10uYWNjdW11bGF0ZWRQb3NpdGl2ZSA6IHlNaW47CiAgICAgICAgeU1heCA9IHlNYXggPCBpbnRlcnNlY3Rpb25zW3hwb3NdLmFjY3VtdWxhdGVkTmVnYXRpdmUgPyBpbnRlcnNlY3Rpb25zW3hwb3NdLmFjY3VtdWxhdGVkTmVnYXRpdmUgOiB5TWF4OwogICAgICAgIHlNYXggPSB5TWF4IDwgaW50ZXJzZWN0aW9uc1t4cG9zXS5hY2N1bXVsYXRlZFBvc2l0aXZlID8gaW50ZXJzZWN0aW9uc1t4cG9zXS5hY2N1bXVsYXRlZFBvc2l0aXZlIDogeU1heDsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB7IG1pbjogeU1pbiwgbWF4OiB5TWF4IH07CiAgfTsKCiAgLyoqCiAgICogRmlsbCB0aGUgaW50ZXJzZWN0aW9ucyBvYmplY3Qgd2l0aCBjb3VudGVycyBvZiBob3cgbWFueSBkYXRhcG9pbnRzIHNoYXJlIHRoZSBzYW1lIHggY29vcmRpbmF0ZXMKICAgKiBAcGFyYW0gaW50ZXJzZWN0aW9ucwogICAqIEBwYXJhbSBjb21iaW5lZERhdGEKICAgKiBAcHJpdmF0ZQogICAqLwogIExpbmUuX2dldERhdGFJbnRlcnNlY3Rpb25zID0gZnVuY3Rpb24gKGludGVyc2VjdGlvbnMsIGNvbWJpbmVkRGF0YSkgewogICAgLy8gZ2V0IGludGVyc2VjdGlvbnMKICAgIHZhciBjb3JlRGlzdGFuY2U7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbWJpbmVkRGF0YS5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaSArIDEgPCBjb21iaW5lZERhdGEubGVuZ3RoKSB7CiAgICAgICAgY29yZURpc3RhbmNlID0gTWF0aC5hYnMoY29tYmluZWREYXRhW2kgKyAxXS54IC0gY29tYmluZWREYXRhW2ldLngpOwogICAgICB9CiAgICAgIGlmIChpID4gMCkgewogICAgICAgIGNvcmVEaXN0YW5jZSA9IE1hdGgubWluKGNvcmVEaXN0YW5jZSwgTWF0aC5hYnMoY29tYmluZWREYXRhW2kgLSAxXS54IC0gY29tYmluZWREYXRhW2ldLngpKTsKICAgICAgfQogICAgICBpZiAoY29yZURpc3RhbmNlID09PSAwKSB7CiAgICAgICAgaWYgKGludGVyc2VjdGlvbnNbY29tYmluZWREYXRhW2ldLnhdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGludGVyc2VjdGlvbnNbY29tYmluZWREYXRhW2ldLnhdID0geyBhbW91bnQ6IDAsIHJlc29sdmVkOiAwLCBhY2N1bXVsYXRlZFBvc2l0aXZlOiAwLCBhY2N1bXVsYXRlZE5lZ2F0aXZlOiAwIH07CiAgICAgICAgfQogICAgICAgIGludGVyc2VjdGlvbnNbY29tYmluZWREYXRhW2ldLnhdLmFtb3VudCArPSAxOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogZHJhdyBhIGxpbmUgZ3JhcGgKICAgKgogICAqIEBwYXJhbSBkYXRhc2V0CiAgICogQHBhcmFtIGdyb3VwCiAgICovCiAgTGluZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChkYXRhc2V0LCBncm91cCwgZnJhbWV3b3JrKSB7CiAgICBpZiAoZGF0YXNldCAhPSBudWxsKSB7CiAgICAgIGlmIChkYXRhc2V0Lmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgcGF0aCwgZDsKICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gTnVtYmVyKGZyYW1ld29yay5zdmcuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpKTsKICAgICAgICBwYXRoID0gRE9NdXRpbC5nZXRTVkdFbGVtZW50KCdwYXRoJywgZnJhbWV3b3JrLnN2Z0VsZW1lbnRzLCBmcmFtZXdvcmsuc3ZnKTsKICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsIGdyb3VwLmNsYXNzTmFtZSk7CiAgICAgICAgaWYgKGdyb3VwLnN0eWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgZ3JvdXAuc3R5bGUpOwogICAgICAgIH0KCiAgICAgICAgLy8gY29uc3RydWN0IHBhdGggZnJvbSBkYXRhc2V0CiAgICAgICAgaWYgKGdyb3VwLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5lbmFibGVkID09IHRydWUpIHsKICAgICAgICAgIGQgPSBMaW5lLl9jYXRtdWxsUm9tKGRhdGFzZXQsIGdyb3VwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZCA9IExpbmUuX2xpbmVhcihkYXRhc2V0KTsKICAgICAgICB9CgogICAgICAgIC8vIGFwcGVuZCB3aXRoIHBvaW50cyBmb3IgZmlsbCBhbmQgZmluYWxpemUgdGhlIHBhdGgKICAgICAgICBpZiAoZ3JvdXAub3B0aW9ucy5zaGFkZWQuZW5hYmxlZCA9PSB0cnVlKSB7CiAgICAgICAgICB2YXIgZmlsbFBhdGggPSBET011dGlsLmdldFNWR0VsZW1lbnQoJ3BhdGgnLCBmcmFtZXdvcmsuc3ZnRWxlbWVudHMsIGZyYW1ld29yay5zdmcpOwogICAgICAgICAgdmFyIGRGaWxsOwogICAgICAgICAgaWYgKGdyb3VwLm9wdGlvbnMuc2hhZGVkLm9yaWVudGF0aW9uID09ICd0b3AnKSB7CiAgICAgICAgICAgIGRGaWxsID0gJ00nICsgZGF0YXNldFswXS54ICsgJywnICsgMCArICcgJyArIGQgKyAnTCcgKyBkYXRhc2V0W2RhdGFzZXQubGVuZ3RoIC0gMV0ueCArICcsJyArIDA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkRmlsbCA9ICdNJyArIGRhdGFzZXRbMF0ueCArICcsJyArIHN2Z0hlaWdodCArICcgJyArIGQgKyAnTCcgKyBkYXRhc2V0W2RhdGFzZXQubGVuZ3RoIC0gMV0ueCArICcsJyArIHN2Z0hlaWdodDsKICAgICAgICAgIH0KICAgICAgICAgIGZpbGxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsIGdyb3VwLmNsYXNzTmFtZSArICcgdmlzLWZpbGwnKTsKICAgICAgICAgIGlmIChncm91cC5vcHRpb25zLnNoYWRlZC5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGZpbGxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHlsZScsIGdyb3VwLm9wdGlvbnMuc2hhZGVkLnN0eWxlKTsKICAgICAgICAgIH0KICAgICAgICAgIGZpbGxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgZEZpbGwpOwogICAgICAgIH0KICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgdG8gcGF0aCBmb3IgZHJhd2luZy4KICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJ00nICsgZCk7CgogICAgICAgIC8vIGRyYXcgcG9pbnRzCiAgICAgICAgaWYgKGdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5lbmFibGVkID09IHRydWUpIHsKICAgICAgICAgIFBvaW50cy5kcmF3KGRhdGFzZXQsIGdyb3VwLCBmcmFtZXdvcmspOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIFRoaXMgdXNlcyBhbiB1bmlmb3JtIHBhcmFtZXRyaXphdGlvbiBvZiB0aGUgaW50ZXJwb2xhdGlvbiBhbGdvcml0aG06CiAgICogJ09uIHRoZSBQYXJhbWV0ZXJpemF0aW9uIG9mIENhdG11bGwtUm9tIEN1cnZlcycgYnkgQ2VtIFl1a3NlbCBldCBhbC4KICAgKiBAcGFyYW0gZGF0YQogICAqIEByZXR1cm5zIHtzdHJpbmd9CiAgICogQHByaXZhdGUKICAgKi8KICBMaW5lLl9jYXRtdWxsUm9tVW5pZm9ybSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAvLyBjYXRtdWxsIHJvbQogICAgdmFyIHAwLCBwMSwgcDIsIHAzLCBicDEsIGJwMjsKICAgIHZhciBkID0gTWF0aC5yb3VuZChkYXRhWzBdLngpICsgJywnICsgTWF0aC5yb3VuZChkYXRhWzBdLnkpICsgJyAnOwogICAgdmFyIG5vcm1hbGl6YXRpb24gPSAxIC8gNjsKICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoIC0gMTsgaSsrKSB7CgogICAgICBwMCA9IGkgPT0gMCA/IGRhdGFbMF0gOiBkYXRhW2kgLSAxXTsKICAgICAgcDEgPSBkYXRhW2ldOwogICAgICBwMiA9IGRhdGFbaSArIDFdOwogICAgICBwMyA9IGkgKyAyIDwgbGVuZ3RoID8gZGF0YVtpICsgMl0gOiBwMjsKCiAgICAgIC8vIENhdG11bGwtUm9tIHRvIEN1YmljIEJlemllciBjb252ZXJzaW9uIG1hdHJpeAogICAgICAvLyAgICAwICAgICAgIDEgICAgICAgMCAgICAgICAwCiAgICAgIC8vICAtMS82ICAgICAgMSAgICAgIDEvNiAgICAgIDAKICAgICAgLy8gICAgMCAgICAgIDEvNiAgICAgIDEgICAgIC0xLzYKICAgICAgLy8gICAgMCAgICAgICAwICAgICAgIDEgICAgICAgMAoKICAgICAgLy8gICAgYnAwID0geyB4OiBwMS54LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBwMS55IH07CiAgICAgIGJwMSA9IHsgeDogKC1wMC54ICsgNiAqIHAxLnggKyBwMi54KSAqIG5vcm1hbGl6YXRpb24sIHk6ICgtcDAueSArIDYgKiBwMS55ICsgcDIueSkgKiBub3JtYWxpemF0aW9uIH07CiAgICAgIGJwMiA9IHsgeDogKHAxLnggKyA2ICogcDIueCAtIHAzLngpICogbm9ybWFsaXphdGlvbiwgeTogKHAxLnkgKyA2ICogcDIueSAtIHAzLnkpICogbm9ybWFsaXphdGlvbiB9OwogICAgICAvLyAgICBicDAgPSB7IHg6IHAyLngsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHAyLnkgfTsKCiAgICAgIGQgKz0gJ0MnICsgYnAxLnggKyAnLCcgKyBicDEueSArICcgJyArIGJwMi54ICsgJywnICsgYnAyLnkgKyAnICcgKyBwMi54ICsgJywnICsgcDIueSArICcgJzsKICAgIH0KCiAgICByZXR1cm4gZDsKICB9OwoKICAvKioKICAgKiBUaGlzIHVzZXMgZWl0aGVyIHRoZSBjaG9yZGFsIG9yIGNlbnRyaXBldGFsIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIGNhdG11bGwtcm9tIGFsZ29yaXRobS4KICAgKiBCeSBkZWZhdWx0LCB0aGUgY2VudHJpcGV0YWwgcGFyYW1ldGVyaXphdGlvbiBpcyB1c2VkIGJlY2F1c2UgdGhpcyBnaXZlcyB0aGUgbmljZXN0IHJlc3VsdHMuCiAgICogVGhlc2UgcGFyYW1ldGVyaXphdGlvbnMgYXJlIHJlbGF0aXZlbHkgaGVhdnkgYmVjYXVzZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiA0IHBvaW50cyBoYXZlIHRvIGJlIGNhbGN1bGF0ZWQuCiAgICoKICAgKiBPbmUgb3B0aW1pemF0aW9uIGNhbiBiZSB1c2VkIHRvIHJldXNlIGRpc3RhbmNlcyBzaW5jZSB0aGlzIGlzIGEgc2xpZGluZyB3aW5kb3cgYXBwcm9hY2guCiAgICogQHBhcmFtIGRhdGEKICAgKiBAcGFyYW0gZ3JvdXAKICAgKiBAcmV0dXJucyB7c3RyaW5nfQogICAqIEBwcml2YXRlCiAgICovCiAgTGluZS5fY2F0bXVsbFJvbSA9IGZ1bmN0aW9uIChkYXRhLCBncm91cCkgewogICAgdmFyIGFscGhhID0gZ3JvdXAub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmFscGhhOwogICAgaWYgKGFscGhhID09IDAgfHwgYWxwaGEgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5fY2F0bXVsbFJvbVVuaWZvcm0oZGF0YSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgcDAsIHAxLCBwMiwgcDMsIGJwMSwgYnAyLCBkMSwgZDIsIGQzLCBBLCBCLCBOLCBNOwogICAgICB2YXIgZDNwb3dBLCBkMnBvd0EsIGQzcG93MkEsIGQycG93MkEsIGQxcG93MkEsIGQxcG93QTsKICAgICAgdmFyIGQgPSBNYXRoLnJvdW5kKGRhdGFbMF0ueCkgKyAnLCcgKyBNYXRoLnJvdW5kKGRhdGFbMF0ueSkgKyAnICc7CiAgICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSAxOyBpKyspIHsKCiAgICAgICAgcDAgPSBpID09IDAgPyBkYXRhWzBdIDogZGF0YVtpIC0gMV07CiAgICAgICAgcDEgPSBkYXRhW2ldOwogICAgICAgIHAyID0gZGF0YVtpICsgMV07CiAgICAgICAgcDMgPSBpICsgMiA8IGxlbmd0aCA/IGRhdGFbaSArIDJdIDogcDI7CgogICAgICAgIGQxID0gTWF0aC5zcXJ0KE1hdGgucG93KHAwLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAwLnkgLSBwMS55LCAyKSk7CiAgICAgICAgZDIgPSBNYXRoLnNxcnQoTWF0aC5wb3cocDEueCAtIHAyLngsIDIpICsgTWF0aC5wb3cocDEueSAtIHAyLnksIDIpKTsKICAgICAgICBkMyA9IE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDMueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDMueSwgMikpOwoKICAgICAgICAvLyBDYXRtdWxsLVJvbSB0byBDdWJpYyBCZXppZXIgY29udmVyc2lvbiBtYXRyaXgKCiAgICAgICAgLy8gQSA9IDJkMV4yYSArIDNkMV5hICogZDJeYSArIGQzXjJhCiAgICAgICAgLy8gQiA9IDJkM14yYSArIDNkM15hICogZDJeYSArIGQyXjJhCgogICAgICAgIC8vIFsgICAwICAgICAgICAgICAgIDEgICAgICAgICAgICAwICAgICAgICAgIDAgICAgICAgICAgXQogICAgICAgIC8vIFsgICAtZDJeMmEgL04gICAgIEEvTiAgICAgICAgICBkMV4yYSAvTiAgIDAgICAgICAgICAgXQogICAgICAgIC8vIFsgICAwICAgICAgICAgICAgIGQzXjJhIC9NICAgICBCL00gICAgICAgIC1kMl4yYSAvTSAgXQogICAgICAgIC8vIFsgICAwICAgICAgICAgICAgIDAgICAgICAgICAgICAxICAgICAgICAgIDAgICAgICAgICAgXQoKICAgICAgICBkM3Bvd0EgPSBNYXRoLnBvdyhkMywgYWxwaGEpOwogICAgICAgIGQzcG93MkEgPSBNYXRoLnBvdyhkMywgMiAqIGFscGhhKTsKICAgICAgICBkMnBvd0EgPSBNYXRoLnBvdyhkMiwgYWxwaGEpOwogICAgICAgIGQycG93MkEgPSBNYXRoLnBvdyhkMiwgMiAqIGFscGhhKTsKICAgICAgICBkMXBvd0EgPSBNYXRoLnBvdyhkMSwgYWxwaGEpOwogICAgICAgIGQxcG93MkEgPSBNYXRoLnBvdyhkMSwgMiAqIGFscGhhKTsKCiAgICAgICAgQSA9IDIgKiBkMXBvdzJBICsgMyAqIGQxcG93QSAqIGQycG93QSArIGQycG93MkE7CiAgICAgICAgQiA9IDIgKiBkM3BvdzJBICsgMyAqIGQzcG93QSAqIGQycG93QSArIGQycG93MkE7CiAgICAgICAgTiA9IDMgKiBkMXBvd0EgKiAoZDFwb3dBICsgZDJwb3dBKTsKICAgICAgICBpZiAoTiA+IDApIHsKICAgICAgICAgIE4gPSAxIC8gTjsKICAgICAgICB9CiAgICAgICAgTSA9IDMgKiBkM3Bvd0EgKiAoZDNwb3dBICsgZDJwb3dBKTsKICAgICAgICBpZiAoTSA+IDApIHsKICAgICAgICAgIE0gPSAxIC8gTTsKICAgICAgICB9CgogICAgICAgIGJwMSA9IHsgeDogKC1kMnBvdzJBICogcDAueCArIEEgKiBwMS54ICsgZDFwb3cyQSAqIHAyLngpICogTiwKICAgICAgICAgIHk6ICgtZDJwb3cyQSAqIHAwLnkgKyBBICogcDEueSArIGQxcG93MkEgKiBwMi55KSAqIE4gfTsKCiAgICAgICAgYnAyID0geyB4OiAoZDNwb3cyQSAqIHAxLnggKyBCICogcDIueCAtIGQycG93MkEgKiBwMy54KSAqIE0sCiAgICAgICAgICB5OiAoZDNwb3cyQSAqIHAxLnkgKyBCICogcDIueSAtIGQycG93MkEgKiBwMy55KSAqIE0gfTsKCiAgICAgICAgaWYgKGJwMS54ID09IDAgJiYgYnAxLnkgPT0gMCkgewogICAgICAgICAgYnAxID0gcDE7CiAgICAgICAgfQogICAgICAgIGlmIChicDIueCA9PSAwICYmIGJwMi55ID09IDApIHsKICAgICAgICAgIGJwMiA9IHAyOwogICAgICAgIH0KICAgICAgICBkICs9ICdDJyArIGJwMS54ICsgJywnICsgYnAxLnkgKyAnICcgKyBicDIueCArICcsJyArIGJwMi55ICsgJyAnICsgcDIueCArICcsJyArIHAyLnkgKyAnICc7CiAgICAgIH0KCiAgICAgIHJldHVybiBkOwogICAgfQogIH07CgogIC8qKgogICAqIHRoaXMgZ2VuZXJhdGVzIHRoZSBTVkcgcGF0aCBmb3IgYSBsaW5lYXIgZHJhd2luZyBiZXR3ZWVuIGRhdGFwb2ludHMuCiAgICogQHBhcmFtIGRhdGEKICAgKiBAcmV0dXJucyB7c3RyaW5nfQogICAqIEBwcml2YXRlCiAgICovCiAgTGluZS5fbGluZWFyID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgIC8vIGxpbmVhcgogICAgdmFyIGQgPSAnJzsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaSA9PSAwKSB7CiAgICAgICAgZCArPSBkYXRhW2ldLnggKyAnLCcgKyBkYXRhW2ldLnk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZCArPSAnICcgKyBkYXRhW2ldLnggKyAnLCcgKyBkYXRhW2ldLnk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkOwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gTGluZTsKCi8qKiovIH0sCi8qIDU1ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIHZhciBET011dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTsKCiAgZnVuY3Rpb24gUG9pbnRzKGdyb3VwSWQsIG9wdGlvbnMpIHsKICAgIHRoaXMuZ3JvdXBJZCA9IGdyb3VwSWQ7CiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogIH0KCiAgUG9pbnRzLnByb3RvdHlwZS5nZXRZUmFuZ2UgPSBmdW5jdGlvbiAoZ3JvdXBEYXRhKSB7CiAgICB2YXIgeU1pbiA9IGdyb3VwRGF0YVswXS55OwogICAgdmFyIHlNYXggPSBncm91cERhdGFbMF0ueTsKICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgIHlNaW4gPSB5TWluID4gZ3JvdXBEYXRhW2pdLnkgPyBncm91cERhdGFbal0ueSA6IHlNaW47CiAgICAgIHlNYXggPSB5TWF4IDwgZ3JvdXBEYXRhW2pdLnkgPyBncm91cERhdGFbal0ueSA6IHlNYXg7CiAgICB9CiAgICByZXR1cm4geyBtaW46IHlNaW4sIG1heDogeU1heCwgeUF4aXNPcmllbnRhdGlvbjogdGhpcy5vcHRpb25zLnlBeGlzT3JpZW50YXRpb24gfTsKICB9OwoKICBQb2ludHMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoZGF0YXNldCwgZ3JvdXAsIGZyYW1ld29yaywgb2Zmc2V0KSB7CiAgICBQb2ludHMuZHJhdyhkYXRhc2V0LCBncm91cCwgZnJhbWV3b3JrLCBvZmZzZXQpOwogIH07CgogIC8qKgogICAqIGRyYXcgdGhlIGRhdGEgcG9pbnRzCiAgICoKICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhc2V0CiAgICogQHBhcmFtIHtPYmplY3R9IEpTT05jb250YWluZXIKICAgKiBAcGFyYW0ge09iamVjdH0gc3ZnICAgICAgICAgICAgfCBTVkcgRE9NIGVsZW1lbnQKICAgKiBAcGFyYW0ge0dyYXBoR3JvdXB9IGdyb3VwCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvZmZzZXRdCiAgICovCiAgUG9pbnRzLmRyYXcgPSBmdW5jdGlvbiAoZGF0YXNldCwgZ3JvdXAsIGZyYW1ld29yaywgb2Zmc2V0KSB7CiAgICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHsKICAgICAgb2Zmc2V0ID0gMDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YXNldC5sZW5ndGg7IGkrKykgewogICAgICBET011dGlsLmRyYXdQb2ludChkYXRhc2V0W2ldLnggKyBvZmZzZXQsIGRhdGFzZXRbaV0ueSwgZ3JvdXAsIGZyYW1ld29yay5zdmdFbGVtZW50cywgZnJhbWV3b3JrLnN2ZywgZGF0YXNldFtpXS5sYWJlbCk7CiAgICB9CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBQb2ludHM7CgovKioqLyB9LAovKiA1NiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgRE9NdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7CiAgdmFyIFBvaW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpOwoKICBmdW5jdGlvbiBCYXJncmFwaChncm91cElkLCBvcHRpb25zKSB7CiAgICB0aGlzLmdyb3VwSWQgPSBncm91cElkOwogICAgdGhpcy5vcHRpb25zID0gb3B0aW9uczsKICB9CgogIEJhcmdyYXBoLnByb3RvdHlwZS5nZXRZUmFuZ2UgPSBmdW5jdGlvbiAoZ3JvdXBEYXRhKSB7CiAgICB2YXIgeU1pbiA9IGdyb3VwRGF0YVswXS55OwogICAgdmFyIHlNYXggPSBncm91cERhdGFbMF0ueTsKICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgIHlNaW4gPSB5TWluID4gZ3JvdXBEYXRhW2pdLnkgPyBncm91cERhdGFbal0ueSA6IHlNaW47CiAgICAgIHlNYXggPSB5TWF4IDwgZ3JvdXBEYXRhW2pdLnkgPyBncm91cERhdGFbal0ueSA6IHlNYXg7CiAgICB9CiAgICByZXR1cm4geyBtaW46IHlNaW4sIG1heDogeU1heCwgeUF4aXNPcmllbnRhdGlvbjogdGhpcy5vcHRpb25zLnlBeGlzT3JpZW50YXRpb24gfTsKICB9OwoKICBCYXJncmFwaC5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIChncm91cERhdGEpIHsKICAgIHZhciBjb21iaW5lZERhdGEgPSBbXTsKICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgIGNvbWJpbmVkRGF0YS5wdXNoKHsKICAgICAgICB4OiBncm91cERhdGFbal0ueCwKICAgICAgICB5OiBncm91cERhdGFbal0ueSwKICAgICAgICBncm91cElkOiB0aGlzLmdyb3VwSWQKICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gY29tYmluZWREYXRhOwogIH07CgogIC8qKgogICAqIGRyYXcgYSBiYXIgZ3JhcGgKICAgKgogICAqIEBwYXJhbSBncm91cElkcwogICAqIEBwYXJhbSBwcm9jZXNzZWRHcm91cERhdGEKICAgKi8KICBCYXJncmFwaC5kcmF3ID0gZnVuY3Rpb24gKGdyb3VwSWRzLCBwcm9jZXNzZWRHcm91cERhdGEsIGZyYW1ld29yaykgewogICAgdmFyIGNvbWJpbmVkRGF0YSA9IFtdOwogICAgdmFyIGludGVyc2VjdGlvbnMgPSB7fTsKICAgIHZhciBjb3JlRGlzdGFuY2U7CiAgICB2YXIga2V5LCBkcmF3RGF0YTsKICAgIHZhciBncm91cDsKICAgIHZhciBpLCBqOwogICAgdmFyIGJhclBvaW50cyA9IDA7CgogICAgLy8gY29tYmluZSBhbGwgYmFyY2hhcnQgZGF0YQogICAgZm9yIChpID0gMDsgaSA8IGdyb3VwSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGdyb3VwID0gZnJhbWV3b3JrLmdyb3Vwc1tncm91cElkc1tpXV07CiAgICAgIGlmIChncm91cC5vcHRpb25zLnN0eWxlID09PSAnYmFyJykgewogICAgICAgIGlmIChncm91cC52aXNpYmxlID09PSB0cnVlICYmIChmcmFtZXdvcmsub3B0aW9ucy5ncm91cHMudmlzaWJpbGl0eVtncm91cElkc1tpXV0gPT09IHVuZGVmaW5lZCB8fCBmcmFtZXdvcmsub3B0aW9ucy5ncm91cHMudmlzaWJpbGl0eVtncm91cElkc1tpXV0gPT09IHRydWUpKSB7CiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcHJvY2Vzc2VkR3JvdXBEYXRhW2dyb3VwSWRzW2ldXS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBjb21iaW5lZERhdGEucHVzaCh7CiAgICAgICAgICAgICAgeDogcHJvY2Vzc2VkR3JvdXBEYXRhW2dyb3VwSWRzW2ldXVtqXS54LAogICAgICAgICAgICAgIHk6IHByb2Nlc3NlZEdyb3VwRGF0YVtncm91cElkc1tpXV1bal0ueSwKICAgICAgICAgICAgICBncm91cElkOiBncm91cElkc1tpXSwKICAgICAgICAgICAgICBsYWJlbDogcHJvY2Vzc2VkR3JvdXBEYXRhW2dyb3VwSWRzW2ldXVtqXS5sYWJlbAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYmFyUG9pbnRzICs9IDE7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKGJhclBvaW50cyA9PT0gMCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gc29ydCBieSB0aW1lIGFuZCBieSBncm91cAogICAgY29tYmluZWREYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgaWYgKGEueCA9PT0gYi54KSB7CiAgICAgICAgcmV0dXJuIGEuZ3JvdXBJZCA8IGIuZ3JvdXBJZCA/IC0xIDogMTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYS54IC0gYi54OwogICAgICB9CiAgICB9KTsKCiAgICAvLyBnZXQgaW50ZXJzZWN0aW9ucwogICAgQmFyZ3JhcGguX2dldERhdGFJbnRlcnNlY3Rpb25zKGludGVyc2VjdGlvbnMsIGNvbWJpbmVkRGF0YSk7CgogICAgLy8gcGxvdCBiYXJjaGFydAogICAgZm9yIChpID0gMDsgaSA8IGNvbWJpbmVkRGF0YS5sZW5ndGg7IGkrKykgewogICAgICBncm91cCA9IGZyYW1ld29yay5ncm91cHNbY29tYmluZWREYXRhW2ldLmdyb3VwSWRdOwogICAgICB2YXIgbWluV2lkdGggPSAwLjEgKiBncm91cC5vcHRpb25zLmJhckNoYXJ0LndpZHRoOwoKICAgICAga2V5ID0gY29tYmluZWREYXRhW2ldLng7CiAgICAgIHZhciBoZWlnaHRPZmZzZXQgPSAwOwogICAgICBpZiAoaW50ZXJzZWN0aW9uc1trZXldID09PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoaSArIDEgPCBjb21iaW5lZERhdGEubGVuZ3RoKSB7CiAgICAgICAgICBjb3JlRGlzdGFuY2UgPSBNYXRoLmFicyhjb21iaW5lZERhdGFbaSArIDFdLnggLSBrZXkpOwogICAgICAgIH0KICAgICAgICBpZiAoaSA+IDApIHsKICAgICAgICAgIGNvcmVEaXN0YW5jZSA9IE1hdGgubWluKGNvcmVEaXN0YW5jZSwgTWF0aC5hYnMoY29tYmluZWREYXRhW2kgLSAxXS54IC0ga2V5KSk7CiAgICAgICAgfQogICAgICAgIGRyYXdEYXRhID0gQmFyZ3JhcGguX2dldFNhZmVEcmF3RGF0YShjb3JlRGlzdGFuY2UsIGdyb3VwLCBtaW5XaWR0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG5leHRLZXkgPSBpICsgKGludGVyc2VjdGlvbnNba2V5XS5hbW91bnQgLSBpbnRlcnNlY3Rpb25zW2tleV0ucmVzb2x2ZWQpOwogICAgICAgIHZhciBwcmV2S2V5ID0gaSAtIChpbnRlcnNlY3Rpb25zW2tleV0ucmVzb2x2ZWQgKyAxKTsKICAgICAgICBpZiAobmV4dEtleSA8IGNvbWJpbmVkRGF0YS5sZW5ndGgpIHsKICAgICAgICAgIGNvcmVEaXN0YW5jZSA9IE1hdGguYWJzKGNvbWJpbmVkRGF0YVtuZXh0S2V5XS54IC0ga2V5KTsKICAgICAgICB9CiAgICAgICAgaWYgKHByZXZLZXkgPiAwKSB7CiAgICAgICAgICBjb3JlRGlzdGFuY2UgPSBNYXRoLm1pbihjb3JlRGlzdGFuY2UsIE1hdGguYWJzKGNvbWJpbmVkRGF0YVtwcmV2S2V5XS54IC0ga2V5KSk7CiAgICAgICAgfQogICAgICAgIGRyYXdEYXRhID0gQmFyZ3JhcGguX2dldFNhZmVEcmF3RGF0YShjb3JlRGlzdGFuY2UsIGdyb3VwLCBtaW5XaWR0aCk7CiAgICAgICAgaW50ZXJzZWN0aW9uc1trZXldLnJlc29sdmVkICs9IDE7CgogICAgICAgIGlmIChncm91cC5vcHRpb25zLnN0YWNrID09PSB0cnVlKSB7CiAgICAgICAgICBpZiAoY29tYmluZWREYXRhW2ldLnkgPCBncm91cC56ZXJvUG9zaXRpb24pIHsKICAgICAgICAgICAgaGVpZ2h0T2Zmc2V0ID0gaW50ZXJzZWN0aW9uc1trZXldLmFjY3VtdWxhdGVkTmVnYXRpdmU7CiAgICAgICAgICAgIGludGVyc2VjdGlvbnNba2V5XS5hY2N1bXVsYXRlZE5lZ2F0aXZlICs9IGdyb3VwLnplcm9Qb3NpdGlvbiAtIGNvbWJpbmVkRGF0YVtpXS55OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaGVpZ2h0T2Zmc2V0ID0gaW50ZXJzZWN0aW9uc1trZXldLmFjY3VtdWxhdGVkUG9zaXRpdmU7CiAgICAgICAgICAgIGludGVyc2VjdGlvbnNba2V5XS5hY2N1bXVsYXRlZFBvc2l0aXZlICs9IGdyb3VwLnplcm9Qb3NpdGlvbiAtIGNvbWJpbmVkRGF0YVtpXS55OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZ3JvdXAub3B0aW9ucy5iYXJDaGFydC5zaWRlQnlTaWRlID09PSB0cnVlKSB7CiAgICAgICAgICBkcmF3RGF0YS53aWR0aCA9IGRyYXdEYXRhLndpZHRoIC8gaW50ZXJzZWN0aW9uc1trZXldLmFtb3VudDsKICAgICAgICAgIGRyYXdEYXRhLm9mZnNldCArPSBpbnRlcnNlY3Rpb25zW2tleV0ucmVzb2x2ZWQgKiBkcmF3RGF0YS53aWR0aCAtIDAuNSAqIGRyYXdEYXRhLndpZHRoICogKGludGVyc2VjdGlvbnNba2V5XS5hbW91bnQgKyAxKTsKICAgICAgICAgIGlmIChncm91cC5vcHRpb25zLmJhckNoYXJ0LmFsaWduID09PSAnbGVmdCcpIHsKICAgICAgICAgICAgZHJhd0RhdGEub2Zmc2V0IC09IDAuNSAqIGRyYXdEYXRhLndpZHRoOwogICAgICAgICAgfSBlbHNlIGlmIChncm91cC5vcHRpb25zLmJhckNoYXJ0LmFsaWduID09PSAncmlnaHQnKSB7CiAgICAgICAgICAgIGRyYXdEYXRhLm9mZnNldCArPSAwLjUgKiBkcmF3RGF0YS53aWR0aDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgRE9NdXRpbC5kcmF3QmFyKGNvbWJpbmVkRGF0YVtpXS54ICsgZHJhd0RhdGEub2Zmc2V0LCBjb21iaW5lZERhdGFbaV0ueSAtIGhlaWdodE9mZnNldCwgZHJhd0RhdGEud2lkdGgsIGdyb3VwLnplcm9Qb3NpdGlvbiAtIGNvbWJpbmVkRGF0YVtpXS55LCBncm91cC5jbGFzc05hbWUgKyAnIHZpcy1iYXInLCBmcmFtZXdvcmsuc3ZnRWxlbWVudHMsIGZyYW1ld29yay5zdmcsIGdyb3VwLnN0eWxlKTsKICAgICAgLy8gZHJhdyBwb2ludHMKICAgICAgaWYgKGdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgUG9pbnRzLmRyYXcoW2NvbWJpbmVkRGF0YVtpXV0sIGdyb3VwLCBmcmFtZXdvcmssIGRyYXdEYXRhLm9mZnNldCk7CiAgICAgICAgLy9ET011dGlsLmRyYXdQb2ludChjb21iaW5lZERhdGFbaV0ueCArIGRyYXdEYXRhLm9mZnNldCwgY29tYmluZWREYXRhW2ldLnksIGdyb3VwLCBmcmFtZXdvcmsuc3ZnRWxlbWVudHMsIGZyYW1ld29yay5zdmcpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLyoqCiAgICogRmlsbCB0aGUgaW50ZXJzZWN0aW9ucyBvYmplY3Qgd2l0aCBjb3VudGVycyBvZiBob3cgbWFueSBkYXRhcG9pbnRzIHNoYXJlIHRoZSBzYW1lIHggY29vcmRpbmF0ZXMKICAgKiBAcGFyYW0gaW50ZXJzZWN0aW9ucwogICAqIEBwYXJhbSBjb21iaW5lZERhdGEKICAgKiBAcHJpdmF0ZQogICAqLwogIEJhcmdyYXBoLl9nZXREYXRhSW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uIChpbnRlcnNlY3Rpb25zLCBjb21iaW5lZERhdGEpIHsKICAgIC8vIGdldCBpbnRlcnNlY3Rpb25zCiAgICB2YXIgY29yZURpc3RhbmNlOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21iaW5lZERhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGkgKyAxIDwgY29tYmluZWREYXRhLmxlbmd0aCkgewogICAgICAgIGNvcmVEaXN0YW5jZSA9IE1hdGguYWJzKGNvbWJpbmVkRGF0YVtpICsgMV0ueCAtIGNvbWJpbmVkRGF0YVtpXS54KTsKICAgICAgfQogICAgICBpZiAoaSA+IDApIHsKICAgICAgICBjb3JlRGlzdGFuY2UgPSBNYXRoLm1pbihjb3JlRGlzdGFuY2UsIE1hdGguYWJzKGNvbWJpbmVkRGF0YVtpIC0gMV0ueCAtIGNvbWJpbmVkRGF0YVtpXS54KSk7CiAgICAgIH0KICAgICAgaWYgKGNvcmVEaXN0YW5jZSA9PT0gMCkgewogICAgICAgIGlmIChpbnRlcnNlY3Rpb25zW2NvbWJpbmVkRGF0YVtpXS54XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpbnRlcnNlY3Rpb25zW2NvbWJpbmVkRGF0YVtpXS54XSA9IHsgYW1vdW50OiAwLCByZXNvbHZlZDogMCwgYWNjdW11bGF0ZWRQb3NpdGl2ZTogMCwgYWNjdW11bGF0ZWROZWdhdGl2ZTogMCB9OwogICAgICAgIH0KICAgICAgICBpbnRlcnNlY3Rpb25zW2NvbWJpbmVkRGF0YVtpXS54XS5hbW91bnQgKz0gMTsKICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIEdldCB0aGUgd2lkdGggYW5kIG9mZnNldCBmb3IgYmFyZ3JhcGhzIGJhc2VkIG9uIHRoZSBjb3JlZGlzdGFuY2UgYmV0d2VlbiBkYXRhcG9pbnRzCiAgICoKICAgKiBAcGFyYW0gY29yZURpc3RhbmNlCiAgICogQHBhcmFtIGdyb3VwCiAgICogQHBhcmFtIG1pbldpZHRoCiAgICogQHJldHVybnMge3t3aWR0aDogTnVtYmVyLCBvZmZzZXQ6IE51bWJlcn19CiAgICogQHByaXZhdGUKICAgKi8KICBCYXJncmFwaC5fZ2V0U2FmZURyYXdEYXRhID0gZnVuY3Rpb24gKGNvcmVEaXN0YW5jZSwgZ3JvdXAsIG1pbldpZHRoKSB7CiAgICB2YXIgd2lkdGgsIG9mZnNldDsKICAgIGlmIChjb3JlRGlzdGFuY2UgPCBncm91cC5vcHRpb25zLmJhckNoYXJ0LndpZHRoICYmIGNvcmVEaXN0YW5jZSA+IDApIHsKICAgICAgd2lkdGggPSBjb3JlRGlzdGFuY2UgPCBtaW5XaWR0aCA/IG1pbldpZHRoIDogY29yZURpc3RhbmNlOwoKICAgICAgb2Zmc2V0ID0gMDsgLy8gcmVjYWxjdWxhdGUgb2Zmc2V0IHdpdGggdGhlIG5ldyB3aWR0aDsKICAgICAgaWYgKGdyb3VwLm9wdGlvbnMuYmFyQ2hhcnQuYWxpZ24gPT09ICdsZWZ0JykgewogICAgICAgIG9mZnNldCAtPSAwLjUgKiBjb3JlRGlzdGFuY2U7CiAgICAgIH0gZWxzZSBpZiAoZ3JvdXAub3B0aW9ucy5iYXJDaGFydC5hbGlnbiA9PT0gJ3JpZ2h0JykgewogICAgICAgIG9mZnNldCArPSAwLjUgKiBjb3JlRGlzdGFuY2U7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIGRlZmF1bHQgc2V0dGluZ3MKICAgICAgd2lkdGggPSBncm91cC5vcHRpb25zLmJhckNoYXJ0LndpZHRoOwogICAgICBvZmZzZXQgPSAwOwogICAgICBpZiAoZ3JvdXAub3B0aW9ucy5iYXJDaGFydC5hbGlnbiA9PT0gJ2xlZnQnKSB7CiAgICAgICAgb2Zmc2V0IC09IDAuNSAqIGdyb3VwLm9wdGlvbnMuYmFyQ2hhcnQud2lkdGg7CiAgICAgIH0gZWxzZSBpZiAoZ3JvdXAub3B0aW9ucy5iYXJDaGFydC5hbGlnbiA9PT0gJ3JpZ2h0JykgewogICAgICAgIG9mZnNldCArPSAwLjUgKiBncm91cC5vcHRpb25zLmJhckNoYXJ0LndpZHRoOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoLCBvZmZzZXQ6IG9mZnNldCB9OwogIH07CgogIEJhcmdyYXBoLmdldFN0YWNrZWRZUmFuZ2UgPSBmdW5jdGlvbiAoY29tYmluZWREYXRhLCBncm91cFJhbmdlcywgZ3JvdXBJZHMsIGdyb3VwTGFiZWwsIG9yaWVudGF0aW9uKSB7CiAgICBpZiAoY29tYmluZWREYXRhLmxlbmd0aCA+IDApIHsKICAgICAgLy8gc29ydCBieSB0aW1lIGFuZCBieSBncm91cAogICAgICBjb21iaW5lZERhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIGlmIChhLnggPT09IGIueCkgewogICAgICAgICAgcmV0dXJuIGEuZ3JvdXBJZCA8IGIuZ3JvdXBJZCA/IC0xIDogMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGEueCAtIGIueDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgaW50ZXJzZWN0aW9ucyA9IHt9OwoKICAgICAgQmFyZ3JhcGguX2dldERhdGFJbnRlcnNlY3Rpb25zKGludGVyc2VjdGlvbnMsIGNvbWJpbmVkRGF0YSk7CiAgICAgIGdyb3VwUmFuZ2VzW2dyb3VwTGFiZWxdID0gQmFyZ3JhcGguX2dldFN0YWNrZWRZUmFuZ2UoaW50ZXJzZWN0aW9ucywgY29tYmluZWREYXRhKTsKICAgICAgZ3JvdXBSYW5nZXNbZ3JvdXBMYWJlbF0ueUF4aXNPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uOwogICAgICBncm91cElkcy5wdXNoKGdyb3VwTGFiZWwpOwogICAgfQogIH07CgogIEJhcmdyYXBoLl9nZXRTdGFja2VkWVJhbmdlID0gZnVuY3Rpb24gKGludGVyc2VjdGlvbnMsIGNvbWJpbmVkRGF0YSkgewogICAgdmFyIGtleTsKICAgIHZhciB5TWluID0gY29tYmluZWREYXRhWzBdLnk7CiAgICB2YXIgeU1heCA9IGNvbWJpbmVkRGF0YVswXS55OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21iaW5lZERhdGEubGVuZ3RoOyBpKyspIHsKICAgICAga2V5ID0gY29tYmluZWREYXRhW2ldLng7CiAgICAgIGlmIChpbnRlcnNlY3Rpb25zW2tleV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIHlNaW4gPSB5TWluID4gY29tYmluZWREYXRhW2ldLnkgPyBjb21iaW5lZERhdGFbaV0ueSA6IHlNaW47CiAgICAgICAgeU1heCA9IHlNYXggPCBjb21iaW5lZERhdGFbaV0ueSA/IGNvbWJpbmVkRGF0YVtpXS55IDogeU1heDsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoY29tYmluZWREYXRhW2ldLnkgPCAwKSB7CiAgICAgICAgICBpbnRlcnNlY3Rpb25zW2tleV0uYWNjdW11bGF0ZWROZWdhdGl2ZSArPSBjb21iaW5lZERhdGFbaV0ueTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW50ZXJzZWN0aW9uc1trZXldLmFjY3VtdWxhdGVkUG9zaXRpdmUgKz0gY29tYmluZWREYXRhW2ldLnk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKHZhciB4cG9zIGluIGludGVyc2VjdGlvbnMpIHsKICAgICAgaWYgKGludGVyc2VjdGlvbnMuaGFzT3duUHJvcGVydHkoeHBvcykpIHsKICAgICAgICB5TWluID0geU1pbiA+IGludGVyc2VjdGlvbnNbeHBvc10uYWNjdW11bGF0ZWROZWdhdGl2ZSA/IGludGVyc2VjdGlvbnNbeHBvc10uYWNjdW11bGF0ZWROZWdhdGl2ZSA6IHlNaW47CiAgICAgICAgeU1pbiA9IHlNaW4gPiBpbnRlcnNlY3Rpb25zW3hwb3NdLmFjY3VtdWxhdGVkUG9zaXRpdmUgPyBpbnRlcnNlY3Rpb25zW3hwb3NdLmFjY3VtdWxhdGVkUG9zaXRpdmUgOiB5TWluOwogICAgICAgIHlNYXggPSB5TWF4IDwgaW50ZXJzZWN0aW9uc1t4cG9zXS5hY2N1bXVsYXRlZE5lZ2F0aXZlID8gaW50ZXJzZWN0aW9uc1t4cG9zXS5hY2N1bXVsYXRlZE5lZ2F0aXZlIDogeU1heDsKICAgICAgICB5TWF4ID0geU1heCA8IGludGVyc2VjdGlvbnNbeHBvc10uYWNjdW11bGF0ZWRQb3NpdGl2ZSA/IGludGVyc2VjdGlvbnNbeHBvc10uYWNjdW11bGF0ZWRQb3NpdGl2ZSA6IHlNYXg7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4geyBtaW46IHlNaW4sIG1heDogeU1heCB9OwogIH07CgogIG1vZHVsZS5leHBvcnRzID0gQmFyZ3JhcGg7CgovKioqLyB9LAovKiA1NyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIERPTXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpOwogIHZhciBDb21wb25lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTsKCiAgLyoqCiAgICogTGVnZW5kIGZvciBHcmFwaDJkCiAgICovCiAgZnVuY3Rpb24gTGVnZW5kKGJvZHksIG9wdGlvbnMsIHNpZGUsIGxpbmVncmFwaE9wdGlvbnMpIHsKICAgIHRoaXMuYm9keSA9IGJvZHk7CiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBpY29uczogdHJ1ZSwKICAgICAgaWNvblNpemU6IDIwLAogICAgICBpY29uU3BhY2luZzogNiwKICAgICAgbGVmdDogewogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgcG9zaXRpb246ICd0b3AtbGVmdCcgLy8gdG9wL2JvdHRvbSAtIGxlZnQsY2VudGVyLHJpZ2h0CiAgICAgIH0sCiAgICAgIHJpZ2h0OiB7CiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBwb3NpdGlvbjogJ3RvcC1sZWZ0JyAvLyB0b3AvYm90dG9tIC0gbGVmdCxjZW50ZXIscmlnaHQKICAgICAgfQogICAgfTsKICAgIHRoaXMuc2lkZSA9IHNpZGU7CiAgICB0aGlzLm9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CiAgICB0aGlzLmxpbmVncmFwaE9wdGlvbnMgPSBsaW5lZ3JhcGhPcHRpb25zOwoKICAgIHRoaXMuc3ZnRWxlbWVudHMgPSB7fTsKICAgIHRoaXMuZG9tID0ge307CiAgICB0aGlzLmdyb3VwcyA9IHt9OwogICAgdGhpcy5hbW91bnRPZkdyb3VwcyA9IDA7CiAgICB0aGlzLl9jcmVhdGUoKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgfQoKICBMZWdlbmQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpOwoKICBMZWdlbmQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5ncm91cHMgPSB7fTsKICAgIHRoaXMuYW1vdW50T2ZHcm91cHMgPSAwOwogIH07CgogIExlZ2VuZC5wcm90b3R5cGUuYWRkR3JvdXAgPSBmdW5jdGlvbiAobGFiZWwsIGdyYXBoT3B0aW9ucykgewoKICAgIGlmICghdGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkobGFiZWwpKSB7CiAgICAgIHRoaXMuZ3JvdXBzW2xhYmVsXSA9IGdyYXBoT3B0aW9uczsKICAgIH0KICAgIHRoaXMuYW1vdW50T2ZHcm91cHMgKz0gMTsKICB9OwoKICBMZWdlbmQucHJvdG90eXBlLnVwZGF0ZUdyb3VwID0gZnVuY3Rpb24gKGxhYmVsLCBncmFwaE9wdGlvbnMpIHsKICAgIHRoaXMuZ3JvdXBzW2xhYmVsXSA9IGdyYXBoT3B0aW9uczsKICB9OwoKICBMZWdlbmQucHJvdG90eXBlLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24gKGxhYmVsKSB7CiAgICBpZiAodGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkobGFiZWwpKSB7CiAgICAgIGRlbGV0ZSB0aGlzLmdyb3Vwc1tsYWJlbF07CiAgICAgIHRoaXMuYW1vdW50T2ZHcm91cHMgLT0gMTsKICAgIH0KICB9OwoKICBMZWdlbmQucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmRvbS5mcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5kb20uZnJhbWUuY2xhc3NOYW1lID0gJ3Zpcy1sZWdlbmQnOwogICAgdGhpcy5kb20uZnJhbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgdGhpcy5kb20uZnJhbWUuc3R5bGUudG9wID0gJzEwcHgnOwogICAgdGhpcy5kb20uZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgogICAgdGhpcy5kb20udGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHRoaXMuZG9tLnRleHRBcmVhLmNsYXNzTmFtZSA9ICd2aXMtbGVnZW5kLXRleHQnOwogICAgdGhpcy5kb20udGV4dEFyZWEuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOwogICAgdGhpcy5kb20udGV4dEFyZWEuc3R5bGUudG9wID0gJzBweCc7CgogICAgdGhpcy5zdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpOwogICAgdGhpcy5zdmcuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgdGhpcy5zdmcuc3R5bGUudG9wID0gMCArICdweCc7CiAgICB0aGlzLnN2Zy5zdHlsZS53aWR0aCA9IHRoaXMub3B0aW9ucy5pY29uU2l6ZSArIDUgKyAncHgnOwogICAgdGhpcy5zdmcuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnOwoKICAgIHRoaXMuZG9tLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuc3ZnKTsKICAgIHRoaXMuZG9tLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZG9tLnRleHRBcmVhKTsKICB9OwoKICAvKioKICAgKiBIaWRlIHRoZSBjb21wb25lbnQgZnJvbSB0aGUgRE9NCiAgICovCiAgTGVnZW5kLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkgewogICAgLy8gcmVtb3ZlIHRoZSBmcmFtZSBjb250YWluaW5nIHRoZSBpdGVtcwogICAgaWYgKHRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUpIHsKICAgICAgdGhpcy5kb20uZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5mcmFtZSk7CiAgICB9CiAgfTsKCiAgLyoqCiAgICogU2hvdyB0aGUgY29tcG9uZW50IGluIHRoZSBET00gKHdoZW4gbm90IGFscmVhZHkgdmlzaWJsZSkuCiAgICogQHJldHVybiB7Qm9vbGVhbn0gY2hhbmdlZAogICAqLwogIExlZ2VuZC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIHNob3cgZnJhbWUgY29udGFpbmluZyB0aGUgaXRlbXMKICAgIGlmICghdGhpcy5kb20uZnJhbWUucGFyZW50Tm9kZSkgewogICAgICB0aGlzLmJvZHkuZG9tLmNlbnRlci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5mcmFtZSk7CiAgICB9CiAgfTsKCiAgTGVnZW5kLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIHZhciBmaWVsZHMgPSBbJ2VuYWJsZWQnLCAnb3JpZW50YXRpb24nLCAnaWNvbnMnLCAnbGVmdCcsICdyaWdodCddOwogICAgdXRpbC5zZWxlY3RpdmVEZWVwRXh0ZW5kKGZpZWxkcywgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKICB9OwoKICBMZWdlbmQucHJvdG90eXBlLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVHcm91cHMgPSAwOwogICAgdmFyIGdyb3VwQXJyYXkgPSBPYmplY3Qua2V5cyh0aGlzLmdyb3Vwcyk7CiAgICBncm91cEFycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiAxOwogICAgfSk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cEFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBncm91cElkID0gZ3JvdXBBcnJheVtpXTsKICAgICAgaWYgKHRoaXMuZ3JvdXBzW2dyb3VwSWRdLnZpc2libGUgPT0gdHJ1ZSAmJiAodGhpcy5saW5lZ3JhcGhPcHRpb25zLnZpc2liaWxpdHlbZ3JvdXBJZF0gPT09IHVuZGVmaW5lZCB8fCB0aGlzLmxpbmVncmFwaE9wdGlvbnMudmlzaWJpbGl0eVtncm91cElkXSA9PSB0cnVlKSkgewogICAgICAgIGFjdGl2ZUdyb3VwcysrOwogICAgICB9CiAgICB9CgogICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLnNpZGVdLnZpc2libGUgPT0gZmFsc2UgfHwgdGhpcy5hbW91bnRPZkdyb3VwcyA9PSAwIHx8IHRoaXMub3B0aW9ucy5lbmFibGVkID09IGZhbHNlIHx8IGFjdGl2ZUdyb3VwcyA9PSAwKSB7CiAgICAgIHRoaXMuaGlkZSgpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5zaG93KCk7CiAgICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5zaWRlXS5wb3NpdGlvbiA9PSAndG9wLWxlZnQnIHx8IHRoaXMub3B0aW9uc1t0aGlzLnNpZGVdLnBvc2l0aW9uID09ICdib3R0b20tbGVmdCcpIHsKICAgICAgICB0aGlzLmRvbS5mcmFtZS5zdHlsZS5sZWZ0ID0gJzRweCc7CiAgICAgICAgdGhpcy5kb20uZnJhbWUuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnOwogICAgICAgIHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICB0aGlzLmRvbS50ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gdGhpcy5vcHRpb25zLmljb25TaXplICsgMTUgKyAncHgnOwogICAgICAgIHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLnJpZ2h0ID0gJyc7CiAgICAgICAgdGhpcy5zdmcuc3R5bGUubGVmdCA9IDAgKyAncHgnOwogICAgICAgIHRoaXMuc3ZnLnN0eWxlLnJpZ2h0ID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kb20uZnJhbWUuc3R5bGUucmlnaHQgPSAnNHB4JzsKICAgICAgICB0aGlzLmRvbS5mcmFtZS5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnOwogICAgICAgIHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLnRleHRBbGlnbiA9ICdyaWdodCc7CiAgICAgICAgdGhpcy5kb20udGV4dEFyZWEuc3R5bGUucmlnaHQgPSB0aGlzLm9wdGlvbnMuaWNvblNpemUgKyAxNSArICdweCc7CiAgICAgICAgdGhpcy5kb20udGV4dEFyZWEuc3R5bGUubGVmdCA9ICcnOwogICAgICAgIHRoaXMuc3ZnLnN0eWxlLnJpZ2h0ID0gMCArICdweCc7CiAgICAgICAgdGhpcy5zdmcuc3R5bGUubGVmdCA9ICcnOwogICAgICB9CgogICAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuc2lkZV0ucG9zaXRpb24gPT0gJ3RvcC1sZWZ0JyB8fCB0aGlzLm9wdGlvbnNbdGhpcy5zaWRlXS5wb3NpdGlvbiA9PSAndG9wLXJpZ2h0JykgewogICAgICAgIHRoaXMuZG9tLmZyYW1lLnN0eWxlLnRvcCA9IDQgLSBOdW1iZXIodGhpcy5ib2R5LmRvbS5jZW50ZXIuc3R5bGUudG9wLnJlcGxhY2UoJ3B4JywgJycpKSArICdweCc7CiAgICAgICAgdGhpcy5kb20uZnJhbWUuc3R5bGUuYm90dG9tID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNjcm9sbGFibGVIZWlnaHQgPSB0aGlzLmJvZHkuZG9tUHJvcHMuY2VudGVyLmhlaWdodCAtIHRoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0OwogICAgICAgIHRoaXMuZG9tLmZyYW1lLnN0eWxlLmJvdHRvbSA9IDQgKyBzY3JvbGxhYmxlSGVpZ2h0ICsgTnVtYmVyKHRoaXMuYm9keS5kb20uY2VudGVyLnN0eWxlLnRvcC5yZXBsYWNlKCdweCcsICcnKSkgKyAncHgnOwogICAgICAgIHRoaXMuZG9tLmZyYW1lLnN0eWxlLnRvcCA9ICcnOwogICAgICB9CgogICAgICBpZiAodGhpcy5vcHRpb25zLmljb25zID09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5kb20uZnJhbWUuc3R5bGUud2lkdGggPSB0aGlzLmRvbS50ZXh0QXJlYS5vZmZzZXRXaWR0aCArIDEwICsgJ3B4JzsKICAgICAgICB0aGlzLmRvbS50ZXh0QXJlYS5zdHlsZS5yaWdodCA9ICcnOwogICAgICAgIHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLmxlZnQgPSAnJzsKICAgICAgICB0aGlzLnN2Zy5zdHlsZS53aWR0aCA9ICcwcHgnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZG9tLmZyYW1lLnN0eWxlLndpZHRoID0gdGhpcy5vcHRpb25zLmljb25TaXplICsgMTUgKyB0aGlzLmRvbS50ZXh0QXJlYS5vZmZzZXRXaWR0aCArIDEwICsgJ3B4JzsKICAgICAgICB0aGlzLmRyYXdMZWdlbmRJY29ucygpOwogICAgICB9CgogICAgICB2YXIgY29udGVudCA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwQXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZ3JvdXBJZCA9IGdyb3VwQXJyYXlbaV07CiAgICAgICAgaWYgKHRoaXMuZ3JvdXBzW2dyb3VwSWRdLnZpc2libGUgPT0gdHJ1ZSAmJiAodGhpcy5saW5lZ3JhcGhPcHRpb25zLnZpc2liaWxpdHlbZ3JvdXBJZF0gPT09IHVuZGVmaW5lZCB8fCB0aGlzLmxpbmVncmFwaE9wdGlvbnMudmlzaWJpbGl0eVtncm91cElkXSA9PSB0cnVlKSkgewogICAgICAgICAgY29udGVudCArPSB0aGlzLmdyb3Vwc1tncm91cElkXS5jb250ZW50ICsgJzxiciAvPic7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuZG9tLnRleHRBcmVhLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICAgIHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLmxpbmVIZWlnaHQgPSAwLjc1ICogdGhpcy5vcHRpb25zLmljb25TaXplICsgdGhpcy5vcHRpb25zLmljb25TcGFjaW5nICsgJ3B4JzsKICAgIH0KICB9OwoKICBMZWdlbmQucHJvdG90eXBlLmRyYXdMZWdlbmRJY29ucyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlKSB7CiAgICAgIHZhciBncm91cEFycmF5ID0gT2JqZWN0LmtleXModGhpcy5ncm91cHMpOwogICAgICBncm91cEFycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IDE7CiAgICAgIH0pOwoKICAgICAgRE9NdXRpbC5wcmVwYXJlRWxlbWVudHModGhpcy5zdmdFbGVtZW50cyk7CiAgICAgIHZhciBwYWRkaW5nID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5kb20uZnJhbWUpLnBhZGRpbmdUb3A7CiAgICAgIHZhciBpY29uT2Zmc2V0ID0gTnVtYmVyKHBhZGRpbmcucmVwbGFjZSgncHgnLCAnJykpOwogICAgICB2YXIgeCA9IGljb25PZmZzZXQ7CiAgICAgIHZhciBpY29uV2lkdGggPSB0aGlzLm9wdGlvbnMuaWNvblNpemU7CiAgICAgIHZhciBpY29uSGVpZ2h0ID0gMC43NSAqIHRoaXMub3B0aW9ucy5pY29uU2l6ZTsKICAgICAgdmFyIHkgPSBpY29uT2Zmc2V0ICsgMC41ICogaWNvbkhlaWdodCArIDM7CgogICAgICB0aGlzLnN2Zy5zdHlsZS53aWR0aCA9IGljb25XaWR0aCArIDUgKyBpY29uT2Zmc2V0ICsgJ3B4JzsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBBcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBncm91cElkID0gZ3JvdXBBcnJheVtpXTsKICAgICAgICBpZiAodGhpcy5ncm91cHNbZ3JvdXBJZF0udmlzaWJsZSA9PSB0cnVlICYmICh0aGlzLmxpbmVncmFwaE9wdGlvbnMudmlzaWJpbGl0eVtncm91cElkXSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMubGluZWdyYXBoT3B0aW9ucy52aXNpYmlsaXR5W2dyb3VwSWRdID09IHRydWUpKSB7CiAgICAgICAgICB0aGlzLmdyb3Vwc1tncm91cElkXS5kcmF3SWNvbih4LCB5LCB0aGlzLnN2Z0VsZW1lbnRzLCB0aGlzLnN2ZywgaWNvbldpZHRoLCBpY29uSGVpZ2h0KTsKICAgICAgICAgIHkgKz0gaWNvbkhlaWdodCArIHRoaXMub3B0aW9ucy5pY29uU3BhY2luZzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIERPTXV0aWwuY2xlYW51cEVsZW1lbnRzKHRoaXMuc3ZnRWxlbWVudHMpOwogICAgfQogIH07CgogIG1vZHVsZS5leHBvcnRzID0gTGVnZW5kOwoKLyoqKi8gfSwKLyogNTggKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgogIC8qKgogICAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIGFsbCBwb3NzaWJsZSBvcHRpb25zLiBJdCB3aWxsIGNoZWNrIGlmIHRoZSB0eXBlcyBhcmUgY29ycmVjdCwgaWYgcmVxdWlyZWQgaWYgdGhlIG9wdGlvbiBpcyBvbmUKICAgKiBvZiB0aGUgYWxsb3dlZCB2YWx1ZXMuCiAgICoKICAgKiBfX2FueV9fIG1lYW5zIHRoYXQgdGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IGRvZXMgbm90IG1hdHRlci4KICAgKiBfX3R5cGVfXyBpcyBhIHJlcXVpcmVkIGZpZWxkIGZvciBhbGwgb2JqZWN0cyBhbmQgY29udGFpbnMgdGhlIGFsbG93ZWQgdHlwZXMgb2YgYWxsIG9iamVjdHMKICAgKi8KICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CiAgdmFyIHN0cmluZyA9ICdzdHJpbmcnOwogIHZhciBib29sZWFuID0gJ2Jvb2xlYW4nOwogIHZhciBudW1iZXIgPSAnbnVtYmVyJzsKICB2YXIgYXJyYXkgPSAnYXJyYXknOwogIHZhciBkYXRlID0gJ2RhdGUnOwogIHZhciBvYmplY3QgPSAnb2JqZWN0JzsgLy8gc2hvdWxkIG9ubHkgYmUgaW4gYSBfX3R5cGVfXyBwcm9wZXJ0eQogIHZhciBkb20gPSAnZG9tJzsKICB2YXIgbW9tZW50ID0gJ21vbWVudCc7CiAgdmFyIGFueSA9ICdhbnknOwoKICB2YXIgYWxsT3B0aW9ucyA9IHsKICAgIGNvbmZpZ3VyZTogewogICAgICBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgZmlsdGVyOiB7IGJvb2xlYW46IGJvb2xlYW4sICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgICAgY29udGFpbmVyOiB7IGRvbTogZG9tIH0sCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBib29sZWFuOiBib29sZWFuLCAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nIH0KICAgIH0sCgogICAgLy9nbG9iYWxzIDoKICAgIHlBeGlzT3JpZW50YXRpb246IHsgc3RyaW5nOiBbJ2xlZnQnLCAncmlnaHQnXSB9LAogICAgZGVmYXVsdEdyb3VwOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICBzb3J0OiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHNhbXBsaW5nOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHN0YWNrOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIGdyYXBoSGVpZ2h0OiB7IHN0cmluZzogc3RyaW5nLCBudW1iZXI6IG51bWJlciB9LAogICAgc2hhZGVkOiB7CiAgICAgIGVuYWJsZWQ6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBvcmllbnRhdGlvbjogeyBzdHJpbmc6IFsnYm90dG9tJywgJ3RvcCddIH0sIC8vIHRvcCwgYm90dG9tCiAgICAgIF9fdHlwZV9fOiB7IGJvb2xlYW46IGJvb2xlYW4sIG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICBzdHlsZTogeyBzdHJpbmc6IFsnbGluZScsICdiYXInLCAncG9pbnRzJ10gfSwgLy8gbGluZSwgYmFyCiAgICBiYXJDaGFydDogewogICAgICB3aWR0aDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICBzaWRlQnlTaWRlOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgYWxpZ246IHsgc3RyaW5nOiBbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J10gfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgfSwKICAgIGludGVycG9sYXRpb246IHsKICAgICAgZW5hYmxlZDogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIHBhcmFtZXRyaXphdGlvbjogeyBzdHJpbmc6IFsnY2VudHJpcGV0YWwnLCAnY2hvcmRhbCcsICd1bmlmb3JtJ10gfSwgLy8gdW5pZm9ybSAoYWxwaGEgPSAwLjApLCBjaG9yZGFsIChhbHBoYSA9IDEuMCksIGNlbnRyaXBldGFsIChhbHBoYSA9IDAuNSkKICAgICAgYWxwaGE6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIGJvb2xlYW46IGJvb2xlYW4gfQogICAgfSwKICAgIGRyYXdQb2ludHM6IHsKICAgICAgZW5hYmxlZDogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIHNpemU6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgc3R5bGU6IHsgc3RyaW5nOiBbJ3NxdWFyZScsICdjaXJjbGUnXSB9LCAvLyBzcXVhcmUsIGNpcmNsZQogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgYm9vbGVhbjogYm9vbGVhbiB9CiAgICB9LAogICAgZGF0YUF4aXM6IHsKICAgICAgc2hvd01pbm9yTGFiZWxzOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgc2hvd01ham9yTGFiZWxzOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgaWNvbnM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICB3aWR0aDogeyBzdHJpbmc6IHN0cmluZywgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgdmlzaWJsZTogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIGFsaWduWmVyb3M6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBsZWZ0OiB7CiAgICAgICAgcmFuZ2U6IHsgbWluOiB7IG51bWJlcjogbnVtYmVyIH0sIG1heDogeyBudW1iZXI6IG51bWJlciB9LCBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9IH0sCiAgICAgICAgZm9ybWF0OiB7ICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgICAgICB0aXRsZTogeyB0ZXh0OiB7IHN0cmluZzogc3RyaW5nLCBudW1iZXI6IG51bWJlciB9LCBzdHlsZTogeyBzdHJpbmc6IHN0cmluZyB9LCBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9IH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgICB9LAogICAgICByaWdodDogewogICAgICAgIHJhbmdlOiB7IG1pbjogeyBudW1iZXI6IG51bWJlciB9LCBtYXg6IHsgbnVtYmVyOiBudW1iZXIgfSwgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfSB9LAogICAgICAgIGZvcm1hdDogeyAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nIH0sCiAgICAgICAgdGl0bGU6IHsgdGV4dDogeyBzdHJpbmc6IHN0cmluZywgbnVtYmVyOiBudW1iZXIgfSwgc3R5bGU6IHsgc3RyaW5nOiBzdHJpbmcgfSwgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfSB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgICAgfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgfSwKICAgIGxlZ2VuZDogewogICAgICBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgaWNvbnM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBsZWZ0OiB7CiAgICAgICAgdmlzaWJsZTogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgICAgcG9zaXRpb246IHsgc3RyaW5nOiBbJ3RvcC1yaWdodCcsICdib3R0b20tcmlnaHQnLCAndG9wLWxlZnQnLCAnYm90dG9tLWxlZnQnXSB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgICAgfSwKICAgICAgcmlnaHQ6IHsKICAgICAgICB2aXNpYmxlOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgICBwb3NpdGlvbjogeyBzdHJpbmc6IFsndG9wLXJpZ2h0JywgJ2JvdHRvbS1yaWdodCcsICd0b3AtbGVmdCcsICdib3R0b20tbGVmdCddIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgICB9LAogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgYm9vbGVhbjogYm9vbGVhbiB9CiAgICB9LAogICAgZ3JvdXBzOiB7CiAgICAgIHZpc2liaWxpdHk6IHsgYW55OiBhbnkgfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgfSwKCiAgICBhdXRvUmVzaXplOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIGNsaWNrVG9Vc2U6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgZW5kOiB7IG51bWJlcjogbnVtYmVyLCBkYXRlOiBkYXRlLCBzdHJpbmc6IHN0cmluZywgbW9tZW50OiBtb21lbnQgfSwKICAgIGZvcm1hdDogewogICAgICBtaW5vckxhYmVsczogewogICAgICAgIG1pbGxpc2Vjb25kOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBzZWNvbmQ6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICAgIG1pbnV0ZTogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgaG91cjogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgd2Vla2RheTogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgZGF5OiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBtb250aDogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgeWVhcjogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgICB9LAogICAgICBtYWpvckxhYmVsczogewogICAgICAgIG1pbGxpc2Vjb25kOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBzZWNvbmQ6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICAgIG1pbnV0ZTogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgaG91cjogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgd2Vla2RheTogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgZGF5OiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgICBtb250aDogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgeWVhcjogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgICB9LAogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICB9LAogICAgaGVpZ2h0OiB7IHN0cmluZzogc3RyaW5nLCBudW1iZXI6IG51bWJlciB9LAogICAgaGlkZGVuRGF0ZXM6IHsgb2JqZWN0OiBvYmplY3QsIGFycmF5OiBhcnJheSB9LAogICAgbG9jYWxlOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICBsb2NhbGVzOiB7CiAgICAgIF9fYW55X186IHsgYW55OiBhbnkgfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgfSwKICAgIG1heDogeyBkYXRlOiBkYXRlLCBudW1iZXI6IG51bWJlciwgc3RyaW5nOiBzdHJpbmcsIG1vbWVudDogbW9tZW50IH0sCiAgICBtYXhIZWlnaHQ6IHsgbnVtYmVyOiBudW1iZXIsIHN0cmluZzogc3RyaW5nIH0sCiAgICBtaW46IHsgZGF0ZTogZGF0ZSwgbnVtYmVyOiBudW1iZXIsIHN0cmluZzogc3RyaW5nLCBtb21lbnQ6IG1vbWVudCB9LAogICAgbWluSGVpZ2h0OiB7IG51bWJlcjogbnVtYmVyLCBzdHJpbmc6IHN0cmluZyB9LAogICAgbW92ZWFibGU6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgbXVsdGlzZWxlY3Q6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgb3JpZW50YXRpb246IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgIHNob3dDdXJyZW50VGltZTogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICBzaG93TWFqb3JMYWJlbHM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgc2hvd01pbm9yTGFiZWxzOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHN0YXJ0OiB7IGRhdGU6IGRhdGUsIG51bWJlcjogbnVtYmVyLCBzdHJpbmc6IHN0cmluZywgbW9tZW50OiBtb21lbnQgfSwKICAgIHRpbWVBeGlzOiB7CiAgICAgIHNjYWxlOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgc3RlcDogeyBudW1iZXI6IG51bWJlciwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICB3aWR0aDogeyBzdHJpbmc6IHN0cmluZywgbnVtYmVyOiBudW1iZXIgfSwKICAgIHpvb21hYmxlOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIHpvb21NYXg6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgIHpvb21NaW46IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICB9OwoKICB2YXIgY29uZmlndXJlT3B0aW9ucyA9IHsKICAgIGdsb2JhbDogewogICAgICAvL3lBeGlzT3JpZW50YXRpb246IFsnbGVmdCcsJ3JpZ2h0J10sIC8vIFRET086IGVuYWJsZSBhcyBzb29uIGFzIEdyYWhwMmQgZG9lc24ndCBjcmFzaCB3aGVuIGNoYW5naW5nIHRoaXMgb24gdGhlIGZseQogICAgICBzb3J0OiB0cnVlLAogICAgICBzYW1wbGluZzogdHJ1ZSwKICAgICAgc3RhY2s6IGZhbHNlLAogICAgICBzaGFkZWQ6IHsKICAgICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgICBvcmllbnRhdGlvbjogWyd0b3AnLCAnYm90dG9tJ10gLy8gdG9wLCBib3R0b20KICAgICAgfSwKICAgICAgc3R5bGU6IFsnbGluZScsICdiYXInLCAncG9pbnRzJ10sIC8vIGxpbmUsIGJhcgogICAgICBiYXJDaGFydDogewogICAgICAgIHdpZHRoOiBbNTAsIDUsIDEwMCwgNV0sCiAgICAgICAgc2lkZUJ5U2lkZTogZmFsc2UsCiAgICAgICAgYWxpZ246IFsnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnXSAvLyBsZWZ0LCBjZW50ZXIsIHJpZ2h0CiAgICAgIH0sCiAgICAgIGludGVycG9sYXRpb246IHsKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHBhcmFtZXRyaXphdGlvbjogWydjZW50cmlwZXRhbCcsICdjaG9yZGFsJywgJ3VuaWZvcm0nXSAvLyB1bmlmb3JtIChhbHBoYSA9IDAuMCksIGNob3JkYWwgKGFscGhhID0gMS4wKSwgY2VudHJpcGV0YWwgKGFscGhhID0gMC41KQogICAgICB9LAogICAgICBkcmF3UG9pbnRzOiB7CiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBzaXplOiBbNiwgMiwgMzAsIDFdLAogICAgICAgIHN0eWxlOiBbJ3NxdWFyZScsICdjaXJjbGUnXSAvLyBzcXVhcmUsIGNpcmNsZQogICAgICB9LAogICAgICBkYXRhQXhpczogewogICAgICAgIHNob3dNaW5vckxhYmVsczogdHJ1ZSwKICAgICAgICBzaG93TWFqb3JMYWJlbHM6IHRydWUsCiAgICAgICAgaWNvbnM6IGZhbHNlLAogICAgICAgIHdpZHRoOiBbNDAsIDAsIDIwMCwgMV0sCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBhbGlnblplcm9zOiB0cnVlLAogICAgICAgIGxlZnQ6IHsKICAgICAgICAgIC8vcmFuZ2U6IHttaW46J3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnaW5lZCxtYXg6J3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnaW5lZH0sCiAgICAgICAgICAvL2Zvcm1hdDogZnVuY3Rpb24gKHZhbHVlKSB7cmV0dXJuIHZhbHVlO30sCiAgICAgICAgICB0aXRsZTogeyB0ZXh0OiAnJywgc3R5bGU6ICcnIH0KICAgICAgICB9LAogICAgICAgIHJpZ2h0OiB7CiAgICAgICAgICAvL3JhbmdlOiB7bWluOid1bmRlZmluZWQnOiAndW5kZWZpbmVkJ2luZWQsbWF4Oid1bmRlZmluZWQnOiAndW5kZWZpbmVkJ2luZWR9LAogICAgICAgICAgLy9mb3JtYXQ6IGZ1bmN0aW9uICh2YWx1ZSkge3JldHVybiB2YWx1ZTt9LAogICAgICAgICAgdGl0bGU6IHsgdGV4dDogJycsIHN0eWxlOiAnJyB9CiAgICAgICAgfQogICAgICB9LAogICAgICBsZWdlbmQ6IHsKICAgICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgICBpY29uczogdHJ1ZSwKICAgICAgICBsZWZ0OiB7CiAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgcG9zaXRpb246IFsndG9wLXJpZ2h0JywgJ2JvdHRvbS1yaWdodCcsICd0b3AtbGVmdCcsICdib3R0b20tbGVmdCddIC8vIHRvcC9ib3R0b20gLSBsZWZ0LHJpZ2h0CiAgICAgICAgfSwKICAgICAgICByaWdodDogewogICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiBbJ3RvcC1yaWdodCcsICdib3R0b20tcmlnaHQnLCAndG9wLWxlZnQnLCAnYm90dG9tLWxlZnQnXSAvLyB0b3AvYm90dG9tIC0gbGVmdCxyaWdodAogICAgICAgIH0KICAgICAgfSwKCiAgICAgIGF1dG9SZXNpemU6IHRydWUsCiAgICAgIGNsaWNrVG9Vc2U6IGZhbHNlLAogICAgICBlbmQ6ICcnLAogICAgICBmb3JtYXQ6IHsKICAgICAgICBtaW5vckxhYmVsczogewogICAgICAgICAgbWlsbGlzZWNvbmQ6ICdTU1MnLAogICAgICAgICAgc2Vjb25kOiAncycsCiAgICAgICAgICBtaW51dGU6ICdISDptbScsCiAgICAgICAgICBob3VyOiAnSEg6bW0nLAogICAgICAgICAgd2Vla2RheTogJ2RkZCBEJywKICAgICAgICAgIGRheTogJ0QnLAogICAgICAgICAgbW9udGg6ICdNTU0nLAogICAgICAgICAgeWVhcjogJ1lZWVknCiAgICAgICAgfSwKICAgICAgICBtYWpvckxhYmVsczogewogICAgICAgICAgbWlsbGlzZWNvbmQ6ICdISDptbTpzcycsCiAgICAgICAgICBzZWNvbmQ6ICdEIE1NTU0gSEg6bW0nLAogICAgICAgICAgbWludXRlOiAnZGRkIEQgTU1NTScsCiAgICAgICAgICBob3VyOiAnZGRkIEQgTU1NTScsCiAgICAgICAgICB3ZWVrZGF5OiAnTU1NTSBZWVlZJywKICAgICAgICAgIGRheTogJ01NTU0gWVlZWScsCiAgICAgICAgICBtb250aDogJ1lZWVknLAogICAgICAgICAgeWVhcjogJycKICAgICAgICB9CiAgICAgIH0sCgogICAgICBoZWlnaHQ6ICcnLAogICAgICBsb2NhbGU6ICcnLAogICAgICBtYXg6ICcnLAogICAgICBtYXhIZWlnaHQ6ICcnLAogICAgICBtaW46ICcnLAogICAgICBtaW5IZWlnaHQ6ICcnLAogICAgICBtb3ZlYWJsZTogdHJ1ZSwKICAgICAgb3JpZW50YXRpb246IFsnYm90aCcsICdib3R0b20nLCAndG9wJ10sCiAgICAgIHNob3dDdXJyZW50VGltZTogZmFsc2UsCiAgICAgIHNob3dNYWpvckxhYmVsczogdHJ1ZSwKICAgICAgc2hvd01pbm9yTGFiZWxzOiB0cnVlLAogICAgICBzdGFydDogJycsCiAgICAgIHdpZHRoOiAnMTAwJScsCiAgICAgIHpvb21hYmxlOiB0cnVlLAogICAgICB6b29tTWF4OiBbMzE1MzYwMDAwMDAwMDAwLCAxMCwgMzE1MzYwMDAwMDAwMDAwLCAxXSwKICAgICAgem9vbU1pbjogWzEwLCAxMCwgMzE1MzYwMDAwMDAwMDAwLCAxXQogICAgfQogIH07CgogIGV4cG9ydHMuYWxsT3B0aW9ucyA9IGFsbE9wdGlvbnM7CiAgZXhwb3J0cy5jb25maWd1cmVPcHRpb25zID0gY29uZmlndXJlT3B0aW9uczsKCi8qKiovIH0sCi8qIDU5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAvLyBMb2FkIGN1c3RvbSBzaGFwZXMgaW50byBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQKICAndXNlIHN0cmljdCc7CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgdmFyIF9tb2R1bGVzR3JvdXBzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7CgogIHZhciBfbW9kdWxlc0dyb3VwczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2R1bGVzR3JvdXBzKTsKCiAgdmFyIF9tb2R1bGVzTm9kZXNIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7CgogIHZhciBfbW9kdWxlc05vZGVzSGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2R1bGVzTm9kZXNIYW5kbGVyKTsKCiAgdmFyIF9tb2R1bGVzRWRnZXNIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7CgogIHZhciBfbW9kdWxlc0VkZ2VzSGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2R1bGVzRWRnZXNIYW5kbGVyKTsKCiAgdmFyIF9tb2R1bGVzUGh5c2ljc0VuZ2luZSA9IF9fd2VicGFja19yZXF1aXJlX18oODgpOwoKICB2YXIgX21vZHVsZXNQaHlzaWNzRW5naW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vZHVsZXNQaHlzaWNzRW5naW5lKTsKCiAgdmFyIF9tb2R1bGVzQ2x1c3RlcmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpOwoKICB2YXIgX21vZHVsZXNDbHVzdGVyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vZHVsZXNDbHVzdGVyaW5nKTsKCiAgdmFyIF9tb2R1bGVzQ2FudmFzUmVuZGVyZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTsKCiAgdmFyIF9tb2R1bGVzQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9kdWxlc0NhbnZhc1JlbmRlcmVyKTsKCiAgdmFyIF9tb2R1bGVzQ2FudmFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApOwoKICB2YXIgX21vZHVsZXNDYW52YXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9kdWxlc0NhbnZhcyk7CgogIHZhciBfbW9kdWxlc1ZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7CgogIHZhciBfbW9kdWxlc1ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9kdWxlc1ZpZXcpOwoKICB2YXIgX21vZHVsZXNJbnRlcmFjdGlvbkhhbmRsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMik7CgogIHZhciBfbW9kdWxlc0ludGVyYWN0aW9uSGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2R1bGVzSW50ZXJhY3Rpb25IYW5kbGVyKTsKCiAgdmFyIF9tb2R1bGVzU2VsZWN0aW9uSGFuZGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTA1KTsKCiAgdmFyIF9tb2R1bGVzU2VsZWN0aW9uSGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2R1bGVzU2VsZWN0aW9uSGFuZGxlcik7CgogIHZhciBfbW9kdWxlc0xheW91dEVuZ2luZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTsKCiAgdmFyIF9tb2R1bGVzTGF5b3V0RW5naW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vZHVsZXNMYXlvdXRFbmdpbmUpOwoKICB2YXIgX21vZHVsZXNNYW5pcHVsYXRpb25TeXN0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7CgogIHZhciBfbW9kdWxlc01hbmlwdWxhdGlvblN5c3RlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2R1bGVzTWFuaXB1bGF0aW9uU3lzdGVtKTsKCiAgdmFyIF9zaGFyZWRDb25maWd1cmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTsKCiAgdmFyIF9zaGFyZWRDb25maWd1cmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhcmVkQ29uZmlndXJhdG9yKTsKCiAgdmFyIF9zaGFyZWRWYWxpZGF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTsKCiAgdmFyIF9zaGFyZWRWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhcmVkVmFsaWRhdG9yKTsKCiAgdmFyIF9vcHRpb25zSnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7CgogIF9fd2VicGFja19yZXF1aXJlX18oMTA5KTsKCiAgdmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTsKICB2YXIgSGFtbWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7CiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogIHZhciBEYXRhU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKICB2YXIgRGF0YVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKICB2YXIgZG90cGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApOwogIHZhciBnZXBoaVBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKTsKICB2YXIgSW1hZ2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpOwogIHZhciBBY3RpdmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTsKICB2YXIgbG9jYWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTsKCiAgLyoqCiAgICogQGNvbnN0cnVjdG9yIE5ldHdvcmsKICAgKiBDcmVhdGUgYSBuZXR3b3JrIHZpc3VhbGl6YXRpb24sIGRpc3BsYXlpbmcgbm9kZXMgYW5kIGVkZ2VzLgogICAqCiAgICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXIgICBUaGUgRE9NIGVsZW1lbnQgaW4gd2hpY2ggdGhlIE5ldHdvcmsgd2lsbAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGNyZWF0ZWQuIE5vcm1hbGx5IGEgZGl2IGVsZW1lbnQuCiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJzCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QXJyYXl9IG5vZGVzCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QXJyYXl9IGVkZ2VzCiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAgICBPcHRpb25zCiAgICovCiAgZnVuY3Rpb24gTmV0d29yayhjb250YWluZXIsIGRhdGEsIG9wdGlvbnMpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE5ldHdvcmspKSB7CiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7CiAgICB9CgogICAgLy8gc2V0IGNvbnN0YW50IHZhbHVlcwogICAgdGhpcy5vcHRpb25zID0ge307CiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICBsb2NhbGU6ICdlbicsCiAgICAgIGxvY2FsZXM6IGxvY2FsZXMsCiAgICAgIGNsaWNrVG9Vc2U6IGZhbHNlCiAgICB9OwogICAgdXRpbC5leHRlbmQodGhpcy5vcHRpb25zLCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKCiAgICAvLyBjb250YWluZXJzIGZvciBub2RlcyBhbmQgZWRnZXMKICAgIHRoaXMuYm9keSA9IHsKICAgICAgY29udGFpbmVyOiBjb250YWluZXIsCiAgICAgIG5vZGVzOiB7fSwKICAgICAgbm9kZUluZGljZXM6IFtdLAogICAgICBlZGdlczoge30sCiAgICAgIGVkZ2VJbmRpY2VzOiBbXSwKICAgICAgZW1pdHRlcjogewogICAgICAgIG9uOiB0aGlzLm9uLmJpbmQodGhpcyksCiAgICAgICAgb2ZmOiB0aGlzLm9mZi5iaW5kKHRoaXMpLAogICAgICAgIGVtaXQ6IHRoaXMuZW1pdC5iaW5kKHRoaXMpLAogICAgICAgIG9uY2U6IHRoaXMub25jZS5iaW5kKHRoaXMpCiAgICAgIH0sCiAgICAgIGV2ZW50TGlzdGVuZXJzOiB7CiAgICAgICAgb25UYXA6IGZ1bmN0aW9uIG9uVGFwKCkge30sCiAgICAgICAgb25Ub3VjaDogZnVuY3Rpb24gb25Ub3VjaCgpIHt9LAogICAgICAgIG9uRG91YmxlVGFwOiBmdW5jdGlvbiBvbkRvdWJsZVRhcCgpIHt9LAogICAgICAgIG9uSG9sZDogZnVuY3Rpb24gb25Ib2xkKCkge30sCiAgICAgICAgb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KCkge30sCiAgICAgICAgb25EcmFnOiBmdW5jdGlvbiBvbkRyYWcoKSB7fSwKICAgICAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIG9uRHJhZ0VuZCgpIHt9LAogICAgICAgIG9uTW91c2VXaGVlbDogZnVuY3Rpb24gb25Nb3VzZVdoZWVsKCkge30sCiAgICAgICAgb25QaW5jaDogZnVuY3Rpb24gb25QaW5jaCgpIHt9LAogICAgICAgIG9uTW91c2VNb3ZlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZSgpIHt9LAogICAgICAgIG9uUmVsZWFzZTogZnVuY3Rpb24gb25SZWxlYXNlKCkge30sCiAgICAgICAgb25Db250ZXh0OiBmdW5jdGlvbiBvbkNvbnRleHQoKSB7fQogICAgICB9LAogICAgICBkYXRhOiB7CiAgICAgICAgbm9kZXM6IG51bGwsIC8vIEEgRGF0YVNldCBvciBEYXRhVmlldwogICAgICAgIGVkZ2VzOiBudWxsIC8vIEEgRGF0YVNldCBvciBEYXRhVmlldwogICAgICB9LAogICAgICBmdW5jdGlvbnM6IHsKICAgICAgICBjcmVhdGVOb2RlOiBmdW5jdGlvbiBjcmVhdGVOb2RlKCkge30sCiAgICAgICAgY3JlYXRlRWRnZTogZnVuY3Rpb24gY3JlYXRlRWRnZSgpIHt9LAogICAgICAgIGdldFBvaW50ZXI6IGZ1bmN0aW9uIGdldFBvaW50ZXIoKSB7fQogICAgICB9LAogICAgICB2aWV3OiB7CiAgICAgICAgc2NhbGU6IDEsCiAgICAgICAgdHJhbnNsYXRpb246IHsgeDogMCwgeTogMCB9CiAgICAgIH0KICAgIH07CgogICAgLy8gYmluZCB0aGUgZXZlbnQgbGlzdGVuZXJzCiAgICB0aGlzLmJpbmRFdmVudExpc3RlbmVycygpOwoKICAgIC8vIHNldHRpbmcgdXAgYWxsIG1vZHVsZXMKICAgIHRoaXMuaW1hZ2VzID0gbmV3IEltYWdlcyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlcXVlc3RSZWRyYXcnKTsKICAgIH0pOyAvLyBvYmplY3Qgd2l0aCBpbWFnZXMKICAgIHRoaXMuZ3JvdXBzID0gbmV3IF9tb2R1bGVzR3JvdXBzMlsnZGVmYXVsdCddKCk7IC8vIG9iamVjdCB3aXRoIGdyb3VwcwogICAgdGhpcy5jYW52YXMgPSBuZXcgX21vZHVsZXNDYW52YXMyWydkZWZhdWx0J10odGhpcy5ib2R5KTsgLy8gRE9NIGhhbmRsZXIKICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlciA9IG5ldyBfbW9kdWxlc1NlbGVjdGlvbkhhbmRsZXIyWydkZWZhdWx0J10odGhpcy5ib2R5LCB0aGlzLmNhbnZhcyk7IC8vIFNlbGVjdGlvbiBoYW5kbGVyCiAgICB0aGlzLmludGVyYWN0aW9uSGFuZGxlciA9IG5ldyBfbW9kdWxlc0ludGVyYWN0aW9uSGFuZGxlcjJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMuY2FudmFzLCB0aGlzLnNlbGVjdGlvbkhhbmRsZXIpOyAvLyBJbnRlcmFjdGlvbiBoYW5kbGVyIGhhbmRsZXMgYWxsIHRoZSBoYW1tZXIgYmluZGluZ3MgKHRoYXQgYXJlIGJvdW5kIGJ5IGNhbnZhcyksIGtleQogICAgdGhpcy52aWV3ID0gbmV3IF9tb2R1bGVzVmlldzJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMuY2FudmFzKTsgLy8gY2FtZXJhIGhhbmRsZXIsIGRvZXMgYW5pbWF0aW9ucyBhbmQgem9vbXMKICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgX21vZHVsZXNDYW52YXNSZW5kZXJlcjJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMuY2FudmFzKTsgLy8gcmVuZGVyZXIsIHN0YXJ0cyByZW5kZXJsb29wLCBoYXMgZXZlbnRzIHRoYXQgbW9kdWxlcyBjYW4gaG9vayBpbnRvCiAgICB0aGlzLnBoeXNpY3MgPSBuZXcgX21vZHVsZXNQaHlzaWNzRW5naW5lMlsnZGVmYXVsdCddKHRoaXMuYm9keSk7IC8vIHBoeXNpY3MgZW5naW5lLCBkb2VzIGFsbCB0aGUgc2ltdWxhdGlvbnMKICAgIHRoaXMubGF5b3V0RW5naW5lID0gbmV3IF9tb2R1bGVzTGF5b3V0RW5naW5lMlsnZGVmYXVsdCddKHRoaXMuYm9keSk7IC8vIGxheW91dCBlbmdpbmUgZm9yIGluaXRhbCBsYXlvdXQgYW5kIGhpZXJhcmNoaWNhbCBsYXlvdXQKICAgIHRoaXMuY2x1c3RlcmluZyA9IG5ldyBfbW9kdWxlc0NsdXN0ZXJpbmcyWydkZWZhdWx0J10odGhpcy5ib2R5KTsgLy8gY2x1c3RlcmluZyBhcGkKICAgIHRoaXMubWFuaXB1bGF0aW9uID0gbmV3IF9tb2R1bGVzTWFuaXB1bGF0aW9uU3lzdGVtMlsnZGVmYXVsdCddKHRoaXMuYm9keSwgdGhpcy5jYW52YXMsIHRoaXMuc2VsZWN0aW9uSGFuZGxlcik7IC8vIGRhdGEgbWFuaXB1bGF0aW9uIHN5c3RlbQoKICAgIHRoaXMubm9kZXNIYW5kbGVyID0gbmV3IF9tb2R1bGVzTm9kZXNIYW5kbGVyMlsnZGVmYXVsdCddKHRoaXMuYm9keSwgdGhpcy5pbWFnZXMsIHRoaXMuZ3JvdXBzLCB0aGlzLmxheW91dEVuZ2luZSk7IC8vIEhhbmRsZSBhZGRpbmcsIGRlbGV0aW5nIGFuZCB1cGRhdGluZyBvZiBub2RlcyBhcyB3ZWxsIGFzIGdsb2JhbCBvcHRpb25zCiAgICB0aGlzLmVkZ2VzSGFuZGxlciA9IG5ldyBfbW9kdWxlc0VkZ2VzSGFuZGxlcjJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMuaW1hZ2VzLCB0aGlzLmdyb3Vwcyk7IC8vIEhhbmRsZSBhZGRpbmcsIGRlbGV0aW5nIGFuZCB1cGRhdGluZyBvZiBlZGdlcyBhcyB3ZWxsIGFzIGdsb2JhbCBvcHRpb25zCgogICAgLy8gY3JlYXRlIHRoZSBET00gZWxlbWVudHMKICAgIHRoaXMuY2FudmFzLl9jcmVhdGUoKTsKCiAgICAvLyBhcHBseSBvcHRpb25zCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CgogICAgLy8gbG9hZCBkYXRhICh0aGUgZGlzYWJsZSBzdGFydCB2YXJpYWJsZSB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSBlbmFibGVkIGNsdXN0ZXJpbmcpCiAgICB0aGlzLnNldERhdGEoZGF0YSk7CiAgfQoKICAvLyBFeHRlbmQgTmV0d29yayB3aXRoIGFuIEVtaXR0ZXIgbWl4aW4KICBFbWl0dGVyKE5ldHdvcmsucHJvdG90eXBlKTsKCiAgLyoqCiAgICogU2V0IG9wdGlvbnMKICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucwogICAqLwogIE5ldHdvcmsucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewoKICAgICAgdmFyIGVycm9yRm91bmQgPSBfc2hhcmVkVmFsaWRhdG9yMlsnZGVmYXVsdCddLnZhbGlkYXRlKG9wdGlvbnMsIF9vcHRpb25zSnMuYWxsT3B0aW9ucyk7CiAgICAgIGlmIChlcnJvckZvdW5kID09PSB0cnVlKSB7CiAgICAgICAgY29uc29sZS5sb2coJyVjRXJyb3JzIGhhdmUgYmVlbiBmb3VuZCBpbiB0aGUgc3VwcGxpZWQgb3B0aW9ucyBvYmplY3QuJywgX3NoYXJlZFZhbGlkYXRvci5wcmludFN0eWxlKTsKICAgICAgfQoKICAgICAgLy8gY29weSB0aGUgZ2xvYmFsIGZpZWxkcyBvdmVyCiAgICAgIHZhciBmaWVsZHMgPSBbJ2xvY2FsZScsICdsb2NhbGVzJywgJ2NsaWNrVG9Vc2UnXTsKICAgICAgdXRpbC5zZWxlY3RpdmVEZWVwRXh0ZW5kKGZpZWxkcywgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKCiAgICAgIC8vIHRoZSBoaWVyYXJjaGljYWwgc3lzdGVtIGNhbiBhZGFwdCB0aGUgZWRnZXMgYW5kIHRoZSBwaHlzaWNzIHRvIGl0J3Mgb3duIG9wdGlvbnMgYmVjYXVzZSBub3QgYWxsIGNvbWJpbmF0aW9ucyB3b3JrIHdpdGggdGhlIGhpZXJhcmljaGljYWwgc3lzdGVtLgogICAgICBvcHRpb25zID0gdGhpcy5sYXlvdXRFbmdpbmUuc2V0T3B0aW9ucyhvcHRpb25zLmxheW91dCwgb3B0aW9ucyk7CgogICAgICB0aGlzLmNhbnZhcy5zZXRPcHRpb25zKG9wdGlvbnMpOyAvLyBvcHRpb25zIGZvciBjYW52YXMgYXJlIGluIGdsb2JhbHMKCiAgICAgIC8vIHBhc3MgdGhlIG9wdGlvbnMgdG8gdGhlIG1vZHVsZXMKICAgICAgdGhpcy5ncm91cHMuc2V0T3B0aW9ucyhvcHRpb25zLmdyb3Vwcyk7CiAgICAgIHRoaXMubm9kZXNIYW5kbGVyLnNldE9wdGlvbnMob3B0aW9ucy5ub2Rlcyk7CiAgICAgIHRoaXMuZWRnZXNIYW5kbGVyLnNldE9wdGlvbnMob3B0aW9ucy5lZGdlcyk7CiAgICAgIHRoaXMucGh5c2ljcy5zZXRPcHRpb25zKG9wdGlvbnMucGh5c2ljcyk7CiAgICAgIHRoaXMubWFuaXB1bGF0aW9uLnNldE9wdGlvbnMob3B0aW9ucy5tYW5pcHVsYXRpb24sIG9wdGlvbnMsIHRoaXMub3B0aW9ucyk7IC8vIG1hbmlwdWxhdGlvbiB1c2VzIHRoZSBsb2NhbGVzIGluIHRoZSBnbG9iYWxzCgogICAgICB0aGlzLmludGVyYWN0aW9uSGFuZGxlci5zZXRPcHRpb25zKG9wdGlvbnMuaW50ZXJhY3Rpb24pOwogICAgICB0aGlzLnJlbmRlcmVyLnNldE9wdGlvbnMob3B0aW9ucy5pbnRlcmFjdGlvbik7IC8vIG9wdGlvbnMgZm9yIHJlbmRlcmluZyBhcmUgaW4gaW50ZXJhY3Rpb24KICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNldE9wdGlvbnMob3B0aW9ucy5pbnRlcmFjdGlvbik7IC8vIG9wdGlvbnMgZm9yIHNlbGVjdGlvbiBhcmUgaW4gaW50ZXJhY3Rpb24KCiAgICAgIC8vIHJlbG9hZCB0aGUgc2V0dGluZ3Mgb2YgdGhlIG5vZGVzIHRvIGFwcGx5IGNoYW5nZXMgaW4gZ3JvdXBzIHRoYXQgYXJlIG5vdCByZWZlcmVuY2VkIGJ5IHBvaW50ZXIuCiAgICAgIGlmIChvcHRpb25zLmdyb3VwcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgncmVmcmVzaE5vZGVzJyk7CiAgICAgIH0KICAgICAgLy8gdGhlc2UgdHdvIGRvIG5vdCBoYXZlIG9wdGlvbnMgYXQgdGhlIG1vbWVudCwgaGVyZSBmb3IgY29tcGxldGVuZXNzCiAgICAgIC8vdGhpcy52aWV3LnNldE9wdGlvbnMob3B0aW9ucy52aWV3KTsKICAgICAgLy90aGlzLmNsdXN0ZXJpbmcuc2V0T3B0aW9ucyhvcHRpb25zLmNsdXN0ZXJpbmcpOwoKICAgICAgaWYgKCdjb25maWd1cmUnIGluIG9wdGlvbnMpIHsKICAgICAgICBpZiAoIXRoaXMuY29uZmlndXJhdG9yKSB7CiAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRvciA9IG5ldyBfc2hhcmVkQ29uZmlndXJhdG9yMlsnZGVmYXVsdCddKHRoaXMsIHRoaXMuYm9keS5jb250YWluZXIsIF9vcHRpb25zSnMuY29uZmlndXJlT3B0aW9ucywgdGhpcy5jYW52YXMucGl4ZWxSYXRpbyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNvbmZpZ3VyYXRvci5zZXRPcHRpb25zKG9wdGlvbnMuY29uZmlndXJlKTsKICAgICAgfQoKICAgICAgLy8gaWYgdGhlIGNvbmZpZ3VyYXRpb24gc3lzdGVtIGlzIGVuYWJsZWQsIGNvcHkgYWxsIG9wdGlvbnMgYW5kIHB1dCB0aGVtIGludG8gdGhlIGNvbmZpZyBzeXN0ZW0KICAgICAgaWYgKHRoaXMuY29uZmlndXJhdG9yICYmIHRoaXMuY29uZmlndXJhdG9yLm9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgIHZhciBuZXR3b3JrT3B0aW9ucyA9IHsgbm9kZXM6IHt9LCBlZGdlczoge30sIGxheW91dDoge30sIGludGVyYWN0aW9uOiB7fSwgbWFuaXB1bGF0aW9uOiB7fSwgcGh5c2ljczoge30sIGdsb2JhbDoge30gfTsKICAgICAgICB1dGlsLmRlZXBFeHRlbmQobmV0d29ya09wdGlvbnMubm9kZXMsIHRoaXMubm9kZXNIYW5kbGVyLm9wdGlvbnMpOwogICAgICAgIHV0aWwuZGVlcEV4dGVuZChuZXR3b3JrT3B0aW9ucy5lZGdlcywgdGhpcy5lZGdlc0hhbmRsZXIub3B0aW9ucyk7CiAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKG5ldHdvcmtPcHRpb25zLmxheW91dCwgdGhpcy5sYXlvdXRFbmdpbmUub3B0aW9ucyk7CiAgICAgICAgLy8gbG9hZCB0aGUgc2VsZWN0aW9uSGFuZGxlciBhbmQgcmVuZGVyIGRlZmF1bHQgb3B0aW9ucyBpbiB0byB0aGUgaW50ZXJhY3Rpb24gZ3JvdXAKICAgICAgICB1dGlsLmRlZXBFeHRlbmQobmV0d29ya09wdGlvbnMuaW50ZXJhY3Rpb24sIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5vcHRpb25zKTsKICAgICAgICB1dGlsLmRlZXBFeHRlbmQobmV0d29ya09wdGlvbnMuaW50ZXJhY3Rpb24sIHRoaXMucmVuZGVyZXIub3B0aW9ucyk7CgogICAgICAgIHV0aWwuZGVlcEV4dGVuZChuZXR3b3JrT3B0aW9ucy5pbnRlcmFjdGlvbiwgdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIub3B0aW9ucyk7CiAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKG5ldHdvcmtPcHRpb25zLm1hbmlwdWxhdGlvbiwgdGhpcy5tYW5pcHVsYXRpb24ub3B0aW9ucyk7CiAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKG5ldHdvcmtPcHRpb25zLnBoeXNpY3MsIHRoaXMucGh5c2ljcy5vcHRpb25zKTsKCiAgICAgICAgLy8gbG9hZCBnbG9iYWxzIGludG8gdGhlIGdsb2JhbCBvYmplY3QKICAgICAgICB1dGlsLmRlZXBFeHRlbmQobmV0d29ya09wdGlvbnMuZ2xvYmFsLCB0aGlzLmNhbnZhcy5vcHRpb25zKTsKICAgICAgICB1dGlsLmRlZXBFeHRlbmQobmV0d29ya09wdGlvbnMuZ2xvYmFsLCB0aGlzLm9wdGlvbnMpOwoKICAgICAgICB0aGlzLmNvbmZpZ3VyYXRvci5zZXRNb2R1bGVPcHRpb25zKG5ldHdvcmtPcHRpb25zKTsKICAgICAgfQoKICAgICAgLy8gaGFuZGxlIG5ldHdvcmsgZ2xvYmFsIG9wdGlvbnMKICAgICAgaWYgKG9wdGlvbnMuY2xpY2tUb1VzZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKG9wdGlvbnMuY2xpY2tUb1VzZSA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHRoaXMuYWN0aXZhdG9yID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdGhpcy5hY3RpdmF0b3IgPSBuZXcgQWN0aXZhdG9yKHRoaXMuY2FudmFzLmZyYW1lKTsKICAgICAgICAgICAgdGhpcy5hY3RpdmF0b3Iub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIuYm9keS5lbWl0dGVyLmVtaXQoJ2FjdGl2YXRlJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5hY3RpdmF0b3IgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLmFjdGl2YXRvci5kZXN0cm95KCk7CiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2YXRvcjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2FjdGl2YXRlJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2FjdGl2YXRlJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FudmFzLnNldFNpemUoKTsKICAgICAgLy8gc3RhcnQgdGhlIHBoeXNpY3Mgc2ltdWxhdGlvbi4gQ2FuIGJlIHNhZmVseSBjYWxsZWQgbXVsdGlwbGUgdGltZXMuCiAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3N0YXJ0U2ltdWxhdGlvbicpOwogICAgfQogIH07CgogIC8qKgogICAqIFVwZGF0ZSB0aGUgdGhpcy5ib2R5Lm5vZGVJbmRpY2VzIHdpdGggdGhlIG1vc3QgcmVjZW50IG5vZGUgaW5kZXggbGlzdAogICAqIEBwcml2YXRlCiAgICovCiAgTmV0d29yay5wcm90b3R5cGUuX3VwZGF0ZVZpc2libGVJbmRpY2VzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG5vZGVzID0gdGhpcy5ib2R5Lm5vZGVzOwogICAgdmFyIGVkZ2VzID0gdGhpcy5ib2R5LmVkZ2VzOwogICAgdGhpcy5ib2R5Lm5vZGVJbmRpY2VzID0gW107CiAgICB0aGlzLmJvZHkuZWRnZUluZGljZXMgPSBbXTsKCiAgICBmb3IgKHZhciBub2RlSWQgaW4gbm9kZXMpIHsKICAgICAgaWYgKG5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICBpZiAobm9kZXNbbm9kZUlkXS5vcHRpb25zLmhpZGRlbiA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuYm9keS5ub2RlSW5kaWNlcy5wdXNoKG5vZGVJZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZm9yICh2YXIgZWRnZUlkIGluIGVkZ2VzKSB7CiAgICAgIGlmIChlZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgaWYgKGVkZ2VzW2VkZ2VJZF0ub3B0aW9ucy5oaWRkZW4gPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLmJvZHkuZWRnZUluZGljZXMucHVzaChlZGdlSWQpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIEJpbmQgYWxsIGV2ZW50cwogICAqLwogIE5ldHdvcmsucHJvdG90eXBlLmJpbmRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIC8vIHRoaXMgZXZlbnQgd2lsbCB0cmlnZ2VyIGEgcmVidWlsZGluZyBvZiB0aGUgY2FjaGUgZXZlcnl0aGluZy4gVXNlZCB3aGVuIG5vZGVzIG9yIGVkZ2VzIGhhdmUgYmVlbiBhZGRlZCBvciByZW1vdmVkLgogICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ19kYXRhQ2hhbmdlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gdXBkYXRlIHNob3J0Y3V0IGxpc3RzCiAgICAgIF90aGlzMy5fdXBkYXRlVmlzaWJsZUluZGljZXMoKTsKICAgICAgX3RoaXMzLnBoeXNpY3MudXBkYXRlUGh5c2ljc0RhdGEoKTsKICAgICAgX3RoaXMzLmJvZHkuZW1pdHRlci5lbWl0KCdfcmVxdWVzdFJlZHJhdycpOwogICAgICAvLyBjYWxsIHRoZSBkYXRhVXBkYXRlZCBldmVudCBiZWNhdXNlIHRoZSBvbmx5IGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIGlzIHRoZSB1cGRhdGluZyBvZiB0aGUgaW5kaWNlcwogICAgICBfdGhpczMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhVXBkYXRlZCcpOwogICAgfSk7CgogICAgLy8gdGhpcyBpcyBjYWxsZWQgd2hlbiBvcHRpb25zIG9mIEVYSVNUSU5HIG5vZGVzIG9yIGVkZ2VzIGhhdmUgY2hhbmdlZC4KICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdfZGF0YVVwZGF0ZWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIHVwZGF0ZSB2YWx1ZXMKICAgICAgX3RoaXMzLl91cGRhdGVWYWx1ZVJhbmdlKF90aGlzMy5ib2R5Lm5vZGVzKTsKICAgICAgX3RoaXMzLl91cGRhdGVWYWx1ZVJhbmdlKF90aGlzMy5ib2R5LmVkZ2VzKTsKICAgICAgLy8gc3RhcnQgc2ltdWxhdGlvbiAoY2FuIGJlIGNhbGxlZCBzYWZlbHksIGV2ZW4gaWYgYWxyZWFkeSBydW5uaW5nKQogICAgICBfdGhpczMuYm9keS5lbWl0dGVyLmVtaXQoJ3N0YXJ0U2ltdWxhdGlvbicpOwogICAgICBfdGhpczMuYm9keS5lbWl0dGVyLmVtaXQoJ19yZXF1ZXN0UmVkcmF3Jyk7CiAgICB9KTsKICB9OwoKICAvKioKICAgKiBTZXQgbm9kZXMgYW5kIGVkZ2VzLCBhbmQgb3B0aW9uYWxseSBvcHRpb25zIGFzIHdlbGwuCiAgICoKICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAgICAgICAgICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyczoKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0FycmF5IHwgRGF0YVNldCB8IERhdGFWaWV3fSBbbm9kZXNdIEFycmF5IHdpdGggbm9kZXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0FycmF5IHwgRGF0YVNldCB8IERhdGFWaWV3fSBbZWRnZXNdIEFycmF5IHdpdGggZWRnZXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZ30gW2RvdF0gU3RyaW5nIGNvbnRhaW5pbmcgZGF0YSBpbiBET1QgZm9ybWF0CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmd9IFtnZXBoaV0gU3RyaW5nIGNvbnRhaW5pbmcgZGF0YSBpbiBnZXBoaSBKU09OIGZvcm1hdAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T3B0aW9uc30gW29wdGlvbnNdIE9iamVjdCB3aXRoIG9wdGlvbnMKICAgKi8KICBOZXR3b3JrLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgIC8vIHJlc2V0IHRoZSBwaHlzaWNzIGVuZ2luZS4KICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3Jlc2V0UGh5c2ljcycpOwogICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3Jlc2V0RGF0YScpOwoKICAgIC8vIHVuc2VsZWN0IGFsbCB0byBlbnN1cmUgbm8gc2VsZWN0aW9ucyBmcm9tIG9sZCBkYXRhIGFyZSBjYXJyaWVkIG92ZXIuCiAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKTsKCiAgICBpZiAoZGF0YSAmJiBkYXRhLmRvdCAmJiAoZGF0YS5ub2RlcyB8fCBkYXRhLmVkZ2VzKSkgewogICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0RhdGEgbXVzdCBjb250YWluIGVpdGhlciBwYXJhbWV0ZXIgImRvdCIgb3IgJyArICcgcGFyYW1ldGVyIHBhaXIgIm5vZGVzIiBhbmQgImVkZ2VzIiwgYnV0IG5vdCBib3RoLicpOwogICAgfQoKICAgIC8vIHNldCBvcHRpb25zCiAgICB0aGlzLnNldE9wdGlvbnMoZGF0YSAmJiBkYXRhLm9wdGlvbnMpOwogICAgLy8gc2V0IGFsbCBkYXRhCiAgICBpZiAoZGF0YSAmJiBkYXRhLmRvdCkgewogICAgICBjb25zb2xlLmxvZygnVGhlIGRvdCBwcm9wZXJ0eSBoYXMgYmVlbiBkZXByaWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBzdGF0aWMgY29udmVydERvdCBtZXRob2QgdG8gY29udmVydCBET1QgaW50byB2aXMubmV0d29yayBmb3JtYXQgYW5kIHVzZSB0aGUgbm9ybWFsIGRhdGEgZm9ybWF0IHdpdGggbm9kZXMgYW5kIGVkZ2VzLiBUaGlzIGNvbnZlcnRlciBpcyB1c2VkIGxpa2UgdGhpczogdmFyIGRhdGEgPSB2aXMubmV0d29yay5jb252ZXJ0RG90KGRvdFN0cmluZyk7Jyk7CiAgICAgIC8vIHBhcnNlIERPVCBmaWxlCiAgICAgIHZhciBkb3REYXRhID0gZG90cGFyc2VyLkRPVFRvR3JhcGgoZGF0YS5kb3QpOwogICAgICB0aGlzLnNldERhdGEoZG90RGF0YSk7CiAgICAgIHJldHVybjsKICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBkYXRhLmdlcGhpKSB7CiAgICAgIC8vIHBhcnNlIERPVCBmaWxlCiAgICAgIGNvbnNvbGUubG9nKCdUaGUgZ2VwaGkgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmljYXRlZC4gUGxlYXNlIHVzZSB0aGUgc3RhdGljIGNvbnZlcnRHZXBoaSBtZXRob2QgdG8gY29udmVydCBnZXBoaSBpbnRvIHZpcy5uZXR3b3JrIGZvcm1hdCBhbmQgdXNlIHRoZSBub3JtYWwgZGF0YSBmb3JtYXQgd2l0aCBub2RlcyBhbmQgZWRnZXMuIFRoaXMgY29udmVydGVyIGlzIHVzZWQgbGlrZSB0aGlzOiB2YXIgZGF0YSA9IHZpcy5uZXR3b3JrLmNvbnZlcnRHZXBoaShnZXBoaUpzb24pOycpOwogICAgICB2YXIgZ2VwaGlEYXRhID0gZ2VwaGlQYXJzZXIucGFyc2VHZXBoaShkYXRhLmdlcGhpKTsKICAgICAgdGhpcy5zZXREYXRhKGdlcGhpRGF0YSk7CiAgICAgIHJldHVybjsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubm9kZXNIYW5kbGVyLnNldERhdGEoZGF0YSAmJiBkYXRhLm5vZGVzLCB0cnVlKTsKICAgICAgdGhpcy5lZGdlc0hhbmRsZXIuc2V0RGF0YShkYXRhICYmIGRhdGEuZWRnZXMsIHRydWUpOwogICAgfQoKICAgIC8vIGVtaXQgY2hhbmdlIGluIGRhdGEKICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwoKICAgIC8vIGZpbmQgYSBzdGFibGUgcG9zaXRpb24gb3Igc3RhcnQgYW5pbWF0aW5nIHRvIGEgc3RhYmxlIHBvc2l0aW9uCiAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdpbml0UGh5c2ljcycpOwogIH07CgogIC8qKgogICAqIENsZWFucyB1cCBhbGwgYmluZGluZ3Mgb2YgdGhlIG5ldHdvcmssIHJlbW92aW5nIGl0IGZ1bGx5IGZyb20gdGhlIG1lbW9yeSBJRiB0aGUgdmFyaWFibGUgaXMgc2V0IHRvIG51bGwgYWZ0ZXIgY2FsbGluZyB0aGlzIGZ1bmN0aW9uLgogICAqIHZhciBuZXR3b3JrID0gbmV3IHZpcy5OZXR3b3JrKC4uKTsKICAgKiBuZXR3b3JrLmRlc3Ryb3koKTsKICAgKiBuZXR3b3JrID0gbnVsbDsKICAgKi8KICBOZXR3b3JrLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnZGVzdHJveScpOwogICAgLy8gY2xlYXIgZXZlbnRzCiAgICB0aGlzLmJvZHkuZW1pdHRlci5vZmYoKTsKICAgIHRoaXMub2ZmKCk7CgogICAgLy8gZGVsZXRlIG1vZHVsZXMKICAgIGRlbGV0ZSB0aGlzLmdyb3VwczsKICAgIGRlbGV0ZSB0aGlzLmNhbnZhczsKICAgIGRlbGV0ZSB0aGlzLnNlbGVjdGlvbkhhbmRsZXI7CiAgICBkZWxldGUgdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXI7CiAgICBkZWxldGUgdGhpcy52aWV3OwogICAgZGVsZXRlIHRoaXMucmVuZGVyZXI7CiAgICBkZWxldGUgdGhpcy5waHlzaWNzOwogICAgZGVsZXRlIHRoaXMubGF5b3V0RW5naW5lOwogICAgZGVsZXRlIHRoaXMuY2x1c3RlcmluZzsKICAgIGRlbGV0ZSB0aGlzLm1hbmlwdWxhdGlvbjsKICAgIGRlbGV0ZSB0aGlzLm5vZGVzSGFuZGxlcjsKICAgIGRlbGV0ZSB0aGlzLmVkZ2VzSGFuZGxlcjsKICAgIGRlbGV0ZSB0aGlzLmNvbmZpZ3VyYXRvcjsKICAgIGRlbGV0ZSB0aGlzLmltYWdlczsKCiAgICBmb3IgKHZhciBub2RlSWQgaW4gdGhpcy5ib2R5Lm5vZGVzKSB7CiAgICAgIGRlbGV0ZSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKICAgIH0KICAgIGZvciAodmFyIGVkZ2VJZCBpbiB0aGlzLmJvZHkuZWRnZXMpIHsKICAgICAgZGVsZXRlIHRoaXMuYm9keS5lZGdlc1tlZGdlSWRdOwogICAgfQoKICAgIC8vIHJlbW92ZSB0aGUgY29udGFpbmVyIGFuZCBldmVyeXRoaW5nIGluc2lkZSBpdCByZWN1cnNpdmVseQogICAgdXRpbC5yZWN1cnNpdmVET01EZWxldGUodGhpcy5ib2R5LmNvbnRhaW5lcik7CiAgfTsKCiAgLyoqCiAgICogVXBkYXRlIHRoZSB2YWx1ZXMgb2YgYWxsIG9iamVjdCBpbiB0aGUgZ2l2ZW4gYXJyYXkgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50CiAgICogdmFsdWUgcmFuZ2Ugb2YgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LgogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXQgb2YgRWRnZXMgb3IgTm9kZXMKICAgKiAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBvYmplY3RzIG11c3QgaGF2ZSBhIG1ldGhvZCBnZXRWYWx1ZSgpIGFuZAogICAqICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWVSYW5nZShtaW4sIG1heCkuCiAgICogQHByaXZhdGUKICAgKi8KICBOZXR3b3JrLnByb3RvdHlwZS5fdXBkYXRlVmFsdWVSYW5nZSA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHZhciBpZDsKCiAgICAvLyBkZXRlcm1pbmUgdGhlIHJhbmdlIG9mIHRoZSBvYmplY3RzCiAgICB2YXIgdmFsdWVNaW4gPSB1bmRlZmluZWQ7CiAgICB2YXIgdmFsdWVNYXggPSB1bmRlZmluZWQ7CiAgICB2YXIgdmFsdWVUb3RhbCA9IDA7CiAgICBmb3IgKGlkIGluIG9iaikgewogICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgIHZhciB2YWx1ZSA9IG9ialtpZF0uZ2V0VmFsdWUoKTsKICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFsdWVNaW4gPSB2YWx1ZU1pbiA9PT0gdW5kZWZpbmVkID8gdmFsdWUgOiBNYXRoLm1pbih2YWx1ZSwgdmFsdWVNaW4pOwogICAgICAgICAgdmFsdWVNYXggPSB2YWx1ZU1heCA9PT0gdW5kZWZpbmVkID8gdmFsdWUgOiBNYXRoLm1heCh2YWx1ZSwgdmFsdWVNYXgpOwogICAgICAgICAgdmFsdWVUb3RhbCArPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyBhZGp1c3QgdGhlIHJhbmdlIG9mIGFsbCBvYmplY3RzCiAgICBpZiAodmFsdWVNaW4gIT09IHVuZGVmaW5lZCAmJiB2YWx1ZU1heCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGZvciAoaWQgaW4gb2JqKSB7CiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpZCkpIHsKICAgICAgICAgIG9ialtpZF0uc2V0VmFsdWVSYW5nZSh2YWx1ZU1pbiwgdmFsdWVNYXgsIHZhbHVlVG90YWwpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8qKgogICAqIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBOZXR3b3JrIGlzIGFjdGl2ZS4KICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgKi8KICBOZXR3b3JrLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAhdGhpcy5hY3RpdmF0b3IgfHwgdGhpcy5hY3RpdmF0b3IuYWN0aXZlOwogIH07CgogIE5ldHdvcmsucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jYW52YXMuc2V0U2l6ZS5hcHBseSh0aGlzLmNhbnZhcywgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmNhbnZhc1RvRE9NID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY2FudmFzLmNhbnZhc1RvRE9NLmFwcGx5KHRoaXMuY2FudmFzLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuRE9NdG9DYW52YXMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jYW52YXMuRE9NdG9DYW52YXModGhpcy5jYW52YXMsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5maW5kTm9kZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNsdXN0ZXJpbmcuZmluZE5vZGUuYXBwbHkodGhpcy5jbHVzdGVyaW5nLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuaXNDbHVzdGVyID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY2x1c3RlcmluZy5pc0NsdXN0ZXIuYXBwbHkodGhpcy5jbHVzdGVyaW5nLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUub3BlbkNsdXN0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jbHVzdGVyaW5nLm9wZW5DbHVzdGVyLmFwcGx5KHRoaXMuY2x1c3RlcmluZywgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmNsdXN0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmNsdXN0ZXIuYXBwbHkodGhpcy5jbHVzdGVyaW5nLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuZ2V0Tm9kZXNJbkNsdXN0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmdldE5vZGVzSW5DbHVzdGVyLmFwcGx5KHRoaXMuY2x1c3RlcmluZywgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmNsdXN0ZXJCeUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmNsdXN0ZXJCeUNvbm5lY3Rpb24uYXBwbHkodGhpcy5jbHVzdGVyaW5nLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuY2x1c3RlckJ5SHVic2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNsdXN0ZXJpbmcuY2x1c3RlckJ5SHVic2l6ZS5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5jbHVzdGVyT3V0bGllcnMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmNsdXN0ZXJPdXRsaWVycy5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5nZXRTZWVkID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMubGF5b3V0RW5naW5lLmdldFNlZWQuYXBwbHkodGhpcy5sYXlvdXRFbmdpbmUsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5lbmFibGVFZGl0TW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5lbmFibGVFZGl0TW9kZS5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbiwgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmRpc2FibGVFZGl0TW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5kaXNhYmxlRWRpdE1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5hZGROb2RlTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5hZGROb2RlTW9kZS5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbiwgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmVkaXROb2RlID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmVkaXROb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuZWRpdE5vZGVNb2RlID0gZnVuY3Rpb24gKCkgewogICAgY29uc29sZS5sb2coJ0RlcHJpY2F0ZWQ6IFBsZWFzZSB1c2UgZWRpdE5vZGUgaW5zdGVhZCBvZiBlZGl0Tm9kZU1vZGUuJyk7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmVkaXROb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuYWRkRWRnZU1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uYWRkRWRnZU1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5lZGl0RWRnZU1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uZWRpdEVkZ2VNb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuZGVsZXRlU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uZGVsZXRlU2VsZWN0ZWQuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5nZXRQb3NpdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuZ2V0UG9zaXRpb25zLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuc3RvcmVQb3NpdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuc3RvcmVQb3NpdGlvbnMuYXBwbHkodGhpcy5ub2Rlc0hhbmRsZXIsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLm5vZGVzSGFuZGxlci5nZXRCb3VuZGluZ0JveC5hcHBseSh0aGlzLm5vZGVzSGFuZGxlciwgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmdldENvbm5lY3RlZE5vZGVzID0gZnVuY3Rpb24gKG9iamVjdElkKSB7CiAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW29iamVjdElkXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLm5vZGVzSGFuZGxlci5nZXRDb25uZWN0ZWROb2Rlcy5hcHBseSh0aGlzLm5vZGVzSGFuZGxlciwgYXJndW1lbnRzKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0aGlzLmVkZ2VzSGFuZGxlci5nZXRDb25uZWN0ZWROb2Rlcy5hcHBseSh0aGlzLmVkZ2VzSGFuZGxlciwgYXJndW1lbnRzKTsKICAgIH0KICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmdldENvbm5lY3RlZEVkZ2VzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMubm9kZXNIYW5kbGVyLmdldENvbm5lY3RlZEVkZ2VzLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuc3RhcnRTaW11bGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMucGh5c2ljcy5zdGFydFNpbXVsYXRpb24uYXBwbHkodGhpcy5waHlzaWNzLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuc3RvcFNpbXVsYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5waHlzaWNzLnN0b3BTaW11bGF0aW9uLmFwcGx5KHRoaXMucGh5c2ljcywgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLnN0YWJpbGl6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnBoeXNpY3Muc3RhYmlsaXplLmFwcGx5KHRoaXMucGh5c2ljcywgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmdldFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0aW9uLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlciwgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmdldFNlbGVjdGVkTm9kZXMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkTm9kZXMuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRFZGdlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWRFZGdlcy5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5nZXROb2RlQXQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLCBhcmd1bWVudHMpOwogICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCAmJiBub2RlLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIG5vZGUuaWQ7CiAgICB9CiAgICByZXR1cm4gbm9kZTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLmdldEVkZ2VBdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlZGdlID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldEVkZ2VBdC5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsIGFyZ3VtZW50cyk7CiAgICBpZiAoZWRnZSAhPT0gdW5kZWZpbmVkICYmIGVkZ2UuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gZWRnZS5pZDsKICAgIH0KICAgIHJldHVybiBlZGdlOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuc2VsZWN0Tm9kZXMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdE5vZGVzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlciwgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLnNlbGVjdEVkZ2VzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3RFZGdlcy5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS51bnNlbGVjdEFsbCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUucmVkcmF3ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucmVkcmF3LmFwcGx5KHRoaXMucmVuZGVyZXIsIGFyZ3VtZW50cyk7CiAgfTsKICBOZXR3b3JrLnByb3RvdHlwZS5nZXRTY2FsZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0U2NhbGUuYXBwbHkodGhpcy52aWV3LCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuZ2V0Vmlld1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMudmlldy5nZXRWaWV3UG9zaXRpb24uYXBwbHkodGhpcy52aWV3LCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMudmlldy5maXQuYXBwbHkodGhpcy52aWV3LCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMudmlldy5tb3ZlVG8uYXBwbHkodGhpcy52aWV3LCBhcmd1bWVudHMpOwogIH07CiAgTmV0d29yay5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy52aWV3LmZvY3VzLmFwcGx5KHRoaXMudmlldywgYXJndW1lbnRzKTsKICB9OwogIE5ldHdvcmsucHJvdG90eXBlLnJlbGVhc2VOb2RlID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMudmlldy5yZWxlYXNlTm9kZS5hcHBseSh0aGlzLnZpZXcsIGFyZ3VtZW50cyk7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBOZXR3b3JrOwoKLyoqKi8gfSwKLyogNjAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICJ1c2Ugc3RyaWN0IjsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgLyoqCiAgICogQGNsYXNzIEdyb3VwcwogICAqIFRoaXMgY2xhc3MgY2FuIHN0b3JlIGdyb3VwcyBhbmQgb3B0aW9ucyBzcGVjaWZpYyBmb3IgZ3JvdXBzLgogICAqLwoKICB2YXIgR3JvdXBzID0gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEdyb3VwcygpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyb3Vwcyk7CgogICAgICB0aGlzLmNsZWFyKCk7CiAgICAgIHRoaXMuZGVmYXVsdEluZGV4ID0gMDsKICAgICAgdGhpcy5ncm91cHNBcnJheSA9IFtdOwogICAgICB0aGlzLmdyb3VwSW5kZXggPSAwOwoKICAgICAgdGhpcy5kZWZhdWx0R3JvdXBzID0gW3sgYm9yZGVyOiAiIzJCN0NFOSIsIGJhY2tncm91bmQ6ICIjOTdDMkZDIiwgaGlnaGxpZ2h0OiB7IGJvcmRlcjogIiMyQjdDRTkiLCBiYWNrZ3JvdW5kOiAiI0QyRTVGRiIgfSwgaG92ZXI6IHsgYm9yZGVyOiAiIzJCN0NFOSIsIGJhY2tncm91bmQ6ICIjRDJFNUZGIiB9IH0sIC8vIDA6IGJsdWUKICAgICAgeyBib3JkZXI6ICIjRkZBNTAwIiwgYmFja2dyb3VuZDogIiNGRkZGMDAiLCBoaWdobGlnaHQ6IHsgYm9yZGVyOiAiI0ZGQTUwMCIsIGJhY2tncm91bmQ6ICIjRkZGRkEzIiB9LCBob3ZlcjogeyBib3JkZXI6ICIjRkZBNTAwIiwgYmFja2dyb3VuZDogIiNGRkZGQTMiIH0gfSwgLy8gMTogeWVsbG93CiAgICAgIHsgYm9yZGVyOiAiI0ZBMEExMCIsIGJhY2tncm91bmQ6ICIjRkI3RTgxIiwgaGlnaGxpZ2h0OiB7IGJvcmRlcjogIiNGQTBBMTAiLCBiYWNrZ3JvdW5kOiAiI0ZGQUZCMSIgfSwgaG92ZXI6IHsgYm9yZGVyOiAiI0ZBMEExMCIsIGJhY2tncm91bmQ6ICIjRkZBRkIxIiB9IH0sIC8vIDI6IHJlZAogICAgICB7IGJvcmRlcjogIiM0MUE5MDYiLCBiYWNrZ3JvdW5kOiAiIzdCRTE0MSIsIGhpZ2hsaWdodDogeyBib3JkZXI6ICIjNDFBOTA2IiwgYmFja2dyb3VuZDogIiNBMUVDNzYiIH0sIGhvdmVyOiB7IGJvcmRlcjogIiM0MUE5MDYiLCBiYWNrZ3JvdW5kOiAiI0ExRUM3NiIgfSB9LCAvLyAzOiBncmVlbgogICAgICB7IGJvcmRlcjogIiNFMTI5RjAiLCBiYWNrZ3JvdW5kOiAiI0VCN0RGNCIsIGhpZ2hsaWdodDogeyBib3JkZXI6ICIjRTEyOUYwIiwgYmFja2dyb3VuZDogIiNGMEIzRjUiIH0sIGhvdmVyOiB7IGJvcmRlcjogIiNFMTI5RjAiLCBiYWNrZ3JvdW5kOiAiI0YwQjNGNSIgfSB9LCAvLyA0OiBtYWdlbnRhCiAgICAgIHsgYm9yZGVyOiAiIzdDMjlGMCIsIGJhY2tncm91bmQ6ICIjQUQ4NUU0IiwgaGlnaGxpZ2h0OiB7IGJvcmRlcjogIiM3QzI5RjAiLCBiYWNrZ3JvdW5kOiAiI0QzQkRGMCIgfSwgaG92ZXI6IHsgYm9yZGVyOiAiIzdDMjlGMCIsIGJhY2tncm91bmQ6ICIjRDNCREYwIiB9IH0sIC8vIDU6IHB1cnBsZQogICAgICB7IGJvcmRlcjogIiNDMzdGMDAiLCBiYWNrZ3JvdW5kOiAiI0ZGQTgwNyIsIGhpZ2hsaWdodDogeyBib3JkZXI6ICIjQzM3RjAwIiwgYmFja2dyb3VuZDogIiNGRkNBNjYiIH0sIGhvdmVyOiB7IGJvcmRlcjogIiNDMzdGMDAiLCBiYWNrZ3JvdW5kOiAiI0ZGQ0E2NiIgfSB9LCAvLyA2OiBvcmFuZ2UKICAgICAgeyBib3JkZXI6ICIjNDIyMEZCIiwgYmFja2dyb3VuZDogIiM2RTZFRkQiLCBoaWdobGlnaHQ6IHsgYm9yZGVyOiAiIzQyMjBGQiIsIGJhY2tncm91bmQ6ICIjOUI5QkZEIiB9LCBob3ZlcjogeyBib3JkZXI6ICIjNDIyMEZCIiwgYmFja2dyb3VuZDogIiM5QjlCRkQiIH0gfSwgLy8gNzogZGFya2JsdWUKICAgICAgeyBib3JkZXI6ICIjRkQ1QTc3IiwgYmFja2dyb3VuZDogIiNGRkMwQ0IiLCBoaWdobGlnaHQ6IHsgYm9yZGVyOiAiI0ZENUE3NyIsIGJhY2tncm91bmQ6ICIjRkZEMUQ5IiB9LCBob3ZlcjogeyBib3JkZXI6ICIjRkQ1QTc3IiwgYmFja2dyb3VuZDogIiNGRkQxRDkiIH0gfSwgLy8gODogcGluawogICAgICB7IGJvcmRlcjogIiM0QUQ2M0EiLCBiYWNrZ3JvdW5kOiAiI0MyRkFCQyIsIGhpZ2hsaWdodDogeyBib3JkZXI6ICIjNEFENjNBIiwgYmFja2dyb3VuZDogIiNFNkZGRTMiIH0sIGhvdmVyOiB7IGJvcmRlcjogIiM0QUQ2M0EiLCBiYWNrZ3JvdW5kOiAiI0U2RkZFMyIgfSB9LCAvLyA5OiBtaW50CgogICAgICB7IGJvcmRlcjogIiM5OTAwMDAiLCBiYWNrZ3JvdW5kOiAiI0VFMDAwMCIsIGhpZ2hsaWdodDogeyBib3JkZXI6ICIjQkIwMDAwIiwgYmFja2dyb3VuZDogIiNGRjMzMzMiIH0sIGhvdmVyOiB7IGJvcmRlcjogIiNCQjAwMDAiLCBiYWNrZ3JvdW5kOiAiI0ZGMzMzMyIgfSB9LCAvLyAxMDpicmlnaHQgcmVkCgogICAgICB7IGJvcmRlcjogIiNGRjYwMDAiLCBiYWNrZ3JvdW5kOiAiI0ZGNjAwMCIsIGhpZ2hsaWdodDogeyBib3JkZXI6ICIjRkY2MDAwIiwgYmFja2dyb3VuZDogIiNGRjYwMDAiIH0sIGhvdmVyOiB7IGJvcmRlcjogIiNGRjYwMDAiLCBiYWNrZ3JvdW5kOiAiI0ZGNjAwMCIgfSB9LCAvLyAxMjogcmVhbCBvcmFuZ2UKICAgICAgeyBib3JkZXI6ICIjOTdDMkZDIiwgYmFja2dyb3VuZDogIiMyQjdDRTkiLCBoaWdobGlnaHQ6IHsgYm9yZGVyOiAiI0QyRTVGRiIsIGJhY2tncm91bmQ6ICIjMkI3Q0U5IiB9LCBob3ZlcjogeyBib3JkZXI6ICIjRDJFNUZGIiwgYmFja2dyb3VuZDogIiMyQjdDRTkiIH0gfSwgLy8gMTM6IGJsdWUKICAgICAgeyBib3JkZXI6ICIjMzk5NjA1IiwgYmFja2dyb3VuZDogIiMyNTVDMDMiLCBoaWdobGlnaHQ6IHsgYm9yZGVyOiAiIzM5OTYwNSIsIGJhY2tncm91bmQ6ICIjMjU1QzAzIiB9LCBob3ZlcjogeyBib3JkZXI6ICIjMzk5NjA1IiwgYmFja2dyb3VuZDogIiMyNTVDMDMiIH0gfSwgLy8gMTQ6IGdyZWVuCiAgICAgIHsgYm9yZGVyOiAiI0I3MDA1NCIsIGJhY2tncm91bmQ6ICIjRkYwMDdFIiwgaGlnaGxpZ2h0OiB7IGJvcmRlcjogIiNCNzAwNTQiLCBiYWNrZ3JvdW5kOiAiI0ZGMDA3RSIgfSwgaG92ZXI6IHsgYm9yZGVyOiAiI0I3MDA1NCIsIGJhY2tncm91bmQ6ICIjRkYwMDdFIiB9IH0sIC8vIDE1OiBtYWdlbnRhCiAgICAgIHsgYm9yZGVyOiAiI0FEODVFNCIsIGJhY2tncm91bmQ6ICIjN0MyOUYwIiwgaGlnaGxpZ2h0OiB7IGJvcmRlcjogIiNEM0JERjAiLCBiYWNrZ3JvdW5kOiAiIzdDMjlGMCIgfSwgaG92ZXI6IHsgYm9yZGVyOiAiI0QzQkRGMCIsIGJhY2tncm91bmQ6ICIjN0MyOUYwIiB9IH0sIC8vIDE2OiBwdXJwbGUKICAgICAgeyBib3JkZXI6ICIjNDU1N0ZBIiwgYmFja2dyb3VuZDogIiMwMDBFQTEiLCBoaWdobGlnaHQ6IHsgYm9yZGVyOiAiIzZFNkVGRCIsIGJhY2tncm91bmQ6ICIjMDAwRUExIiB9LCBob3ZlcjogeyBib3JkZXI6ICIjNkU2RUZEIiwgYmFja2dyb3VuZDogIiMwMDBFQTEiIH0gfSwgLy8gMTc6IGRhcmtibHVlCiAgICAgIHsgYm9yZGVyOiAiI0ZGQzBDQiIsIGJhY2tncm91bmQ6ICIjRkQ1QTc3IiwgaGlnaGxpZ2h0OiB7IGJvcmRlcjogIiNGRkQxRDkiLCBiYWNrZ3JvdW5kOiAiI0ZENUE3NyIgfSwgaG92ZXI6IHsgYm9yZGVyOiAiI0ZGRDFEOSIsIGJhY2tncm91bmQ6ICIjRkQ1QTc3IiB9IH0sIC8vIDE4OiBwaW5rCiAgICAgIHsgYm9yZGVyOiAiI0MyRkFCQyIsIGJhY2tncm91bmQ6ICIjNzRENjZBIiwgaGlnaGxpZ2h0OiB7IGJvcmRlcjogIiNFNkZGRTMiLCBiYWNrZ3JvdW5kOiAiIzc0RDY2QSIgfSwgaG92ZXI6IHsgYm9yZGVyOiAiI0U2RkZFMyIsIGJhY2tncm91bmQ6ICIjNzRENjZBIiB9IH0sIC8vIDE5OiBtaW50CgogICAgICB7IGJvcmRlcjogIiNFRTAwMDAiLCBiYWNrZ3JvdW5kOiAiIzk5MDAwMCIsIGhpZ2hsaWdodDogeyBib3JkZXI6ICIjRkYzMzMzIiwgYmFja2dyb3VuZDogIiNCQjAwMDAiIH0sIGhvdmVyOiB7IGJvcmRlcjogIiNGRjMzMzMiLCBiYWNrZ3JvdW5kOiAiI0JCMDAwMCIgfSB9IC8vIDIwOmJyaWdodCByZWQKICAgICAgXTsKCiAgICAgIHRoaXMub3B0aW9ucyA9IHt9OwogICAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICAgIHVzZURlZmF1bHRHcm91cHM6IHRydWUKICAgICAgfTsKICAgICAgdXRpbC5leHRlbmQodGhpcy5vcHRpb25zLCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoR3JvdXBzLCBbewogICAgICBrZXk6ICJzZXRPcHRpb25zIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIHZhciBvcHRpb25GaWVsZHMgPSBbInVzZURlZmF1bHRHcm91cHMiXTsKCiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZm9yICh2YXIgZ3JvdXBOYW1lIGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoZ3JvdXBOYW1lKSkgewogICAgICAgICAgICAgIGlmIChvcHRpb25GaWVsZHMuaW5kZXhPZihncm91cE5hbWUpID09PSAtMSkgewogICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gb3B0aW9uc1tncm91cE5hbWVdOwogICAgICAgICAgICAgICAgdGhpcy5hZGQoZ3JvdXBOYW1lLCBncm91cCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImNsZWFyIiwKCiAgICAgIC8qKgogICAgICAgKiBDbGVhciBhbGwgZ3JvdXBzCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgICAgdGhpcy5ncm91cHMgPSB7fTsKICAgICAgICB0aGlzLmdyb3Vwc0FycmF5ID0gW107CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZ2V0IiwKCiAgICAgIC8qKgogICAgICAgKiBnZXQgZ3JvdXAgb3B0aW9ucyBvZiBhIGdyb3VwbmFtZS4gSWYgZ3JvdXBuYW1lIGlzIG5vdCBmb3VuZCwgYSBuZXcgZ3JvdXAKICAgICAgICogaXMgYWRkZWQuCiAgICAgICAqIEBwYXJhbSB7Kn0gZ3JvdXBuYW1lICAgICAgICBDYW4gYmUgYSBudW1iZXIsIHN0cmluZywgRGF0ZSwgZXRjLgogICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGdyb3VwICAgICAgVGhlIGNyZWF0ZWQgZ3JvdXAsIGNvbnRhaW5pbmcgYWxsIGdyb3VwIG9wdGlvbnMKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoZ3JvdXBuYW1lKSB7CiAgICAgICAgdmFyIGdyb3VwID0gdGhpcy5ncm91cHNbZ3JvdXBuYW1lXTsKICAgICAgICBpZiAoZ3JvdXAgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy51c2VEZWZhdWx0R3JvdXBzID09PSBmYWxzZSAmJiB0aGlzLmdyb3Vwc0FycmF5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBncm91cAogICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdyb3VwSW5kZXggJSB0aGlzLmdyb3Vwc0FycmF5Lmxlbmd0aDsKICAgICAgICAgICAgdGhpcy5ncm91cEluZGV4Kys7CiAgICAgICAgICAgIGdyb3VwID0ge307CiAgICAgICAgICAgIGdyb3VwLmNvbG9yID0gdGhpcy5ncm91cHNbdGhpcy5ncm91cHNBcnJheVtpbmRleF1dOwogICAgICAgICAgICB0aGlzLmdyb3Vwc1tncm91cG5hbWVdID0gZ3JvdXA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBjcmVhdGUgbmV3IGdyb3VwCiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZGVmYXVsdEluZGV4ICUgdGhpcy5kZWZhdWx0R3JvdXBzLmxlbmd0aDsKICAgICAgICAgICAgdGhpcy5kZWZhdWx0SW5kZXgrKzsKICAgICAgICAgICAgZ3JvdXAgPSB7fTsKICAgICAgICAgICAgZ3JvdXAuY29sb3IgPSB0aGlzLmRlZmF1bHRHcm91cHNbaW5kZXhdOwogICAgICAgICAgICB0aGlzLmdyb3Vwc1tncm91cG5hbWVdID0gZ3JvdXA7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZ3JvdXA7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiYWRkIiwKCiAgICAgIC8qKgogICAgICAgKiBBZGQgYSBjdXN0b20gZ3JvdXAgc3R5bGUKICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGdyb3VwTmFtZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGUgICAgICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYm9yZGVyQ29sb3IsCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsIGV0Yy4KICAgICAgICogQHJldHVybiB7T2JqZWN0fSBncm91cCAgICAgIFRoZSBjcmVhdGVkIGdyb3VwIG9iamVjdAogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChncm91cE5hbWUsIHN0eWxlKSB7CiAgICAgICAgdGhpcy5ncm91cHNbZ3JvdXBOYW1lXSA9IHN0eWxlOwogICAgICAgIHRoaXMuZ3JvdXBzQXJyYXkucHVzaChncm91cE5hbWUpOwogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBHcm91cHM7CiAgfSkoKTsKCiAgZXhwb3J0c1siZGVmYXVsdCJdID0gR3JvdXBzOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1siZGVmYXVsdCJdOwoKLyoqKi8gfSwKLyogNjEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgdmFyIF9jb21wb25lbnRzTm9kZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpOwoKICB2YXIgX2NvbXBvbmVudHNOb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNOb2RlKTsKCiAgdmFyIF9jb21wb25lbnRzU2hhcmVkTGFiZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTsKCiAgdmFyIF9jb21wb25lbnRzU2hhcmVkTGFiZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50c1NoYXJlZExhYmVsKTsKCiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogIHZhciBEYXRhU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKICB2YXIgRGF0YVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKCiAgdmFyIE5vZGVzSGFuZGxlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBOb2Rlc0hhbmRsZXIoYm9keSwgaW1hZ2VzLCBncm91cHMsIGxheW91dEVuZ2luZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vZGVzSGFuZGxlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLmltYWdlcyA9IGltYWdlczsKICAgICAgdGhpcy5ncm91cHMgPSBncm91cHM7CiAgICAgIHRoaXMubGF5b3V0RW5naW5lID0gbGF5b3V0RW5naW5lOwoKICAgICAgLy8gY3JlYXRlIHRoZSBub2RlIEFQSSBpbiB0aGUgYm9keSBjb250YWluZXIKICAgICAgdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTsKCiAgICAgIHRoaXMubm9kZXNMaXN0ZW5lcnMgPSB7CiAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZXZlbnQsIHBhcmFtcykgewogICAgICAgICAgX3RoaXMuYWRkKHBhcmFtcy5pdGVtcyk7CiAgICAgICAgfSwKICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShldmVudCwgcGFyYW1zKSB7CiAgICAgICAgICBfdGhpcy51cGRhdGUocGFyYW1zLml0ZW1zLCBwYXJhbXMuZGF0YSk7CiAgICAgICAgfSwKICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShldmVudCwgcGFyYW1zKSB7CiAgICAgICAgICBfdGhpcy5yZW1vdmUocGFyYW1zLml0ZW1zKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLm9wdGlvbnMgPSB7fTsKICAgICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHsKICAgICAgICBib3JkZXJXaWR0aDogMSwKICAgICAgICBib3JkZXJXaWR0aFNlbGVjdGVkOiAyLAogICAgICAgIGJyb2tlbkltYWdlOiB1bmRlZmluZWQsCiAgICAgICAgY29sb3I6IHsKICAgICAgICAgIGJvcmRlcjogJyMyQjdDRTknLAogICAgICAgICAgYmFja2dyb3VuZDogJyM5N0MyRkMnLAogICAgICAgICAgaGlnaGxpZ2h0OiB7CiAgICAgICAgICAgIGJvcmRlcjogJyMyQjdDRTknLAogICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI0QyRTVGRicKICAgICAgICAgIH0sCiAgICAgICAgICBob3ZlcjogewogICAgICAgICAgICBib3JkZXI6ICcjMkI3Q0U5JywKICAgICAgICAgICAgYmFja2dyb3VuZDogJyNEMkU1RkYnCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmaXhlZDogewogICAgICAgICAgeDogZmFsc2UsCiAgICAgICAgICB5OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgZm9udDogewogICAgICAgICAgY29sb3I6ICcjMzQzNDM0JywKICAgICAgICAgIHNpemU6IDE0LCAvLyBweAogICAgICAgICAgZmFjZTogJ2FyaWFsJywKICAgICAgICAgIGJhY2tncm91bmQ6ICdub25lJywKICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLCAvLyBweAogICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjZmZmZmZmJywKICAgICAgICAgIGFsaWduOiAnaG9yaXpvbnRhbCcKICAgICAgICB9LAogICAgICAgIGdyb3VwOiB1bmRlZmluZWQsCiAgICAgICAgaGlkZGVuOiBmYWxzZSwKICAgICAgICBpY29uOiB7CiAgICAgICAgICBmYWNlOiAnRm9udEF3ZXNvbWUnLCAvLydGb250QXdlc29tZScsCiAgICAgICAgICBjb2RlOiB1bmRlZmluZWQsIC8vJ1x1ZjAwNycsCiAgICAgICAgICBzaXplOiA1MCwgLy81MCwKICAgICAgICAgIGNvbG9yOiAnIzJCN0NFOScgLy8nI2FhMDBmZicKICAgICAgICB9LAogICAgICAgIGltYWdlOiB1bmRlZmluZWQsIC8vIC0tPiBVUkwKICAgICAgICBsYWJlbDogdW5kZWZpbmVkLAogICAgICAgIGxldmVsOiB1bmRlZmluZWQsCiAgICAgICAgbWFzczogMSwKICAgICAgICBwaHlzaWNzOiB0cnVlLAogICAgICAgIHNjYWxpbmc6IHsKICAgICAgICAgIG1pbjogMTAsCiAgICAgICAgICBtYXg6IDMwLAogICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgICAgIG1pbjogMTQsCiAgICAgICAgICAgIG1heDogMzAsCiAgICAgICAgICAgIG1heFZpc2libGU6IDMwLAogICAgICAgICAgICBkcmF3VGhyZXNob2xkOiA1CiAgICAgICAgICB9LAogICAgICAgICAgY3VzdG9tU2NhbGluZ0Z1bmN0aW9uOiBmdW5jdGlvbiBjdXN0b21TY2FsaW5nRnVuY3Rpb24obWluLCBtYXgsIHRvdGFsLCB2YWx1ZSkgewogICAgICAgICAgICBpZiAobWF4ID09PSBtaW4pIHsKICAgICAgICAgICAgICByZXR1cm4gMC41OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBzY2FsZSA9IDEgLyAobWF4IC0gbWluKTsKICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgKHZhbHVlIC0gbWluKSAqIHNjYWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2hhZG93OiB7CiAgICAgICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgICAgIHNpemU6IDEwLAogICAgICAgICAgeDogNSwKICAgICAgICAgIHk6IDUKICAgICAgICB9LAogICAgICAgIHNoYXBlOiAnZWxsaXBzZScsCiAgICAgICAgc2l6ZTogMjUsCiAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCwKICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLAogICAgICAgIHg6IHVuZGVmaW5lZCwKICAgICAgICB5OiB1bmRlZmluZWQKICAgICAgfTsKICAgICAgdXRpbC5leHRlbmQodGhpcy5vcHRpb25zLCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKCiAgICAgIHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKE5vZGVzSGFuZGxlciwgW3sKICAgICAga2V5OiAnYmluZEV2ZW50TGlzdGVuZXJzJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmRFdmVudExpc3RlbmVycygpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgLy8gcmVmcmVzaCB0aGUgbm9kZXMuIFVzZWQgd2hlbiByZXZlcnRpbmcgZnJvbSBoaWVyYXJjaGljYWwgbGF5b3V0CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ3JlZnJlc2hOb2RlcycsIHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpKTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigncmVmcmVzaCcsIHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpKTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSBfdGhpczIuYm9keS5mdW5jdGlvbnMuY3JlYXRlTm9kZTsKICAgICAgICAgIGRlbGV0ZSBfdGhpczIubm9kZXNMaXN0ZW5lcnMuYWRkOwogICAgICAgICAgZGVsZXRlIF90aGlzMi5ub2Rlc0xpc3RlbmVycy51cGRhdGU7CiAgICAgICAgICBkZWxldGUgX3RoaXMyLm5vZGVzTGlzdGVuZXJzLnJlbW92ZTsKICAgICAgICAgIGRlbGV0ZSBfdGhpczIubm9kZXNMaXN0ZW5lcnM7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfY29tcG9uZW50c05vZGUyWydkZWZhdWx0J10ucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgogICAgICAgICAgLy8gdXBkYXRlIHRoZSBzaGFwZSBpbiBhbGwgbm9kZXMKICAgICAgICAgIGlmIChvcHRpb25zLnNoYXBlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIHRoaXMuYm9keS5ub2RlcykgewogICAgICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICAgICAgdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF0udXBkYXRlU2hhcGUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNoYXBlIHNpemUgaW4gYWxsIG5vZGVzCiAgICAgICAgICBpZiAob3B0aW9ucy5mb250ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgX2NvbXBvbmVudHNTaGFyZWRMYWJlbDJbJ2RlZmF1bHQnXS5wYXJzZU9wdGlvbnModGhpcy5vcHRpb25zLmZvbnQsIG9wdGlvbnMpOwogICAgICAgICAgICBmb3IgKHZhciBub2RlSWQgaW4gdGhpcy5ib2R5Lm5vZGVzKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXS51cGRhdGVMYWJlbE1vZHVsZSgpOwogICAgICAgICAgICAgICAgdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF0uX3Jlc2V0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gdXBkYXRlIHRoZSBzaGFwZSBzaXplIGluIGFsbCBub2RlcwogICAgICAgICAgaWYgKG9wdGlvbnMuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLmJvZHkubm9kZXMpIHsKICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdLl9yZXNldCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIGxldGlhYmxlcyBpZiBuZWVkZWQKICAgICAgICAgIGlmIChvcHRpb25zLmhpZGRlbiAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucGh5c2ljcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXREYXRhJywKCiAgICAgIC8qKgogICAgICAgKiBTZXQgYSBkYXRhIHNldCB3aXRoIG5vZGVzIGZvciB0aGUgbmV0d29yawogICAgICAgKiBAcGFyYW0ge0FycmF5IHwgRGF0YVNldCB8IERhdGFWaWV3fSBub2RlcyAgICAgICAgIFRoZSBkYXRhIGNvbnRhaW5pbmcgdGhlIG5vZGVzLgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGEobm9kZXMpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIGRvTm90RW1pdCA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07CgogICAgICAgIHZhciBvbGROb2Rlc0RhdGEgPSB0aGlzLmJvZHkuZGF0YS5ub2RlczsKCiAgICAgICAgaWYgKG5vZGVzIGluc3RhbmNlb2YgRGF0YVNldCB8fCBub2RlcyBpbnN0YW5jZW9mIERhdGFWaWV3KSB7CiAgICAgICAgICB0aGlzLmJvZHkuZGF0YS5ub2RlcyA9IG5vZGVzOwogICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShub2RlcykpIHsKICAgICAgICAgIHRoaXMuYm9keS5kYXRhLm5vZGVzID0gbmV3IERhdGFTZXQoKTsKICAgICAgICAgIHRoaXMuYm9keS5kYXRhLm5vZGVzLmFkZChub2Rlcyk7CiAgICAgICAgfSBlbHNlIGlmICghbm9kZXMpIHsKICAgICAgICAgIHRoaXMuYm9keS5kYXRhLm5vZGVzID0gbmV3IERhdGFTZXQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgb3IgRGF0YVNldCBleHBlY3RlZCcpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG9sZE5vZGVzRGF0YSkgewogICAgICAgICAgLy8gdW5zdWJzY3JpYmUgZnJvbSBvbGQgZGF0YXNldAogICAgICAgICAgdXRpbC5mb3JFYWNoKHRoaXMubm9kZXNMaXN0ZW5lcnMsIGZ1bmN0aW9uIChjYWxsYmFjaywgZXZlbnQpIHsKICAgICAgICAgICAgb2xkTm9kZXNEYXRhLm9mZihldmVudCwgY2FsbGJhY2spOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyByZW1vdmUgZHJhd24gbm9kZXMKICAgICAgICB0aGlzLmJvZHkubm9kZXMgPSB7fTsKCiAgICAgICAgaWYgKHRoaXMuYm9keS5kYXRhLm5vZGVzKSB7CiAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBzdWJzY3JpYmUgdG8gbmV3IGRhdGFzZXQKICAgICAgICAgICAgdmFyIG1lID0gX3RoaXMzOwogICAgICAgICAgICB1dGlsLmZvckVhY2goX3RoaXMzLm5vZGVzTGlzdGVuZXJzLCBmdW5jdGlvbiAoY2FsbGJhY2ssIGV2ZW50KSB7CiAgICAgICAgICAgICAgbWUuYm9keS5kYXRhLm5vZGVzLm9uKGV2ZW50LCBjYWxsYmFjayk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gZHJhdyBhbGwgbmV3IG5vZGVzCiAgICAgICAgICAgIHZhciBpZHMgPSBfdGhpczMuYm9keS5kYXRhLm5vZGVzLmdldElkcygpOwogICAgICAgICAgICBfdGhpczMuYWRkKGlkcywgdHJ1ZSk7CiAgICAgICAgICB9KSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRvTm90RW1pdCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdhZGQnLAoKICAgICAgLyoqCiAgICAgICAqIEFkZCBub2RlcwogICAgICAgKiBAcGFyYW0ge051bWJlcltdIHwgU3RyaW5nW119IGlkcwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChpZHMpIHsKICAgICAgICB2YXIgZG9Ob3RFbWl0ID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1sxXTsKCiAgICAgICAgdmFyIGlkID0gdW5kZWZpbmVkOwogICAgICAgIHZhciBuZXdOb2RlcyA9IFtdOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZCA9IGlkc1tpXTsKICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gdGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0KGlkKTsKICAgICAgICAgIHZhciBub2RlID0gdGhpcy5jcmVhdGUocHJvcGVydGllcyk7CiAgICAgICAgICBuZXdOb2Rlcy5wdXNoKG5vZGUpOwogICAgICAgICAgdGhpcy5ib2R5Lm5vZGVzW2lkXSA9IG5vZGU7IC8vIG5vdGU6IHRoaXMgbWF5IHJlcGxhY2UgYW4gZXhpc3Rpbmcgbm9kZQogICAgICAgIH0KCiAgICAgICAgdGhpcy5sYXlvdXRFbmdpbmUucG9zaXRpb25Jbml0aWFsbHkobmV3Tm9kZXMpOwoKICAgICAgICBpZiAoZG9Ob3RFbWl0ID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX2RhdGFDaGFuZ2VkJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3VwZGF0ZScsCgogICAgICAvKioKICAgICAgICogVXBkYXRlIGV4aXN0aW5nIG5vZGVzLCBvciBjcmVhdGUgdGhlbSB3aGVuIG5vdCB5ZXQgZXhpc3RpbmcKICAgICAgICogQHBhcmFtIHtOdW1iZXJbXSB8IFN0cmluZ1tdfSBpZHMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoaWRzLCBjaGFuZ2VkRGF0YSkgewogICAgICAgIHZhciBub2RlcyA9IHRoaXMuYm9keS5ub2RlczsKICAgICAgICB2YXIgZGF0YUNoYW5nZWQgPSBmYWxzZTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGlkID0gaWRzW2ldOwogICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpZF07CiAgICAgICAgICB2YXIgZGF0YSA9IGNoYW5nZWREYXRhW2ldOwogICAgICAgICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvLyB1cGRhdGUgbm9kZQogICAgICAgICAgICBkYXRhQ2hhbmdlZCA9IG5vZGUuc2V0T3B0aW9ucyhkYXRhKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRhdGFDaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgLy8gY3JlYXRlIG5vZGUKICAgICAgICAgICAgbm9kZSA9IHRoaXMuY3JlYXRlKGRhdGEpOwogICAgICAgICAgICBub2Rlc1tpZF0gPSBub2RlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoZGF0YUNoYW5nZWQgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfZGF0YVVwZGF0ZWQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAncmVtb3ZlJywKCiAgICAgIC8qKgogICAgICAgKiBSZW1vdmUgZXhpc3Rpbmcgbm9kZXMuIElmIG5vZGVzIGRvIG5vdCBleGlzdCwgdGhlIG1ldGhvZCB3aWxsIGp1c3QgaWdub3JlIGl0LgogICAgICAgKiBAcGFyYW0ge051bWJlcltdIHwgU3RyaW5nW119IGlkcwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShpZHMpIHsKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmJvZHkubm9kZXM7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaWQgPSBpZHNbaV07CiAgICAgICAgICBkZWxldGUgbm9kZXNbaWRdOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX2RhdGFDaGFuZ2VkJyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnY3JlYXRlJywKCiAgICAgIC8qKgogICAgICAgKiBjcmVhdGUgYSBub2RlCiAgICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzCiAgICAgICAqIEBwYXJhbSBjb25zdHJ1Y3RvckNsYXNzCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHsKICAgICAgICB2YXIgY29uc3RydWN0b3JDbGFzcyA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gX2NvbXBvbmVudHNOb2RlMlsnZGVmYXVsdCddIDogYXJndW1lbnRzWzFdOwoKICAgICAgICByZXR1cm4gbmV3IGNvbnN0cnVjdG9yQ2xhc3MocHJvcGVydGllcywgdGhpcy5ib2R5LCB0aGlzLmltYWdlcywgdGhpcy5ncm91cHMsIHRoaXMub3B0aW9ucyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAncmVmcmVzaCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICAgIHZhciBub2RlcyA9IHRoaXMuYm9keS5ub2RlczsKICAgICAgICBmb3IgKHZhciBub2RlSWQgaW4gbm9kZXMpIHsKICAgICAgICAgIHZhciBub2RlID0gdW5kZWZpbmVkOwogICAgICAgICAgaWYgKG5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgbm9kZSA9IG5vZGVzW25vZGVJZF07CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYm9keS5kYXRhLm5vZGVzLl9kYXRhW25vZGVJZF07CiAgICAgICAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkICYmIGRhdGEgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBub2RlLnNldE9wdGlvbnMoeyBmaXhlZDogZmFsc2UgfSk7CiAgICAgICAgICAgIG5vZGUuc2V0T3B0aW9ucyhkYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZ2V0UG9zaXRpb25zJywKCiAgICAgIC8qKgogICAgICAgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbnMgb2YgdGhlIG5vZGVzLgogICAgICAgKiBAcGFyYW0gaWRzICAtLT4gb3B0aW9uYWwsIGNhbiBiZSBhcnJheSBvZiBub2RlSWRzLCBjYW4gYmUgc3RyaW5nCiAgICAgICAqIEByZXR1cm5zIHt7fX0KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb3NpdGlvbnMoaWRzKSB7CiAgICAgICAgdmFyIGRhdGFBcnJheSA9IHt9OwogICAgICAgIGlmIChpZHMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaWRzKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXNbaWRzW2ldXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tpZHNbaV1dOwogICAgICAgICAgICAgICAgZGF0YUFycmF5W2lkc1tpXV0gPSB7IHg6IE1hdGgucm91bmQobm9kZS54KSwgeTogTWF0aC5yb3VuZChub2RlLnkpIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW2lkc10gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW2lkc107CiAgICAgICAgICAgICAgZGF0YUFycmF5W2lkc10gPSB7IHg6IE1hdGgucm91bmQobm9kZS54KSwgeTogTWF0aC5yb3VuZChub2RlLnkpIH07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIHRoaXMuYm9keS5ub2RlcykgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwogICAgICAgICAgICAgIGRhdGFBcnJheVtub2RlSWRdID0geyB4OiBNYXRoLnJvdW5kKG5vZGUueCksIHk6IE1hdGgucm91bmQobm9kZS55KSB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBkYXRhQXJyYXk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc3RvcmVQb3NpdGlvbnMnLAoKICAgICAgLyoqCiAgICAgICAqIExvYWQgdGhlIFhZIHBvc2l0aW9ucyBvZiB0aGUgbm9kZXMgaW50byB0aGUgZGF0YXNldC4KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9yZVBvc2l0aW9ucygpIHsKICAgICAgICAvLyB0b2RvOiBhZGQgc3VwcG9ydCBmb3IgY2x1c3RlcnMgYW5kIGhpZXJhcmNoaWNhbC4KICAgICAgICB2YXIgZGF0YUFycmF5ID0gW107CiAgICAgICAgdmFyIGRhdGFzZXQgPSB0aGlzLmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCk7CgogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiBkYXRhc2V0Ll9kYXRhKSB7CiAgICAgICAgICBpZiAoZGF0YXNldC5fZGF0YS5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF07CiAgICAgICAgICAgIGlmIChkYXRhc2V0Ll9kYXRhW25vZGVJZF0ueCAhPSBNYXRoLnJvdW5kKG5vZGUueCkgfHwgZGF0YXNldC5fZGF0YVtub2RlSWRdLnkgIT0gTWF0aC5yb3VuZChub2RlLnkpKSB7CiAgICAgICAgICAgICAgZGF0YUFycmF5LnB1c2goeyBpZDogbm9kZUlkLCB4OiBNYXRoLnJvdW5kKG5vZGUueCksIHk6IE1hdGgucm91bmQobm9kZS55KSB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBkYXRhc2V0LnVwZGF0ZShkYXRhQXJyYXkpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2dldEJvdW5kaW5nQm94JywKCiAgICAgIC8qKgogICAgICAgKiBnZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBhIG5vZGUuCiAgICAgICAqIEBwYXJhbSBub2RlSWQKICAgICAgICogQHJldHVybnMge2p8Kn0KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb3VuZGluZ0JveChub2RlSWQpIHsKICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW25vZGVJZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdLnNoYXBlLmJvdW5kaW5nQm94OwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdnZXRDb25uZWN0ZWROb2RlcycsCgogICAgICAvKioKICAgICAgICogR2V0IHRoZSBJZHMgb2Ygbm9kZXMgY29ubmVjdGVkIHRvIHRoaXMgbm9kZS4KICAgICAgICogQHBhcmFtIG5vZGVJZAogICAgICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29ubmVjdGVkTm9kZXMobm9kZUlkKSB7CiAgICAgICAgdmFyIG5vZGVMaXN0ID0gW107CiAgICAgICAgaWYgKHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF07CiAgICAgICAgICB2YXIgbm9kZU9iaiA9IHt9OyAvLyB1c2VkIHRvIHF1aWNrbHkgY2hlY2sgaWYgbm9kZSBhbHJlYWR5IGV4aXN0cwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBlZGdlID0gbm9kZS5lZGdlc1tpXTsKICAgICAgICAgICAgaWYgKGVkZ2UudG9JZCA9PSBub2RlSWQpIHsKICAgICAgICAgICAgICAvLyB0aGVzZSBhcmUgZG91YmxlIGVxdWFscyBzaW5jZSBpZHMgY2FuIGJlIG51bWVyaWMgb3Igc3RyaW5nCiAgICAgICAgICAgICAgaWYgKG5vZGVPYmpbZWRnZS5mcm9tSWRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIG5vZGVMaXN0LnB1c2goZWRnZS5mcm9tSWQpOwogICAgICAgICAgICAgICAgbm9kZU9ialtlZGdlLmZyb21JZF0gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChlZGdlLmZyb21JZCA9PSBub2RlSWQpIHsKICAgICAgICAgICAgICAvLyB0aGVzZSBhcmUgZG91YmxlIGVxdWFscyBzaW5jZSBpZHMgY2FuIGJlIG51bWVyaWMgb3Igc3RyaW5nCiAgICAgICAgICAgICAgaWYgKG5vZGVPYmpbZWRnZS50b0lkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBub2RlTGlzdC5wdXNoKGVkZ2UudG9JZCk7CiAgICAgICAgICAgICAgICBub2RlT2JqW2VkZ2UudG9JZF0gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbm9kZUxpc3Q7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZ2V0Q29ubmVjdGVkRWRnZXMnLAoKICAgICAgLyoqCiAgICAgICAqIEdldCB0aGUgaWRzIG9mIHRoZSBlZGdlcyBjb25uZWN0ZWQgdG8gdGhpcyBub2RlLgogICAgICAgKiBAcGFyYW0gbm9kZUlkCiAgICAgICAqIEByZXR1cm5zIHsqfQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbm5lY3RlZEVkZ2VzKG5vZGVJZCkgewogICAgICAgIHZhciBlZGdlTGlzdCA9IFtdOwogICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXNbbm9kZUlkXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGVkZ2VMaXN0LnB1c2gobm9kZS5lZGdlc1tpXS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdOb2RlSWQgcHJvdmlkZWQgZm9yIGdldENvbm5lY3RlZEVkZ2VzIGRvZXMgbm90IGV4aXN0LiBQcm92aWRlZDogJywgbm9kZUlkKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGVkZ2VMaXN0OwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIE5vZGVzSGFuZGxlcjsKICB9KSgpOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBOb2Rlc0hhbmRsZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA2MiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICB2YXIgX3NoYXJlZExhYmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7CgogIHZhciBfc2hhcmVkTGFiZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhcmVkTGFiZWwpOwoKICB2YXIgX25vZGVzU2hhcGVzQm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7CgogIHZhciBfbm9kZXNTaGFwZXNCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9kZXNTaGFwZXNCb3gpOwoKICB2YXIgX25vZGVzU2hhcGVzQ2lyY2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7CgogIHZhciBfbm9kZXNTaGFwZXNDaXJjbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9kZXNTaGFwZXNDaXJjbGUpOwoKICB2YXIgX25vZGVzU2hhcGVzQ2lyY3VsYXJJbWFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpOwoKICB2YXIgX25vZGVzU2hhcGVzQ2lyY3VsYXJJbWFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2Rlc1NoYXBlc0NpcmN1bGFySW1hZ2UpOwoKICB2YXIgX25vZGVzU2hhcGVzRGF0YWJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTsKCiAgdmFyIF9ub2Rlc1NoYXBlc0RhdGFiYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vZGVzU2hhcGVzRGF0YWJhc2UpOwoKICB2YXIgX25vZGVzU2hhcGVzRGlhbW9uZCA9IF9fd2VicGFja19yZXF1aXJlX18oNzApOwoKICB2YXIgX25vZGVzU2hhcGVzRGlhbW9uZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2Rlc1NoYXBlc0RpYW1vbmQpOwoKICB2YXIgX25vZGVzU2hhcGVzRG90ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7CgogIHZhciBfbm9kZXNTaGFwZXNEb3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9kZXNTaGFwZXNEb3QpOwoKICB2YXIgX25vZGVzU2hhcGVzRWxsaXBzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpOwoKICB2YXIgX25vZGVzU2hhcGVzRWxsaXBzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2Rlc1NoYXBlc0VsbGlwc2UpOwoKICB2YXIgX25vZGVzU2hhcGVzSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpOwoKICB2YXIgX25vZGVzU2hhcGVzSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2Rlc1NoYXBlc0ljb24pOwoKICB2YXIgX25vZGVzU2hhcGVzSW1hZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTsKCiAgdmFyIF9ub2Rlc1NoYXBlc0ltYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vZGVzU2hhcGVzSW1hZ2UpOwoKICB2YXIgX25vZGVzU2hhcGVzU3F1YXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7CgogIHZhciBfbm9kZXNTaGFwZXNTcXVhcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9kZXNTaGFwZXNTcXVhcmUpOwoKICB2YXIgX25vZGVzU2hhcGVzU3RhciA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpOwoKICB2YXIgX25vZGVzU2hhcGVzU3RhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2Rlc1NoYXBlc1N0YXIpOwoKICB2YXIgX25vZGVzU2hhcGVzVGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpOwoKICB2YXIgX25vZGVzU2hhcGVzVGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2Rlc1NoYXBlc1RleHQpOwoKICB2YXIgX25vZGVzU2hhcGVzVHJpYW5nbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTsKCiAgdmFyIF9ub2Rlc1NoYXBlc1RyaWFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vZGVzU2hhcGVzVHJpYW5nbGUpOwoKICB2YXIgX25vZGVzU2hhcGVzVHJpYW5nbGVEb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7CgogIHZhciBfbm9kZXNTaGFwZXNUcmlhbmdsZURvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9kZXNTaGFwZXNUcmlhbmdsZURvd24pOwoKICB2YXIgX3NoYXJlZFZhbGlkYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpOwoKICB2YXIgX3NoYXJlZFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFyZWRWYWxpZGF0b3IpOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogIC8qKgogICAqIEBjbGFzcyBOb2RlCiAgICogQSBub2RlLiBBIG5vZGUgY2FuIGJlIGNvbm5lY3RlZCB0byBvdGhlciBub2RlcyB2aWEgb25lIG9yIG11bHRpcGxlIGVkZ2VzLgogICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIG9wdGlvbnMgZm9yIHRoZSBub2RlLiBBbGwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zIGFyZSBvcHRpb25hbCwgZXhjZXB0IGZvciB0aGUgaWQuCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBpZCAgICAgSWQgb2YgdGhlIG5vZGUuIFJlcXVpcmVkCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RyaW5nfSBsYWJlbCAgVGV4dCBsYWJlbCBmb3IgdGhlIG5vZGUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHggICAgICBIb3Jpem9udGFsIHBvc2l0aW9uIG9mIHRoZSBub2RlCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSB5ICAgICAgVmVydGljYWwgcG9zaXRpb24gb2YgdGhlIG5vZGUKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IHNoYXBlICBOb2RlIHNoYXBlLCBhdmFpbGFibGU6CiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRhdGFiYXNlIiwgImNpcmNsZSIsICJlbGxpcHNlIiwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYm94IiwgImltYWdlIiwgInRleHQiLCAiZG90IiwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3RhciIsICJ0cmlhbmdsZSIsICJ0cmlhbmdsZURvd24iLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzcXVhcmUiLCAiaWNvbiIKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IGltYWdlICBBbiBpbWFnZSB1cmwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IHRpdGxlICBBbiB0aXRsZSB0ZXh0LCBjYW4gYmUgSFRNTAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FueXR5cGV9IGdyb3VwIEEgZ3JvdXAgbmFtZSBvciBudW1iZXIKICAgKiBAcGFyYW0ge05ldHdvcmsuSW1hZ2VzfSBpbWFnZWxpc3QgICAgQSBsaXN0IHdpdGggaW1hZ2VzLiBPbmx5IG5lZWRlZAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHRoZSBub2RlIGhhcyBhbiBpbWFnZQogICAqIEBwYXJhbSB7TmV0d29yay5Hcm91cHN9IGdyb3VwbGlzdCAgICBBIGxpc3Qgd2l0aCBncm91cHMuIE5lZWRlZCBmb3IKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cmlldmluZyBncm91cCBvcHRpb25zCiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgY29uc3RhbnRzICAgIEFuIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzIGZvcgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFtcGxlIGZvciB0aGUgY29sb3IKICAgKgogICAqLwoKICB2YXIgTm9kZSA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBOb2RlKG9wdGlvbnMsIGJvZHksIGltYWdlbGlzdCwgZ3JvdXBsaXN0LCBnbG9iYWxPcHRpb25zKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2RlKTsKCiAgICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuYnJpZGdlT2JqZWN0KGdsb2JhbE9wdGlvbnMpOwogICAgICB0aGlzLmJvZHkgPSBib2R5OwoKICAgICAgdGhpcy5lZGdlcyA9IFtdOyAvLyBhbGwgZWRnZXMgY29ubmVjdGVkIHRvIHRoaXMgbm9kZQoKICAgICAgLy8gc2V0IGRlZmF1bHRzIGZvciB0aGUgb3B0aW9ucwogICAgICB0aGlzLmlkID0gdW5kZWZpbmVkOwogICAgICB0aGlzLmltYWdlbGlzdCA9IGltYWdlbGlzdDsKICAgICAgdGhpcy5ncm91cGxpc3QgPSBncm91cGxpc3Q7CgogICAgICAvLyBzdGF0ZSBvcHRpb25zCiAgICAgIHRoaXMueCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy55ID0gdW5kZWZpbmVkOwogICAgICB0aGlzLmJhc2VTaXplID0gdGhpcy5vcHRpb25zLnNpemU7CiAgICAgIHRoaXMuYmFzZUZvbnRTaXplID0gdGhpcy5vcHRpb25zLmZvbnQuc2l6ZTsKICAgICAgdGhpcy5wcmVkZWZpbmVkUG9zaXRpb24gPSBmYWxzZTsgLy8gdXNlZCB0byBjaGVjayBpZiBpbml0aWFsIGZpdCBzaG91bGQganVzdCB0YWtlIHRoZSByYW5nZSBvciBhcHByb3hpbWF0ZQogICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMuaG92ZXIgPSBmYWxzZTsKCiAgICAgIHRoaXMubGFiZWxNb2R1bGUgPSBuZXcgX3NoYXJlZExhYmVsMlsnZGVmYXVsdCddKHRoaXMuYm9keSwgdGhpcy5vcHRpb25zKTsKICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhOb2RlLCBbewogICAgICBrZXk6ICdhdHRhY2hFZGdlJywKCiAgICAgIC8qKgogICAgICAgKiBBdHRhY2ggYSBlZGdlIHRvIHRoZSBub2RlCiAgICAgICAqIEBwYXJhbSB7RWRnZX0gZWRnZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGF0dGFjaEVkZ2UoZWRnZSkgewogICAgICAgIGlmICh0aGlzLmVkZ2VzLmluZGV4T2YoZWRnZSkgPT09IC0xKSB7CiAgICAgICAgICB0aGlzLmVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RldGFjaEVkZ2UnLAoKICAgICAgLyoqCiAgICAgICAqIERldGFjaCBhIGVkZ2UgZnJvbSB0aGUgbm9kZQogICAgICAgKiBAcGFyYW0ge0VkZ2V9IGVkZ2UKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hFZGdlKGVkZ2UpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmVkZ2VzLmluZGV4T2YoZWRnZSk7CiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7CiAgICAgICAgICB0aGlzLmVkZ2VzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3RvZ2dsZVBoeXNpY3MnLAoKICAgICAgLyoqCiAgICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBwaHlzaWNzLgogICAgICAgKiBAcGFyYW0gc3RhdHVzCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlUGh5c2ljcyhzdGF0dXMpIHsKICAgICAgICB0aGlzLm9wdGlvbnMucGh5c2ljcyA9IHN0YXR1czsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXRPcHRpb25zJywKCiAgICAgIC8qKgogICAgICAgKiBTZXQgb3Igb3ZlcndyaXRlIG9wdGlvbnMgZm9yIHRoZSBub2RlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMKICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnN0YW50cyAgYW5kIG9iamVjdCB3aXRoIGRlZmF1bHQsIGdsb2JhbCBvcHRpb25zCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgICAgaWYgKCFvcHRpb25zKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIGJhc2ljIG9wdGlvbnMKICAgICAgICBpZiAob3B0aW9ucy5pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLmlkID0gb3B0aW9ucy5pZDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRocm93ICdOb2RlIG11c3QgaGF2ZSBhbiBpZCc7CiAgICAgICAgfQoKICAgICAgICAvLyBzZXQgdGhlc2Ugb3B0aW9ucyBsb2NhbGx5CiAgICAgICAgaWYgKG9wdGlvbnMueCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnggPSBwYXJzZUludChvcHRpb25zLngpO3RoaXMucHJlZGVmaW5lZFBvc2l0aW9uID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMueSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnkgPSBwYXJzZUludChvcHRpb25zLnkpO3RoaXMucHJlZGVmaW5lZFBvc2l0aW9uID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLmJhc2VTaXplID0gb3B0aW9ucy5zaXplOwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLnZhbHVlID0gcGFyc2VGbG9hdChvcHRpb25zLnZhbHVlKTsKICAgICAgICB9CgogICAgICAgIC8vIGNvcHkgZ3JvdXAgb3B0aW9ucwogICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5ncm91cCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG9wdGlvbnMuZ3JvdXAgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMuZ3JvdXAgIT0gJycpIHsKICAgICAgICAgIHZhciBncm91cE9iaiA9IHRoaXMuZ3JvdXBsaXN0LmdldChvcHRpb25zLmdyb3VwKTsKICAgICAgICAgIHV0aWwuZGVlcEV4dGVuZCh0aGlzLm9wdGlvbnMsIGdyb3VwT2JqKTsKICAgICAgICAgIC8vIHRoZSBjb2xvciBvYmplY3QgbmVlZHMgdG8gYmUgY29tcGxldGVseSBkZWZpbmVkLiBTaW5jZSBncm91cHMgY2FuIHBhcnRpYWxseSBvdmVyd3JpdGUgdGhlIGNvbG9ycywgd2UgcGFyc2UgaXQgYWdhaW4sIGp1c3QgaW4gY2FzZS4KICAgICAgICAgIHRoaXMub3B0aW9ucy5jb2xvciA9IHV0aWwucGFyc2VDb2xvcih0aGlzLm9wdGlvbnMuY29sb3IpOwogICAgICAgIH0KCiAgICAgICAgLy8gdGhpcyB0cmFuc2Zvcm1zIGFsbCBzaG9ydGhhbmRzIGludG8gZnVsbHkgZGVmaW5lZCBvcHRpb25zCiAgICAgICAgTm9kZS5wYXJzZU9wdGlvbnModGhpcy5vcHRpb25zLCBvcHRpb25zLCB0cnVlKTsKCiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2VzCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbWFnZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9ucy5pbWFnZSAhPSAnJykgewogICAgICAgICAgaWYgKHRoaXMuaW1hZ2VsaXN0KSB7CiAgICAgICAgICAgIHRoaXMuaW1hZ2VPYmogPSB0aGlzLmltYWdlbGlzdC5sb2FkKHRoaXMub3B0aW9ucy5pbWFnZSwgdGhpcy5vcHRpb25zLmJyb2tlbkltYWdlLCB0aGlzLmlkKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93ICdObyBpbWFnZWxpc3QgcHJvdmlkZWQnOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy51cGRhdGVTaGFwZSgpOwogICAgICAgIHRoaXMudXBkYXRlTGFiZWxNb2R1bGUoKTsKCiAgICAgICAgLy8gcmVzZXQgdGhlIHNpemUgb2YgdGhlIG5vZGUsIHRoaXMgY2FuIGJlIGNoYW5nZWQKICAgICAgICB0aGlzLl9yZXNldCgpOwoKICAgICAgICBpZiAob3B0aW9ucy5oaWRkZW4gIT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnBoeXNpY3MgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVMYWJlbE1vZHVsZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVMYWJlbE1vZHVsZSgpIHsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxhYmVsID09PSB1bmRlZmluZWQgfHwgdGhpcy5vcHRpb25zLmxhYmVsID09PSBudWxsKSB7CiAgICAgICAgICB0aGlzLm9wdGlvbnMubGFiZWwgPSAnJzsKICAgICAgICB9CiAgICAgICAgdGhpcy5sYWJlbE1vZHVsZS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucywgdHJ1ZSk7CiAgICAgICAgaWYgKHRoaXMubGFiZWxNb2R1bGUuYmFzZVNpemUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5iYXNlRm9udFNpemUgPSB0aGlzLmxhYmVsTW9kdWxlLmJhc2VTaXplOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVTaGFwZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTaGFwZSgpIHsKICAgICAgICAvLyBjaG9vc2UgZHJhdyBtZXRob2QgZGVwZW5kaW5nIG9uIHRoZSBzaGFwZQogICAgICAgIHN3aXRjaCAodGhpcy5vcHRpb25zLnNoYXBlKSB7CiAgICAgICAgICBjYXNlICdib3gnOgogICAgICAgICAgICB0aGlzLnNoYXBlID0gbmV3IF9ub2Rlc1NoYXBlc0JveDJbJ2RlZmF1bHQnXSh0aGlzLm9wdGlvbnMsIHRoaXMuYm9keSwgdGhpcy5sYWJlbE1vZHVsZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnY2lyY2xlJzoKICAgICAgICAgICAgdGhpcy5zaGFwZSA9IG5ldyBfbm9kZXNTaGFwZXNDaXJjbGUyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2NpcmN1bGFySW1hZ2UnOgogICAgICAgICAgICB0aGlzLnNoYXBlID0gbmV3IF9ub2Rlc1NoYXBlc0NpcmN1bGFySW1hZ2UyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUsIHRoaXMuaW1hZ2VPYmopOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2RhdGFiYXNlJzoKICAgICAgICAgICAgdGhpcy5zaGFwZSA9IG5ldyBfbm9kZXNTaGFwZXNEYXRhYmFzZTJbJ2RlZmF1bHQnXSh0aGlzLm9wdGlvbnMsIHRoaXMuYm9keSwgdGhpcy5sYWJlbE1vZHVsZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnZGlhbW9uZCc6CiAgICAgICAgICAgIHRoaXMuc2hhcGUgPSBuZXcgX25vZGVzU2hhcGVzRGlhbW9uZDJbJ2RlZmF1bHQnXSh0aGlzLm9wdGlvbnMsIHRoaXMuYm9keSwgdGhpcy5sYWJlbE1vZHVsZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnZG90JzoKICAgICAgICAgICAgdGhpcy5zaGFwZSA9IG5ldyBfbm9kZXNTaGFwZXNEb3QyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2VsbGlwc2UnOgogICAgICAgICAgICB0aGlzLnNoYXBlID0gbmV3IF9ub2Rlc1NoYXBlc0VsbGlwc2UyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2ljb24nOgogICAgICAgICAgICB0aGlzLnNoYXBlID0gbmV3IF9ub2Rlc1NoYXBlc0ljb24yWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2ltYWdlJzoKICAgICAgICAgICAgdGhpcy5zaGFwZSA9IG5ldyBfbm9kZXNTaGFwZXNJbWFnZTJbJ2RlZmF1bHQnXSh0aGlzLm9wdGlvbnMsIHRoaXMuYm9keSwgdGhpcy5sYWJlbE1vZHVsZSwgdGhpcy5pbWFnZU9iaik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnc3F1YXJlJzoKICAgICAgICAgICAgdGhpcy5zaGFwZSA9IG5ldyBfbm9kZXNTaGFwZXNTcXVhcmUyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3N0YXInOgogICAgICAgICAgICB0aGlzLnNoYXBlID0gbmV3IF9ub2Rlc1NoYXBlc1N0YXIyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3RleHQnOgogICAgICAgICAgICB0aGlzLnNoYXBlID0gbmV3IF9ub2Rlc1NoYXBlc1RleHQyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3RyaWFuZ2xlJzoKICAgICAgICAgICAgdGhpcy5zaGFwZSA9IG5ldyBfbm9kZXNTaGFwZXNUcmlhbmdsZTJbJ2RlZmF1bHQnXSh0aGlzLm9wdGlvbnMsIHRoaXMuYm9keSwgdGhpcy5sYWJlbE1vZHVsZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAndHJpYW5nbGVEb3duJzoKICAgICAgICAgICAgdGhpcy5zaGFwZSA9IG5ldyBfbm9kZXNTaGFwZXNUcmlhbmdsZURvd24yWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRoaXMuc2hhcGUgPSBuZXcgX25vZGVzU2hhcGVzRWxsaXBzZTJbJ2RlZmF1bHQnXSh0aGlzLm9wdGlvbnMsIHRoaXMuYm9keSwgdGhpcy5sYWJlbE1vZHVsZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB0aGlzLl9yZXNldCgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3NlbGVjdCcsCgogICAgICAvKioKICAgICAgICogc2VsZWN0IHRoaXMgbm9kZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdCgpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLl9yZXNldCgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3Vuc2VsZWN0JywKCiAgICAgIC8qKgogICAgICAgKiB1bnNlbGVjdCB0aGlzIG5vZGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bnNlbGVjdCgpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5fcmVzZXQoKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfcmVzZXQnLAoKICAgICAgLyoqCiAgICAgICAqIFJlc2V0IHRoZSBjYWxjdWxhdGVkIHNpemUgb2YgdGhlIG5vZGUsIGZvcmNlcyBpdCB0byByZWNhbGN1bGF0ZSBpdHMgc2l6ZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNldCgpIHsKICAgICAgICB0aGlzLnNoYXBlLndpZHRoID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuc2hhcGUuaGVpZ2h0ID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2dldFRpdGxlJywKCiAgICAgIC8qKgogICAgICAgKiBnZXQgdGhlIHRpdGxlIG9mIHRoaXMgbm9kZS4KICAgICAgICogQHJldHVybiB7c3RyaW5nfSB0aXRsZSAgICBUaGUgdGl0bGUgb2YgdGhlIG5vZGUsIG9yIHVuZGVmaW5lZCB3aGVuIG5vIHRpdGxlCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzIGJlZW4gc2V0LgogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRpdGxlKCkgewogICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGl0bGU7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZGlzdGFuY2VUb0JvcmRlcicsCgogICAgICAvKioKICAgICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSB0byB0aGUgYm9yZGVyIG9mIHRoZSBOb2RlCiAgICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgIGN0eAogICAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgICAgICAgIEFuZ2xlIGluIHJhZGlhbnMKICAgICAgICogQHJldHVybnMge251bWJlcn0gZGlzdGFuY2UgICBEaXN0YW5jZSB0byB0aGUgYm9yZGVyIGluIHBpeGVscwogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Cb3JkZXIoY3R4LCBhbmdsZSkgewogICAgICAgIHJldHVybiB0aGlzLnNoYXBlLmRpc3RhbmNlVG9Cb3JkZXIoY3R4LCBhbmdsZSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnaXNGaXhlZCcsCgogICAgICAvKioKICAgICAgICogQ2hlY2sgaWYgdGhpcyBub2RlIGhhcyBhIGZpeGVkIHggYW5kIHkgcG9zaXRpb24KICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICB0cnVlIGlmIGZpeGVkLCBmYWxzZSBpZiBub3QKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0ZpeGVkKCkgewogICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZml4ZWQueCAmJiB0aGlzLm9wdGlvbnMuZml4ZWQueTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdpc1NlbGVjdGVkJywKCiAgICAgIC8qKgogICAgICAgKiBjaGVjayBpZiB0aGlzIG5vZGUgaXMgc2VsZWN0ZQogICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBzZWxlY3RlZCAgIFRydWUgaWYgbm9kZSBpcyBzZWxlY3RlZCwgZWxzZSBmYWxzZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0ZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZ2V0VmFsdWUnLAoKICAgICAgLyoqCiAgICAgICAqIFJldHJpZXZlIHRoZSB2YWx1ZSBvZiB0aGUgbm9kZS4gQ2FuIGJlIHVuZGVmaW5lZAogICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHZhbHVlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXRWYWx1ZVJhbmdlJywKCiAgICAgIC8qKgogICAgICAgKiBBZGp1c3QgdGhlIHZhbHVlIHJhbmdlIG9mIHRoZSBub2RlLiBUaGUgbm9kZSB3aWxsIGFkanVzdCBpdCdzIHNpemUKICAgICAgICogYmFzZWQgb24gaXRzIHZhbHVlLgogICAgICAgKiBAcGFyYW0ge051bWJlcn0gbWluCiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXgKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZVJhbmdlKG1pbiwgbWF4LCB0b3RhbCkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5vcHRpb25zLnNjYWxpbmcuY3VzdG9tU2NhbGluZ0Z1bmN0aW9uKG1pbiwgbWF4LCB0b3RhbCwgdGhpcy5vcHRpb25zLnZhbHVlKTsKICAgICAgICAgIHZhciBzaXplRGlmZiA9IHRoaXMub3B0aW9ucy5zY2FsaW5nLm1heCAtIHRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbjsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBmb250RGlmZiA9IHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heCAtIHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1pbjsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvbnQuc2l6ZSA9IHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1pbiArIHNjYWxlICogZm9udERpZmY7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm9wdGlvbnMuc2l6ZSA9IHRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbiArIHNjYWxlICogc2l6ZURpZmY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMub3B0aW9ucy5zaXplID0gdGhpcy5iYXNlU2l6ZTsKICAgICAgICAgIHRoaXMub3B0aW9ucy5mb250LnNpemUgPSB0aGlzLmJhc2VGb250U2l6ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCgogICAgICAvKioKICAgICAgICogRHJhdyB0aGlzIG5vZGUgaW4gdGhlIGdpdmVuIGNhbnZhcwogICAgICAgKiBUaGUgMmQgY29udGV4dCBvZiBhIEhUTUwgY2FudmFzIGNhbiBiZSByZXRyaWV2ZWQgYnkgY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgIGN0eAogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoY3R4KSB7CiAgICAgICAgdGhpcy5zaGFwZS5kcmF3KGN0eCwgdGhpcy54LCB0aGlzLnksIHRoaXMuc2VsZWN0ZWQsIHRoaXMuaG92ZXIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3VwZGF0ZUJvdW5kaW5nQm94JywKCiAgICAgIC8qKgogICAgICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgc2hhcGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZGluZ0JveCgpIHsKICAgICAgICB0aGlzLnNoYXBlLnVwZGF0ZUJvdW5kaW5nQm94KHRoaXMueCwgdGhpcy55KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdyZXNpemUnLAoKICAgICAgLyoqCiAgICAgICAqIFJlY2FsY3VsYXRlIHRoZSBzaXplIG9mIHRoaXMgbm9kZSBpbiB0aGUgZ2l2ZW4gY2FudmFzCiAgICAgICAqIFRoZSAyZCBjb250ZXh0IG9mIGEgSFRNTCBjYW52YXMgY2FuIGJlIHJldHJpZXZlZCBieSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICAgY3R4CiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKGN0eCkgewogICAgICAgIHRoaXMuc2hhcGUucmVzaXplKGN0eCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnaXNPdmVybGFwcGluZ1dpdGgnLAoKICAgICAgLyoqCiAgICAgICAqIENoZWNrIGlmIHRoaXMgb2JqZWN0IGlzIG92ZXJsYXBwaW5nIHdpdGggdGhlIHByb3ZpZGVkIG9iamVjdAogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqICAgYW4gb2JqZWN0IHdpdGggcGFyYW1ldGVycyBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20KICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgIFRydWUgaWYgbG9jYXRpb24gaXMgbG9jYXRlZCBvbiBub2RlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gaXNPdmVybGFwcGluZ1dpdGgob2JqKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGUubGVmdCA8IG9iai5yaWdodCAmJiB0aGlzLnNoYXBlLmxlZnQgKyB0aGlzLnNoYXBlLndpZHRoID4gb2JqLmxlZnQgJiYgdGhpcy5zaGFwZS50b3AgPCBvYmouYm90dG9tICYmIHRoaXMuc2hhcGUudG9wICsgdGhpcy5zaGFwZS5oZWlnaHQgPiBvYmoudG9wOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2lzQm91bmRpbmdCb3hPdmVybGFwcGluZ1dpdGgnLAoKICAgICAgLyoqCiAgICAgICAqIENoZWNrIGlmIHRoaXMgb2JqZWN0IGlzIG92ZXJsYXBwaW5nIHdpdGggdGhlIHByb3ZpZGVkIG9iamVjdAogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqICAgYW4gb2JqZWN0IHdpdGggcGFyYW1ldGVycyBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20KICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgIFRydWUgaWYgbG9jYXRpb24gaXMgbG9jYXRlZCBvbiBub2RlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gaXNCb3VuZGluZ0JveE92ZXJsYXBwaW5nV2l0aChvYmopIHsKICAgICAgICByZXR1cm4gdGhpcy5zaGFwZS5ib3VuZGluZ0JveC5sZWZ0IDwgb2JqLnJpZ2h0ICYmIHRoaXMuc2hhcGUuYm91bmRpbmdCb3gucmlnaHQgPiBvYmoubGVmdCAmJiB0aGlzLnNoYXBlLmJvdW5kaW5nQm94LnRvcCA8IG9iai5ib3R0b20gJiYgdGhpcy5zaGFwZS5ib3VuZGluZ0JveC5ib3R0b20gPiBvYmoudG9wOwogICAgICB9CiAgICB9XSwgW3sKICAgICAga2V5OiAncGFyc2VPcHRpb25zJywKCiAgICAgIC8qKgogICAgICAgKiBUaGlzIHByb2Nlc3MgYWxsIHBvc3NpYmxlIHNob3J0aGFuZHMgaW4gdGhlIG5ldyBvcHRpb25zIGFuZCBtYWtlcyBzdXJlIHRoYXQgdGhlIHBhcmVudE9wdGlvbnMgYXJlIGZ1bGx5IGRlZmluZWQuCiAgICAgICAqIFN0YXRpYyBzbyBpdCBjYW4gYWxzbyBiZSB1c2VkIGJ5IHRoZSBoYW5kbGVyLgogICAgICAgKiBAcGFyYW0gcGFyZW50T3B0aW9ucwogICAgICAgKiBAcGFyYW0gbmV3T3B0aW9ucwogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhwYXJlbnRPcHRpb25zLCBuZXdPcHRpb25zKSB7CiAgICAgICAgdmFyIGFsbG93RGVsZXRpb24gPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzJdOwoKICAgICAgICB2YXIgZmllbGRzID0gWydjb2xvcicsICdmb250JywgJ2ZpeGVkJywgJ3NoYWRvdyddOwogICAgICAgIHV0aWwuc2VsZWN0aXZlTm90RGVlcEV4dGVuZChmaWVsZHMsIHBhcmVudE9wdGlvbnMsIG5ld09wdGlvbnMsIGFsbG93RGVsZXRpb24pOwoKICAgICAgICAvLyBtZXJnZSB0aGUgc2hhZG93IG9wdGlvbnMgaW50byB0aGUgcGFyZW50LgogICAgICAgIHV0aWwubWVyZ2VPcHRpb25zKHBhcmVudE9wdGlvbnMsIG5ld09wdGlvbnMsICdzaGFkb3cnKTsKCiAgICAgICAgLy8gaW5kaXZpZHVhbCBzaGFwZSBuZXdPcHRpb25zCiAgICAgICAgaWYgKG5ld09wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCAmJiBuZXdPcHRpb25zLmNvbG9yICE9PSBudWxsKSB7CiAgICAgICAgICB2YXIgcGFyc2VkQ29sb3IgPSB1dGlsLnBhcnNlQ29sb3IobmV3T3B0aW9ucy5jb2xvcik7CiAgICAgICAgICB1dGlsLmZpbGxJZkRlZmluZWQocGFyZW50T3B0aW9ucy5jb2xvciwgcGFyc2VkQ29sb3IpOwogICAgICAgIH0gZWxzZSBpZiAoYWxsb3dEZWxldGlvbiA9PT0gdHJ1ZSAmJiBuZXdPcHRpb25zLmNvbG9yID09PSBudWxsKSB7CiAgICAgICAgICBwYXJlbnRPcHRpb25zLmNvbG9yID0gdW5kZWZpbmVkOwogICAgICAgICAgZGVsZXRlIHBhcmVudE9wdGlvbnMuY29sb3I7CiAgICAgICAgfQoKICAgICAgICAvLyBoYW5kbGUgdGhlIGZpeGVkIG9wdGlvbnMKICAgICAgICBpZiAobmV3T3B0aW9ucy5maXhlZCAhPT0gdW5kZWZpbmVkICYmIG5ld09wdGlvbnMuZml4ZWQgIT09IG51bGwpIHsKICAgICAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5maXhlZCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICAgIHBhcmVudE9wdGlvbnMuZml4ZWQueCA9IG5ld09wdGlvbnMuZml4ZWQ7CiAgICAgICAgICAgIHBhcmVudE9wdGlvbnMuZml4ZWQueSA9IG5ld09wdGlvbnMuZml4ZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobmV3T3B0aW9ucy5maXhlZC54ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG5ld09wdGlvbnMuZml4ZWQueCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5maXhlZC54ID0gbmV3T3B0aW9ucy5maXhlZC54OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChuZXdPcHRpb25zLmZpeGVkLnkgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgbmV3T3B0aW9ucy5maXhlZC55ID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgICBwYXJlbnRPcHRpb25zLmZpeGVkLnkgPSBuZXdPcHRpb25zLmZpeGVkLnk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGhhbmRsZSB0aGUgZm9udCBvcHRpb25zCiAgICAgICAgaWYgKG5ld09wdGlvbnMuZm9udCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfc2hhcmVkTGFiZWwyWydkZWZhdWx0J10ucGFyc2VPcHRpb25zKHBhcmVudE9wdGlvbnMuZm9udCwgbmV3T3B0aW9ucyk7CiAgICAgICAgfQoKICAgICAgICAvLyBoYW5kbGUgdGhlIHNjYWxpbmcgb3B0aW9ucywgc3BlY2lmaWNhbGx5IHRoZSBsYWJlbCBwYXJ0CiAgICAgICAgaWYgKG5ld09wdGlvbnMuc2NhbGluZyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB1dGlsLm1lcmdlT3B0aW9ucyhwYXJlbnRPcHRpb25zLnNjYWxpbmcsIG5ld09wdGlvbnMuc2NhbGluZywgJ2xhYmVsJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIE5vZGU7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gTm9kZTsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDYzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWydyZXR1cm4nXSkgX2lbJ3JldHVybiddKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpOyB9IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgdmFyIExhYmVsID0gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIExhYmVsKGJvZHksIG9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhYmVsKTsKCiAgICAgIHRoaXMuYm9keSA9IGJvZHk7CgogICAgICB0aGlzLnBvaW50VG9TZWxmID0gZmFsc2U7CiAgICAgIHRoaXMuYmFzZVNpemUgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgICAgdGhpcy5zaXplID0geyB0b3A6IDAsIGxlZnQ6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAsIHlMaW5lOiAwIH07IC8vIGNvdWxkIGJlIGNhY2hlZAogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhMYWJlbCwgW3sKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICB2YXIgYWxsb3dEZWxldGlvbiA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07CgogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CgogICAgICAgIGlmIChvcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMubGFiZWxEaXJ0eSA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy5mb250ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIExhYmVsLnBhcnNlT3B0aW9ucyh0aGlzLm9wdGlvbnMuZm9udCwgb3B0aW9ucywgYWxsb3dEZWxldGlvbik7CiAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZm9udCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgdGhpcy5iYXNlU2l6ZSA9IHRoaXMub3B0aW9ucy5mb250LnNpemU7CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmZvbnQgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zLmZvbnQuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdGhpcy5iYXNlU2l6ZSA9IG9wdGlvbnMuZm9udC5zaXplOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXcnLAoKICAgICAgLyoqCiAgICAgICAqIE1haW4gZnVuY3Rpb24uIFRoaXMgaXMgY2FsbGVkIGZyb20gYW55dGhpbmcgdGhhdCB3YW50cyB0byBkcmF3IGEgbGFiZWwuCiAgICAgICAqIEBwYXJhbSBjdHgKICAgICAgICogQHBhcmFtIHgKICAgICAgICogQHBhcmFtIHkKICAgICAgICogQHBhcmFtIHNlbGVjdGVkCiAgICAgICAqIEBwYXJhbSBiYXNlbGluZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoY3R4LCB4LCB5LCBzZWxlY3RlZCkgewogICAgICAgIHZhciBiYXNlbGluZSA9IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gJ21pZGRsZScgOiBhcmd1bWVudHNbNF07CgogICAgICAgIC8vIGlmIG5vIGxhYmVsLCByZXR1cm4KICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxhYmVsID09PSB1bmRlZmluZWQpIHJldHVybjsKCiAgICAgICAgLy8gY2hlY2sgaWYgd2UgaGF2ZSB0byByZW5kZXIgdGhlIGxhYmVsCiAgICAgICAgdmFyIHZpZXdGb250U2l6ZSA9IHRoaXMub3B0aW9ucy5mb250LnNpemUgKiB0aGlzLmJvZHkudmlldy5zY2FsZTsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxhYmVsICYmIHZpZXdGb250U2l6ZSA8IHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLmRyYXdUaHJlc2hvbGQgLSAxKSByZXR1cm47CgogICAgICAgIC8vIHVwZGF0ZSB0aGUgc2l6ZSBjYWNoZSBpZiByZXF1aXJlZAogICAgICAgIHRoaXMuY2FsY3VsYXRlTGFiZWxTaXplKGN0eCwgc2VsZWN0ZWQsIHgsIHksIGJhc2VsaW5lKTsKCiAgICAgICAgLy8gY3JlYXRlIHRoZSBmb250ZmlsbCBiYWNrZ3JvdW5kCiAgICAgICAgdGhpcy5fZHJhd0JhY2tncm91bmQoY3R4KTsKICAgICAgICAvLyBkcmF3IHRleHQKICAgICAgICB0aGlzLl9kcmF3VGV4dChjdHgsIHNlbGVjdGVkLCB4LCB5LCBiYXNlbGluZSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2RyYXdCYWNrZ3JvdW5kJywKCiAgICAgIC8qKgogICAgICAgKiBEcmF3cyB0aGUgbGFiZWwgYmFja2dyb3VuZAogICAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYXdCYWNrZ3JvdW5kKGN0eCkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9udC5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zLmZvbnQuYmFja2dyb3VuZCAhPT0gJ25vbmUnKSB7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5vcHRpb25zLmZvbnQuYmFja2dyb3VuZDsKCiAgICAgICAgICB2YXIgbGluZU1hcmdpbiA9IDI7CgogICAgICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuZm9udC5hbGlnbikgewogICAgICAgICAgICBjYXNlICdtaWRkbGUnOgogICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgtdGhpcy5zaXplLndpZHRoICogMC41LCAtdGhpcy5zaXplLmhlaWdodCAqIDAuNSwgdGhpcy5zaXplLndpZHRoLCB0aGlzLnNpemUuaGVpZ2h0KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAndG9wJzoKICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoLXRoaXMuc2l6ZS53aWR0aCAqIDAuNSwgLSh0aGlzLnNpemUuaGVpZ2h0ICsgbGluZU1hcmdpbiksIHRoaXMuc2l6ZS53aWR0aCwgdGhpcy5zaXplLmhlaWdodCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6CiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KC10aGlzLnNpemUud2lkdGggKiAwLjUsIGxpbmVNYXJnaW4sIHRoaXMuc2l6ZS53aWR0aCwgdGhpcy5zaXplLmhlaWdodCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMuc2l6ZS5sZWZ0LCB0aGlzLnNpemUudG9wIC0gMC41ICogbGluZU1hcmdpbiwgdGhpcy5zaXplLndpZHRoLCB0aGlzLnNpemUuaGVpZ2h0KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2RyYXdUZXh0JywKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAcGFyYW0gY3R4CiAgICAgICAqIEBwYXJhbSB4CiAgICAgICAqIEBwYXJhbSBiYXNlbGluZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmF3VGV4dChjdHgsIHNlbGVjdGVkLCB4LCB5KSB7CiAgICAgICAgdmFyIGJhc2VsaW5lID0gYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyAnbWlkZGxlJyA6IGFyZ3VtZW50c1s0XTsKCiAgICAgICAgdmFyIGZvbnRTaXplID0gdGhpcy5vcHRpb25zLmZvbnQuc2l6ZTsKICAgICAgICB2YXIgdmlld0ZvbnRTaXplID0gZm9udFNpemUgKiB0aGlzLmJvZHkudmlldy5zY2FsZTsKICAgICAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCB0aGVyZSB3aWxsIG5vdCBiZSBIVUdFIGxldHRlcnMgb24gc2NyZWVuIGJ5IHNldHRpbmcgYW4gdXBwZXIgbGltaXQgb24gdGhlIHZpc2libGUgdGV4dCBzaXplIChyZWdhcmRsZXNzIG9mIHpvb21MZXZlbCkKICAgICAgICBpZiAodmlld0ZvbnRTaXplID49IHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heFZpc2libGUpIHsKICAgICAgICAgIGZvbnRTaXplID0gTnVtYmVyKHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heFZpc2libGUpIC8gdGhpcy5ib2R5LnZpZXcuc2NhbGU7CiAgICAgICAgfQoKICAgICAgICB2YXIgeUxpbmUgPSB0aGlzLnNpemUueUxpbmU7CgogICAgICAgIHZhciBfZ2V0Q29sb3IyID0gdGhpcy5fZ2V0Q29sb3Iodmlld0ZvbnRTaXplKTsKCiAgICAgICAgdmFyIF9nZXRDb2xvcjIyID0gX3NsaWNlZFRvQXJyYXkoX2dldENvbG9yMiwgMik7CgogICAgICAgIHZhciBmb250Q29sb3IgPSBfZ2V0Q29sb3IyMlswXTsKICAgICAgICB2YXIgc3Ryb2tlQ29sb3IgPSBfZ2V0Q29sb3IyMlsxXTsKCiAgICAgICAgdmFyIF9zZXRBbGlnbm1lbnQyID0gdGhpcy5fc2V0QWxpZ25tZW50KGN0eCwgeCwgeUxpbmUsIGJhc2VsaW5lKTsKCiAgICAgICAgdmFyIF9zZXRBbGlnbm1lbnQyMiA9IF9zbGljZWRUb0FycmF5KF9zZXRBbGlnbm1lbnQyLCAyKTsKCiAgICAgICAgeCA9IF9zZXRBbGlnbm1lbnQyMlswXTsKICAgICAgICB5TGluZSA9IF9zZXRBbGlnbm1lbnQyMlsxXTsKCiAgICAgICAgLy8gY29uZmlndXJlIGNvbnRleHQgZm9yIGRyYXdpbmcgdGhlIHRleHQKICAgICAgICBjdHguZm9udCA9IChzZWxlY3RlZCA/ICdib2xkICcgOiAnJykgKyBmb250U2l6ZSArICdweCAnICsgdGhpcy5vcHRpb25zLmZvbnQuZmFjZTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gZm9udENvbG9yOwogICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJzsKCiAgICAgICAgLy8gc2V0IHRoZSBzdHJva2VXaWR0aAogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9udC5zdHJva2VXaWR0aCA+IDApIHsKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLm9wdGlvbnMuZm9udC5zdHJva2VXaWR0aDsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yOwogICAgICAgICAgY3R4LmxpbmVKb2luID0gJ3JvdW5kJzsKICAgICAgICB9CgogICAgICAgIC8vIGRyYXcgdGhlIHRleHQKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGluZUNvdW50OyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9udC5zdHJva2VXaWR0aCA+IDApIHsKICAgICAgICAgICAgY3R4LnN0cm9rZVRleHQodGhpcy5saW5lc1tpXSwgeCwgeUxpbmUpOwogICAgICAgICAgfQogICAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMubGluZXNbaV0sIHgsIHlMaW5lKTsKICAgICAgICAgIHlMaW5lICs9IGZvbnRTaXplOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfc2V0QWxpZ25tZW50JywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRBbGlnbm1lbnQoY3R4LCB4LCB5TGluZSwgYmFzZWxpbmUpIHsKICAgICAgICAvLyBjaGVjayBmb3IgbGFiZWwgYWxpZ25tZW50IChmb3IgZWRnZXMpCiAgICAgICAgLy8gVE9ETzogbWFrZSBhbGlnbm1lbnQgZm9yIG5vZGVzCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mb250LmFsaWduICE9PSAnaG9yaXpvbnRhbCcgJiYgdGhpcy5wb2ludFRvU2VsZiA9PT0gZmFsc2UpIHsKICAgICAgICAgIHggPSAwOwogICAgICAgICAgeUxpbmUgPSAwOwoKICAgICAgICAgIHZhciBsaW5lTWFyZ2luID0gMjsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9udC5hbGlnbiA9PT0gJ3RvcCcpIHsKICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJzsKICAgICAgICAgICAgeUxpbmUgLT0gMiAqIGxpbmVNYXJnaW47IC8vIGRpc3RhbmNlIGZyb20gZWRnZSwgcmVxdWlyZWQgYmVjYXVzZSB3ZSB1c2UgYWxwaGFiZXRpYy4gQWxwaGFiZXRpYyBoYXMgbGVzcyBkaWZmZXJlbmNlIGJldHdlZW4gYnJvd3NlcnMKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmZvbnQuYWxpZ24gPT09ICdib3R0b20nKSB7CiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnaGFuZ2luZyc7CiAgICAgICAgICAgIHlMaW5lICs9IDIgKiBsaW5lTWFyZ2luOyAvLyBkaXN0YW5jZSBmcm9tIGVkZ2UsIHJlcXVpcmVkIGJlY2F1c2Ugd2UgdXNlIGhhbmdpbmcuIEhhbmdpbmcgaGFzIGxlc3MgZGlmZmVyZW5jZSBiZXR3ZWVuIGJyb3dzZXJzCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBiYXNlbGluZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBbeCwgeUxpbmVdOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19nZXRDb2xvcicsCgogICAgICAvKioKICAgICAgICogZmFkZSBpbiB3aGVuIHJlbGF0aXZlIHNjYWxlIGlzIGJldHdlZW4gdGhyZXNob2xkIGFuZCB0aHJlc2hvbGQgLSAxLgogICAgICAgKiBJZiB0aGUgcmVsYXRpdmUgc2NhbGUgd291bGQgYmUgc21hbGxlciB0aGFuIHRocmVzaG9sZCAtMSB0aGUgZHJhdyBmdW5jdGlvbiB3b3VsZCBoYXZlIHJldHVybmVkIGJlZm9yZSBjb21pbmcgaGVyZS4KICAgICAgICoKICAgICAgICogQHBhcmFtIHZpZXdGb250U2l6ZQogICAgICAgKiBAcmV0dXJucyB7KltdfQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDb2xvcih2aWV3Rm9udFNpemUpIHsKICAgICAgICB2YXIgZm9udENvbG9yID0gdGhpcy5vcHRpb25zLmZvbnQuY29sb3IgfHwgJyMwMDAwMDAnOwogICAgICAgIHZhciBzdHJva2VDb2xvciA9IHRoaXMub3B0aW9ucy5mb250LnN0cm9rZUNvbG9yIHx8ICcjZmZmZmZmJzsKICAgICAgICBpZiAodmlld0ZvbnRTaXplIDw9IHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLmRyYXdUaHJlc2hvbGQpIHsKICAgICAgICAgIHZhciBvcGFjaXR5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgMSAtICh0aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5kcmF3VGhyZXNob2xkIC0gdmlld0ZvbnRTaXplKSkpOwogICAgICAgICAgZm9udENvbG9yID0gdXRpbC5vdmVycmlkZU9wYWNpdHkoZm9udENvbG9yLCBvcGFjaXR5KTsKICAgICAgICAgIHN0cm9rZUNvbG9yID0gdXRpbC5vdmVycmlkZU9wYWNpdHkoc3Ryb2tlQ29sb3IsIG9wYWNpdHkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gW2ZvbnRDb2xvciwgc3Ryb2tlQ29sb3JdOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2dldFRleHRTaXplJywKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAcGFyYW0gY3R4CiAgICAgICAqIEBwYXJhbSBzZWxlY3RlZAogICAgICAgKiBAcmV0dXJucyB7e3dpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyfX0KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUZXh0U2l6ZShjdHgpIHsKICAgICAgICB2YXIgc2VsZWN0ZWQgPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzFdOwoKICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgIHdpZHRoOiB0aGlzLl9wcm9jZXNzTGFiZWwoY3R4LCBzZWxlY3RlZCksCiAgICAgICAgICBoZWlnaHQ6IHRoaXMub3B0aW9ucy5mb250LnNpemUgKiB0aGlzLmxpbmVDb3VudCwKICAgICAgICAgIGxpbmVDb3VudDogdGhpcy5saW5lQ291bnQKICAgICAgICB9OwogICAgICAgIHJldHVybiBzaXplOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2NhbGN1bGF0ZUxhYmVsU2l6ZScsCgogICAgICAvKioKICAgICAgICoKICAgICAgICogQHBhcmFtIGN0eAogICAgICAgKiBAcGFyYW0gc2VsZWN0ZWQKICAgICAgICogQHBhcmFtIHgKICAgICAgICogQHBhcmFtIHkKICAgICAgICogQHBhcmFtIGJhc2VsaW5lCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlTGFiZWxTaXplKGN0eCwgc2VsZWN0ZWQpIHsKICAgICAgICB2YXIgeCA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1syXTsKICAgICAgICB2YXIgeSA9IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1szXTsKICAgICAgICB2YXIgYmFzZWxpbmUgPSBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/ICdtaWRkbGUnIDogYXJndW1lbnRzWzRdOwoKICAgICAgICBpZiAodGhpcy5sYWJlbERpcnR5ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnNpemUud2lkdGggPSB0aGlzLl9wcm9jZXNzTGFiZWwoY3R4LCBzZWxlY3RlZCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2l6ZS5oZWlnaHQgPSB0aGlzLm9wdGlvbnMuZm9udC5zaXplICogdGhpcy5saW5lQ291bnQ7CiAgICAgICAgdGhpcy5zaXplLmxlZnQgPSB4IC0gdGhpcy5zaXplLndpZHRoICogMC41OwogICAgICAgIHRoaXMuc2l6ZS50b3AgPSB5IC0gdGhpcy5zaXplLmhlaWdodCAqIDAuNTsKICAgICAgICB0aGlzLnNpemUueUxpbmUgPSB5ICsgKDEgLSB0aGlzLmxpbmVDb3VudCkgKiAwLjUgKiB0aGlzLm9wdGlvbnMuZm9udC5zaXplOwogICAgICAgIGlmIChiYXNlbGluZSA9PT0gJ2hhbmdpbmcnKSB7CiAgICAgICAgICB0aGlzLnNpemUudG9wICs9IDAuNSAqIHRoaXMub3B0aW9ucy5mb250LnNpemU7CiAgICAgICAgICB0aGlzLnNpemUudG9wICs9IDQ7IC8vIGRpc3RhbmNlIGZyb20gbm9kZSwgcmVxdWlyZWQgYmVjYXVzZSB3ZSB1c2UgaGFuZ2luZy4gSGFuZ2luZyBoYXMgbGVzcyBkaWZmZXJlbmNlIGJldHdlZW4gYnJvd3NlcnMKICAgICAgICAgIHRoaXMuc2l6ZS55TGluZSArPSA0OyAvLyBkaXN0YW5jZSBmcm9tIG5vZGUKICAgICAgICB9CgogICAgICAgIHRoaXMubGFiZWxEaXJ0eSA9IGZhbHNlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19wcm9jZXNzTGFiZWwnLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgY2FsY3VsYXRlcyB0aGUgd2lkdGggYXMgd2VsbCBhcyBleHBsb2RlcyB0aGUgbGFiZWwgc3RyaW5nIGFuZCBjYWxjdWxhdGVzIHRoZSBhbW91bnQgb2YgbGluZXMuCiAgICAgICAqIEBwYXJhbSBjdHgKICAgICAgICogQHBhcmFtIHNlbGVjdGVkCiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NMYWJlbChjdHgsIHNlbGVjdGVkKSB7CiAgICAgICAgdmFyIHdpZHRoID0gMDsKICAgICAgICB2YXIgbGluZXMgPSBbJyddOwogICAgICAgIHZhciBsaW5lQ291bnQgPSAwOwogICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgbGluZXMgPSBTdHJpbmcodGhpcy5vcHRpb25zLmxhYmVsKS5zcGxpdCgnXG4nKTsKICAgICAgICAgIGxpbmVDb3VudCA9IGxpbmVzLmxlbmd0aDsKICAgICAgICAgIGN0eC5mb250ID0gKHNlbGVjdGVkID8gJ2JvbGQgJyA6ICcnKSArIHRoaXMub3B0aW9ucy5mb250LnNpemUgKyAncHggJyArIHRoaXMub3B0aW9ucy5mb250LmZhY2U7CiAgICAgICAgICB3aWR0aCA9IGN0eC5tZWFzdXJlVGV4dChsaW5lc1swXSkud2lkdGg7CiAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpbmVDb3VudDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBjdHgubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoOwogICAgICAgICAgICB3aWR0aCA9IGxpbmVXaWR0aCA+IHdpZHRoID8gbGluZVdpZHRoIDogd2lkdGg7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMubGluZXMgPSBsaW5lczsKICAgICAgICB0aGlzLmxpbmVDb3VudCA9IGxpbmVDb3VudDsKCiAgICAgICAgcmV0dXJuIHdpZHRoOwogICAgICB9CiAgICB9XSwgW3sKICAgICAga2V5OiAncGFyc2VPcHRpb25zJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhwYXJlbnRPcHRpb25zLCBuZXdPcHRpb25zKSB7CiAgICAgICAgdmFyIGFsbG93RGVsZXRpb24gPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzJdOwoKICAgICAgICBpZiAodHlwZW9mIG5ld09wdGlvbnMuZm9udCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHZhciBuZXdPcHRpb25zQXJyYXkgPSBuZXdPcHRpb25zLmZvbnQuc3BsaXQoJyAnKTsKICAgICAgICAgIHBhcmVudE9wdGlvbnMuc2l6ZSA9IG5ld09wdGlvbnNBcnJheVswXS5yZXBsYWNlKCdweCcsICcnKTsKICAgICAgICAgIHBhcmVudE9wdGlvbnMuZmFjZSA9IG5ld09wdGlvbnNBcnJheVsxXTsKICAgICAgICAgIHBhcmVudE9wdGlvbnMuY29sb3IgPSBuZXdPcHRpb25zQXJyYXlbMl07CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5mb250ID09PSAnb2JqZWN0JykgewogICAgICAgICAgdXRpbC5maWxsSWZEZWZpbmVkKHBhcmVudE9wdGlvbnMsIG5ld09wdGlvbnMuZm9udCwgYWxsb3dEZWxldGlvbik7CiAgICAgICAgfQogICAgICAgIHBhcmVudE9wdGlvbnMuc2l6ZSA9IE51bWJlcihwYXJlbnRPcHRpb25zLnNpemUpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIExhYmVsOwogIH0pKCk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IExhYmVsOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNjQgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxOb2RlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpOwoKICB2YXIgX3V0aWxOb2RlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsTm9kZUJhc2UpOwoKICB2YXIgQm94ID0gKGZ1bmN0aW9uIChfTm9kZUJhc2UpIHsKICAgIGZ1bmN0aW9uIEJveChvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQm94KTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEJveC5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoQm94LCBfTm9kZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhCb3gsIFt7CiAgICAgIGtleTogJ3Jlc2l6ZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoY3R4LCBzZWxlY3RlZCkgewogICAgICAgIGlmICh0aGlzLndpZHRoID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBtYXJnaW4gPSA1OwogICAgICAgICAgdmFyIHRleHRTaXplID0gdGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZShjdHgsIHNlbGVjdGVkKTsKICAgICAgICAgIHRoaXMud2lkdGggPSB0ZXh0U2l6ZS53aWR0aCArIDIgKiBtYXJnaW47CiAgICAgICAgICB0aGlzLmhlaWdodCA9IHRleHRTaXplLmhlaWdodCArIDIgKiBtYXJnaW47CiAgICAgICAgICB0aGlzLnJhZGl1cyA9IDAuNSAqIHRoaXMud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkLCBob3ZlcikgewogICAgICAgIHRoaXMucmVzaXplKGN0eCwgc2VsZWN0ZWQpOwogICAgICAgIHRoaXMubGVmdCA9IHggLSB0aGlzLndpZHRoIC8gMjsKICAgICAgICB0aGlzLnRvcCA9IHkgLSB0aGlzLmhlaWdodCAvIDI7CgogICAgICAgIHZhciBib3JkZXJXaWR0aCA9IHRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aDsKICAgICAgICB2YXIgc2VsZWN0aW9uTGluZVdpZHRoID0gdGhpcy5vcHRpb25zLmJvcmRlcldpZHRoU2VsZWN0ZWQgfHwgMiAqIHRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aDsKCiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc2VsZWN0ZWQgPyB0aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlciA6IGhvdmVyID8gdGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJvcmRlciA6IHRoaXMub3B0aW9ucy5jb2xvci5ib3JkZXI7CiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHNlbGVjdGVkID8gc2VsZWN0aW9uTGluZVdpZHRoIDogYm9yZGVyV2lkdGg7CiAgICAgICAgY3R4LmxpbmVXaWR0aCAvPSB0aGlzLmJvZHkudmlldy5zY2FsZTsKICAgICAgICBjdHgubGluZVdpZHRoID0gTWF0aC5taW4odGhpcy53aWR0aCwgY3R4LmxpbmVXaWR0aCk7CgogICAgICAgIGN0eC5maWxsU3R5bGUgPSBzZWxlY3RlZCA/IHRoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYmFja2dyb3VuZCA6IGhvdmVyID8gdGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJhY2tncm91bmQgOiB0aGlzLm9wdGlvbnMuY29sb3IuYmFja2dyb3VuZDsKCiAgICAgICAgdmFyIGJvcmRlclJhZGl1cyA9IDY7CiAgICAgICAgY3R4LnJvdW5kUmVjdCh0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgYm9yZGVyUmFkaXVzKTsKCiAgICAgICAgLy8gZHJhdyBzaGFkb3cgaWYgZW5hYmxlZAogICAgICAgIHRoaXMuZW5hYmxlU2hhZG93KGN0eCk7CiAgICAgICAgY3R4LmZpbGwoKTsKCiAgICAgICAgLy8gZGlzYWJsZSBzaGFkb3dzIGZvciBvdGhlciBlbGVtZW50cy4KICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKCiAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KHgsIHkpOwogICAgICAgIHRoaXMubGFiZWxNb2R1bGUuZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVCb3VuZGluZ0JveCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZGluZ0JveCh4LCB5KSB7CiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggKiAwLjU7CiAgICAgICAgdGhpcy50b3AgPSB5IC0gdGhpcy5oZWlnaHQgKiAwLjU7CgogICAgICAgIHRoaXMuYm91bmRpbmdCb3gubGVmdCA9IHRoaXMubGVmdDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnRvcCA9IHRoaXMudG9wOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3guYm90dG9tID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdkaXN0YW5jZVRvQm9yZGVyJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Cb3JkZXIoY3R4LCBhbmdsZSkgewogICAgICAgIHRoaXMucmVzaXplKGN0eCk7CiAgICAgICAgdmFyIGEgPSB0aGlzLndpZHRoIC8gMjsKICAgICAgICB2YXIgYiA9IHRoaXMuaGVpZ2h0IC8gMjsKICAgICAgICB2YXIgdyA9IE1hdGguc2luKGFuZ2xlKSAqIGE7CiAgICAgICAgdmFyIGggPSBNYXRoLmNvcyhhbmdsZSkgKiBiOwogICAgICAgIHJldHVybiBhICogYiAvIE1hdGguc3FydCh3ICogdyArIGggKiBoKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBCb3g7CiAgfSkoX3V0aWxOb2RlQmFzZTJbJ2RlZmF1bHQnXSk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEJveDsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDY1ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICB2YXIgTm9kZUJhc2UgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gTm9kZUJhc2Uob3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vZGVCYXNlKTsKCiAgICAgIHRoaXMuYm9keSA9IGJvZHk7CiAgICAgIHRoaXMubGFiZWxNb2R1bGUgPSBsYWJlbE1vZHVsZTsKICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwogICAgICB0aGlzLnRvcCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5sZWZ0ID0gdW5kZWZpbmVkOwogICAgICB0aGlzLmhlaWdodCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy53aWR0aCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5yYWRpdXMgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSB7IHRvcDogMCwgbGVmdDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCB9OwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhOb2RlQmFzZSwgW3sKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19kaXN0YW5jZVRvQm9yZGVyJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kaXN0YW5jZVRvQm9yZGVyKGFuZ2xlKSB7CiAgICAgICAgdmFyIGJvcmRlcldpZHRoID0gMTsKICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5hYnModGhpcy53aWR0aCAvIDIgLyBNYXRoLmNvcyhhbmdsZSkpLCBNYXRoLmFicyh0aGlzLmhlaWdodCAvIDIgLyBNYXRoLnNpbihhbmdsZSkpKSArIGJvcmRlcldpZHRoOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2VuYWJsZVNoYWRvdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVTaGFkb3coY3R4KSB7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gJ3JnYmEoMCwwLDAsMC41KSc7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IHRoaXMub3B0aW9ucy5zaGFkb3cuc2l6ZTsKICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gdGhpcy5vcHRpb25zLnNoYWRvdy54OwogICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSB0aGlzLm9wdGlvbnMuc2hhZG93Lnk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc2FibGVTaGFkb3cnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZVNoYWRvdyhjdHgpIHsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSAncmdiYSgwLDAsMCwwKSc7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7CiAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDA7CiAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDA7CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIE5vZGVCYXNlOwogIH0pKCk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IE5vZGVCYXNlOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNjYgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxDaXJjbGVJbWFnZUJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTsKCiAgdmFyIF91dGlsQ2lyY2xlSW1hZ2VCYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxDaXJjbGVJbWFnZUJhc2UpOwoKICB2YXIgQ2lyY2xlID0gKGZ1bmN0aW9uIChfQ2lyY2xlSW1hZ2VCYXNlKSB7CiAgICBmdW5jdGlvbiBDaXJjbGUob3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7CgogICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihDaXJjbGUucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICB9CgogICAgX2luaGVyaXRzKENpcmNsZSwgX0NpcmNsZUltYWdlQmFzZSk7CgogICAgX2NyZWF0ZUNsYXNzKENpcmNsZSwgW3sKICAgICAga2V5OiAncmVzaXplJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZShjdHgsIHNlbGVjdGVkKSB7CiAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIG1hcmdpbiA9IDU7CiAgICAgICAgICB2YXIgdGV4dFNpemUgPSB0aGlzLmxhYmVsTW9kdWxlLmdldFRleHRTaXplKGN0eCwgc2VsZWN0ZWQpOwogICAgICAgICAgdmFyIGRpYW1ldGVyID0gTWF0aC5tYXgodGV4dFNpemUud2lkdGgsIHRleHRTaXplLmhlaWdodCkgKyAyICogbWFyZ2luOwogICAgICAgICAgdGhpcy5vcHRpb25zLnNpemUgPSBkaWFtZXRlciAvIDI7CgogICAgICAgICAgdGhpcy53aWR0aCA9IGRpYW1ldGVyOwogICAgICAgICAgdGhpcy5oZWlnaHQgPSBkaWFtZXRlcjsKICAgICAgICAgIHRoaXMucmFkaXVzID0gMC41ICogdGhpcy53aWR0aDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgdGhpcy5yZXNpemUoY3R4LCBzZWxlY3RlZCk7CiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggLyAyOwogICAgICAgIHRoaXMudG9wID0geSAtIHRoaXMuaGVpZ2h0IC8gMjsKCiAgICAgICAgdGhpcy5fZHJhd1Jhd0NpcmNsZShjdHgsIHgsIHksIHNlbGVjdGVkLCBob3ZlciwgdGhpcy5vcHRpb25zLnNpemUpOwoKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnRvcCA9IHkgLSB0aGlzLm9wdGlvbnMuc2l6ZTsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmxlZnQgPSB4IC0gdGhpcy5vcHRpb25zLnNpemU7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5yaWdodCA9IHggKyB0aGlzLm9wdGlvbnMuc2l6ZTsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSA9IHkgKyB0aGlzLm9wdGlvbnMuc2l6ZTsKCiAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ0JveCh4LCB5KTsKICAgICAgICB0aGlzLmxhYmVsTW9kdWxlLmRyYXcoY3R4LCB4LCB5LCBzZWxlY3RlZCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndXBkYXRlQm91bmRpbmdCb3gnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQm91bmRpbmdCb3goeCwgeSkgewogICAgICAgIHRoaXMuYm91bmRpbmdCb3gudG9wID0geSAtIHRoaXMub3B0aW9ucy5zaXplOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3gubGVmdCA9IHggLSB0aGlzLm9wdGlvbnMuc2l6ZTsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnJpZ2h0ID0geCArIHRoaXMub3B0aW9ucy5zaXplOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3guYm90dG9tID0geSArIHRoaXMub3B0aW9ucy5zaXplOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc3RhbmNlVG9Cb3JkZXInLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKSB7CiAgICAgICAgdGhpcy5yZXNpemUoY3R4KTsKICAgICAgICB2YXIgYSA9IHRoaXMud2lkdGggLyAyOwogICAgICAgIHZhciBiID0gdGhpcy5oZWlnaHQgLyAyOwogICAgICAgIHZhciB3ID0gTWF0aC5zaW4oYW5nbGUpICogYTsKICAgICAgICB2YXIgaCA9IE1hdGguY29zKGFuZ2xlKSAqIGI7CiAgICAgICAgcmV0dXJuIGEgKiBiIC8gTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIENpcmNsZTsKICB9KShfdXRpbENpcmNsZUltYWdlQmFzZTJbJ2RlZmF1bHQnXSk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IENpcmNsZTsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDY3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF91dGlsTm9kZUJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTsKCiAgdmFyIF91dGlsTm9kZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbE5vZGVCYXNlKTsKCiAgdmFyIENpcmNsZUltYWdlQmFzZSA9IChmdW5jdGlvbiAoX05vZGVCYXNlKSB7CiAgICBmdW5jdGlvbiBDaXJjbGVJbWFnZUJhc2Uob3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZUltYWdlQmFzZSk7CgogICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihDaXJjbGVJbWFnZUJhc2UucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICAgIHRoaXMubGFiZWxPZmZzZXQgPSAwOwogICAgICB0aGlzLmltYWdlTG9hZGVkID0gZmFsc2U7CiAgICB9CgogICAgX2luaGVyaXRzKENpcmNsZUltYWdlQmFzZSwgX05vZGVCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoQ2lyY2xlSW1hZ2VCYXNlLCBbewogICAgICBrZXk6ICdfcmVzaXplSW1hZ2UnLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgZnVuY3Rpb24gcmVzaXplcyB0aGUgaW1hZ2UgYnkgdGhlIG9wdGlvbnMgc2l6ZSB3aGVuIHRoZSBpbWFnZSBoYXMgbm90IHlldCBsb2FkZWQuIElmIHRoZSBpbWFnZSBoYXMgbG9hZGVkLCB3ZQogICAgICAgKiBmb3JjZSB0aGUgdXBkYXRlIG9mIHRoZSBzaXplIGFnYWluLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNpemVJbWFnZSgpIHsKICAgICAgICB2YXIgZm9yY2UgPSBmYWxzZTsKICAgICAgICBpZiAoIXRoaXMuaW1hZ2VPYmoud2lkdGggfHwgIXRoaXMuaW1hZ2VPYmouaGVpZ2h0KSB7CiAgICAgICAgICAvLyB1bmRlZmluZWQgb3IgMAogICAgICAgICAgdGhpcy5pbWFnZUxvYWRlZCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbWFnZUxvYWRlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuaW1hZ2VMb2FkZWQgPSB0cnVlOwogICAgICAgICAgZm9yY2UgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF0aGlzLndpZHRoIHx8ICF0aGlzLmhlaWdodCB8fCBmb3JjZSA9PT0gdHJ1ZSkgewogICAgICAgICAgLy8gdW5kZWZpbmVkIG9yIDAKICAgICAgICAgIHZhciB3aWR0aCwgaGVpZ2h0LCByYXRpbzsKICAgICAgICAgIGlmICh0aGlzLmltYWdlT2JqLndpZHRoICYmIHRoaXMuaW1hZ2VPYmouaGVpZ2h0KSB7CiAgICAgICAgICAgIC8vIG5vdCB1bmRlZmluZWQgb3IgMAogICAgICAgICAgICB3aWR0aCA9IDA7CiAgICAgICAgICAgIGhlaWdodCA9IDA7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5pbWFnZU9iai53aWR0aCA+IHRoaXMuaW1hZ2VPYmouaGVpZ2h0KSB7CiAgICAgICAgICAgIHJhdGlvID0gdGhpcy5pbWFnZU9iai53aWR0aCAvIHRoaXMuaW1hZ2VPYmouaGVpZ2h0OwogICAgICAgICAgICB3aWR0aCA9IHRoaXMub3B0aW9ucy5zaXplICogMiAqIHJhdGlvIHx8IHRoaXMuaW1hZ2VPYmoud2lkdGg7CiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMub3B0aW9ucy5zaXplICogMiB8fCB0aGlzLmltYWdlT2JqLmhlaWdodDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlT2JqLndpZHRoICYmIHRoaXMuaW1hZ2VPYmouaGVpZ2h0KSB7CiAgICAgICAgICAgICAgLy8gbm90IHVuZGVmaW5lZCBvciAwCiAgICAgICAgICAgICAgcmF0aW8gPSB0aGlzLmltYWdlT2JqLmhlaWdodCAvIHRoaXMuaW1hZ2VPYmoud2lkdGg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmF0aW8gPSAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5vcHRpb25zLnNpemUgKiAyIHx8IHRoaXMuaW1hZ2VPYmoud2lkdGg7CiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMub3B0aW9ucy5zaXplICogMiAqIHJhdGlvIHx8IHRoaXMuaW1hZ2VPYmouaGVpZ2h0OwogICAgICAgICAgfQogICAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwogICAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgICAgICB0aGlzLnJhZGl1cyA9IDAuNSAqIHRoaXMud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19kcmF3UmF3Q2lyY2xlJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmF3UmF3Q2lyY2xlKGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyLCBzaXplKSB7CiAgICAgICAgdmFyIGJvcmRlcldpZHRoID0gdGhpcy5vcHRpb25zLmJvcmRlcldpZHRoOwogICAgICAgIHZhciBzZWxlY3Rpb25MaW5lV2lkdGggPSB0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGhTZWxlY3RlZCB8fCAyICogdGhpcy5vcHRpb25zLmJvcmRlcldpZHRoOwoKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzZWxlY3RlZCA/IHRoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYm9yZGVyIDogaG92ZXIgPyB0aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYm9yZGVyIDogdGhpcy5vcHRpb25zLmNvbG9yLmJvcmRlcjsKCiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHNlbGVjdGVkID8gc2VsZWN0aW9uTGluZVdpZHRoIDogYm9yZGVyV2lkdGg7CiAgICAgICAgY3R4LmxpbmVXaWR0aCAqPSB0aGlzLm5ldHdvcmtTY2FsZUludjsKICAgICAgICBjdHgubGluZVdpZHRoID0gTWF0aC5taW4odGhpcy53aWR0aCwgY3R4LmxpbmVXaWR0aCk7CgogICAgICAgIGN0eC5maWxsU3R5bGUgPSBzZWxlY3RlZCA/IHRoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYmFja2dyb3VuZCA6IGhvdmVyID8gdGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJhY2tncm91bmQgOiB0aGlzLm9wdGlvbnMuY29sb3IuYmFja2dyb3VuZDsKICAgICAgICBjdHguY2lyY2xlKHgsIHksIHNpemUpOwoKICAgICAgICAvLyBkcmF3IHNoYWRvdyBpZiBlbmFibGVkCiAgICAgICAgdGhpcy5lbmFibGVTaGFkb3coY3R4KTsKICAgICAgICBjdHguZmlsbCgpOwoKICAgICAgICAvLyBkaXNhYmxlIHNoYWRvd3MgZm9yIG90aGVyIGVsZW1lbnRzLgogICAgICAgIHRoaXMuZGlzYWJsZVNoYWRvdyhjdHgpOwoKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2RyYXdJbWFnZUF0UG9zaXRpb24nLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYXdJbWFnZUF0UG9zaXRpb24oY3R4KSB7CiAgICAgICAgaWYgKHRoaXMuaW1hZ2VPYmoud2lkdGggIT0gMCkgewogICAgICAgICAgLy8gZHJhdyB0aGUgaW1hZ2UKICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7CgogICAgICAgICAgLy8gZHJhdyBzaGFkb3cgaWYgZW5hYmxlZAogICAgICAgICAgdGhpcy5lbmFibGVTaGFkb3coY3R4KTsKICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZU9iaiwgdGhpcy5sZWZ0LCB0aGlzLnRvcCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOwoKICAgICAgICAgIC8vIGRpc2FibGUgc2hhZG93cyBmb3Igb3RoZXIgZWxlbWVudHMuCiAgICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2RyYXdJbWFnZUxhYmVsJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmF3SW1hZ2VMYWJlbChjdHgsIHgsIHksIHNlbGVjdGVkKSB7CiAgICAgICAgdmFyIHlMYWJlbDsKICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG9mZnNldCA9IHRoaXMuaGVpZ2h0ICogMC41OwogICAgICAgICAgdmFyIGxhYmVsRGltZW5zaW9ucyA9IHRoaXMubGFiZWxNb2R1bGUuZ2V0VGV4dFNpemUoY3R4KTsKICAgICAgICAgIGlmIChsYWJlbERpbWVuc2lvbnMubGluZUNvdW50ID49IDEpIHsKICAgICAgICAgICAgb2Zmc2V0ICs9IGxhYmVsRGltZW5zaW9ucy5oZWlnaHQgLyAyOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgeUxhYmVsID0geSArIG9mZnNldDsKCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYWJlbCkgewogICAgICAgICAgdGhpcy5sYWJlbE9mZnNldCA9IG9mZnNldDsKICAgICAgICB9CiAgICAgICAgdGhpcy5sYWJlbE1vZHVsZS5kcmF3KGN0eCwgeCwgeUxhYmVsLCBzZWxlY3RlZCwgJ2hhbmdpbmcnKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBDaXJjbGVJbWFnZUJhc2U7CiAgfSkoX3V0aWxOb2RlQmFzZTJbJ2RlZmF1bHQnXSk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IENpcmNsZUltYWdlQmFzZTsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDY4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF91dGlsQ2lyY2xlSW1hZ2VCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7CgogIHZhciBfdXRpbENpcmNsZUltYWdlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsQ2lyY2xlSW1hZ2VCYXNlKTsKCiAgdmFyIENpcmN1bGFySW1hZ2UgPSAoZnVuY3Rpb24gKF9DaXJjbGVJbWFnZUJhc2UpIHsKICAgIGZ1bmN0aW9uIENpcmN1bGFySW1hZ2Uob3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUsIGltYWdlT2JqKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaXJjdWxhckltYWdlKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKENpcmN1bGFySW1hZ2UucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICAgIHRoaXMuaW1hZ2VPYmogPSBpbWFnZU9iajsKICAgICAgdGhpcy5fc3dhcFRvSW1hZ2VSZXNpemVXaGVuSW1hZ2VMb2FkZWQgPSB0cnVlOwogICAgfQoKICAgIF9pbmhlcml0cyhDaXJjdWxhckltYWdlLCBfQ2lyY2xlSW1hZ2VCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoQ2lyY3VsYXJJbWFnZSwgW3sKICAgICAga2V5OiAncmVzaXplJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICBpZiAodGhpcy5pbWFnZU9iai5zcmMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmltYWdlT2JqLndpZHRoID09PSB1bmRlZmluZWQgfHwgdGhpcy5pbWFnZU9iai5oZWlnaHQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKCF0aGlzLndpZHRoKSB7CiAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IHRoaXMub3B0aW9ucy5zaXplICogMjsKICAgICAgICAgICAgdGhpcy53aWR0aCA9IGRpYW1ldGVyOwogICAgICAgICAgICB0aGlzLmhlaWdodCA9IGRpYW1ldGVyOwogICAgICAgICAgICB0aGlzLl9zd2FwVG9JbWFnZVJlc2l6ZVdoZW5JbWFnZUxvYWRlZCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gMC41ICogdGhpcy53aWR0aDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMuX3N3YXBUb0ltYWdlUmVzaXplV2hlbkltYWdlTG9hZGVkKSB7CiAgICAgICAgICAgIHRoaXMud2lkdGggPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkOwogICAgICAgICAgICB0aGlzLl9zd2FwVG9JbWFnZVJlc2l6ZVdoZW5JbWFnZUxvYWRlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5fcmVzaXplSW1hZ2UoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgdGhpcy5yZXNpemUoKTsKCiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggLyAyOwogICAgICAgIHRoaXMudG9wID0geSAtIHRoaXMuaGVpZ2h0IC8gMjsKCiAgICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbigwLjUgKiB0aGlzLmhlaWdodCwgMC41ICogdGhpcy53aWR0aCk7CgogICAgICAgIHRoaXMuX2RyYXdSYXdDaXJjbGUoY3R4LCB4LCB5LCBzZWxlY3RlZCwgaG92ZXIsIHNpemUpOwoKICAgICAgICBjdHguc2F2ZSgpOwogICAgICAgIGN0eC5jaXJjbGUoeCwgeSwgc2l6ZSk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgIGN0eC5jbGlwKCk7CgogICAgICAgIHRoaXMuX2RyYXdJbWFnZUF0UG9zaXRpb24oY3R4KTsKCiAgICAgICAgY3R4LnJlc3RvcmUoKTsKCiAgICAgICAgdGhpcy5fZHJhd0ltYWdlTGFiZWwoY3R4LCB4LCB5LCBzZWxlY3RlZCk7CgogICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goeCwgeSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndXBkYXRlQm91bmRpbmdCb3gnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQm91bmRpbmdCb3goeCwgeSkgewogICAgICAgIHRoaXMuYm91bmRpbmdCb3gudG9wID0geSAtIHRoaXMub3B0aW9ucy5zaXplOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3gubGVmdCA9IHggLSB0aGlzLm9wdGlvbnMuc2l6ZTsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnJpZ2h0ID0geCArIHRoaXMub3B0aW9ucy5zaXplOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3guYm90dG9tID0geSArIHRoaXMub3B0aW9ucy5zaXplOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3gubGVmdCA9IE1hdGgubWluKHRoaXMuYm91bmRpbmdCb3gubGVmdCwgdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQpOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3gucmlnaHQgPSBNYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LnJpZ2h0LCB0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCArIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS53aWR0aCk7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5ib3R0b20gPSBNYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSwgdGhpcy5ib3VuZGluZ0JveC5ib3R0b20gKyB0aGlzLmxhYmVsT2Zmc2V0KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdkaXN0YW5jZVRvQm9yZGVyJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Cb3JkZXIoY3R4LCBhbmdsZSkgewogICAgICAgIHRoaXMucmVzaXplKGN0eCk7CiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIoYW5nbGUpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIENpcmN1bGFySW1hZ2U7CiAgfSkoX3V0aWxDaXJjbGVJbWFnZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBDaXJjdWxhckltYWdlOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNjkgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxOb2RlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpOwoKICB2YXIgX3V0aWxOb2RlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsTm9kZUJhc2UpOwoKICB2YXIgRGF0YWJhc2UgPSAoZnVuY3Rpb24gKF9Ob2RlQmFzZSkgewogICAgZnVuY3Rpb24gRGF0YWJhc2Uob3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGFiYXNlKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGFiYXNlLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpOwogICAgfQoKICAgIF9pbmhlcml0cyhEYXRhYmFzZSwgX05vZGVCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoRGF0YWJhc2UsIFt7CiAgICAgIGtleTogJ3Jlc2l6ZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoY3R4LCBzZWxlY3RlZCkgewogICAgICAgIGlmICh0aGlzLndpZHRoID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBtYXJnaW4gPSA1OwogICAgICAgICAgdmFyIHRleHRTaXplID0gdGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZShjdHgsIHNlbGVjdGVkKTsKICAgICAgICAgIHZhciBzaXplID0gdGV4dFNpemUud2lkdGggKyAyICogbWFyZ2luOwogICAgICAgICAgdGhpcy53aWR0aCA9IHNpemU7CiAgICAgICAgICB0aGlzLmhlaWdodCA9IHNpemU7CiAgICAgICAgICB0aGlzLnJhZGl1cyA9IDAuNSAqIHRoaXMud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkLCBob3ZlcikgewogICAgICAgIHRoaXMucmVzaXplKGN0eCwgc2VsZWN0ZWQpOwogICAgICAgIHRoaXMubGVmdCA9IHggLSB0aGlzLndpZHRoIC8gMjsKICAgICAgICB0aGlzLnRvcCA9IHkgLSB0aGlzLmhlaWdodCAvIDI7CgogICAgICAgIHZhciBib3JkZXJXaWR0aCA9IHRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aDsKICAgICAgICB2YXIgc2VsZWN0aW9uTGluZVdpZHRoID0gdGhpcy5vcHRpb25zLmJvcmRlcldpZHRoU2VsZWN0ZWQgfHwgMiAqIHRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aDsKCiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc2VsZWN0ZWQgPyB0aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlciA6IGhvdmVyID8gdGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJvcmRlciA6IHRoaXMub3B0aW9ucy5jb2xvci5ib3JkZXI7CiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuc2VsZWN0ZWQgPyBzZWxlY3Rpb25MaW5lV2lkdGggOiBib3JkZXJXaWR0aDsKICAgICAgICBjdHgubGluZVdpZHRoICo9IHRoaXMubmV0d29ya1NjYWxlSW52OwogICAgICAgIGN0eC5saW5lV2lkdGggPSBNYXRoLm1pbih0aGlzLndpZHRoLCBjdHgubGluZVdpZHRoKTsKCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHNlbGVjdGVkID8gdGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5iYWNrZ3JvdW5kIDogaG92ZXIgPyB0aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYmFja2dyb3VuZCA6IHRoaXMub3B0aW9ucy5jb2xvci5iYWNrZ3JvdW5kOwogICAgICAgIGN0eC5kYXRhYmFzZSh4IC0gdGhpcy53aWR0aCAvIDIsIHkgLSB0aGlzLmhlaWdodCAqIDAuNSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOwoKICAgICAgICAvLyBkcmF3IHNoYWRvdyBpZiBlbmFibGVkCiAgICAgICAgdGhpcy5lbmFibGVTaGFkb3coY3R4KTsKICAgICAgICBjdHguZmlsbCgpOwoKICAgICAgICAvLyBkaXNhYmxlIHNoYWRvd3MgZm9yIG90aGVyIGVsZW1lbnRzLgogICAgICAgIHRoaXMuZGlzYWJsZVNoYWRvdyhjdHgpOwoKICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goeCwgeSk7CgogICAgICAgIHRoaXMubGFiZWxNb2R1bGUuZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVCb3VuZGluZ0JveCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZGluZ0JveCh4LCB5KSB7CiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggKiAwLjU7CiAgICAgICAgdGhpcy50b3AgPSB5IC0gdGhpcy5oZWlnaHQgKiAwLjU7CgogICAgICAgIHRoaXMuYm91bmRpbmdCb3gubGVmdCA9IHRoaXMubGVmdDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnRvcCA9IHRoaXMudG9wOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3guYm90dG9tID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdkaXN0YW5jZVRvQm9yZGVyJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Cb3JkZXIoY3R4LCBhbmdsZSkgewogICAgICAgIHRoaXMucmVzaXplKGN0eCk7CiAgICAgICAgdmFyIGEgPSB0aGlzLndpZHRoIC8gMjsKICAgICAgICB2YXIgYiA9IHRoaXMuaGVpZ2h0IC8gMjsKICAgICAgICB2YXIgdyA9IE1hdGguc2luKGFuZ2xlKSAqIGE7CiAgICAgICAgdmFyIGggPSBNYXRoLmNvcyhhbmdsZSkgKiBiOwogICAgICAgIHJldHVybiBhICogYiAvIE1hdGguc3FydCh3ICogdyArIGggKiBoKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBEYXRhYmFzZTsKICB9KShfdXRpbE5vZGVCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gRGF0YWJhc2U7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA3MCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICB2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9OwoKICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgogIHZhciBfdXRpbFNoYXBlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpOwoKICB2YXIgX3V0aWxTaGFwZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbFNoYXBlQmFzZSk7CgogIHZhciBEaWFtb25kID0gKGZ1bmN0aW9uIChfU2hhcGVCYXNlKSB7CiAgICBmdW5jdGlvbiBEaWFtb25kKG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaWFtb25kKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKERpYW1vbmQucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICB9CgogICAgX2luaGVyaXRzKERpYW1vbmQsIF9TaGFwZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhEaWFtb25kLCBbewogICAgICBrZXk6ICdyZXNpemUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKGN0eCkgewogICAgICAgIHRoaXMuX3Jlc2l6ZVNoYXBlKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgdGhpcy5fZHJhd1NoYXBlKGN0eCwgJ2RpYW1vbmQnLCA0LCB4LCB5LCBzZWxlY3RlZCwgaG92ZXIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc3RhbmNlVG9Cb3JkZXInLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIoYW5nbGUpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIERpYW1vbmQ7CiAgfSkoX3V0aWxTaGFwZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBEaWFtb25kOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNzEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxOb2RlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpOwoKICB2YXIgX3V0aWxOb2RlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsTm9kZUJhc2UpOwoKICB2YXIgU2hhcGVCYXNlID0gKGZ1bmN0aW9uIChfTm9kZUJhc2UpIHsKICAgIGZ1bmN0aW9uIFNoYXBlQmFzZShvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhcGVCYXNlKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFNoYXBlQmFzZS5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoU2hhcGVCYXNlLCBfTm9kZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhTaGFwZUJhc2UsIFt7CiAgICAgIGtleTogJ19yZXNpemVTaGFwZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzaXplU2hhcGUoKSB7CiAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIHNpemUgPSAyICogdGhpcy5vcHRpb25zLnNpemU7CiAgICAgICAgICB0aGlzLndpZHRoID0gc2l6ZTsKICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gc2l6ZTsKICAgICAgICAgIHRoaXMucmFkaXVzID0gMC41ICogdGhpcy53aWR0aDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2RyYXdTaGFwZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZHJhd1NoYXBlKGN0eCwgc2hhcGUsIHNpemVNdWx0aXBsaWVyLCB4LCB5LCBzZWxlY3RlZCwgaG92ZXIpIHsKICAgICAgICB0aGlzLl9yZXNpemVTaGFwZSgpOwoKICAgICAgICB0aGlzLmxlZnQgPSB4IC0gdGhpcy53aWR0aCAvIDI7CiAgICAgICAgdGhpcy50b3AgPSB5IC0gdGhpcy5oZWlnaHQgLyAyOwoKICAgICAgICB2YXIgYm9yZGVyV2lkdGggPSB0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7CiAgICAgICAgdmFyIHNlbGVjdGlvbkxpbmVXaWR0aCA9IHRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aFNlbGVjdGVkIHx8IDIgKiB0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7CgogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHNlbGVjdGVkID8gdGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXIgOiBob3ZlciA/IHRoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5ib3JkZXIgOiB0aGlzLm9wdGlvbnMuY29sb3IuYm9yZGVyOwogICAgICAgIGN0eC5saW5lV2lkdGggPSBzZWxlY3RlZCA/IHNlbGVjdGlvbkxpbmVXaWR0aCA6IGJvcmRlcldpZHRoOwogICAgICAgIGN0eC5saW5lV2lkdGggLz0gdGhpcy5ib2R5LnZpZXcuc2NhbGU7CiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IE1hdGgubWluKHRoaXMud2lkdGgsIGN0eC5saW5lV2lkdGgpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBzZWxlY3RlZCA/IHRoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYmFja2dyb3VuZCA6IGhvdmVyID8gdGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJhY2tncm91bmQgOiB0aGlzLm9wdGlvbnMuY29sb3IuYmFja2dyb3VuZDsKICAgICAgICBjdHhbc2hhcGVdKHgsIHksIHRoaXMub3B0aW9ucy5zaXplKTsKCiAgICAgICAgLy8gZHJhdyBzaGFkb3cgaWYgZW5hYmxlZAogICAgICAgIHRoaXMuZW5hYmxlU2hhZG93KGN0eCk7CiAgICAgICAgY3R4LmZpbGwoKTsKCiAgICAgICAgLy8gZGlzYWJsZSBzaGFkb3dzIGZvciBvdGhlciBlbGVtZW50cy4KICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKCiAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciB5TGFiZWwgPSB5ICsgMC41ICogdGhpcy5oZWlnaHQgKyAzOyAvLyB0aGUgKyAzIGlzIHRvIG9mZnNldCBpdCBhIGJpdCBiZWxvdyB0aGUgbm9kZS4KICAgICAgICAgIHRoaXMubGFiZWxNb2R1bGUuZHJhdyhjdHgsIHgsIHlMYWJlbCwgc2VsZWN0ZWQsICdoYW5naW5nJyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KHgsIHkpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3VwZGF0ZUJvdW5kaW5nQm94JywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUJvdW5kaW5nQm94KHgsIHkpIHsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnRvcCA9IHkgLSB0aGlzLm9wdGlvbnMuc2l6ZTsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmxlZnQgPSB4IC0gdGhpcy5vcHRpb25zLnNpemU7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5yaWdodCA9IHggKyB0aGlzLm9wdGlvbnMuc2l6ZTsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSA9IHkgKyB0aGlzLm9wdGlvbnMuc2l6ZTsKCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYWJlbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmxlZnQgPSBNYXRoLm1pbih0aGlzLmJvdW5kaW5nQm94LmxlZnQsIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0KTsKICAgICAgICAgIHRoaXMuYm91bmRpbmdCb3gucmlnaHQgPSBNYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LnJpZ2h0LCB0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCArIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS53aWR0aCk7CiAgICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSA9IE1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3guYm90dG9tLCB0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSArIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5oZWlnaHQgKyAzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gU2hhcGVCYXNlOwogIH0pKF91dGlsTm9kZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBTaGFwZUJhc2U7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA3MiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICB2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9OwoKICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgogIHZhciBfdXRpbFNoYXBlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpOwoKICB2YXIgX3V0aWxTaGFwZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbFNoYXBlQmFzZSk7CgogIHZhciBEb3QgPSAoZnVuY3Rpb24gKF9TaGFwZUJhc2UpIHsKICAgIGZ1bmN0aW9uIERvdChvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG90KTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKERvdC5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoRG90LCBfU2hhcGVCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoRG90LCBbewogICAgICBrZXk6ICdyZXNpemUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKGN0eCkgewogICAgICAgIHRoaXMuX3Jlc2l6ZVNoYXBlKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgdGhpcy5fZHJhd1NoYXBlKGN0eCwgJ2NpcmNsZScsIDIsIHgsIHksIHNlbGVjdGVkLCBob3Zlcik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZGlzdGFuY2VUb0JvcmRlcicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXN0YW5jZVRvQm9yZGVyKGN0eCwgYW5nbGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnNpemUgKyB0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRG90OwogIH0pKF91dGlsU2hhcGVCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gRG90OwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNzMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxOb2RlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpOwoKICB2YXIgX3V0aWxOb2RlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsTm9kZUJhc2UpOwoKICB2YXIgRWxsaXBzZSA9IChmdW5jdGlvbiAoX05vZGVCYXNlKSB7CiAgICBmdW5jdGlvbiBFbGxpcHNlKG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbGxpcHNlKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEVsbGlwc2UucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICB9CgogICAgX2luaGVyaXRzKEVsbGlwc2UsIF9Ob2RlQmFzZSk7CgogICAgX2NyZWF0ZUNsYXNzKEVsbGlwc2UsIFt7CiAgICAgIGtleTogJ3Jlc2l6ZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoY3R4LCBzZWxlY3RlZCkgewogICAgICAgIGlmICh0aGlzLndpZHRoID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciB0ZXh0U2l6ZSA9IHRoaXMubGFiZWxNb2R1bGUuZ2V0VGV4dFNpemUoY3R4LCBzZWxlY3RlZCk7CgogICAgICAgICAgdGhpcy53aWR0aCA9IHRleHRTaXplLndpZHRoICogMS41OwogICAgICAgICAgdGhpcy5oZWlnaHQgPSB0ZXh0U2l6ZS5oZWlnaHQgKiAyOwogICAgICAgICAgaWYgKHRoaXMud2lkdGggPCB0aGlzLmhlaWdodCkgewogICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQ7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnJhZGl1cyA9IDAuNSAqIHRoaXMud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkLCBob3ZlcikgewogICAgICAgIHRoaXMucmVzaXplKGN0eCwgc2VsZWN0ZWQpOwogICAgICAgIHRoaXMubGVmdCA9IHggLSB0aGlzLndpZHRoICogMC41OwogICAgICAgIHRoaXMudG9wID0geSAtIHRoaXMuaGVpZ2h0ICogMC41OwoKICAgICAgICB2YXIgYm9yZGVyV2lkdGggPSB0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7CiAgICAgICAgdmFyIHNlbGVjdGlvbkxpbmVXaWR0aCA9IHRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aFNlbGVjdGVkIHx8IDIgKiB0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7CgogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHNlbGVjdGVkID8gdGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXIgOiBob3ZlciA/IHRoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5ib3JkZXIgOiB0aGlzLm9wdGlvbnMuY29sb3IuYm9yZGVyOwoKICAgICAgICBjdHgubGluZVdpZHRoID0gc2VsZWN0ZWQgPyBzZWxlY3Rpb25MaW5lV2lkdGggOiBib3JkZXJXaWR0aDsKICAgICAgICBjdHgubGluZVdpZHRoIC89IHRoaXMuYm9keS52aWV3LnNjYWxlOwogICAgICAgIGN0eC5saW5lV2lkdGggPSBNYXRoLm1pbih0aGlzLndpZHRoLCBjdHgubGluZVdpZHRoKTsKCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHNlbGVjdGVkID8gdGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5iYWNrZ3JvdW5kIDogaG92ZXIgPyB0aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYmFja2dyb3VuZCA6IHRoaXMub3B0aW9ucy5jb2xvci5iYWNrZ3JvdW5kOwogICAgICAgIGN0eC5lbGxpcHNlKHRoaXMubGVmdCwgdGhpcy50b3AsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsKCiAgICAgICAgLy8gZHJhdyBzaGFkb3cgaWYgZW5hYmxlZAogICAgICAgIHRoaXMuZW5hYmxlU2hhZG93KGN0eCk7CiAgICAgICAgY3R4LmZpbGwoKTsKCiAgICAgICAgLy8gZGlzYWJsZSBzaGFkb3dzIGZvciBvdGhlciBlbGVtZW50cy4KICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKCiAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KHgsIHkpOwogICAgICAgIHRoaXMubGFiZWxNb2R1bGUuZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVCb3VuZGluZ0JveCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZGluZ0JveCh4LCB5KSB7CiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggKiAwLjU7CiAgICAgICAgdGhpcy50b3AgPSB5IC0gdGhpcy5oZWlnaHQgKiAwLjU7CgogICAgICAgIHRoaXMuYm91bmRpbmdCb3gubGVmdCA9IHRoaXMubGVmdDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnRvcCA9IHRoaXMudG9wOwogICAgICAgIHRoaXMuYm91bmRpbmdCb3guYm90dG9tID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdkaXN0YW5jZVRvQm9yZGVyJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Cb3JkZXIoY3R4LCBhbmdsZSkgewogICAgICAgIHRoaXMucmVzaXplKGN0eCk7CiAgICAgICAgdmFyIGEgPSB0aGlzLndpZHRoICogMC41OwogICAgICAgIHZhciBiID0gdGhpcy5oZWlnaHQgKiAwLjU7CiAgICAgICAgdmFyIHcgPSBNYXRoLnNpbihhbmdsZSkgKiBhOwogICAgICAgIHZhciBoID0gTWF0aC5jb3MoYW5nbGUpICogYjsKICAgICAgICByZXR1cm4gYSAqIGIgLyBNYXRoLnNxcnQodyAqIHcgKyBoICogaCk7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRWxsaXBzZTsKICB9KShfdXRpbE5vZGVCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gRWxsaXBzZTsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDc0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF91dGlsTm9kZUJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTsKCiAgdmFyIF91dGlsTm9kZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbE5vZGVCYXNlKTsKCiAgdmFyIEljb24gPSAoZnVuY3Rpb24gKF9Ob2RlQmFzZSkgewogICAgZnVuY3Rpb24gSWNvbihvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSWNvbik7CgogICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihJY29uLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpOwogICAgfQoKICAgIF9pbmhlcml0cyhJY29uLCBfTm9kZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhJY29uLCBbewogICAgICBrZXk6ICdyZXNpemUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKGN0eCkgewogICAgICAgIGlmICh0aGlzLndpZHRoID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBtYXJnaW4gPSA1OwogICAgICAgICAgdmFyIGljb25TaXplID0gewogICAgICAgICAgICB3aWR0aDogTnVtYmVyKHRoaXMub3B0aW9ucy5pY29uLnNpemUpLAogICAgICAgICAgICBoZWlnaHQ6IE51bWJlcih0aGlzLm9wdGlvbnMuaWNvbi5zaXplKQogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMud2lkdGggPSBpY29uU2l6ZS53aWR0aCArIDIgKiBtYXJnaW47CiAgICAgICAgICB0aGlzLmhlaWdodCA9IGljb25TaXplLmhlaWdodCArIDIgKiBtYXJnaW47CiAgICAgICAgICB0aGlzLnJhZGl1cyA9IDAuNSAqIHRoaXMud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkLCBob3ZlcikgewogICAgICAgIHRoaXMucmVzaXplKGN0eCk7CiAgICAgICAgdGhpcy5vcHRpb25zLmljb24uc2l6ZSA9IHRoaXMub3B0aW9ucy5pY29uLnNpemUgfHwgNTA7CgogICAgICAgIHRoaXMubGVmdCA9IHggLSB0aGlzLndpZHRoICogMC41OwogICAgICAgIHRoaXMudG9wID0geSAtIHRoaXMuaGVpZ2h0ICogMC41OwogICAgICAgIHRoaXMuX2ljb24oY3R4LCB4LCB5LCBzZWxlY3RlZCk7CgogICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIGljb25UZXh0U3BhY2luZyA9IDU7CiAgICAgICAgICB0aGlzLmxhYmVsTW9kdWxlLmRyYXcoY3R4LCB4LCB5ICsgdGhpcy5oZWlnaHQgKiAwLjUgKyBpY29uVGV4dFNwYWNpbmcsIHNlbGVjdGVkKTsKICAgICAgICB9CgogICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goeCwgeSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndXBkYXRlQm91bmRpbmdCb3gnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQm91bmRpbmdCb3goeCwgeSkgewogICAgICAgIHRoaXMuYm91bmRpbmdCb3gudG9wID0geSAtIHRoaXMub3B0aW9ucy5pY29uLnNpemUgKiAwLjU7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5sZWZ0ID0geCAtIHRoaXMub3B0aW9ucy5pY29uLnNpemUgKiAwLjU7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5yaWdodCA9IHggKyB0aGlzLm9wdGlvbnMuaWNvbi5zaXplICogMC41OwogICAgICAgIHRoaXMuYm91bmRpbmdCb3guYm90dG9tID0geSArIHRoaXMub3B0aW9ucy5pY29uLnNpemUgKiAwLjU7CgogICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIGljb25UZXh0U3BhY2luZyA9IDU7CiAgICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmxlZnQgPSBNYXRoLm1pbih0aGlzLmJvdW5kaW5nQm94LmxlZnQsIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0KTsKICAgICAgICAgIHRoaXMuYm91bmRpbmdCb3gucmlnaHQgPSBNYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LnJpZ2h0LCB0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCArIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS53aWR0aCk7CiAgICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSA9IE1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3guYm90dG9tLCB0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSArIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5oZWlnaHQgKyBpY29uVGV4dFNwYWNpbmcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfaWNvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaWNvbihjdHgsIHgsIHksIHNlbGVjdGVkKSB7CiAgICAgICAgdmFyIGljb25TaXplID0gTnVtYmVyKHRoaXMub3B0aW9ucy5pY29uLnNpemUpOwoKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmljb24uY29kZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjdHguZm9udCA9IChzZWxlY3RlZCA/ICdib2xkICcgOiAnJykgKyBpY29uU2l6ZSArICdweCAnICsgdGhpcy5vcHRpb25zLmljb24uZmFjZTsKCiAgICAgICAgICAvLyBkcmF3IGljb24KICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLm9wdGlvbnMuaWNvbi5jb2xvciB8fCAnYmxhY2snOwogICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnOwoKICAgICAgICAgIC8vIGRyYXcgc2hhZG93IGlmIGVuYWJsZWQKICAgICAgICAgIHRoaXMuZW5hYmxlU2hhZG93KGN0eCk7CiAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5vcHRpb25zLmljb24uY29kZSwgeCwgeSk7CgogICAgICAgICAgLy8gZGlzYWJsZSBzaGFkb3dzIGZvciBvdGhlciBlbGVtZW50cy4KICAgICAgICAgIHRoaXMuZGlzYWJsZVNoYWRvdyhjdHgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdXaGVuIHVzaW5nIHRoZSBpY29uIHNoYXBlLCB5b3UgbmVlZCB0byBkZWZpbmUgdGhlIGNvZGUgaW4gdGhlIGljb24gb3B0aW9ucyBvYmplY3QuIFRoaXMgY2FuIGJlIGRvbmUgcGVyIG5vZGUgb3IgZ2xvYmFsbHkuJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc3RhbmNlVG9Cb3JkZXInLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKSB7CiAgICAgICAgdGhpcy5yZXNpemUoY3R4KTsKICAgICAgICB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKGFuZ2xlKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBJY29uOwogIH0pKF91dGlsTm9kZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBJY29uOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNzUgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxDaXJjbGVJbWFnZUJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTsKCiAgdmFyIF91dGlsQ2lyY2xlSW1hZ2VCYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxDaXJjbGVJbWFnZUJhc2UpOwoKICB2YXIgSW1hZ2UgPSAoZnVuY3Rpb24gKF9DaXJjbGVJbWFnZUJhc2UpIHsKICAgIGZ1bmN0aW9uIEltYWdlKG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlLCBpbWFnZU9iaikgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW1hZ2UpOwoKICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW1hZ2UucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICAgIHRoaXMuaW1hZ2VPYmogPSBpbWFnZU9iajsKICAgIH0KCiAgICBfaW5oZXJpdHMoSW1hZ2UsIF9DaXJjbGVJbWFnZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhJbWFnZSwgW3sKICAgICAga2V5OiAncmVzaXplJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICB0aGlzLl9yZXNpemVJbWFnZSgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkLCBob3ZlcikgewogICAgICAgIHRoaXMucmVzaXplKCk7CiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggLyAyOwogICAgICAgIHRoaXMudG9wID0geSAtIHRoaXMuaGVpZ2h0IC8gMjsKCiAgICAgICAgdGhpcy5fZHJhd0ltYWdlQXRQb3NpdGlvbihjdHgpOwoKICAgICAgICB0aGlzLl9kcmF3SW1hZ2VMYWJlbChjdHgsIHgsIHksIHNlbGVjdGVkIHx8IGhvdmVyKTsKCiAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ0JveCh4LCB5KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVCb3VuZGluZ0JveCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZGluZ0JveCh4LCB5KSB7CiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggLyAyOwogICAgICAgIHRoaXMudG9wID0geSAtIHRoaXMuaGVpZ2h0IC8gMjsKCiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC50b3AgPSB0aGlzLnRvcDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmxlZnQgPSB0aGlzLmxlZnQ7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5yaWdodCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGg7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0OwoKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuYm91bmRpbmdCb3gubGVmdCA9IE1hdGgubWluKHRoaXMuYm91bmRpbmdCb3gubGVmdCwgdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQpOwogICAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5yaWdodCA9IE1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3gucmlnaHQsIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0ICsgdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoKTsKICAgICAgICAgIHRoaXMuYm91bmRpbmdCb3guYm90dG9tID0gTWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5ib3R0b20sIHRoaXMuYm91bmRpbmdCb3guYm90dG9tICsgdGhpcy5sYWJlbE9mZnNldCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc3RhbmNlVG9Cb3JkZXInLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKSB7CiAgICAgICAgdGhpcy5yZXNpemUoY3R4KTsKICAgICAgICB2YXIgYSA9IHRoaXMud2lkdGggLyAyOwogICAgICAgIHZhciBiID0gdGhpcy5oZWlnaHQgLyAyOwogICAgICAgIHZhciB3ID0gTWF0aC5zaW4oYW5nbGUpICogYTsKICAgICAgICB2YXIgaCA9IE1hdGguY29zKGFuZ2xlKSAqIGI7CiAgICAgICAgcmV0dXJuIGEgKiBiIC8gTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEltYWdlOwogIH0pKF91dGlsQ2lyY2xlSW1hZ2VCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gSW1hZ2U7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA3NiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICB2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9OwoKICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgogIHZhciBfdXRpbFNoYXBlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpOwoKICB2YXIgX3V0aWxTaGFwZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbFNoYXBlQmFzZSk7CgogIHZhciBTcXVhcmUgPSAoZnVuY3Rpb24gKF9TaGFwZUJhc2UpIHsKICAgIGZ1bmN0aW9uIFNxdWFyZShvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3F1YXJlKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFNxdWFyZS5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoU3F1YXJlLCBfU2hhcGVCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoU3F1YXJlLCBbewogICAgICBrZXk6ICdyZXNpemUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkgewogICAgICAgIHRoaXMuX3Jlc2l6ZVNoYXBlKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgdGhpcy5fZHJhd1NoYXBlKGN0eCwgJ3NxdWFyZScsIDIsIHgsIHksIHNlbGVjdGVkLCBob3Zlcik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZGlzdGFuY2VUb0JvcmRlcicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXN0YW5jZVRvQm9yZGVyKGN0eCwgYW5nbGUpIHsKICAgICAgICB0aGlzLnJlc2l6ZShjdHgpOwogICAgICAgIHJldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKGFuZ2xlKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBTcXVhcmU7CiAgfSkoX3V0aWxTaGFwZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBTcXVhcmU7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA3NyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICB2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9OwoKICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgogIHZhciBfdXRpbFNoYXBlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpOwoKICB2YXIgX3V0aWxTaGFwZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbFNoYXBlQmFzZSk7CgogIHZhciBTdGFyID0gKGZ1bmN0aW9uIChfU2hhcGVCYXNlKSB7CiAgICBmdW5jdGlvbiBTdGFyKG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGFyKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0YXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICB9CgogICAgX2luaGVyaXRzKFN0YXIsIF9TaGFwZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhTdGFyLCBbewogICAgICBrZXk6ICdyZXNpemUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKGN0eCkgewogICAgICAgIHRoaXMuX3Jlc2l6ZVNoYXBlKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgdGhpcy5fZHJhd1NoYXBlKGN0eCwgJ3N0YXInLCA0LCB4LCB5LCBzZWxlY3RlZCwgaG92ZXIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc3RhbmNlVG9Cb3JkZXInLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIoYW5nbGUpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFN0YXI7CiAgfSkoX3V0aWxTaGFwZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBTdGFyOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogNzggKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxOb2RlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpOwoKICB2YXIgX3V0aWxOb2RlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsTm9kZUJhc2UpOwoKICB2YXIgVGV4dCA9IChmdW5jdGlvbiAoX05vZGVCYXNlKSB7CiAgICBmdW5jdGlvbiBUZXh0KG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0KTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRleHQucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICB9CgogICAgX2luaGVyaXRzKFRleHQsIF9Ob2RlQmFzZSk7CgogICAgX2NyZWF0ZUNsYXNzKFRleHQsIFt7CiAgICAgIGtleTogJ3Jlc2l6ZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoY3R4LCBzZWxlY3RlZCkgewogICAgICAgIGlmICh0aGlzLndpZHRoID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBtYXJnaW4gPSA1OwogICAgICAgICAgdmFyIHRleHRTaXplID0gdGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZShjdHgsIHNlbGVjdGVkKTsKICAgICAgICAgIHRoaXMud2lkdGggPSB0ZXh0U2l6ZS53aWR0aCArIDIgKiBtYXJnaW47CiAgICAgICAgICB0aGlzLmhlaWdodCA9IHRleHRTaXplLmhlaWdodCArIDIgKiBtYXJnaW47CiAgICAgICAgICB0aGlzLnJhZGl1cyA9IDAuNSAqIHRoaXMud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkLCBob3ZlcikgewogICAgICAgIHRoaXMucmVzaXplKGN0eCwgc2VsZWN0ZWQgfHwgaG92ZXIpOwogICAgICAgIHRoaXMubGVmdCA9IHggLSB0aGlzLndpZHRoIC8gMjsKICAgICAgICB0aGlzLnRvcCA9IHkgLSB0aGlzLmhlaWdodCAvIDI7CgogICAgICAgIC8vIGRyYXcgc2hhZG93IGlmIGVuYWJsZWQKICAgICAgICB0aGlzLmVuYWJsZVNoYWRvdyhjdHgpOwogICAgICAgIHRoaXMubGFiZWxNb2R1bGUuZHJhdyhjdHgsIHgsIHksIHNlbGVjdGVkIHx8IGhvdmVyKTsKCiAgICAgICAgLy8gZGlzYWJsZSBzaGFkb3dzIGZvciBvdGhlciBlbGVtZW50cy4KICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKCiAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ0JveCh4LCB5KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVCb3VuZGluZ0JveCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZGluZ0JveCh4LCB5KSB7CiAgICAgICAgdGhpcy5sZWZ0ID0geCAtIHRoaXMud2lkdGggLyAyOwogICAgICAgIHRoaXMudG9wID0geSAtIHRoaXMuaGVpZ2h0IC8gMjsKCiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC50b3AgPSB0aGlzLnRvcDsKICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmxlZnQgPSB0aGlzLmxlZnQ7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5yaWdodCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGg7CiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc3RhbmNlVG9Cb3JkZXInLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKSB7CiAgICAgICAgdGhpcy5yZXNpemUoY3R4KTsKICAgICAgICByZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcihhbmdsZSk7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gVGV4dDsKICB9KShfdXRpbE5vZGVCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gVGV4dDsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDc5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF91dGlsU2hhcGVCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7CgogIHZhciBfdXRpbFNoYXBlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsU2hhcGVCYXNlKTsKCiAgdmFyIFRyaWFuZ2xlID0gKGZ1bmN0aW9uIChfU2hhcGVCYXNlKSB7CiAgICBmdW5jdGlvbiBUcmlhbmdsZShvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJpYW5nbGUpOwoKICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJpYW5nbGUucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICB9CgogICAgX2luaGVyaXRzKFRyaWFuZ2xlLCBfU2hhcGVCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoVHJpYW5nbGUsIFt7CiAgICAgIGtleTogJ3Jlc2l6ZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoY3R4KSB7CiAgICAgICAgdGhpcy5fcmVzaXplU2hhcGUoKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdkcmF3JywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoY3R4LCB4LCB5LCBzZWxlY3RlZCwgaG92ZXIpIHsKICAgICAgICB0aGlzLl9kcmF3U2hhcGUoY3R4LCAndHJpYW5nbGUnLCAzLCB4LCB5LCBzZWxlY3RlZCwgaG92ZXIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc3RhbmNlVG9Cb3JkZXInLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIoYW5nbGUpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFRyaWFuZ2xlOwogIH0pKF91dGlsU2hhcGVCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gVHJpYW5nbGU7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA4MCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICB2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9OwoKICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgogIHZhciBfdXRpbFNoYXBlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpOwoKICB2YXIgX3V0aWxTaGFwZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbFNoYXBlQmFzZSk7CgogIHZhciBUcmlhbmdsZURvd24gPSAoZnVuY3Rpb24gKF9TaGFwZUJhc2UpIHsKICAgIGZ1bmN0aW9uIFRyaWFuZ2xlRG93bihvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJpYW5nbGVEb3duKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyaWFuZ2xlRG93bi5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoVHJpYW5nbGVEb3duLCBfU2hhcGVCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoVHJpYW5nbGVEb3duLCBbewogICAgICBrZXk6ICdyZXNpemUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKGN0eCkgewogICAgICAgIHRoaXMuX3Jlc2l6ZVNoYXBlKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCwgeCwgeSwgc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgdGhpcy5fZHJhd1NoYXBlKGN0eCwgJ3RyaWFuZ2xlRG93bicsIDMsIHgsIHksIHNlbGVjdGVkLCBob3Zlcik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZGlzdGFuY2VUb0JvcmRlcicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXN0YW5jZVRvQm9yZGVyKGN0eCwgYW5nbGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcihhbmdsZSk7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gVHJpYW5nbGVEb3duOwogIH0pKF91dGlsU2hhcGVCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gVHJpYW5nbGVEb3duOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogODEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgdmFyIF9jb21wb25lbnRzRWRnZSA9IF9fd2VicGFja19yZXF1aXJlX18oODIpOwoKICB2YXIgX2NvbXBvbmVudHNFZGdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNFZGdlKTsKCiAgdmFyIF9jb21wb25lbnRzU2hhcmVkTGFiZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTsKCiAgdmFyIF9jb21wb25lbnRzU2hhcmVkTGFiZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50c1NoYXJlZExhYmVsKTsKCiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogIHZhciBEYXRhU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKICB2YXIgRGF0YVZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKCiAgdmFyIEVkZ2VzSGFuZGxlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBFZGdlc0hhbmRsZXIoYm9keSwgaW1hZ2VzLCBncm91cHMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGdlc0hhbmRsZXIpOwoKICAgICAgdGhpcy5ib2R5ID0gYm9keTsKICAgICAgdGhpcy5pbWFnZXMgPSBpbWFnZXM7CiAgICAgIHRoaXMuZ3JvdXBzID0gZ3JvdXBzOwoKICAgICAgLy8gY3JlYXRlIHRoZSBlZGdlIEFQSSBpbiB0aGUgYm9keSBjb250YWluZXIKICAgICAgdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVFZGdlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTsKCiAgICAgIHRoaXMuZWRnZXNMaXN0ZW5lcnMgPSB7CiAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZXZlbnQsIHBhcmFtcykgewogICAgICAgICAgX3RoaXMuYWRkKHBhcmFtcy5pdGVtcyk7CiAgICAgICAgfSwKICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShldmVudCwgcGFyYW1zKSB7CiAgICAgICAgICBfdGhpcy51cGRhdGUocGFyYW1zLml0ZW1zKTsKICAgICAgICB9LAogICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGV2ZW50LCBwYXJhbXMpIHsKICAgICAgICAgIF90aGlzLnJlbW92ZShwYXJhbXMuaXRlbXMpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHRoaXMub3B0aW9ucyA9IHt9OwogICAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICAgIGFycm93czogewogICAgICAgICAgdG86IHsgZW5hYmxlZDogZmFsc2UsIHNjYWxlRmFjdG9yOiAxIH0sIC8vIGJvb2xlYW4gLyB7YXJyb3dTY2FsZUZhY3RvcjoxfSAvIHtlbmFibGVkOiBmYWxzZSwgYXJyb3dTY2FsZUZhY3RvcjoxfQogICAgICAgICAgbWlkZGxlOiB7IGVuYWJsZWQ6IGZhbHNlLCBzY2FsZUZhY3RvcjogMSB9LAogICAgICAgICAgZnJvbTogeyBlbmFibGVkOiBmYWxzZSwgc2NhbGVGYWN0b3I6IDEgfQogICAgICAgIH0sCiAgICAgICAgY29sb3I6IHsKICAgICAgICAgIGNvbG9yOiAnIzg0ODQ4NCcsCiAgICAgICAgICBoaWdobGlnaHQ6ICcjODQ4NDg0JywKICAgICAgICAgIGhvdmVyOiAnIzg0ODQ4NCcsCiAgICAgICAgICBpbmhlcml0OiAnZnJvbScsCiAgICAgICAgICBvcGFjaXR5OiAxCiAgICAgICAgfSwKICAgICAgICBkYXNoZXM6IGZhbHNlLAogICAgICAgIGZvbnQ6IHsKICAgICAgICAgIGNvbG9yOiAnIzM0MzQzNCcsCiAgICAgICAgICBzaXplOiAxNCwgLy8gcHgKICAgICAgICAgIGZhY2U6ICdhcmlhbCcsCiAgICAgICAgICBiYWNrZ3JvdW5kOiAnbm9uZScsCiAgICAgICAgICBzdHJva2VXaWR0aDogMiwgLy8gcHgKICAgICAgICAgIHN0cm9rZUNvbG9yOiAnI2ZmZmZmZicsCiAgICAgICAgICBhbGlnbjogJ2hvcml6b250YWwnCiAgICAgICAgfSwKICAgICAgICBoaWRkZW46IGZhbHNlLAogICAgICAgIGhvdmVyV2lkdGg6IDEuNSwKICAgICAgICBsYWJlbDogdW5kZWZpbmVkLAogICAgICAgIGxlbmd0aDogdW5kZWZpbmVkLAogICAgICAgIHBoeXNpY3M6IHRydWUsCiAgICAgICAgc2NhbGluZzogewogICAgICAgICAgbWluOiAxLAogICAgICAgICAgbWF4OiAxNSwKICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgIG1pbjogMTQsCiAgICAgICAgICAgIG1heDogMzAsCiAgICAgICAgICAgIG1heFZpc2libGU6IDMwLAogICAgICAgICAgICBkcmF3VGhyZXNob2xkOiA1CiAgICAgICAgICB9LAogICAgICAgICAgY3VzdG9tU2NhbGluZ0Z1bmN0aW9uOiBmdW5jdGlvbiBjdXN0b21TY2FsaW5nRnVuY3Rpb24obWluLCBtYXgsIHRvdGFsLCB2YWx1ZSkgewogICAgICAgICAgICBpZiAobWF4ID09PSBtaW4pIHsKICAgICAgICAgICAgICByZXR1cm4gMC41OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBzY2FsZSA9IDEgLyAobWF4IC0gbWluKTsKICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgKHZhbHVlIC0gbWluKSAqIHNjYWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2VsZWN0aW9uV2lkdGg6IDEuNSwKICAgICAgICBzZWxmUmVmZXJlbmNlU2l6ZTogMjAsCiAgICAgICAgc2hhZG93OiB7CiAgICAgICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgICAgIHNpemU6IDEwLAogICAgICAgICAgeDogNSwKICAgICAgICAgIHk6IDUKICAgICAgICB9LAogICAgICAgIHNtb290aDogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICdkeW5hbWljJywKICAgICAgICAgIHJvdW5kbmVzczogMC41CiAgICAgICAgfSwKICAgICAgICB0aXRsZTogdW5kZWZpbmVkLAogICAgICAgIHdpZHRoOiAxLAogICAgICAgIHZhbHVlOiB1bmRlZmluZWQKICAgICAgfTsKCiAgICAgIHV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucywgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CgogICAgICB0aGlzLmJpbmRFdmVudExpc3RlbmVycygpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhFZGdlc0hhbmRsZXIsIFt7CiAgICAgIGtleTogJ2JpbmRFdmVudExpc3RlbmVycycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kRXZlbnRMaXN0ZW5lcnMoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIC8vIHRoaXMgYWxsb3dzIGV4dGVybmFsIG1vZHVsZXMgdG8gZm9yY2UgYWxsIGR5bmFtaWMgY3VydmVzIHRvIHR1cm4gc3RhdGljLgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdfZm9yY2VEaXNhYmxlRHluYW1pY0N1cnZlcycsIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2R5bmFtaWMnKSB7CiAgICAgICAgICAgIHR5cGUgPSAnY29udGludW91cyc7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgZW1pdENoYW5nZSA9IGZhbHNlOwogICAgICAgICAgZm9yICh2YXIgZWRnZUlkIGluIF90aGlzMi5ib2R5LmVkZ2VzKSB7CiAgICAgICAgICAgIGlmIChfdGhpczIuYm9keS5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgICAgdmFyIGVkZ2UgPSBfdGhpczIuYm9keS5lZGdlc1tlZGdlSWRdOwogICAgICAgICAgICAgIHZhciBlZGdlRGF0YSA9IF90aGlzMi5ib2R5LmRhdGEuZWRnZXMuX2RhdGFbZWRnZUlkXTsKCiAgICAgICAgICAgICAgLy8gb25seSBmb3JjaWxieSByZW1vdmUgdGhlIHNtb290aCBjdXJ2ZSBpZiB0aGUgZGF0YSBoYXMgYmVlbiBzZXQgb2YgdGhlIGVkZ2UgaGFzIHRoZSBzbW9vdGggY3VydmVzIGRlZmluZWQuCiAgICAgICAgICAgICAgLy8gdGhpcyBpcyBiZWNhdXNlIGEgY2hhbmdlIGluIHRoZSBnbG9iYWwgd291bGQgbm90IGFmZmVjdCB0aGVzZSBjdXJ2ZXMuCiAgICAgICAgICAgICAgaWYgKGVkZ2VEYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHZhciBlZGdlT3B0aW9ucyA9IGVkZ2VEYXRhLnNtb290aDsKICAgICAgICAgICAgICAgIGlmIChlZGdlT3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlZGdlT3B0aW9ucy5lbmFibGVkID09PSB0cnVlICYmIGVkZ2VPcHRpb25zLnR5cGUgPT09ICdkeW5hbWljJykgewogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgIGVkZ2Uuc2V0T3B0aW9ucyh7IHNtb290aDogZmFsc2UgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGVkZ2Uuc2V0T3B0aW9ucyh7IHNtb290aDogeyB0eXBlOiB0eXBlIH0gfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVtaXRDaGFuZ2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZW1pdENoYW5nZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczIuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAvLyB0aGlzIGlzIGNhbGxlZCB3aGVuIG9wdGlvbnMgb2YgRVhJU1RJTkcgbm9kZXMgb3IgZWRnZXMgaGF2ZSBjaGFuZ2VkLgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdfZGF0YVVwZGF0ZWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIucmVjb25uZWN0RWRnZXMoKTsKICAgICAgICAgIF90aGlzMi5tYXJrQWxsRWRnZXNBc0RpcnR5KCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIHJlZnJlc2ggdGhlIGVkZ2VzLiBVc2VkIHdoZW4gcmV2ZXJ0aW5nIGZyb20gaGllcmFyY2hpY2FsIGxheW91dAogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdyZWZyZXNoRWRnZXMnLCB0aGlzLnJlZnJlc2guYmluZCh0aGlzKSk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ3JlZnJlc2gnLCB0aGlzLnJlZnJlc2guYmluZCh0aGlzKSk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgX3RoaXMyLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZUVkZ2U7CiAgICAgICAgICBkZWxldGUgX3RoaXMyLmVkZ2VzTGlzdGVuZXJzLmFkZDsKICAgICAgICAgIGRlbGV0ZSBfdGhpczIuZWRnZXNMaXN0ZW5lcnMudXBkYXRlOwogICAgICAgICAgZGVsZXRlIF90aGlzMi5lZGdlc0xpc3RlbmVycy5yZW1vdmU7CiAgICAgICAgICBkZWxldGUgX3RoaXMyLmVkZ2VzTGlzdGVuZXJzOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3NldE9wdGlvbnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy8gdXNlIHRoZSBwYXJzZXIgZnJvbSB0aGUgRWRnZSBjbGFzcyB0byBmaWxsIGluIGFsbCBzaG9ydGhhbmQgbm90YXRpb25zCiAgICAgICAgICBfY29tcG9uZW50c0VkZ2UyWydkZWZhdWx0J10ucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgogICAgICAgICAgLy8gaGFubGRlIG11bHRpcGxlIGlucHV0IGNhc2VzIGZvciBjb2xvcgogICAgICAgICAgaWYgKG9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLm1hcmtBbGxFZGdlc0FzRGlydHkoKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyB1cGRhdGUgc21vb3RoIHNldHRpbmdzIGluIGFsbCBlZGdlcwogICAgICAgICAgdmFyIGRhdGFDaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgICBpZiAob3B0aW9ucy5zbW9vdGggIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5ib2R5LmVkZ2VzKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keS5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgICAgICBkYXRhQ2hhbmdlZCA9IHRoaXMuYm9keS5lZGdlc1tlZGdlSWRdLnVwZGF0ZUVkZ2VUeXBlKCkgfHwgZGF0YUNoYW5nZWQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gdXBkYXRlIGZvbnRzIGluIGFsbCBlZGdlcwogICAgICAgICAgaWYgKG9wdGlvbnMuZm9udCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIC8vIHVzZSB0aGUgcGFyc2VyIGZyb20gdGhlIExhYmVsIGNsYXNzIHRvIGZpbGwgaW4gYWxsIHNob3J0aGFuZCBub3RhdGlvbnMKICAgICAgICAgICAgX2NvbXBvbmVudHNTaGFyZWRMYWJlbDJbJ2RlZmF1bHQnXS5wYXJzZU9wdGlvbnModGhpcy5vcHRpb25zLmZvbnQsIG9wdGlvbnMpOwogICAgICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5ib2R5LmVkZ2VzKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keS5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmJvZHkuZWRnZXNbZWRnZUlkXS51cGRhdGVMYWJlbE1vZHVsZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIHZhcmlhYmxlcyBpZiBuZWVkZWQKICAgICAgICAgIGlmIChvcHRpb25zLmhpZGRlbiAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucGh5c2ljcyAhPT0gdW5kZWZpbmVkIHx8IGRhdGFDaGFuZ2VkID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXREYXRhJywKCiAgICAgIC8qKgogICAgICAgKiBMb2FkIGVkZ2VzIGJ5IHJlYWRpbmcgdGhlIGRhdGEgdGFibGUKICAgICAgICogQHBhcmFtIHtBcnJheSB8IERhdGFTZXQgfCBEYXRhVmlld30gZWRnZXMgICAgVGhlIGRhdGEgY29udGFpbmluZyB0aGUgZWRnZXMuCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0YShlZGdlcykgewogICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICB2YXIgZG9Ob3RFbWl0ID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1sxXTsKCiAgICAgICAgdmFyIG9sZEVkZ2VzRGF0YSA9IHRoaXMuYm9keS5kYXRhLmVkZ2VzOwoKICAgICAgICBpZiAoZWRnZXMgaW5zdGFuY2VvZiBEYXRhU2V0IHx8IGVkZ2VzIGluc3RhbmNlb2YgRGF0YVZpZXcpIHsKICAgICAgICAgIHRoaXMuYm9keS5kYXRhLmVkZ2VzID0gZWRnZXM7CiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVkZ2VzKSkgewogICAgICAgICAgdGhpcy5ib2R5LmRhdGEuZWRnZXMgPSBuZXcgRGF0YVNldCgpOwogICAgICAgICAgdGhpcy5ib2R5LmRhdGEuZWRnZXMuYWRkKGVkZ2VzKTsKICAgICAgICB9IGVsc2UgaWYgKCFlZGdlcykgewogICAgICAgICAgdGhpcy5ib2R5LmRhdGEuZWRnZXMgPSBuZXcgRGF0YVNldCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBvciBEYXRhU2V0IGV4cGVjdGVkJyk7CiAgICAgICAgfQoKICAgICAgICAvLyBUT0RPOiBpcyB0aGlzIG51bGwgb3IgdW5kZWZpbmVkIG9yIGZhbHNlPwogICAgICAgIGlmIChvbGRFZGdlc0RhdGEpIHsKICAgICAgICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gb2xkIGRhdGFzZXQKICAgICAgICAgIHV0aWwuZm9yRWFjaCh0aGlzLmVkZ2VzTGlzdGVuZXJzLCBmdW5jdGlvbiAoY2FsbGJhY2ssIGV2ZW50KSB7CiAgICAgICAgICAgIG9sZEVkZ2VzRGF0YS5vZmYoZXZlbnQsIGNhbGxiYWNrKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gcmVtb3ZlIGRyYXduIGVkZ2VzCiAgICAgICAgdGhpcy5ib2R5LmVkZ2VzID0ge307CgogICAgICAgIC8vIFRPRE86IGlzIHRoaXMgbnVsbCBvciB1bmRlZmluZWQgb3IgZmFsc2U/CiAgICAgICAgaWYgKHRoaXMuYm9keS5kYXRhLmVkZ2VzKSB7CiAgICAgICAgICAvLyBzdWJzY3JpYmUgdG8gbmV3IGRhdGFzZXQKICAgICAgICAgIHV0aWwuZm9yRWFjaCh0aGlzLmVkZ2VzTGlzdGVuZXJzLCBmdW5jdGlvbiAoY2FsbGJhY2ssIGV2ZW50KSB7CiAgICAgICAgICAgIF90aGlzMy5ib2R5LmRhdGEuZWRnZXMub24oZXZlbnQsIGNhbGxiYWNrKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIGRyYXcgYWxsIG5ldyBub2RlcwogICAgICAgICAgdmFyIGlkcyA9IHRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldElkcygpOwogICAgICAgICAgdGhpcy5hZGQoaWRzLCB0cnVlKTsKICAgICAgICB9CgogICAgICAgIGlmIChkb05vdEVtaXQgPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfZGF0YUNoYW5nZWQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnYWRkJywKCiAgICAgIC8qKgogICAgICAgKiBBZGQgZWRnZXMKICAgICAgICogQHBhcmFtIHtOdW1iZXJbXSB8IFN0cmluZ1tdfSBpZHMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoaWRzKSB7CiAgICAgICAgdmFyIGRvTm90RW1pdCA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07CgogICAgICAgIHZhciBlZGdlcyA9IHRoaXMuYm9keS5lZGdlczsKICAgICAgICB2YXIgZWRnZXNEYXRhID0gdGhpcy5ib2R5LmRhdGEuZWRnZXM7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaWQgPSBpZHNbaV07CgogICAgICAgICAgdmFyIG9sZEVkZ2UgPSBlZGdlc1tpZF07CiAgICAgICAgICBpZiAob2xkRWRnZSkgewogICAgICAgICAgICBvbGRFZGdlLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgZGF0YSA9IGVkZ2VzRGF0YS5nZXQoaWQsIHsgJ3Nob3dJbnRlcm5hbElkcyc6IHRydWUgfSk7CiAgICAgICAgICBlZGdlc1tpZF0gPSB0aGlzLmNyZWF0ZShkYXRhKTsKICAgICAgICB9CgogICAgICAgIGlmIChkb05vdEVtaXQgPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfZGF0YUNoYW5nZWQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndXBkYXRlJywKCiAgICAgIC8qKgogICAgICAgKiBVcGRhdGUgZXhpc3RpbmcgZWRnZXMsIG9yIGNyZWF0ZSB0aGVtIHdoZW4gbm90IHlldCBleGlzdGluZwogICAgICAgKiBAcGFyYW0ge051bWJlcltdIHwgU3RyaW5nW119IGlkcwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShpZHMpIHsKICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmJvZHkuZWRnZXM7CiAgICAgICAgdmFyIGVkZ2VzRGF0YSA9IHRoaXMuYm9keS5kYXRhLmVkZ2VzOwogICAgICAgIHZhciBkYXRhQ2hhbmdlZCA9IGZhbHNlOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaWQgPSBpZHNbaV07CiAgICAgICAgICB2YXIgZGF0YSA9IGVkZ2VzRGF0YS5nZXQoaWQpOwogICAgICAgICAgdmFyIGVkZ2UgPSBlZGdlc1tpZF07CiAgICAgICAgICBpZiAoZWRnZSA9PT0gbnVsbCkgewogICAgICAgICAgICAvLyB1cGRhdGUgZWRnZQogICAgICAgICAgICBlZGdlLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgZGF0YUNoYW5nZWQgPSBlZGdlLnNldE9wdGlvbnMoZGF0YSkgfHwgZGF0YUNoYW5nZWQ7IC8vIGlmIGEgc3VwcG9ydCBub2RlIGlzIGFkZGVkLCBkYXRhIGNhbiBiZSBjaGFuZ2VkLgogICAgICAgICAgICBlZGdlLmNvbm5lY3QoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGNyZWF0ZSBlZGdlCiAgICAgICAgICAgIHRoaXMuYm9keS5lZGdlc1tpZF0gPSB0aGlzLmNyZWF0ZShkYXRhKTsKICAgICAgICAgICAgZGF0YUNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGRhdGFDaGFuZ2VkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfZGF0YUNoYW5nZWQnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX2RhdGFVcGRhdGVkJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3JlbW92ZScsCgogICAgICAvKioKICAgICAgICogUmVtb3ZlIGV4aXN0aW5nIGVkZ2VzLiBOb24gZXhpc3RpbmcgaWRzIHdpbGwgYmUgaWdub3JlZAogICAgICAgKiBAcGFyYW0ge051bWJlcltdIHwgU3RyaW5nW119IGlkcwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShpZHMpIHsKICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmJvZHkuZWRnZXM7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBpZCA9IGlkc1tpXTsKICAgICAgICAgIHZhciBlZGdlID0gZWRnZXNbaWRdOwogICAgICAgICAgaWYgKGVkZ2UgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBpZiAoZWRnZS52aWEgIT0gbnVsbCkgewogICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJvZHkuc3VwcG9ydE5vZGVzW2VkZ2UudmlhLmlkXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlZGdlLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgZGVsZXRlIGVkZ2VzW2lkXTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3JlZnJlc2gnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmJvZHkuZWRnZXM7CiAgICAgICAgZm9yICh2YXIgZWRnZUlkIGluIGVkZ2VzKSB7CiAgICAgICAgICB2YXIgZWRnZSA9IHVuZGVmaW5lZDsKICAgICAgICAgIGlmIChlZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgIGVkZ2UgPSBlZGdlc1tlZGdlSWRdOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmJvZHkuZGF0YS5lZGdlcy5fZGF0YVtlZGdlSWRdOwogICAgICAgICAgaWYgKGVkZ2UgIT09IHVuZGVmaW5lZCAmJiBkYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZWRnZS5zZXRPcHRpb25zKGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdjcmVhdGUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHsKICAgICAgICByZXR1cm4gbmV3IF9jb21wb25lbnRzRWRnZTJbJ2RlZmF1bHQnXShwcm9wZXJ0aWVzLCB0aGlzLmJvZHksIHRoaXMub3B0aW9ucyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnbWFya0FsbEVkZ2VzQXNEaXJ0eScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYXJrQWxsRWRnZXNBc0RpcnR5KCkgewogICAgICAgIGZvciAodmFyIGVkZ2VJZCBpbiB0aGlzLmJvZHkuZWRnZXMpIHsKICAgICAgICAgIHRoaXMuYm9keS5lZGdlc1tlZGdlSWRdLmVkZ2VUeXBlLmNvbG9yRGlydHkgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdyZWNvbm5lY3RFZGdlcycsCgogICAgICAvKioKICAgICAgICogUmVjb25uZWN0IGFsbCBlZGdlcwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29ubmVjdEVkZ2VzKCkgewogICAgICAgIHZhciBpZDsKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmJvZHkubm9kZXM7CiAgICAgICAgdmFyIGVkZ2VzID0gdGhpcy5ib2R5LmVkZ2VzOwoKICAgICAgICBmb3IgKGlkIGluIG5vZGVzKSB7CiAgICAgICAgICBpZiAobm9kZXMuaGFzT3duUHJvcGVydHkoaWQpKSB7CiAgICAgICAgICAgIG5vZGVzW2lkXS5lZGdlcyA9IFtdOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZm9yIChpZCBpbiBlZGdlcykgewogICAgICAgICAgaWYgKGVkZ2VzLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgICAgICB2YXIgZWRnZSA9IGVkZ2VzW2lkXTsKICAgICAgICAgICAgZWRnZS5mcm9tID0gbnVsbDsKICAgICAgICAgICAgZWRnZS50byA9IG51bGw7CiAgICAgICAgICAgIGVkZ2UuY29ubmVjdCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdnZXRDb25uZWN0ZWROb2RlcycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25uZWN0ZWROb2RlcyhlZGdlSWQpIHsKICAgICAgICB2YXIgbm9kZUxpc3QgPSBbXTsKICAgICAgICBpZiAodGhpcy5ib2R5LmVkZ2VzW2VkZ2VJZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmJvZHkuZWRnZXNbZWRnZUlkXTsKICAgICAgICAgIGlmIChlZGdlLmZyb21JZCkgewogICAgICAgICAgICBub2RlTGlzdC5wdXNoKGVkZ2UuZnJvbUlkKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChlZGdlLnRvSWQpIHsKICAgICAgICAgICAgbm9kZUxpc3QucHVzaChlZGdlLnRvSWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbm9kZUxpc3Q7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRWRnZXNIYW5kbGVyOwogIH0pKCk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEVkZ2VzSGFuZGxlcjsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDgyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIHZhciBfc2hhcmVkTGFiZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTsKCiAgdmFyIF9zaGFyZWRMYWJlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFyZWRMYWJlbCk7CgogIHZhciBfZWRnZXNCZXppZXJFZGdlRHluYW1pYyA9IF9fd2VicGFja19yZXF1aXJlX18oODMpOwoKICB2YXIgX2VkZ2VzQmV6aWVyRWRnZUR5bmFtaWMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWRnZXNCZXppZXJFZGdlRHluYW1pYyk7CgogIHZhciBfZWRnZXNCZXppZXJFZGdlU3RhdGljID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7CgogIHZhciBfZWRnZXNCZXppZXJFZGdlU3RhdGljMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VkZ2VzQmV6aWVyRWRnZVN0YXRpYyk7CgogIHZhciBfZWRnZXNTdHJhaWdodEVkZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTsKCiAgdmFyIF9lZGdlc1N0cmFpZ2h0RWRnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lZGdlc1N0cmFpZ2h0RWRnZSk7CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgLyoqCiAgICogQGNsYXNzIEVkZ2UKICAgKgogICAqIEEgZWRnZSBjb25uZWN0cyB0d28gbm9kZXMKICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAgICAgT2JqZWN0IHdpdGggb3B0aW9ucy4gTXVzdCBjb250YWluCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF0IGxlYXN0IG9wdGlvbnMgZnJvbSBhbmQgdG8uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOiBmcm9tIChudW1iZXIpLAogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byAobnVtYmVyKSwgbGFiZWwgKHN0cmluZywgY29sb3IgKHN0cmluZyksCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIChudW1iZXIpLCBzdHlsZSAoc3RyaW5nKSwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoIChudW1iZXIpLCB0aXRsZSAoc3RyaW5nKQogICAqIEBwYXJhbSB7TmV0d29ya30gbmV0d29yayAgICAgICBBIE5ldHdvcmsgb2JqZWN0LCB1c2VkIHRvIGZpbmQgYW5kIGVkZ2UgdG8KICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuCiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnN0YW50cyAgICAgIEFuIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzIGZvcgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFtcGxlIGZvciB0aGUgY29sb3IKICAgKi8KCiAgdmFyIEVkZ2UgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRWRnZShvcHRpb25zLCBib2R5LCBnbG9iYWxPcHRpb25zKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGdlKTsKCiAgICAgIGlmIChib2R5ID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aHJvdyAnTm8gYm9keSBwcm92aWRlZCc7CiAgICAgIH0KICAgICAgdGhpcy5vcHRpb25zID0gdXRpbC5icmlkZ2VPYmplY3QoZ2xvYmFsT3B0aW9ucyk7CiAgICAgIHRoaXMuYm9keSA9IGJvZHk7CgogICAgICAvLyBpbml0aWFsaXplIHZhcmlhYmxlcwogICAgICB0aGlzLmlkID0gdW5kZWZpbmVkOwogICAgICB0aGlzLmZyb21JZCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy50b0lkID0gdW5kZWZpbmVkOwogICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMuaG92ZXIgPSBmYWxzZTsKICAgICAgdGhpcy5sYWJlbERpcnR5ID0gdHJ1ZTsKICAgICAgdGhpcy5jb2xvckRpcnR5ID0gdHJ1ZTsKCiAgICAgIHRoaXMuYmFzZVdpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoOwogICAgICB0aGlzLmJhc2VGb250U2l6ZSA9IHRoaXMub3B0aW9ucy5mb250LnNpemU7CgogICAgICB0aGlzLmZyb20gPSB1bmRlZmluZWQ7IC8vIGEgbm9kZQogICAgICB0aGlzLnRvID0gdW5kZWZpbmVkOyAvLyBhIG5vZGUKCiAgICAgIHRoaXMuZWRnZVR5cGUgPSB1bmRlZmluZWQ7CgogICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlOwoKICAgICAgdGhpcy5sYWJlbE1vZHVsZSA9IG5ldyBfc2hhcmVkTGFiZWwyWydkZWZhdWx0J10odGhpcy5ib2R5LCB0aGlzLm9wdGlvbnMpOwoKICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhFZGdlLCBbewogICAgICBrZXk6ICdzZXRPcHRpb25zJywKCiAgICAgIC8qKgogICAgICAgKiBTZXQgb3Igb3ZlcndyaXRlIG9wdGlvbnMgZm9yIHRoZSBlZGdlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zICBhbiBvYmplY3Qgd2l0aCBvcHRpb25zCiAgICAgICAqIEBwYXJhbSBkb05vdEVtaXQKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICBpZiAoIW9wdGlvbnMpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jb2xvckRpcnR5ID0gdHJ1ZTsKCiAgICAgICAgRWRnZS5wYXJzZU9wdGlvbnModGhpcy5vcHRpb25zLCBvcHRpb25zLCB0cnVlKTsKCiAgICAgICAgaWYgKG9wdGlvbnMuaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQ7CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLmZyb20gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5mcm9tSWQgPSBvcHRpb25zLmZyb207CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLnRvICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMudG9JZCA9IG9wdGlvbnMudG87CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLnRpdGxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMudGl0bGUgPSBvcHRpb25zLnRpdGxlOwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLnZhbHVlID0gcGFyc2VGbG9hdChvcHRpb25zLnZhbHVlKTsKICAgICAgICB9CgogICAgICAgIC8vIHVwZGF0ZSBsYWJlbCBNb2R1bGUKICAgICAgICB0aGlzLnVwZGF0ZUxhYmVsTW9kdWxlKCk7CgogICAgICAgIHZhciBkYXRhQ2hhbmdlZCA9IHRoaXMudXBkYXRlRWRnZVR5cGUoKTsKCiAgICAgICAgLy8gaWYgYW55dGhpbmcgaGFzIGJlZW4gdXBkYXRlcywgcmVzZXQgdGhlIHNlbGVjdGlvbiB3aWR0aCBhbmQgdGhlIGhvdmVyIHdpZHRoCiAgICAgICAgdGhpcy5fc2V0SW50ZXJhY3Rpb25XaWR0aHMoKTsKCiAgICAgICAgLy8gQSBub2RlIGlzIGNvbm5lY3RlZCB3aGVuIGl0IGhhcyBhIGZyb20gYW5kIHRvIG5vZGUgdGhhdCBib3RoIGV4aXN0IGluIHRoZSBuZXR3b3JrLmJvZHkubm9kZXMuCiAgICAgICAgdGhpcy5jb25uZWN0KCk7CgogICAgICAgIGlmIChvcHRpb25zLmhpZGRlbiAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucGh5c2ljcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBkYXRhQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZGF0YUNoYW5nZWQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndXBkYXRlTGFiZWxNb2R1bGUnLAoKICAgICAgLyoqCiAgICAgICAqIHVwZGF0ZSB0aGUgb3B0aW9ucyBpbiB0aGUgbGFiZWwgbW9kdWxlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlTGFiZWxNb2R1bGUoKSB7CiAgICAgICAgdGhpcy5sYWJlbE1vZHVsZS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucywgdHJ1ZSk7CiAgICAgICAgaWYgKHRoaXMubGFiZWxNb2R1bGUuYmFzZVNpemUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5iYXNlRm9udFNpemUgPSB0aGlzLmxhYmVsTW9kdWxlLmJhc2VTaXplOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd1cGRhdGVFZGdlVHlwZScsCgogICAgICAvKioKICAgICAgICogdXBkYXRlIHRoZSBlZGdlIHR5cGUsIHNldCB0aGUgb3B0aW9ucwogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVFZGdlVHlwZSgpIHsKICAgICAgICB2YXIgZGF0YUNoYW5nZWQgPSBmYWxzZTsKICAgICAgICB2YXIgY2hhbmdlSW5UeXBlID0gdHJ1ZTsKICAgICAgICBpZiAodGhpcy5lZGdlVHlwZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAodGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mIF9lZGdlc0JlemllckVkZ2VEeW5hbWljMlsnZGVmYXVsdCddICYmIHRoaXMub3B0aW9ucy5zbW9vdGguZW5hYmxlZCA9PT0gdHJ1ZSAmJiB0aGlzLm9wdGlvbnMuc21vb3RoLnR5cGUgPT09ICdkeW5hbWljJykgewogICAgICAgICAgICBjaGFuZ2VJblR5cGUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLmVkZ2VUeXBlIGluc3RhbmNlb2YgX2VkZ2VzQmV6aWVyRWRnZVN0YXRpYzJbJ2RlZmF1bHQnXSAmJiB0aGlzLm9wdGlvbnMuc21vb3RoLmVuYWJsZWQgPT09IHRydWUgJiYgdGhpcy5vcHRpb25zLnNtb290aC50eXBlICE9PSAnZHluYW1pYycpIHsKICAgICAgICAgICAgY2hhbmdlSW5UeXBlID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mIF9lZGdlc1N0cmFpZ2h0RWRnZTJbJ2RlZmF1bHQnXSAmJiB0aGlzLm9wdGlvbnMuc21vb3RoLmVuYWJsZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIGNoYW5nZUluVHlwZSA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjaGFuZ2VJblR5cGUgPT09IHRydWUpIHsKICAgICAgICAgICAgZGF0YUNoYW5nZWQgPSB0aGlzLmVkZ2VUeXBlLmNsZWFudXAoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChjaGFuZ2VJblR5cGUgPT09IHRydWUpIHsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc21vb3RoLmVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbW9vdGgudHlwZSA9PT0gJ2R5bmFtaWMnKSB7CiAgICAgICAgICAgICAgZGF0YUNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuZWRnZVR5cGUgPSBuZXcgX2VkZ2VzQmV6aWVyRWRnZUR5bmFtaWMyWydkZWZhdWx0J10odGhpcy5vcHRpb25zLCB0aGlzLmJvZHksIHRoaXMubGFiZWxNb2R1bGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZWRnZVR5cGUgPSBuZXcgX2VkZ2VzQmV6aWVyRWRnZVN0YXRpYzJbJ2RlZmF1bHQnXSh0aGlzLm9wdGlvbnMsIHRoaXMuYm9keSwgdGhpcy5sYWJlbE1vZHVsZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZWRnZVR5cGUgPSBuZXcgX2VkZ2VzU3RyYWlnaHRFZGdlMlsnZGVmYXVsdCddKHRoaXMub3B0aW9ucywgdGhpcy5ib2R5LCB0aGlzLmxhYmVsTW9kdWxlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaWYgbm90aGluZyBjaGFuZ2VzLCB3ZSBqdXN0IHNldCB0aGUgb3B0aW9ucy4KICAgICAgICAgIHRoaXMuZWRnZVR5cGUuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRhdGFDaGFuZ2VkOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3RvZ2dsZVBoeXNpY3MnLAoKICAgICAgLyoqCiAgICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBwaHlzaWNzLgogICAgICAgKiBAcGFyYW0gc3RhdHVzCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlUGh5c2ljcyhzdGF0dXMpIHsKICAgICAgICB0aGlzLm9wdGlvbnMucGh5c2ljcyA9IHN0YXR1czsKICAgICAgICB0aGlzLmVkZ2VUeXBlLnRvZ2dsZVBoeXNpY3Moc3RhdHVzKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdjb25uZWN0JywKCiAgICAgIC8qKgogICAgICAgKiBDb25uZWN0IGFuIGVkZ2UgdG8gaXRzIG5vZGVzCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdCgpIHsKICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTsKCiAgICAgICAgdGhpcy5mcm9tID0gdGhpcy5ib2R5Lm5vZGVzW3RoaXMuZnJvbUlkXSB8fCB1bmRlZmluZWQ7CiAgICAgICAgdGhpcy50byA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLnRvSWRdIHx8IHVuZGVmaW5lZDsKICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRoaXMuZnJvbSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudG8gIT09IHVuZGVmaW5lZDsKCiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmZyb20uYXR0YWNoRWRnZSh0aGlzKTsKICAgICAgICAgIHRoaXMudG8uYXR0YWNoRWRnZSh0aGlzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMuZnJvbSkgewogICAgICAgICAgICB0aGlzLmZyb20uZGV0YWNoRWRnZSh0aGlzKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnRvKSB7CiAgICAgICAgICAgIHRoaXMudG8uZGV0YWNoRWRnZSh0aGlzKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuZWRnZVR5cGUuY29ubmVjdCgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc2Nvbm5lY3QnLAoKICAgICAgLyoqCiAgICAgICAqIERpc2Nvbm5lY3QgYW4gZWRnZSBmcm9tIGl0cyBub2RlcwogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7CiAgICAgICAgaWYgKHRoaXMuZnJvbSkgewogICAgICAgICAgdGhpcy5mcm9tLmRldGFjaEVkZ2UodGhpcyk7CiAgICAgICAgICB0aGlzLmZyb20gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnRvKSB7CiAgICAgICAgICB0aGlzLnRvLmRldGFjaEVkZ2UodGhpcyk7CiAgICAgICAgICB0aGlzLnRvID0gdW5kZWZpbmVkOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdnZXRUaXRsZScsCgogICAgICAvKioKICAgICAgICogZ2V0IHRoZSB0aXRsZSBvZiB0aGlzIGVkZ2UuCiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gdGl0bGUgICAgVGhlIHRpdGxlIG9mIHRoZSBlZGdlLCBvciB1bmRlZmluZWQgd2hlbiBubyB0aXRsZQogICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhcyBiZWVuIHNldC4KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaXRsZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy50aXRsZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdpc1NlbGVjdGVkJywKCiAgICAgIC8qKgogICAgICAgKiBjaGVjayBpZiB0aGlzIG5vZGUgaXMgc2VsZWN0ZQogICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBzZWxlY3RlZCAgIFRydWUgaWYgbm9kZSBpcyBzZWxlY3RlZCwgZWxzZSBmYWxzZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0ZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZ2V0VmFsdWUnLAoKICAgICAgLyoqCiAgICAgICAqIFJldHJpZXZlIHRoZSB2YWx1ZSBvZiB0aGUgZWRnZS4gQ2FuIGJlIHVuZGVmaW5lZAogICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHZhbHVlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXRWYWx1ZVJhbmdlJywKCiAgICAgIC8qKgogICAgICAgKiBBZGp1c3QgdGhlIHZhbHVlIHJhbmdlIG9mIHRoZSBlZGdlLiBUaGUgZWRnZSB3aWxsIGFkanVzdCBpdCdzIHdpZHRoCiAgICAgICAqIGJhc2VkIG9uIGl0cyB2YWx1ZS4KICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbgogICAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4CiAgICAgICAqIEBwYXJhbSB0b3RhbAogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlUmFuZ2UobWluLCBtYXgsIHRvdGFsKSB7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLm9wdGlvbnMuc2NhbGluZy5jdXN0b21TY2FsaW5nRnVuY3Rpb24obWluLCBtYXgsIHRvdGFsLCB0aGlzLm9wdGlvbnMudmFsdWUpOwogICAgICAgICAgdmFyIHdpZHRoRGlmZiA9IHRoaXMub3B0aW9ucy5zY2FsaW5nLm1heCAtIHRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbjsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBmb250RGlmZiA9IHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heCAtIHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1pbjsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvbnQuc2l6ZSA9IHRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1pbiArIHNjYWxlICogZm9udERpZmY7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm9wdGlvbnMud2lkdGggPSB0aGlzLm9wdGlvbnMuc2NhbGluZy5taW4gKyBzY2FsZSAqIHdpZHRoRGlmZjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5vcHRpb25zLndpZHRoID0gdGhpcy5iYXNlV2lkdGg7CiAgICAgICAgICB0aGlzLm9wdGlvbnMuZm9udC5zaXplID0gdGhpcy5iYXNlRm9udFNpemU7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9zZXRJbnRlcmFjdGlvbldpZHRocygpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19zZXRJbnRlcmFjdGlvbldpZHRocycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0SW50ZXJhY3Rpb25XaWR0aHMoKSB7CiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaG92ZXJXaWR0aCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgdGhpcy5lZGdlVHlwZS5ob3ZlcldpZHRoID0gdGhpcy5vcHRpb25zLmhvdmVyV2lkdGgodGhpcy5vcHRpb25zLndpZHRoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lZGdlVHlwZS5ob3ZlcldpZHRoID0gdGhpcy5vcHRpb25zLmhvdmVyV2lkdGggKyB0aGlzLm9wdGlvbnMud2lkdGg7CiAgICAgICAgfQoKICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25XaWR0aCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgdGhpcy5lZGdlVHlwZS5zZWxlY3Rpb25XaWR0aCA9IHRoaXMub3B0aW9ucy5zZWxlY3Rpb25XaWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVkZ2VUeXBlLnNlbGVjdGlvbldpZHRoID0gdGhpcy5vcHRpb25zLnNlbGVjdGlvbldpZHRoICsgdGhpcy5vcHRpb25zLndpZHRoOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdkcmF3JywKCiAgICAgIC8qKgogICAgICAgKiBSZWRyYXcgYSBlZGdlCiAgICAgICAqIERyYXcgdGhpcyBlZGdlIGluIHRoZSBnaXZlbiBjYW52YXMKICAgICAgICogVGhlIDJkIGNvbnRleHQgb2YgYSBIVE1MIGNhbnZhcyBjYW4gYmUgcmV0cmlldmVkIGJ5IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gICBjdHgKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGN0eCkgewogICAgICAgIHZhciB2aWEgPSB0aGlzLmVkZ2VUeXBlLmRyYXdMaW5lKGN0eCwgdGhpcy5zZWxlY3RlZCwgdGhpcy5ob3Zlcik7CiAgICAgICAgdGhpcy5kcmF3QXJyb3dzKGN0eCwgdmlhKTsKICAgICAgICB0aGlzLmRyYXdMYWJlbChjdHgsIHZpYSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZHJhd0Fycm93cycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3QXJyb3dzKGN0eCwgdmlhTm9kZSkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20uZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5lZGdlVHlwZS5kcmF3QXJyb3dIZWFkKGN0eCwgJ2Zyb20nLCB2aWFOb2RlLCB0aGlzLnNlbGVjdGVkLCB0aGlzLmhvdmVyKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hcnJvd3MubWlkZGxlLmVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuZWRnZVR5cGUuZHJhd0Fycm93SGVhZChjdHgsICdtaWRkbGUnLCB2aWFOb2RlLCB0aGlzLnNlbGVjdGVkLCB0aGlzLmhvdmVyKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hcnJvd3MudG8uZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5lZGdlVHlwZS5kcmF3QXJyb3dIZWFkKGN0eCwgJ3RvJywgdmlhTm9kZSwgdGhpcy5zZWxlY3RlZCwgdGhpcy5ob3Zlcik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXdMYWJlbCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3TGFiZWwoY3R4LCB2aWFOb2RlKSB7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYWJlbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyBzZXQgc3R5bGUKICAgICAgICAgIHZhciBub2RlMSA9IHRoaXMuZnJvbTsKICAgICAgICAgIHZhciBub2RlMiA9IHRoaXMudG87CiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLmZyb20uc2VsZWN0ZWQgfHwgdGhpcy50by5zZWxlY3RlZCB8fCB0aGlzLnNlbGVjdGVkOwogICAgICAgICAgaWYgKG5vZGUxLmlkICE9IG5vZGUyLmlkKSB7CiAgICAgICAgICAgIHRoaXMubGFiZWxNb2R1bGUucG9pbnRUb1NlbGYgPSBmYWxzZTsKICAgICAgICAgICAgdmFyIHBvaW50ID0gdGhpcy5lZGdlVHlwZS5nZXRQb2ludCgwLjUsIHZpYU5vZGUpOwogICAgICAgICAgICBjdHguc2F2ZSgpOwoKICAgICAgICAgICAgLy8gaWYgdGhlIGxhYmVsIGhhcyB0byBiZSByb3RhdGVkOgogICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvbnQuYWxpZ24gIT09ICdob3Jpem9udGFsJykgewogICAgICAgICAgICAgIHRoaXMubGFiZWxNb2R1bGUuY2FsY3VsYXRlTGFiZWxTaXplKGN0eCwgc2VsZWN0ZWQsIHBvaW50LngsIHBvaW50LnkpOwogICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUocG9pbnQueCwgdGhpcy5sYWJlbE1vZHVsZS5zaXplLnlMaW5lKTsKICAgICAgICAgICAgICB0aGlzLl9yb3RhdGVGb3JMYWJlbEFsaWdubWVudChjdHgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBkcmF3IHRoZSBsYWJlbAogICAgICAgICAgICB0aGlzLmxhYmVsTW9kdWxlLmRyYXcoY3R4LCBwb2ludC54LCBwb2ludC55LCBzZWxlY3RlZCk7CiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBJZ25vcmUgdGhlIG9yaWVudGF0aW9ucy4KICAgICAgICAgICAgdGhpcy5sYWJlbE1vZHVsZS5wb2ludFRvU2VsZiA9IHRydWU7CiAgICAgICAgICAgIHZhciB4LCB5OwogICAgICAgICAgICB2YXIgcmFkaXVzID0gdGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2VTaXplOwogICAgICAgICAgICBpZiAobm9kZTEuc2hhcGUud2lkdGggPiBub2RlMS5zaGFwZS5oZWlnaHQpIHsKICAgICAgICAgICAgICB4ID0gbm9kZTEueCArIG5vZGUxLnNoYXBlLndpZHRoICogMC41OwogICAgICAgICAgICAgIHkgPSBub2RlMS55IC0gcmFkaXVzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHggPSBub2RlMS54ICsgcmFkaXVzOwogICAgICAgICAgICAgIHkgPSBub2RlMS55IC0gbm9kZTEuc2hhcGUuaGVpZ2h0ICogMC41OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBvaW50ID0gdGhpcy5fcG9pbnRPbkNpcmNsZSh4LCB5LCByYWRpdXMsIDAuMTI1KTsKICAgICAgICAgICAgdGhpcy5sYWJlbE1vZHVsZS5kcmF3KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgc2VsZWN0ZWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdpc092ZXJsYXBwaW5nV2l0aCcsCgogICAgICAvKioKICAgICAgICogQ2hlY2sgaWYgdGhpcyBvYmplY3QgaXMgb3ZlcmxhcHBpbmcgd2l0aCB0aGUgcHJvdmlkZWQgb2JqZWN0CiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogICBhbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXJzIGxlZnQsIHRvcAogICAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgICAgVHJ1ZSBpZiBsb2NhdGlvbiBpcyBsb2NhdGVkIG9uIHRoZSBlZGdlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gaXNPdmVybGFwcGluZ1dpdGgob2JqKSB7CiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgICAgICB2YXIgZGlzdE1heCA9IDEwOwogICAgICAgICAgdmFyIHhGcm9tID0gdGhpcy5mcm9tLng7CiAgICAgICAgICB2YXIgeUZyb20gPSB0aGlzLmZyb20ueTsKICAgICAgICAgIHZhciB4VG8gPSB0aGlzLnRvLng7CiAgICAgICAgICB2YXIgeVRvID0gdGhpcy50by55OwogICAgICAgICAgdmFyIHhPYmogPSBvYmoubGVmdDsKICAgICAgICAgIHZhciB5T2JqID0gb2JqLnRvcDsKCiAgICAgICAgICB2YXIgZGlzdCA9IHRoaXMuZWRnZVR5cGUuZ2V0RGlzdGFuY2VUb0VkZ2UoeEZyb20sIHlGcm9tLCB4VG8sIHlUbywgeE9iaiwgeU9iaik7CgogICAgICAgICAgcmV0dXJuIGRpc3QgPCBkaXN0TWF4OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19yb3RhdGVGb3JMYWJlbEFsaWdubWVudCcsCgogICAgICAvKioKICAgICAgICogUm90YXRlcyB0aGUgY2FudmFzIHNvIHRoZSB0ZXh0IGlzIG1vc3QgcmVhZGFibGUKICAgICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yb3RhdGVGb3JMYWJlbEFsaWdubWVudChjdHgpIHsKICAgICAgICB2YXIgZHkgPSB0aGlzLmZyb20ueSAtIHRoaXMudG8ueTsKICAgICAgICB2YXIgZHggPSB0aGlzLmZyb20ueCAtIHRoaXMudG8ueDsKICAgICAgICB2YXIgYW5nbGVJbkRlZ3JlZXMgPSBNYXRoLmF0YW4yKGR5LCBkeCk7CgogICAgICAgIC8vIHJvdGF0ZSBzbyBsYWJlbCBpdCBpcyByZWFkYWJsZQogICAgICAgIGlmIChhbmdsZUluRGVncmVlcyA8IC0xICYmIGR4IDwgMCB8fCBhbmdsZUluRGVncmVlcyA+IDAgJiYgZHggPCAwKSB7CiAgICAgICAgICBhbmdsZUluRGVncmVlcyA9IGFuZ2xlSW5EZWdyZWVzICsgTWF0aC5QSTsKICAgICAgICB9CgogICAgICAgIGN0eC5yb3RhdGUoYW5nbGVJbkRlZ3JlZXMpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19wb2ludE9uQ2lyY2xlJywKCiAgICAgIC8qKgogICAgICAgKiBHZXQgYSBwb2ludCBvbiBhIGNpcmNsZQogICAgICAgKiBAcGFyYW0ge051bWJlcn0geAogICAgICAgKiBAcGFyYW0ge051bWJlcn0geQogICAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzCiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwZXJjZW50YWdlLiBWYWx1ZSBiZXR3ZWVuIDAgKGxpbmUgc3RhcnQpIGFuZCAxIChsaW5lIGVuZCkKICAgICAgICogQHJldHVybiB7T2JqZWN0fSBwb2ludAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wb2ludE9uQ2lyY2xlKHgsIHksIHJhZGl1cywgcGVyY2VudGFnZSkgewogICAgICAgIHZhciBhbmdsZSA9IHBlcmNlbnRhZ2UgKiAyICogTWF0aC5QSTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogeCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSwKICAgICAgICAgIHk6IHkgLSByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkKICAgICAgICB9OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3NlbGVjdCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3QoKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWU7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndW5zZWxlY3QnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gdW5zZWxlY3QoKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlOwogICAgICB9CiAgICB9XSwgW3sKICAgICAga2V5OiAncGFyc2VPcHRpb25zJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhwYXJlbnRPcHRpb25zLCBuZXdPcHRpb25zKSB7CiAgICAgICAgdmFyIGFsbG93RGVsZXRpb24gPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzJdOwoKICAgICAgICB2YXIgZmllbGRzID0gWydpZCcsICdmcm9tJywgJ2hpZGRlbicsICdob3ZlcldpZHRoJywgJ2xhYmVsJywgJ2xlbmd0aCcsICdsaW5lJywgJ29wYWNpdHknLCAncGh5c2ljcycsICdzZWxlY3Rpb25XaWR0aCcsICdzZWxmUmVmZXJlbmNlU2l6ZScsICd0bycsICd0aXRsZScsICd2YWx1ZScsICd3aWR0aCddOwoKICAgICAgICAvLyBvbmx5IGRlZXAgZXh0ZW5kIHRoZSBpdGVtcyBpbiB0aGUgZmllbGQgYXJyYXkuIFRoZXNlIGRvIG5vdCBoYXZlIHNob3J0aGFuZC4KICAgICAgICB1dGlsLnNlbGVjdGl2ZURlZXBFeHRlbmQoZmllbGRzLCBwYXJlbnRPcHRpb25zLCBuZXdPcHRpb25zLCBhbGxvd0RlbGV0aW9uKTsKCiAgICAgICAgdXRpbC5tZXJnZU9wdGlvbnMocGFyZW50T3B0aW9ucywgbmV3T3B0aW9ucywgJ3Ntb290aCcpOwogICAgICAgIHV0aWwubWVyZ2VPcHRpb25zKHBhcmVudE9wdGlvbnMsIG5ld09wdGlvbnMsICdzaGFkb3cnKTsKCiAgICAgICAgaWYgKG5ld09wdGlvbnMuZGFzaGVzICE9PSB1bmRlZmluZWQgJiYgbmV3T3B0aW9ucy5kYXNoZXMgIT09IG51bGwpIHsKICAgICAgICAgIHBhcmVudE9wdGlvbnMuZGFzaGVzID0gbmV3T3B0aW9ucy5kYXNoZXM7CiAgICAgICAgfSBlbHNlIGlmIChhbGxvd0RlbGV0aW9uID09PSB0cnVlICYmIG5ld09wdGlvbnMuZGFzaGVzID09PSBudWxsKSB7CiAgICAgICAgICBwYXJlbnRPcHRpb25zLmRhc2hlcyA9IHVuZGVmaW5lZDsKICAgICAgICAgIGRlbGV0ZSBwYXJlbnRPcHRpb25zLmRhc2hlczsKICAgICAgICB9CgogICAgICAgIC8vIHNldCB0aGUgc2NhbGluZyBuZXdPcHRpb25zCiAgICAgICAgaWYgKG5ld09wdGlvbnMuc2NhbGluZyAhPT0gdW5kZWZpbmVkICYmIG5ld09wdGlvbnMuc2NhbGluZyAhPT0gbnVsbCkgewogICAgICAgICAgaWYgKG5ld09wdGlvbnMuc2NhbGluZy5taW4gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBwYXJlbnRPcHRpb25zLnNjYWxpbmcubWluID0gbmV3T3B0aW9ucy5zY2FsaW5nLm1pbjsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChuZXdPcHRpb25zLnNjYWxpbmcubWF4ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5zY2FsaW5nLm1heCA9IG5ld09wdGlvbnMuc2NhbGluZy5tYXg7CiAgICAgICAgICB9CiAgICAgICAgICB1dGlsLm1lcmdlT3B0aW9ucyhwYXJlbnRPcHRpb25zLnNjYWxpbmcsIG5ld09wdGlvbnMuc2NhbGluZywgJ2xhYmVsJyk7CiAgICAgICAgfSBlbHNlIGlmIChhbGxvd0RlbGV0aW9uID09PSB0cnVlICYmIG5ld09wdGlvbnMuc2NhbGluZyA9PT0gbnVsbCkgewogICAgICAgICAgcGFyZW50T3B0aW9ucy5zY2FsaW5nID0gdW5kZWZpbmVkOwogICAgICAgICAgZGVsZXRlIHBhcmVudE9wdGlvbnMuc2NhbGluZzsKICAgICAgICB9CgogICAgICAgIC8vIGhhbmxkZSBtdWx0aXBsZSBpbnB1dCBjYXNlcyBmb3IgYXJyb3dzCiAgICAgICAgaWYgKG5ld09wdGlvbnMuYXJyb3dzICE9PSB1bmRlZmluZWQgJiYgbmV3T3B0aW9ucy5hcnJvd3MgIT09IG51bGwpIHsKICAgICAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5hcnJvd3MgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHZhciBhcnJvd3MgPSBuZXdPcHRpb25zLmFycm93cy50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBpZiAoYXJyb3dzLmluZGV4T2YoJ3RvJykgIT0gLTEpIHsKICAgICAgICAgICAgICBwYXJlbnRPcHRpb25zLmFycm93cy50by5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYXJyb3dzLmluZGV4T2YoJ21pZGRsZScpICE9IC0xKSB7CiAgICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5hcnJvd3MubWlkZGxlLmVuYWJsZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhcnJvd3MuaW5kZXhPZignZnJvbScpICE9IC0xKSB7CiAgICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5hcnJvd3MuZnJvbS5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5hcnJvd3MgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIHV0aWwubWVyZ2VPcHRpb25zKHBhcmVudE9wdGlvbnMuYXJyb3dzLCBuZXdPcHRpb25zLmFycm93cywgJ3RvJyk7CiAgICAgICAgICAgIHV0aWwubWVyZ2VPcHRpb25zKHBhcmVudE9wdGlvbnMuYXJyb3dzLCBuZXdPcHRpb25zLmFycm93cywgJ21pZGRsZScpOwogICAgICAgICAgICB1dGlsLm1lcmdlT3B0aW9ucyhwYXJlbnRPcHRpb25zLmFycm93cywgbmV3T3B0aW9ucy5hcnJvd3MsICdmcm9tJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBhcnJvdyBuZXdPcHRpb25zIGNhbiBvbmx5IGJlIGFuIG9iamVjdCBvciBhIHN0cmluZy4gUmVmZXIgdG8gdGhlIGRvY3VtZW50YXRpb24uIFlvdSB1c2VkOicgKyBKU09OLnN0cmluZ2lmeShuZXdPcHRpb25zLmFycm93cykpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoYWxsb3dEZWxldGlvbiA9PT0gdHJ1ZSAmJiBuZXdPcHRpb25zLmFycm93cyA9PT0gbnVsbCkgewogICAgICAgICAgcGFyZW50T3B0aW9ucy5hcnJvd3MgPSB1bmRlZmluZWQ7CiAgICAgICAgICBkZWxldGUgcGFyZW50T3B0aW9ucy5hcnJvd3M7CiAgICAgICAgfQoKICAgICAgICAvLyBoYW5sZGUgbXVsdGlwbGUgaW5wdXQgY2FzZXMgZm9yIGNvbG9yCiAgICAgICAgaWYgKG5ld09wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCAmJiBuZXdPcHRpb25zLmNvbG9yICE9PSBudWxsKSB7CiAgICAgICAgICBpZiAodXRpbC5pc1N0cmluZyhuZXdPcHRpb25zLmNvbG9yKSkgewogICAgICAgICAgICBwYXJlbnRPcHRpb25zLmNvbG9yLmNvbG9yID0gbmV3T3B0aW9ucy5jb2xvcjsKICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5jb2xvci5oaWdobGlnaHQgPSBuZXdPcHRpb25zLmNvbG9yOwogICAgICAgICAgICBwYXJlbnRPcHRpb25zLmNvbG9yLmhvdmVyID0gbmV3T3B0aW9ucy5jb2xvcjsKICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5jb2xvci5pbmhlcml0ID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgY29sb3JzRGVmaW5lZCA9IGZhbHNlOwogICAgICAgICAgICBpZiAobmV3T3B0aW9ucy5jb2xvci5jb2xvciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5jb2xvci5jb2xvciA9IG5ld09wdGlvbnMuY29sb3IuY29sb3I7Y29sb3JzRGVmaW5lZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld09wdGlvbnMuY29sb3IuaGlnaGxpZ2h0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBwYXJlbnRPcHRpb25zLmNvbG9yLmhpZ2hsaWdodCA9IG5ld09wdGlvbnMuY29sb3IuaGlnaGxpZ2h0O2NvbG9yc0RlZmluZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChuZXdPcHRpb25zLmNvbG9yLmhvdmVyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBwYXJlbnRPcHRpb25zLmNvbG9yLmhvdmVyID0gbmV3T3B0aW9ucy5jb2xvci5ob3Zlcjtjb2xvcnNEZWZpbmVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV3T3B0aW9ucy5jb2xvci5pbmhlcml0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBwYXJlbnRPcHRpb25zLmNvbG9yLmluaGVyaXQgPSBuZXdPcHRpb25zLmNvbG9yLmluaGVyaXQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld09wdGlvbnMuY29sb3Iub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5jb2xvci5vcGFjaXR5ID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgbmV3T3B0aW9ucy5jb2xvci5vcGFjaXR5KSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChuZXdPcHRpb25zLmNvbG9yLmluaGVyaXQgPT09IHVuZGVmaW5lZCAmJiBjb2xvcnNEZWZpbmVkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgcGFyZW50T3B0aW9ucy5jb2xvci5pbmhlcml0ID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGFsbG93RGVsZXRpb24gPT09IHRydWUgJiYgbmV3T3B0aW9ucy5jb2xvciA9PT0gbnVsbCkgewogICAgICAgICAgcGFyZW50T3B0aW9ucy5jb2xvciA9IHVuZGVmaW5lZDsKICAgICAgICAgIGRlbGV0ZSBwYXJlbnRPcHRpb25zLmNvbG9yOwogICAgICAgIH0KCiAgICAgICAgLy8gaGFuZGxlIHRoZSBmb250IHNldHRpbmdzCiAgICAgICAgaWYgKG5ld09wdGlvbnMuZm9udCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfc2hhcmVkTGFiZWwyWydkZWZhdWx0J10ucGFyc2VPcHRpb25zKHBhcmVudE9wdGlvbnMuZm9udCwgbmV3T3B0aW9ucyk7CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEVkZ2U7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gRWRnZTsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDgzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF91dGlsQmV6aWVyRWRnZUJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTsKCiAgdmFyIF91dGlsQmV6aWVyRWRnZUJhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbEJlemllckVkZ2VCYXNlKTsKCiAgdmFyIEJlemllckVkZ2VEeW5hbWljID0gKGZ1bmN0aW9uIChfQmV6aWVyRWRnZUJhc2UpIHsKICAgIGZ1bmN0aW9uIEJlemllckVkZ2VEeW5hbWljKG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCZXppZXJFZGdlRHluYW1pYyk7CgogICAgICAvL3RoaXMudmlhID0gdW5kZWZpbmVkOyAvLyBIZXJlIGZvciBjb21wbGV0ZW5lc3MgYnV0IG5vdCBhbGxvd2VkIHRvIGRlZmluZWQgYmVmb3JlIHN1cGVyKCkgaXMgaW52b2tlZC4KICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmV6aWVyRWRnZUR5bmFtaWMucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7IC8vIC0tPiB0aGlzIGNhbGxzIHRoZSBzZXRPcHRpb25zIGJlbG93CiAgICB9CgogICAgX2luaGVyaXRzKEJlemllckVkZ2VEeW5hbWljLCBfQmV6aWVyRWRnZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhCZXppZXJFZGdlRHluYW1pYywgW3sKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICAgIHRoaXMuaWQgPSB0aGlzLm9wdGlvbnMuaWQ7CiAgICAgICAgdGhpcy5zZXR1cFN1cHBvcnROb2RlKCk7CiAgICAgICAgdGhpcy5jb25uZWN0KCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnY29ubmVjdCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0KCkgewogICAgICAgIHRoaXMuZnJvbSA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMuZnJvbV07CiAgICAgICAgdGhpcy50byA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMudG9dOwogICAgICAgIGlmICh0aGlzLmZyb20gPT09IHVuZGVmaW5lZCB8fCB0aGlzLnRvID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMudmlhLnNldE9wdGlvbnMoeyBwaHlzaWNzOiBmYWxzZSB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gZml4IHdlaXJkIGJlaGF2aW91ciB3aGVyZSBhIHNlbGZyZWZlcmVuY2luZyBub2RlIGhhcyBwaHlzaWNzIGVuYWJsZWQKICAgICAgICAgIGlmICh0aGlzLmZyb20uaWQgPT09IHRoaXMudG8uaWQpIHsKICAgICAgICAgICAgdGhpcy52aWEuc2V0T3B0aW9ucyh7IHBoeXNpY3M6IGZhbHNlIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy52aWEuc2V0T3B0aW9ucyh7IHBoeXNpY3M6IHRydWUgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2NsZWFudXAnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYW51cCgpIHsKICAgICAgICBpZiAodGhpcy52aWEgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuYm9keS5ub2Rlc1t0aGlzLnZpYS5pZF07CiAgICAgICAgICB0aGlzLnZpYSA9IHVuZGVmaW5lZDsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndG9nZ2xlUGh5c2ljcycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVQaHlzaWNzKHN0YXR1cykgewogICAgICAgIHRoaXMudmlhLnNldE9wdGlvbnMoeyBwaHlzaWNzOiBzdGF0dXMgfSk7CiAgICAgICAgdGhpcy5wb3NpdGlvbkJlemllck5vZGUoKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXR1cFN1cHBvcnROb2RlJywKCiAgICAgIC8qKgogICAgICAgKiBCZXppZXIgY3VydmVzIHJlcXVpcmUgYW4gYW5jaG9yIHBvaW50IHRvIGNhbGN1bGF0ZSB0aGUgc21vb3RoIGZsb3cuIFRoZXNlIHBvaW50cyBhcmUgbm9kZXMuIFRoZXNlIG5vZGVzIGFyZSBpbnZpc2libGUgYnV0CiAgICAgICAqIGFyZSB1c2VkIGZvciB0aGUgZm9yY2UgY2FsY3VsYXRpb24uCiAgICAgICAqCiAgICAgICAqIFRoZSBjaGFuZ2VkIGRhdGEgaXMgbm90IGNhbGxlZCwgaWYgbmVlZGVkLCBpdCBpcyByZXR1cm5lZCBieSB0aGUgbWFpbiBlZGdlIGNvbnN0cnVjdG9yLgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwU3VwcG9ydE5vZGUoKSB7CiAgICAgICAgaWYgKHRoaXMudmlhID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBub2RlSWQgPSAnZWRnZUlkOicgKyB0aGlzLmlkOwogICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZU5vZGUoewogICAgICAgICAgICBpZDogbm9kZUlkLAogICAgICAgICAgICBzaGFwZTogJ2NpcmNsZScsCiAgICAgICAgICAgIHBoeXNpY3M6IHRydWUsCiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXSA9IG5vZGU7CiAgICAgICAgICB0aGlzLnZpYSA9IG5vZGU7CiAgICAgICAgICB0aGlzLnZpYS5wYXJlbnRFZGdlSWQgPSB0aGlzLmlkOwogICAgICAgICAgdGhpcy5wb3NpdGlvbkJlemllck5vZGUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAncG9zaXRpb25CZXppZXJOb2RlJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBvc2l0aW9uQmV6aWVyTm9kZSgpIHsKICAgICAgICBpZiAodGhpcy52aWEgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmZyb20gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRvICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMudmlhLnggPSAwLjUgKiAodGhpcy5mcm9tLnggKyB0aGlzLnRvLngpOwogICAgICAgICAgdGhpcy52aWEueSA9IDAuNSAqICh0aGlzLmZyb20ueSArIHRoaXMudG8ueSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZpYSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnZpYS54ID0gMDsKICAgICAgICAgIHRoaXMudmlhLnkgPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfbGluZScsCgogICAgICAvKioKICAgICAgICogRHJhdyBhIGxpbmUgYmV0d2VlbiB0d28gbm9kZXMKICAgICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9saW5lKGN0eCkgewogICAgICAgIC8vIGRyYXcgYSBzdHJhaWdodCBsaW5lCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5tb3ZlVG8odGhpcy5mcm9tLngsIHRoaXMuZnJvbS55KTsKICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh0aGlzLnZpYS54LCB0aGlzLnZpYS55LCB0aGlzLnRvLngsIHRoaXMudG8ueSk7CiAgICAgICAgLy8gZHJhdyBzaGFkb3cgaWYgZW5hYmxlZAogICAgICAgIHRoaXMuZW5hYmxlU2hhZG93KGN0eCk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgIHRoaXMuZGlzYWJsZVNoYWRvdyhjdHgpOwogICAgICAgIHJldHVybiB0aGlzLnZpYTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdnZXRQb2ludCcsCgogICAgICAvKioKICAgICAgICogQ29tYmluZWQgZnVuY3Rpb24gb2YgcG9pbnRPbkxpbmUgYW5kIHBvaW50T25CZXppZXIuIFRoaXMgZ2l2ZXMgdGhlIGNvb3JkaW5hdGVzIG9mIGEgcG9pbnQgb24gdGhlIGxpbmUgYXQgYSBjZXJ0YWluIHBlcmNlbnRhZ2Ugb2YgdGhlIHdheQogICAgICAgKiBAcGFyYW0gcGVyY2VudGFnZQogICAgICAgKiBAcGFyYW0gdmlhCiAgICAgICAqIEByZXR1cm5zIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50KHBlcmNlbnRhZ2UpIHsKICAgICAgICB2YXIgdCA9IHBlcmNlbnRhZ2U7CiAgICAgICAgdmFyIHggPSBNYXRoLnBvdygxIC0gdCwgMikgKiB0aGlzLmZyb20ueCArIDIgKiB0ICogKDEgLSB0KSAqIHRoaXMudmlhLnggKyBNYXRoLnBvdyh0LCAyKSAqIHRoaXMudG8ueDsKICAgICAgICB2YXIgeSA9IE1hdGgucG93KDEgLSB0LCAyKSAqIHRoaXMuZnJvbS55ICsgMiAqIHQgKiAoMSAtIHQpICogdGhpcy52aWEueSArIE1hdGgucG93KHQsIDIpICogdGhpcy50by55OwoKICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2ZpbmRCb3JkZXJQb3NpdGlvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluZEJvcmRlclBvc2l0aW9uKG5lYXJOb2RlLCBjdHgpIHsKICAgICAgICByZXR1cm4gdGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQmV6aWVyKG5lYXJOb2RlLCBjdHgsIHRoaXMudmlhKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZ2V0RGlzdGFuY2VUb0VkZ2UnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldERpc3RhbmNlVG9FZGdlKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHsKICAgICAgICAvLyB4Myx5MyBpcyB0aGUgcG9pbnQKICAgICAgICByZXR1cm4gdGhpcy5fZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgdGhpcy52aWEpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEJlemllckVkZ2VEeW5hbWljOwogIH0pKF91dGlsQmV6aWVyRWRnZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBCZXppZXJFZGdlRHluYW1pYzsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDg0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94MiwgX3gzLCBfeDQpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gyLCBwcm9wZXJ0eSA9IF94MywgcmVjZWl2ZXIgPSBfeDQ7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94MiA9IHBhcmVudDsgX3gzID0gcHJvcGVydHk7IF94NCA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF9FZGdlQmFzZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTsKCiAgdmFyIF9FZGdlQmFzZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FZGdlQmFzZTIpOwoKICB2YXIgQmV6aWVyRWRnZUJhc2UgPSAoZnVuY3Rpb24gKF9FZGdlQmFzZSkgewogICAgZnVuY3Rpb24gQmV6aWVyRWRnZUJhc2Uob3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJlemllckVkZ2VCYXNlKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEJlemllckVkZ2VCYXNlLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9ucywgYm9keSwgbGFiZWxNb2R1bGUpOwogICAgfQoKICAgIF9pbmhlcml0cyhCZXppZXJFZGdlQmFzZSwgX0VkZ2VCYXNlKTsKCiAgICBfY3JlYXRlQ2xhc3MoQmV6aWVyRWRnZUJhc2UsIFt7CiAgICAgIGtleTogJ19maW5kQm9yZGVyUG9zaXRpb25CZXppZXInLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgZnVuY3Rpb24gdXNlcyBiaW5hcnkgc2VhcmNoIHRvIGxvb2sgZm9yIHRoZSBwb2ludCB3aGVyZSB0aGUgYmV6aWVyIGN1cnZlIGNyb3NzZXMgdGhlIGJvcmRlciBvZiB0aGUgbm9kZS4KICAgICAgICoKICAgICAgICogQHBhcmFtIG5lYXJOb2RlCiAgICAgICAqIEBwYXJhbSBjdHgKICAgICAgICogQHBhcmFtIHZpYU5vZGUKICAgICAgICogQHBhcmFtIG5lYXJOb2RlCiAgICAgICAqIEBwYXJhbSBjdHgKICAgICAgICogQHBhcmFtIHZpYU5vZGUKICAgICAgICogQHBhcmFtIG5lYXJOb2RlCiAgICAgICAqIEBwYXJhbSBjdHgKICAgICAgICogQHBhcmFtIHZpYU5vZGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluZEJvcmRlclBvc2l0aW9uQmV6aWVyKG5lYXJOb2RlLCBjdHgpIHsKICAgICAgICB2YXIgdmlhTm9kZSA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKSA6IGFyZ3VtZW50c1syXTsKCiAgICAgICAgdmFyIG1heEl0ZXJhdGlvbnMgPSAxMDsKICAgICAgICB2YXIgaXRlcmF0aW9uID0gMDsKICAgICAgICB2YXIgbG93ID0gMDsKICAgICAgICB2YXIgaGlnaCA9IDE7CiAgICAgICAgdmFyIHBvcywgYW5nbGUsIGRpc3RhbmNlVG9Cb3JkZXIsIGRpc3RhbmNlVG9Qb2ludCwgZGlmZmVyZW5jZTsKICAgICAgICB2YXIgdGhyZXNob2xkID0gMC4yOwogICAgICAgIHZhciBub2RlID0gdGhpcy50bzsKICAgICAgICB2YXIgZnJvbSA9IGZhbHNlOwogICAgICAgIGlmIChuZWFyTm9kZS5pZCA9PT0gdGhpcy5mcm9tLmlkKSB7CiAgICAgICAgICBub2RlID0gdGhpcy5mcm9tOwogICAgICAgICAgZnJvbSA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICB3aGlsZSAobG93IDw9IGhpZ2ggJiYgaXRlcmF0aW9uIDwgbWF4SXRlcmF0aW9ucykgewogICAgICAgICAgdmFyIG1pZGRsZSA9IChsb3cgKyBoaWdoKSAqIDAuNTsKCiAgICAgICAgICBwb3MgPSB0aGlzLmdldFBvaW50KG1pZGRsZSwgdmlhTm9kZSk7CiAgICAgICAgICBhbmdsZSA9IE1hdGguYXRhbjIobm9kZS55IC0gcG9zLnksIG5vZGUueCAtIHBvcy54KTsKICAgICAgICAgIGRpc3RhbmNlVG9Cb3JkZXIgPSBub2RlLmRpc3RhbmNlVG9Cb3JkZXIoY3R4LCBhbmdsZSk7CiAgICAgICAgICBkaXN0YW5jZVRvUG9pbnQgPSBNYXRoLnNxcnQoTWF0aC5wb3cocG9zLnggLSBub2RlLngsIDIpICsgTWF0aC5wb3cocG9zLnkgLSBub2RlLnksIDIpKTsKICAgICAgICAgIGRpZmZlcmVuY2UgPSBkaXN0YW5jZVRvQm9yZGVyIC0gZGlzdGFuY2VUb1BvaW50OwogICAgICAgICAgaWYgKE1hdGguYWJzKGRpZmZlcmVuY2UpIDwgdGhyZXNob2xkKSB7CiAgICAgICAgICAgIGJyZWFrOyAvLyBmb3VuZAogICAgICAgICAgfSBlbHNlIGlmIChkaWZmZXJlbmNlIDwgMCkgewogICAgICAgICAgICAvLyBkaXN0YW5jZSB0byBub2RlcyBpcyBsYXJnZXIgdGhhbiBkaXN0YW5jZSB0byBib3JkZXIgLS0+IHQgbmVlZHMgdG8gYmUgYmlnZ2VyIGlmIHdlJ3JlIGxvb2tpbmcgYXQgdGhlIHRvIG5vZGUuCiAgICAgICAgICAgIGlmIChmcm9tID09PSBmYWxzZSkgewogICAgICAgICAgICAgIGxvdyA9IG1pZGRsZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBoaWdoID0gbWlkZGxlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoZnJvbSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICBoaWdoID0gbWlkZGxlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGxvdyA9IG1pZGRsZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGl0ZXJhdGlvbisrOwogICAgICAgIH0KICAgICAgICBwb3MudCA9IG1pZGRsZTsKCiAgICAgICAgcmV0dXJuIHBvczsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UnLAoKICAgICAgLyoqCiAgICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiBhIHBvaW50ICh4Myx5MykgYW5kIGEgbGluZSBzZWdtZW50IGZyb20KICAgICAgICogKHgxLHkxKSB0byAoeDIseTIpLgogICAgICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg0OTIxMS9zaG9ydGVzdC1kaXN0YW5jYWUtYmV0d2Vlbi1hLXBvaW50LWFuZC1hLWxpbmUtc2VnbWVudAogICAgICAgKiBAcGFyYW0ge251bWJlcn0geDEKICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHkxCiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MgogICAgICAgKiBAcGFyYW0ge251bWJlcn0geTIKICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHgzCiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXREaXN0YW5jZVRvQmV6aWVyRWRnZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB2aWEpIHsKICAgICAgICAvLyB4Myx5MyBpcyB0aGUgcG9pbnQKICAgICAgICB2YXIgeFZpYSA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgeVZpYSA9IHVuZGVmaW5lZDsKICAgICAgICB4VmlhID0gdmlhLng7CiAgICAgICAgeVZpYSA9IHZpYS55OwogICAgICAgIHZhciBtaW5EaXN0YW5jZSA9IDEwMDAwMDAwMDA7CiAgICAgICAgdmFyIGRpc3RhbmNlID0gdW5kZWZpbmVkOwogICAgICAgIHZhciBpID0gdW5kZWZpbmVkLAogICAgICAgICAgICB0ID0gdW5kZWZpbmVkLAogICAgICAgICAgICB4ID0gdW5kZWZpbmVkLAogICAgICAgICAgICB5ID0gdW5kZWZpbmVkOwogICAgICAgIHZhciBsYXN0WCA9IHgxOwogICAgICAgIHZhciBsYXN0WSA9IHkxOwogICAgICAgIGZvciAoaSA9IDE7IGkgPCAxMDsgaSsrKSB7CiAgICAgICAgICB0ID0gMC4xICogaTsKICAgICAgICAgIHggPSBNYXRoLnBvdygxIC0gdCwgMikgKiB4MSArIDIgKiB0ICogKDEgLSB0KSAqIHhWaWEgKyBNYXRoLnBvdyh0LCAyKSAqIHgyOwogICAgICAgICAgeSA9IE1hdGgucG93KDEgLSB0LCAyKSAqIHkxICsgMiAqIHQgKiAoMSAtIHQpICogeVZpYSArIE1hdGgucG93KHQsIDIpICogeTI7CiAgICAgICAgICBpZiAoaSA+IDApIHsKICAgICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLl9nZXREaXN0YW5jZVRvTGluZShsYXN0WCwgbGFzdFksIHgsIHksIHgzLCB5Myk7CiAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSA/IGRpc3RhbmNlIDogbWluRGlzdGFuY2U7CiAgICAgICAgICB9CiAgICAgICAgICBsYXN0WCA9IHg7CiAgICAgICAgICBsYXN0WSA9IHk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbWluRGlzdGFuY2U7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gQmV6aWVyRWRnZUJhc2U7CiAgfSkoX0VkZ2VCYXNlM1snZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gQmV6aWVyRWRnZUJhc2U7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA4NSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UnKTsgfSB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogIHZhciBFZGdlQmFzZSA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBFZGdlQmFzZShvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRnZUJhc2UpOwoKICAgICAgdGhpcy5ib2R5ID0gYm9keTsKICAgICAgdGhpcy5sYWJlbE1vZHVsZSA9IGxhYmVsTW9kdWxlOwogICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIHRoaXMuY29sb3JEaXJ0eSA9IHRydWU7CiAgICAgIHRoaXMuY29sb3IgPSB7fTsKICAgICAgdGhpcy5zZWxlY3Rpb25XaWR0aCA9IDI7CiAgICAgIHRoaXMuaG92ZXJXaWR0aCA9IDEuNTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoRWRnZUJhc2UsIFt7CiAgICAgIGtleTogJ2Nvbm5lY3QnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdCgpIHt9CiAgICB9LCB7CiAgICAgIGtleTogJ2NsZWFudXAnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYW51cCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICAgIHRoaXMuZnJvbSA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMuZnJvbV07CiAgICAgICAgdGhpcy50byA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMudG9dOwogICAgICAgIHRoaXMuaWQgPSB0aGlzLm9wdGlvbnMuaWQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndG9nZ2xlUGh5c2ljcycsCgogICAgICAvKioKICAgICAgICogb3ZlcmxvYWRhYmxlIGlmIHRoZSBzaGFwZSBoYXMgdG8gdG9nZ2xlIHRoZSB2aWEgbm9kZSB0byBkaXNhYmxlZAogICAgICAgKiBAcGFyYW0gc3RhdHVzCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlUGh5c2ljcyhzdGF0dXMpIHt9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXdMaW5lJywKCiAgICAgIC8qKgogICAgICAgKiBSZWRyYXcgYSBlZGdlIGFzIGEgbGluZQogICAgICAgKiBEcmF3IHRoaXMgZWRnZSBpbiB0aGUgZ2l2ZW4gY2FudmFzCiAgICAgICAqIFRoZSAyZCBjb250ZXh0IG9mIGEgSFRNTCBjYW52YXMgY2FuIGJlIHJldHJpZXZlZCBieSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICAgY3R4CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd0xpbmUoY3R4LCBzZWxlY3RlZCwgaG92ZXIpIHsKICAgICAgICAvLyBzZXQgc3R5bGUKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdldENvbG9yKGN0eCwgc2VsZWN0ZWQsIGhvdmVyKTsKICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5nZXRMaW5lV2lkdGgoc2VsZWN0ZWQsIGhvdmVyKTsKICAgICAgICB2YXIgdmlhID0gdW5kZWZpbmVkOwogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGFzaGVzICE9PSBmYWxzZSkgewogICAgICAgICAgdmlhID0gdGhpcy5fZHJhd0Rhc2hlZExpbmUoY3R4KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmlhID0gdGhpcy5fZHJhd0xpbmUoY3R4KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZpYTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZHJhd0xpbmUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYXdMaW5lKGN0eCkgewogICAgICAgIHZhciB2aWEgPSB1bmRlZmluZWQ7CiAgICAgICAgaWYgKHRoaXMuZnJvbSAhPSB0aGlzLnRvKSB7CiAgICAgICAgICAvLyBkcmF3IGxpbmUKICAgICAgICAgIHZpYSA9IHRoaXMuX2xpbmUoY3R4KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIF9nZXRDaXJjbGVEYXRhMiA9IHRoaXMuX2dldENpcmNsZURhdGEoY3R4KTsKCiAgICAgICAgICB2YXIgX2dldENpcmNsZURhdGEyMiA9IF9zbGljZWRUb0FycmF5KF9nZXRDaXJjbGVEYXRhMiwgMyk7CgogICAgICAgICAgdmFyIHggPSBfZ2V0Q2lyY2xlRGF0YTIyWzBdOwogICAgICAgICAgdmFyIHkgPSBfZ2V0Q2lyY2xlRGF0YTIyWzFdOwogICAgICAgICAgdmFyIHJhZGl1cyA9IF9nZXRDaXJjbGVEYXRhMjJbMl07CgogICAgICAgICAgdGhpcy5fY2lyY2xlKGN0eCwgeCwgeSwgcmFkaXVzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZpYTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZHJhd0Rhc2hlZExpbmUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYXdEYXNoZWRMaW5lKGN0eCkgewogICAgICAgIHZhciB2aWEgPSB1bmRlZmluZWQ7CiAgICAgICAgY3R4LmxpbmVDYXAgPSAncm91bmQnOwogICAgICAgIHZhciBwYXR0ZXJuID0gWzUsIDVdOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5kYXNoZXMpID09PSB0cnVlKSB7CiAgICAgICAgICBwYXR0ZXJuID0gdGhpcy5vcHRpb25zLmRhc2hlczsKICAgICAgICB9CgogICAgICAgIC8vIG9ubHkgZmlyZWZveCBhbmQgY2hyb21lIHN1cHBvcnQgdGhpcyBtZXRob2QsIGVsc2Ugd2UgdXNlIHRoZSBsZWdhY3kgb25lLgogICAgICAgIGlmIChjdHguc2V0TGluZURhc2ggIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgY3R4LnNhdmUoKTsKCiAgICAgICAgICAvLyBzZXQgZGFzaCBzZXR0aW5ncyBmb3IgY2hyb21lIG9yIGZpcmVmb3gKICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaChwYXR0ZXJuKTsKICAgICAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IDA7CgogICAgICAgICAgLy8gZHJhdyB0aGUgbGluZQogICAgICAgICAgaWYgKHRoaXMuZnJvbSAhPSB0aGlzLnRvKSB7CiAgICAgICAgICAgIC8vIGRyYXcgbGluZQogICAgICAgICAgICB2aWEgPSB0aGlzLl9saW5lKGN0eCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgX2dldENpcmNsZURhdGEzID0gdGhpcy5fZ2V0Q2lyY2xlRGF0YShjdHgpOwoKICAgICAgICAgICAgdmFyIF9nZXRDaXJjbGVEYXRhMzIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q2lyY2xlRGF0YTMsIDMpOwoKICAgICAgICAgICAgdmFyIHggPSBfZ2V0Q2lyY2xlRGF0YTMyWzBdOwogICAgICAgICAgICB2YXIgeSA9IF9nZXRDaXJjbGVEYXRhMzJbMV07CiAgICAgICAgICAgIHZhciByYWRpdXMgPSBfZ2V0Q2lyY2xlRGF0YTMyWzJdOwoKICAgICAgICAgICAgdGhpcy5fY2lyY2xlKGN0eCwgeCwgeSwgcmFkaXVzKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyByZXN0b3JlIHRoZSBkYXNoIHNldHRpbmdzLgogICAgICAgICAgY3R4LnNldExpbmVEYXNoKFswXSk7CiAgICAgICAgICBjdHgubGluZURhc2hPZmZzZXQgPSAwOwogICAgICAgICAgY3R4LnJlc3RvcmUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gdW5zdXBwb3J0aW5nIHNtb290aCBsaW5lcwoKICAgICAgICAgIGlmICh0aGlzLmZyb20gIT0gdGhpcy50bykgewogICAgICAgICAgICAvLyBkcmF3IGxpbmUKICAgICAgICAgICAgY3R4LmRhc2hlZExpbmUodGhpcy5mcm9tLngsIHRoaXMuZnJvbS55LCB0aGlzLnRvLngsIHRoaXMudG8ueSwgcGF0dGVybik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgX2dldENpcmNsZURhdGE0ID0gdGhpcy5fZ2V0Q2lyY2xlRGF0YShjdHgpOwoKICAgICAgICAgICAgdmFyIF9nZXRDaXJjbGVEYXRhNDIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q2lyY2xlRGF0YTQsIDMpOwoKICAgICAgICAgICAgdmFyIHggPSBfZ2V0Q2lyY2xlRGF0YTQyWzBdOwogICAgICAgICAgICB2YXIgeSA9IF9nZXRDaXJjbGVEYXRhNDJbMV07CiAgICAgICAgICAgIHZhciByYWRpdXMgPSBfZ2V0Q2lyY2xlRGF0YTQyWzJdOwoKICAgICAgICAgICAgdGhpcy5fY2lyY2xlKGN0eCwgeCwgeSwgcmFkaXVzKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGRyYXcgc2hhZG93IGlmIGVuYWJsZWQKICAgICAgICAgIHRoaXMuZW5hYmxlU2hhZG93KGN0eCk7CgogICAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICAgIC8vIGRpc2FibGUgc2hhZG93cyBmb3Igb3RoZXIgZWxlbWVudHMuCiAgICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZpYTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdmaW5kQm9yZGVyUG9zaXRpb24nLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEJvcmRlclBvc2l0aW9uKG5lYXJOb2RlLCBjdHgsIG9wdGlvbnMpIHsKICAgICAgICBpZiAodGhpcy5mcm9tICE9IHRoaXMudG8pIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb24obmVhck5vZGUsIGN0eCwgb3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGUobmVhck5vZGUsIGN0eCwgb3B0aW9ucyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2ZpbmRCb3JkZXJQb3NpdGlvbnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEJvcmRlclBvc2l0aW9ucyhjdHgpIHsKICAgICAgICB2YXIgZnJvbSA9IHt9OwogICAgICAgIHZhciB0byA9IHt9OwogICAgICAgIGlmICh0aGlzLmZyb20gIT0gdGhpcy50bykgewogICAgICAgICAgZnJvbSA9IHRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbih0aGlzLmZyb20sIGN0eCk7CiAgICAgICAgICB0byA9IHRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbih0aGlzLnRvLCBjdHgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2dldENpcmNsZURhdGE1ID0gdGhpcy5fZ2V0Q2lyY2xlRGF0YShjdHgpOwoKICAgICAgICAgIHZhciBfZ2V0Q2lyY2xlRGF0YTUyID0gX3NsaWNlZFRvQXJyYXkoX2dldENpcmNsZURhdGE1LCAzKTsKCiAgICAgICAgICB2YXIgeCA9IF9nZXRDaXJjbGVEYXRhNTJbMF07CiAgICAgICAgICB2YXIgeSA9IF9nZXRDaXJjbGVEYXRhNTJbMV07CiAgICAgICAgICB2YXIgcmFkaXVzID0gX2dldENpcmNsZURhdGE1MlsyXTsKCiAgICAgICAgICBmcm9tID0gdGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQ2lyY2xlKHRoaXMuZnJvbSwgY3R4LCB7IHg6IHgsIHk6IHksIGxvdzogMC4yNSwgaGlnaDogMC42LCBkaXJlY3Rpb246IC0xIH0pOwogICAgICAgICAgdG8gPSB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGUodGhpcy5mcm9tLCBjdHgsIHsgeDogeCwgeTogeSwgbG93OiAwLjYsIGhpZ2g6IDAuOCwgZGlyZWN0aW9uOiAxIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4geyBmcm9tOiBmcm9tLCB0bzogdG8gfTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZ2V0Q2lyY2xlRGF0YScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q2lyY2xlRGF0YShjdHgpIHsKICAgICAgICB2YXIgeCA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgeSA9IHVuZGVmaW5lZDsKICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZnJvbTsKICAgICAgICB2YXIgcmFkaXVzID0gdGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2VTaXplOwoKICAgICAgICBpZiAoY3R4ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmIChub2RlLnNoYXBlLndpZHRoID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgbm9kZS5zaGFwZS5yZXNpemUoY3R4KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGdldCBjaXJjbGUgY29vcmRpbmF0ZXMKICAgICAgICBpZiAobm9kZS5zaGFwZS53aWR0aCA+IG5vZGUuc2hhcGUuaGVpZ2h0KSB7CiAgICAgICAgICB4ID0gbm9kZS54ICsgbm9kZS5zaGFwZS53aWR0aCAqIDAuNTsKICAgICAgICAgIHkgPSBub2RlLnkgLSByYWRpdXM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHggPSBub2RlLnggKyByYWRpdXM7CiAgICAgICAgICB5ID0gbm9kZS55IC0gbm9kZS5zaGFwZS5oZWlnaHQgKiAwLjU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBbeCwgeSwgcmFkaXVzXTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfcG9pbnRPbkNpcmNsZScsCgogICAgICAvKioKICAgICAgICogR2V0IGEgcG9pbnQgb24gYSBjaXJjbGUKICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHgKICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHkKICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cwogICAgICAgKiBAcGFyYW0ge051bWJlcn0gcGVyY2VudGFnZS4gVmFsdWUgYmV0d2VlbiAwIChsaW5lIHN0YXJ0KSBhbmQgMSAobGluZSBlbmQpCiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gcG9pbnQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcG9pbnRPbkNpcmNsZSh4LCB5LCByYWRpdXMsIHBlcmNlbnRhZ2UpIHsKICAgICAgICB2YXIgYW5nbGUgPSBwZXJjZW50YWdlICogMiAqIE1hdGguUEk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHg6IHggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksCiAgICAgICAgICB5OiB5IC0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpCiAgICAgICAgfTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZmluZEJvcmRlclBvc2l0aW9uQ2lyY2xlJywKCiAgICAgIC8qKgogICAgICAgKiBUaGlzIGZ1bmN0aW9uIHVzZXMgYmluYXJ5IHNlYXJjaCB0byBsb29rIGZvciB0aGUgcG9pbnQgd2hlcmUgdGhlIGNpcmNsZSBjcm9zc2VzIHRoZSBib3JkZXIgb2YgdGhlIG5vZGUuCiAgICAgICAqIEBwYXJhbSBub2RlCiAgICAgICAqIEBwYXJhbSBjdHgKICAgICAgICogQHBhcmFtIG9wdGlvbnMKICAgICAgICogQHJldHVybnMgeyp9CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZShub2RlLCBjdHgsIG9wdGlvbnMpIHsKICAgICAgICB2YXIgeCA9IG9wdGlvbnMueDsKICAgICAgICB2YXIgeSA9IG9wdGlvbnMueTsKICAgICAgICB2YXIgbG93ID0gb3B0aW9ucy5sb3c7CiAgICAgICAgdmFyIGhpZ2ggPSBvcHRpb25zLmhpZ2g7CiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uOwoKICAgICAgICB2YXIgbWF4SXRlcmF0aW9ucyA9IDEwOwogICAgICAgIHZhciBpdGVyYXRpb24gPSAwOwogICAgICAgIHZhciByYWRpdXMgPSB0aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZVNpemU7CiAgICAgICAgdmFyIHBvcyA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgYW5nbGUgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIGRpc3RhbmNlVG9Cb3JkZXIgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIGRpc3RhbmNlVG9Qb2ludCA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHVuZGVmaW5lZDsKICAgICAgICB2YXIgdGhyZXNob2xkID0gMC4wNTsKICAgICAgICB2YXIgbWlkZGxlID0gKGxvdyArIGhpZ2gpICogMC41OwoKICAgICAgICB3aGlsZSAobG93IDw9IGhpZ2ggJiYgaXRlcmF0aW9uIDwgbWF4SXRlcmF0aW9ucykgewogICAgICAgICAgbWlkZGxlID0gKGxvdyArIGhpZ2gpICogMC41OwoKICAgICAgICAgIHBvcyA9IHRoaXMuX3BvaW50T25DaXJjbGUoeCwgeSwgcmFkaXVzLCBtaWRkbGUpOwogICAgICAgICAgYW5nbGUgPSBNYXRoLmF0YW4yKG5vZGUueSAtIHBvcy55LCBub2RlLnggLSBwb3MueCk7CiAgICAgICAgICBkaXN0YW5jZVRvQm9yZGVyID0gbm9kZS5kaXN0YW5jZVRvQm9yZGVyKGN0eCwgYW5nbGUpOwogICAgICAgICAgZGlzdGFuY2VUb1BvaW50ID0gTWF0aC5zcXJ0KE1hdGgucG93KHBvcy54IC0gbm9kZS54LCAyKSArIE1hdGgucG93KHBvcy55IC0gbm9kZS55LCAyKSk7CiAgICAgICAgICBkaWZmZXJlbmNlID0gZGlzdGFuY2VUb0JvcmRlciAtIGRpc3RhbmNlVG9Qb2ludDsKICAgICAgICAgIGlmIChNYXRoLmFicyhkaWZmZXJlbmNlKSA8IHRocmVzaG9sZCkgewogICAgICAgICAgICBicmVhazsgLy8gZm91bmQKICAgICAgICAgIH0gZWxzZSBpZiAoZGlmZmVyZW5jZSA+IDApIHsKICAgICAgICAgICAgLy8gZGlzdGFuY2UgdG8gbm9kZXMgaXMgbGFyZ2VyIHRoYW4gZGlzdGFuY2UgdG8gYm9yZGVyIC0tPiB0IG5lZWRzIHRvIGJlIGJpZ2dlciBpZiB3ZSdyZSBsb29raW5nIGF0IHRoZSB0byBub2RlLgogICAgICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkgewogICAgICAgICAgICAgIGxvdyA9IG1pZGRsZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBoaWdoID0gbWlkZGxlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkgewogICAgICAgICAgICAgIGhpZ2ggPSBtaWRkbGU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbG93ID0gbWlkZGxlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpdGVyYXRpb24rKzsKICAgICAgICB9CiAgICAgICAgcG9zLnQgPSBtaWRkbGU7CgogICAgICAgIHJldHVybiBwb3M7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZ2V0TGluZVdpZHRoJywKCiAgICAgIC8qKgogICAgICAgKiBHZXQgdGhlIGxpbmUgd2lkdGggb2YgdGhlIGVkZ2UuIERlcGVuZHMgb24gd2lkdGggYW5kIHdoZXRoZXIgb25lIG9mIHRoZQogICAgICAgKiBjb25uZWN0ZWQgbm9kZXMgaXMgc2VsZWN0ZWQuCiAgICAgICAqIEByZXR1cm4ge051bWJlcn0gd2lkdGgKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMaW5lV2lkdGgoc2VsZWN0ZWQsIGhvdmVyKSB7CiAgICAgICAgaWYgKHNlbGVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5zZWxlY3Rpb25XaWR0aCwgMC4zIC8gdGhpcy5ib2R5LnZpZXcuc2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoaG92ZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuaG92ZXJXaWR0aCwgMC4zIC8gdGhpcy5ib2R5LnZpZXcuc2NhbGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMub3B0aW9ucy53aWR0aCwgMC4zIC8gdGhpcy5ib2R5LnZpZXcuc2NhbGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdnZXRDb2xvcicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2xvcihjdHgsIHNlbGVjdGVkLCBob3ZlcikgewogICAgICAgIHZhciBjb2xvck9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuY29sb3I7CiAgICAgICAgaWYgKGNvbG9yT3B0aW9ucy5pbmhlcml0ICE9PSBmYWxzZSkgewogICAgICAgICAgLy8gd2hlbiB0aGlzIGlzIGEgbG9vcCBlZGdlLCBqdXN0IHVzZSB0aGUgJ2Zyb20nIG1ldGhvZAogICAgICAgICAgaWYgKGNvbG9yT3B0aW9ucy5pbmhlcml0ID09PSAnYm90aCcgJiYgdGhpcy5mcm9tLmlkICE9PSB0aGlzLnRvLmlkKSB7CiAgICAgICAgICAgIHZhciBncmQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQodGhpcy5mcm9tLngsIHRoaXMuZnJvbS55LCB0aGlzLnRvLngsIHRoaXMudG8ueSk7CiAgICAgICAgICAgIHZhciBmcm9tQ29sb3IgPSB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICB0b0NvbG9yID0gdW5kZWZpbmVkOwogICAgICAgICAgICBmcm9tQ29sb3IgPSB0aGlzLmZyb20ub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYm9yZGVyOwogICAgICAgICAgICB0b0NvbG9yID0gdGhpcy50by5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXI7CgogICAgICAgICAgICBpZiAodGhpcy5mcm9tLnNlbGVjdGVkID09PSBmYWxzZSAmJiB0aGlzLnRvLnNlbGVjdGVkID09PSBmYWxzZSkgewogICAgICAgICAgICAgIGZyb21Db2xvciA9IHV0aWwub3ZlcnJpZGVPcGFjaXR5KHRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmJvcmRlciwgdGhpcy5vcHRpb25zLmNvbG9yLm9wYWNpdHkpOwogICAgICAgICAgICAgIHRvQ29sb3IgPSB1dGlsLm92ZXJyaWRlT3BhY2l0eSh0aGlzLnRvLm9wdGlvbnMuY29sb3IuYm9yZGVyLCB0aGlzLm9wdGlvbnMuY29sb3Iub3BhY2l0eSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcm9tLnNlbGVjdGVkID09PSB0cnVlICYmIHRoaXMudG8uc2VsZWN0ZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgdG9Db2xvciA9IHRoaXMudG8ub3B0aW9ucy5jb2xvci5ib3JkZXI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcm9tLnNlbGVjdGVkID09PSBmYWxzZSAmJiB0aGlzLnRvLnNlbGVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgZnJvbUNvbG9yID0gdGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuYm9yZGVyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGdyZC5hZGRDb2xvclN0b3AoMCwgZnJvbUNvbG9yKTsKICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgxLCB0b0NvbG9yKTsKCiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tIHRoaXMgcmV0dXJucyAtLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwogICAgICAgICAgICByZXR1cm4gZ3JkOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLmNvbG9yRGlydHkgPT09IHRydWUpIHsKICAgICAgICAgICAgaWYgKGNvbG9yT3B0aW9ucy5pbmhlcml0ID09PSAndG8nKSB7CiAgICAgICAgICAgICAgdGhpcy5jb2xvci5oaWdobGlnaHQgPSB0aGlzLnRvLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcjsKICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhvdmVyID0gdGhpcy50by5vcHRpb25zLmNvbG9yLmhvdmVyLmJvcmRlcjsKICAgICAgICAgICAgICB0aGlzLmNvbG9yLmNvbG9yID0gdXRpbC5vdmVycmlkZU9wYWNpdHkodGhpcy50by5vcHRpb25zLmNvbG9yLmJvcmRlciwgY29sb3JPcHRpb25zLm9wYWNpdHkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vICh0aGlzLm9wdGlvbnMuY29sb3IuaW5oZXJpdC5zb3VyY2UgPT09ICJmcm9tIikgewogICAgICAgICAgICAgIHRoaXMuY29sb3IuaGlnaGxpZ2h0ID0gdGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcjsKICAgICAgICAgICAgICB0aGlzLmNvbG9yLmhvdmVyID0gdGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuaG92ZXIuYm9yZGVyOwogICAgICAgICAgICAgIHRoaXMuY29sb3IuY29sb3IgPSB1dGlsLm92ZXJyaWRlT3BhY2l0eSh0aGlzLmZyb20ub3B0aW9ucy5jb2xvci5ib3JkZXIsIGNvbG9yT3B0aW9ucy5vcGFjaXR5KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb2xvckRpcnR5ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmNvbG9yLmhpZ2hsaWdodCA9IGNvbG9yT3B0aW9ucy5oaWdobGlnaHQ7CiAgICAgICAgICB0aGlzLmNvbG9yLmhvdmVyID0gY29sb3JPcHRpb25zLmhvdmVyOwogICAgICAgICAgdGhpcy5jb2xvci5jb2xvciA9IHV0aWwub3ZlcnJpZGVPcGFjaXR5KGNvbG9yT3B0aW9ucy5jb2xvciwgY29sb3JPcHRpb25zLm9wYWNpdHkpOwogICAgICAgIH0KCiAgICAgICAgLy8gaWYgY29sb3IgaW5oZXJpdCBpcyBvbiBhbmQgZ3JhZGllbnRzIGFyZSB1c2VkLCB0aGUgZnVuY3Rpb24gaGFzIGFscmVhZHkgcmV0dXJuZWQgYnkgbm93LgogICAgICAgIHRoaXMuY29sb3JEaXJ0eSA9IGZhbHNlOwoKICAgICAgICBpZiAoc2VsZWN0ZWQgPT09IHRydWUpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yLmhpZ2hsaWdodDsKICAgICAgICB9IGVsc2UgaWYgKGhvdmVyID09PSB0cnVlKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvci5ob3ZlcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IuY29sb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jaXJjbGUnLAoKICAgICAgLyoqCiAgICAgICAqIERyYXcgYSBsaW5lIGZyb20gYSBub2RlIHRvIGl0c2VsZiwgYSBjaXJjbGUKICAgICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eAogICAgICAgKiBAcGFyYW0ge051bWJlcn0geAogICAgICAgKiBAcGFyYW0ge051bWJlcn0geQogICAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NpcmNsZShjdHgsIHgsIHksIHJhZGl1cykgewogICAgICAgIC8vIGRyYXcgc2hhZG93IGlmIGVuYWJsZWQKICAgICAgICB0aGlzLmVuYWJsZVNoYWRvdyhjdHgpOwoKICAgICAgICAvLyBkcmF3IGEgY2lyY2xlCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5hcmMoeCwgeSwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpOwogICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgLy8gZGlzYWJsZSBzaGFkb3dzIGZvciBvdGhlciBlbGVtZW50cy4KICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdnZXREaXN0YW5jZVRvRWRnZScsCgogICAgICAvKioKICAgICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgcG9pbnQgKHgzLHkzKSBhbmQgYSBsaW5lIHNlZ21lbnQgZnJvbQogICAgICAgKiAoeDEseTEpIHRvICh4Mix5MikuCiAgICAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODQ5MjExL3Nob3J0ZXN0LWRpc3RhbmNhZS1iZXR3ZWVuLWEtcG9pbnQtYW5kLWEtbGluZS1zZWdtZW50CiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MQogICAgICAgKiBAcGFyYW0ge251bWJlcn0geTEKICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHgyCiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MgogICAgICAgKiBAcGFyYW0ge251bWJlcn0geDMKICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHkzCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlzdGFuY2VUb0VkZ2UoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgdmlhKSB7CiAgICAgICAgLy8geDMseTMgaXMgdGhlIHBvaW50CiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gMDsKICAgICAgICBpZiAodGhpcy5mcm9tICE9IHRoaXMudG8pIHsKICAgICAgICAgIHJldHVyblZhbHVlID0gdGhpcy5fZ2V0RGlzdGFuY2VUb0VkZ2UoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgdmlhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIF9nZXRDaXJjbGVEYXRhNiA9IHRoaXMuX2dldENpcmNsZURhdGEoKTsKCiAgICAgICAgICB2YXIgX2dldENpcmNsZURhdGE2MiA9IF9zbGljZWRUb0FycmF5KF9nZXRDaXJjbGVEYXRhNiwgMyk7CgogICAgICAgICAgdmFyIHggPSBfZ2V0Q2lyY2xlRGF0YTYyWzBdOwogICAgICAgICAgdmFyIHkgPSBfZ2V0Q2lyY2xlRGF0YTYyWzFdOwogICAgICAgICAgdmFyIHJhZGl1cyA9IF9nZXRDaXJjbGVEYXRhNjJbMl07CgogICAgICAgICAgdmFyIGR4ID0geCAtIHgzOwogICAgICAgICAgdmFyIGR5ID0geSAtIHkzOwogICAgICAgICAgcmV0dXJuVmFsdWUgPSBNYXRoLmFicyhNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpIC0gcmFkaXVzKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCA8IHgzICYmIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0ICsgdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoID4geDMgJiYgdGhpcy5sYWJlbE1vZHVsZS5zaXplLnRvcCA8IHkzICYmIHRoaXMubGFiZWxNb2R1bGUuc2l6ZS50b3AgKyB0aGlzLmxhYmVsTW9kdWxlLnNpemUuaGVpZ2h0ID4geTMpIHsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19nZXREaXN0YW5jZVRvTGluZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RGlzdGFuY2VUb0xpbmUoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykgewogICAgICAgIHZhciBweCA9IHgyIC0geDE7CiAgICAgICAgdmFyIHB5ID0geTIgLSB5MTsKICAgICAgICB2YXIgc29tZXRoaW5nID0gcHggKiBweCArIHB5ICogcHk7CiAgICAgICAgdmFyIHUgPSAoKHgzIC0geDEpICogcHggKyAoeTMgLSB5MSkgKiBweSkgLyBzb21ldGhpbmc7CgogICAgICAgIGlmICh1ID4gMSkgewogICAgICAgICAgdSA9IDE7CiAgICAgICAgfSBlbHNlIGlmICh1IDwgMCkgewogICAgICAgICAgdSA9IDA7CiAgICAgICAgfQoKICAgICAgICB2YXIgeCA9IHgxICsgdSAqIHB4OwogICAgICAgIHZhciB5ID0geTEgKyB1ICogcHk7CiAgICAgICAgdmFyIGR4ID0geCAtIHgzOwogICAgICAgIHZhciBkeSA9IHkgLSB5MzsKCiAgICAgICAgLy8jIE5vdGU6IElmIHRoZSBhY3R1YWwgZGlzdGFuY2UgZG9lcyBub3QgbWF0dGVyLAogICAgICAgIC8vIyBpZiB5b3Ugb25seSB3YW50IHRvIGNvbXBhcmUgd2hhdCB0aGlzIGZ1bmN0aW9uCiAgICAgICAgLy8jIHJldHVybnMgdG8gb3RoZXIgcmVzdWx0cyBvZiB0aGlzIGZ1bmN0aW9uLCB5b3UKICAgICAgICAvLyMgY2FuIGp1c3QgcmV0dXJuIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGluc3RlYWQKICAgICAgICAvLyMgKGkuZS4gcmVtb3ZlIHRoZSBzcXJ0KSB0byBnYWluIGEgbGl0dGxlIHBlcmZvcm1hbmNlCgogICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RyYXdBcnJvd0hlYWQnLAoKICAgICAgLyoqCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBjdHgKICAgICAgICogQHBhcmFtIHBvc2l0aW9uCiAgICAgICAqIEBwYXJhbSB2aWFOb2RlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd0Fycm93SGVhZChjdHgsIHBvc2l0aW9uLCB2aWFOb2RlLCBzZWxlY3RlZCwgaG92ZXIpIHsKICAgICAgICAvLyBzZXQgc3R5bGUKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdldENvbG9yKGN0eCwgc2VsZWN0ZWQsIGhvdmVyKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gY3R4LnN0cm9rZVN0eWxlOwogICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmdldExpbmVXaWR0aChzZWxlY3RlZCwgaG92ZXIpOwoKICAgICAgICAvLyBzZXQgbGV0cwogICAgICAgIHZhciBhbmdsZSA9IHVuZGVmaW5lZDsKICAgICAgICB2YXIgbGVuZ3RoID0gdW5kZWZpbmVkOwogICAgICAgIHZhciBhcnJvd1BvcyA9IHVuZGVmaW5lZDsKICAgICAgICB2YXIgbm9kZTEgPSB1bmRlZmluZWQ7CiAgICAgICAgdmFyIG5vZGUyID0gdW5kZWZpbmVkOwogICAgICAgIHZhciBndWlkZU9mZnNldCA9IHVuZGVmaW5lZDsKICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSB1bmRlZmluZWQ7CgogICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2Zyb20nKSB7CiAgICAgICAgICBub2RlMSA9IHRoaXMuZnJvbTsKICAgICAgICAgIG5vZGUyID0gdGhpcy50bzsKICAgICAgICAgIGd1aWRlT2Zmc2V0ID0gMC4xOwogICAgICAgICAgc2NhbGVGYWN0b3IgPSB0aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20uc2NhbGVGYWN0b3I7CiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ3RvJykgewogICAgICAgICAgbm9kZTEgPSB0aGlzLnRvOwogICAgICAgICAgbm9kZTIgPSB0aGlzLmZyb207CiAgICAgICAgICBndWlkZU9mZnNldCA9IC0wLjE7CiAgICAgICAgICBzY2FsZUZhY3RvciA9IHRoaXMub3B0aW9ucy5hcnJvd3MudG8uc2NhbGVGYWN0b3I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5vZGUxID0gdGhpcy50bzsKICAgICAgICAgIG5vZGUyID0gdGhpcy5mcm9tOwogICAgICAgICAgc2NhbGVGYWN0b3IgPSB0aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZS5zY2FsZUZhY3RvcjsKICAgICAgICB9CgogICAgICAgIC8vIGlmIG5vdCBjb25uZWN0ZWQgdG8gaXRzZWxmCiAgICAgICAgaWYgKG5vZGUxICE9IG5vZGUyKSB7CiAgICAgICAgICBpZiAocG9zaXRpb24gIT09ICdtaWRkbGUnKSB7CiAgICAgICAgICAgIC8vIGRyYXcgYXJyb3cgaGVhZAogICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNtb290aC5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgYXJyb3dQb3MgPSB0aGlzLmZpbmRCb3JkZXJQb3NpdGlvbihub2RlMSwgY3R4LCB7IHZpYTogdmlhTm9kZSB9KTsKICAgICAgICAgICAgICB2YXIgZ3VpZGVQb3MgPSB0aGlzLmdldFBvaW50KE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGFycm93UG9zLnQgKyBndWlkZU9mZnNldCkpLCB2aWFOb2RlKTsKICAgICAgICAgICAgICBhbmdsZSA9IE1hdGguYXRhbjIoYXJyb3dQb3MueSAtIGd1aWRlUG9zLnksIGFycm93UG9zLnggLSBndWlkZVBvcy54KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbmdsZSA9IE1hdGguYXRhbjIobm9kZTEueSAtIG5vZGUyLnksIG5vZGUxLnggLSBub2RlMi54KTsKICAgICAgICAgICAgICBhcnJvd1BvcyA9IHRoaXMuZmluZEJvcmRlclBvc2l0aW9uKG5vZGUxLCBjdHgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbmdsZSA9IE1hdGguYXRhbjIobm9kZTEueSAtIG5vZGUyLnksIG5vZGUxLnggLSBub2RlMi54KTsKICAgICAgICAgICAgYXJyb3dQb3MgPSB0aGlzLmdldFBvaW50KDAuNiwgdmlhTm9kZSk7IC8vIHRoaXMgaXMgMC42IHRvIGFjY291bnQgZm9yIHRoZSBzaXplIG9mIHRoZSBhcnJvdy4KICAgICAgICAgIH0KICAgICAgICAgIC8vIGRyYXcgYXJyb3cgYXQgdGhlIGVuZCBvZiB0aGUgbGluZQogICAgICAgICAgbGVuZ3RoID0gKDEwICsgNSAqIHRoaXMub3B0aW9ucy53aWR0aCkgKiBzY2FsZUZhY3RvcjsKICAgICAgICAgIGN0eC5hcnJvdyhhcnJvd1Bvcy54LCBhcnJvd1Bvcy55LCBhbmdsZSwgbGVuZ3RoKTsKCiAgICAgICAgICAvLyBkcmF3IHNoYWRvdyBpZiBlbmFibGVkCiAgICAgICAgICB0aGlzLmVuYWJsZVNoYWRvdyhjdHgpOwogICAgICAgICAgY3R4LmZpbGwoKTsKCiAgICAgICAgICAvLyBkaXNhYmxlIHNoYWRvd3MgZm9yIG90aGVyIGVsZW1lbnRzLgogICAgICAgICAgdGhpcy5kaXNhYmxlU2hhZG93KGN0eCk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGRyYXcgY2lyY2xlCiAgICAgICAgICB2YXIgX2FuZ2xlID0gdW5kZWZpbmVkLAogICAgICAgICAgICAgIHBvaW50ID0gdW5kZWZpbmVkOwoKICAgICAgICAgIHZhciBfZ2V0Q2lyY2xlRGF0YTcgPSB0aGlzLl9nZXRDaXJjbGVEYXRhKGN0eCk7CgogICAgICAgICAgdmFyIF9nZXRDaXJjbGVEYXRhNzIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q2lyY2xlRGF0YTcsIDMpOwoKICAgICAgICAgIHZhciB4ID0gX2dldENpcmNsZURhdGE3MlswXTsKICAgICAgICAgIHZhciB5ID0gX2dldENpcmNsZURhdGE3MlsxXTsKICAgICAgICAgIHZhciByYWRpdXMgPSBfZ2V0Q2lyY2xlRGF0YTcyWzJdOwoKICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2Zyb20nKSB7CiAgICAgICAgICAgIHBvaW50ID0gdGhpcy5maW5kQm9yZGVyUG9zaXRpb24odGhpcy5mcm9tLCBjdHgsIHsgeDogeCwgeTogeSwgbG93OiAwLjI1LCBoaWdoOiAwLjYsIGRpcmVjdGlvbjogLTEgfSk7CiAgICAgICAgICAgIF9hbmdsZSA9IHBvaW50LnQgKiAtMiAqIE1hdGguUEkgKyAxLjUgKiBNYXRoLlBJICsgMC4xICogTWF0aC5QSTsKICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICd0bycpIHsKICAgICAgICAgICAgcG9pbnQgPSB0aGlzLmZpbmRCb3JkZXJQb3NpdGlvbih0aGlzLmZyb20sIGN0eCwgeyB4OiB4LCB5OiB5LCBsb3c6IDAuNiwgaGlnaDogMSwgZGlyZWN0aW9uOiAxIH0pOwogICAgICAgICAgICBfYW5nbGUgPSBwb2ludC50ICogLTIgKiBNYXRoLlBJICsgMS41ICogTWF0aC5QSSAtIDEuMSAqIE1hdGguUEk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwb2ludCA9IHRoaXMuX3BvaW50T25DaXJjbGUoeCwgeSwgcmFkaXVzLCAwLjE3NSk7CiAgICAgICAgICAgIF9hbmdsZSA9IDMuOTI2OTkwODE2OTg3MjQxNDsgLy8gPT09IDAuMTc1ICogLTIgKiBNYXRoLlBJICsgMS41ICogTWF0aC5QSSArIDAuMSAqIE1hdGguUEk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZHJhdyB0aGUgYXJyb3doZWFkCiAgICAgICAgICB2YXIgX2xlbmd0aCA9ICgxMCArIDUgKiB0aGlzLm9wdGlvbnMud2lkdGgpICogc2NhbGVGYWN0b3I7CiAgICAgICAgICBjdHguYXJyb3cocG9pbnQueCwgcG9pbnQueSwgX2FuZ2xlLCBfbGVuZ3RoKTsKCiAgICAgICAgICAvLyBkcmF3IHNoYWRvdyBpZiBlbmFibGVkCiAgICAgICAgICB0aGlzLmVuYWJsZVNoYWRvdyhjdHgpOwogICAgICAgICAgY3R4LmZpbGwoKTsKCiAgICAgICAgICAvLyBkaXNhYmxlIHNoYWRvd3MgZm9yIG90aGVyIGVsZW1lbnRzLgogICAgICAgICAgdGhpcy5kaXNhYmxlU2hhZG93KGN0eCk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2VuYWJsZVNoYWRvdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVTaGFkb3coY3R4KSB7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gJ3JnYmEoMCwwLDAsMC41KSc7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IHRoaXMub3B0aW9ucy5zaGFkb3cuc2l6ZTsKICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gdGhpcy5vcHRpb25zLnNoYWRvdy54OwogICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSB0aGlzLm9wdGlvbnMuc2hhZG93Lnk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2Rpc2FibGVTaGFkb3cnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZVNoYWRvdyhjdHgpIHsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSAncmdiYSgwLDAsMCwwKSc7CiAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7CiAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDA7CiAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDA7CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEVkZ2VCYXNlOwogIH0pKCk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEVkZ2VCYXNlOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogODYgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3g0LCBfeDUsIF94NikgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeDQsIHByb3BlcnR5ID0gX3g1LCByZWNlaXZlciA9IF94NjsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3g0ID0gcGFyZW50OyBfeDUgPSBwcm9wZXJ0eTsgX3g2ID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxCZXppZXJFZGdlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oODQpOwoKICB2YXIgX3V0aWxCZXppZXJFZGdlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsQmV6aWVyRWRnZUJhc2UpOwoKICB2YXIgQmV6aWVyRWRnZVN0YXRpYyA9IChmdW5jdGlvbiAoX0JlemllckVkZ2VCYXNlKSB7CiAgICBmdW5jdGlvbiBCZXppZXJFZGdlU3RhdGljKG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCZXppZXJFZGdlU3RhdGljKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEJlemllckVkZ2VTdGF0aWMucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSk7CiAgICB9CgogICAgX2luaGVyaXRzKEJlemllckVkZ2VTdGF0aWMsIF9CZXppZXJFZGdlQmFzZSk7CgogICAgX2NyZWF0ZUNsYXNzKEJlemllckVkZ2VTdGF0aWMsIFt7CiAgICAgIGtleTogJ19saW5lJywKCiAgICAgIC8qKgogICAgICAgKiBEcmF3IGEgbGluZSBiZXR3ZWVuIHR3byBub2RlcwogICAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2xpbmUoY3R4KSB7CiAgICAgICAgLy8gZHJhdyBhIHN0cmFpZ2h0IGxpbmUKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLmZyb20ueCwgdGhpcy5mcm9tLnkpOwogICAgICAgIHZhciB2aWEgPSB0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpOwogICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHZpYTsKCiAgICAgICAgLy8gZmFsbGJhY2sgdG8gbm9ybWFsIHN0cmFpZ2h0IGVkZ2VzCiAgICAgICAgaWYgKHZpYS54ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGN0eC5saW5lVG8odGhpcy50by54LCB0aGlzLnRvLnkpOwogICAgICAgICAgcmV0dXJuVmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHZpYS54LCB2aWEueSwgdGhpcy50by54LCB0aGlzLnRvLnkpOwogICAgICAgIH0KICAgICAgICAvLyBkcmF3IHNoYWRvdyBpZiBlbmFibGVkCiAgICAgICAgdGhpcy5lbmFibGVTaGFkb3coY3R4KTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgdGhpcy5kaXNhYmxlU2hhZG93KGN0eCk7CiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19nZXRWaWFDb29yZGluYXRlcycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VmlhQ29vcmRpbmF0ZXMoKSB7CiAgICAgICAgdmFyIHhWaWEgPSB1bmRlZmluZWQ7CiAgICAgICAgdmFyIHlWaWEgPSB1bmRlZmluZWQ7CiAgICAgICAgdmFyIGZhY3RvciA9IHRoaXMub3B0aW9ucy5zbW9vdGgucm91bmRuZXNzOwogICAgICAgIHZhciB0eXBlID0gdGhpcy5vcHRpb25zLnNtb290aC50eXBlOwogICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHRoaXMuZnJvbS54IC0gdGhpcy50by54KTsKICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0aGlzLmZyb20ueSAtIHRoaXMudG8ueSk7CiAgICAgICAgaWYgKHR5cGUgPT09ICdkaXNjcmV0ZScgfHwgdHlwZSA9PT0gJ2RpYWdvbmFsQ3Jvc3MnKSB7CiAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5mcm9tLnggLSB0aGlzLnRvLngpIDwgTWF0aC5hYnModGhpcy5mcm9tLnkgLSB0aGlzLnRvLnkpKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZyb20ueSA+IHRoaXMudG8ueSkgewogICAgICAgICAgICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkgewogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMuZnJvbS54ICsgZmFjdG9yICogZHk7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgLSBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZnJvbS54ID4gdGhpcy50by54KSB7CiAgICAgICAgICAgICAgICB4VmlhID0gdGhpcy5mcm9tLnggLSBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueSAtIGZhY3RvciAqIGR5OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZyb20ueSA8IHRoaXMudG8ueSkgewogICAgICAgICAgICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkgewogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMuZnJvbS54ICsgZmFjdG9yICogZHk7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgKyBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZnJvbS54ID4gdGhpcy50by54KSB7CiAgICAgICAgICAgICAgICB4VmlhID0gdGhpcy5mcm9tLnggLSBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueSArIGZhY3RvciAqIGR5OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Rpc2NyZXRlJykgewogICAgICAgICAgICAgIHhWaWEgPSBkeCA8IGZhY3RvciAqIGR5ID8gdGhpcy5mcm9tLnggOiB4VmlhOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHRoaXMuZnJvbS54IC0gdGhpcy50by54KSA+IE1hdGguYWJzKHRoaXMuZnJvbS55IC0gdGhpcy50by55KSkgewogICAgICAgICAgICBpZiAodGhpcy5mcm9tLnkgPiB0aGlzLnRvLnkpIHsKICAgICAgICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHsKICAgICAgICAgICAgICAgIHhWaWEgPSB0aGlzLmZyb20ueCArIGZhY3RvciAqIGR4OwogICAgICAgICAgICAgICAgeVZpYSA9IHRoaXMuZnJvbS55IC0gZmFjdG9yICogZHg7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZyb20ueCA+IHRoaXMudG8ueCkgewogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMuZnJvbS54IC0gZmFjdG9yICogZHg7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgLSBmYWN0b3IgKiBkeDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcm9tLnkgPCB0aGlzLnRvLnkpIHsKICAgICAgICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHsKICAgICAgICAgICAgICAgIHhWaWEgPSB0aGlzLmZyb20ueCArIGZhY3RvciAqIGR4OwogICAgICAgICAgICAgICAgeVZpYSA9IHRoaXMuZnJvbS55ICsgZmFjdG9yICogZHg7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZyb20ueCA+IHRoaXMudG8ueCkgewogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMuZnJvbS54IC0gZmFjdG9yICogZHg7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgKyBmYWN0b3IgKiBkeDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkaXNjcmV0ZScpIHsKICAgICAgICAgICAgICB5VmlhID0gZHkgPCBmYWN0b3IgKiBkeCA/IHRoaXMuZnJvbS55IDogeVZpYTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmFpZ2h0Q3Jvc3MnKSB7CiAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5mcm9tLnggLSB0aGlzLnRvLngpIDwgTWF0aC5hYnModGhpcy5mcm9tLnkgLSB0aGlzLnRvLnkpKSB7CiAgICAgICAgICAgIC8vIHVwIC0gZG93bgogICAgICAgICAgICB4VmlhID0gdGhpcy5mcm9tLng7CiAgICAgICAgICAgIGlmICh0aGlzLmZyb20ueSA8IHRoaXMudG8ueSkgewogICAgICAgICAgICAgIHlWaWEgPSB0aGlzLnRvLnkgLSAoMSAtIGZhY3RvcikgKiBkeTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB5VmlhID0gdGhpcy50by55ICsgKDEgLSBmYWN0b3IpICogZHk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModGhpcy5mcm9tLnggLSB0aGlzLnRvLngpID4gTWF0aC5hYnModGhpcy5mcm9tLnkgLSB0aGlzLnRvLnkpKSB7CiAgICAgICAgICAgIC8vIGxlZnQgLSByaWdodAogICAgICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHsKICAgICAgICAgICAgICB4VmlhID0gdGhpcy50by54IC0gKDEgLSBmYWN0b3IpICogZHg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgeFZpYSA9IHRoaXMudG8ueCArICgxIC0gZmFjdG9yKSAqIGR4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdob3Jpem9udGFsJykgewogICAgICAgICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7CiAgICAgICAgICAgIHhWaWEgPSB0aGlzLnRvLnggLSAoMSAtIGZhY3RvcikgKiBkeDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhWaWEgPSB0aGlzLnRvLnggKyAoMSAtIGZhY3RvcikgKiBkeDsKICAgICAgICAgIH0KICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZXJ0aWNhbCcpIHsKICAgICAgICAgIHhWaWEgPSB0aGlzLmZyb20ueDsKICAgICAgICAgIGlmICh0aGlzLmZyb20ueSA8IHRoaXMudG8ueSkgewogICAgICAgICAgICB5VmlhID0gdGhpcy50by55IC0gKDEgLSBmYWN0b3IpICogZHk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB5VmlhID0gdGhpcy50by55ICsgKDEgLSBmYWN0b3IpICogZHk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnY3VydmVkQ1cnKSB7CiAgICAgICAgICBkeCA9IHRoaXMudG8ueCAtIHRoaXMuZnJvbS54OwogICAgICAgICAgZHkgPSB0aGlzLmZyb20ueSAtIHRoaXMudG8ueTsKICAgICAgICAgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpOwogICAgICAgICAgdmFyIHBpID0gTWF0aC5QSTsKCiAgICAgICAgICB2YXIgb3JpZ2luYWxBbmdsZSA9IE1hdGguYXRhbjIoZHksIGR4KTsKICAgICAgICAgIHZhciBteUFuZ2xlID0gKG9yaWdpbmFsQW5nbGUgKyAoZmFjdG9yICogMC41ICsgMC41KSAqIHBpKSAlICgyICogcGkpOwoKICAgICAgICAgIHhWaWEgPSB0aGlzLmZyb20ueCArIChmYWN0b3IgKiAwLjUgKyAwLjUpICogcmFkaXVzICogTWF0aC5zaW4obXlBbmdsZSk7CiAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgKyAoZmFjdG9yICogMC41ICsgMC41KSAqIHJhZGl1cyAqIE1hdGguY29zKG15QW5nbGUpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2N1cnZlZENDVycpIHsKICAgICAgICAgIGR4ID0gdGhpcy50by54IC0gdGhpcy5mcm9tLng7CiAgICAgICAgICBkeSA9IHRoaXMuZnJvbS55IC0gdGhpcy50by55OwogICAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7CiAgICAgICAgICB2YXIgcGkgPSBNYXRoLlBJOwoKICAgICAgICAgIHZhciBvcmlnaW5hbEFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpOwogICAgICAgICAgdmFyIG15QW5nbGUgPSAob3JpZ2luYWxBbmdsZSArICgtZmFjdG9yICogMC41ICsgMC41KSAqIHBpKSAlICgyICogcGkpOwoKICAgICAgICAgIHhWaWEgPSB0aGlzLmZyb20ueCArIChmYWN0b3IgKiAwLjUgKyAwLjUpICogcmFkaXVzICogTWF0aC5zaW4obXlBbmdsZSk7CiAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgKyAoZmFjdG9yICogMC41ICsgMC41KSAqIHJhZGl1cyAqIE1hdGguY29zKG15QW5nbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBjb250aW51b3VzCiAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5mcm9tLnggLSB0aGlzLnRvLngpIDwgTWF0aC5hYnModGhpcy5mcm9tLnkgLSB0aGlzLnRvLnkpKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZyb20ueSA+IHRoaXMudG8ueSkgewogICAgICAgICAgICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkgewogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMuZnJvbS54ICsgZmFjdG9yICogZHk7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgLSBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICAgIHhWaWEgPSB0aGlzLnRvLnggPCB4VmlhID8gdGhpcy50by54IDogeFZpYTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZnJvbS54ID4gdGhpcy50by54KSB7CiAgICAgICAgICAgICAgICB4VmlhID0gdGhpcy5mcm9tLnggLSBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueSAtIGZhY3RvciAqIGR5OwogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMudG8ueCA+IHhWaWEgPyB0aGlzLnRvLnggOiB4VmlhOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZyb20ueSA8IHRoaXMudG8ueSkgewogICAgICAgICAgICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkgewogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMuZnJvbS54ICsgZmFjdG9yICogZHk7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy5mcm9tLnkgKyBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICAgIHhWaWEgPSB0aGlzLnRvLnggPCB4VmlhID8gdGhpcy50by54IDogeFZpYTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZnJvbS54ID4gdGhpcy50by54KSB7CiAgICAgICAgICAgICAgICB4VmlhID0gdGhpcy5mcm9tLnggLSBmYWN0b3IgKiBkeTsKICAgICAgICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueSArIGZhY3RvciAqIGR5OwogICAgICAgICAgICAgICAgeFZpYSA9IHRoaXMudG8ueCA+IHhWaWEgPyB0aGlzLnRvLnggOiB4VmlhOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh0aGlzLmZyb20ueCAtIHRoaXMudG8ueCkgPiBNYXRoLmFicyh0aGlzLmZyb20ueSAtIHRoaXMudG8ueSkpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZnJvbS55ID4gdGhpcy50by55KSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7CiAgICAgICAgICAgICAgICB4VmlhID0gdGhpcy5mcm9tLnggKyBmYWN0b3IgKiBkeDsKICAgICAgICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueSAtIGZhY3RvciAqIGR4OwogICAgICAgICAgICAgICAgeVZpYSA9IHRoaXMudG8ueSA+IHlWaWEgPyB0aGlzLnRvLnkgOiB5VmlhOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcm9tLnggPiB0aGlzLnRvLngpIHsKICAgICAgICAgICAgICAgIHhWaWEgPSB0aGlzLmZyb20ueCAtIGZhY3RvciAqIGR4OwogICAgICAgICAgICAgICAgeVZpYSA9IHRoaXMuZnJvbS55IC0gZmFjdG9yICogZHg7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy50by55ID4geVZpYSA/IHRoaXMudG8ueSA6IHlWaWE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZnJvbS55IDwgdGhpcy50by55KSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7CiAgICAgICAgICAgICAgICB4VmlhID0gdGhpcy5mcm9tLnggKyBmYWN0b3IgKiBkeDsKICAgICAgICAgICAgICAgIHlWaWEgPSB0aGlzLmZyb20ueSArIGZhY3RvciAqIGR4OwogICAgICAgICAgICAgICAgeVZpYSA9IHRoaXMudG8ueSA8IHlWaWEgPyB0aGlzLnRvLnkgOiB5VmlhOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcm9tLnggPiB0aGlzLnRvLngpIHsKICAgICAgICAgICAgICAgIHhWaWEgPSB0aGlzLmZyb20ueCAtIGZhY3RvciAqIGR4OwogICAgICAgICAgICAgICAgeVZpYSA9IHRoaXMuZnJvbS55ICsgZmFjdG9yICogZHg7CiAgICAgICAgICAgICAgICB5VmlhID0gdGhpcy50by55IDwgeVZpYSA/IHRoaXMudG8ueSA6IHlWaWE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB7IHg6IHhWaWEsIHk6IHlWaWEgfTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZmluZEJvcmRlclBvc2l0aW9uJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kQm9yZGVyUG9zaXRpb24obmVhck5vZGUsIGN0eCkgewogICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1syXTsKCiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkJlemllcihuZWFyTm9kZSwgY3R4LCBvcHRpb25zLnZpYSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2dldERpc3RhbmNlVG9FZGdlJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXREaXN0YW5jZVRvRWRnZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7CiAgICAgICAgdmFyIHZpYSA9IGFyZ3VtZW50c1s2XSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKSA6IGFyZ3VtZW50c1s2XTsKICAgICAgICAvLyB4Myx5MyBpcyB0aGUgcG9pbnQKICAgICAgICByZXR1cm4gdGhpcy5fZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgdmlhKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdnZXRQb2ludCcsCgogICAgICAvKioKICAgICAgICogQ29tYmluZWQgZnVuY3Rpb24gb2YgcG9pbnRPbkxpbmUgYW5kIHBvaW50T25CZXppZXIuIFRoaXMgZ2l2ZXMgdGhlIGNvb3JkaW5hdGVzIG9mIGEgcG9pbnQgb24gdGhlIGxpbmUgYXQgYSBjZXJ0YWluIHBlcmNlbnRhZ2Ugb2YgdGhlIHdheQogICAgICAgKiBAcGFyYW0gcGVyY2VudGFnZQogICAgICAgKiBAcGFyYW0gdmlhCiAgICAgICAqIEByZXR1cm5zIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50KHBlcmNlbnRhZ2UpIHsKICAgICAgICB2YXIgdmlhID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpIDogYXJndW1lbnRzWzFdOwoKICAgICAgICB2YXIgdCA9IHBlcmNlbnRhZ2U7CiAgICAgICAgdmFyIHggPSBNYXRoLnBvdygxIC0gdCwgMikgKiB0aGlzLmZyb20ueCArIDIgKiB0ICogKDEgLSB0KSAqIHZpYS54ICsgTWF0aC5wb3codCwgMikgKiB0aGlzLnRvLng7CiAgICAgICAgdmFyIHkgPSBNYXRoLnBvdygxIC0gdCwgMikgKiB0aGlzLmZyb20ueSArIDIgKiB0ICogKDEgLSB0KSAqIHZpYS55ICsgTWF0aC5wb3codCwgMikgKiB0aGlzLnRvLnk7CgogICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBCZXppZXJFZGdlU3RhdGljOwogIH0pKF91dGlsQmV6aWVyRWRnZUJhc2UyWydkZWZhdWx0J10pOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBCZXppZXJFZGdlU3RhdGljOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogODcgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgdmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfQoKICB2YXIgX3V0aWxFZGdlQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oODUpOwoKICB2YXIgX3V0aWxFZGdlQmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsRWRnZUJhc2UpOwoKICB2YXIgU3RyYWlnaHRFZGdlID0gKGZ1bmN0aW9uIChfRWRnZUJhc2UpIHsKICAgIGZ1bmN0aW9uIFN0cmFpZ2h0RWRnZShvcHRpb25zLCBib2R5LCBsYWJlbE1vZHVsZSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RyYWlnaHRFZGdlKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0cmFpZ2h0RWRnZS5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMsIGJvZHksIGxhYmVsTW9kdWxlKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoU3RyYWlnaHRFZGdlLCBfRWRnZUJhc2UpOwoKICAgIF9jcmVhdGVDbGFzcyhTdHJhaWdodEVkZ2UsIFt7CiAgICAgIGtleTogJ19saW5lJywKCiAgICAgIC8qKgogICAgICAgKiBEcmF3IGEgbGluZSBiZXR3ZWVuIHR3byBub2RlcwogICAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2xpbmUoY3R4KSB7CiAgICAgICAgLy8gZHJhdyBhIHN0cmFpZ2h0IGxpbmUKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLmZyb20ueCwgdGhpcy5mcm9tLnkpOwogICAgICAgIGN0eC5saW5lVG8odGhpcy50by54LCB0aGlzLnRvLnkpOwogICAgICAgIC8vIGRyYXcgc2hhZG93IGlmIGVuYWJsZWQKICAgICAgICB0aGlzLmVuYWJsZVNoYWRvdyhjdHgpOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICB0aGlzLmRpc2FibGVTaGFkb3coY3R4KTsKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2dldFBvaW50JywKCiAgICAgIC8qKgogICAgICAgKiBDb21iaW5lZCBmdW5jdGlvbiBvZiBwb2ludE9uTGluZSBhbmQgcG9pbnRPbkJlemllci4gVGhpcyBnaXZlcyB0aGUgY29vcmRpbmF0ZXMgb2YgYSBwb2ludCBvbiB0aGUgbGluZSBhdCBhIGNlcnRhaW4gcGVyY2VudGFnZSBvZiB0aGUgd2F5CiAgICAgICAqIEBwYXJhbSBwZXJjZW50YWdlCiAgICAgICAqIEBwYXJhbSB2aWEKICAgICAgICogQHJldHVybnMge3t4OiBudW1iZXIsIHk6IG51bWJlcn19CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9pbnQocGVyY2VudGFnZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiAoMSAtIHBlcmNlbnRhZ2UpICogdGhpcy5mcm9tLnggKyBwZXJjZW50YWdlICogdGhpcy50by54LAogICAgICAgICAgeTogKDEgLSBwZXJjZW50YWdlKSAqIHRoaXMuZnJvbS55ICsgcGVyY2VudGFnZSAqIHRoaXMudG8ueQogICAgICAgIH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2ZpbmRCb3JkZXJQb3NpdGlvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluZEJvcmRlclBvc2l0aW9uKG5lYXJOb2RlLCBjdHgpIHsKICAgICAgICB2YXIgbm9kZTEgPSB0aGlzLnRvOwogICAgICAgIHZhciBub2RlMiA9IHRoaXMuZnJvbTsKICAgICAgICBpZiAobmVhck5vZGUuaWQgPT09IHRoaXMuZnJvbS5pZCkgewogICAgICAgICAgbm9kZTEgPSB0aGlzLmZyb207CiAgICAgICAgICBub2RlMiA9IHRoaXMudG87CiAgICAgICAgfQoKICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKG5vZGUxLnkgLSBub2RlMi55LCBub2RlMS54IC0gbm9kZTIueCk7CiAgICAgICAgdmFyIGR4ID0gbm9kZTEueCAtIG5vZGUyLng7CiAgICAgICAgdmFyIGR5ID0gbm9kZTEueSAtIG5vZGUyLnk7CiAgICAgICAgdmFyIGVkZ2VTZWdtZW50TGVuZ3RoID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsKICAgICAgICB2YXIgdG9Cb3JkZXJEaXN0ID0gbmVhck5vZGUuZGlzdGFuY2VUb0JvcmRlcihjdHgsIGFuZ2xlKTsKICAgICAgICB2YXIgdG9Cb3JkZXJQb2ludCA9IChlZGdlU2VnbWVudExlbmd0aCAtIHRvQm9yZGVyRGlzdCkgLyBlZGdlU2VnbWVudExlbmd0aDsKCiAgICAgICAgdmFyIGJvcmRlclBvcyA9IHt9OwogICAgICAgIGJvcmRlclBvcy54ID0gKDEgLSB0b0JvcmRlclBvaW50KSAqIG5vZGUyLnggKyB0b0JvcmRlclBvaW50ICogbm9kZTEueDsKICAgICAgICBib3JkZXJQb3MueSA9ICgxIC0gdG9Cb3JkZXJQb2ludCkgKiBub2RlMi55ICsgdG9Cb3JkZXJQb2ludCAqIG5vZGUxLnk7CgogICAgICAgIHJldHVybiBib3JkZXJQb3M7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2dldERpc3RhbmNlVG9FZGdlJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXREaXN0YW5jZVRvRWRnZSh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7CiAgICAgICAgLy8geDMseTMgaXMgdGhlIHBvaW50CiAgICAgICAgcmV0dXJuIHRoaXMuX2dldERpc3RhbmNlVG9MaW5lKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFN0cmFpZ2h0RWRnZTsKICB9KShfdXRpbEVkZ2VCYXNlMlsnZGVmYXVsdCddKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gU3RyYWlnaHRFZGdlOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogODggKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc0Jhcm5lc0h1dFNvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oODkpOwoKICB2YXIgX2NvbXBvbmVudHNQaHlzaWNzQmFybmVzSHV0U29sdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNQaHlzaWNzQmFybmVzSHV0U29sdmVyKTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc1JlcHVsc2lvblNvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTApOwoKICB2YXIgX2NvbXBvbmVudHNQaHlzaWNzUmVwdWxzaW9uU29sdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNQaHlzaWNzUmVwdWxzaW9uU29sdmVyKTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc0hpZXJhcmNoaWNhbFJlcHVsc2lvblNvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpOwoKICB2YXIgX2NvbXBvbmVudHNQaHlzaWNzSGllcmFyY2hpY2FsUmVwdWxzaW9uU29sdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNQaHlzaWNzSGllcmFyY2hpY2FsUmVwdWxzaW9uU29sdmVyKTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc1NwcmluZ1NvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpOwoKICB2YXIgX2NvbXBvbmVudHNQaHlzaWNzU3ByaW5nU29sdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNQaHlzaWNzU3ByaW5nU29sdmVyKTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc0hpZXJhcmNoaWNhbFNwcmluZ1NvbHZlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpOwoKICB2YXIgX2NvbXBvbmVudHNQaHlzaWNzSGllcmFyY2hpY2FsU3ByaW5nU29sdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNQaHlzaWNzSGllcmFyY2hpY2FsU3ByaW5nU29sdmVyKTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc0NlbnRyYWxHcmF2aXR5U29sdmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7CgogIHZhciBfY29tcG9uZW50c1BoeXNpY3NDZW50cmFsR3Jhdml0eVNvbHZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb25lbnRzUGh5c2ljc0NlbnRyYWxHcmF2aXR5U29sdmVyKTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc0ZBMkJhc2VkUmVwdWxzaW9uU29sdmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7CgogIHZhciBfY29tcG9uZW50c1BoeXNpY3NGQTJCYXNlZFJlcHVsc2lvblNvbHZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb25lbnRzUGh5c2ljc0ZBMkJhc2VkUmVwdWxzaW9uU29sdmVyKTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc0ZBMkJhc2VkQ2VudHJhbEdyYXZpdHlTb2x2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTsKCiAgdmFyIF9jb21wb25lbnRzUGh5c2ljc0ZBMkJhc2VkQ2VudHJhbEdyYXZpdHlTb2x2ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50c1BoeXNpY3NGQTJCYXNlZENlbnRyYWxHcmF2aXR5U29sdmVyKTsKCiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICB2YXIgUGh5c2ljc0VuZ2luZSA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBQaHlzaWNzRW5naW5lKGJvZHkpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBoeXNpY3NFbmdpbmUpOwoKICAgICAgdGhpcy5ib2R5ID0gYm9keTsKICAgICAgdGhpcy5waHlzaWNzQm9keSA9IHsgcGh5c2ljc05vZGVJbmRpY2VzOiBbXSwgcGh5c2ljc0VkZ2VJbmRpY2VzOiBbXSwgZm9yY2VzOiB7fSwgdmVsb2NpdGllczoge30gfTsKCiAgICAgIHRoaXMucGh5c2ljc0VuYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLnNpbXVsYXRpb25JbnRlcnZhbCA9IDEwMDAgLyA2MDsKICAgICAgdGhpcy5yZXF1aXJlc1RpbWVvdXQgPSB0cnVlOwogICAgICB0aGlzLnByZXZpb3VzU3RhdGVzID0ge307CiAgICAgIHRoaXMuZnJlZXplQ2FjaGUgPSB7fTsKICAgICAgdGhpcy5yZW5kZXJUaW1lciA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5pbml0aWFsU3RhYmlsaXphdGlvbkVtaXR0ZWQgPSBmYWxzZTsKCiAgICAgIHRoaXMuc3RhYmlsaXplZCA9IGZhbHNlOwogICAgICB0aGlzLnN0YXJ0ZWRTdGFiaWxpemF0aW9uID0gZmFsc2U7CiAgICAgIHRoaXMuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMgPSAwOwogICAgICB0aGlzLnJlYWR5ID0gZmFsc2U7IC8vIHdpbGwgYmUgc2V0IHRvIHRydWUgaWYgdGhlIHN0YWJpbGl6ZQoKICAgICAgLy8gZGVmYXVsdCBvcHRpb25zCiAgICAgIHRoaXMub3B0aW9ucyA9IHt9OwogICAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgYmFybmVzSHV0OiB7CiAgICAgICAgICB0aGV0YTogMC41LAogICAgICAgICAgZ3Jhdml0YXRpb25hbENvbnN0YW50OiAtMjAwMCwKICAgICAgICAgIGNlbnRyYWxHcmF2aXR5OiAwLjMsCiAgICAgICAgICBzcHJpbmdMZW5ndGg6IDk1LAogICAgICAgICAgc3ByaW5nQ29uc3RhbnQ6IDAuMDQsCiAgICAgICAgICBkYW1waW5nOiAwLjA5LAogICAgICAgICAgYXZvaWRPdmVybGFwOiAwCiAgICAgICAgfSwKICAgICAgICBmb3JjZUF0bGFzMkJhc2VkOiB7CiAgICAgICAgICB0aGV0YTogMC41LAogICAgICAgICAgZ3Jhdml0YXRpb25hbENvbnN0YW50OiAtNTAsCiAgICAgICAgICBjZW50cmFsR3Jhdml0eTogMC4wMSwKICAgICAgICAgIHNwcmluZ0NvbnN0YW50OiAwLjA4LAogICAgICAgICAgc3ByaW5nTGVuZ3RoOiAxMDAsCiAgICAgICAgICBkYW1waW5nOiAwLjQsCiAgICAgICAgICBhdm9pZE92ZXJsYXA6IDAKICAgICAgICB9LAogICAgICAgIHJlcHVsc2lvbjogewogICAgICAgICAgY2VudHJhbEdyYXZpdHk6IDAuMiwKICAgICAgICAgIHNwcmluZ0xlbmd0aDogMjAwLAogICAgICAgICAgc3ByaW5nQ29uc3RhbnQ6IDAuMDUsCiAgICAgICAgICBub2RlRGlzdGFuY2U6IDEwMCwKICAgICAgICAgIGRhbXBpbmc6IDAuMDksCiAgICAgICAgICBhdm9pZE92ZXJsYXA6IDAKICAgICAgICB9LAogICAgICAgIGhpZXJhcmNoaWNhbFJlcHVsc2lvbjogewogICAgICAgICAgY2VudHJhbEdyYXZpdHk6IDAsCiAgICAgICAgICBzcHJpbmdMZW5ndGg6IDEwMCwKICAgICAgICAgIHNwcmluZ0NvbnN0YW50OiAwLjAxLAogICAgICAgICAgbm9kZURpc3RhbmNlOiAxMjAsCiAgICAgICAgICBkYW1waW5nOiAwLjA5CiAgICAgICAgfSwKICAgICAgICBtYXhWZWxvY2l0eTogNTAsCiAgICAgICAgbWluVmVsb2NpdHk6IDAuMSwgLy8gcHgvcwogICAgICAgIHNvbHZlcjogJ2Jhcm5lc0h1dCcsCiAgICAgICAgc3RhYmlsaXphdGlvbjogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgIGl0ZXJhdGlvbnM6IDEwMDAsIC8vIG1heGltdW0gbnVtYmVyIG9mIGl0ZXJhdGlvbiB0byBzdGFiaWxpemUKICAgICAgICAgIHVwZGF0ZUludGVydmFsOiA1MCwKICAgICAgICAgIG9ubHlEeW5hbWljRWRnZXM6IGZhbHNlLAogICAgICAgICAgZml0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICB0aW1lc3RlcDogMC41CiAgICAgIH07CiAgICAgIHV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucywgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CgogICAgICB0aGlzLmJpbmRFdmVudExpc3RlbmVycygpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhQaHlzaWNzRW5naW5lLCBbewogICAgICBrZXk6ICdiaW5kRXZlbnRMaXN0ZW5lcnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50TGlzdGVuZXJzKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdpbml0UGh5c2ljcycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmluaXRQaHlzaWNzKCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ3Jlc2V0UGh5c2ljcycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnN0b3BTaW11bGF0aW9uKCk7X3RoaXMucmVhZHkgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignZGlzYWJsZVBoeXNpY3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5waHlzaWNzRW5hYmxlZCA9IGZhbHNlO190aGlzLnN0b3BTaW11bGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ3Jlc3RvcmVQaHlzaWNzJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuc2V0T3B0aW9ucyhfdGhpcy5vcHRpb25zKTsKICAgICAgICAgIGlmIChfdGhpcy5yZWFkeSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpcy5zdGFydFNpbXVsYXRpb24oKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignc3RhcnRTaW11bGF0aW9uJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzLnJlYWR5ID09PSB0cnVlKSB7CiAgICAgICAgICAgIF90aGlzLnN0YXJ0U2ltdWxhdGlvbigpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdzdG9wU2ltdWxhdGlvbicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnN0b3BTaW11bGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5zdG9wU2ltdWxhdGlvbihmYWxzZSk7CiAgICAgICAgICBfdGhpcy5ib2R5LmVtaXR0ZXIub2ZmKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmVuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5waHlzaWNzRW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnN0b3BTaW11bGF0aW9uKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnBoeXNpY3NFbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgdXRpbC5zZWxlY3RpdmVOb3REZWVwRXh0ZW5kKFsnc3RhYmlsaXphdGlvbiddLCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOwogICAgICAgICAgICB1dGlsLm1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMsICdzdGFiaWxpemF0aW9uJyk7CgogICAgICAgICAgICBpZiAob3B0aW9ucy5lbmFibGVkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlZCA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICB0aGlzLnBoeXNpY3NFbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5zdG9wU2ltdWxhdGlvbigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuaW5pdCgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2luaXQnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICB2YXIgb3B0aW9uczsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNvbHZlciA9PT0gJ2ZvcmNlQXRsYXMyQmFzZWQnKSB7CiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLmZvcmNlQXRsYXMyQmFzZWQ7CiAgICAgICAgICB0aGlzLm5vZGVzU29sdmVyID0gbmV3IF9jb21wb25lbnRzUGh5c2ljc0ZBMkJhc2VkUmVwdWxzaW9uU29sdmVyMlsnZGVmYXVsdCddKHRoaXMuYm9keSwgdGhpcy5waHlzaWNzQm9keSwgb3B0aW9ucyk7CiAgICAgICAgICB0aGlzLmVkZ2VzU29sdmVyID0gbmV3IF9jb21wb25lbnRzUGh5c2ljc1NwcmluZ1NvbHZlcjJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMucGh5c2ljc0JvZHksIG9wdGlvbnMpOwogICAgICAgICAgdGhpcy5ncmF2aXR5U29sdmVyID0gbmV3IF9jb21wb25lbnRzUGh5c2ljc0ZBMkJhc2VkQ2VudHJhbEdyYXZpdHlTb2x2ZXIyWydkZWZhdWx0J10odGhpcy5ib2R5LCB0aGlzLnBoeXNpY3NCb2R5LCBvcHRpb25zKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zb2x2ZXIgPT09ICdyZXB1bHNpb24nKSB7CiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLnJlcHVsc2lvbjsKICAgICAgICAgIHRoaXMubm9kZXNTb2x2ZXIgPSBuZXcgX2NvbXBvbmVudHNQaHlzaWNzUmVwdWxzaW9uU29sdmVyMlsnZGVmYXVsdCddKHRoaXMuYm9keSwgdGhpcy5waHlzaWNzQm9keSwgb3B0aW9ucyk7CiAgICAgICAgICB0aGlzLmVkZ2VzU29sdmVyID0gbmV3IF9jb21wb25lbnRzUGh5c2ljc1NwcmluZ1NvbHZlcjJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMucGh5c2ljc0JvZHksIG9wdGlvbnMpOwogICAgICAgICAgdGhpcy5ncmF2aXR5U29sdmVyID0gbmV3IF9jb21wb25lbnRzUGh5c2ljc0NlbnRyYWxHcmF2aXR5U29sdmVyMlsnZGVmYXVsdCddKHRoaXMuYm9keSwgdGhpcy5waHlzaWNzQm9keSwgb3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc29sdmVyID09PSAnaGllcmFyY2hpY2FsUmVwdWxzaW9uJykgewogICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWxSZXB1bHNpb247CiAgICAgICAgICB0aGlzLm5vZGVzU29sdmVyID0gbmV3IF9jb21wb25lbnRzUGh5c2ljc0hpZXJhcmNoaWNhbFJlcHVsc2lvblNvbHZlcjJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMucGh5c2ljc0JvZHksIG9wdGlvbnMpOwogICAgICAgICAgdGhpcy5lZGdlc1NvbHZlciA9IG5ldyBfY29tcG9uZW50c1BoeXNpY3NIaWVyYXJjaGljYWxTcHJpbmdTb2x2ZXIyWydkZWZhdWx0J10odGhpcy5ib2R5LCB0aGlzLnBoeXNpY3NCb2R5LCBvcHRpb25zKTsKICAgICAgICAgIHRoaXMuZ3Jhdml0eVNvbHZlciA9IG5ldyBfY29tcG9uZW50c1BoeXNpY3NDZW50cmFsR3Jhdml0eVNvbHZlcjJbJ2RlZmF1bHQnXSh0aGlzLmJvZHksIHRoaXMucGh5c2ljc0JvZHksIG9wdGlvbnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBiYXJuZXNIdXQKICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuYmFybmVzSHV0OwogICAgICAgICAgdGhpcy5ub2Rlc1NvbHZlciA9IG5ldyBfY29tcG9uZW50c1BoeXNpY3NCYXJuZXNIdXRTb2x2ZXIyWydkZWZhdWx0J10odGhpcy5ib2R5LCB0aGlzLnBoeXNpY3NCb2R5LCBvcHRpb25zKTsKICAgICAgICAgIHRoaXMuZWRnZXNTb2x2ZXIgPSBuZXcgX2NvbXBvbmVudHNQaHlzaWNzU3ByaW5nU29sdmVyMlsnZGVmYXVsdCddKHRoaXMuYm9keSwgdGhpcy5waHlzaWNzQm9keSwgb3B0aW9ucyk7CiAgICAgICAgICB0aGlzLmdyYXZpdHlTb2x2ZXIgPSBuZXcgX2NvbXBvbmVudHNQaHlzaWNzQ2VudHJhbEdyYXZpdHlTb2x2ZXIyWydkZWZhdWx0J10odGhpcy5ib2R5LCB0aGlzLnBoeXNpY3NCb2R5LCBvcHRpb25zKTsKICAgICAgICB9CgogICAgICAgIHRoaXMubW9kZWxPcHRpb25zID0gb3B0aW9uczsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdpbml0UGh5c2ljcycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0UGh5c2ljcygpIHsKICAgICAgICBpZiAodGhpcy5waHlzaWNzRW5hYmxlZCA9PT0gdHJ1ZSAmJiB0aGlzLm9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLmVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zdGFiaWxpemUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhYmlsaXplZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnZml0Jywge30sIHRydWUpOwogICAgICAgICAgICB0aGlzLnN0YXJ0U2ltdWxhdGlvbigpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2ZpdCcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzdGFydFNpbXVsYXRpb24nLAoKICAgICAgLyoqCiAgICAgICAqIFN0YXJ0IHRoZSBzaW11bGF0aW9uCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRTaW11bGF0aW9uKCkgewogICAgICAgIGlmICh0aGlzLnBoeXNpY3NFbmFibGVkID09PSB0cnVlICYmIHRoaXMub3B0aW9ucy5lbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnN0YWJpbGl6ZWQgPSBmYWxzZTsKCiAgICAgICAgICAvLyB0aGlzIHNldHMgdGhlIHdpZHRoIG9mIGFsbCBub2RlcyBpbml0aWFsbHkgd2hpY2ggY291bGQgYmUgcmVxdWlyZWQgZm9yIHRoZSBhdm9pZE92ZXJsYXAKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19yZXNpemVOb2RlcycpOwogICAgICAgICAgaWYgKHRoaXMudmlld0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdGhpcy52aWV3RnVuY3Rpb24gPSB0aGlzLnNpbXVsYXRpb25TdGVwLmJpbmQodGhpcyk7CiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdpbml0UmVkcmF3JywgdGhpcy52aWV3RnVuY3Rpb24pOwogICAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfc3RhcnRSZW5kZXJpbmcnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlZHJhdycpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzdG9wU2ltdWxhdGlvbicsCgogICAgICAvKioKICAgICAgICogU3RvcCB0aGUgc2ltdWxhdGlvbiwgZm9yY2Ugc3RhYmlsaXphdGlvbi4KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wU2ltdWxhdGlvbigpIHsKICAgICAgICB2YXIgZW1pdCA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1swXTsKCiAgICAgICAgdGhpcy5zdGFiaWxpemVkID0gdHJ1ZTsKICAgICAgICBpZiAoZW1pdCA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5fZW1pdFN0YWJpbGl6ZWQoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudmlld0Z1bmN0aW9uICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9mZignaW5pdFJlZHJhdycsIHRoaXMudmlld0Z1bmN0aW9uKTsKICAgICAgICAgIHRoaXMudmlld0Z1bmN0aW9uID0gdW5kZWZpbmVkOwogICAgICAgICAgaWYgKGVtaXQgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3N0b3BSZW5kZXJpbmcnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2ltdWxhdGlvblN0ZXAnLAoKICAgICAgLyoqCiAgICAgICAqIFRoZSB2aWV3RnVuY3Rpb24gaW5zZXJ0cyB0aGlzIHN0ZXAgaW50byBlYWNoIHJlbmRlcmxvb3AuIEl0IGNhbGxzIHRoZSBwaHlzaWNzIHRpY2sgYW5kIGhhbmRsZXMgdGhlIGNsZWFudXAgYXQgc3RhYmlsaXplZC4KICAgICAgICoKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaW11bGF0aW9uU3RlcCgpIHsKICAgICAgICAvLyBjaGVjayBpZiB0aGUgcGh5c2ljcyBoYXZlIHNldHRsZWQKICAgICAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgICB0aGlzLnBoeXNpY3NUaWNrKCk7CiAgICAgICAgdmFyIHBoeXNpY3NUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTsKCiAgICAgICAgLy8gcnVuIGRvdWJsZSBzcGVlZCBpZiBpdCBpcyBhIGxpdHRsZSBncmFwaAogICAgICAgIGlmICgocGh5c2ljc1RpbWUgPCAwLjQgKiB0aGlzLnNpbXVsYXRpb25JbnRlcnZhbCB8fCB0aGlzLnJ1bkRvdWJsZVNwZWVkID09PSB0cnVlKSAmJiB0aGlzLnN0YWJpbGl6ZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLnBoeXNpY3NUaWNrKCk7CgogICAgICAgICAgLy8gdGhpcyBtYWtlcyBzdXJlIHRoZXJlIGlzIG5vIGppdHRlci4gVGhlIGRlY2lzaW9uIGlzIHRha2VuIG9uY2UgdG8gcnVuIGl0IGF0IGRvdWJsZSBzcGVlZC4KICAgICAgICAgIHRoaXMucnVuRG91YmxlU3BlZWQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc3RhYmlsaXplZCA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHRoaXMuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMgPiAxKSB7CiAgICAgICAgICAgIC8vIHRyaWdnZXIgdGhlICdzdGFiaWxpemVkJyBldmVudC4KICAgICAgICAgICAgLy8gVGhlIGV2ZW50IGlzIHRyaWdnZXJlZCBvbiB0aGUgbmV4dCB0aWNrLCB0byBwcmV2ZW50IHRoZSBjYXNlIHRoYXQKICAgICAgICAgICAgLy8gaXQgaXMgZmlyZWQgd2hpbGUgaW5pdGlhbGl6aW5nIHRoZSBOZXR3b3JrLCBpbiB3aGljaCBjYXNlIHlvdSB3b3VsZCBub3QKICAgICAgICAgICAgLy8gYmUgYWJsZSB0byBjYXRjaCBpdAogICAgICAgICAgICB0aGlzLnN0YXJ0ZWRTdGFiaWxpemF0aW9uID0gZmFsc2U7CiAgICAgICAgICAgIC8vdGhpcy5fZW1pdFN0YWJpbGl6ZWQoKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuc3RvcFNpbXVsYXRpb24oKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2VtaXRTdGFiaWxpemVkJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9lbWl0U3RhYmlsaXplZCgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgaWYgKHRoaXMuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMgPiAxIHx8IHRoaXMuaW5pdGlhbFN0YWJpbGl6YXRpb25FbWl0dGVkID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5pbml0aWFsU3RhYmlsaXphdGlvbkVtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMi5ib2R5LmVtaXR0ZXIuZW1pdCgnc3RhYmlsaXplZCcsIHsgaXRlcmF0aW9uczogX3RoaXMyLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zIH0pOwogICAgICAgICAgICBfdGhpczIuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMgPSAwOwogICAgICAgICAgfSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3BoeXNpY3NUaWNrJywKCiAgICAgIC8qKgogICAgICAgKiBBIHNpbmdsZSBzaW11bGF0aW9uIHN0ZXAgKG9yICd0aWNrJykgaW4gdGhlIHBoeXNpY3Mgc2ltdWxhdGlvbgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBoeXNpY3NUaWNrKCkgewogICAgICAgIGlmICh0aGlzLnN0YWJpbGl6ZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUZvcmNlcygpOwogICAgICAgICAgdGhpcy5zdGFiaWxpemVkID0gdGhpcy5tb3ZlTm9kZXMoKTsKCiAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdGhlIG5ldHdvcmsgaGFzIHN0YWJpbHppZWQKICAgICAgICAgIGlmICh0aGlzLnN0YWJpbGl6ZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHRoaXMgaXMgaGVyZSB0byBlbnN1cmUgdGhhdCB0aGVyZSBpcyBubyBzdGFydCBldmVudCB3aGVuIHRoZSBuZXR3b3JrIGlzIGFscmVhZHkgc3RhYmxlLgogICAgICAgICAgICBpZiAodGhpcy5zdGFydGVkU3RhYmlsaXphdGlvbiA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdzdGFydFN0YWJpbGl6aW5nJyk7CiAgICAgICAgICAgICAgdGhpcy5zdGFydGVkU3RhYmlsaXphdGlvbiA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zKys7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3VwZGF0ZVBoeXNpY3NEYXRhJywKCiAgICAgIC8qKgogICAgICAgKiBOb2RlcyBhbmQgZWRnZXMgY2FuIGhhdmUgdGhlIHBoeXNpY3MgdG9nZ2xlcyBvbiBvciBvZmYuIEEgY29sbGVjdGlvbiBvZiBpbmRpY2VzIGlzIGNyZWF0ZWQgaGVyZSBzbyB3ZSBjYW4gc2tpcCB0aGUgY2hlY2sgYWxsIHRoZSB0aW1lLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVBoeXNpY3NEYXRhKCkgewogICAgICAgIHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzID0ge307CiAgICAgICAgdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMgPSBbXTsKICAgICAgICB0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NFZGdlSW5kaWNlcyA9IFtdOwogICAgICAgIHZhciBub2RlcyA9IHRoaXMuYm9keS5ub2RlczsKICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmJvZHkuZWRnZXM7CgogICAgICAgIC8vIGdldCBub2RlIGluZGljZXMgZm9yIHBoeXNpY3MKICAgICAgICBmb3IgKHZhciBub2RlSWQgaW4gbm9kZXMpIHsKICAgICAgICAgIGlmIChub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgIGlmIChub2Rlc1tub2RlSWRdLm9wdGlvbnMucGh5c2ljcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLnB1c2gobm9kZUlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IGVkZ2UgaW5kaWNlcyBmb3IgcGh5c2ljcwogICAgICAgIGZvciAodmFyIGVkZ2VJZCBpbiBlZGdlcykgewogICAgICAgICAgaWYgKGVkZ2VzLmhhc093blByb3BlcnR5KGVkZ2VJZCkpIHsKICAgICAgICAgICAgaWYgKGVkZ2VzW2VkZ2VJZF0ub3B0aW9ucy5waHlzaWNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgdGhpcy5waHlzaWNzQm9keS5waHlzaWNzRWRnZUluZGljZXMucHVzaChlZGdlSWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgdGhlIHZlbG9jaXR5IGFuZCB0aGUgZm9yY2VzIHZlY3RvcgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBub2RlSWQgPSB0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlc1tpXTsKICAgICAgICAgIHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW25vZGVJZF0gPSB7IHg6IDAsIHk6IDAgfTsKCiAgICAgICAgICAvLyBmb3JjZXMgY2FuIGJlIHJlc2V0IGJlY2F1c2UgdGhleSBhcmUgcmVjYWxjdWxhdGVkLiBWZWxvY2l0aWVzIGhhdmUgdG8gcGVyc2lzdC4KICAgICAgICAgIGlmICh0aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXNbbm9kZUlkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllc1tub2RlSWRdID0geyB4OiAwLCB5OiAwIH07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBjbGVhbiBkZWxldGVkIG5vZGVzIGZyb20gdGhlIHZlbG9jaXR5IHZlY3RvcgogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXMpIHsKICAgICAgICAgIGlmIChub2Rlc1tub2RlSWRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZGVsZXRlIHRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllc1tub2RlSWRdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdyZXZlcnQnLAoKICAgICAgLyoqCiAgICAgICAqIFJldmVydCB0aGUgc2ltdWxhdGlvbiBvbmUgc3RlcC4gVGhpcyBpcyBkb25lIHNvIGFmdGVyIHN0YWJpbGl6YXRpb24sIGV2ZXJ5IG5ldyBzdGFydCBvZiB0aGUgc2ltdWxhdGlvbiB3aWxsIGFsc28gc2F5IHN0YWJpbGl6ZWQuCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gcmV2ZXJ0KCkgewogICAgICAgIHZhciBub2RlSWRzID0gT2JqZWN0LmtleXModGhpcy5wcmV2aW91c1N0YXRlcyk7CiAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5ib2R5Lm5vZGVzOwogICAgICAgIHZhciB2ZWxvY2l0aWVzID0gdGhpcy5waHlzaWNzQm9keS52ZWxvY2l0aWVzOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBub2RlSWQgPSBub2RlSWRzW2ldOwogICAgICAgICAgaWYgKG5vZGVzW25vZGVJZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBpZiAobm9kZXNbbm9kZUlkXS5vcHRpb25zLnBoeXNpY3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICB2ZWxvY2l0aWVzW25vZGVJZF0ueCA9IHRoaXMucHJldmlvdXNTdGF0ZXNbbm9kZUlkXS52eDsKICAgICAgICAgICAgICB2ZWxvY2l0aWVzW25vZGVJZF0ueSA9IHRoaXMucHJldmlvdXNTdGF0ZXNbbm9kZUlkXS52eTsKICAgICAgICAgICAgICBub2Rlc1tub2RlSWRdLnggPSB0aGlzLnByZXZpb3VzU3RhdGVzW25vZGVJZF0ueDsKICAgICAgICAgICAgICBub2Rlc1tub2RlSWRdLnkgPSB0aGlzLnByZXZpb3VzU3RhdGVzW25vZGVJZF0ueTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJldmlvdXNTdGF0ZXNbbm9kZUlkXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnbW92ZU5vZGVzJywKCiAgICAgIC8qKgogICAgICAgKiBtb3ZlIHRoZSBub2RlcyBvbmUgdGltZXN0YXAgYW5kIGNoZWNrIGlmIHRoZXkgYXJlIHN0YWJpbGl6ZWQKICAgICAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZU5vZGVzKCkgewogICAgICAgIHZhciBub2Rlc1ByZXNlbnQgPSBmYWxzZTsKICAgICAgICB2YXIgbm9kZUluZGljZXMgPSB0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlczsKICAgICAgICB2YXIgbWF4VmVsb2NpdHkgPSB0aGlzLm9wdGlvbnMubWF4VmVsb2NpdHkgPyB0aGlzLm9wdGlvbnMubWF4VmVsb2NpdHkgOiAxMDAwMDAwMDAwOwogICAgICAgIHZhciBzdGFiaWxpemVkID0gdHJ1ZTsKICAgICAgICB2YXIgdm1pbkNvcnJlY3RlZCA9IHRoaXMub3B0aW9ucy5taW5WZWxvY2l0eSAvIE1hdGgubWF4KHRoaXMuYm9keS52aWV3LnNjYWxlLCAwLjA1KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlSW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG5vZGVJZCA9IG5vZGVJbmRpY2VzW2ldOwogICAgICAgICAgdmFyIG5vZGVWZWxvY2l0eSA9IHRoaXMuX3BlcmZvcm1TdGVwKG5vZGVJZCwgbWF4VmVsb2NpdHkpOwogICAgICAgICAgLy8gc3RhYmlsaXplZCBpcyB0cnVlIGlmIHN0YWJpbGl6ZWQgaXMgdHJ1ZSBhbmQgdmVsb2NpdHkgaXMgc21hbGxlciB0aGFuIHZtaW4gLS0+IGFsbCBub2RlcyBtdXN0IGJlIHN0YWJpbGl6ZWQKICAgICAgICAgIHN0YWJpbGl6ZWQgPSBub2RlVmVsb2NpdHkgPCB2bWluQ29ycmVjdGVkICYmIHN0YWJpbGl6ZWQgPT09IHRydWU7CiAgICAgICAgICBub2Rlc1ByZXNlbnQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5vZGVzUHJlc2VudCA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHZtaW5Db3JyZWN0ZWQgPiAwLjUgKiB0aGlzLm9wdGlvbnMubWF4VmVsb2NpdHkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHN0YWJpbGl6ZWQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19wZXJmb3JtU3RlcCcsCgogICAgICAvKioKICAgICAgICogUGVyZm9ybSB0aGUgYWN0dWFsIHN0ZXAKICAgICAgICoKICAgICAgICogQHBhcmFtIG5vZGVJZAogICAgICAgKiBAcGFyYW0gbWF4VmVsb2NpdHkKICAgICAgICogQHJldHVybnMge251bWJlcn0KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcGVyZm9ybVN0ZXAobm9kZUlkLCBtYXhWZWxvY2l0eSkgewogICAgICAgIHZhciBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF07CiAgICAgICAgdmFyIHRpbWVzdGVwID0gdGhpcy5vcHRpb25zLnRpbWVzdGVwOwogICAgICAgIHZhciBmb3JjZXMgPSB0aGlzLnBoeXNpY3NCb2R5LmZvcmNlczsKICAgICAgICB2YXIgdmVsb2NpdGllcyA9IHRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllczsKCiAgICAgICAgLy8gc3RvcmUgdGhlIHN0YXRlIHNvIHdlIGNhbiByZXZlcnQKICAgICAgICB0aGlzLnByZXZpb3VzU3RhdGVzW25vZGVJZF0gPSB7IHg6IG5vZGUueCwgeTogbm9kZS55LCB2eDogdmVsb2NpdGllc1tub2RlSWRdLngsIHZ5OiB2ZWxvY2l0aWVzW25vZGVJZF0ueSB9OwoKICAgICAgICBpZiAobm9kZS5vcHRpb25zLmZpeGVkLnggPT09IGZhbHNlKSB7CiAgICAgICAgICB2YXIgZHggPSB0aGlzLm1vZGVsT3B0aW9ucy5kYW1waW5nICogdmVsb2NpdGllc1tub2RlSWRdLng7IC8vIGRhbXBpbmcgZm9yY2UKICAgICAgICAgIHZhciBheCA9IChmb3JjZXNbbm9kZUlkXS54IC0gZHgpIC8gbm9kZS5vcHRpb25zLm1hc3M7IC8vIGFjY2VsZXJhdGlvbgogICAgICAgICAgdmVsb2NpdGllc1tub2RlSWRdLnggKz0gYXggKiB0aW1lc3RlcDsgLy8gdmVsb2NpdHkKICAgICAgICAgIHZlbG9jaXRpZXNbbm9kZUlkXS54ID0gTWF0aC5hYnModmVsb2NpdGllc1tub2RlSWRdLngpID4gbWF4VmVsb2NpdHkgPyB2ZWxvY2l0aWVzW25vZGVJZF0ueCA+IDAgPyBtYXhWZWxvY2l0eSA6IC1tYXhWZWxvY2l0eSA6IHZlbG9jaXRpZXNbbm9kZUlkXS54OwogICAgICAgICAgbm9kZS54ICs9IHZlbG9jaXRpZXNbbm9kZUlkXS54ICogdGltZXN0ZXA7IC8vIHBvc2l0aW9uCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvcmNlc1tub2RlSWRdLnggPSAwOwogICAgICAgICAgdmVsb2NpdGllc1tub2RlSWRdLnggPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5vZGUub3B0aW9ucy5maXhlZC55ID09PSBmYWxzZSkgewogICAgICAgICAgdmFyIGR5ID0gdGhpcy5tb2RlbE9wdGlvbnMuZGFtcGluZyAqIHZlbG9jaXRpZXNbbm9kZUlkXS55OyAvLyBkYW1waW5nIGZvcmNlCiAgICAgICAgICB2YXIgYXkgPSAoZm9yY2VzW25vZGVJZF0ueSAtIGR5KSAvIG5vZGUub3B0aW9ucy5tYXNzOyAvLyBhY2NlbGVyYXRpb24KICAgICAgICAgIHZlbG9jaXRpZXNbbm9kZUlkXS55ICs9IGF5ICogdGltZXN0ZXA7IC8vIHZlbG9jaXR5CiAgICAgICAgICB2ZWxvY2l0aWVzW25vZGVJZF0ueSA9IE1hdGguYWJzKHZlbG9jaXRpZXNbbm9kZUlkXS55KSA+IG1heFZlbG9jaXR5ID8gdmVsb2NpdGllc1tub2RlSWRdLnkgPiAwID8gbWF4VmVsb2NpdHkgOiAtbWF4VmVsb2NpdHkgOiB2ZWxvY2l0aWVzW25vZGVJZF0ueTsKICAgICAgICAgIG5vZGUueSArPSB2ZWxvY2l0aWVzW25vZGVJZF0ueSAqIHRpbWVzdGVwOyAvLyBwb3NpdGlvbgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3JjZXNbbm9kZUlkXS55ID0gMDsKICAgICAgICAgIHZlbG9jaXRpZXNbbm9kZUlkXS55ID0gMDsKICAgICAgICB9CgogICAgICAgIHZhciB0b3RhbFZlbG9jaXR5ID0gTWF0aC5zcXJ0KE1hdGgucG93KHZlbG9jaXRpZXNbbm9kZUlkXS54LCAyKSArIE1hdGgucG93KHZlbG9jaXRpZXNbbm9kZUlkXS55LCAyKSk7CiAgICAgICAgcmV0dXJuIHRvdGFsVmVsb2NpdHk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnY2FsY3VsYXRlRm9yY2VzJywKCiAgICAgIC8qKgogICAgICAgKiBjYWxjdWxhdGUgdGhlIGZvcmNlcyBmb3Igb25lIHBoeXNpY3MgaXRlcmF0aW9uLgogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZUZvcmNlcygpIHsKICAgICAgICB0aGlzLmdyYXZpdHlTb2x2ZXIuc29sdmUoKTsKICAgICAgICB0aGlzLm5vZGVzU29sdmVyLnNvbHZlKCk7CiAgICAgICAgdGhpcy5lZGdlc1NvbHZlci5zb2x2ZSgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19mcmVlemVOb2RlcycsCgogICAgICAvKioKICAgICAgICogV2hlbiBpbml0aWFsaXppbmcgYW5kIHN0YWJpbGl6aW5nLCB3ZSBjYW4gZnJlZXplIG5vZGVzIHdpdGggYSBwcmVkZWZpbmVkIHBvc2l0aW9uLiBUaGlzIGdyZWF0bHkgc3BlZWRzIHVwIHN0YWJpbGl6YXRpb24KICAgICAgICogYmVjYXVzZSBvbmx5IHRoZSBzdXBwb3J0bm9kZXMgZm9yIHRoZSBzbW9vdGhDdXJ2ZXMgaGF2ZSB0byBzZXR0bGUuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZyZWV6ZU5vZGVzKCkgewogICAgICAgIHZhciBub2RlcyA9IHRoaXMuYm9keS5ub2RlczsKICAgICAgICBmb3IgKHZhciBpZCBpbiBub2RlcykgewogICAgICAgICAgaWYgKG5vZGVzLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgICAgICBpZiAobm9kZXNbaWRdLnggJiYgbm9kZXNbaWRdLnkpIHsKICAgICAgICAgICAgICB0aGlzLmZyZWV6ZUNhY2hlW2lkXSA9IHsgeDogbm9kZXNbaWRdLm9wdGlvbnMuZml4ZWQueCwgeTogbm9kZXNbaWRdLm9wdGlvbnMuZml4ZWQueSB9OwogICAgICAgICAgICAgIG5vZGVzW2lkXS5vcHRpb25zLmZpeGVkLnggPSB0cnVlOwogICAgICAgICAgICAgIG5vZGVzW2lkXS5vcHRpb25zLmZpeGVkLnkgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19yZXN0b3JlRnJvemVuTm9kZXMnLAoKICAgICAgLyoqCiAgICAgICAqIFVuZnJlZXplcyB0aGUgbm9kZXMgdGhhdCBoYXZlIGJlZW4gZnJvemVuIGJ5IF9mcmVlemVEZWZpbmVkTm9kZXMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc3RvcmVGcm96ZW5Ob2RlcygpIHsKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmJvZHkubm9kZXM7CiAgICAgICAgZm9yICh2YXIgaWQgaW4gbm9kZXMpIHsKICAgICAgICAgIGlmIChub2Rlcy5oYXNPd25Qcm9wZXJ0eShpZCkpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZnJlZXplQ2FjaGVbaWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBub2Rlc1tpZF0ub3B0aW9ucy5maXhlZC54ID0gdGhpcy5mcmVlemVDYWNoZVtpZF0ueDsKICAgICAgICAgICAgICBub2Rlc1tpZF0ub3B0aW9ucy5maXhlZC55ID0gdGhpcy5mcmVlemVDYWNoZVtpZF0ueTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLmZyZWV6ZUNhY2hlID0ge307CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc3RhYmlsaXplJywKCiAgICAgIC8qKgogICAgICAgKiBGaW5kIGEgc3RhYmxlIHBvc2l0aW9uIGZvciBhbGwgbm9kZXMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFiaWxpemUoKSB7CiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAgIHZhciBpdGVyYXRpb25zID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5pdGVyYXRpb25zIDogYXJndW1lbnRzWzBdOwoKICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdGlvbnMgIT09ICdudW1iZXInKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnVGhlIHN0YWJpbGl6ZSBtZXRob2QgbmVlZHMgYSBudW1lcmljIGFtb3VudCBvZiBpdGVyYXRpb25zLiBTd2l0Y2hpbmcgdG8gZGVmYXVsdDogJywgdGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24uaXRlcmF0aW9ucyk7CiAgICAgICAgICBpdGVyYXRpb25zID0gdGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24uaXRlcmF0aW9uczsKICAgICAgICB9CgogICAgICAgIC8vIHRoaXMgc2V0cyB0aGUgd2lkdGggb2YgYWxsIG5vZGVzIGluaXRpYWxseSB3aGljaCBjb3VsZCBiZSByZXF1aXJlZCBmb3IgdGhlIGF2b2lkT3ZlcmxhcAogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19yZXNpemVOb2RlcycpOwoKICAgICAgICAvLyBzdG9wIHRoZSByZW5kZXIgbG9vcAogICAgICAgIHRoaXMuc3RvcFNpbXVsYXRpb24oKTsKCiAgICAgICAgLy8gc2V0IHN0YWJpbHplIHRvIGZhbHNlCiAgICAgICAgdGhpcy5zdGFiaWxpemVkID0gZmFsc2U7CgogICAgICAgIC8vIGJsb2NrIHJlZHJhdyByZXF1ZXN0cwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19ibG9ja1JlZHJhd1JlcXVlc3RzJyk7CiAgICAgICAgdGhpcy50YXJnZXRJdGVyYXRpb25zID0gaXRlcmF0aW9uczsKCiAgICAgICAgLy8gc3RhcnQgdGhlIHN0YWJpbGl6YXRpb24KICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24ub25seUR5bmFtaWNFZGdlcyA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5fZnJlZXplTm9kZXMoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucyA9IDA7CgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy5fc3RhYmlsaXphdGlvbkJhdGNoKCk7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3N0YWJpbGl6YXRpb25CYXRjaCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhYmlsaXphdGlvbkJhdGNoKCkgewogICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgd2hpbGUgKHRoaXMuc3RhYmlsaXplZCA9PT0gZmFsc2UgJiYgY291bnQgPCB0aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi51cGRhdGVJbnRlcnZhbCAmJiB0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zIDwgdGhpcy50YXJnZXRJdGVyYXRpb25zKSB7CiAgICAgICAgICB0aGlzLnBoeXNpY3NUaWNrKCk7CiAgICAgICAgICB0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zKys7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc3RhYmlsaXplZCA9PT0gZmFsc2UgJiYgdGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucyA8IHRoaXMudGFyZ2V0SXRlcmF0aW9ucykgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnc3RhYmlsaXphdGlvblByb2dyZXNzJywgeyBpdGVyYXRpb25zOiB0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zLCB0b3RhbDogdGhpcy50YXJnZXRJdGVyYXRpb25zIH0pOwogICAgICAgICAgc2V0VGltZW91dCh0aGlzLl9zdGFiaWxpemF0aW9uQmF0Y2guYmluZCh0aGlzKSwgMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuX2ZpbmFsaXplU3RhYmlsaXphdGlvbigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZmluYWxpemVTdGFiaWxpemF0aW9uJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5hbGl6ZVN0YWJpbGl6YXRpb24oKSB7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX2FsbG93UmVkcmF3UmVxdWVzdHMnKTsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24uZml0ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdmaXQnKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5vbmx5RHluYW1pY0VkZ2VzID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLl9yZXN0b3JlRnJvemVuTm9kZXMoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3N0YWJpbGl6YXRpb25JdGVyYXRpb25zRG9uZScpOwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19yZXF1ZXN0UmVkcmF3Jyk7CgogICAgICAgIGlmICh0aGlzLnN0YWJpbGl6ZWQgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuX2VtaXRTdGFiaWxpemVkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc3RhcnRTaW11bGF0aW9uKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBQaHlzaWNzRW5naW5lOwogIH0pKCk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFBoeXNpY3NFbmdpbmU7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA4OSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgInVzZSBzdHJpY3QiOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCiAgdmFyIEJhcm5lc0h1dFNvbHZlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBCYXJuZXNIdXRTb2x2ZXIoYm9keSwgcGh5c2ljc0JvZHksIG9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhcm5lc0h1dFNvbHZlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLnBoeXNpY3NCb2R5ID0gcGh5c2ljc0JvZHk7CiAgICAgIHRoaXMuYmFybmVzSHV0VHJlZTsKICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwogICAgICB0aGlzLnJhbmRvbVNlZWQgPSA1OwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhCYXJuZXNIdXRTb2x2ZXIsIFt7CiAgICAgIGtleTogInNldE9wdGlvbnMiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9uczsKICAgICAgICB0aGlzLnRoZXRhSW52ZXJzZWQgPSAxIC8gdGhpcy5vcHRpb25zLnRoZXRhOwogICAgICAgIHRoaXMub3ZlcmxhcEF2b2lkYW5jZUZhY3RvciA9IDEgLSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB0aGlzLm9wdGlvbnMuYXZvaWRPdmVybGFwKSk7IC8vIGlmIDEgdGhlbiBtaW4gZGlzdGFuY2UgPSAwLjUsIGlmIDAuNSB0aGVuIG1pbiBkaXN0YW5jZSA9IDAuNSArIDAuNSpub2RlLnNoYXBlLnJhZGl1cwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInNlZWRlZFJhbmRvbSIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWVkZWRSYW5kb20oKSB7CiAgICAgICAgdmFyIHggPSBNYXRoLnNpbih0aGlzLnJhbmRvbVNlZWQrKykgKiAxMDAwMDsKICAgICAgICByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic29sdmUiLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgZm9yY2VzIHRoZSBub2RlcyBhcHBseSBvbiBlYWNob3RoZXIgYmFzZWQgb24gYSBncmF2aXRhdGlvbmFsIG1vZGVsLgogICAgICAgKiBUaGUgQmFybmVzIEh1dCBtZXRob2QgaXMgdXNlZCB0byBzcGVlZCB1cCB0aGlzIE4tYm9keSBzaW11bGF0aW9uLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNvbHZlKCkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50ICE9PSAwICYmIHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBub2RlID0gdW5kZWZpbmVkOwogICAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5ib2R5Lm5vZGVzOwogICAgICAgICAgdmFyIG5vZGVJbmRpY2VzID0gdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXM7CiAgICAgICAgICB2YXIgbm9kZUNvdW50ID0gbm9kZUluZGljZXMubGVuZ3RoOwoKICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgdHJlZQogICAgICAgICAgdmFyIGJhcm5lc0h1dFRyZWUgPSB0aGlzLl9mb3JtQmFybmVzSHV0VHJlZShub2Rlcywgbm9kZUluZGljZXMpOwoKICAgICAgICAgIC8vIGZvciBkZWJ1Z2dpbmcKICAgICAgICAgIHRoaXMuYmFybmVzSHV0VHJlZSA9IGJhcm5lc0h1dFRyZWU7CgogICAgICAgICAgLy8gcGxhY2UgdGhlIG5vZGVzIG9uZSBieSBvbmUgcmVjdXJzaXZlbHkKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHsKICAgICAgICAgICAgbm9kZSA9IG5vZGVzW25vZGVJbmRpY2VzW2ldXTsKICAgICAgICAgICAgaWYgKG5vZGUub3B0aW9ucy5tYXNzID4gMCkgewogICAgICAgICAgICAgIC8vIHN0YXJ0aW5nIHdpdGggcm9vdCBpcyBpcnJlbGV2YW50LCBpdCBuZXZlciBwYXNzZXMgdGhlIEJhcm5lc0h1dFNvbHZlciBjb25kaXRpb24KICAgICAgICAgICAgICB0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbihiYXJuZXNIdXRUcmVlLnJvb3QuY2hpbGRyZW4uTlcsIG5vZGUpOwogICAgICAgICAgICAgIHRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKGJhcm5lc0h1dFRyZWUucm9vdC5jaGlsZHJlbi5ORSwgbm9kZSk7CiAgICAgICAgICAgICAgdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24oYmFybmVzSHV0VHJlZS5yb290LmNoaWxkcmVuLlNXLCBub2RlKTsKICAgICAgICAgICAgICB0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbihiYXJuZXNIdXRUcmVlLnJvb3QuY2hpbGRyZW4uU0UsIG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9nZXRGb3JjZUNvbnRyaWJ1dGlvbiIsCgogICAgICAvKioKICAgICAgICogVGhpcyBmdW5jdGlvbiB0cmF2ZXJzZXMgdGhlIGJhcm5lc0h1dFRyZWUuIEl0IGNoZWNrcyB3aGVuIGl0IGNhbiBhcHByb3hpbWF0ZSBkaXN0YW50IG5vZGVzIHdpdGggdGhlaXIgY2VudGVyIG9mIG1hc3MuCiAgICAgICAqIElmIGEgcmVnaW9uIGNvbnRhaW5zIGEgc2luZ2xlIG5vZGUsIHdlIGNoZWNrIGlmIGl0IGlzIG5vdCBpdHNlbGYsIHRoZW4gd2UgYXBwbHkgdGhlIGZvcmNlLgogICAgICAgKgogICAgICAgKiBAcGFyYW0gcGFyZW50QnJhbmNoCiAgICAgICAqIEBwYXJhbSBub2RlCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEZvcmNlQ29udHJpYnV0aW9uKHBhcmVudEJyYW5jaCwgbm9kZSkgewogICAgICAgIC8vIHdlIGdldCBubyBmb3JjZSBjb250cmlidXRpb24gZnJvbSBhbiBlbXB0eSByZWdpb24KICAgICAgICBpZiAocGFyZW50QnJhbmNoLmNoaWxkcmVuQ291bnQgPiAwKSB7CiAgICAgICAgICB2YXIgZHggPSB1bmRlZmluZWQsCiAgICAgICAgICAgICAgZHkgPSB1bmRlZmluZWQsCiAgICAgICAgICAgICAgZGlzdGFuY2UgPSB1bmRlZmluZWQ7CgogICAgICAgICAgLy8gZ2V0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgbWFzcyB0byB0aGUgbm9kZS4KICAgICAgICAgIGR4ID0gcGFyZW50QnJhbmNoLmNlbnRlck9mTWFzcy54IC0gbm9kZS54OwogICAgICAgICAgZHkgPSBwYXJlbnRCcmFuY2guY2VudGVyT2ZNYXNzLnkgLSBub2RlLnk7CiAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7CgogICAgICAgICAgLy8gQmFybmVzSHV0U29sdmVyIGNvbmRpdGlvbgogICAgICAgICAgLy8gb3JpZ2luYWwgY29uZGl0aW9uIDogcy9kIDwgdGhldGEgPSBwYXNzZWQgID09PSAgZC9zID4gMS90aGV0YSA9IHBhc3NlZAogICAgICAgICAgLy8gY2FsY1NpemUgPSAxL3MgLS0+IGQgKiAxL3MgPiAxL3RoZXRhID0gcGFzc2VkCiAgICAgICAgICBpZiAoZGlzdGFuY2UgKiBwYXJlbnRCcmFuY2guY2FsY1NpemUgPiB0aGlzLnRoZXRhSW52ZXJzZWQpIHsKICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlRm9yY2VzKGRpc3RhbmNlLCBkeCwgZHksIG5vZGUsIHBhcmVudEJyYW5jaCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBEaWQgbm90IHBhc3MgdGhlIGNvbmRpdGlvbiwgZ28gaW50byBjaGlsZHJlbiBpZiBhdmFpbGFibGUKICAgICAgICAgICAgaWYgKHBhcmVudEJyYW5jaC5jaGlsZHJlbkNvdW50ID09PSA0KSB7CiAgICAgICAgICAgICAgdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24ocGFyZW50QnJhbmNoLmNoaWxkcmVuLk5XLCBub2RlKTsKICAgICAgICAgICAgICB0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbihwYXJlbnRCcmFuY2guY2hpbGRyZW4uTkUsIG5vZGUpOwogICAgICAgICAgICAgIHRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKHBhcmVudEJyYW5jaC5jaGlsZHJlbi5TVywgbm9kZSk7CiAgICAgICAgICAgICAgdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24ocGFyZW50QnJhbmNoLmNoaWxkcmVuLlNFLCBub2RlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBwYXJlbnRCcmFuY2ggbXVzdCBoYXZlIG9ubHkgb25lIG5vZGUsIGlmIGl0IHdhcyBlbXB0eSB3ZSB3b3VsZG50IGJlIGhlcmUKICAgICAgICAgICAgICBpZiAocGFyZW50QnJhbmNoLmNoaWxkcmVuLmRhdGEuaWQgIT0gbm9kZS5pZCkgewogICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgbm90IHNlbGYKICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUZvcmNlcyhkaXN0YW5jZSwgZHgsIGR5LCBub2RlLCBwYXJlbnRCcmFuY2gpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfY2FsY3VsYXRlRm9yY2VzIiwKCiAgICAgIC8qKgogICAgICAgKiBDYWxjdWxhdGUgdGhlIGZvcmNlcyBiYXNlZCBvbiB0aGUgZGlzdGFuY2UuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBkaXN0YW5jZQogICAgICAgKiBAcGFyYW0gZHgKICAgICAgICogQHBhcmFtIGR5CiAgICAgICAqIEBwYXJhbSBub2RlCiAgICAgICAqIEBwYXJhbSBwYXJlbnRCcmFuY2gKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY3VsYXRlRm9yY2VzKGRpc3RhbmNlLCBkeCwgZHksIG5vZGUsIHBhcmVudEJyYW5jaCkgewogICAgICAgIGlmIChkaXN0YW5jZSA9PT0gMCkgewogICAgICAgICAgZGlzdGFuY2UgPSAwLjE7CiAgICAgICAgICBkeCA9IGRpc3RhbmNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMub3ZlcmxhcEF2b2lkYW5jZUZhY3RvciA8IDEpIHsKICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5tYXgoMC4xICsgdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yICogbm9kZS5zaGFwZS5yYWRpdXMsIGRpc3RhbmNlIC0gbm9kZS5zaGFwZS5yYWRpdXMpOwogICAgICAgIH0KCiAgICAgICAgLy8gdGhlIGRpdmlkaW5nIGJ5IHRoZSBkaXN0YW5jZSBjdWJlZCBpbnN0ZWFkIG9mIHNxdWFyZWQgYWxsb3dzIHVzIHRvIGdldCB0aGUgZnggYW5kIGZ5IGNvbXBvbmVudHMgd2l0aG91dCBzaW5lcyBhbmQgY29zaW5lcwogICAgICAgIC8vIGl0IGlzIHNob3J0aGFuZCBmb3IgZ3Jhdml0eWZvcmNlIHdpdGggZGlzdGFuY2Ugc3F1YXJlZCBhbmQgZnggPSBkeC9kaXN0YW5jZSAqIGdyYXZpdHlGb3JjZQogICAgICAgIHZhciBncmF2aXR5Rm9yY2UgPSB0aGlzLm9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50ICogcGFyZW50QnJhbmNoLm1hc3MgKiBub2RlLm9wdGlvbnMubWFzcyAvIE1hdGgucG93KGRpc3RhbmNlLCAzKTsKICAgICAgICB2YXIgZnggPSBkeCAqIGdyYXZpdHlGb3JjZTsKICAgICAgICB2YXIgZnkgPSBkeSAqIGdyYXZpdHlGb3JjZTsKCiAgICAgICAgdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbbm9kZS5pZF0ueCArPSBmeDsKICAgICAgICB0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tub2RlLmlkXS55ICs9IGZ5OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9mb3JtQmFybmVzSHV0VHJlZSIsCgogICAgICAvKioKICAgICAgICogVGhpcyBmdW5jdGlvbiBjb25zdHJ1Y3RzIHRoZSBiYXJuZXNIdXQgdHJlZSByZWN1cnNpdmVseS4gSXQgY3JlYXRlcyB0aGUgcm9vdCwgc3BsaXRzIGl0IGFuZCBzdGFydHMgcGxhY2luZyB0aGUgbm9kZXMuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBub2RlcwogICAgICAgKiBAcGFyYW0gbm9kZUluZGljZXMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZm9ybUJhcm5lc0h1dFRyZWUobm9kZXMsIG5vZGVJbmRpY2VzKSB7CiAgICAgICAgdmFyIG5vZGUgPSB1bmRlZmluZWQ7CiAgICAgICAgdmFyIG5vZGVDb3VudCA9IG5vZGVJbmRpY2VzLmxlbmd0aDsKCiAgICAgICAgdmFyIG1pblggPSBub2Rlc1tub2RlSW5kaWNlc1swXV0ueDsKICAgICAgICB2YXIgbWluWSA9IG5vZGVzW25vZGVJbmRpY2VzWzBdXS55OwogICAgICAgIHZhciBtYXhYID0gbm9kZXNbbm9kZUluZGljZXNbMF1dLng7CiAgICAgICAgdmFyIG1heFkgPSBub2Rlc1tub2RlSW5kaWNlc1swXV0ueTsKCiAgICAgICAgLy8gZ2V0IHRoZSByYW5nZSBvZiB0aGUgbm9kZXMKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG5vZGVDb3VudDsgaSsrKSB7CiAgICAgICAgICB2YXIgeCA9IG5vZGVzW25vZGVJbmRpY2VzW2ldXS54OwogICAgICAgICAgdmFyIHkgPSBub2Rlc1tub2RlSW5kaWNlc1tpXV0ueTsKICAgICAgICAgIGlmIChub2Rlc1tub2RlSW5kaWNlc1tpXV0ub3B0aW9ucy5tYXNzID4gMCkgewogICAgICAgICAgICBpZiAoeCA8IG1pblgpIHsKICAgICAgICAgICAgICBtaW5YID0geDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeCA+IG1heFgpIHsKICAgICAgICAgICAgICBtYXhYID0geDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeSA8IG1pblkpIHsKICAgICAgICAgICAgICBtaW5ZID0geTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeSA+IG1heFkpIHsKICAgICAgICAgICAgICBtYXhZID0geTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBtYWtlIHRoZSByYW5nZSBhIHNxdWFyZQogICAgICAgIHZhciBzaXplRGlmZiA9IE1hdGguYWJzKG1heFggLSBtaW5YKSAtIE1hdGguYWJzKG1heFkgLSBtaW5ZKTsgLy8gZGlmZmVyZW5jZSBiZXR3ZWVuIFggYW5kIFkKICAgICAgICBpZiAoc2l6ZURpZmYgPiAwKSB7CiAgICAgICAgICBtaW5ZIC09IDAuNSAqIHNpemVEaWZmOwogICAgICAgICAgbWF4WSArPSAwLjUgKiBzaXplRGlmZjsKICAgICAgICB9IC8vIHhTaXplID4geVNpemUKICAgICAgICBlbHNlIHsKICAgICAgICAgIG1pblggKz0gMC41ICogc2l6ZURpZmY7CiAgICAgICAgICBtYXhYIC09IDAuNSAqIHNpemVEaWZmOwogICAgICAgIH0gLy8geFNpemUgPCB5U2l6ZQoKICAgICAgICB2YXIgbWluaW11bVRyZWVTaXplID0gMC4wMDAwMTsKICAgICAgICB2YXIgcm9vdFNpemUgPSBNYXRoLm1heChtaW5pbXVtVHJlZVNpemUsIE1hdGguYWJzKG1heFggLSBtaW5YKSk7CiAgICAgICAgdmFyIGhhbGZSb290U2l6ZSA9IDAuNSAqIHJvb3RTaXplOwogICAgICAgIHZhciBjZW50ZXJYID0gMC41ICogKG1pblggKyBtYXhYKSwKICAgICAgICAgICAgY2VudGVyWSA9IDAuNSAqIChtaW5ZICsgbWF4WSk7CgogICAgICAgIC8vIGNvbnN0cnVjdCB0aGUgYmFybmVzSHV0VHJlZQogICAgICAgIHZhciBiYXJuZXNIdXRUcmVlID0gewogICAgICAgICAgcm9vdDogewogICAgICAgICAgICBjZW50ZXJPZk1hc3M6IHsgeDogMCwgeTogMCB9LAogICAgICAgICAgICBtYXNzOiAwLAogICAgICAgICAgICByYW5nZTogewogICAgICAgICAgICAgIG1pblg6IGNlbnRlclggLSBoYWxmUm9vdFNpemUsIG1heFg6IGNlbnRlclggKyBoYWxmUm9vdFNpemUsCiAgICAgICAgICAgICAgbWluWTogY2VudGVyWSAtIGhhbGZSb290U2l6ZSwgbWF4WTogY2VudGVyWSArIGhhbGZSb290U2l6ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBzaXplOiByb290U2l6ZSwKICAgICAgICAgICAgY2FsY1NpemU6IDEgLyByb290U2l6ZSwKICAgICAgICAgICAgY2hpbGRyZW46IHsgZGF0YTogbnVsbCB9LAogICAgICAgICAgICBtYXhXaWR0aDogMCwKICAgICAgICAgICAgbGV2ZWw6IDAsCiAgICAgICAgICAgIGNoaWxkcmVuQ291bnQ6IDQKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHRoaXMuX3NwbGl0QnJhbmNoKGJhcm5lc0h1dFRyZWUucm9vdCk7CgogICAgICAgIC8vIHBsYWNlIHRoZSBub2RlcyBvbmUgYnkgb25lIHJlY3Vyc2l2ZWx5CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykgewogICAgICAgICAgbm9kZSA9IG5vZGVzW25vZGVJbmRpY2VzW2ldXTsKICAgICAgICAgIGlmIChub2RlLm9wdGlvbnMubWFzcyA+IDApIHsKICAgICAgICAgICAgdGhpcy5fcGxhY2VJblRyZWUoYmFybmVzSHV0VHJlZS5yb290LCBub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIG1ha2UgZ2xvYmFsCiAgICAgICAgcmV0dXJuIGJhcm5lc0h1dFRyZWU7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX3VwZGF0ZUJyYW5jaE1hc3MiLAoKICAgICAgLyoqCiAgICAgICAqIHRoaXMgdXBkYXRlcyB0aGUgbWFzcyBvZiBhIGJyYW5jaC4gdGhpcyBpcyBpbmNyZWFzZWQgYnkgYWRkaW5nIGEgbm9kZS4KICAgICAgICoKICAgICAgICogQHBhcmFtIHBhcmVudEJyYW5jaAogICAgICAgKiBAcGFyYW0gbm9kZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVCcmFuY2hNYXNzKHBhcmVudEJyYW5jaCwgbm9kZSkgewogICAgICAgIHZhciB0b3RhbE1hc3MgPSBwYXJlbnRCcmFuY2gubWFzcyArIG5vZGUub3B0aW9ucy5tYXNzOwogICAgICAgIHZhciB0b3RhbE1hc3NJbnYgPSAxIC8gdG90YWxNYXNzOwoKICAgICAgICBwYXJlbnRCcmFuY2guY2VudGVyT2ZNYXNzLnggPSBwYXJlbnRCcmFuY2guY2VudGVyT2ZNYXNzLnggKiBwYXJlbnRCcmFuY2gubWFzcyArIG5vZGUueCAqIG5vZGUub3B0aW9ucy5tYXNzOwogICAgICAgIHBhcmVudEJyYW5jaC5jZW50ZXJPZk1hc3MueCAqPSB0b3RhbE1hc3NJbnY7CgogICAgICAgIHBhcmVudEJyYW5jaC5jZW50ZXJPZk1hc3MueSA9IHBhcmVudEJyYW5jaC5jZW50ZXJPZk1hc3MueSAqIHBhcmVudEJyYW5jaC5tYXNzICsgbm9kZS55ICogbm9kZS5vcHRpb25zLm1hc3M7CiAgICAgICAgcGFyZW50QnJhbmNoLmNlbnRlck9mTWFzcy55ICo9IHRvdGFsTWFzc0ludjsKCiAgICAgICAgcGFyZW50QnJhbmNoLm1hc3MgPSB0b3RhbE1hc3M7CiAgICAgICAgdmFyIGJpZ2dlc3RTaXplID0gTWF0aC5tYXgoTWF0aC5tYXgobm9kZS5oZWlnaHQsIG5vZGUucmFkaXVzKSwgbm9kZS53aWR0aCk7CiAgICAgICAgcGFyZW50QnJhbmNoLm1heFdpZHRoID0gcGFyZW50QnJhbmNoLm1heFdpZHRoIDwgYmlnZ2VzdFNpemUgPyBiaWdnZXN0U2l6ZSA6IHBhcmVudEJyYW5jaC5tYXhXaWR0aDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfcGxhY2VJblRyZWUiLAoKICAgICAgLyoqCiAgICAgICAqIGRldGVybWluZSBpbiB3aGljaCBicmFuY2ggdGhlIG5vZGUgd2lsbCBiZSBwbGFjZWQuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBwYXJlbnRCcmFuY2gKICAgICAgICogQHBhcmFtIG5vZGUKICAgICAgICogQHBhcmFtIHNraXBNYXNzVXBkYXRlCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3BsYWNlSW5UcmVlKHBhcmVudEJyYW5jaCwgbm9kZSwgc2tpcE1hc3NVcGRhdGUpIHsKICAgICAgICBpZiAoc2tpcE1hc3NVcGRhdGUgIT0gdHJ1ZSB8fCBza2lwTWFzc1VwZGF0ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyB1cGRhdGUgdGhlIG1hc3Mgb2YgdGhlIGJyYW5jaC4KICAgICAgICAgIHRoaXMuX3VwZGF0ZUJyYW5jaE1hc3MocGFyZW50QnJhbmNoLCBub2RlKTsKICAgICAgICB9CgogICAgICAgIGlmIChwYXJlbnRCcmFuY2guY2hpbGRyZW4uTlcucmFuZ2UubWF4WCA+IG5vZGUueCkgewogICAgICAgICAgLy8gaW4gTlcgb3IgU1cKICAgICAgICAgIGlmIChwYXJlbnRCcmFuY2guY2hpbGRyZW4uTlcucmFuZ2UubWF4WSA+IG5vZGUueSkgewogICAgICAgICAgICAvLyBpbiBOVwogICAgICAgICAgICB0aGlzLl9wbGFjZUluUmVnaW9uKHBhcmVudEJyYW5jaCwgbm9kZSwgIk5XIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBpbiBTVwogICAgICAgICAgICB0aGlzLl9wbGFjZUluUmVnaW9uKHBhcmVudEJyYW5jaCwgbm9kZSwgIlNXIik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGluIE5FIG9yIFNFCiAgICAgICAgICBpZiAocGFyZW50QnJhbmNoLmNoaWxkcmVuLk5XLnJhbmdlLm1heFkgPiBub2RlLnkpIHsKICAgICAgICAgICAgLy8gaW4gTkUKICAgICAgICAgICAgdGhpcy5fcGxhY2VJblJlZ2lvbihwYXJlbnRCcmFuY2gsIG5vZGUsICJORSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gaW4gU0UKICAgICAgICAgICAgdGhpcy5fcGxhY2VJblJlZ2lvbihwYXJlbnRCcmFuY2gsIG5vZGUsICJTRSIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfcGxhY2VJblJlZ2lvbiIsCgogICAgICAvKioKICAgICAgICogYWN0dWFsbHkgcGxhY2UgdGhlIG5vZGUgaW4gYSByZWdpb24gKG9yIGJyYW5jaCkKICAgICAgICoKICAgICAgICogQHBhcmFtIHBhcmVudEJyYW5jaAogICAgICAgKiBAcGFyYW0gbm9kZQogICAgICAgKiBAcGFyYW0gcmVnaW9uCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3BsYWNlSW5SZWdpb24ocGFyZW50QnJhbmNoLCBub2RlLCByZWdpb24pIHsKICAgICAgICBzd2l0Y2ggKHBhcmVudEJyYW5jaC5jaGlsZHJlbltyZWdpb25dLmNoaWxkcmVuQ291bnQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgLy8gcGxhY2Ugbm9kZSBoZXJlCiAgICAgICAgICAgIHBhcmVudEJyYW5jaC5jaGlsZHJlbltyZWdpb25dLmNoaWxkcmVuLmRhdGEgPSBub2RlOwogICAgICAgICAgICBwYXJlbnRCcmFuY2guY2hpbGRyZW5bcmVnaW9uXS5jaGlsZHJlbkNvdW50ID0gMTsKICAgICAgICAgICAgdGhpcy5fdXBkYXRlQnJhbmNoTWFzcyhwYXJlbnRCcmFuY2guY2hpbGRyZW5bcmVnaW9uXSwgbm9kZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAvLyBjb252ZXJ0IGludG8gY2hpbGRyZW4KICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHR3byBub2RlcyBleGFjdGx5IG92ZXJsYXBwaW5nIChvbiBpbml0LCBvbiBvcGVuaW5nIG9mIGNsdXN0ZXIgZXRjLikKICAgICAgICAgICAgLy8gd2UgbW92ZSBvbmUgbm9kZSBhIHBpeGVsIGFuZCB3ZSBkbyBub3QgcHV0IGl0IGluIHRoZSB0cmVlLgogICAgICAgICAgICBpZiAocGFyZW50QnJhbmNoLmNoaWxkcmVuW3JlZ2lvbl0uY2hpbGRyZW4uZGF0YS54ID09PSBub2RlLnggJiYgcGFyZW50QnJhbmNoLmNoaWxkcmVuW3JlZ2lvbl0uY2hpbGRyZW4uZGF0YS55ID09PSBub2RlLnkpIHsKICAgICAgICAgICAgICBub2RlLnggKz0gdGhpcy5zZWVkZWRSYW5kb20oKTsKICAgICAgICAgICAgICBub2RlLnkgKz0gdGhpcy5zZWVkZWRSYW5kb20oKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLl9zcGxpdEJyYW5jaChwYXJlbnRCcmFuY2guY2hpbGRyZW5bcmVnaW9uXSk7CiAgICAgICAgICAgICAgdGhpcy5fcGxhY2VJblRyZWUocGFyZW50QnJhbmNoLmNoaWxkcmVuW3JlZ2lvbl0sIG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAvLyBwbGFjZSBpbiBicmFuY2gKICAgICAgICAgICAgdGhpcy5fcGxhY2VJblRyZWUocGFyZW50QnJhbmNoLmNoaWxkcmVuW3JlZ2lvbl0sIG5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX3NwbGl0QnJhbmNoIiwKCiAgICAgIC8qKgogICAgICAgKiB0aGlzIGZ1bmN0aW9uIHNwbGl0cyBhIGJyYW5jaCBpbnRvIDQgc3ViIGJyYW5jaGVzLiBJZiB0aGUgYnJhbmNoIGNvbnRhaW5lZCBhIG5vZGUsIHdlIHBsYWNlIGl0IGluIHRoZSBzdWJicmFuY2gKICAgICAgICogYWZ0ZXIgdGhlIHNwbGl0IGlzIGNvbXBsZXRlLgogICAgICAgKgogICAgICAgKiBAcGFyYW0gcGFyZW50QnJhbmNoCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3NwbGl0QnJhbmNoKHBhcmVudEJyYW5jaCkgewogICAgICAgIC8vIGlmIHRoZSBicmFuY2ggaXMgc2hhZGVkIHdpdGggYSBub2RlLCByZXBsYWNlIHRoZSBub2RlIGluIHRoZSBuZXcgc3Vic2V0LgogICAgICAgIHZhciBjb250YWluZWROb2RlID0gbnVsbDsKICAgICAgICBpZiAocGFyZW50QnJhbmNoLmNoaWxkcmVuQ291bnQgPT09IDEpIHsKICAgICAgICAgIGNvbnRhaW5lZE5vZGUgPSBwYXJlbnRCcmFuY2guY2hpbGRyZW4uZGF0YTsKICAgICAgICAgIHBhcmVudEJyYW5jaC5tYXNzID0gMDsKICAgICAgICAgIHBhcmVudEJyYW5jaC5jZW50ZXJPZk1hc3MueCA9IDA7CiAgICAgICAgICBwYXJlbnRCcmFuY2guY2VudGVyT2ZNYXNzLnkgPSAwOwogICAgICAgIH0KICAgICAgICBwYXJlbnRCcmFuY2guY2hpbGRyZW5Db3VudCA9IDQ7CiAgICAgICAgcGFyZW50QnJhbmNoLmNoaWxkcmVuLmRhdGEgPSBudWxsOwogICAgICAgIHRoaXMuX2luc2VydFJlZ2lvbihwYXJlbnRCcmFuY2gsICJOVyIpOwogICAgICAgIHRoaXMuX2luc2VydFJlZ2lvbihwYXJlbnRCcmFuY2gsICJORSIpOwogICAgICAgIHRoaXMuX2luc2VydFJlZ2lvbihwYXJlbnRCcmFuY2gsICJTVyIpOwogICAgICAgIHRoaXMuX2luc2VydFJlZ2lvbihwYXJlbnRCcmFuY2gsICJTRSIpOwoKICAgICAgICBpZiAoY29udGFpbmVkTm9kZSAhPSBudWxsKSB7CiAgICAgICAgICB0aGlzLl9wbGFjZUluVHJlZShwYXJlbnRCcmFuY2gsIGNvbnRhaW5lZE5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfaW5zZXJ0UmVnaW9uIiwKCiAgICAgIC8qKgogICAgICAgKiBUaGlzIGZ1bmN0aW9uIHN1YmRpdmlkZXMgdGhlIHJlZ2lvbiBpbnRvIGZvdXIgbmV3IHNlZ21lbnRzLgogICAgICAgKiBTcGVjaWZpY2FsbHksIHRoaXMgaW5zZXJ0cyBhIHNpbmdsZSBuZXcgc2VnbWVudC4KICAgICAgICogSXQgZmlsbHMgdGhlIGNoaWxkcmVuIHNlY3Rpb24gb2YgdGhlIHBhcmVudEJyYW5jaAogICAgICAgKgogICAgICAgKiBAcGFyYW0gcGFyZW50QnJhbmNoCiAgICAgICAqIEBwYXJhbSByZWdpb24KICAgICAgICogQHBhcmFtIHBhcmVudFJhbmdlCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2luc2VydFJlZ2lvbihwYXJlbnRCcmFuY2gsIHJlZ2lvbikgewogICAgICAgIHZhciBtaW5YID0gdW5kZWZpbmVkLAogICAgICAgICAgICBtYXhYID0gdW5kZWZpbmVkLAogICAgICAgICAgICBtaW5ZID0gdW5kZWZpbmVkLAogICAgICAgICAgICBtYXhZID0gdW5kZWZpbmVkOwogICAgICAgIHZhciBjaGlsZFNpemUgPSAwLjUgKiBwYXJlbnRCcmFuY2guc2l6ZTsKICAgICAgICBzd2l0Y2ggKHJlZ2lvbikgewogICAgICAgICAgY2FzZSAiTlciOgogICAgICAgICAgICBtaW5YID0gcGFyZW50QnJhbmNoLnJhbmdlLm1pblg7CiAgICAgICAgICAgIG1heFggPSBwYXJlbnRCcmFuY2gucmFuZ2UubWluWCArIGNoaWxkU2l6ZTsKICAgICAgICAgICAgbWluWSA9IHBhcmVudEJyYW5jaC5yYW5nZS5taW5ZOwogICAgICAgICAgICBtYXhZID0gcGFyZW50QnJhbmNoLnJhbmdlLm1pblkgKyBjaGlsZFNpemU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiTkUiOgogICAgICAgICAgICBtaW5YID0gcGFyZW50QnJhbmNoLnJhbmdlLm1pblggKyBjaGlsZFNpemU7CiAgICAgICAgICAgIG1heFggPSBwYXJlbnRCcmFuY2gucmFuZ2UubWF4WDsKICAgICAgICAgICAgbWluWSA9IHBhcmVudEJyYW5jaC5yYW5nZS5taW5ZOwogICAgICAgICAgICBtYXhZID0gcGFyZW50QnJhbmNoLnJhbmdlLm1pblkgKyBjaGlsZFNpemU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiU1ciOgogICAgICAgICAgICBtaW5YID0gcGFyZW50QnJhbmNoLnJhbmdlLm1pblg7CiAgICAgICAgICAgIG1heFggPSBwYXJlbnRCcmFuY2gucmFuZ2UubWluWCArIGNoaWxkU2l6ZTsKICAgICAgICAgICAgbWluWSA9IHBhcmVudEJyYW5jaC5yYW5nZS5taW5ZICsgY2hpbGRTaXplOwogICAgICAgICAgICBtYXhZID0gcGFyZW50QnJhbmNoLnJhbmdlLm1heFk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiU0UiOgogICAgICAgICAgICBtaW5YID0gcGFyZW50QnJhbmNoLnJhbmdlLm1pblggKyBjaGlsZFNpemU7CiAgICAgICAgICAgIG1heFggPSBwYXJlbnRCcmFuY2gucmFuZ2UubWF4WDsKICAgICAgICAgICAgbWluWSA9IHBhcmVudEJyYW5jaC5yYW5nZS5taW5ZICsgY2hpbGRTaXplOwogICAgICAgICAgICBtYXhZID0gcGFyZW50QnJhbmNoLnJhbmdlLm1heFk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgcGFyZW50QnJhbmNoLmNoaWxkcmVuW3JlZ2lvbl0gPSB7CiAgICAgICAgICBjZW50ZXJPZk1hc3M6IHsgeDogMCwgeTogMCB9LAogICAgICAgICAgbWFzczogMCwKICAgICAgICAgIHJhbmdlOiB7IG1pblg6IG1pblgsIG1heFg6IG1heFgsIG1pblk6IG1pblksIG1heFk6IG1heFkgfSwKICAgICAgICAgIHNpemU6IDAuNSAqIHBhcmVudEJyYW5jaC5zaXplLAogICAgICAgICAgY2FsY1NpemU6IDIgKiBwYXJlbnRCcmFuY2guY2FsY1NpemUsCiAgICAgICAgICBjaGlsZHJlbjogeyBkYXRhOiBudWxsIH0sCiAgICAgICAgICBtYXhXaWR0aDogMCwKICAgICAgICAgIGxldmVsOiBwYXJlbnRCcmFuY2gubGV2ZWwgKyAxLAogICAgICAgICAgY2hpbGRyZW5Db3VudDogMAogICAgICAgIH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX2RlYnVnIiwKCiAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBERUJVR0dJTkcgQkVMT1cgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCgogICAgICAvKioKICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBmb3IgZGVidWdnaW5nIHB1cnBvc2VkLCBpdCBkcmF3cyB0aGUgdHJlZS4KICAgICAgICoKICAgICAgICogQHBhcmFtIGN0eAogICAgICAgKiBAcGFyYW0gY29sb3IKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVidWcoY3R4LCBjb2xvcikgewogICAgICAgIGlmICh0aGlzLmJhcm5lc0h1dFRyZWUgIT09IHVuZGVmaW5lZCkgewoKICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwoKICAgICAgICAgIHRoaXMuX2RyYXdCcmFuY2godGhpcy5iYXJuZXNIdXRUcmVlLnJvb3QsIGN0eCwgY29sb3IpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfZHJhd0JyYW5jaCIsCgogICAgICAvKioKICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLiBJdCBkcmF3cyB0aGUgYnJhbmNoZXMgcmVjdXJzaXZlbHkuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBicmFuY2gKICAgICAgICogQHBhcmFtIGN0eAogICAgICAgKiBAcGFyYW0gY29sb3IKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZHJhd0JyYW5jaChicmFuY2gsIGN0eCwgY29sb3IpIHsKICAgICAgICBpZiAoY29sb3IgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgY29sb3IgPSAiI0ZGMDAwMCI7CiAgICAgICAgfQoKICAgICAgICBpZiAoYnJhbmNoLmNoaWxkcmVuQ291bnQgPT09IDQpIHsKICAgICAgICAgIHRoaXMuX2RyYXdCcmFuY2goYnJhbmNoLmNoaWxkcmVuLk5XLCBjdHgpOwogICAgICAgICAgdGhpcy5fZHJhd0JyYW5jaChicmFuY2guY2hpbGRyZW4uTkUsIGN0eCk7CiAgICAgICAgICB0aGlzLl9kcmF3QnJhbmNoKGJyYW5jaC5jaGlsZHJlbi5TRSwgY3R4KTsKICAgICAgICAgIHRoaXMuX2RyYXdCcmFuY2goYnJhbmNoLmNoaWxkcmVuLlNXLCBjdHgpOwogICAgICAgIH0KICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhicmFuY2gucmFuZ2UubWluWCwgYnJhbmNoLnJhbmdlLm1pblkpOwogICAgICAgIGN0eC5saW5lVG8oYnJhbmNoLnJhbmdlLm1heFgsIGJyYW5jaC5yYW5nZS5taW5ZKTsKICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubW92ZVRvKGJyYW5jaC5yYW5nZS5tYXhYLCBicmFuY2gucmFuZ2UubWluWSk7CiAgICAgICAgY3R4LmxpbmVUbyhicmFuY2gucmFuZ2UubWF4WCwgYnJhbmNoLnJhbmdlLm1heFkpOwogICAgICAgIGN0eC5zdHJva2UoKTsKCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5tb3ZlVG8oYnJhbmNoLnJhbmdlLm1heFgsIGJyYW5jaC5yYW5nZS5tYXhZKTsKICAgICAgICBjdHgubGluZVRvKGJyYW5jaC5yYW5nZS5taW5YLCBicmFuY2gucmFuZ2UubWF4WSk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwoKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4Lm1vdmVUbyhicmFuY2gucmFuZ2UubWluWCwgYnJhbmNoLnJhbmdlLm1heFkpOwogICAgICAgIGN0eC5saW5lVG8oYnJhbmNoLnJhbmdlLm1pblgsIGJyYW5jaC5yYW5nZS5taW5ZKTsKICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgIC8qCiAgICAgICAgIGlmIChicmFuY2gubWFzcyA+IDApIHsKICAgICAgICAgY3R4LmNpcmNsZShicmFuY2guY2VudGVyT2ZNYXNzLngsIGJyYW5jaC5jZW50ZXJPZk1hc3MueSwgMypicmFuY2gubWFzcyk7CiAgICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICAgfQogICAgICAgICAqLwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEJhcm5lc0h1dFNvbHZlcjsKICB9KSgpOwoKICBleHBvcnRzWyJkZWZhdWx0Il0gPSBCYXJuZXNIdXRTb2x2ZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CgovKioqLyB9LAovKiA5MCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgInVzZSBzdHJpY3QiOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCiAgdmFyIFJlcHVsc2lvblNvbHZlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBSZXB1bHNpb25Tb2x2ZXIoYm9keSwgcGh5c2ljc0JvZHksIG9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlcHVsc2lvblNvbHZlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLnBoeXNpY3NCb2R5ID0gcGh5c2ljc0JvZHk7CiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoUmVwdWxzaW9uU29sdmVyLCBbewogICAgICBrZXk6ICJzZXRPcHRpb25zIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic29sdmUiLAoKICAgICAgLyoqCiAgICAgICAqIENhbGN1bGF0ZSB0aGUgZm9yY2VzIHRoZSBub2RlcyBhcHBseSBvbiBlYWNoIG90aGVyIGJhc2VkIG9uIGEgcmVwdWxzaW9uIGZpZWxkLgogICAgICAgKiBUaGlzIGZpZWxkIGlzIGxpbmVhcmx5IGFwcHJveGltYXRlZC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzb2x2ZSgpIHsKICAgICAgICB2YXIgZHgsIGR5LCBkaXN0YW5jZSwgZngsIGZ5LCByZXB1bHNpbmdGb3JjZSwgbm9kZTEsIG5vZGUyOwoKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmJvZHkubm9kZXM7CiAgICAgICAgdmFyIG5vZGVJbmRpY2VzID0gdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXM7CiAgICAgICAgdmFyIGZvcmNlcyA9IHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzOwoKICAgICAgICAvLyByZXB1bHNpbmcgZm9yY2VzIGJldHdlZW4gbm9kZXMKICAgICAgICB2YXIgbm9kZURpc3RhbmNlID0gdGhpcy5vcHRpb25zLm5vZGVEaXN0YW5jZTsKCiAgICAgICAgLy8gYXBwcm94aW1hdGlvbiBjb25zdGFudHMKICAgICAgICB2YXIgYSA9IC0yIC8gMyAvIG5vZGVEaXN0YW5jZTsKICAgICAgICB2YXIgYiA9IDQgLyAzOwoKICAgICAgICAvLyB3ZSBsb29wIGZyb20gaSBvdmVyIGFsbCBidXQgdGhlIGxhc3QgZW50cmVlIGluIHRoZSBhcnJheQogICAgICAgIC8vIGogbG9vcHMgZnJvbSBpKzEgdG8gdGhlIGxhc3QuIFRoaXMgd2F5IHdlIGRvIG5vdCBkb3VibGUgY291bnQgYW55IG9mIHRoZSBpbmRpY2VzLCBub3IgaSA9PT0gagogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUluZGljZXMubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICBub2RlMSA9IG5vZGVzW25vZGVJbmRpY2VzW2ldXTsKICAgICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IG5vZGVJbmRpY2VzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIG5vZGUyID0gbm9kZXNbbm9kZUluZGljZXNbal1dOwoKICAgICAgICAgICAgZHggPSBub2RlMi54IC0gbm9kZTEueDsKICAgICAgICAgICAgZHkgPSBub2RlMi55IC0gbm9kZTEueTsKICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpOwoKICAgICAgICAgICAgLy8gc2FtZSBjb25kaXRpb24gYXMgQmFybmVzSHV0U29sdmVyLCBtYWtpbmcgc3VyZSBub2RlcyBhcmUgbmV2ZXIgMTAwJSBvdmVybGFwcGluZy4KICAgICAgICAgICAgaWYgKGRpc3RhbmNlID09PSAwKSB7CiAgICAgICAgICAgICAgZGlzdGFuY2UgPSAwLjEgKiBNYXRoLnJhbmRvbSgpOwogICAgICAgICAgICAgIGR4ID0gZGlzdGFuY2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IDIgKiBub2RlRGlzdGFuY2UpIHsKICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAwLjUgKiBub2RlRGlzdGFuY2UpIHsKICAgICAgICAgICAgICAgIHJlcHVsc2luZ0ZvcmNlID0gMTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVwdWxzaW5nRm9yY2UgPSBhICogZGlzdGFuY2UgKyBiOyAvLyBsaW5lYXIgYXBwcm94IG9mICAxIC8gKDEgKyBNYXRoLmV4cCgoZGlzdGFuY2UgLyBub2RlRGlzdGFuY2UgLSAxKSAqIHN0ZWVwbmVzcykpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJlcHVsc2luZ0ZvcmNlID0gcmVwdWxzaW5nRm9yY2UgLyBkaXN0YW5jZTsKCiAgICAgICAgICAgICAgZnggPSBkeCAqIHJlcHVsc2luZ0ZvcmNlOwogICAgICAgICAgICAgIGZ5ID0gZHkgKiByZXB1bHNpbmdGb3JjZTsKCiAgICAgICAgICAgICAgZm9yY2VzW25vZGUxLmlkXS54IC09IGZ4OwogICAgICAgICAgICAgIGZvcmNlc1tub2RlMS5pZF0ueSAtPSBmeTsKICAgICAgICAgICAgICBmb3JjZXNbbm9kZTIuaWRdLnggKz0gZng7CiAgICAgICAgICAgICAgZm9yY2VzW25vZGUyLmlkXS55ICs9IGZ5OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFJlcHVsc2lvblNvbHZlcjsKICB9KSgpOwoKICBleHBvcnRzWyJkZWZhdWx0Il0gPSBSZXB1bHNpb25Tb2x2ZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CgovKioqLyB9LAovKiA5MSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgInVzZSBzdHJpY3QiOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCiAgdmFyIEhpZXJhcmNoaWNhbFJlcHVsc2lvblNvbHZlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBIaWVyYXJjaGljYWxSZXB1bHNpb25Tb2x2ZXIoYm9keSwgcGh5c2ljc0JvZHksIG9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpZXJhcmNoaWNhbFJlcHVsc2lvblNvbHZlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLnBoeXNpY3NCb2R5ID0gcGh5c2ljc0JvZHk7CiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoSGllcmFyY2hpY2FsUmVwdWxzaW9uU29sdmVyLCBbewogICAgICBrZXk6ICJzZXRPcHRpb25zIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic29sdmUiLAoKICAgICAgLyoqCiAgICAgICAqIENhbGN1bGF0ZSB0aGUgZm9yY2VzIHRoZSBub2RlcyBhcHBseSBvbiBlYWNoIG90aGVyIGJhc2VkIG9uIGEgcmVwdWxzaW9uIGZpZWxkLgogICAgICAgKiBUaGlzIGZpZWxkIGlzIGxpbmVhcmx5IGFwcHJveGltYXRlZC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzb2x2ZSgpIHsKICAgICAgICB2YXIgZHgsIGR5LCBkaXN0YW5jZSwgZngsIGZ5LCByZXB1bHNpbmdGb3JjZSwgbm9kZTEsIG5vZGUyLCBpLCBqOwoKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmJvZHkubm9kZXM7CiAgICAgICAgdmFyIG5vZGVJbmRpY2VzID0gdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXM7CiAgICAgICAgdmFyIGZvcmNlcyA9IHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzOwoKICAgICAgICAvLyByZXB1bHNpbmcgZm9yY2VzIGJldHdlZW4gbm9kZXMKICAgICAgICB2YXIgbm9kZURpc3RhbmNlID0gdGhpcy5vcHRpb25zLm5vZGVEaXN0YW5jZTsKCiAgICAgICAgLy8gd2UgbG9vcCBmcm9tIGkgb3ZlciBhbGwgYnV0IHRoZSBsYXN0IGVudHJlZSBpbiB0aGUgYXJyYXkKICAgICAgICAvLyBqIGxvb3BzIGZyb20gaSsxIHRvIHRoZSBsYXN0LiBUaGlzIHdheSB3ZSBkbyBub3QgZG91YmxlIGNvdW50IGFueSBvZiB0aGUgaW5kaWNlcywgbm9yIGkgPT09IGoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUluZGljZXMubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICBub2RlMSA9IG5vZGVzW25vZGVJbmRpY2VzW2ldXTsKICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgbm9kZUluZGljZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgbm9kZTIgPSBub2Rlc1tub2RlSW5kaWNlc1tqXV07CgogICAgICAgICAgICAvLyBub2RlcyBvbmx5IGFmZmVjdCBub2RlcyBvbiB0aGVpciBsZXZlbAogICAgICAgICAgICBpZiAobm9kZTEubGV2ZWwgPT09IG5vZGUyLmxldmVsKSB7CiAgICAgICAgICAgICAgZHggPSBub2RlMi54IC0gbm9kZTEueDsKICAgICAgICAgICAgICBkeSA9IG5vZGUyLnkgLSBub2RlMS55OwogICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsKCiAgICAgICAgICAgICAgdmFyIHN0ZWVwbmVzcyA9IDAuMDU7CiAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgbm9kZURpc3RhbmNlKSB7CiAgICAgICAgICAgICAgICByZXB1bHNpbmdGb3JjZSA9IC1NYXRoLnBvdyhzdGVlcG5lc3MgKiBkaXN0YW5jZSwgMikgKyBNYXRoLnBvdyhzdGVlcG5lc3MgKiBub2RlRGlzdGFuY2UsIDIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXB1bHNpbmdGb3JjZSA9IDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBmb3JjZSB3aXRoCiAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlID09PSAwKSB7CiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IDAuMDE7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcHVsc2luZ0ZvcmNlID0gcmVwdWxzaW5nRm9yY2UgLyBkaXN0YW5jZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZnggPSBkeCAqIHJlcHVsc2luZ0ZvcmNlOwogICAgICAgICAgICAgIGZ5ID0gZHkgKiByZXB1bHNpbmdGb3JjZTsKCiAgICAgICAgICAgICAgZm9yY2VzW25vZGUxLmlkXS54IC09IGZ4OwogICAgICAgICAgICAgIGZvcmNlc1tub2RlMS5pZF0ueSAtPSBmeTsKICAgICAgICAgICAgICBmb3JjZXNbbm9kZTIuaWRdLnggKz0gZng7CiAgICAgICAgICAgICAgZm9yY2VzW25vZGUyLmlkXS55ICs9IGZ5OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEhpZXJhcmNoaWNhbFJlcHVsc2lvblNvbHZlcjsKICB9KSgpOwoKICBleHBvcnRzWyJkZWZhdWx0Il0gPSBIaWVyYXJjaGljYWxSZXB1bHNpb25Tb2x2ZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CgovKioqLyB9LAovKiA5MiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgInVzZSBzdHJpY3QiOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCiAgdmFyIFNwcmluZ1NvbHZlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBTcHJpbmdTb2x2ZXIoYm9keSwgcGh5c2ljc0JvZHksIG9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcmluZ1NvbHZlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLnBoeXNpY3NCb2R5ID0gcGh5c2ljc0JvZHk7CiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoU3ByaW5nU29sdmVyLCBbewogICAgICBrZXk6ICJzZXRPcHRpb25zIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic29sdmUiLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgc3ByaW5nZm9yY2VzIG9uIHRoZSBub2RlcywgYWNjb3VudGluZyBmb3IgdGhlIHN1cHBvcnQgbm9kZXMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc29sdmUoKSB7CiAgICAgICAgdmFyIGVkZ2VMZW5ndGggPSB1bmRlZmluZWQsCiAgICAgICAgICAgIGVkZ2UgPSB1bmRlZmluZWQ7CiAgICAgICAgdmFyIGVkZ2VJbmRpY2VzID0gdGhpcy5waHlzaWNzQm9keS5waHlzaWNzRWRnZUluZGljZXM7CiAgICAgICAgdmFyIGVkZ2VzID0gdGhpcy5ib2R5LmVkZ2VzOwogICAgICAgIHZhciBub2RlMSA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgbm9kZTIgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIG5vZGUzID0gdW5kZWZpbmVkOwoKICAgICAgICAvLyBmb3JjZXMgY2F1c2VkIGJ5IHRoZSBlZGdlcywgbW9kZWxsZWQgYXMgc3ByaW5ncwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWRnZUluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGVkZ2UgPSBlZGdlc1tlZGdlSW5kaWNlc1tpXV07CiAgICAgICAgICBpZiAoZWRnZS5jb25uZWN0ZWQgPT09IHRydWUgJiYgZWRnZS50b0lkICE9PSBlZGdlLmZyb21JZCkgewogICAgICAgICAgICAvLyBvbmx5IGNhbGN1bGF0ZSBmb3JjZXMgaWYgbm9kZXMgYXJlIGluIHRoZSBzYW1lIHNlY3RvcgogICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW2VkZ2UudG9JZF0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLmJvZHkubm9kZXNbZWRnZS5mcm9tSWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBpZiAoZWRnZS5lZGdlVHlwZS52aWEgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgZWRnZUxlbmd0aCA9IGVkZ2Uub3B0aW9ucy5sZW5ndGggPT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5zcHJpbmdMZW5ndGggOiBlZGdlLm9wdGlvbnMubGVuZ3RoOwogICAgICAgICAgICAgICAgbm9kZTEgPSBlZGdlLnRvOwogICAgICAgICAgICAgICAgbm9kZTIgPSBlZGdlLmVkZ2VUeXBlLnZpYTsKICAgICAgICAgICAgICAgIG5vZGUzID0gZWRnZS5mcm9tOwoKICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVNwcmluZ0ZvcmNlKG5vZGUxLCBub2RlMiwgMC41ICogZWRnZUxlbmd0aCk7CiAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVTcHJpbmdGb3JjZShub2RlMiwgbm9kZTMsIDAuNSAqIGVkZ2VMZW5ndGgpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyB0aGUgKiAxLjUgaXMgaGVyZSBzbyB0aGUgZWRnZSBsb29rcyBhcyBsYXJnZSBhcyBhIHNtb290aCBlZGdlLiBJdCBkb2VzIG5vdCBpbml0aWFsbHkgYmVjYXVzZSB0aGUgc21vb3RoIGVkZ2VzIHVzZQogICAgICAgICAgICAgICAgLy8gdGhlIHN1cHBvcnQgbm9kZXMgd2hpY2ggZXhlcnQgYSByZXB1bHNpdmUgZm9yY2Ugb24gdGhlIHRvIGFuZCBmcm9tIG5vZGVzLCBtYWtpbmcgdGhlIGVkZ2UgYXBwZWFyIGxhcmdlci4KICAgICAgICAgICAgICAgIGVkZ2VMZW5ndGggPSBlZGdlLm9wdGlvbnMubGVuZ3RoID09PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuc3ByaW5nTGVuZ3RoICogMS41IDogZWRnZS5vcHRpb25zLmxlbmd0aDsKICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVNwcmluZ0ZvcmNlKGVkZ2UuZnJvbSwgZWRnZS50bywgZWRnZUxlbmd0aCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9jYWxjdWxhdGVTcHJpbmdGb3JjZSIsCgogICAgICAvKioKICAgICAgICogVGhpcyBpcyB0aGUgY29kZSBhY3R1YWxseSBwZXJmb3JtaW5nIHRoZSBjYWxjdWxhdGlvbiBmb3IgdGhlIGZ1bmN0aW9uIGFib3ZlLgogICAgICAgKgogICAgICAgKiBAcGFyYW0gbm9kZTEKICAgICAgICogQHBhcmFtIG5vZGUyCiAgICAgICAqIEBwYXJhbSBlZGdlTGVuZ3RoCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGN1bGF0ZVNwcmluZ0ZvcmNlKG5vZGUxLCBub2RlMiwgZWRnZUxlbmd0aCkgewogICAgICAgIHZhciBkeCA9IG5vZGUxLnggLSBub2RlMi54OwogICAgICAgIHZhciBkeSA9IG5vZGUxLnkgLSBub2RlMi55OwogICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGgubWF4KE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSksIDAuMDEpOwoKICAgICAgICAvLyB0aGUgMS9kaXN0YW5jZSBpcyBzbyB0aGUgZnggYW5kIGZ5IGNhbiBiZSBjYWxjdWxhdGVkIHdpdGhvdXQgc2luZSBvciBjb3NpbmUuCiAgICAgICAgdmFyIHNwcmluZ0ZvcmNlID0gdGhpcy5vcHRpb25zLnNwcmluZ0NvbnN0YW50ICogKGVkZ2VMZW5ndGggLSBkaXN0YW5jZSkgLyBkaXN0YW5jZTsKCiAgICAgICAgdmFyIGZ4ID0gZHggKiBzcHJpbmdGb3JjZTsKICAgICAgICB2YXIgZnkgPSBkeSAqIHNwcmluZ0ZvcmNlOwoKICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgb25lIG5vZGUgaXMgbm90IHBhcnQgb2YgdGhlIHBoeXNjaXMKICAgICAgICBpZiAodGhpcy5waHlzaWNzQm9keS5mb3JjZXNbbm9kZTEuaWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW25vZGUxLmlkXS54ICs9IGZ4OwogICAgICAgICAgdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbbm9kZTEuaWRdLnkgKz0gZnk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5waHlzaWNzQm9keS5mb3JjZXNbbm9kZTIuaWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW25vZGUyLmlkXS54IC09IGZ4OwogICAgICAgICAgdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbbm9kZTIuaWRdLnkgLT0gZnk7CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFNwcmluZ1NvbHZlcjsKICB9KSgpOwoKICBleHBvcnRzWyJkZWZhdWx0Il0gPSBTcHJpbmdTb2x2ZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CgovKioqLyB9LAovKiA5MyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgInVzZSBzdHJpY3QiOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCiAgdmFyIEhpZXJhcmNoaWNhbFNwcmluZ1NvbHZlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBIaWVyYXJjaGljYWxTcHJpbmdTb2x2ZXIoYm9keSwgcGh5c2ljc0JvZHksIG9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpZXJhcmNoaWNhbFNwcmluZ1NvbHZlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLnBoeXNpY3NCb2R5ID0gcGh5c2ljc0JvZHk7CiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoSGllcmFyY2hpY2FsU3ByaW5nU29sdmVyLCBbewogICAgICBrZXk6ICJzZXRPcHRpb25zIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic29sdmUiLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgc3ByaW5nZm9yY2VzIG9uIHRoZSBub2RlcywgYWNjb3VudGluZyBmb3IgdGhlIHN1cHBvcnQgbm9kZXMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc29sdmUoKSB7CiAgICAgICAgdmFyIGVkZ2VMZW5ndGgsIGVkZ2U7CiAgICAgICAgdmFyIGR4LCBkeSwgZngsIGZ5LCBzcHJpbmdGb3JjZSwgZGlzdGFuY2U7CiAgICAgICAgdmFyIGVkZ2VzID0gdGhpcy5ib2R5LmVkZ2VzOwogICAgICAgIHZhciBmYWN0b3IgPSAwLjU7CgogICAgICAgIHZhciBlZGdlSW5kaWNlcyA9IHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc0VkZ2VJbmRpY2VzOwogICAgICAgIHZhciBub2RlSW5kaWNlcyA9IHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzOwogICAgICAgIHZhciBmb3JjZXMgPSB0aGlzLnBoeXNpY3NCb2R5LmZvcmNlczsKCiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgc3ByaW5nIGZvcmNlIGNvdW50ZXJzCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlSW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG5vZGVJZCA9IG5vZGVJbmRpY2VzW2ldOwogICAgICAgICAgZm9yY2VzW25vZGVJZF0uc3ByaW5nRnggPSAwOwogICAgICAgICAgZm9yY2VzW25vZGVJZF0uc3ByaW5nRnkgPSAwOwogICAgICAgIH0KCiAgICAgICAgLy8gZm9yY2VzIGNhdXNlZCBieSB0aGUgZWRnZXMsIG1vZGVsbGVkIGFzIHNwcmluZ3MKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVkZ2VJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBlZGdlID0gZWRnZXNbZWRnZUluZGljZXNbaV1dOwogICAgICAgICAgaWYgKGVkZ2UuY29ubmVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgIGVkZ2VMZW5ndGggPSBlZGdlLm9wdGlvbnMubGVuZ3RoID09PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuc3ByaW5nTGVuZ3RoIDogZWRnZS5vcHRpb25zLmxlbmd0aDsKCiAgICAgICAgICAgIGR4ID0gZWRnZS5mcm9tLnggLSBlZGdlLnRvLng7CiAgICAgICAgICAgIGR5ID0gZWRnZS5mcm9tLnkgLSBlZGdlLnRvLnk7CiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsKICAgICAgICAgICAgZGlzdGFuY2UgPSBkaXN0YW5jZSA9PT0gMCA/IDAuMDEgOiBkaXN0YW5jZTsKCiAgICAgICAgICAgIC8vIHRoZSAxL2Rpc3RhbmNlIGlzIHNvIHRoZSBmeCBhbmQgZnkgY2FuIGJlIGNhbGN1bGF0ZWQgd2l0aG91dCBzaW5lIG9yIGNvc2luZS4KICAgICAgICAgICAgc3ByaW5nRm9yY2UgPSB0aGlzLm9wdGlvbnMuc3ByaW5nQ29uc3RhbnQgKiAoZWRnZUxlbmd0aCAtIGRpc3RhbmNlKSAvIGRpc3RhbmNlOwoKICAgICAgICAgICAgZnggPSBkeCAqIHNwcmluZ0ZvcmNlOwogICAgICAgICAgICBmeSA9IGR5ICogc3ByaW5nRm9yY2U7CgogICAgICAgICAgICBpZiAoZWRnZS50by5sZXZlbCAhPSBlZGdlLmZyb20ubGV2ZWwpIHsKICAgICAgICAgICAgICBpZiAoZm9yY2VzW2VkZ2UudG9JZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgZm9yY2VzW2VkZ2UudG9JZF0uc3ByaW5nRnggLT0gZng7CiAgICAgICAgICAgICAgICBmb3JjZXNbZWRnZS50b0lkXS5zcHJpbmdGeSAtPSBmeTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKGZvcmNlc1tlZGdlLmZyb21JZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgZm9yY2VzW2VkZ2UuZnJvbUlkXS5zcHJpbmdGeCArPSBmeDsKICAgICAgICAgICAgICAgIGZvcmNlc1tlZGdlLmZyb21JZF0uc3ByaW5nRnkgKz0gZnk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmIChmb3JjZXNbZWRnZS50b0lkXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBmb3JjZXNbZWRnZS50b0lkXS54IC09IGZhY3RvciAqIGZ4OwogICAgICAgICAgICAgICAgZm9yY2VzW2VkZ2UudG9JZF0ueSAtPSBmYWN0b3IgKiBmeTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKGZvcmNlc1tlZGdlLmZyb21JZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgZm9yY2VzW2VkZ2UuZnJvbUlkXS54ICs9IGZhY3RvciAqIGZ4OwogICAgICAgICAgICAgICAgZm9yY2VzW2VkZ2UuZnJvbUlkXS55ICs9IGZhY3RvciAqIGZ5OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gbm9ybWFsaXplIHNwcmluZyBmb3JjZXMKICAgICAgICB2YXIgc3ByaW5nRm9yY2UgPSAxOwogICAgICAgIHZhciBzcHJpbmdGeCwgc3ByaW5nRnk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlSW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG5vZGVJZCA9IG5vZGVJbmRpY2VzW2ldOwogICAgICAgICAgc3ByaW5nRnggPSBNYXRoLm1pbihzcHJpbmdGb3JjZSwgTWF0aC5tYXgoLXNwcmluZ0ZvcmNlLCBmb3JjZXNbbm9kZUlkXS5zcHJpbmdGeCkpOwogICAgICAgICAgc3ByaW5nRnkgPSBNYXRoLm1pbihzcHJpbmdGb3JjZSwgTWF0aC5tYXgoLXNwcmluZ0ZvcmNlLCBmb3JjZXNbbm9kZUlkXS5zcHJpbmdGeSkpOwoKICAgICAgICAgIGZvcmNlc1tub2RlSWRdLnggKz0gc3ByaW5nRng7CiAgICAgICAgICBmb3JjZXNbbm9kZUlkXS55ICs9IHNwcmluZ0Z5OwogICAgICAgIH0KCiAgICAgICAgLy8gcmV0YWluIGVuZXJneSBiYWxhbmNlCiAgICAgICAgdmFyIHRvdGFsRnggPSAwOwogICAgICAgIHZhciB0b3RhbEZ5ID0gMDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbm9kZUlkID0gbm9kZUluZGljZXNbaV07CiAgICAgICAgICB0b3RhbEZ4ICs9IGZvcmNlc1tub2RlSWRdLng7CiAgICAgICAgICB0b3RhbEZ5ICs9IGZvcmNlc1tub2RlSWRdLnk7CiAgICAgICAgfQogICAgICAgIHZhciBjb3JyZWN0aW9uRnggPSB0b3RhbEZ4IC8gbm9kZUluZGljZXMubGVuZ3RoOwogICAgICAgIHZhciBjb3JyZWN0aW9uRnkgPSB0b3RhbEZ5IC8gbm9kZUluZGljZXMubGVuZ3RoOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbm9kZUlkID0gbm9kZUluZGljZXNbaV07CiAgICAgICAgICBmb3JjZXNbbm9kZUlkXS54IC09IGNvcnJlY3Rpb25GeDsKICAgICAgICAgIGZvcmNlc1tub2RlSWRdLnkgLT0gY29ycmVjdGlvbkZ5OwogICAgICAgIH0KICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBIaWVyYXJjaGljYWxTcHJpbmdTb2x2ZXI7CiAgfSkoKTsKCiAgZXhwb3J0c1siZGVmYXVsdCJdID0gSGllcmFyY2hpY2FsU3ByaW5nU29sdmVyOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1siZGVmYXVsdCJdOwoKLyoqKi8gfSwKLyogOTQgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgogICJ1c2Ugc3RyaWN0IjsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgogIHZhciBDZW50cmFsR3Jhdml0eVNvbHZlciA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBDZW50cmFsR3Jhdml0eVNvbHZlcihib2R5LCBwaHlzaWNzQm9keSwgb3B0aW9ucykgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VudHJhbEdyYXZpdHlTb2x2ZXIpOwoKICAgICAgdGhpcy5ib2R5ID0gYm9keTsKICAgICAgdGhpcy5waHlzaWNzQm9keSA9IHBoeXNpY3NCb2R5OwogICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKENlbnRyYWxHcmF2aXR5U29sdmVyLCBbewogICAgICBrZXk6ICJzZXRPcHRpb25zIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic29sdmUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc29sdmUoKSB7CiAgICAgICAgdmFyIGR4ID0gdW5kZWZpbmVkLAogICAgICAgICAgICBkeSA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgZGlzdGFuY2UgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIG5vZGUgPSB1bmRlZmluZWQ7CiAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5ib2R5Lm5vZGVzOwogICAgICAgIHZhciBub2RlSW5kaWNlcyA9IHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzOwogICAgICAgIHZhciBmb3JjZXMgPSB0aGlzLnBoeXNpY3NCb2R5LmZvcmNlczsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlSW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG5vZGVJZCA9IG5vZGVJbmRpY2VzW2ldOwogICAgICAgICAgbm9kZSA9IG5vZGVzW25vZGVJZF07CiAgICAgICAgICBkeCA9IC1ub2RlLng7CiAgICAgICAgICBkeSA9IC1ub2RlLnk7CiAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7CgogICAgICAgICAgdGhpcy5fY2FsY3VsYXRlRm9yY2VzKGRpc3RhbmNlLCBkeCwgZHksIGZvcmNlcywgbm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9jYWxjdWxhdGVGb3JjZXMiLAoKICAgICAgLyoqCiAgICAgICAqIENhbGN1bGF0ZSB0aGUgZm9yY2VzIGJhc2VkIG9uIHRoZSBkaXN0YW5jZS4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY3VsYXRlRm9yY2VzKGRpc3RhbmNlLCBkeCwgZHksIGZvcmNlcywgbm9kZSkgewogICAgICAgIHZhciBncmF2aXR5Rm9yY2UgPSBkaXN0YW5jZSA9PT0gMCA/IDAgOiB0aGlzLm9wdGlvbnMuY2VudHJhbEdyYXZpdHkgLyBkaXN0YW5jZTsKICAgICAgICBmb3JjZXNbbm9kZS5pZF0ueCA9IGR4ICogZ3Jhdml0eUZvcmNlOwogICAgICAgIGZvcmNlc1tub2RlLmlkXS55ID0gZHkgKiBncmF2aXR5Rm9yY2U7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gQ2VudHJhbEdyYXZpdHlTb2x2ZXI7CiAgfSkoKTsKCiAgZXhwb3J0c1siZGVmYXVsdCJdID0gQ2VudHJhbEdyYXZpdHlTb2x2ZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CgovKioqLyB9LAovKiA5NSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgInVzZSBzdHJpY3QiOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICB2YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoInZhbHVlIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9OwoKICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAiZGVmYXVsdCI6IG9iaiB9OyB9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgogIHZhciBfQmFybmVzSHV0U29sdmVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oODkpOwoKICB2YXIgX0Jhcm5lc0h1dFNvbHZlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXJuZXNIdXRTb2x2ZXIyKTsKCiAgdmFyIEZvcmNlQXRsYXMyQmFzZWRSZXB1bHNpb25Tb2x2ZXIgPSAoZnVuY3Rpb24gKF9CYXJuZXNIdXRTb2x2ZXIpIHsKICAgIGZ1bmN0aW9uIEZvcmNlQXRsYXMyQmFzZWRSZXB1bHNpb25Tb2x2ZXIoYm9keSwgcGh5c2ljc0JvZHksIG9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcmNlQXRsYXMyQmFzZWRSZXB1bHNpb25Tb2x2ZXIpOwoKICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoRm9yY2VBdGxhczJCYXNlZFJlcHVsc2lvblNvbHZlci5wcm90b3R5cGUpLCAiY29uc3RydWN0b3IiLCB0aGlzKS5jYWxsKHRoaXMsIGJvZHksIHBoeXNpY3NCb2R5LCBvcHRpb25zKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoRm9yY2VBdGxhczJCYXNlZFJlcHVsc2lvblNvbHZlciwgX0Jhcm5lc0h1dFNvbHZlcik7CgogICAgX2NyZWF0ZUNsYXNzKEZvcmNlQXRsYXMyQmFzZWRSZXB1bHNpb25Tb2x2ZXIsIFt7CiAgICAgIGtleTogIl9jYWxjdWxhdGVGb3JjZXMiLAoKICAgICAgLyoqCiAgICAgICAqIENhbGN1bGF0ZSB0aGUgZm9yY2VzIGJhc2VkIG9uIHRoZSBkaXN0YW5jZS4KICAgICAgICoKICAgICAgICogQHBhcmFtIGRpc3RhbmNlCiAgICAgICAqIEBwYXJhbSBkeAogICAgICAgKiBAcGFyYW0gZHkKICAgICAgICogQHBhcmFtIG5vZGUKICAgICAgICogQHBhcmFtIHBhcmVudEJyYW5jaAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jYWxjdWxhdGVGb3JjZXMoZGlzdGFuY2UsIGR4LCBkeSwgbm9kZSwgcGFyZW50QnJhbmNoKSB7CiAgICAgICAgaWYgKGRpc3RhbmNlID09PSAwKSB7CiAgICAgICAgICBkaXN0YW5jZSA9IDAuMSAqIE1hdGgucmFuZG9tKCk7CiAgICAgICAgICBkeCA9IGRpc3RhbmNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMub3ZlcmxhcEF2b2lkYW5jZUZhY3RvciA8IDEpIHsKICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5tYXgoMC4xICsgdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yICogbm9kZS5zaGFwZS5yYWRpdXMsIGRpc3RhbmNlIC0gbm9kZS5zaGFwZS5yYWRpdXMpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRlZ3JlZSA9IG5vZGUuZWRnZXMubGVuZ3RoICsgMTsKICAgICAgICAvLyB0aGUgZGl2aWRpbmcgYnkgdGhlIGRpc3RhbmNlIGN1YmVkIGluc3RlYWQgb2Ygc3F1YXJlZCBhbGxvd3MgdXMgdG8gZ2V0IHRoZSBmeCBhbmQgZnkgY29tcG9uZW50cyB3aXRob3V0IHNpbmVzIGFuZCBjb3NpbmVzCiAgICAgICAgLy8gaXQgaXMgc2hvcnRoYW5kIGZvciBncmF2aXR5Zm9yY2Ugd2l0aCBkaXN0YW5jZSBzcXVhcmVkIGFuZCBmeCA9IGR4L2Rpc3RhbmNlICogZ3Jhdml0eUZvcmNlCiAgICAgICAgdmFyIGdyYXZpdHlGb3JjZSA9IHRoaXMub3B0aW9ucy5ncmF2aXRhdGlvbmFsQ29uc3RhbnQgKiBwYXJlbnRCcmFuY2gubWFzcyAqIG5vZGUub3B0aW9ucy5tYXNzICogZGVncmVlIC8gTWF0aC5wb3coZGlzdGFuY2UsIDIpOwogICAgICAgIHZhciBmeCA9IGR4ICogZ3Jhdml0eUZvcmNlOwogICAgICAgIHZhciBmeSA9IGR5ICogZ3Jhdml0eUZvcmNlOwoKICAgICAgICB0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tub2RlLmlkXS54ICs9IGZ4OwogICAgICAgIHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW25vZGUuaWRdLnkgKz0gZnk7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRm9yY2VBdGxhczJCYXNlZFJlcHVsc2lvblNvbHZlcjsKICB9KShfQmFybmVzSHV0U29sdmVyM1siZGVmYXVsdCJdKTsKCiAgZXhwb3J0c1siZGVmYXVsdCJdID0gRm9yY2VBdGxhczJCYXNlZFJlcHVsc2lvblNvbHZlcjsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCi8qKiovIH0sCi8qIDk2ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAidXNlIHN0cmljdCI7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgidmFsdWUiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICJkZWZhdWx0Ijogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF9DZW50cmFsR3Jhdml0eVNvbHZlcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KTsKCiAgdmFyIF9DZW50cmFsR3Jhdml0eVNvbHZlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DZW50cmFsR3Jhdml0eVNvbHZlcjIpOwoKICB2YXIgRm9yY2VBdGxhczJCYXNlZENlbnRyYWxHcmF2aXR5U29sdmVyID0gKGZ1bmN0aW9uIChfQ2VudHJhbEdyYXZpdHlTb2x2ZXIpIHsKICAgIGZ1bmN0aW9uIEZvcmNlQXRsYXMyQmFzZWRDZW50cmFsR3Jhdml0eVNvbHZlcihib2R5LCBwaHlzaWNzQm9keSwgb3B0aW9ucykgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9yY2VBdGxhczJCYXNlZENlbnRyYWxHcmF2aXR5U29sdmVyKTsKCiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEZvcmNlQXRsYXMyQmFzZWRDZW50cmFsR3Jhdml0eVNvbHZlci5wcm90b3R5cGUpLCAiY29uc3RydWN0b3IiLCB0aGlzKS5jYWxsKHRoaXMsIGJvZHksIHBoeXNpY3NCb2R5LCBvcHRpb25zKTsKICAgIH0KCiAgICBfaW5oZXJpdHMoRm9yY2VBdGxhczJCYXNlZENlbnRyYWxHcmF2aXR5U29sdmVyLCBfQ2VudHJhbEdyYXZpdHlTb2x2ZXIpOwoKICAgIF9jcmVhdGVDbGFzcyhGb3JjZUF0bGFzMkJhc2VkQ2VudHJhbEdyYXZpdHlTb2x2ZXIsIFt7CiAgICAgIGtleTogIl9jYWxjdWxhdGVGb3JjZXMiLAoKICAgICAgLyoqCiAgICAgICAqIENhbGN1bGF0ZSB0aGUgZm9yY2VzIGJhc2VkIG9uIHRoZSBkaXN0YW5jZS4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY3VsYXRlRm9yY2VzKGRpc3RhbmNlLCBkeCwgZHksIGZvcmNlcywgbm9kZSkgewogICAgICAgIGlmIChkaXN0YW5jZSA+IDApIHsKICAgICAgICAgIHZhciBkZWdyZWUgPSBub2RlLmVkZ2VzLmxlbmd0aCArIDE7CiAgICAgICAgICB2YXIgZ3Jhdml0eUZvcmNlID0gdGhpcy5vcHRpb25zLmNlbnRyYWxHcmF2aXR5ICogZGVncmVlICogbm9kZS5vcHRpb25zLm1hc3M7CiAgICAgICAgICBmb3JjZXNbbm9kZS5pZF0ueCA9IGR4ICogZ3Jhdml0eUZvcmNlOwogICAgICAgICAgZm9yY2VzW25vZGUuaWRdLnkgPSBkeSAqIGdyYXZpdHlGb3JjZTsKICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRm9yY2VBdGxhczJCYXNlZENlbnRyYWxHcmF2aXR5U29sdmVyOwogIH0pKF9DZW50cmFsR3Jhdml0eVNvbHZlcjNbImRlZmF1bHQiXSk7CgogIGV4cG9ydHNbImRlZmF1bHQiXSA9IEZvcmNlQXRsYXMyQmFzZWRDZW50cmFsR3Jhdml0eVNvbHZlcjsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCi8qKiovIH0sCi8qIDk3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIHZhciBfY29tcG9uZW50c05vZGVzQ2x1c3RlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpOwoKICB2YXIgX2NvbXBvbmVudHNOb2Rlc0NsdXN0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50c05vZGVzQ2x1c3Rlcik7CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgdmFyIENsdXN0ZXJFbmdpbmUgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gQ2x1c3RlckVuZ2luZShib2R5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2x1c3RlckVuZ2luZSk7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLmNsdXN0ZXJlZE5vZGVzID0ge307CgogICAgICB0aGlzLm9wdGlvbnMgPSB7fTsKICAgICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHt9OwogICAgICB1dGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsIHRoaXMuZGVmYXVsdE9wdGlvbnMpOwoKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ19yZXNldERhdGEnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuY2x1c3RlcmVkTm9kZXMgPSB7fTsKICAgICAgfSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKENsdXN0ZXJFbmdpbmUsIFt7CiAgICAgIGtleTogJ3NldE9wdGlvbnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge30KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdjbHVzdGVyQnlIdWJzaXplJywKCiAgICAgIC8qKgogICAgICAqCiAgICAgICogQHBhcmFtIGh1YnNpemUKICAgICAgKiBAcGFyYW0gb3B0aW9ucwogICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY2x1c3RlckJ5SHVic2l6ZShodWJzaXplLCBvcHRpb25zKSB7CiAgICAgICAgaWYgKGh1YnNpemUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaHVic2l6ZSA9IHRoaXMuX2dldEh1YlNpemUoKTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBodWJzaXplID09PSAnb2JqZWN0JykgewogICAgICAgICAgb3B0aW9ucyA9IHRoaXMuX2NoZWNrT3B0aW9ucyhodWJzaXplKTsKICAgICAgICAgIGh1YnNpemUgPSB0aGlzLl9nZXRIdWJTaXplKCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgbm9kZXNUb0NsdXN0ZXIgPSBbXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmJvZHkubm9kZXNbdGhpcy5ib2R5Lm5vZGVJbmRpY2VzW2ldXTsKICAgICAgICAgIGlmIChub2RlLmVkZ2VzLmxlbmd0aCA+PSBodWJzaXplKSB7CiAgICAgICAgICAgIG5vZGVzVG9DbHVzdGVyLnB1c2gobm9kZS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzVG9DbHVzdGVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmNsdXN0ZXJCeUNvbm5lY3Rpb24obm9kZXNUb0NsdXN0ZXJbaV0sIG9wdGlvbnMsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX2RhdGFDaGFuZ2VkJyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnY2x1c3RlcicsCgogICAgICAvKioKICAgICAgKiBsb29wIG92ZXIgYWxsIG5vZGVzLCBjaGVjayBpZiB0aGV5IGFkaGVyZSB0byB0aGUgY29uZGl0aW9uIGFuZCBjbHVzdGVyIGlmIG5lZWRlZC4KICAgICAgKiBAcGFyYW0gb3B0aW9ucwogICAgICAqIEBwYXJhbSByZWZyZXNoRGF0YQogICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY2x1c3RlcigpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07CiAgICAgICAgdmFyIHJlZnJlc2hEYXRhID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzFdOwoKICAgICAgICBpZiAob3B0aW9ucy5qb2luQ29uZGl0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgY2x1c3RlckJ5Tm9kZURhdGEgd2l0aG91dCBhIGpvaW5Db25kaXRpb24gZnVuY3Rpb24gaW4gdGhlIG9wdGlvbnMuJyk7CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayBpZiB0aGUgb3B0aW9ucyBvYmplY3QgaXMgZmluZSwgYXBwZW5kIGlmIG5lZWRlZAogICAgICAgIG9wdGlvbnMgPSB0aGlzLl9jaGVja09wdGlvbnMob3B0aW9ucyk7CgogICAgICAgIHZhciBjaGlsZE5vZGVzT2JqID0ge307CiAgICAgICAgdmFyIGNoaWxkRWRnZXNPYmogPSB7fTsKCiAgICAgICAgLy8gY29sbGVjdCB0aGUgbm9kZXMgdGhhdCB3aWxsIGJlIGluIHRoZSBjbHVzdGVyCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBub2RlSWQgPSB0aGlzLmJvZHkubm9kZUluZGljZXNbaV07CiAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwogICAgICAgICAgdmFyIGNsb25lZE9wdGlvbnMgPSB0aGlzLl9jbG9uZU9wdGlvbnMobm9kZSk7CiAgICAgICAgICBpZiAob3B0aW9ucy5qb2luQ29uZGl0aW9uKGNsb25lZE9wdGlvbnMpID09PSB0cnVlKSB7CiAgICAgICAgICAgIGNoaWxkTm9kZXNPYmpbbm9kZUlkXSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwoKICAgICAgICAgICAgLy8gY29sbGVjdCB0aGUgbm9kZXMgdGhhdCB3aWxsIGJlIGluIHRoZSBjbHVzdGVyCiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBub2RlLmVkZ2VzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgIHZhciBlZGdlID0gbm9kZS5lZGdlc1tfaV07CiAgICAgICAgICAgICAgY2hpbGRFZGdlc09ialtlZGdlLmlkXSA9IGVkZ2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX2NsdXN0ZXIoY2hpbGROb2Rlc09iaiwgY2hpbGRFZGdlc09iaiwgb3B0aW9ucywgcmVmcmVzaERhdGEpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2NsdXN0ZXJPdXRsaWVycycsCgogICAgICAvKioKICAgICAgKiBDbHVzdGVyIGFsbCBub2RlcyBpbiB0aGUgbmV0d29yayB0aGF0IGhhdmUgb25seSAxIGVkZ2UKICAgICAgKiBAcGFyYW0gb3B0aW9ucwogICAgICAqIEBwYXJhbSByZWZyZXNoRGF0YQogICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gY2x1c3Rlck91dGxpZXJzKG9wdGlvbnMpIHsKICAgICAgICB2YXIgcmVmcmVzaERhdGEgPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMV07CgogICAgICAgIG9wdGlvbnMgPSB0aGlzLl9jaGVja09wdGlvbnMob3B0aW9ucyk7CiAgICAgICAgdmFyIGNsdXN0ZXJzID0gW107CgogICAgICAgIC8vIGNvbGxlY3QgdGhlIG5vZGVzIHRoYXQgd2lsbCBiZSBpbiB0aGUgY2x1c3RlcgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY2hpbGROb2Rlc09iaiA9IHt9OwogICAgICAgICAgdmFyIGNoaWxkRWRnZXNPYmogPSB7fTsKICAgICAgICAgIHZhciBub2RlSWQgPSB0aGlzLmJvZHkubm9kZUluZGljZXNbaV07CiAgICAgICAgICB2YXIgdmlzaWJsZUVkZ2VzID0gMDsKICAgICAgICAgIHZhciBlZGdlID0gdW5kZWZpbmVkOwogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXS5lZGdlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW25vZGVJZF0uZWRnZXNbal0ub3B0aW9ucy5oaWRkZW4gPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgdmlzaWJsZUVkZ2VzKys7CiAgICAgICAgICAgICAgZWRnZSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdLmVkZ2VzW2pdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZpc2libGVFZGdlcyA9PT0gMSkgewogICAgICAgICAgICAvLyB0aGlzIGlzIGFuIG91dGxpZXIKICAgICAgICAgICAgdmFyIGNoaWxkTm9kZUlkID0gdGhpcy5fZ2V0Q29ubmVjdGVkSWQoZWRnZSwgbm9kZUlkKTsKICAgICAgICAgICAgaWYgKGNoaWxkTm9kZUlkICE9PSBub2RlSWQpIHsKICAgICAgICAgICAgICBpZiAob3B0aW9ucy5qb2luQ29uZGl0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGVja0lmVXNlZChjbHVzdGVycywgbm9kZUlkLCBlZGdlLmlkKSA9PT0gZmFsc2UgJiYgdGhpcy5fY2hlY2tJZlVzZWQoY2x1c3RlcnMsIGNoaWxkTm9kZUlkLCBlZGdlLmlkKSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgY2hpbGRFZGdlc09ialtlZGdlLmlkXSA9IGVkZ2U7CiAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZXNPYmpbbm9kZUlkXSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwogICAgICAgICAgICAgICAgICBjaGlsZE5vZGVzT2JqW2NoaWxkTm9kZUlkXSA9IHRoaXMuYm9keS5ub2Rlc1tjaGlsZE5vZGVJZF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBjbG9uZWRPcHRpb25zID0gdGhpcy5fY2xvbmVPcHRpb25zKHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdKTsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmpvaW5Db25kaXRpb24oY2xvbmVkT3B0aW9ucykgPT09IHRydWUgJiYgdGhpcy5fY2hlY2tJZlVzZWQoY2x1c3RlcnMsIG5vZGVJZCwgZWRnZS5pZCkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgIGNoaWxkRWRnZXNPYmpbZWRnZS5pZF0gPSBlZGdlOwogICAgICAgICAgICAgICAgICBjaGlsZE5vZGVzT2JqW25vZGVJZF0gPSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNsb25lZE9wdGlvbnMgPSB0aGlzLl9jbG9uZU9wdGlvbnModGhpcy5ib2R5Lm5vZGVzW2NoaWxkTm9kZUlkXSk7CiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5qb2luQ29uZGl0aW9uKGNsb25lZE9wdGlvbnMpID09PSB0cnVlICYmIHRoaXMuX2NoZWNrSWZVc2VkKGNsdXN0ZXJzLCBub2RlSWQsIGVkZ2UuaWQpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICBjaGlsZEVkZ2VzT2JqW2VkZ2UuaWRdID0gZWRnZTsKICAgICAgICAgICAgICAgICAgY2hpbGROb2Rlc09ialtjaGlsZE5vZGVJZF0gPSB0aGlzLmJvZHkubm9kZXNbY2hpbGROb2RlSWRdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoaWxkTm9kZXNPYmopLmxlbmd0aCA+IDAgJiYgT2JqZWN0LmtleXMoY2hpbGRFZGdlc09iaikubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY2x1c3RlcnMucHVzaCh7IG5vZGVzOiBjaGlsZE5vZGVzT2JqLCBlZGdlczogY2hpbGRFZGdlc09iaiB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2x1c3RlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuX2NsdXN0ZXIoY2x1c3RlcnNbaV0ubm9kZXMsIGNsdXN0ZXJzW2ldLmVkZ2VzLCBvcHRpb25zLCBmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVmcmVzaERhdGEgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19kYXRhQ2hhbmdlZCcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY2hlY2tJZlVzZWQnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrSWZVc2VkKGNsdXN0ZXJzLCBub2RlSWQsIGVkZ2VJZCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2x1c3RlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBjbHVzdGVyID0gY2x1c3RlcnNbaV07CiAgICAgICAgICBpZiAoY2x1c3Rlci5ub2Rlc1tub2RlSWRdICE9PSB1bmRlZmluZWQgfHwgY2x1c3Rlci5lZGdlc1tlZGdlSWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdjbHVzdGVyQnlDb25uZWN0aW9uJywKCiAgICAgIC8qKgogICAgICAqIHN1Y2sgYWxsIGNvbm5lY3RlZCBub2RlcyBvZiBhIG5vZGUgaW50byB0aGUgbm9kZS4KICAgICAgKiBAcGFyYW0gbm9kZUlkCiAgICAgICogQHBhcmFtIG9wdGlvbnMKICAgICAgKiBAcGFyYW0gcmVmcmVzaERhdGEKICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsdXN0ZXJCeUNvbm5lY3Rpb24obm9kZUlkLCBvcHRpb25zKSB7CiAgICAgICAgdmFyIHJlZnJlc2hEYXRhID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzJdOwoKICAgICAgICAvLyBraWxsIGNvbmRpdGlvbnMKICAgICAgICBpZiAobm9kZUlkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbm9kZUlkIHN1cHBsaWVkIHRvIGNsdXN0ZXJCeUNvbm5lY3Rpb24hJyk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXNbbm9kZUlkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBub2RlSWQgZ2l2ZW4gdG8gY2x1c3RlckJ5Q29ubmVjdGlvbiBkb2VzIG5vdCBleGlzdCEnKTsKICAgICAgICB9CgogICAgICAgIHZhciBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF07CiAgICAgICAgb3B0aW9ucyA9IHRoaXMuX2NoZWNrT3B0aW9ucyhvcHRpb25zLCBub2RlKTsKICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyTm9kZVByb3BlcnRpZXMueCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLmNsdXN0ZXJOb2RlUHJvcGVydGllcy54ID0gbm9kZS54OwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyTm9kZVByb3BlcnRpZXMueSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLmNsdXN0ZXJOb2RlUHJvcGVydGllcy55ID0gbm9kZS55OwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyTm9kZVByb3BlcnRpZXMuZml4ZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgb3B0aW9ucy5jbHVzdGVyTm9kZVByb3BlcnRpZXMuZml4ZWQgPSB7fTsKICAgICAgICAgIG9wdGlvbnMuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmZpeGVkLnggPSBub2RlLm9wdGlvbnMuZml4ZWQueDsKICAgICAgICAgIG9wdGlvbnMuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmZpeGVkLnkgPSBub2RlLm9wdGlvbnMuZml4ZWQueTsKICAgICAgICB9CgogICAgICAgIHZhciBjaGlsZE5vZGVzT2JqID0ge307CiAgICAgICAgdmFyIGNoaWxkRWRnZXNPYmogPSB7fTsKICAgICAgICB2YXIgcGFyZW50Tm9kZUlkID0gbm9kZS5pZDsKICAgICAgICB2YXIgcGFyZW50Q2xvbmVkT3B0aW9ucyA9IHRoaXMuX2Nsb25lT3B0aW9ucyhub2RlKTsKICAgICAgICBjaGlsZE5vZGVzT2JqW3BhcmVudE5vZGVJZF0gPSBub2RlOwoKICAgICAgICAvLyBjb2xsZWN0IHRoZSBub2RlcyB0aGF0IHdpbGwgYmUgaW4gdGhlIGNsdXN0ZXIKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuZWRnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlZGdlID0gbm9kZS5lZGdlc1tpXTsKICAgICAgICAgIHZhciBjaGlsZE5vZGVJZCA9IHRoaXMuX2dldENvbm5lY3RlZElkKGVkZ2UsIHBhcmVudE5vZGVJZCk7CgogICAgICAgICAgaWYgKGNoaWxkTm9kZUlkICE9PSBwYXJlbnROb2RlSWQpIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuam9pbkNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgY2hpbGRFZGdlc09ialtlZGdlLmlkXSA9IGVkZ2U7CiAgICAgICAgICAgICAgY2hpbGROb2Rlc09ialtjaGlsZE5vZGVJZF0gPSB0aGlzLmJvZHkubm9kZXNbY2hpbGROb2RlSWRdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIGNsb25lIHRoZSBvcHRpb25zIGFuZCBpbnNlcnQgc29tZSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdGhhdCBjb3VsZCBiZSBpbnRlcmVzdGluZy4KICAgICAgICAgICAgICB2YXIgY2hpbGRDbG9uZWRPcHRpb25zID0gdGhpcy5fY2xvbmVPcHRpb25zKHRoaXMuYm9keS5ub2Rlc1tjaGlsZE5vZGVJZF0pOwogICAgICAgICAgICAgIGlmIChvcHRpb25zLmpvaW5Db25kaXRpb24ocGFyZW50Q2xvbmVkT3B0aW9ucywgY2hpbGRDbG9uZWRPcHRpb25zKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgY2hpbGRFZGdlc09ialtlZGdlLmlkXSA9IGVkZ2U7CiAgICAgICAgICAgICAgICBjaGlsZE5vZGVzT2JqW2NoaWxkTm9kZUlkXSA9IHRoaXMuYm9keS5ub2Rlc1tjaGlsZE5vZGVJZF07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGlsZEVkZ2VzT2JqW2VkZ2UuaWRdID0gZWRnZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX2NsdXN0ZXIoY2hpbGROb2Rlc09iaiwgY2hpbGRFZGdlc09iaiwgb3B0aW9ucywgcmVmcmVzaERhdGEpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jbG9uZU9wdGlvbnMnLAoKICAgICAgLyoqCiAgICAgICogVGhpcyByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG9wdGlvbnMgb3Igb3B0aW9ucyBvZiB0aGUgZWRnZSBvciBub2RlIHRvIGJlIHVzZWQgZm9yIGNvbnN0cnVjdGlvbiBvZiBuZXcgZWRnZXMgb3IgY2hlY2sgZnVuY3Rpb25zIGZvciBuZXcgbm9kZXMuCiAgICAgICogQHBhcmFtIG9iaklkCiAgICAgICogQHBhcmFtIHR5cGUKICAgICAgKiBAcmV0dXJucyB7e319CiAgICAgICogQHByaXZhdGUKICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jbG9uZU9wdGlvbnMoaXRlbSwgdHlwZSkgewogICAgICAgIHZhciBjbG9uZWRPcHRpb25zID0ge307CiAgICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSAnbm9kZScpIHsKICAgICAgICAgIHV0aWwuZGVlcEV4dGVuZChjbG9uZWRPcHRpb25zLCBpdGVtLm9wdGlvbnMsIHRydWUpOwogICAgICAgICAgY2xvbmVkT3B0aW9ucy54ID0gaXRlbS54OwogICAgICAgICAgY2xvbmVkT3B0aW9ucy55ID0gaXRlbS55OwogICAgICAgICAgY2xvbmVkT3B0aW9ucy5hbW91bnRPZkNvbm5lY3Rpb25zID0gaXRlbS5lZGdlcy5sZW5ndGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHV0aWwuZGVlcEV4dGVuZChjbG9uZWRPcHRpb25zLCBpdGVtLm9wdGlvbnMsIHRydWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY2xvbmVkT3B0aW9uczsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY3JlYXRlQ2x1c3RlckVkZ2VzJywKCiAgICAgIC8qKgogICAgICAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgZWRnZXMgdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjbHVzdGVyLgogICAgICAqCiAgICAgICogQHBhcmFtIGNoaWxkTm9kZXNPYmoKICAgICAgKiBAcGFyYW0gY2hpbGRFZGdlc09iagogICAgICAqIEBwYXJhbSBuZXdFZGdlcwogICAgICAqIEBwYXJhbSBvcHRpb25zCiAgICAgICogQHByaXZhdGUKICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVDbHVzdGVyRWRnZXMoY2hpbGROb2Rlc09iaiwgY2hpbGRFZGdlc09iaiwgbmV3RWRnZXMsIGNsdXN0ZXJOb2RlUHJvcGVydGllcywgY2x1c3RlckVkZ2VQcm9wZXJ0aWVzKSB7CiAgICAgICAgdmFyIGVkZ2UgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIGNoaWxkTm9kZUlkID0gdW5kZWZpbmVkLAogICAgICAgICAgICBjaGlsZE5vZGUgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIHRvSWQgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIGZyb21JZCA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgb3RoZXJOb2RlSWQgPSB1bmRlZmluZWQ7CgogICAgICAgIHZhciBjaGlsZEtleXMgPSBPYmplY3Qua2V5cyhjaGlsZE5vZGVzT2JqKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkS2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgY2hpbGROb2RlSWQgPSBjaGlsZEtleXNbaV07CiAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGVzT2JqW2NoaWxkTm9kZUlkXTsKCiAgICAgICAgICAvLyBjb25zdHJ1Y3QgbmV3IGVkZ2VzIGZyb20gdGhlIGNsdXN0ZXIgdG8gb3RoZXJzCiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoaWxkTm9kZS5lZGdlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICBlZGdlID0gY2hpbGROb2RlLmVkZ2VzW2pdOwogICAgICAgICAgICBjaGlsZEVkZ2VzT2JqW2VkZ2UuaWRdID0gZWRnZTsKCiAgICAgICAgICAgIC8vIGNoaWxkTm9kZUlkIHBvc2l0aW9uIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGNsdXN0ZXIuCiAgICAgICAgICAgIGlmIChlZGdlLnRvSWQgPT0gY2hpbGROb2RlSWQpIHsKICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgZG91YmxlIGVxdWFscyBiZWNhdXNlIGludHMgYW5kIHN0cmluZ3MgY2FuIGJlIGludGVyY2hhbmdlZCBoZXJlLgogICAgICAgICAgICAgIHRvSWQgPSBjbHVzdGVyTm9kZVByb3BlcnRpZXMuaWQ7CiAgICAgICAgICAgICAgZnJvbUlkID0gZWRnZS5mcm9tSWQ7CiAgICAgICAgICAgICAgb3RoZXJOb2RlSWQgPSBmcm9tSWQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdG9JZCA9IGVkZ2UudG9JZDsKICAgICAgICAgICAgICBmcm9tSWQgPSBjbHVzdGVyTm9kZVByb3BlcnRpZXMuaWQ7CiAgICAgICAgICAgICAgb3RoZXJOb2RlSWQgPSB0b0lkOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBpZiB0aGUgbm9kZSBjb25uZWN0ZWQgdG8gdGhlIGNsdXN0ZXIgaXMgYWxzbyBpbiB0aGUgY2x1c3RlciB3ZSBkbyBub3QgbmVlZCBhIG5ldyBlZGdlLgogICAgICAgICAgICBpZiAoY2hpbGROb2Rlc09ialtvdGhlck5vZGVJZF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHZhciBjbG9uZWRPcHRpb25zID0gdGhpcy5fY2xvbmVPcHRpb25zKGVkZ2UsICdlZGdlJyk7CiAgICAgICAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKGNsb25lZE9wdGlvbnMsIGNsdXN0ZXJFZGdlUHJvcGVydGllcyk7CiAgICAgICAgICAgICAgY2xvbmVkT3B0aW9ucy5mcm9tID0gZnJvbUlkOwogICAgICAgICAgICAgIGNsb25lZE9wdGlvbnMudG8gPSB0b0lkOwogICAgICAgICAgICAgIGNsb25lZE9wdGlvbnMuaWQgPSAnY2x1c3RlckVkZ2U6JyArIHV0aWwucmFuZG9tVVVJRCgpOwogICAgICAgICAgICAgIG5ld0VkZ2VzLnB1c2godGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVFZGdlKGNsb25lZE9wdGlvbnMpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY2hlY2tPcHRpb25zJywKCiAgICAgIC8qKgogICAgICAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRoZSBvcHRpb25zIHRoYXQgY2FuIGJlIHN1cHBsaWVkIHRvIHRoZSBkaWZmZXJlbnQgY2x1c3RlciBmdW5jdGlvbnMKICAgICAgKiBmb3IgY2VydGFpbiBmaWVsZHMgYW5kIGluc2VydHMgZGVmYXVsdHMgaWYgbmVlZGVkCiAgICAgICogQHBhcmFtIG9wdGlvbnMKICAgICAgKiBAcmV0dXJucyB7Kn0KICAgICAgKiBAcHJpdmF0ZQogICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrT3B0aW9ucygpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07CgogICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJFZGdlUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLmNsdXN0ZXJFZGdlUHJvcGVydGllcyA9IHt9OwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyTm9kZVByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgb3B0aW9ucy5jbHVzdGVyTm9kZVByb3BlcnRpZXMgPSB7fTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBvcHRpb25zOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jbHVzdGVyJywKCiAgICAgIC8qKgogICAgICAqCiAgICAgICogQHBhcmFtIHtPYmplY3R9ICAgIGNoaWxkTm9kZXNPYmogICAgICAgICB8IG9iamVjdCB3aXRoIG5vZGUgb2JqZWN0cywgaWQgYXMga2V5cywgc2FtZSBhcyBjaGlsZE5vZGVzIGV4Y2VwdCBpdCBhbHNvIGNvbnRhaW5zIGEgc291cmNlIG5vZGUKICAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgY2hpbGRFZGdlc09iaiAgICAgICAgIHwgb2JqZWN0IHdpdGggZWRnZSBvYmplY3RzLCBpZCBhcyBrZXlzCiAgICAgICogQHBhcmFtIHtBcnJheX0gICAgIG9wdGlvbnMgICAgICAgICAgICAgICB8IG9iamVjdCB3aXRoIHtjbHVzdGVyTm9kZVByb3BlcnRpZXMsIGNsdXN0ZXJFZGdlUHJvcGVydGllcywgcHJvY2Vzc1Byb3BlcnRpZXN9CiAgICAgICogQHBhcmFtIHtCb29sZWFufSAgIHJlZnJlc2hEYXRhIHwgd2hlbiB0cnVlLCBkbyBub3Qgd3JhcCB1cAogICAgICAqIEBwcml2YXRlCiAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2x1c3RlcihjaGlsZE5vZGVzT2JqLCBjaGlsZEVkZ2VzT2JqLCBvcHRpb25zKSB7CiAgICAgICAgdmFyIHJlZnJlc2hEYXRhID0gYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzNdOwoKICAgICAgICAvLyBraWxsIGNvbmRpdGlvbjogbm8gY2hpbGRyZW4gc28gY2FudCBjbHVzdGVyCiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoaWxkTm9kZXNPYmopLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNsdXN0ZXJOb2RlUHJvcGVydGllcyA9IHV0aWwuZGVlcEV4dGVuZCh7fSwgb3B0aW9ucy5jbHVzdGVyTm9kZVByb3BlcnRpZXMpOwoKICAgICAgICAvLyBjb25zdHJ1Y3QgdGhlIGNsdXN0ZXJOb2RlUHJvcGVydGllcwogICAgICAgIGlmIChvcHRpb25zLnByb2Nlc3NQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vIGdldCB0aGUgY2hpbGROb2RlIG9wdGlvbnMKICAgICAgICAgIHZhciBjaGlsZE5vZGVzT3B0aW9ucyA9IFtdOwogICAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIGNoaWxkTm9kZXNPYmopIHsKICAgICAgICAgICAgdmFyIGNsb25lZE9wdGlvbnMgPSB0aGlzLl9jbG9uZU9wdGlvbnMoY2hpbGROb2Rlc09ialtub2RlSWRdKTsKICAgICAgICAgICAgY2hpbGROb2Rlc09wdGlvbnMucHVzaChjbG9uZWRPcHRpb25zKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBnZXQgY2x1c3RlcnByb3BlcnRpZXMgYmFzZWQgb24gY2hpbGROb2RlcwogICAgICAgICAgdmFyIGNoaWxkRWRnZXNPcHRpb25zID0gW107CiAgICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gY2hpbGRFZGdlc09iaikgewogICAgICAgICAgICB2YXIgY2xvbmVkT3B0aW9ucyA9IHRoaXMuX2Nsb25lT3B0aW9ucyhjaGlsZEVkZ2VzT2JqW2VkZ2VJZF0sICdlZGdlJyk7CiAgICAgICAgICAgIGNoaWxkRWRnZXNPcHRpb25zLnB1c2goY2xvbmVkT3B0aW9ucyk7CiAgICAgICAgICB9CgogICAgICAgICAgY2x1c3Rlck5vZGVQcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9jZXNzUHJvcGVydGllcyhjbHVzdGVyTm9kZVByb3BlcnRpZXMsIGNoaWxkTm9kZXNPcHRpb25zLCBjaGlsZEVkZ2VzT3B0aW9ucyk7CiAgICAgICAgICBpZiAoIWNsdXN0ZXJOb2RlUHJvcGVydGllcykgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm9jZXNzUHJvcGVydGllcyBmdW5jdGlvbiBkb2VzIG5vdCByZXR1cm4gcHJvcGVydGllcyEnKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgYW4gdW5pcXVlIGlkOwogICAgICAgIGlmIChjbHVzdGVyTm9kZVByb3BlcnRpZXMuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmlkID0gJ2NsdXN0ZXI6JyArIHV0aWwucmFuZG9tVVVJRCgpOwogICAgICAgIH0KICAgICAgICB2YXIgY2x1c3RlcklkID0gY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmlkOwoKICAgICAgICBpZiAoY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmxhYmVsID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNsdXN0ZXJOb2RlUHJvcGVydGllcy5sYWJlbCA9ICdjbHVzdGVyJzsKICAgICAgICB9CgogICAgICAgIC8vIGdpdmUgdGhlIGNsdXN0ZXJOb2RlIGEgcG9zdGlvbiBpZiBpdCBkb2VzIG5vdCBoYXZlIG9uZS4KICAgICAgICB2YXIgcG9zID0gdW5kZWZpbmVkOwogICAgICAgIGlmIChjbHVzdGVyTm9kZVByb3BlcnRpZXMueCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBwb3MgPSB0aGlzLl9nZXRDbHVzdGVyUG9zaXRpb24oY2hpbGROb2Rlc09iaik7CiAgICAgICAgICBjbHVzdGVyTm9kZVByb3BlcnRpZXMueCA9IHBvcy54OwogICAgICAgIH0KICAgICAgICBpZiAoY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLnkgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuX2dldENsdXN0ZXJQb3NpdGlvbihjaGlsZE5vZGVzT2JqKTsKICAgICAgICAgIH0KICAgICAgICAgIGNsdXN0ZXJOb2RlUHJvcGVydGllcy55ID0gcG9zLnk7CiAgICAgICAgfQoKICAgICAgICAvLyBmb3JjZSB0aGUgSUQgdG8gcmVtYWluIHRoZSBzYW1lCiAgICAgICAgY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmlkID0gY2x1c3RlcklkOwoKICAgICAgICAvLyBjcmVhdGUgdGhlIGNsdXN0ZXJOb2RlCiAgICAgICAgdmFyIGNsdXN0ZXJOb2RlID0gdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlKGNsdXN0ZXJOb2RlUHJvcGVydGllcywgX2NvbXBvbmVudHNOb2Rlc0NsdXN0ZXIyWydkZWZhdWx0J10pOwogICAgICAgIGNsdXN0ZXJOb2RlLmlzQ2x1c3RlciA9IHRydWU7CiAgICAgICAgY2x1c3Rlck5vZGUuY29udGFpbmVkTm9kZXMgPSBjaGlsZE5vZGVzT2JqOwogICAgICAgIGNsdXN0ZXJOb2RlLmNvbnRhaW5lZEVkZ2VzID0gY2hpbGRFZGdlc09iajsKICAgICAgICAvLyBjYWNoZSBhIGNvcHkgZnJvbSB0aGUgY2x1c3RlciBlZGdlIHByb3BlcnRpZXMgaWYgd2UgaGF2ZSB0byByZWNvbm5lY3Qgb3RoZXJzIGxhdGVyIG9uCiAgICAgICAgY2x1c3Rlck5vZGUuY2x1c3RlckVkZ2VQcm9wZXJ0aWVzID0gb3B0aW9ucy5jbHVzdGVyRWRnZVByb3BlcnRpZXM7CgogICAgICAgIC8vIGZpbmFsbHkgcHV0IHRoZSBjbHVzdGVyIG5vZGUgaW50byBnbG9iYWwKICAgICAgICB0aGlzLmJvZHkubm9kZXNbY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmlkXSA9IGNsdXN0ZXJOb2RlOwoKICAgICAgICAvLyBjcmVhdGUgdGhlIG5ldyBlZGdlcyB0aGF0IHdpbGwgY29ubmVjdCB0byB0aGUgY2x1c3RlcgogICAgICAgIHZhciBuZXdFZGdlcyA9IFtdOwogICAgICAgIHRoaXMuX2NyZWF0ZUNsdXN0ZXJFZGdlcyhjaGlsZE5vZGVzT2JqLCBjaGlsZEVkZ2VzT2JqLCBuZXdFZGdlcywgY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLCBvcHRpb25zLmNsdXN0ZXJFZGdlUHJvcGVydGllcyk7CgogICAgICAgIC8vIGRpc2FibGUgdGhlIGNoaWxkRWRnZXMKICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gY2hpbGRFZGdlc09iaikgewogICAgICAgICAgaWYgKGNoaWxkRWRnZXNPYmouaGFzT3duUHJvcGVydHkoZWRnZUlkKSkgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5LmVkZ2VzW2VkZ2VJZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHZhciBlZGdlID0gdGhpcy5ib2R5LmVkZ2VzW2VkZ2VJZF07CiAgICAgICAgICAgICAgZWRnZS50b2dnbGVQaHlzaWNzKGZhbHNlKTsKICAgICAgICAgICAgICBlZGdlLm9wdGlvbnMuaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZGlzYWJsZSB0aGUgY2hpbGROb2RlcwogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiBjaGlsZE5vZGVzT2JqKSB7CiAgICAgICAgICBpZiAoY2hpbGROb2Rlc09iai5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgIHRoaXMuY2x1c3RlcmVkTm9kZXNbbm9kZUlkXSA9IHsgY2x1c3RlcklkOiBjbHVzdGVyTm9kZVByb3BlcnRpZXMuaWQsIG5vZGU6IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdIH07CiAgICAgICAgICAgIHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdLnRvZ2dsZVBoeXNpY3MoZmFsc2UpOwogICAgICAgICAgICB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXS5vcHRpb25zLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBwdXNoIG5ldyBlZGdlcyB0byBnbG9iYWwKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0VkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmJvZHkuZWRnZXNbbmV3RWRnZXNbaV0uaWRdID0gbmV3RWRnZXNbaV07CiAgICAgICAgICB0aGlzLmJvZHkuZWRnZXNbbmV3RWRnZXNbaV0uaWRdLmNvbm5lY3QoKTsKICAgICAgICB9CgogICAgICAgIC8vIHNldCBJRCB0byB1bmRlZmluZWQgc28gbm8gZHVwbGljYXRlcyBhcmlzZQogICAgICAgIGNsdXN0ZXJOb2RlUHJvcGVydGllcy5pZCA9IHVuZGVmaW5lZDsKCiAgICAgICAgLy8gd3JhcCB1cAogICAgICAgIGlmIChyZWZyZXNoRGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX2RhdGFDaGFuZ2VkJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2lzQ2x1c3RlcicsCgogICAgICAvKioKICAgICAgKiBDaGVjayBpZiBhIG5vZGUgaXMgYSBjbHVzdGVyLgogICAgICAqIEBwYXJhbSBub2RlSWQKICAgICAgKiBAcmV0dXJucyB7Kn0KICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2x1c3Rlcihub2RlSWQpIHsKICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW25vZGVJZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdLmlzQ2x1c3RlciA9PT0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ05vZGUgZG9lcyBub3QgZXhpc3QuJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19nZXRDbHVzdGVyUG9zaXRpb24nLAoKICAgICAgLyoqCiAgICAgICogZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY2x1c3RlciBub2RlIGJhc2VkIG9uIHdoYXQncyBpbnNpZGUKICAgICAgKiBAcGFyYW0ge29iamVjdH0gY2hpbGROb2Rlc09iaiAgICB8IG9iamVjdCB3aXRoIG5vZGUgb2JqZWN0cywgaWQgYXMga2V5cwogICAgICAqIEByZXR1cm5zIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fQogICAgICAqIEBwcml2YXRlCiAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q2x1c3RlclBvc2l0aW9uKGNoaWxkTm9kZXNPYmopIHsKICAgICAgICB2YXIgY2hpbGRLZXlzID0gT2JqZWN0LmtleXMoY2hpbGROb2Rlc09iaik7CiAgICAgICAgdmFyIG1pblggPSBjaGlsZE5vZGVzT2JqW2NoaWxkS2V5c1swXV0ueDsKICAgICAgICB2YXIgbWF4WCA9IGNoaWxkTm9kZXNPYmpbY2hpbGRLZXlzWzBdXS54OwogICAgICAgIHZhciBtaW5ZID0gY2hpbGROb2Rlc09ialtjaGlsZEtleXNbMF1dLnk7CiAgICAgICAgdmFyIG1heFkgPSBjaGlsZE5vZGVzT2JqW2NoaWxkS2V5c1swXV0ueTsKICAgICAgICB2YXIgbm9kZSA9IHVuZGVmaW5lZDsKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGNoaWxkS2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgbm9kZSA9IGNoaWxkTm9kZXNPYmpbY2hpbGRLZXlzW2ldXTsKICAgICAgICAgIG1pblggPSBub2RlLnggPCBtaW5YID8gbm9kZS54IDogbWluWDsKICAgICAgICAgIG1heFggPSBub2RlLnggPiBtYXhYID8gbm9kZS54IDogbWF4WDsKICAgICAgICAgIG1pblkgPSBub2RlLnkgPCBtaW5ZID8gbm9kZS55IDogbWluWTsKICAgICAgICAgIG1heFkgPSBub2RlLnkgPiBtYXhZID8gbm9kZS55IDogbWF4WTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7IHg6IDAuNSAqIChtaW5YICsgbWF4WCksIHk6IDAuNSAqIChtaW5ZICsgbWF4WSkgfTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdvcGVuQ2x1c3RlcicsCgogICAgICAvKioKICAgICAgKiBPcGVuIGEgY2x1c3RlciBieSBjYWxsaW5nIHRoaXMgZnVuY3Rpb24uCiAgICAgICogQHBhcmFtIHtTdHJpbmd9ICBjbHVzdGVyTm9kZUlkIHwgdGhlIElEIG9mIHRoZSBjbHVzdGVyIG5vZGUKICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlZnJlc2hEYXRhIHwgd3JhcCB1cCBhZnRlcndhcmRzIGlmIG5vdCB0cnVlCiAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuQ2x1c3RlcihjbHVzdGVyTm9kZUlkLCBvcHRpb25zKSB7CiAgICAgICAgdmFyIHJlZnJlc2hEYXRhID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzJdOwoKICAgICAgICAvLyBraWxsIGNvbmRpdGlvbnMKICAgICAgICBpZiAoY2x1c3Rlck5vZGVJZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNsdXN0ZXJOb2RlSWQgc3VwcGxpZWQgdG8gb3BlbkNsdXN0ZXIuJyk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXNbY2x1c3Rlck5vZGVJZF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgY2x1c3Rlck5vZGVJZCBzdXBwbGllZCB0byBvcGVuQ2x1c3RlciBkb2VzIG5vdCBleGlzdC4nKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuYm9keS5ub2Rlc1tjbHVzdGVyTm9kZUlkXS5jb250YWluZWROb2RlcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnVGhlIG5vZGU6JyArIGNsdXN0ZXJOb2RlSWQgKyAnIGlzIG5vdCBhIGNsdXN0ZXIuJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBjbHVzdGVyTm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tjbHVzdGVyTm9kZUlkXTsKICAgICAgICB2YXIgY29udGFpbmVkTm9kZXMgPSBjbHVzdGVyTm9kZS5jb250YWluZWROb2RlczsKICAgICAgICB2YXIgY29udGFpbmVkRWRnZXMgPSBjbHVzdGVyTm9kZS5jb250YWluZWRFZGdlczsKCiAgICAgICAgLy8gYWxsb3cgdGhlIHVzZXIgdG8gcG9zaXRpb24gdGhlIG5vZGVzIGFmdGVyIHJlbGVhc2UuCiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnJlbGVhc2VGdW5jdGlvbiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRpb25zLnJlbGVhc2VGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgdmFyIHBvc2l0aW9ucyA9IHt9OwogICAgICAgICAgdmFyIGNsdXN0ZXJQb3NpdGlvbiA9IHsgeDogY2x1c3Rlck5vZGUueCwgeTogY2x1c3Rlck5vZGUueSB9OwogICAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIGNvbnRhaW5lZE5vZGVzKSB7CiAgICAgICAgICAgIGlmIChjb250YWluZWROb2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lZE5vZGUgPSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgICBwb3NpdGlvbnNbbm9kZUlkXSA9IHsgeDogY29udGFpbmVkTm9kZS54LCB5OiBjb250YWluZWROb2RlLnkgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdmFyIG5ld1Bvc2l0aW9ucyA9IG9wdGlvbnMucmVsZWFzZUZ1bmN0aW9uKGNsdXN0ZXJQb3NpdGlvbiwgcG9zaXRpb25zKTsKCiAgICAgICAgICBmb3IgKHZhciBub2RlSWQgaW4gY29udGFpbmVkTm9kZXMpIHsKICAgICAgICAgICAgaWYgKGNvbnRhaW5lZE5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgICB2YXIgY29udGFpbmVkTm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwogICAgICAgICAgICAgIGlmIChuZXdQb3NpdGlvbnNbbm9kZUlkXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBjb250YWluZWROb2RlLnggPSBuZXdQb3NpdGlvbnNbbm9kZUlkXS54IHx8IGNsdXN0ZXJOb2RlLng7CiAgICAgICAgICAgICAgICBjb250YWluZWROb2RlLnkgPSBuZXdQb3NpdGlvbnNbbm9kZUlkXS55IHx8IGNsdXN0ZXJOb2RlLnk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGNvcHkgdGhlIHBvc2l0aW9uIGZyb20gdGhlIGNsdXN0ZXIKICAgICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiBjb250YWluZWROb2RlcykgewogICAgICAgICAgICBpZiAoY29udGFpbmVkTm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICAgIHZhciBjb250YWluZWROb2RlID0gdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF07CiAgICAgICAgICAgICAgY29udGFpbmVkTm9kZSA9IGNvbnRhaW5lZE5vZGVzW25vZGVJZF07CiAgICAgICAgICAgICAgLy8gaW5oZXJpdCBwb3NpdGlvbgogICAgICAgICAgICAgIGNvbnRhaW5lZE5vZGUueCA9IGNsdXN0ZXJOb2RlLng7CiAgICAgICAgICAgICAgY29udGFpbmVkTm9kZS55ID0gY2x1c3Rlck5vZGUueTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gcmVsZWFzZSBub2RlcwogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiBjb250YWluZWROb2RlcykgewogICAgICAgICAgaWYgKGNvbnRhaW5lZE5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgdmFyIGNvbnRhaW5lZE5vZGUgPSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKCiAgICAgICAgICAgIC8vIGluaGVyaXQgc3BlZWQKICAgICAgICAgICAgY29udGFpbmVkTm9kZS52eCA9IGNsdXN0ZXJOb2RlLnZ4OwogICAgICAgICAgICBjb250YWluZWROb2RlLnZ5ID0gY2x1c3Rlck5vZGUudnk7CgogICAgICAgICAgICBjb250YWluZWROb2RlLm9wdGlvbnMuaGlkZGVuID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnRhaW5lZE5vZGUudG9nZ2xlUGh5c2ljcyh0cnVlKTsKCiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNsdXN0ZXJlZE5vZGVzW25vZGVJZF07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyByZWxlYXNlIGVkZ2VzCiAgICAgICAgZm9yICh2YXIgZWRnZUlkIGluIGNvbnRhaW5lZEVkZ2VzKSB7CiAgICAgICAgICBpZiAoY29udGFpbmVkRWRnZXMuaGFzT3duUHJvcGVydHkoZWRnZUlkKSkgewogICAgICAgICAgICB2YXIgZWRnZSA9IGNvbnRhaW5lZEVkZ2VzW2VkZ2VJZF07CiAgICAgICAgICAgIC8vIGlmIHRoaXMgZWRnZSB3YXMgYSB0ZW1wb3JhcnkgZWRnZSBhbmQgaXQncyBjb25uZWN0ZWQgbm9kZXMgZG8gbm90IGV4aXN0IGFueW1vcmUsIHdlIHJlbW92ZSBpdCBmcm9tIHRoZSBkYXRhCiAgICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXNbZWRnZS5mcm9tSWRdID09PSB1bmRlZmluZWQgfHwgdGhpcy5ib2R5Lm5vZGVzW2VkZ2UudG9JZF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGVkZ2UuZWRnZVR5cGUuY2xlYW51cCgpOwogICAgICAgICAgICAgIC8vIHRoaXMgcmVtb3ZlcyB0aGUgZWRnZSBmcm9tIG5vZGUuZWRnZXMsIHdoaWNoIGlzIHdoeSBlZGdlSWRzIGlzIGZvcm1lZAogICAgICAgICAgICAgIGVkZ2UuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJvZHkuZWRnZXNbZWRnZUlkXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBvbmUgb2YgdGhlIG5vZGVzIGNvbm5lY3RlZCB0byB0aGlzIGVkZ2UgaXMgaW4gYSBjbHVzdGVyLiBXZSBnaXZlIHRoZSBlZGdlIHRvIHRoYXQgY2x1c3RlciBzbyBpdCB3aWxsIGJlIHJlbGVhc2VkIHdoZW4gdGhhdCBjbHVzdGVyIGlzIG9wZW5lZC4KICAgICAgICAgICAgICBpZiAodGhpcy5jbHVzdGVyZWROb2Rlc1tlZGdlLmZyb21JZF0gIT09IHVuZGVmaW5lZCB8fCB0aGlzLmNsdXN0ZXJlZE5vZGVzW2VkZ2UudG9JZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgdmFyIGZyb21JZCA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICB0b0lkID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgdmFyIGNsdXN0ZXJlZE5vZGUgPSB0aGlzLmNsdXN0ZXJlZE5vZGVzW2VkZ2UuZnJvbUlkXSB8fCB0aGlzLmNsdXN0ZXJlZE5vZGVzW2VkZ2UudG9JZF07CiAgICAgICAgICAgICAgICB2YXIgY2x1c3RlcklkID0gY2x1c3RlcmVkTm9kZS5jbHVzdGVySWQ7CiAgICAgICAgICAgICAgICB2YXIgX2NsdXN0ZXJOb2RlID0gdGhpcy5ib2R5Lm5vZGVzW2NsdXN0ZXJJZF07CiAgICAgICAgICAgICAgICBfY2x1c3Rlck5vZGUuY29udGFpbmVkRWRnZXNbZWRnZUlkXSA9IGVkZ2U7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2x1c3RlcmVkTm9kZXNbZWRnZS5mcm9tSWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgZnJvbUlkID0gY2x1c3RlcklkOwogICAgICAgICAgICAgICAgICB0b0lkID0gZWRnZS50b0lkOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZnJvbUlkID0gZWRnZS5mcm9tSWQ7CiAgICAgICAgICAgICAgICAgIHRvSWQgPSBjbHVzdGVySWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gaWYgYm90aCBmcm9tIGFuZCB0byBub2RlcyBhcmUgdmlzaWJsZSwgd2UgY3JlYXRlIGEgbmV3IHRlbXBvcmFyeSBlZGdlCiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW2Zyb21JZF0ub3B0aW9ucy5oaWRkZW4gIT09IHRydWUgJiYgdGhpcy5ib2R5Lm5vZGVzW3RvSWRdLm9wdGlvbnMuaGlkZGVuICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjbG9uZWRPcHRpb25zID0gdGhpcy5fY2xvbmVPcHRpb25zKGVkZ2UsICdlZGdlJyk7CiAgICAgICAgICAgICAgICAgIHZhciBpZCA9ICdjbHVzdGVyRWRnZTonICsgdXRpbC5yYW5kb21VVUlEKCk7CiAgICAgICAgICAgICAgICAgIHV0aWwuZGVlcEV4dGVuZChjbG9uZWRPcHRpb25zLCBfY2x1c3Rlck5vZGUuY2x1c3RlckVkZ2VQcm9wZXJ0aWVzKTsKICAgICAgICAgICAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKGNsb25lZE9wdGlvbnMsIHsgZnJvbTogZnJvbUlkLCB0bzogdG9JZCwgaGlkZGVuOiBmYWxzZSwgcGh5c2ljczogdHJ1ZSwgaWQ6IGlkIH0pOwogICAgICAgICAgICAgICAgICB2YXIgbmV3RWRnZSA9IHRoaXMuYm9keS5mdW5jdGlvbnMuY3JlYXRlRWRnZShjbG9uZWRPcHRpb25zKTsKCiAgICAgICAgICAgICAgICAgIHRoaXMuYm9keS5lZGdlc1tpZF0gPSBuZXdFZGdlOwogICAgICAgICAgICAgICAgICB0aGlzLmJvZHkuZWRnZXNbaWRdLmNvbm5lY3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZWRnZS5vcHRpb25zLmhpZGRlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgZWRnZS50b2dnbGVQaHlzaWNzKHRydWUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gcmVtb3ZlIGFsbCB0ZW1wb3JhcnkgZWRnZXMKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsdXN0ZXJOb2RlLmVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZWRnZUlkID0gY2x1c3Rlck5vZGUuZWRnZXNbaV0uaWQ7CiAgICAgICAgICB0aGlzLmJvZHkuZWRnZXNbZWRnZUlkXS5lZGdlVHlwZS5jbGVhbnVwKCk7CiAgICAgICAgICAvLyB0aGlzIHJlbW92ZXMgdGhlIGVkZ2UgZnJvbSBub2RlLmVkZ2VzLCB3aGljaCBpcyB3aHkgZWRnZUlkcyBpcyBmb3JtZWQKICAgICAgICAgIHRoaXMuYm9keS5lZGdlc1tlZGdlSWRdLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgIGRlbGV0ZSB0aGlzLmJvZHkuZWRnZXNbZWRnZUlkXTsKICAgICAgICB9CgogICAgICAgIC8vIHJlbW92ZSBjbHVzdGVyTm9kZQogICAgICAgIGRlbGV0ZSB0aGlzLmJvZHkubm9kZXNbY2x1c3Rlck5vZGVJZF07CgogICAgICAgIGlmIChyZWZyZXNoRGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX2RhdGFDaGFuZ2VkJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2dldE5vZGVzSW5DbHVzdGVyJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE5vZGVzSW5DbHVzdGVyKGNsdXN0ZXJJZCkgewogICAgICAgIHZhciBub2Rlc0FycmF5ID0gW107CiAgICAgICAgaWYgKHRoaXMuaXNDbHVzdGVyKGNsdXN0ZXJJZCkgPT09IHRydWUpIHsKICAgICAgICAgIHZhciBjb250YWluZWROb2RlcyA9IHRoaXMuYm9keS5ub2Rlc1tjbHVzdGVySWRdLmNvbnRhaW5lZE5vZGVzOwogICAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIGNvbnRhaW5lZE5vZGVzKSB7CiAgICAgICAgICAgIGlmIChjb250YWluZWROb2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgICAgbm9kZXNBcnJheS5wdXNoKG5vZGVJZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBub2Rlc0FycmF5OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2ZpbmROb2RlJywKCiAgICAgIC8qKgogICAgICAqIEdldCB0aGUgc3RhY2sgY2x1c3RlcklkJ3MgdGhhdCBhIGNlcnRhaW4gbm9kZSByZXNpZGVzIGluLiBjbHVzdGVyIEEgLT4gY2x1c3RlciBCIC0+IGNsdXN0ZXIgQyAtPiBub2RlCiAgICAgICogQHBhcmFtIG5vZGVJZAogICAgICAqIEByZXR1cm5zIHtBcnJheX0KICAgICAgKiBAcHJpdmF0ZQogICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZmluZE5vZGUobm9kZUlkKSB7CiAgICAgICAgdmFyIHN0YWNrID0gW107CiAgICAgICAgdmFyIG1heCA9IDEwMDsKICAgICAgICB2YXIgY291bnRlciA9IDA7CgogICAgICAgIHdoaWxlICh0aGlzLmNsdXN0ZXJlZE5vZGVzW25vZGVJZF0gIT09IHVuZGVmaW5lZCAmJiBjb3VudGVyIDwgbWF4KSB7CiAgICAgICAgICBzdGFjay5wdXNoKHRoaXMuY2x1c3RlcmVkTm9kZXNbbm9kZUlkXS5ub2RlKTsKICAgICAgICAgIG5vZGVJZCA9IHRoaXMuY2x1c3RlcmVkTm9kZXNbbm9kZUlkXS5jbHVzdGVySWQ7CiAgICAgICAgICBjb3VudGVyKys7CiAgICAgICAgfQogICAgICAgIHN0YWNrLnB1c2godGhpcy5ib2R5Lm5vZGVzW25vZGVJZF0pOwogICAgICAgIHJldHVybiBzdGFjazsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZ2V0Q29ubmVjdGVkSWQnLAoKICAgICAgLyoqCiAgICAgICogR2V0IHRoZSBJZCB0aGUgbm9kZSBpcyBjb25uZWN0ZWQgdG8KICAgICAgKiBAcGFyYW0gZWRnZQogICAgICAqIEBwYXJhbSBub2RlSWQKICAgICAgKiBAcmV0dXJucyB7Kn0KICAgICAgKiBAcHJpdmF0ZQogICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENvbm5lY3RlZElkKGVkZ2UsIG5vZGVJZCkgewogICAgICAgIGlmIChlZGdlLnRvSWQgIT0gbm9kZUlkKSB7CiAgICAgICAgICByZXR1cm4gZWRnZS50b0lkOwogICAgICAgIH0gZWxzZSBpZiAoZWRnZS5mcm9tSWQgIT0gbm9kZUlkKSB7CiAgICAgICAgICByZXR1cm4gZWRnZS5mcm9tSWQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBlZGdlLmZyb21JZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2dldEh1YlNpemUnLAoKICAgICAgLyoqCiAgICAgICogV2UgZGV0ZXJtaW5lIGhvdyBtYW55IGNvbm5lY3Rpb25zIGRlbm90ZSBhbiBpbXBvcnRhbnQgaHViLgogICAgICAqIFdlIHRha2UgdGhlIG1lYW4gKyAyKnN0ZCBhcyB0aGUgaW1wb3J0YW50IGh1YiBzaXplLiAoQXNzdW1pbmcgYSBub3JtYWwgZGlzdHJpYnV0aW9uIG9mIGRhdGEsIH4yLjIlKQogICAgICAqCiAgICAgICogQHByaXZhdGUKICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRIdWJTaXplKCkgewogICAgICAgIHZhciBhdmVyYWdlID0gMDsKICAgICAgICB2YXIgYXZlcmFnZVNxdWFyZWQgPSAwOwogICAgICAgIHZhciBodWJDb3VudGVyID0gMDsKICAgICAgICB2YXIgbGFyZ2VzdEh1YiA9IDA7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbaV1dOwogICAgICAgICAgaWYgKG5vZGUuZWRnZXMubGVuZ3RoID4gbGFyZ2VzdEh1YikgewogICAgICAgICAgICBsYXJnZXN0SHViID0gbm9kZS5lZGdlcy5sZW5ndGg7CiAgICAgICAgICB9CiAgICAgICAgICBhdmVyYWdlICs9IG5vZGUuZWRnZXMubGVuZ3RoOwogICAgICAgICAgYXZlcmFnZVNxdWFyZWQgKz0gTWF0aC5wb3cobm9kZS5lZGdlcy5sZW5ndGgsIDIpOwogICAgICAgICAgaHViQ291bnRlciArPSAxOwogICAgICAgIH0KICAgICAgICBhdmVyYWdlID0gYXZlcmFnZSAvIGh1YkNvdW50ZXI7CiAgICAgICAgYXZlcmFnZVNxdWFyZWQgPSBhdmVyYWdlU3F1YXJlZCAvIGh1YkNvdW50ZXI7CgogICAgICAgIHZhciBsZXRpYW5jZSA9IGF2ZXJhZ2VTcXVhcmVkIC0gTWF0aC5wb3coYXZlcmFnZSwgMik7CiAgICAgICAgdmFyIHN0YW5kYXJkRGV2aWF0aW9uID0gTWF0aC5zcXJ0KGxldGlhbmNlKTsKCiAgICAgICAgdmFyIGh1YlRocmVzaG9sZCA9IE1hdGguZmxvb3IoYXZlcmFnZSArIDIgKiBzdGFuZGFyZERldmlhdGlvbik7CgogICAgICAgIC8vIGFsd2F5cyBoYXZlIGF0IGxlYXN0IG9uZSB0byBjbHVzdGVyCiAgICAgICAgaWYgKGh1YlRocmVzaG9sZCA+IGxhcmdlc3RIdWIpIHsKICAgICAgICAgIGh1YlRocmVzaG9sZCA9IGxhcmdlc3RIdWI7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaHViVGhyZXNob2xkOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIENsdXN0ZXJFbmdpbmU7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gQ2x1c3RlckVuZ2luZTsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDk4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07CgogIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCiAgdmFyIF9Ob2RlMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpOwoKICB2YXIgX05vZGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTm9kZTIpOwoKICAvKioKICAgKgogICAqLwoKICB2YXIgQ2x1c3RlciA9IChmdW5jdGlvbiAoX05vZGUpIHsKICAgIGZ1bmN0aW9uIENsdXN0ZXIob3B0aW9ucywgYm9keSwgaW1hZ2VsaXN0LCBncm91cGxpc3QsIGdsb2JhbE9wdGlvbnMpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsdXN0ZXIpOwoKICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2x1c3Rlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMsIGJvZHksIGltYWdlbGlzdCwgZ3JvdXBsaXN0LCBnbG9iYWxPcHRpb25zKTsKCiAgICAgIHRoaXMuaXNDbHVzdGVyID0gdHJ1ZTsKICAgICAgdGhpcy5jb250YWluZWROb2RlcyA9IHt9OwogICAgICB0aGlzLmNvbnRhaW5lZEVkZ2VzID0ge307CiAgICB9CgogICAgX2luaGVyaXRzKENsdXN0ZXIsIF9Ob2RlKTsKCiAgICByZXR1cm4gQ2x1c3RlcjsKICB9KShfTm9kZTNbJ2RlZmF1bHQnXSk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IENsdXN0ZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiA5OSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lOwogIH0KCiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICB2YXIgQ2FudmFzUmVuZGVyZXIgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyZXIoYm9keSwgY2FudmFzKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNSZW5kZXJlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhczsKCiAgICAgIHRoaXMucmVkcmF3UmVxdWVzdGVkID0gZmFsc2U7CiAgICAgIHRoaXMucmVuZGVyVGltZXIgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMucmVxdWlyZXNUaW1lb3V0ID0gdHJ1ZTsKICAgICAgdGhpcy5yZW5kZXJpbmdBY3RpdmUgPSBmYWxzZTsKICAgICAgdGhpcy5yZW5kZXJSZXF1ZXN0cyA9IDA7CiAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5hbGxvd1JlZHJhd1JlcXVlc3RzID0gdHJ1ZTsKCiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5vcHRpb25zID0ge307CiAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgICAgaGlkZUVkZ2VzT25EcmFnOiBmYWxzZSwKICAgICAgICBoaWRlTm9kZXNPbkRyYWc6IGZhbHNlCiAgICAgIH07CiAgICAgIHV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucywgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CgogICAgICB0aGlzLl9kZXRlcm1pbmVCcm93c2VyTWV0aG9kKCk7CiAgICAgIHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKENhbnZhc1JlbmRlcmVyLCBbewogICAgICBrZXk6ICdiaW5kRXZlbnRMaXN0ZW5lcnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50TGlzdGVuZXJzKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdkcmFnU3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5kcmFnZ2luZyA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ2RyYWdFbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuZHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignX3Jlc2l6ZU5vZGVzJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLl9yZXNpemVOb2RlcygpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdfcmVkcmF3JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzLnJlbmRlcmluZ0FjdGl2ZSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgX3RoaXMuX3JlZHJhdygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdfYmxvY2tSZWRyYXdSZXF1ZXN0cycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmFsbG93UmVkcmF3UmVxdWVzdHMgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignX2FsbG93UmVkcmF3UmVxdWVzdHMnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5hbGxvd1JlZHJhd1JlcXVlc3RzID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignX3JlcXVlc3RSZWRyYXcnLCB0aGlzLl9yZXF1ZXN0UmVkcmF3LmJpbmQodGhpcykpOwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdfc3RhcnRSZW5kZXJpbmcnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5yZW5kZXJSZXF1ZXN0cyArPSAxOwogICAgICAgICAgX3RoaXMucmVuZGVyaW5nQWN0aXZlID0gdHJ1ZTsKICAgICAgICAgIF90aGlzLl9zdGFydFJlbmRlcmluZygpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdfc3RvcFJlbmRlcmluZycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnJlbmRlclJlcXVlc3RzIC09IDE7CiAgICAgICAgICBfdGhpcy5yZW5kZXJpbmdBY3RpdmUgPSBfdGhpcy5yZW5kZXJSZXF1ZXN0cyA+IDA7CiAgICAgICAgICBfdGhpcy5yZW5kZXJUaW1lciA9IHVuZGVmaW5lZDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnJlbmRlclJlcXVlc3RzID0gMDsKICAgICAgICAgIF90aGlzLnJlbmRlcmluZ0FjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgaWYgKF90aGlzLnJlcXVpcmVzVGltZW91dCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMucmVuZGVyVGltZXIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX3RoaXMucmVuZGVyVGltZXIpOwogICAgICAgICAgfQogICAgICAgICAgX3RoaXMuYm9keS5lbWl0dGVyLm9mZigpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3NldE9wdGlvbnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIGZpZWxkcyA9IFsnaGlkZUVkZ2VzT25EcmFnJywgJ2hpZGVOb2Rlc09uRHJhZyddOwogICAgICAgICAgdXRpbC5zZWxlY3RpdmVEZWVwRXh0ZW5kKGZpZWxkcywgdGhpcy5vcHRpb25zLCBvcHRpb25zKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3N0YXJ0UmVuZGVyaW5nJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydFJlbmRlcmluZygpIHsKICAgICAgICBpZiAodGhpcy5yZW5kZXJpbmdBY3RpdmUgPT09IHRydWUpIHsKICAgICAgICAgIGlmICh0aGlzLnJlbmRlclRpbWVyID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMucmVxdWlyZXNUaW1lb3V0ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX3JlbmRlclN0ZXAuYmluZCh0aGlzKSwgdGhpcy5zaW11bGF0aW9uSW50ZXJ2YWwpOyAvLyB3YWl0IHRoaXMucmVuZGVyVGltZVN0ZXAgbWlsbGlzZWNvbmRzIGFuZCBwZXJmb3JtIHRoZSBhbmltYXRpb24gc3RlcCBmdW5jdGlvbgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMucmVuZGVyVGltZXIgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlbmRlclN0ZXAuYmluZCh0aGlzKSk7IC8vIHdhaXQgdGhpcy5yZW5kZXJUaW1lU3RlcCBtaWxsaXNlY29uZHMgYW5kIHBlcmZvcm0gdGhlIGFuaW1hdGlvbiBzdGVwIGZ1bmN0aW9uCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3JlbmRlclN0ZXAnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclN0ZXAoKSB7CiAgICAgICAgaWYgKHRoaXMucmVuZGVyaW5nQWN0aXZlID09PSB0cnVlKSB7CiAgICAgICAgICAvLyByZXNldCB0aGUgcmVuZGVyVGltZXIgc28gYSBuZXcgc2NoZWR1bGVkIGFuaW1hdGlvbiBzdGVwIGNhbiBiZSBzZXQKICAgICAgICAgIHRoaXMucmVuZGVyVGltZXIgPSB1bmRlZmluZWQ7CgogICAgICAgICAgaWYgKHRoaXMucmVxdWlyZXNUaW1lb3V0ID09PSB0cnVlKSB7CiAgICAgICAgICAgIC8vIHRoaXMgc2NoZWR1bGVzIGEgbmV3IHNpbXVsYXRpb24gc3RlcAogICAgICAgICAgICB0aGlzLl9zdGFydFJlbmRlcmluZygpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuX3JlZHJhdygpOwoKICAgICAgICAgIGlmICh0aGlzLnJlcXVpcmVzVGltZW91dCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgLy8gdGhpcyBzY2hlZHVsZXMgYSBuZXcgc2ltdWxhdGlvbiBzdGVwCiAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVuZGVyaW5nKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3JlZHJhdycsCgogICAgICAvKioKICAgICAgICogUmVkcmF3IHRoZSBuZXR3b3JrIHdpdGggdGhlIGN1cnJlbnQgZGF0YQogICAgICAgKiBjaGFydCB3aWxsIGJlIHJlc2l6ZWQgdG9vLgogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZHJhdygpIHsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdzZXRTaXplJyk7CiAgICAgICAgdGhpcy5fcmVkcmF3KCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3JlcXVlc3RSZWRyYXcnLAoKICAgICAgLyoqCiAgICAgICAqIFJlZHJhdyB0aGUgbmV0d29yayB3aXRoIHRoZSBjdXJyZW50IGRhdGEKICAgICAgICogQHBhcmFtIGhpZGRlbiB8IHVzZWQgdG8gZ2V0IHRoZSBmaXJzdCBlc3RpbWF0ZSBvZiB0aGUgbm9kZSBzaXplcy4gb25seSB0aGUgbm9kZXMgYXJlIGRyYXduIGFmdGVyIHdoaWNoIHRoZXkgYXJlIHF1aWNrbHkgZHJhd24gb3Zlci4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVxdWVzdFJlZHJhdygpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgaWYgKHRoaXMucmVkcmF3UmVxdWVzdGVkICE9PSB0cnVlICYmIHRoaXMucmVuZGVyaW5nQWN0aXZlID09PSBmYWxzZSAmJiB0aGlzLmFsbG93UmVkcmF3UmVxdWVzdHMgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMucmVkcmF3UmVxdWVzdGVkID0gdHJ1ZTsKICAgICAgICAgIGlmICh0aGlzLnJlcXVpcmVzVGltZW91dCA9PT0gdHJ1ZSkgewogICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLl9yZWRyYXcoZmFsc2UpOwogICAgICAgICAgICB9LCAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMi5fcmVkcmF3KGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19yZWRyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlZHJhdygpIHsKICAgICAgICB2YXIgaGlkZGVuID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTsKCiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnaW5pdFJlZHJhdycpOwoKICAgICAgICB0aGlzLnJlZHJhd1JlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgICAgICAgLy8gd2hlbiB0aGUgY29udGFpbmVyIGRpdiB3YXMgaGlkZGVuLCB0aGlzIGZpeGVzIGl0IGJhY2sgdXAhCiAgICAgICAgaWYgKHRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy53aWR0aCA9PT0gMCB8fCB0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuaGVpZ2h0ID09PSAwKSB7CiAgICAgICAgICB0aGlzLmNhbnZhcy5zZXRTaXplKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5waXhlbFJhdGlvID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMucGl4ZWxSYXRpbyA9ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSAvIChjdHgud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGN0eC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHguYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxKTsKICAgICAgICB9CgogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0odGhpcy5waXhlbFJhdGlvLCAwLCAwLCB0aGlzLnBpeGVsUmF0aW8sIDAsIDApOwoKICAgICAgICAvLyBjbGVhciB0aGUgY2FudmFzCiAgICAgICAgdmFyIHcgPSB0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGg7CiAgICAgICAgdmFyIGggPSB0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0OwogICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdywgaCk7CgogICAgICAgIC8vIHNldCBzY2FsaW5nIGFuZCB0cmFuc2xhdGlvbgogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54LCB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55KTsKICAgICAgICBjdHguc2NhbGUodGhpcy5ib2R5LnZpZXcuc2NhbGUsIHRoaXMuYm9keS52aWV3LnNjYWxlKTsKCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2JlZm9yZURyYXdpbmcnLCBjdHgpOwogICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKCiAgICAgICAgaWYgKGhpZGRlbiA9PT0gZmFsc2UpIHsKICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBmYWxzZSB8fCB0aGlzLmRyYWdnaW5nID09PSB0cnVlICYmIHRoaXMub3B0aW9ucy5oaWRlRWRnZXNPbkRyYWcgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMuX2RyYXdFZGdlcyhjdHgpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IGZhbHNlIHx8IHRoaXMuZHJhZ2dpbmcgPT09IHRydWUgJiYgdGhpcy5vcHRpb25zLmhpZGVOb2Rlc09uRHJhZyA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuX2RyYXdOb2RlcyhjdHgsIGhpZGRlbik7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5jb250cm9sTm9kZXNBY3RpdmUgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuX2RyYXdDb250cm9sTm9kZXMoY3R4KTsKICAgICAgICB9CgogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAvL3RoaXMucGh5c2ljcy5ub2Rlc1NvbHZlci5fZGVidWcoY3R4LCIjRjAwRjBGIik7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnYWZ0ZXJEcmF3aW5nJywgY3R4KTsKICAgICAgICBjdHguY2xvc2VQYXRoKCk7CiAgICAgICAgLy8gcmVzdG9yZSBvcmlnaW5hbCBzY2FsaW5nIGFuZCB0cmFuc2xhdGlvbgogICAgICAgIGN0eC5yZXN0b3JlKCk7CgogICAgICAgIGlmIChoaWRkZW4gPT09IHRydWUpIHsKICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdywgaCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19yZXNpemVOb2RlcycsCgogICAgICAvKioKICAgICAgICogUmVkcmF3IGFsbCBub2RlcwogICAgICAgKiBUaGUgMmQgY29udGV4dCBvZiBhIEhUTUwgY2FudmFzIGNhbiBiZSByZXRyaWV2ZWQgYnkgY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgIGN0eAogICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthbHdheXNTaG93XQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNpemVOb2RlcygpIHsKICAgICAgICB2YXIgY3R4ID0gdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgaWYgKHRoaXMucGl4ZWxSYXRpbyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkgLyAoY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMSk7CiAgICAgICAgfQogICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0odGhpcy5waXhlbFJhdGlvLCAwLCAwLCB0aGlzLnBpeGVsUmF0aW8sIDAsIDApOwogICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54LCB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55KTsKICAgICAgICBjdHguc2NhbGUodGhpcy5ib2R5LnZpZXcuc2NhbGUsIHRoaXMuYm9keS52aWV3LnNjYWxlKTsKCiAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5ib2R5Lm5vZGVzOwogICAgICAgIHZhciBub2RlID0gdW5kZWZpbmVkOwoKICAgICAgICAvLyByZXNpemUgYWxsIG5vZGVzCiAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIG5vZGVzKSB7CiAgICAgICAgICBpZiAobm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICBub2RlID0gbm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgbm9kZS5yZXNpemUoY3R4KTsKICAgICAgICAgICAgbm9kZS51cGRhdGVCb3VuZGluZ0JveChjdHgpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gcmVzdG9yZSBvcmlnaW5hbCBzY2FsaW5nIGFuZCB0cmFuc2xhdGlvbgogICAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2RyYXdOb2RlcycsCgogICAgICAvKioKICAgICAgICogUmVkcmF3IGFsbCBub2RlcwogICAgICAgKiBUaGUgMmQgY29udGV4dCBvZiBhIEhUTUwgY2FudmFzIGNhbiBiZSByZXRyaWV2ZWQgYnkgY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgIGN0eAogICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthbHdheXNTaG93XQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmF3Tm9kZXMoY3R4KSB7CiAgICAgICAgdmFyIGFsd2F5c1Nob3cgPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzFdOwoKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmJvZHkubm9kZXM7CiAgICAgICAgdmFyIG5vZGVJbmRpY2VzID0gdGhpcy5ib2R5Lm5vZGVJbmRpY2VzOwogICAgICAgIHZhciBub2RlID0gdW5kZWZpbmVkOwogICAgICAgIHZhciBzZWxlY3RlZCA9IFtdOwogICAgICAgIHZhciBtYXJnaW4gPSAyMDsKICAgICAgICB2YXIgdG9wTGVmdCA9IHRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHsgeDogLW1hcmdpbiwgeTogLW1hcmdpbiB9KTsKICAgICAgICB2YXIgYm90dG9tUmlnaHQgPSB0aGlzLmNhbnZhcy5ET010b0NhbnZhcyh7CiAgICAgICAgICB4OiB0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGggKyBtYXJnaW4sCiAgICAgICAgICB5OiB0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0ICsgbWFyZ2luCiAgICAgICAgfSk7CiAgICAgICAgdmFyIHZpZXdhYmxlQXJlYSA9IHsgdG9wOiB0b3BMZWZ0LnksIGxlZnQ6IHRvcExlZnQueCwgYm90dG9tOiBib3R0b21SaWdodC55LCByaWdodDogYm90dG9tUmlnaHQueCB9OwoKICAgICAgICAvLyBkcmF3IHVuc2VsZWN0ZWQgbm9kZXM7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlSW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgbm9kZSA9IG5vZGVzW25vZGVJbmRpY2VzW2ldXTsKICAgICAgICAgIC8vIHNldCBzZWxlY3RlZCBub2RlcyBhc2lkZQogICAgICAgICAgaWYgKG5vZGUuaXNTZWxlY3RlZCgpKSB7CiAgICAgICAgICAgIHNlbGVjdGVkLnB1c2gobm9kZUluZGljZXNbaV0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGFsd2F5c1Nob3cgPT09IHRydWUpIHsKICAgICAgICAgICAgICBub2RlLmRyYXcoY3R4KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlLmlzQm91bmRpbmdCb3hPdmVybGFwcGluZ1dpdGgodmlld2FibGVBcmVhKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIG5vZGUuZHJhdyhjdHgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5vZGUudXBkYXRlQm91bmRpbmdCb3goY3R4KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZHJhdyB0aGUgc2VsZWN0ZWQgbm9kZXMgb24gdG9wCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgbm9kZSA9IG5vZGVzW3NlbGVjdGVkW2ldXTsKICAgICAgICAgIG5vZGUuZHJhdyhjdHgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZHJhd0VkZ2VzJywKCiAgICAgIC8qKgogICAgICAgKiBSZWRyYXcgYWxsIGVkZ2VzCiAgICAgICAqIFRoZSAyZCBjb250ZXh0IG9mIGEgSFRNTCBjYW52YXMgY2FuIGJlIHJldHJpZXZlZCBieSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICAgY3R4CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYXdFZGdlcyhjdHgpIHsKICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmJvZHkuZWRnZXM7CiAgICAgICAgdmFyIGVkZ2VJbmRpY2VzID0gdGhpcy5ib2R5LmVkZ2VJbmRpY2VzOwogICAgICAgIHZhciBlZGdlID0gdW5kZWZpbmVkOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVkZ2VJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBlZGdlID0gZWRnZXNbZWRnZUluZGljZXNbaV1dOwogICAgICAgICAgaWYgKGVkZ2UuY29ubmVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgIGVkZ2UuZHJhdyhjdHgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZHJhd0NvbnRyb2xOb2RlcycsCgogICAgICAvKioKICAgICAgICogUmVkcmF3IGFsbCBlZGdlcwogICAgICAgKiBUaGUgMmQgY29udGV4dCBvZiBhIEhUTUwgY2FudmFzIGNhbiBiZSByZXRyaWV2ZWQgYnkgY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgIGN0eAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmF3Q29udHJvbE5vZGVzKGN0eCkgewogICAgICAgIHZhciBlZGdlcyA9IHRoaXMuYm9keS5lZGdlczsKICAgICAgICB2YXIgZWRnZUluZGljZXMgPSB0aGlzLmJvZHkuZWRnZUluZGljZXM7CiAgICAgICAgdmFyIGVkZ2UgPSB1bmRlZmluZWQ7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWRnZUluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGVkZ2UgPSBlZGdlc1tlZGdlSW5kaWNlc1tpXV07CiAgICAgICAgICBlZGdlLl9kcmF3Q29udHJvbE5vZGVzKGN0eCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19kZXRlcm1pbmVCcm93c2VyTWV0aG9kJywKCiAgICAgIC8qKgogICAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIGJyb3dzZXIgcmVxdWlyZXMgYSBzZXRUaW1lb3V0IG9yIGEgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLiBUaGlzIHdhcyByZXF1aXJlZCBiZWNhdXNlCiAgICAgICAqIHNvbWUgaW1wbGVtZW50YXRpb25zIChzYWZhcmkgYW5kIElFOSkgZGlkIG5vdCBzdXBwb3J0IHJlcXVlc3RBbmltYXRpb25GcmFtZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZXRlcm1pbmVCcm93c2VyTWV0aG9kKCkgewogICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgdmFyIGJyb3dzZXJUeXBlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgdGhpcy5yZXF1aXJlc1RpbWVvdXQgPSBmYWxzZTsKICAgICAgICAgIGlmIChicm93c2VyVHlwZS5pbmRleE9mKCdtc2llIDkuMCcpICE9IC0xKSB7CiAgICAgICAgICAgIC8vIElFIDkKICAgICAgICAgICAgdGhpcy5yZXF1aXJlc1RpbWVvdXQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmIChicm93c2VyVHlwZS5pbmRleE9mKCdzYWZhcmknKSAhPSAtMSkgewogICAgICAgICAgICAvLyBzYWZhcmkKICAgICAgICAgICAgaWYgKGJyb3dzZXJUeXBlLmluZGV4T2YoJ2Nocm9tZScpIDw9IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5yZXF1aXJlc1RpbWVvdXQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucmVxdWlyZXNUaW1lb3V0ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gQ2FudmFzUmVuZGVyZXI7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gQ2FudmFzUmVuZGVyZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiAxMDAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIHZhciBIYW1tZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTsKICB2YXIgaGFtbWVyVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogIC8qKgogICAqIENyZWF0ZSB0aGUgbWFpbiBmcmFtZSBmb3IgdGhlIE5ldHdvcmsuCiAgICogVGhpcyBmdW5jdGlvbiBpcyBleGVjdXRlZCBvbmNlIHdoZW4gYSBOZXR3b3JrIG9iamVjdCBpcyBjcmVhdGVkLiBUaGUgZnJhbWUKICAgKiBjb250YWlucyBhIGNhbnZhcywgYW5kIHRoaXMgY2FudmFzIGNvbnRhaW5zIGFsbCBvYmplY3RzIGxpa2UgdGhlIGF4aXMgYW5kCiAgICogbm9kZXMuCiAgICogQHByaXZhdGUKICAgKi8KCiAgdmFyIENhbnZhcyA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBDYW52YXMoYm9keSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzKTsKCiAgICAgIHRoaXMuYm9keSA9IGJvZHk7CiAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IDE7CiAgICAgIHRoaXMucmVzaXplVGltZXIgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMucmVzaXplRnVuY3Rpb24gPSB0aGlzLl9vblJlc2l6ZS5iaW5kKHRoaXMpOwoKICAgICAgdGhpcy5vcHRpb25zID0ge307CiAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgICAgYXV0b1Jlc2l6ZTogdHJ1ZSwKICAgICAgICBoZWlnaHQ6ICcxMDAlJywKICAgICAgICB3aWR0aDogJzEwMCUnCiAgICAgIH07CiAgICAgIHV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucywgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CgogICAgICB0aGlzLmJpbmRFdmVudExpc3RlbmVycygpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhDYW52YXMsIFt7CiAgICAgIGtleTogJ2JpbmRFdmVudExpc3RlbmVycycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kRXZlbnRMaXN0ZW5lcnMoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgLy8gYmluZCB0aGUgZXZlbnRzCiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub25jZSgncmVzaXplJywgZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgaWYgKG9iai53aWR0aCAhPT0gMCkgewogICAgICAgICAgICBfdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueCA9IG9iai53aWR0aCAqIDAuNTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChvYmouaGVpZ2h0ICE9PSAwKSB7CiAgICAgICAgICAgIF90aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55ID0gb2JqLmhlaWdodCAqIDAuNTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignc2V0U2l6ZScsIHRoaXMuc2V0U2l6ZS5iaW5kKHRoaXMpKTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmhhbW1lckZyYW1lLmRlc3Ryb3koKTsKICAgICAgICAgIF90aGlzLmhhbW1lci5kZXN0cm95KCk7CiAgICAgICAgICBfdGhpcy5fY2xlYW5VcCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3NldE9wdGlvbnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBmaWVsZHMgPSBbJ3dpZHRoJywgJ2hlaWdodCcsICdhdXRvUmVzaXplJ107CiAgICAgICAgICB1dGlsLnNlbGVjdGl2ZURlZXBFeHRlbmQoZmllbGRzLCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvUmVzaXplID09PSB0cnVlKSB7CiAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IGFkYXB0IHRvIGEgY2hhbmdpbmcgc2l6ZSBvZiB0aGUgYnJvd3Nlci4KICAgICAgICAgIHRoaXMuX2NsZWFuVXAoKTsKICAgICAgICAgIHRoaXMucmVzaXplVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBjaGFuZ2VkID0gX3RoaXMyLnNldFNpemUoKTsKICAgICAgICAgICAgaWYgKGNoYW5nZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICBfdGhpczIuYm9keS5lbWl0dGVyLmVtaXQoJ19yZXF1ZXN0UmVkcmF3Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgdGhpcy5yZXNpemVGdW5jdGlvbiA9IHRoaXMuX29uUmVzaXplLmJpbmQodGhpcyk7CiAgICAgICAgICB1dGlsLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAncmVzaXplJywgdGhpcy5yZXNpemVGdW5jdGlvbik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jbGVhblVwJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jbGVhblVwKCkgewogICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgYWRhcHQgdG8gYSBjaGFuZ2luZyBzaXplIG9mIHRoZSBicm93c2VyLgogICAgICAgIGlmICh0aGlzLnJlc2l6ZVRpbWVyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZXNpemVUaW1lcik7CiAgICAgICAgfQogICAgICAgIHV0aWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdyZXNpemUnLCB0aGlzLnJlc2l6ZUZ1bmN0aW9uKTsKICAgICAgICB0aGlzLnJlc2l6ZUZ1bmN0aW9uID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19vblJlc2l6ZScsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfb25SZXNpemUoKSB7CiAgICAgICAgdGhpcy5zZXRTaXplKCk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlZHJhdycpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19wcmVwYXJlVmFsdWUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX3ByZXBhcmVWYWx1ZSh2YWx1ZSkgewogICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUgKyAncHgnOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgewogICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoJyUnKSAhPT0gLTEgfHwgdmFsdWUuaW5kZXhPZigncHgnKSAhPT0gLTEpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5pbmRleE9mKCclJykgPT09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZSArICdweCc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHVzZSB0aGUgdmFsdWUgc3VwcGxpZSBmb3Igd2lkdGggb3IgaGVpZ2h0OicgKyB2YWx1ZSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2NyZWF0ZScsCgogICAgICAvKioKICAgICAgICogQ3JlYXRlIHRoZSBIVE1MCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZSgpIHsKICAgICAgICAvLyByZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGNvbnRhaW5lciBlbGVtZW50LgogICAgICAgIHdoaWxlICh0aGlzLmJvZHkuY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkgewogICAgICAgICAgdGhpcy5ib2R5LmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmJvZHkuY29udGFpbmVyLmZpcnN0Q2hpbGQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5mcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMuZnJhbWUuY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrJzsKICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgdGhpcy5mcmFtZS50YWJJbmRleCA9IDkwMDsgLy8gdGFiIGluZGV4IGlzIHJlcXVpcmVkIGZvciBrZXljaGFybSB0byBiaW5kIGtleXN0cm9rZXMgdG8gdGhlIGRpdiBpbnN0ZWFkIG9mIHRoZSB3aW5kb3cKCiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAgIHRoaXMuZnJhbWUuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgdGhpcy5mcmFtZS5jYW52YXMuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOwogICAgICAgIHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZS5jYW52YXMpOwoKICAgICAgICBpZiAoIXRoaXMuZnJhbWUuY2FudmFzLmdldENvbnRleHQpIHsKICAgICAgICAgIHZhciBub0NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpOwogICAgICAgICAgbm9DYW52YXMuc3R5bGUuY29sb3IgPSAncmVkJzsKICAgICAgICAgIG5vQ2FudmFzLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7CiAgICAgICAgICBub0NhbnZhcy5zdHlsZS5wYWRkaW5nID0gJzEwcHgnOwogICAgICAgICAgbm9DYW52YXMuaW5uZXJIVE1MID0gJ0Vycm9yOiB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBIVE1MIGNhbnZhcyc7CiAgICAgICAgICB0aGlzLmZyYW1lLmNhbnZhcy5hcHBlbmRDaGlsZChub0NhbnZhcyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBjdHggPSB0aGlzLmZyYW1lLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpIC8gKGN0eC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGN0eC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGN0eC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGN0eC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IDEpOwoKICAgICAgICAgIHRoaXMuZnJhbWUuY2FudmFzLmdldENvbnRleHQoJzJkJykuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywgMCwgMCwgdGhpcy5waXhlbFJhdGlvLCAwLCAwKTsKICAgICAgICB9CgogICAgICAgIC8vIGFkZCB0aGUgZnJhbWUgdG8gdGhlIGNvbnRhaW5lciBlbGVtZW50CiAgICAgICAgdGhpcy5ib2R5LmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKTsKCiAgICAgICAgdGhpcy5ib2R5LnZpZXcuc2NhbGUgPSAxOwogICAgICAgIHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uID0geyB4OiAwLjUgKiB0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCwgeTogMC41ICogdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0IH07CgogICAgICAgIHRoaXMuX2JpbmRIYW1tZXIoKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfYmluZEhhbW1lcicsCgogICAgICAvKioKICAgICAgICogVGhpcyBmdW5jdGlvbiBiaW5kcyBoYW1tZXIsIGl0IGNhbiBiZSByZXBlYXRlZCBvdmVyIGFuZCBvdmVyIGR1ZSB0byB0aGUgdW5pcXVlbmVzcyBjaGVjay4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYmluZEhhbW1lcigpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgaWYgKHRoaXMuaGFtbWVyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuaGFtbWVyLmRlc3Ryb3koKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5kcmFnID0ge307CiAgICAgICAgdGhpcy5waW5jaCA9IHt9OwoKICAgICAgICAvLyBpbml0IGhhbW1lcgogICAgICAgIHRoaXMuaGFtbWVyID0gbmV3IEhhbW1lcih0aGlzLmZyYW1lLmNhbnZhcyk7CiAgICAgICAgdGhpcy5oYW1tZXIuZ2V0KCdwaW5jaCcpLnNldCh7IGVuYWJsZTogdHJ1ZSB9KTsKICAgICAgICAvLyBlbmFibGUgdG8gZ2V0IGJldHRlciByZXNwb25zZSwgdG9kbzogdGVzdCBvbiBtb2JpbGUuCiAgICAgICAgLy90aGlzLmhhbW1lci5nZXQoJ3BhbicpLnNldCh7dGhyZXNob2xkOjJ9KTsKCiAgICAgICAgaGFtbWVyVXRpbC5vblRvdWNoKHRoaXMuaGFtbWVyLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIF90aGlzMy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uVG91Y2goZXZlbnQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaGFtbWVyLm9uKCd0YXAnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIF90aGlzMy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uVGFwKGV2ZW50KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmhhbW1lci5vbignZG91YmxldGFwJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBfdGhpczMuYm9keS5ldmVudExpc3RlbmVycy5vbkRvdWJsZVRhcChldmVudCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oYW1tZXIub24oJ3ByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBfdGhpczMuYm9keS5ldmVudExpc3RlbmVycy5vbkhvbGQoZXZlbnQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaGFtbWVyLm9uKCdwYW5zdGFydCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnU3RhcnQoZXZlbnQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaGFtbWVyLm9uKCdwYW5tb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBfdGhpczMuYm9keS5ldmVudExpc3RlbmVycy5vbkRyYWcoZXZlbnQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuaGFtbWVyLm9uKCdwYW5lbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIF90aGlzMy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZ0VuZChldmVudCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5oYW1tZXIub24oJ3BpbmNoJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBfdGhpczMuYm9keS5ldmVudExpc3RlbmVycy5vblBpbmNoKGV2ZW50KTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gVE9ETzogbmVhdGx5IGNsZWFudXAgdGhlc2UgaGFuZGxlcnMgd2hlbiByZS1jcmVhdGluZyB0aGUgQ2FudmFzLCBJRiB0aGVzZSBhcmUgZG9uZSB3aXRoIGhhbW1lciwgZXZlbnQuc3RvcFByb3BhZ2F0aW9uIHdpbGwgbm90IHdvcms/CiAgICAgICAgdGhpcy5mcmFtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Nb3VzZVdoZWVsKGV2ZW50KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmZyYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Nb3VzZVdoZWVsKGV2ZW50KTsKICAgICAgICB9KTsKCiAgICAgICAgdGhpcy5mcmFtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBfdGhpczMuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlTW92ZShldmVudCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5mcmFtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIF90aGlzMy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uQ29udGV4dChldmVudCk7CiAgICAgICAgfSk7CgogICAgICAgIHRoaXMuaGFtbWVyRnJhbWUgPSBuZXcgSGFtbWVyKHRoaXMuZnJhbWUpOwogICAgICAgIGhhbW1lclV0aWwub25SZWxlYXNlKHRoaXMuaGFtbWVyRnJhbWUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25SZWxlYXNlKGV2ZW50KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXRTaXplJywKCiAgICAgIC8qKgogICAgICAgKiBTZXQgYSBuZXcgc2l6ZSBmb3IgdGhlIG5ldHdvcmsKICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHdpZHRoICAgV2lkdGggaW4gcGl4ZWxzIG9yIHBlcmNlbnRhZ2UgKGZvciBleGFtcGxlICc4MDBweCcKICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb3IgJzUwJScpCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZWlnaHQgIEhlaWdodCBpbiBwaXhlbHMgb3IgcGVyY2VudGFnZSAgKGZvciBleGFtcGxlICc0MDBweCcKICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb3IgJzMwJScpCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2l6ZSgpIHsKICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy53aWR0aCA6IGFyZ3VtZW50c1swXTsKICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuaGVpZ2h0IDogYXJndW1lbnRzWzFdOwoKICAgICAgICB3aWR0aCA9IHRoaXMuX3ByZXBhcmVWYWx1ZSh3aWR0aCk7CiAgICAgICAgaGVpZ2h0ID0gdGhpcy5fcHJlcGFyZVZhbHVlKGhlaWdodCk7CgogICAgICAgIHZhciBlbWl0RXZlbnQgPSBmYWxzZTsKICAgICAgICB2YXIgb2xkV2lkdGggPSB0aGlzLmZyYW1lLmNhbnZhcy53aWR0aDsKICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0OwoKICAgICAgICBpZiAod2lkdGggIT0gdGhpcy5vcHRpb25zLndpZHRoIHx8IGhlaWdodCAhPSB0aGlzLm9wdGlvbnMuaGVpZ2h0IHx8IHRoaXMuZnJhbWUuc3R5bGUud2lkdGggIT0gd2lkdGggfHwgdGhpcy5mcmFtZS5zdHlsZS5oZWlnaHQgIT0gaGVpZ2h0KSB7CiAgICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLndpZHRoID0gd2lkdGg7CiAgICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLmhlaWdodCA9IGhlaWdodDsKCiAgICAgICAgICB0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgICAgICAgIHRoaXMuZnJhbWUuY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDAlJzsKCiAgICAgICAgICB0aGlzLmZyYW1lLmNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQodGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGggKiB0aGlzLnBpeGVsUmF0aW8pOwogICAgICAgICAgdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQgKiB0aGlzLnBpeGVsUmF0aW8pOwoKICAgICAgICAgIHRoaXMub3B0aW9ucy53aWR0aCA9IHdpZHRoOwogICAgICAgICAgdGhpcy5vcHRpb25zLmhlaWdodCA9IGhlaWdodDsKCiAgICAgICAgICBlbWl0RXZlbnQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB0aGlzIHdvdWxkIGFkYXB0IHRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIHRvIHRoZSB3aWR0aCBmcm9tIDEwMCUgaWYgYW5kIG9ubHkgaWYKICAgICAgICAgIC8vIHRoZXJlIGlzIGEgY2hhbmdlLgoKICAgICAgICAgIGlmICh0aGlzLmZyYW1lLmNhbnZhcy53aWR0aCAhPSBNYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoICogdGhpcy5waXhlbFJhdGlvKSkgewogICAgICAgICAgICB0aGlzLmZyYW1lLmNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQodGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGggKiB0aGlzLnBpeGVsUmF0aW8pOwogICAgICAgICAgICBlbWl0RXZlbnQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodCAhPSBNYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbykpIHsKICAgICAgICAgICAgdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQgKiB0aGlzLnBpeGVsUmF0aW8pOwogICAgICAgICAgICBlbWl0RXZlbnQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGVtaXRFdmVudCA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgncmVzaXplJywgewogICAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy53aWR0aCAvIHRoaXMucGl4ZWxSYXRpbyksCiAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnBpeGVsUmF0aW8pLAogICAgICAgICAgICBvbGRXaWR0aDogTWF0aC5yb3VuZChvbGRXaWR0aCAvIHRoaXMucGl4ZWxSYXRpbyksCiAgICAgICAgICAgIG9sZEhlaWdodDogTWF0aC5yb3VuZChvbGRIZWlnaHQgLyB0aGlzLnBpeGVsUmF0aW8pCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBlbWl0RXZlbnQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX1hjb252ZXJ0RE9NdG9DYW52YXMnLAoKICAgICAgLyoqCiAgICAgICAqIENvbnZlcnQgdGhlIFggY29vcmRpbmF0ZSBpbiBET00tc3BhY2UgKGNvb3JkaW5hdGUgcG9pbnQgaW4gYnJvd3NlciByZWxhdGl2ZSB0byB0aGUgY29udGFpbmVyIGRpdikgdG8KICAgICAgICogdGhlIFggY29vcmRpbmF0ZSBpbiBjYW52YXMtc3BhY2UgKHRoZSBzaW11bGF0aW9uIHNhbmRib3gsIHdoaWNoIHRoZSBjYW1lcmEgbG9va3MgdXBvbikKICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHgKICAgICAgICogQHJldHVybnMge251bWJlcn0KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfWGNvbnZlcnRET010b0NhbnZhcyh4KSB7CiAgICAgICAgcmV0dXJuICh4IC0gdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueCkgLyB0aGlzLmJvZHkudmlldy5zY2FsZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfWGNvbnZlcnRDYW52YXNUb0RPTScsCgogICAgICAvKioKICAgICAgICogQ29udmVydCB0aGUgWCBjb29yZGluYXRlIGluIGNhbnZhcy1zcGFjZSAodGhlIHNpbXVsYXRpb24gc2FuZGJveCwgd2hpY2ggdGhlIGNhbWVyYSBsb29rcyB1cG9uKSB0bwogICAgICAgKiB0aGUgWCBjb29yZGluYXRlIGluIERPTS1zcGFjZSAoY29vcmRpbmF0ZSBwb2ludCBpbiBicm93c2VyIHJlbGF0aXZlIHRvIHRoZSBjb250YWluZXIgZGl2KQogICAgICAgKiBAcGFyYW0ge251bWJlcn0geAogICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9YY29udmVydENhbnZhc1RvRE9NKHgpIHsKICAgICAgICByZXR1cm4geCAqIHRoaXMuYm9keS52aWV3LnNjYWxlICsgdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfWWNvbnZlcnRET010b0NhbnZhcycsCgogICAgICAvKioKICAgICAgICogQ29udmVydCB0aGUgWSBjb29yZGluYXRlIGluIERPTS1zcGFjZSAoY29vcmRpbmF0ZSBwb2ludCBpbiBicm93c2VyIHJlbGF0aXZlIHRvIHRoZSBjb250YWluZXIgZGl2KSB0bwogICAgICAgKiB0aGUgWSBjb29yZGluYXRlIGluIGNhbnZhcy1zcGFjZSAodGhlIHNpbXVsYXRpb24gc2FuZGJveCwgd2hpY2ggdGhlIGNhbWVyYSBsb29rcyB1cG9uKQogICAgICAgKiBAcGFyYW0ge251bWJlcn0geQogICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ZY29udmVydERPTXRvQ2FudmFzKHkpIHsKICAgICAgICByZXR1cm4gKHkgLSB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55KSAvIHRoaXMuYm9keS52aWV3LnNjYWxlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19ZY29udmVydENhbnZhc1RvRE9NJywKCiAgICAgIC8qKgogICAgICAgKiBDb252ZXJ0IHRoZSBZIGNvb3JkaW5hdGUgaW4gY2FudmFzLXNwYWNlICh0aGUgc2ltdWxhdGlvbiBzYW5kYm94LCB3aGljaCB0aGUgY2FtZXJhIGxvb2tzIHVwb24pIHRvCiAgICAgICAqIHRoZSBZIGNvb3JkaW5hdGUgaW4gRE9NLXNwYWNlIChjb29yZGluYXRlIHBvaW50IGluIGJyb3dzZXIgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5lciBkaXYpCiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5CiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX1ljb252ZXJ0Q2FudmFzVG9ET00oeSkgewogICAgICAgIHJldHVybiB5ICogdGhpcy5ib2R5LnZpZXcuc2NhbGUgKyB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2NhbnZhc1RvRE9NJywKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge29iamVjdH0gcG9zICAgPSB7eDogbnVtYmVyLCB5OiBudW1iZXJ9CiAgICAgICAqIEByZXR1cm5zIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fQogICAgICAgKiBAY29uc3RydWN0b3IKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYW52YXNUb0RPTShwb3MpIHsKICAgICAgICByZXR1cm4geyB4OiB0aGlzLl9YY29udmVydENhbnZhc1RvRE9NKHBvcy54KSwgeTogdGhpcy5fWWNvbnZlcnRDYW52YXNUb0RPTShwb3MueSkgfTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdET010b0NhbnZhcycsCgogICAgICAvKioKICAgICAgICoKICAgICAgICogQHBhcmFtIHtvYmplY3R9IHBvcyAgID0ge3g6IG51bWJlciwgeTogbnVtYmVyfQogICAgICAgKiBAcmV0dXJucyB7e3g6IG51bWJlciwgeTogbnVtYmVyfX0KICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gRE9NdG9DYW52YXMocG9zKSB7CiAgICAgICAgcmV0dXJuIHsgeDogdGhpcy5fWGNvbnZlcnRET010b0NhbnZhcyhwb3MueCksIHk6IHRoaXMuX1ljb252ZXJ0RE9NdG9DYW52YXMocG9zLnkpIH07CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gQ2FudmFzOwogIH0pKCk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IENhbnZhczsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDEwMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgInVzZSBzdHJpY3QiOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICB2YXIgVmlldyA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBWaWV3KGJvZHksIGNhbnZhcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXcpOwoKICAgICAgdGhpcy5ib2R5ID0gYm9keTsKICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7CgogICAgICB0aGlzLmFuaW1hdGlvblNwZWVkID0gMSAvIHRoaXMucmVuZGVyUmVmcmVzaFJhdGU7CiAgICAgIHRoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb24gPSAiZWFzZUluT3V0UXVpbnQiOwogICAgICB0aGlzLmVhc2luZ1RpbWUgPSAwOwogICAgICB0aGlzLnNvdXJjZVNjYWxlID0gMDsKICAgICAgdGhpcy50YXJnZXRTY2FsZSA9IDA7CiAgICAgIHRoaXMuc291cmNlVHJhbnNsYXRpb24gPSAwOwogICAgICB0aGlzLnRhcmdldFRyYW5zbGF0aW9uID0gMDsKICAgICAgdGhpcy5sb2NrZWRPbk5vZGVJZCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5sb2NrZWRPbk5vZGVPZmZzZXQgPSB1bmRlZmluZWQ7CiAgICAgIHRoaXMudG91Y2hUaW1lID0gMDsKCiAgICAgIHRoaXMudmlld0Z1bmN0aW9uID0gdW5kZWZpbmVkOwoKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oImZpdCIsIHRoaXMuZml0LmJpbmQodGhpcykpOwogICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigiYW5pbWF0aW9uRmluaXNoZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoIl9zdG9wUmVuZGVyaW5nIik7CiAgICAgIH0pOwogICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigidW5sb2NrTm9kZSIsIHRoaXMucmVsZWFzZU5vZGUuYmluZCh0aGlzKSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKFZpZXcsIFt7CiAgICAgIGtleTogInNldE9wdGlvbnMiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucygpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07CgogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX2dldFJhbmdlIiwKCiAgICAgIC8qKgogICAgICAgKiBGaW5kIHRoZSBjZW50ZXIgcG9zaXRpb24gb2YgdGhlIG5ldHdvcmsKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UmFuZ2UoKSB7CiAgICAgICAgdmFyIHNwZWNpZmljTm9kZXMgPSBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzBdOwoKICAgICAgICB2YXIgbWluWSA9IDEwMDAwMDAwMDAsCiAgICAgICAgICAgIG1heFkgPSAtMTAwMDAwMDAwMCwKICAgICAgICAgICAgbWluWCA9IDEwMDAwMDAwMDAsCiAgICAgICAgICAgIG1heFggPSAtMTAwMDAwMDAwMCwKICAgICAgICAgICAgbm9kZTsKICAgICAgICBpZiAoc3BlY2lmaWNOb2Rlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwZWNpZmljTm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tzcGVjaWZpY05vZGVzW2ldXTsKICAgICAgICAgICAgaWYgKG1pblggPiBub2RlLnNoYXBlLmJvdW5kaW5nQm94LmxlZnQpIHsKICAgICAgICAgICAgICBtaW5YID0gbm9kZS5zaGFwZS5ib3VuZGluZ0JveC5sZWZ0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtYXhYIDwgbm9kZS5zaGFwZS5ib3VuZGluZ0JveC5yaWdodCkgewogICAgICAgICAgICAgIG1heFggPSBub2RlLnNoYXBlLmJvdW5kaW5nQm94LnJpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtaW5ZID4gbm9kZS5zaGFwZS5ib3VuZGluZ0JveC50b3ApIHsKICAgICAgICAgICAgICBtaW5ZID0gbm9kZS5zaGFwZS5ib3VuZGluZ0JveC50b3A7CiAgICAgICAgICAgIH0gLy8gdG9wIGlzIG5lZ2F0aXZlLCBib3R0b20gaXMgcG9zaXRpdmUKICAgICAgICAgICAgaWYgKG1heFkgPCBub2RlLnNoYXBlLmJvdW5kaW5nQm94LmJvdHRvbSkgewogICAgICAgICAgICAgIG1heFkgPSBub2RlLnNoYXBlLmJvdW5kaW5nQm94LmJvdHRvbTsKICAgICAgICAgICAgfSAvLyB0b3AgaXMgbmVnYXRpdmUsIGJvdHRvbSBpcyBwb3NpdGl2ZQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3IgKHZhciBub2RlSWQgaW4gdGhpcy5ib2R5Lm5vZGVzKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICAgIG5vZGUgPSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgICBpZiAobWluWCA+IG5vZGUuc2hhcGUuYm91bmRpbmdCb3gubGVmdCkgewogICAgICAgICAgICAgICAgbWluWCA9IG5vZGUuc2hhcGUuYm91bmRpbmdCb3gubGVmdDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKG1heFggPCBub2RlLnNoYXBlLmJvdW5kaW5nQm94LnJpZ2h0KSB7CiAgICAgICAgICAgICAgICBtYXhYID0gbm9kZS5zaGFwZS5ib3VuZGluZ0JveC5yaWdodDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKG1pblkgPiBub2RlLnNoYXBlLmJvdW5kaW5nQm94LnRvcCkgewogICAgICAgICAgICAgICAgbWluWSA9IG5vZGUuc2hhcGUuYm91bmRpbmdCb3gudG9wOwogICAgICAgICAgICAgIH0gLy8gdG9wIGlzIG5lZ2F0aXZlLCBib3R0b20gaXMgcG9zaXRpdmUKICAgICAgICAgICAgICBpZiAobWF4WSA8IG5vZGUuc2hhcGUuYm91bmRpbmdCb3guYm90dG9tKSB7CiAgICAgICAgICAgICAgICBtYXhZID0gbm9kZS5zaGFwZS5ib3VuZGluZ0JveC5ib3R0b207CiAgICAgICAgICAgICAgfSAvLyB0b3AgaXMgbmVnYXRpdmUsIGJvdHRvbSBpcyBwb3NpdGl2ZQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAobWluWCA9PT0gMTAwMDAwMDAwMCAmJiBtYXhYID09PSAtMTAwMDAwMDAwMCAmJiBtaW5ZID09PSAxMDAwMDAwMDAwICYmIG1heFkgPT09IC0xMDAwMDAwMDAwKSB7CiAgICAgICAgICBtaW5ZID0gMCwgbWF4WSA9IDAsIG1pblggPSAwLCBtYXhYID0gMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsgbWluWDogbWluWCwgbWF4WDogbWF4WCwgbWluWTogbWluWSwgbWF4WTogbWF4WSB9OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9maW5kQ2VudGVyIiwKCiAgICAgIC8qKgogICAgICAgKiBAcGFyYW0ge29iamVjdH0gcmFuZ2UgPSB7bWluWDogbWluWCwgbWF4WDogbWF4WCwgbWluWTogbWluWSwgbWF4WTogbWF4WX07CiAgICAgICAqIEByZXR1cm5zIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kQ2VudGVyKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHsgeDogMC41ICogKHJhbmdlLm1heFggKyByYW5nZS5taW5YKSwKICAgICAgICAgIHk6IDAuNSAqIChyYW5nZS5tYXhZICsgcmFuZ2UubWluWSkgfTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJmaXQiLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgZnVuY3Rpb24gem9vbXMgb3V0IHRvIGZpdCBhbGwgZGF0YSBvbiBzY3JlZW4gYmFzZWQgb24gYW1vdW50IG9mIG5vZGVzCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBPcHRpb25zCiAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2luaXRpYWxab29tXSAgfCB6b29tIGJhc2VkIG9uIGZpdHRlZCBmb3JtdWxhIG9yIHJhbmdlLCB0cnVlID0gZml0dGVkLCBkZWZhdWx0ID0gZmFsc2U7CiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZml0KCkgewogICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7IG5vZGVzOiBbXSB9IDogYXJndW1lbnRzWzBdOwogICAgICAgIHZhciBpbml0aWFsWm9vbSA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07CgogICAgICAgIHZhciByYW5nZTsKICAgICAgICB2YXIgem9vbUxldmVsOwoKICAgICAgICBpZiAoaW5pdGlhbFpvb20gPT09IHRydWUpIHsKICAgICAgICAgIC8vIGNoZWNrIGlmIG1vcmUgdGhhbiBoYWxmIG9mIHRoZSBub2RlcyBoYXZlIGEgcHJlZGVmaW5lZCBwb3NpdGlvbi4gSWYgc28sIHdlIHVzZSB0aGUgcmFuZ2UsIG5vdCB0aGUgYXBwcm94aW1hdGlvbi4KICAgICAgICAgIHZhciBwb3NpdGlvbkRlZmluZWQgPSAwOwogICAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIHRoaXMuYm9keS5ub2RlcykgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwogICAgICAgICAgICAgIGlmIChub2RlLnByZWRlZmluZWRQb3NpdGlvbiA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgcG9zaXRpb25EZWZpbmVkICs9IDE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocG9zaXRpb25EZWZpbmVkID4gMC41ICogdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aCkgewogICAgICAgICAgICB0aGlzLmZpdChvcHRpb25zLCBmYWxzZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICByYW5nZSA9IHRoaXMuX2dldFJhbmdlKG9wdGlvbnMubm9kZXMpOwoKICAgICAgICAgIHZhciBudW1iZXJPZk5vZGVzID0gdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDsKICAgICAgICAgIHpvb21MZXZlbCA9IDEyLjY2MiAvIChudW1iZXJPZk5vZGVzICsgNy40MTQ3KSArIDAuMDk2NDgyMjsgLy8gdGhpcyBpcyBvYnRhaW5lZCBmcm9tIGZpdHRpbmcgYSBkYXRhc2V0IGZyb20gNSBwb2ludHMgd2l0aCBzY2FsZSBsZXZlbHMgdGhhdCBsb29rZWQgZ29vZC4KCiAgICAgICAgICAvLyBjb3JyZWN0IGZvciBsYXJnZXIgY2FudmFzc2VzLgogICAgICAgICAgdmFyIGZhY3RvciA9IE1hdGgubWluKHRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCAvIDYwMCwgdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCAvIDYwMCk7CiAgICAgICAgICB6b29tTGV2ZWwgKj0gZmFjdG9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCJfcmVzaXplTm9kZXMiKTsKICAgICAgICAgIHJhbmdlID0gdGhpcy5fZ2V0UmFuZ2Uob3B0aW9ucy5ub2Rlcyk7CiAgICAgICAgICB2YXIgeERpc3RhbmNlID0gTWF0aC5hYnMocmFuZ2UubWF4WCAtIHJhbmdlLm1pblgpICogMS4xOwogICAgICAgICAgdmFyIHlEaXN0YW5jZSA9IE1hdGguYWJzKHJhbmdlLm1heFkgLSByYW5nZS5taW5ZKSAqIDEuMTsKCiAgICAgICAgICB2YXIgeFpvb21MZXZlbCA9IHRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCAvIHhEaXN0YW5jZTsKICAgICAgICAgIHZhciB5Wm9vbUxldmVsID0gdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCAvIHlEaXN0YW5jZTsKCiAgICAgICAgICB6b29tTGV2ZWwgPSB4Wm9vbUxldmVsIDw9IHlab29tTGV2ZWwgPyB4Wm9vbUxldmVsIDogeVpvb21MZXZlbDsKICAgICAgICB9CgogICAgICAgIGlmICh6b29tTGV2ZWwgPiAxKSB7CiAgICAgICAgICB6b29tTGV2ZWwgPSAxOwogICAgICAgIH0gZWxzZSBpZiAoem9vbUxldmVsID09PSAwKSB7CiAgICAgICAgICB6b29tTGV2ZWwgPSAxOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuX2ZpbmRDZW50ZXIocmFuZ2UpOwogICAgICAgIHZhciBhbmltYXRpb25PcHRpb25zID0geyBwb3NpdGlvbjogY2VudGVyLCBzY2FsZTogem9vbUxldmVsLCBhbmltYXRpb246IG9wdGlvbnMuYW5pbWF0aW9uIH07CiAgICAgICAgdGhpcy5tb3ZlVG8oYW5pbWF0aW9uT3B0aW9ucyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZm9jdXMiLAoKICAgICAgLy8gYW5pbWF0aW9uCgogICAgICAvKioKICAgICAgICogQ2VudGVyIGEgbm9kZSBpbiB2aWV3LgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge051bWJlcn0gbm9kZUlkCiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9uc10KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1cyhub2RlSWQpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07CgogICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXNbbm9kZUlkXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgbm9kZVBvc2l0aW9uID0geyB4OiB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXS54LCB5OiB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXS55IH07CiAgICAgICAgICBvcHRpb25zLnBvc2l0aW9uID0gbm9kZVBvc2l0aW9uOwogICAgICAgICAgb3B0aW9ucy5sb2NrZWRPbk5vZGUgPSBub2RlSWQ7CgogICAgICAgICAgdGhpcy5tb3ZlVG8ob3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJOb2RlOiAiICsgbm9kZUlkICsgIiBjYW5ub3QgYmUgZm91bmQuIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIm1vdmVUbyIsCgogICAgICAvKioKICAgICAgICoKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgIHwgIG9wdGlvbnMub2Zmc2V0ICAgPSB7eDpOdW1iZXIsIHk6TnVtYmVyfSAgIC8vIG9mZnNldCBmcm9tIHRoZSBjZW50ZXIgaW4gRE9NIHBpeGVscwogICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgb3B0aW9ucy5zY2FsZSAgICA9IE51bWJlciAgICAgICAgICAgICAgICAgLy8gc2NhbGUgdG8gbW92ZSB0bwogICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgb3B0aW9ucy5wb3NpdGlvbiA9IHt4Ok51bWJlciwgeTpOdW1iZXJ9ICAgLy8gcG9zaXRpb24gdG8gbW92ZSB0bwogICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgb3B0aW9ucy5hbmltYXRpb24gPSB7ZHVyYXRpb246TnVtYmVyLCBlYXNpbmdGdW5jdGlvbjpTdHJpbmd9IHx8IEJvb2xlYW4gICAvLyBwb3NpdGlvbiB0byBtb3ZlIHRvCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZVRvKG9wdGlvbnMpIHsKICAgICAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zID0ge307CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLm9mZnNldCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLm9mZnNldCA9IHsgeDogMCwgeTogMCB9OwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy5vZmZzZXQueCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLm9mZnNldC54ID0gMDsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMub2Zmc2V0LnkgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgb3B0aW9ucy5vZmZzZXQueSA9IDA7CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLnNjYWxlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG9wdGlvbnMuc2NhbGUgPSB0aGlzLmJvZHkudmlldy5zY2FsZTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgb3B0aW9ucy5wb3NpdGlvbiA9IHRoaXMuZ2V0Vmlld1Bvc2l0aW9uKCk7CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBvcHRpb25zLmFuaW1hdGlvbiA9IHsgZHVyYXRpb246IDAgfTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uID09PSBmYWxzZSkgewogICAgICAgICAgb3B0aW9ucy5hbmltYXRpb24gPSB7IGR1cmF0aW9uOiAwIH07CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbiA9PT0gdHJ1ZSkgewogICAgICAgICAgb3B0aW9ucy5hbmltYXRpb24gPSB7fTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uLmR1cmF0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG9wdGlvbnMuYW5pbWF0aW9uLmR1cmF0aW9uID0gMTAwMDsKICAgICAgICB9IC8vIGRlZmF1bHQgZHVyYXRpb24KICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24uZWFzaW5nRnVuY3Rpb24gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgb3B0aW9ucy5hbmltYXRpb24uZWFzaW5nRnVuY3Rpb24gPSAiZWFzZUluT3V0UXVhZCI7CiAgICAgICAgfSAvLyBkZWZhdWx0IGVhc2luZyBmdW5jdGlvbgoKICAgICAgICB0aGlzLmFuaW1hdGVWaWV3KG9wdGlvbnMpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImFuaW1hdGVWaWV3IiwKCiAgICAgIC8qKgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgfCAgb3B0aW9ucy5vZmZzZXQgICA9IHt4Ok51bWJlciwgeTpOdW1iZXJ9ICAgLy8gb2Zmc2V0IGZyb20gdGhlIGNlbnRlciBpbiBET00gcGl4ZWxzCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICBvcHRpb25zLnRpbWUgICAgID0gTnVtYmVyICAgICAgICAgICAgICAgICAvLyBhbmltYXRpb24gdGltZSBpbiBtaWxsaXNlY29uZHMKICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgIG9wdGlvbnMuc2NhbGUgICAgPSBOdW1iZXIgICAgICAgICAgICAgICAgIC8vIHNjYWxlIHRvIGFuaW1hdGUgdG8KICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgIG9wdGlvbnMucG9zaXRpb24gPSB7eDpOdW1iZXIsIHk6TnVtYmVyfSAgIC8vIHBvc2l0aW9uIHRvIGFuaW1hdGUgdG8KICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgIG9wdGlvbnMuZWFzaW5nRnVuY3Rpb24gPSBTdHJpbmcgICAgICAgICAgIC8vIGxpbmVhciwgZWFzZUluUXVhZCwgZWFzZU91dFF1YWQsIGVhc2VJbk91dFF1YWQsCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXNlSW5DdWJpYywgZWFzZU91dEN1YmljLCBlYXNlSW5PdXRDdWJpYywKICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVhc2VJblF1YXJ0LCBlYXNlT3V0UXVhcnQsIGVhc2VJbk91dFF1YXJ0LAogICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWFzZUluUXVpbnQsIGVhc2VPdXRRdWludCwgZWFzZUluT3V0UXVpbnQKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhbmltYXRlVmlldyhvcHRpb25zKSB7CiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmFuaW1hdGlvbkVhc2luZ0Z1bmN0aW9uID0gb3B0aW9ucy5hbmltYXRpb24uZWFzaW5nRnVuY3Rpb247CiAgICAgICAgLy8gcmVsZWFzZSBpZiBzb21ldGhpbmcgZm9jdXNzZWQgb24gdGhlIG5vZGUKICAgICAgICB0aGlzLnJlbGVhc2VOb2RlKCk7CiAgICAgICAgaWYgKG9wdGlvbnMubG9ja2VkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmxvY2tlZE9uTm9kZUlkID0gb3B0aW9ucy5sb2NrZWRPbk5vZGU7CiAgICAgICAgICB0aGlzLmxvY2tlZE9uTm9kZU9mZnNldCA9IG9wdGlvbnMub2Zmc2V0OwogICAgICAgIH0KCiAgICAgICAgLy8gZm9yY2VmdWxseSBjb21wbGV0ZSB0aGUgb2xkIGFuaW1hdGlvbiBpZiBpdCB3YXMgc3RpbGwgcnVubmluZwogICAgICAgIGlmICh0aGlzLmVhc2luZ1RpbWUgIT0gMCkgewogICAgICAgICAgdGhpcy5fdHJhbnNpdGlvblJlZHJhdyh0cnVlKTsgLy8gYnkgc2V0dGluZyBlYXNpbmd0aW1lIHRvIDEsIHdlIGZpbmlzaCB0aGUgYW5pbWF0aW9uLgogICAgICAgIH0KCiAgICAgICAgdGhpcy5zb3VyY2VTY2FsZSA9IHRoaXMuYm9keS52aWV3LnNjYWxlOwogICAgICAgIHRoaXMuc291cmNlVHJhbnNsYXRpb24gPSB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbjsKICAgICAgICB0aGlzLnRhcmdldFNjYWxlID0gb3B0aW9ucy5zY2FsZTsKCiAgICAgICAgLy8gc2V0IHRoZSBzY2FsZSBzbyB0aGUgdmlld0NlbnRlciBpcyBiYXNlZCBvbiB0aGUgY29ycmVjdCB6b29tIGxldmVsLiBUaGlzIGlzIG92ZXJyaWRkZW4gaW4gdGhlIHRyYW5zaXRpb25SZWRyYXcKICAgICAgICAvLyBidXQgYXQgbGVhc3QgdGhlbiB3ZSdsbCBoYXZlIHRoZSB0YXJnZXQgdHJhbnNpdGlvbgogICAgICAgIHRoaXMuYm9keS52aWV3LnNjYWxlID0gdGhpcy50YXJnZXRTY2FsZTsKICAgICAgICB2YXIgdmlld0NlbnRlciA9IHRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHsgeDogMC41ICogdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLCB5OiAwLjUgKiB0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0IH0pOwoKICAgICAgICB2YXIgZGlzdGFuY2VGcm9tQ2VudGVyID0geyAvLyBvZmZzZXQgZnJvbSB2aWV3LCBkaXN0YW5jZSB2aWV3IGhhcyB0byBjaGFuZ2UgYnkgdGhlc2UgeCBhbmQgeSB0byBjZW50ZXIgdGhlIG5vZGUKICAgICAgICAgIHg6IHZpZXdDZW50ZXIueCAtIG9wdGlvbnMucG9zaXRpb24ueCwKICAgICAgICAgIHk6IHZpZXdDZW50ZXIueSAtIG9wdGlvbnMucG9zaXRpb24ueQogICAgICAgIH07CiAgICAgICAgdGhpcy50YXJnZXRUcmFuc2xhdGlvbiA9IHsKICAgICAgICAgIHg6IHRoaXMuc291cmNlVHJhbnNsYXRpb24ueCArIGRpc3RhbmNlRnJvbUNlbnRlci54ICogdGhpcy50YXJnZXRTY2FsZSArIG9wdGlvbnMub2Zmc2V0LngsCiAgICAgICAgICB5OiB0aGlzLnNvdXJjZVRyYW5zbGF0aW9uLnkgKyBkaXN0YW5jZUZyb21DZW50ZXIueSAqIHRoaXMudGFyZ2V0U2NhbGUgKyBvcHRpb25zLm9mZnNldC55CiAgICAgICAgfTsKCiAgICAgICAgLy8gaWYgdGhlIHRpbWUgaXMgc2V0IHRvIDAsIGRvbid0IGRvIGFuIGFuaW1hdGlvbgogICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbi5kdXJhdGlvbiA9PT0gMCkgewogICAgICAgICAgaWYgKHRoaXMubG9ja2VkT25Ob2RlSWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMudmlld0Z1bmN0aW9uID0gdGhpcy5fbG9ja2VkUmVkcmF3LmJpbmQodGhpcyk7CiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCJpbml0UmVkcmF3IiwgdGhpcy52aWV3RnVuY3Rpb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5ib2R5LnZpZXcuc2NhbGUgPSB0aGlzLnRhcmdldFNjYWxlOwogICAgICAgICAgICB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiA9IHRoaXMudGFyZ2V0VHJhbnNsYXRpb247CiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoIl9yZXF1ZXN0UmVkcmF3Iik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3BlZWQgPSAxIC8gKDYwICogb3B0aW9ucy5hbmltYXRpb24uZHVyYXRpb24gKiAwLjAwMSkgfHwgMSAvIDYwOyAvLyA2MCBmb3IgNjAgc2Vjb25kcywgMC4wMDEgZm9yIG1pbGxpJ3MKICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb24gPSBvcHRpb25zLmFuaW1hdGlvbi5lYXNpbmdGdW5jdGlvbjsKCiAgICAgICAgICB0aGlzLnZpZXdGdW5jdGlvbiA9IHRoaXMuX3RyYW5zaXRpb25SZWRyYXcuYmluZCh0aGlzKTsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCJpbml0UmVkcmF3IiwgdGhpcy52aWV3RnVuY3Rpb24pOwogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgiX3N0YXJ0UmVuZGVyaW5nIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9sb2NrZWRSZWRyYXciLAoKICAgICAgLyoqCiAgICAgICAqIHVzZWQgdG8gYW5pbWF0ZSBzbW9vdGhseSBieSBoaWphY2tpbmcgdGhlIHJlZHJhdyBmdW5jdGlvbi4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9ja2VkUmVkcmF3KCkgewogICAgICAgIHZhciBub2RlUG9zaXRpb24gPSB7IHg6IHRoaXMuYm9keS5ub2Rlc1t0aGlzLmxvY2tlZE9uTm9kZUlkXS54LCB5OiB0aGlzLmJvZHkubm9kZXNbdGhpcy5sb2NrZWRPbk5vZGVJZF0ueSB9OwogICAgICAgIHZhciB2aWV3Q2VudGVyID0gdGhpcy5ET010b0NhbnZhcyh7IHg6IDAuNSAqIHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLCB5OiAwLjUgKiB0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQgfSk7CiAgICAgICAgdmFyIGRpc3RhbmNlRnJvbUNlbnRlciA9IHsgLy8gb2Zmc2V0IGZyb20gdmlldywgZGlzdGFuY2UgdmlldyBoYXMgdG8gY2hhbmdlIGJ5IHRoZXNlIHggYW5kIHkgdG8gY2VudGVyIHRoZSBub2RlCiAgICAgICAgICB4OiB2aWV3Q2VudGVyLnggLSBub2RlUG9zaXRpb24ueCwKICAgICAgICAgIHk6IHZpZXdDZW50ZXIueSAtIG5vZGVQb3NpdGlvbi55CiAgICAgICAgfTsKICAgICAgICB2YXIgc291cmNlVHJhbnNsYXRpb24gPSB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbjsKICAgICAgICB2YXIgdGFyZ2V0VHJhbnNsYXRpb24gPSB7CiAgICAgICAgICB4OiBzb3VyY2VUcmFuc2xhdGlvbi54ICsgZGlzdGFuY2VGcm9tQ2VudGVyLnggKiB0aGlzLmJvZHkudmlldy5zY2FsZSArIHRoaXMubG9ja2VkT25Ob2RlT2Zmc2V0LngsCiAgICAgICAgICB5OiBzb3VyY2VUcmFuc2xhdGlvbi55ICsgZGlzdGFuY2VGcm9tQ2VudGVyLnkgKiB0aGlzLmJvZHkudmlldy5zY2FsZSArIHRoaXMubG9ja2VkT25Ob2RlT2Zmc2V0LnkKICAgICAgICB9OwoKICAgICAgICB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiA9IHRhcmdldFRyYW5zbGF0aW9uOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInJlbGVhc2VOb2RlIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbGVhc2VOb2RlKCkgewogICAgICAgIGlmICh0aGlzLmxvY2tlZE9uTm9kZUlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy52aWV3RnVuY3Rpb24gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub2ZmKCJpbml0UmVkcmF3IiwgdGhpcy52aWV3RnVuY3Rpb24pOwogICAgICAgICAgdGhpcy5sb2NrZWRPbk5vZGVJZCA9IHVuZGVmaW5lZDsKICAgICAgICAgIHRoaXMubG9ja2VkT25Ob2RlT2Zmc2V0ID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfdHJhbnNpdGlvblJlZHJhdyIsCgogICAgICAvKioKICAgICAgICoKICAgICAgICogQHBhcmFtIGVhc2luZ1RpbWUKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJhbnNpdGlvblJlZHJhdygpIHsKICAgICAgICB2YXIgZmluaXNoZWQgPSBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzBdOwoKICAgICAgICB0aGlzLmVhc2luZ1RpbWUgKz0gdGhpcy5hbmltYXRpb25TcGVlZDsKICAgICAgICB0aGlzLmVhc2luZ1RpbWUgPSBmaW5pc2hlZCA9PT0gdHJ1ZSA/IDEgOiB0aGlzLmVhc2luZ1RpbWU7CgogICAgICAgIHZhciBwcm9ncmVzcyA9IHV0aWwuZWFzaW5nRnVuY3Rpb25zW3RoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb25dKHRoaXMuZWFzaW5nVGltZSk7CgogICAgICAgIHRoaXMuYm9keS52aWV3LnNjYWxlID0gdGhpcy5zb3VyY2VTY2FsZSArICh0aGlzLnRhcmdldFNjYWxlIC0gdGhpcy5zb3VyY2VTY2FsZSkgKiBwcm9ncmVzczsKICAgICAgICB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiA9IHsKICAgICAgICAgIHg6IHRoaXMuc291cmNlVHJhbnNsYXRpb24ueCArICh0aGlzLnRhcmdldFRyYW5zbGF0aW9uLnggLSB0aGlzLnNvdXJjZVRyYW5zbGF0aW9uLngpICogcHJvZ3Jlc3MsCiAgICAgICAgICB5OiB0aGlzLnNvdXJjZVRyYW5zbGF0aW9uLnkgKyAodGhpcy50YXJnZXRUcmFuc2xhdGlvbi55IC0gdGhpcy5zb3VyY2VUcmFuc2xhdGlvbi55KSAqIHByb2dyZXNzCiAgICAgICAgfTsKCiAgICAgICAgLy8gY2xlYW51cAogICAgICAgIGlmICh0aGlzLmVhc2luZ1RpbWUgPj0gMSkgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub2ZmKCJpbml0UmVkcmF3IiwgdGhpcy52aWV3RnVuY3Rpb24pOwogICAgICAgICAgdGhpcy5lYXNpbmdUaW1lID0gMDsKICAgICAgICAgIGlmICh0aGlzLmxvY2tlZE9uTm9kZUlkICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLnZpZXdGdW5jdGlvbiA9IHRoaXMuX2xvY2tlZFJlZHJhdy5iaW5kKHRoaXMpOwogICAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigiaW5pdFJlZHJhdyIsIHRoaXMudmlld0Z1bmN0aW9uKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoImFuaW1hdGlvbkZpbmlzaGVkIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImdldFNjYWxlIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjYWxlKCkgewogICAgICAgIHJldHVybiB0aGlzLmJvZHkudmlldy5zY2FsZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRWaWV3UG9zaXRpb24iLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Vmlld1Bvc2l0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5ET010b0NhbnZhcyh7IHg6IDAuNSAqIHRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCwgeTogMC41ICogdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCB9KTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBWaWV3OwogIH0pKCk7CgogIGV4cG9ydHNbImRlZmF1bHQiXSA9IFZpZXc7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CgovKioqLyB9LAovKiAxMDIgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgdmFyIF9jb21wb25lbnRzTmF2aWdhdGlvbkhhbmRsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyk7CgogIHZhciBfY29tcG9uZW50c05hdmlnYXRpb25IYW5kbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudHNOYXZpZ2F0aW9uSGFuZGxlcik7CgogIHZhciBfY29tcG9uZW50c1BvcHVwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDQpOwoKICB2YXIgX2NvbXBvbmVudHNQb3B1cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb25lbnRzUG9wdXApOwoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogIHZhciBJbnRlcmFjdGlvbkhhbmRsZXIgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25IYW5kbGVyKGJvZHksIGNhbnZhcywgc2VsZWN0aW9uSGFuZGxlcikgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25IYW5kbGVyKTsKCiAgICAgIHRoaXMuYm9keSA9IGJvZHk7CiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzOwogICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBzZWxlY3Rpb25IYW5kbGVyOwogICAgICB0aGlzLm5hdmlnYXRpb25IYW5kbGVyID0gbmV3IF9jb21wb25lbnRzTmF2aWdhdGlvbkhhbmRsZXIyWydkZWZhdWx0J10oYm9keSwgY2FudmFzKTsKCiAgICAgIC8vIGJpbmQgdGhlIGV2ZW50cyBmcm9tIGhhbW1lciB0byBmdW5jdGlvbnMgaW4gdGhpcyBvYmplY3QKICAgICAgdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uVGFwID0gdGhpcy5vblRhcC5iaW5kKHRoaXMpOwogICAgICB0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Ub3VjaCA9IHRoaXMub25Ub3VjaC5iaW5kKHRoaXMpOwogICAgICB0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Eb3VibGVUYXAgPSB0aGlzLm9uRG91YmxlVGFwLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkhvbGQgPSB0aGlzLm9uSG9sZC5iaW5kKHRoaXMpOwogICAgICB0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnU3RhcnQgPSB0aGlzLm9uRHJhZ1N0YXJ0LmJpbmQodGhpcyk7CiAgICAgIHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkRyYWcgPSB0aGlzLm9uRHJhZy5iaW5kKHRoaXMpOwogICAgICB0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnRW5kID0gdGhpcy5vbkRyYWdFbmQuYmluZCh0aGlzKTsKICAgICAgdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uTW91c2VXaGVlbCA9IHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vblBpbmNoID0gdGhpcy5vblBpbmNoLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKTsKICAgICAgdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uUmVsZWFzZSA9IHRoaXMub25SZWxlYXNlLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkNvbnRleHQgPSB0aGlzLm9uQ29udGV4dC5iaW5kKHRoaXMpOwoKICAgICAgdGhpcy50b3VjaFRpbWUgPSAwOwogICAgICB0aGlzLmRyYWcgPSB7fTsKICAgICAgdGhpcy5waW5jaCA9IHt9OwogICAgICB0aGlzLnBvcHVwID0gdW5kZWZpbmVkOwogICAgICB0aGlzLnBvcHVwT2JqID0gdW5kZWZpbmVkOwogICAgICB0aGlzLnBvcHVwVGltZXIgPSB1bmRlZmluZWQ7CgogICAgICB0aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIuYmluZCh0aGlzKTsKCiAgICAgIHRoaXMub3B0aW9ucyA9IHt9OwogICAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gewogICAgICAgIGRyYWdOb2RlczogdHJ1ZSwKICAgICAgICBkcmFnVmlldzogdHJ1ZSwKICAgICAgICBob3ZlcjogZmFsc2UsCiAgICAgICAga2V5Ym9hcmQ6IHsKICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLAogICAgICAgICAgc3BlZWQ6IHsgeDogMTAsIHk6IDEwLCB6b29tOiAwLjAyIH0sCiAgICAgICAgICBiaW5kVG9XaW5kb3c6IHRydWUKICAgICAgICB9LAogICAgICAgIG5hdmlnYXRpb25CdXR0b25zOiBmYWxzZSwKICAgICAgICB0b29sdGlwRGVsYXk6IDMwMCwKICAgICAgICB6b29tVmlldzogdHJ1ZQogICAgICB9OwogICAgICB1dGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsIHRoaXMuZGVmYXVsdE9wdGlvbnMpOwoKICAgICAgdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25IYW5kbGVyLCBbewogICAgICBrZXk6ICdiaW5kRXZlbnRMaXN0ZW5lcnMnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50TGlzdGVuZXJzKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnBvcHVwVGltZXIpOwogICAgICAgICAgZGVsZXRlIF90aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXI7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyBleHRlbmQgYWxsIGJ1dCB0aGUgdmFsdWVzIGluIGZpZWxkcwogICAgICAgICAgdmFyIGZpZWxkcyA9IFsnaGlkZUVkZ2VzT25EcmFnJywgJ2hpZGVOb2Rlc09uRHJhZycsICdrZXlib2FyZCcsICdtdWx0aXNlbGVjdCcsICdzZWxlY3RhYmxlJywgJ3NlbGVjdENvbm5lY3RlZEVkZ2VzJ107CiAgICAgICAgICB1dGlsLnNlbGVjdGl2ZU5vdERlZXBFeHRlbmQoZmllbGRzLCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOwoKICAgICAgICAgIC8vIG1lcmdlIHRoZSBrZXlib2FyZCBvcHRpb25zIGluLgogICAgICAgICAgdXRpbC5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBvcHRpb25zLCAna2V5Ym9hcmQnKTsKCiAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwKSB7CiAgICAgICAgICAgIHV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucy50b29sdGlwLCBvcHRpb25zLnRvb2x0aXApOwogICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwLmNvbG9yKSB7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRvb2x0aXAuY29sb3IgPSB1dGlsLnBhcnNlQ29sb3Iob3B0aW9ucy50b29sdGlwLmNvbG9yKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uSGFuZGxlci5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZ2V0UG9pbnRlcicsCgogICAgICAvKioKICAgICAgICogR2V0IHRoZSBwb2ludGVyIGxvY2F0aW9uIGZyb20gYSB0b3VjaCBsb2NhdGlvbgogICAgICAgKiBAcGFyYW0ge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IHRvdWNoCiAgICAgICAqIEByZXR1cm4ge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IHBvaW50ZXIKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2ludGVyKHRvdWNoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHg6IHRvdWNoLnggLSB1dGlsLmdldEFic29sdXRlTGVmdCh0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMpLAogICAgICAgICAgeTogdG91Y2gueSAtIHV0aWwuZ2V0QWJzb2x1dGVUb3AodGhpcy5jYW52YXMuZnJhbWUuY2FudmFzKQogICAgICAgIH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnb25Ub3VjaCcsCgogICAgICAvKioKICAgICAgICogT24gc3RhcnQgb2YgYSB0b3VjaCBnZXN0dXJlLCBzdG9yZSB0aGUgcG9pbnRlcgogICAgICAgKiBAcGFyYW0gZXZlbnQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblRvdWNoKGV2ZW50KSB7CiAgICAgICAgaWYgKG5ldyBEYXRlKCkudmFsdWVPZigpIC0gdGhpcy50b3VjaFRpbWUgPiA1MCkgewogICAgICAgICAgdGhpcy5kcmFnLnBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKTsKICAgICAgICAgIHRoaXMuZHJhZy5waW5jaGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnBpbmNoLnNjYWxlID0gdGhpcy5ib2R5LnZpZXcuc2NhbGU7CiAgICAgICAgICAvLyB0byBhdm9pZCBkb3VibGUgZmlyZWluZyBvZiB0aGlzIGV2ZW50IGJlY2F1c2Ugd2UgaGF2ZSB0d28gaGFtbWVyIGluc3RhbmNlcy4gKG9uIGNhbnZhcyBhbmQgb24gZnJhbWUpCiAgICAgICAgICB0aGlzLnRvdWNoVGltZSA9IG5ldyBEYXRlKCkudmFsdWVPZigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdvblRhcCcsCgogICAgICAvKioKICAgICAgICogaGFuZGxlIHRhcC9jbGljayBldmVudDogc2VsZWN0L3Vuc2VsZWN0IGEgbm9kZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uVGFwKGV2ZW50KSB7CiAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKTsKICAgICAgICB2YXIgbXVsdGlzZWxlY3QgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIub3B0aW9ucy5tdWx0aXNlbGVjdCAmJiAoZXZlbnQuY2hhbmdlZFBvaW50ZXJzWzBdLmN0cmxLZXkgfHwgZXZlbnQuY2hhbmdlZFBvaW50ZXJzWzBdLm1ldGFLZXkpOwoKICAgICAgICB0aGlzLmNoZWNrU2VsZWN0aW9uQ2hhbmdlcyhwb2ludGVyLCBldmVudCwgbXVsdGlzZWxlY3QpOwogICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdjbGljaycsIGV2ZW50LCBwb2ludGVyKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdvbkRvdWJsZVRhcCcsCgogICAgICAvKioKICAgICAgICogaGFuZGxlIGRvdWJsZXRhcCBldmVudAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRG91YmxlVGFwKGV2ZW50KSB7CiAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKTsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnZG91YmxlQ2xpY2snLCBldmVudCwgcG9pbnRlcik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnb25Ib2xkJywKCiAgICAgIC8qKgogICAgICAgKiBoYW5kbGUgbG9uZyB0YXAgZXZlbnQ6IG11bHRpIHNlbGVjdCBub2RlcwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSG9sZChldmVudCkgewogICAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGV2ZW50LmNlbnRlcik7CiAgICAgICAgdmFyIG11bHRpc2VsZWN0ID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLm9wdGlvbnMubXVsdGlzZWxlY3Q7CgogICAgICAgIHRoaXMuY2hlY2tTZWxlY3Rpb25DaGFuZ2VzKHBvaW50ZXIsIGV2ZW50LCBtdWx0aXNlbGVjdCk7CgogICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdjbGljaycsIGV2ZW50LCBwb2ludGVyKTsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnaG9sZCcsIGV2ZW50LCBwb2ludGVyKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdvblJlbGVhc2UnLAoKICAgICAgLyoqCiAgICAgICAqIGhhbmRsZSB0aGUgcmVsZWFzZSBvZiB0aGUgc2NyZWVuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gb25SZWxlYXNlKGV2ZW50KSB7CiAgICAgICAgaWYgKG5ldyBEYXRlKCkudmFsdWVPZigpIC0gdGhpcy50b3VjaFRpbWUgPiAxMCkgewogICAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKTsKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdyZWxlYXNlJywgZXZlbnQsIHBvaW50ZXIpOwogICAgICAgICAgLy8gdG8gYXZvaWQgZG91YmxlIGZpcmVpbmcgb2YgdGhpcyBldmVudCBiZWNhdXNlIHdlIGhhdmUgdHdvIGhhbW1lciBpbnN0YW5jZXMuIChvbiBjYW52YXMgYW5kIG9uIGZyYW1lKQogICAgICAgICAgdGhpcy50b3VjaFRpbWUgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnb25Db250ZXh0JywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29udGV4dChldmVudCkgewogICAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9KTsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnb25jb250ZXh0JywgZXZlbnQsIHBvaW50ZXIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2NoZWNrU2VsZWN0aW9uQ2hhbmdlcycsCgogICAgICAvKioKICAgICAgICoKICAgICAgICogQHBhcmFtIHBvaW50ZXIKICAgICAgICogQHBhcmFtIGFkZAogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrU2VsZWN0aW9uQ2hhbmdlcyhwb2ludGVyLCBldmVudCkgewogICAgICAgIHZhciBhZGQgPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzJdOwoKICAgICAgICB2YXIgcHJldmlvdXNseVNlbGVjdGVkRWRnZUNvdW50ID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZXRTZWxlY3RlZEVkZ2VDb3VudCgpOwogICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWROb2RlQ291bnQgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dldFNlbGVjdGVkTm9kZUNvdW50KCk7CiAgICAgICAgdmFyIHByZXZpb3VzU2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGlvbigpOwogICAgICAgIHZhciBzZWxlY3RlZCA9IHVuZGVmaW5lZDsKICAgICAgICBpZiAoYWRkID09PSB0cnVlKSB7CiAgICAgICAgICBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3RBZGRpdGlvbmFsT25Qb2ludChwb2ludGVyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuc2VsZWN0T25Qb2ludChwb2ludGVyKTsKICAgICAgICB9CiAgICAgICAgdmFyIHNlbGVjdGVkRWRnZXNDb3VudCA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0U2VsZWN0ZWRFZGdlQ291bnQoKTsKICAgICAgICB2YXIgc2VsZWN0ZWROb2Rlc0NvdW50ID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZXRTZWxlY3RlZE5vZGVDb3VudCgpOwogICAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGlvbigpOwoKICAgICAgICB2YXIgX2RldGVybWluZUlmRGlmZmVyZW50MiA9IHRoaXMuX2RldGVybWluZUlmRGlmZmVyZW50KHByZXZpb3VzU2VsZWN0aW9uLCBjdXJyZW50U2VsZWN0aW9uKTsKCiAgICAgICAgdmFyIG5vZGVzQ2hhbmdlcyA9IF9kZXRlcm1pbmVJZkRpZmZlcmVudDIubm9kZXNDaGFuZ2VzOwogICAgICAgIHZhciBlZGdlc0NoYW5nZXMgPSBfZGV0ZXJtaW5lSWZEaWZmZXJlbnQyLmVkZ2VzQ2hhbmdlczsKCiAgICAgICAgaWYgKHNlbGVjdGVkTm9kZXNDb3VudCAtIHByZXZpb3VzbHlTZWxlY3RlZE5vZGVDb3VudCA+IDApIHsKICAgICAgICAgIC8vIG5vZGUgd2FzIHNlbGVjdGVkCiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnc2VsZWN0Tm9kZScsIGV2ZW50LCBwb2ludGVyKTsKICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkTm9kZXNDb3VudCAtIHByZXZpb3VzbHlTZWxlY3RlZE5vZGVDb3VudCA8IDApIHsKICAgICAgICAgIC8vIG5vZGUgd2FzIGRlc2VsZWN0ZWQKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdkZXNlbGVjdE5vZGUnLCBldmVudCwgcG9pbnRlciwgcHJldmlvdXNTZWxlY3Rpb24pOwogICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWROb2Rlc0NvdW50ID09PSBwcmV2aW91c2x5U2VsZWN0ZWROb2RlQ291bnQgJiYgbm9kZXNDaGFuZ2VzID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnZGVzZWxlY3ROb2RlJywgZXZlbnQsIHBvaW50ZXIsIHByZXZpb3VzU2VsZWN0aW9uKTsKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdzZWxlY3ROb2RlJywgZXZlbnQsIHBvaW50ZXIpOwogICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNlbGVjdGVkRWRnZXNDb3VudCAtIHByZXZpb3VzbHlTZWxlY3RlZEVkZ2VDb3VudCA+IDApIHsKICAgICAgICAgIC8vIGVkZ2Ugd2FzIHNlbGVjdGVkCiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnc2VsZWN0RWRnZScsIGV2ZW50LCBwb2ludGVyKTsKICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkRWRnZXNDb3VudCAtIHByZXZpb3VzbHlTZWxlY3RlZEVkZ2VDb3VudCA8IDApIHsKICAgICAgICAgIC8vIGVkZ2Ugd2FzIGRlc2VsZWN0ZWQKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdkZXNlbGVjdEVkZ2UnLCBldmVudCwgcG9pbnRlciwgcHJldmlvdXNTZWxlY3Rpb24pOwogICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRFZGdlc0NvdW50ID09PSBwcmV2aW91c2x5U2VsZWN0ZWRFZGdlQ291bnQgJiYgZWRnZXNDaGFuZ2VzID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnZGVzZWxlY3RFZGdlJywgZXZlbnQsIHBvaW50ZXIsIHByZXZpb3VzU2VsZWN0aW9uKTsKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdzZWxlY3RFZGdlJywgZXZlbnQsIHBvaW50ZXIpOwogICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNlbGVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICAvLyBzZWxlY3Qgb3IgdW5zZWxlY3QKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdzZWxlY3QnLCBldmVudCwgcG9pbnRlcik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19kZXRlcm1pbmVJZkRpZmZlcmVudCcsCgogICAgICAvKioKICAgICAgICogVGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgdGhlIG5vZGVzIGFuZCBlZGdlcyBwcmV2aW91c2x5IHNlbGVjdGVkIGhhdmUgY2hhbmdlZC4KICAgICAgICogQHBhcmFtIHByZXZpb3VzU2VsZWN0aW9uCiAgICAgICAqIEBwYXJhbSBjdXJyZW50U2VsZWN0aW9uCiAgICAgICAqIEByZXR1cm5zIHt7bm9kZXNDaGFuZ2VzOiBib29sZWFuLCBlZGdlc0NoYW5nZXM6IGJvb2xlYW59fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZXRlcm1pbmVJZkRpZmZlcmVudChwcmV2aW91c1NlbGVjdGlvbiwgY3VycmVudFNlbGVjdGlvbikgewogICAgICAgIHZhciBub2Rlc0NoYW5nZXMgPSBmYWxzZTsKICAgICAgICB2YXIgZWRnZXNDaGFuZ2VzID0gZmFsc2U7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJldmlvdXNTZWxlY3Rpb24ubm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uLm5vZGVzLmluZGV4T2YocHJldmlvdXNTZWxlY3Rpb24ubm9kZXNbaV0pID09PSAtMSkgewogICAgICAgICAgICBub2Rlc0NoYW5nZXMgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnRTZWxlY3Rpb24ubm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChwcmV2aW91c1NlbGVjdGlvbi5ub2Rlcy5pbmRleE9mKHByZXZpb3VzU2VsZWN0aW9uLm5vZGVzW2ldKSA9PT0gLTEpIHsKICAgICAgICAgICAgbm9kZXNDaGFuZ2VzID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmV2aW91c1NlbGVjdGlvbi5lZGdlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKGN1cnJlbnRTZWxlY3Rpb24uZWRnZXMuaW5kZXhPZihwcmV2aW91c1NlbGVjdGlvbi5lZGdlc1tpXSkgPT09IC0xKSB7CiAgICAgICAgICAgIGVkZ2VzQ2hhbmdlcyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudFNlbGVjdGlvbi5lZGdlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHByZXZpb3VzU2VsZWN0aW9uLmVkZ2VzLmluZGV4T2YocHJldmlvdXNTZWxlY3Rpb24uZWRnZXNbaV0pID09PSAtMSkgewogICAgICAgICAgICBlZGdlc0NoYW5nZXMgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsgbm9kZXNDaGFuZ2VzOiBub2Rlc0NoYW5nZXMsIGVkZ2VzQ2hhbmdlczogZWRnZXNDaGFuZ2VzIH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnb25EcmFnU3RhcnQnLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IG9uRHJhZ1N0YXJ0LgogICAgICAgKiBJdCBpcyBzZXBhcmF0ZWQgb3V0IGJlY2F1c2Ugd2UgY2FuIHRoZW4gb3ZlcmxvYWQgaXQgZm9yIHRoZSBkYXRhbWFuaXB1bGF0aW9uIHN5c3RlbS4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyYWdTdGFydChldmVudCkgewogICAgICAgIC8vaW4gY2FzZSB0aGUgdG91Y2ggZXZlbnQgd2FzIHRyaWdnZXJlZCBvbiBhbiBleHRlcm5hbCBkaXYsIGRvIHRoZSBpbml0aWFsIHRvdWNoIG5vdy4KICAgICAgICBpZiAodGhpcy5kcmFnLnBvaW50ZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5vblRvdWNoKGV2ZW50KTsKICAgICAgICB9CgogICAgICAgIC8vIG5vdGU6IGRyYWcucG9pbnRlciBpcyBzZXQgaW4gb25Ub3VjaCB0byBnZXQgdGhlIGluaXRpYWwgdG91Y2ggbG9jYXRpb24KICAgICAgICB2YXIgbm9kZSA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodGhpcy5kcmFnLnBvaW50ZXIpOwoKICAgICAgICB0aGlzLmRyYWcuZHJhZ2dpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuZHJhZy5zZWxlY3Rpb24gPSBbXTsKICAgICAgICB0aGlzLmRyYWcudHJhbnNsYXRpb24gPSB1dGlsLmV4dGVuZCh7fSwgdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24pOyAvLyBjb3B5IHRoZSBvYmplY3QKICAgICAgICB0aGlzLmRyYWcubm9kZUlkID0gdW5kZWZpbmVkOwoKICAgICAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9ucy5kcmFnTm9kZXMgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuZHJhZy5ub2RlSWQgPSBub2RlLmlkOwogICAgICAgICAgLy8gc2VsZWN0IHRoZSBjbGlja2VkIG5vZGUgaWYgbm90IHlldCBzZWxlY3RlZAogICAgICAgICAgaWYgKG5vZGUuaXNTZWxlY3RlZCgpID09PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKTsKICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdE9iamVjdChub2RlKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBhZnRlciBzZWxlY3QgdG8gY29udGFpbiB0aGUgbm9kZQogICAgICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoJ2RyYWdTdGFydCcsIGV2ZW50LCB0aGlzLmRyYWcucG9pbnRlcik7CgogICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3Rpb25PYmoubm9kZXM7CiAgICAgICAgICAvLyBjcmVhdGUgYW4gYXJyYXkgd2l0aCB0aGUgc2VsZWN0ZWQgbm9kZXMgYW5kIHRoZWlyIG9yaWdpbmFsIGxvY2F0aW9uIGFuZCBzdGF0dXMKICAgICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiBzZWxlY3Rpb24pIHsKICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHNlbGVjdGlvbltub2RlSWRdOwogICAgICAgICAgICAgIHZhciBzID0gewogICAgICAgICAgICAgICAgaWQ6IG9iamVjdC5pZCwKICAgICAgICAgICAgICAgIG5vZGU6IG9iamVjdCwKCiAgICAgICAgICAgICAgICAvLyBzdG9yZSBvcmlnaW5hbCB4LCB5LCB4Rml4ZWQgYW5kIHlGaXhlZCwgbWFrZSB0aGUgbm9kZSB0ZW1wb3JhcmlseSBGaXhlZAogICAgICAgICAgICAgICAgeDogb2JqZWN0LngsCiAgICAgICAgICAgICAgICB5OiBvYmplY3QueSwKICAgICAgICAgICAgICAgIHhGaXhlZDogb2JqZWN0Lm9wdGlvbnMuZml4ZWQueCwKICAgICAgICAgICAgICAgIHlGaXhlZDogb2JqZWN0Lm9wdGlvbnMuZml4ZWQueQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIG9iamVjdC5vcHRpb25zLmZpeGVkLnggPSB0cnVlOwogICAgICAgICAgICAgIG9iamVjdC5vcHRpb25zLmZpeGVkLnkgPSB0cnVlOwoKICAgICAgICAgICAgICB0aGlzLmRyYWcuc2VsZWN0aW9uLnB1c2gocyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gZmFsbGJhY2sgaWYgbm8gbm9kZSBpcyBzZWxlY3RlZCBhbmQgdGh1cyB0aGUgdmlldyBpcyBkcmFnZ2VkLgogICAgICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoJ2RyYWdTdGFydCcsIGV2ZW50LCB0aGlzLmRyYWcucG9pbnRlciwgdW5kZWZpbmVkLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnb25EcmFnJywKCiAgICAgIC8qKgogICAgICAgKiBoYW5kbGUgZHJhZyBldmVudAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZyhldmVudCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICBpZiAodGhpcy5kcmFnLnBpbmNoZWQgPT09IHRydWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIHJlbW92ZSB0aGUgZm9jdXMgb24gbm9kZSBpZiBpdCBpcyBmb2N1c3NlZCBvbiBieSB0aGUgZm9jdXNPbk5vZGUKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCd1bmxvY2tOb2RlJyk7CgogICAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGV2ZW50LmNlbnRlcik7CgogICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmRyYWcuc2VsZWN0aW9uOwogICAgICAgIGlmIChzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmxlbmd0aCAmJiB0aGlzLm9wdGlvbnMuZHJhZ05vZGVzID09PSB0cnVlKSB7CiAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdkcmFnZ2luZycsIGV2ZW50LCBwb2ludGVyKTsKCiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YSdzIGFuZCBuZXcgbG9jYXRpb24KICAgICAgICAgICAgdmFyIGRlbHRhWCA9IHBvaW50ZXIueCAtIF90aGlzMi5kcmFnLnBvaW50ZXIueDsKICAgICAgICAgICAgdmFyIGRlbHRhWSA9IHBvaW50ZXIueSAtIF90aGlzMi5kcmFnLnBvaW50ZXIueTsKCiAgICAgICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbiBvZiBhbGwgc2VsZWN0ZWQgbm9kZXMKICAgICAgICAgICAgc2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdGlvbikgewogICAgICAgICAgICAgIHZhciBub2RlID0gc2VsZWN0aW9uLm5vZGU7CiAgICAgICAgICAgICAgLy8gb25seSBtb3ZlIHRoZSBub2RlIGlmIGl0IHdhcyBub3QgZml4ZWQgaW5pdGlhbGx5CiAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi54Rml4ZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBub2RlLnggPSBfdGhpczIuY2FudmFzLl9YY29udmVydERPTXRvQ2FudmFzKF90aGlzMi5jYW52YXMuX1hjb252ZXJ0Q2FudmFzVG9ET00oc2VsZWN0aW9uLngpICsgZGVsdGFYKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gb25seSBtb3ZlIHRoZSBub2RlIGlmIGl0IHdhcyBub3QgZml4ZWQgaW5pdGlhbGx5CiAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi55Rml4ZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBub2RlLnkgPSBfdGhpczIuY2FudmFzLl9ZY29udmVydERPTXRvQ2FudmFzKF90aGlzMi5jYW52YXMuX1ljb252ZXJ0Q2FudmFzVG9ET00oc2VsZWN0aW9uLnkpICsgZGVsdGFZKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gc3RhcnQgdGhlIHNpbXVsYXRpb24gb2YgdGhlIHBoeXNpY3MKICAgICAgICAgICAgX3RoaXMyLmJvZHkuZW1pdHRlci5lbWl0KCdzdGFydFNpbXVsYXRpb24nKTsKICAgICAgICAgIH0pKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIG1vdmUgdGhlIG5ldHdvcmsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ1ZpZXcgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoJ2RyYWdnaW5nJywgZXZlbnQsIHBvaW50ZXIsIHVuZGVmaW5lZCwgdHJ1ZSk7CgogICAgICAgICAgICAvLyBpZiB0aGUgZHJhZyB3YXMgbm90IHN0YXJ0ZWQgcHJvcGVybHkgYmVjYXVzZSB0aGUgY2xpY2sgc3RhcnRlZCBvdXRzaWRlIHRoZSBuZXR3b3JrIGRpdiwgc3RhcnQgaXQgbm93LgogICAgICAgICAgICBpZiAodGhpcy5kcmFnLnBvaW50ZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHRoaXMuX2hhbmRsZURyYWdTdGFydChldmVudCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBkaWZmWCA9IHBvaW50ZXIueCAtIHRoaXMuZHJhZy5wb2ludGVyLng7CiAgICAgICAgICAgIHZhciBkaWZmWSA9IHBvaW50ZXIueSAtIHRoaXMuZHJhZy5wb2ludGVyLnk7CgogICAgICAgICAgICB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiA9IHsgeDogdGhpcy5kcmFnLnRyYW5zbGF0aW9uLnggKyBkaWZmWCwgeTogdGhpcy5kcmFnLnRyYW5zbGF0aW9uLnkgKyBkaWZmWSB9OwogICAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfcmVkcmF3Jyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ29uRHJhZ0VuZCcsCgogICAgICAvKioKICAgICAgICogaGFuZGxlIGRyYWcgc3RhcnQgZXZlbnQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyYWdFbmQoZXZlbnQpIHsKICAgICAgICB0aGlzLmRyYWcuZHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5kcmFnLnNlbGVjdGlvbjsKICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KCdkcmFnRW5kJywgZXZlbnQsIHRoaXMuZ2V0UG9pbnRlcihldmVudC5jZW50ZXIpKTsKICAgICAgICAgIHNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICAgIC8vIHJlc3RvcmUgb3JpZ2luYWwgeEZpeGVkIGFuZCB5Rml4ZWQKICAgICAgICAgICAgcy5ub2RlLm9wdGlvbnMuZml4ZWQueCA9IHMueEZpeGVkOwogICAgICAgICAgICBzLm5vZGUub3B0aW9ucy5maXhlZC55ID0gcy55Rml4ZWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3N0YXJ0U2ltdWxhdGlvbicpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudCgnZHJhZ0VuZCcsIGV2ZW50LCB0aGlzLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKSwgdW5kZWZpbmVkLCB0cnVlKTsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19yZXF1ZXN0UmVkcmF3Jyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ29uUGluY2gnLAoKICAgICAgLyoqCiAgICAgICAqIEhhbmRsZSBwaW5jaCBldmVudAogICAgICAgKiBAcGFyYW0gZXZlbnQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblBpbmNoKGV2ZW50KSB7CiAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKTsKCiAgICAgICAgdGhpcy5kcmFnLnBpbmNoZWQgPSB0cnVlOwogICAgICAgIGlmICh0aGlzLnBpbmNoWydzY2FsZSddID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMucGluY2guc2NhbGUgPSAxOwogICAgICAgIH0KCiAgICAgICAgLy8gVE9ETzogZW5hYmxlZCBtb3Zpbmcgd2hpbGUgcGluY2hpbmc/CiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5waW5jaC5zY2FsZSAqIGV2ZW50LnNjYWxlOwogICAgICAgIHRoaXMuem9vbShzY2FsZSwgcG9pbnRlcik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnem9vbScsCgogICAgICAvKioKICAgICAgICogWm9vbSB0aGUgbmV0d29yayBpbiBvciBvdXQKICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIGEgbnVtYmVyIGFyb3VuZCAxLCBhbmQgYmV0d2VlbiAwLjAxIGFuZCAxMAogICAgICAgKiBAcGFyYW0ge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IHBvaW50ZXIgICAgUG9zaXRpb24gb24gc2NyZWVuCiAgICAgICAqIEByZXR1cm4ge051bWJlcn0gYXBwbGllZFNjYWxlICAgIHNjYWxlIGlzIGxpbWl0ZWQgd2l0aGluIHRoZSBib3VuZGFyaWVzCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gem9vbShzY2FsZSwgcG9pbnRlcikgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuem9vbVZpZXcgPT09IHRydWUpIHsKICAgICAgICAgIHZhciBzY2FsZU9sZCA9IHRoaXMuYm9keS52aWV3LnNjYWxlOwogICAgICAgICAgaWYgKHNjYWxlIDwgMC4wMDAwMSkgewogICAgICAgICAgICBzY2FsZSA9IDAuMDAwMDE7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2NhbGUgPiAxMCkgewogICAgICAgICAgICBzY2FsZSA9IDEwOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBwcmVTY2FsZURyYWdQb2ludGVyID0gdW5kZWZpbmVkOwogICAgICAgICAgaWYgKHRoaXMuZHJhZyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmRyYWcuZHJhZ2dpbmcgPT09IHRydWUpIHsKICAgICAgICAgICAgICBwcmVTY2FsZURyYWdQb2ludGVyID0gdGhpcy5jYW52YXMuRE9NdG9DYW52YXModGhpcy5kcmFnLnBvaW50ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICAvLyArIHRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQgLyAyCiAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbjsKCiAgICAgICAgICB2YXIgc2NhbGVGcmFjID0gc2NhbGUgLyBzY2FsZU9sZDsKICAgICAgICAgIHZhciB0eCA9ICgxIC0gc2NhbGVGcmFjKSAqIHBvaW50ZXIueCArIHRyYW5zbGF0aW9uLnggKiBzY2FsZUZyYWM7CiAgICAgICAgICB2YXIgdHkgPSAoMSAtIHNjYWxlRnJhYykgKiBwb2ludGVyLnkgKyB0cmFuc2xhdGlvbi55ICogc2NhbGVGcmFjOwoKICAgICAgICAgIHRoaXMuYm9keS52aWV3LnNjYWxlID0gc2NhbGU7CiAgICAgICAgICB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiA9IHsgeDogdHgsIHk6IHR5IH07CgogICAgICAgICAgaWYgKHByZVNjYWxlRHJhZ1BvaW50ZXIgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHZhciBwb3N0U2NhbGVEcmFnUG9pbnRlciA9IHRoaXMuY2FudmFzLmNhbnZhc1RvRE9NKHByZVNjYWxlRHJhZ1BvaW50ZXIpOwogICAgICAgICAgICB0aGlzLmRyYWcucG9pbnRlci54ID0gcG9zdFNjYWxlRHJhZ1BvaW50ZXIueDsKICAgICAgICAgICAgdGhpcy5kcmFnLnBvaW50ZXIueSA9IHBvc3RTY2FsZURyYWdQb2ludGVyLnk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlcXVlc3RSZWRyYXcnKTsKCiAgICAgICAgICBpZiAoc2NhbGVPbGQgPCBzY2FsZSkgewogICAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCd6b29tJywgeyBkaXJlY3Rpb246ICcrJywgc2NhbGU6IHRoaXMuYm9keS52aWV3LnNjYWxlIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnem9vbScsIHsgZGlyZWN0aW9uOiAnLScsIHNjYWxlOiB0aGlzLmJvZHkudmlldy5zY2FsZSB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnb25Nb3VzZVdoZWVsJywKCiAgICAgIC8qKgogICAgICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZSB3aGVlbCBldmVudCwgdXNlZCB0byB6b29tIHRoZSB0aW1lbGluZQogICAgICAgKiBTZWUgaHR0cDovL2Fkb21hcy5vcmcvamF2YXNjcmlwdC1tb3VzZS13aGVlbC8KICAgICAgICogICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9FaWdodE1lZGlhL2hhbW1lci5qcy9pc3N1ZXMvMjU2CiAgICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gIGV2ZW50CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZVdoZWVsKGV2ZW50KSB7CiAgICAgICAgLy8gcmV0cmlldmUgZGVsdGEKICAgICAgICB2YXIgZGVsdGEgPSAwOwogICAgICAgIGlmIChldmVudC53aGVlbERlbHRhKSB7CiAgICAgICAgICAvKiBJRS9PcGVyYS4gKi8KICAgICAgICAgIGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YSAvIDEyMDsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRldGFpbCkgewogICAgICAgICAgLyogTW96aWxsYSBjYXNlLiAqLwogICAgICAgICAgLy8gSW4gTW96aWxsYSwgc2lnbiBvZiBkZWx0YSBpcyBkaWZmZXJlbnQgdGhhbiBpbiBJRS4KICAgICAgICAgIC8vIEFsc28sIGRlbHRhIGlzIG11bHRpcGxlIG9mIDMuCiAgICAgICAgICBkZWx0YSA9IC1ldmVudC5kZXRhaWwgLyAzOwogICAgICAgIH0KCiAgICAgICAgLy8gSWYgZGVsdGEgaXMgbm9uemVybywgaGFuZGxlIGl0LgogICAgICAgIC8vIEJhc2ljYWxseSwgZGVsdGEgaXMgbm93IHBvc2l0aXZlIGlmIHdoZWVsIHdhcyBzY3JvbGxlZCB1cCwKICAgICAgICAvLyBhbmQgbmVnYXRpdmUsIGlmIHdoZWVsIHdhcyBzY3JvbGxlZCBkb3duLgogICAgICAgIGlmIChkZWx0YSAhPT0gMCkgewoKICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IHNjYWxlCiAgICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmJvZHkudmlldy5zY2FsZTsKICAgICAgICAgIHZhciB6b29tID0gZGVsdGEgLyAxMDsKICAgICAgICAgIGlmIChkZWx0YSA8IDApIHsKICAgICAgICAgICAgem9vbSA9IHpvb20gLyAoMSAtIHpvb20pOwogICAgICAgICAgfQogICAgICAgICAgc2NhbGUgKj0gMSArIHpvb207CgogICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBwb2ludGVyIGxvY2F0aW9uCiAgICAgICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcih7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSk7CgogICAgICAgICAgLy8gYXBwbHkgdGhlIG5ldyBzY2FsZQogICAgICAgICAgdGhpcy56b29tKHNjYWxlLCBwb2ludGVyKTsKICAgICAgICB9CgogICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBhY3Rpb25zIGNhdXNlZCBieSBtb3VzZSB3aGVlbC4KICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ29uTW91c2VNb3ZlJywKCiAgICAgIC8qKgogICAgICAgKiBNb3VzZSBtb3ZlIGhhbmRsZXIgZm9yIGNoZWNraW5nIHdoZXRoZXIgdGhlIHRpdGxlIG1vdmVzIG92ZXIgYSBub2RlIHdpdGggYSB0aXRsZS4KICAgICAgICogQHBhcmFtICB7RXZlbnR9IGV2ZW50CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0pOwogICAgICAgIHZhciBwb3B1cFZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgbm9kZSBpcyBzdGlsbCBzZWxlY3RlZAogICAgICAgIGlmICh0aGlzLnBvcHVwICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmICh0aGlzLnBvcHVwLmhpZGRlbiA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhpcy5fY2hlY2tIaWRlUG9wdXAocG9pbnRlcik7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gaWYgdGhlIHBvcHVwIHdhcyBub3QgaGlkZGVuIGFib3ZlCiAgICAgICAgICBpZiAodGhpcy5wb3B1cC5oaWRkZW4gPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHBvcHVwVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMucG9wdXAuc2V0UG9zaXRpb24ocG9pbnRlci54ICsgMywgcG9pbnRlci55IC0gNSk7CiAgICAgICAgICAgIHRoaXMucG9wdXAuc2hvdygpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gaWYgd2UgYmluZCB0aGUga2V5Ym9hcmQgdG8gdGhlIGRpdiwgd2UgaGF2ZSB0byBoaWdobGlnaHQgaXQgdG8gdXNlIGl0LiBUaGlzIGhpZ2hsaWdodHMgaXQgb24gbW91c2Ugb3Zlci4KICAgICAgICBpZiAodGhpcy5vcHRpb25zLmtleWJvYXJkLmJpbmRUb1dpbmRvdyA9PT0gZmFsc2UgJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkLmVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuY2FudmFzLmZyYW1lLmZvY3VzKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBzdGFydCBhIHRpbWVvdXQgdGhhdCB3aWxsIGNoZWNrIGlmIHRoZSBtb3VzZSBpcyBwb3NpdGlvbmVkIGFib3ZlIGFuIGVsZW1lbnQKICAgICAgICBpZiAocG9wdXBWaXNpYmxlID09PSBmYWxzZSkgewogICAgICAgICAgaWYgKHRoaXMucG9wdXBUaW1lciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wb3B1cFRpbWVyKTsgLy8gc3RvcCBhbnkgcnVubmluZyBjYWxjdWxhdGlvblRpbWVyCiAgICAgICAgICAgIHRoaXMucG9wdXBUaW1lciA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghdGhpcy5kcmFnLmRyYWdnaW5nKSB7CiAgICAgICAgICAgIHRoaXMucG9wdXBUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2NoZWNrU2hvd1BvcHVwKHBvaW50ZXIpOwogICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMudG9vbHRpcERlbGF5KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICogQWRkaW5nIGhvdmVyIGhpZ2hsaWdodHMKICAgICAgICAqLwogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXIgPT09IHRydWUpIHsKICAgICAgICAgIC8vIGFkZGluZyBob3ZlciBoaWdobGlnaHRzCiAgICAgICAgICB2YXIgb2JqID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldE5vZGVBdChwb2ludGVyKTsKICAgICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBvYmogPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0RWRnZUF0KHBvaW50ZXIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmhvdmVyT2JqZWN0KG9iaik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jaGVja1Nob3dQb3B1cCcsCgogICAgICAvKioKICAgICAgICogQ2hlY2sgaWYgdGhlcmUgaXMgYW4gZWxlbWVudCBvbiB0aGUgZ2l2ZW4gcG9zaXRpb24gaW4gdGhlIG5ldHdvcmsKICAgICAgICogKGEgbm9kZSBvciBlZGdlKS4gSWYgc28sIGFuZCBpZiB0aGlzIGVsZW1lbnQgaGFzIGEgdGl0bGUsCiAgICAgICAqIHNob3cgYSBwb3B1cCB3aW5kb3cgd2l0aCBpdHMgdGl0bGUuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7e3g6TnVtYmVyLCB5Ok51bWJlcn19IHBvaW50ZXIKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2hlY2tTaG93UG9wdXAocG9pbnRlcikgewogICAgICAgIHZhciB4ID0gdGhpcy5jYW52YXMuX1hjb252ZXJ0RE9NdG9DYW52YXMocG9pbnRlci54KTsKICAgICAgICB2YXIgeSA9IHRoaXMuY2FudmFzLl9ZY29udmVydERPTXRvQ2FudmFzKHBvaW50ZXIueSk7CiAgICAgICAgdmFyIHBvaW50ZXJPYmogPSB7CiAgICAgICAgICBsZWZ0OiB4LAogICAgICAgICAgdG9wOiB5LAogICAgICAgICAgcmlnaHQ6IHgsCiAgICAgICAgICBib3R0b206IHkKICAgICAgICB9OwoKICAgICAgICB2YXIgcHJldmlvdXNQb3B1cE9iaklkID0gdGhpcy5wb3B1cE9iaiA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogdGhpcy5wb3B1cE9iai5pZDsKICAgICAgICB2YXIgbm9kZVVuZGVyQ3Vyc29yID0gZmFsc2U7CiAgICAgICAgdmFyIHBvcHVwVHlwZSA9ICdub2RlJzsKCiAgICAgICAgLy8gY2hlY2sgaWYgYSBub2RlIGlzIHVuZGVyIHRoZSBjdXJzb3IuCiAgICAgICAgaWYgKHRoaXMucG9wdXBPYmogPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy8gc2VhcmNoIHRoZSBub2RlcyBmb3Igb3ZlcmxhcCwgc2VsZWN0IHRoZSB0b3Agb25lIGluIGNhc2Ugb2YgbXVsdGlwbGUgbm9kZXMKICAgICAgICAgIHZhciBub2RlSW5kaWNlcyA9IHRoaXMuYm9keS5ub2RlSW5kaWNlczsKICAgICAgICAgIHZhciBub2RlcyA9IHRoaXMuYm9keS5ub2RlczsKICAgICAgICAgIHZhciBub2RlID0gdW5kZWZpbmVkOwogICAgICAgICAgdmFyIG92ZXJsYXBwaW5nTm9kZXMgPSBbXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbm9kZSA9IG5vZGVzW25vZGVJbmRpY2VzW2ldXTsKICAgICAgICAgICAgaWYgKG5vZGUuaXNPdmVybGFwcGluZ1dpdGgocG9pbnRlck9iaikgPT09IHRydWUpIHsKICAgICAgICAgICAgICBpZiAobm9kZS5nZXRUaXRsZSgpICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIG92ZXJsYXBwaW5nTm9kZXMucHVzaChub2RlSW5kaWNlc1tpXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG92ZXJsYXBwaW5nTm9kZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgb3ZlcmxhcHBpbmcgbm9kZXMsIHNlbGVjdCB0aGUgbGFzdCBvbmUsIHRoaXMgaXMgdGhlIG9uZSB3aGljaCBpcyBkcmF3biBvbiB0b3Agb2YgdGhlIG90aGVycwogICAgICAgICAgICB0aGlzLnBvcHVwT2JqID0gbm9kZXNbb3ZlcmxhcHBpbmdOb2Rlc1tvdmVybGFwcGluZ05vZGVzLmxlbmd0aCAtIDFdXTsKICAgICAgICAgICAgLy8gaWYgeW91IGhvdmVyIG92ZXIgYSBub2RlLCB0aGUgdGl0bGUgb2YgdGhlIGVkZ2UgaXMgbm90IHN1cHBvc2VkIHRvIGJlIHNob3duLgogICAgICAgICAgICBub2RlVW5kZXJDdXJzb3IgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucG9wdXBPYmogPT09IHVuZGVmaW5lZCAmJiBub2RlVW5kZXJDdXJzb3IgPT09IGZhbHNlKSB7CiAgICAgICAgICAvLyBzZWFyY2ggdGhlIGVkZ2VzIGZvciBvdmVybGFwCiAgICAgICAgICB2YXIgZWRnZUluZGljZXMgPSB0aGlzLmJvZHkuZWRnZUluZGljZXM7CiAgICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmJvZHkuZWRnZXM7CiAgICAgICAgICB2YXIgZWRnZSA9IHVuZGVmaW5lZDsKICAgICAgICAgIHZhciBvdmVybGFwcGluZ0VkZ2VzID0gW107CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVkZ2VJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGVkZ2UgPSBlZGdlc1tlZGdlSW5kaWNlc1tpXV07CiAgICAgICAgICAgIGlmIChlZGdlLmlzT3ZlcmxhcHBpbmdXaXRoKHBvaW50ZXJPYmopID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgaWYgKGVkZ2UuY29ubmVjdGVkID09PSB0cnVlICYmIGVkZ2UuZ2V0VGl0bGUoKSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBvdmVybGFwcGluZ0VkZ2VzLnB1c2goZWRnZUluZGljZXNbaV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChvdmVybGFwcGluZ0VkZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy5wb3B1cE9iaiA9IGVkZ2VzW292ZXJsYXBwaW5nRWRnZXNbb3ZlcmxhcHBpbmdFZGdlcy5sZW5ndGggLSAxXV07CiAgICAgICAgICAgIHBvcHVwVHlwZSA9ICdlZGdlJzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnBvcHVwT2JqICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vIHNob3cgcG9wdXAgbWVzc2FnZSB3aW5kb3cKICAgICAgICAgIGlmICh0aGlzLnBvcHVwT2JqLmlkICE9PSBwcmV2aW91c1BvcHVwT2JqSWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHRoaXMucG9wdXAgPSBuZXcgX2NvbXBvbmVudHNQb3B1cDJbJ2RlZmF1bHQnXSh0aGlzLmNhbnZhcy5mcmFtZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMucG9wdXAucG9wdXBUYXJnZXRUeXBlID0gcG9wdXBUeXBlOwogICAgICAgICAgICB0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWQgPSB0aGlzLnBvcHVwT2JqLmlkOwoKICAgICAgICAgICAgLy8gYWRqdXN0IGEgc21hbGwgb2Zmc2V0IHN1Y2ggdGhhdCB0aGUgbW91c2UgY3Vyc29yIGlzIGxvY2F0ZWQgaW4gdGhlCiAgICAgICAgICAgIC8vIGJvdHRvbSBsZWZ0IGxvY2F0aW9uIG9mIHRoZSBwb3B1cCwgYW5kIHlvdSBjYW4gZWFzaWx5IG1vdmUgb3ZlciB0aGUKICAgICAgICAgICAgLy8gcG9wdXAgYXJlYQogICAgICAgICAgICB0aGlzLnBvcHVwLnNldFBvc2l0aW9uKHBvaW50ZXIueCArIDMsIHBvaW50ZXIueSAtIDUpOwogICAgICAgICAgICB0aGlzLnBvcHVwLnNldFRleHQodGhpcy5wb3B1cE9iai5nZXRUaXRsZSgpKTsKICAgICAgICAgICAgdGhpcy5wb3B1cC5zaG93KCk7CiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3Nob3dQb3B1cCcsIHRoaXMucG9wdXBPYmouaWQpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5wb3B1cCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMucG9wdXAuaGlkZSgpOwogICAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdoaWRlUG9wdXAnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2NoZWNrSGlkZVBvcHVwJywKCiAgICAgIC8qKgogICAgICAgKiBDaGVjayBpZiB0aGUgcG9wdXAgbXVzdCBiZSBoaWRkZW4sIHdoaWNoIGlzIHRoZSBjYXNlIHdoZW4gdGhlIG1vdXNlIGlzIG5vCiAgICAgICAqIGxvbmdlciBob3ZlcmluZyBvbiB0aGUgb2JqZWN0CiAgICAgICAqIEBwYXJhbSB7e3g6TnVtYmVyLCB5Ok51bWJlcn19IHBvaW50ZXIKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2hlY2tIaWRlUG9wdXAocG9pbnRlcikgewogICAgICAgIHZhciBwb2ludGVyT2JqID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdChwb2ludGVyKTsKCiAgICAgICAgdmFyIHN0aWxsT25PYmogPSBmYWxzZTsKICAgICAgICBpZiAodGhpcy5wb3B1cC5wb3B1cFRhcmdldFR5cGUgPT09ICdub2RlJykgewogICAgICAgICAgaWYgKHRoaXMuYm9keS5ub2Rlc1t0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgc3RpbGxPbk9iaiA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWRdLmlzT3ZlcmxhcHBpbmdXaXRoKHBvaW50ZXJPYmopOwoKICAgICAgICAgICAgLy8gaWYgdGhlIG1vdXNlIGlzIHN0aWxsIG9uZSB0aGUgbm9kZSwgd2UgaGF2ZSB0byBjaGVjayBpZiBpdCBpcyBub3QgYWxzbyBvbiBvbmUgdGhhdCBpcyBkcmF3biBvbiB0b3Agb2YgaXQuCiAgICAgICAgICAgIC8vIHdlIGluaXRpYWxseSBvbmx5IGNoZWNrIHN0aWxsT25PYmogYmVjYXVzZSB0aGlzIGlzIG11Y2ggZmFzdGVyLgogICAgICAgICAgICBpZiAoc3RpbGxPbk9iaiA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHZhciBvdmVyTm9kZSA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQocG9pbnRlcik7CiAgICAgICAgICAgICAgc3RpbGxPbk9iaiA9IG92ZXJOb2RlLmlkID09PSB0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQocG9pbnRlcikgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5LmVkZ2VzW3RoaXMucG9wdXAucG9wdXBUYXJnZXRJZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHN0aWxsT25PYmogPSB0aGlzLmJvZHkuZWRnZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXS5pc092ZXJsYXBwaW5nV2l0aChwb2ludGVyT2JqKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHN0aWxsT25PYmogPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLnBvcHVwT2JqID0gdW5kZWZpbmVkOwogICAgICAgICAgdGhpcy5wb3B1cC5oaWRlKCk7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdoaWRlUG9wdXAnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gSW50ZXJhY3Rpb25IYW5kbGVyOwogIH0pKCk7CgogIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEludGVyYWN0aW9uSGFuZGxlcjsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDEwMyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgdmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogIHZhciBIYW1tZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTsKICB2YXIgaGFtbWVyVXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpOwogIHZhciBrZXljaGFybSA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpOwoKICB2YXIgTmF2aWdhdGlvbkhhbmRsZXIgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gTmF2aWdhdGlvbkhhbmRsZXIoYm9keSwgY2FudmFzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmF2aWdhdGlvbkhhbmRsZXIpOwoKICAgICAgdGhpcy5ib2R5ID0gYm9keTsKICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7CgogICAgICB0aGlzLmljb25zQ3JlYXRlZCA9IGZhbHNlOwogICAgICB0aGlzLm5hdmlnYXRpb25IYW1tZXJzID0gW107CiAgICAgIHRoaXMuYm91bmRGdW5jdGlvbnMgPSB7fTsKICAgICAgdGhpcy50b3VjaFRpbWUgPSAwOwogICAgICB0aGlzLmFjdGl2YXRlZCA9IGZhbHNlOwoKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ3JlbGVhc2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuX3N0b3BNb3ZlbWVudCgpOwogICAgICB9KTsKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmFjdGl2YXRlZCA9IHRydWU7X3RoaXMuY29uZmlndXJlS2V5Ym9hcmRCaW5kaW5ncygpOwogICAgICB9KTsKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ2RlYWN0aXZhdGUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuYWN0aXZhdGVkID0gZmFsc2U7X3RoaXMuY29uZmlndXJlS2V5Ym9hcmRCaW5kaW5ncygpOwogICAgICB9KTsKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLmtleWNoYXJtICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIF90aGlzLmtleWNoYXJtLmRlc3Ryb3koKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdGhpcy5vcHRpb25zID0ge307CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKE5hdmlnYXRpb25IYW5kbGVyLCBbewogICAgICBrZXk6ICdzZXRPcHRpb25zJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgICAgICB0aGlzLmNyZWF0ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdjcmVhdGUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmF2aWdhdGlvbkJ1dHRvbnMgPT09IHRydWUpIHsKICAgICAgICAgIGlmICh0aGlzLmljb25zQ3JlYXRlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhpcy5sb2FkTmF2aWdhdGlvbkVsZW1lbnRzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmljb25zQ3JlYXRlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5jbGVhbk5hdmlnYXRpb24oKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY29uZmlndXJlS2V5Ym9hcmRCaW5kaW5ncygpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2NsZWFuTmF2aWdhdGlvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhbk5hdmlnYXRpb24oKSB7CiAgICAgICAgLy8gY2xlYW4gaGFtbWVyIGJpbmRpbmdzCiAgICAgICAgaWYgKHRoaXMubmF2aWdhdGlvbkhhbW1lcnMubGVuZ3RoICE9IDApIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uYXZpZ2F0aW9uSGFtbWVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25IYW1tZXJzW2ldLmRlc3Ryb3koKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkhhbW1lcnMgPSBbXTsKICAgICAgICB9CgogICAgICAgIC8vIGNsZWFuIHVwIHByZXZpb3VzIG5hdmlnYXRpb24gaXRlbXMKICAgICAgICBpZiAodGhpcy5uYXZpZ2F0aW9uRE9NICYmIHRoaXMubmF2aWdhdGlvbkRPTVsnd3JhcHBlciddICYmIHRoaXMubmF2aWdhdGlvbkRPTVsnd3JhcHBlciddLnBhcmVudE5vZGUpIHsKICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkRPTVsnd3JhcHBlciddLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5uYXZpZ2F0aW9uRE9NWyd3cmFwcGVyJ10pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pY29uc0NyZWF0ZWQgPSBmYWxzZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdsb2FkTmF2aWdhdGlvbkVsZW1lbnRzJywKCiAgICAgIC8qKgogICAgICAgKiBDcmVhdGlvbiBvZiB0aGUgbmF2aWdhdGlvbiBjb250cm9scyBub2Rlcy4gVGhleSBhcmUgZHJhd24gb3ZlciB0aGUgcmVzdCBvZiB0aGUgbm9kZXMgYW5kIGFyZSBub3QgYWZmZWN0ZWQgYnkgc2NhbGUgYW5kIHRyYW5zbGF0aW9uCiAgICAgICAqIHRoZXkgaGF2ZSBhIHRyaWdnZXJGdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgb24gY2xpY2suIElmIHRoZSBwb3NpdGlvbiBvZiB0aGUgbmF2aWdhdGlvbiBjb250cm9scyBpcyBkZXBlbmRlbnQKICAgICAgICogb24gdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGggb3IgdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0LCB3ZSBmbGFnIGhvcml6b250YWxBbGlnbkxlZnQgYW5kIHZlcnRpY2FsQWxpZ25Ub3AgZmFsc2UuCiAgICAgICAqIFRoaXMgbWVhbnMgdGhhdCB0aGUgbG9jYXRpb24gd2lsbCBiZSBjb3JyZWN0ZWQgYnkgdGhlIF9yZWxvY2F0ZU5hdmlnYXRpb24gZnVuY3Rpb24gb24gYSBzaXplIGNoYW5nZSBvZiB0aGUgY2FudmFzLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWROYXZpZ2F0aW9uRWxlbWVudHMoKSB7CiAgICAgICAgdGhpcy5jbGVhbk5hdmlnYXRpb24oKTsKCiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uRE9NID0ge307CiAgICAgICAgdmFyIG5hdmlnYXRpb25EaXZzID0gWyd1cCcsICdkb3duJywgJ2xlZnQnLCAncmlnaHQnLCAnem9vbUluJywgJ3pvb21PdXQnLCAnem9vbUV4dGVuZHMnXTsKICAgICAgICB2YXIgbmF2aWdhdGlvbkRpdkFjdGlvbnMgPSBbJ19tb3ZlVXAnLCAnX21vdmVEb3duJywgJ19tb3ZlTGVmdCcsICdfbW92ZVJpZ2h0JywgJ196b29tSW4nLCAnX3pvb21PdXQnLCAnX2ZpdCddOwoKICAgICAgICB0aGlzLm5hdmlnYXRpb25ET01bJ3dyYXBwZXInXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRoaXMubmF2aWdhdGlvbkRPTVsnd3JhcHBlciddLmNsYXNzTmFtZSA9ICd2aXMtbmF2aWdhdGlvbic7CiAgICAgICAgdGhpcy5jYW52YXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5uYXZpZ2F0aW9uRE9NWyd3cmFwcGVyJ10pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hdmlnYXRpb25EaXZzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLm5hdmlnYXRpb25ET01bbmF2aWdhdGlvbkRpdnNbaV1dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICB0aGlzLm5hdmlnYXRpb25ET01bbmF2aWdhdGlvbkRpdnNbaV1dLmNsYXNzTmFtZSA9ICd2aXMtYnV0dG9uIHZpcy0nICsgbmF2aWdhdGlvbkRpdnNbaV07CiAgICAgICAgICB0aGlzLm5hdmlnYXRpb25ET01bJ3dyYXBwZXInXS5hcHBlbmRDaGlsZCh0aGlzLm5hdmlnYXRpb25ET01bbmF2aWdhdGlvbkRpdnNbaV1dKTsKCiAgICAgICAgICB2YXIgaGFtbWVyID0gbmV3IEhhbW1lcih0aGlzLm5hdmlnYXRpb25ET01bbmF2aWdhdGlvbkRpdnNbaV1dKTsKICAgICAgICAgIGlmIChuYXZpZ2F0aW9uRGl2QWN0aW9uc1tpXSA9PT0gJ19maXQnKSB7CiAgICAgICAgICAgIGhhbW1lclV0aWwub25Ub3VjaChoYW1tZXIsIHRoaXMuX2ZpdC5iaW5kKHRoaXMpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGhhbW1lclV0aWwub25Ub3VjaChoYW1tZXIsIHRoaXMuYmluZFRvUmVkcmF3LmJpbmQodGhpcywgbmF2aWdhdGlvbkRpdkFjdGlvbnNbaV0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLm5hdmlnYXRpb25IYW1tZXJzLnB1c2goaGFtbWVyKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuaWNvbnNDcmVhdGVkID0gdHJ1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdiaW5kVG9SZWRyYXcnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZFRvUmVkcmF3KGFjdGlvbikgewogICAgICAgIGlmICh0aGlzLmJvdW5kRnVuY3Rpb25zW2FjdGlvbl0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5ib3VuZEZ1bmN0aW9uc1thY3Rpb25dID0gdGhpc1thY3Rpb25dLmJpbmQodGhpcyk7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignaW5pdFJlZHJhdycsIHRoaXMuYm91bmRGdW5jdGlvbnNbYWN0aW9uXSk7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfc3RhcnRSZW5kZXJpbmcnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAndW5iaW5kRnJvbVJlZHJhdycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bmJpbmRGcm9tUmVkcmF3KGFjdGlvbikgewogICAgICAgIGlmICh0aGlzLmJvdW5kRnVuY3Rpb25zW2FjdGlvbl0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub2ZmKCdpbml0UmVkcmF3JywgdGhpcy5ib3VuZEZ1bmN0aW9uc1thY3Rpb25dKTsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19zdG9wUmVuZGVyaW5nJyk7CiAgICAgICAgICBkZWxldGUgdGhpcy5ib3VuZEZ1bmN0aW9uc1thY3Rpb25dOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZml0JywKCiAgICAgIC8qKgogICAgICAgKiB0aGlzIHN0b3BzIGFsbCBtb3ZlbWVudCBpbmR1Y2VkIGJ5IHRoZSBuYXZpZ2F0aW9uIGJ1dHRvbnMKICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZml0KCkgewogICAgICAgIGlmIChuZXcgRGF0ZSgpLnZhbHVlT2YoKSAtIHRoaXMudG91Y2hUaW1lID4gNzAwKSB7CiAgICAgICAgICAvLyBUT0RPOiBmaXggdWdseSBoYWNrIHRvIGF2b2lkIGhhbW1lcidzIGRvdWJsZSBmaXJlaW5nIG9mIGV2ZW50IChiZWNhdXNlIHdlIHVzZSByZWxlYXNlPykKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ2ZpdCcsIHsgZHVyYXRpb246IDcwMCB9KTsKICAgICAgICAgIHRoaXMudG91Y2hUaW1lID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19zdG9wTW92ZW1lbnQnLAoKICAgICAgLyoqCiAgICAgICAqIHRoaXMgc3RvcHMgYWxsIG1vdmVtZW50IGluZHVjZWQgYnkgdGhlIG5hdmlnYXRpb24gYnV0dG9ucwogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdG9wTW92ZW1lbnQoKSB7CiAgICAgICAgZm9yICh2YXIgYm91bmRBY3Rpb24gaW4gdGhpcy5ib3VuZEZ1bmN0aW9ucykgewogICAgICAgICAgaWYgKHRoaXMuYm91bmRGdW5jdGlvbnMuaGFzT3duUHJvcGVydHkoYm91bmRBY3Rpb24pKSB7CiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLm9mZignaW5pdFJlZHJhdycsIHRoaXMuYm91bmRGdW5jdGlvbnNbYm91bmRBY3Rpb25dKTsKICAgICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3N0b3BSZW5kZXJpbmcnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5ib3VuZEZ1bmN0aW9ucyA9IHt9OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19tb3ZlVXAnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX21vdmVVcCgpIHsKICAgICAgICB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55ICs9IHRoaXMub3B0aW9ucy5rZXlib2FyZC5zcGVlZC55OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19tb3ZlRG93bicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbW92ZURvd24oKSB7CiAgICAgICAgdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueSAtPSB0aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQueTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfbW92ZUxlZnQnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX21vdmVMZWZ0KCkgewogICAgICAgIHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnggKz0gdGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLng7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX21vdmVSaWdodCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbW92ZVJpZ2h0KCkgewogICAgICAgIHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnggLT0gdGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLng7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3pvb21JbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfem9vbUluKCkgewogICAgICAgIHRoaXMuYm9keS52aWV3LnNjYWxlICo9IDEgKyB0aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQuem9vbTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfem9vbU91dCcsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfem9vbU91dCgpIHsKICAgICAgICB0aGlzLmJvZHkudmlldy5zY2FsZSAvPSAxICsgdGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLnpvb207CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnY29uZmlndXJlS2V5Ym9hcmRCaW5kaW5ncycsCgogICAgICAvKioKICAgICAgICogYmluZCBhbGwga2V5cyB1c2luZyBrZXljaGFybS4KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb25maWd1cmVLZXlib2FyZEJpbmRpbmdzKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICBpZiAodGhpcy5rZXljaGFybSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLmtleWNoYXJtLmRlc3Ryb3koKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLm9wdGlvbnMua2V5Ym9hcmQuZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5rZXlib2FyZC5iaW5kVG9XaW5kb3cgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5rZXljaGFybSA9IGtleWNoYXJtKHsgY29udGFpbmVyOiB3aW5kb3csIHByZXZlbnREZWZhdWx0OiB0cnVlIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5rZXljaGFybSA9IGtleWNoYXJtKHsgY29udGFpbmVyOiB0aGlzLmNhbnZhcy5mcmFtZSwgcHJldmVudERlZmF1bHQ6IHRydWUgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5rZXljaGFybS5yZXNldCgpOwoKICAgICAgICAgIGlmICh0aGlzLmFjdGl2YXRlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ3VwJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMi5iaW5kVG9SZWRyYXcoJ19tb3ZlVXAnKTsKICAgICAgICAgICAgfSwgJ2tleWRvd24nKTsKICAgICAgICAgICAgdGhpcy5rZXljaGFybS5iaW5kKCdkb3duJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMi5iaW5kVG9SZWRyYXcoJ19tb3ZlRG93bicpOwogICAgICAgICAgICB9LCAna2V5ZG93bicpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ2xlZnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmJpbmRUb1JlZHJhdygnX21vdmVMZWZ0Jyk7CiAgICAgICAgICAgIH0sICdrZXlkb3duJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgncmlnaHQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmJpbmRUb1JlZHJhdygnX21vdmVSaWdodCcpOwogICAgICAgICAgICB9LCAna2V5ZG93bicpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJz0nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmJpbmRUb1JlZHJhdygnX3pvb21JbicpOwogICAgICAgICAgICB9LCAna2V5ZG93bicpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ251bSsnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmJpbmRUb1JlZHJhdygnX3pvb21JbicpOwogICAgICAgICAgICB9LCAna2V5ZG93bicpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ251bS0nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmJpbmRUb1JlZHJhdygnX3pvb21PdXQnKTsKICAgICAgICAgICAgfSwgJ2tleWRvd24nKTsKICAgICAgICAgICAgdGhpcy5rZXljaGFybS5iaW5kKCctJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMi5iaW5kVG9SZWRyYXcoJ196b29tT3V0Jyk7CiAgICAgICAgICAgIH0sICdrZXlkb3duJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgnWycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIuYmluZFRvUmVkcmF3KCdfem9vbU91dCcpOwogICAgICAgICAgICB9LCAna2V5ZG93bicpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ10nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmJpbmRUb1JlZHJhdygnX3pvb21JbicpOwogICAgICAgICAgICB9LCAna2V5ZG93bicpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ3BhZ2V1cCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIuYmluZFRvUmVkcmF3KCdfem9vbUluJyk7CiAgICAgICAgICAgIH0sICdrZXlkb3duJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgncGFnZWRvd24nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmJpbmRUb1JlZHJhdygnX3pvb21PdXQnKTsKICAgICAgICAgICAgfSwgJ2tleWRvd24nKTsKCiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgndXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnVuYmluZEZyb21SZWRyYXcoJ19tb3ZlVXAnKTsKICAgICAgICAgICAgfSwgJ2tleXVwJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgnZG93bicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIudW5iaW5kRnJvbVJlZHJhdygnX21vdmVEb3duJyk7CiAgICAgICAgICAgIH0sICdrZXl1cCcpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ2xlZnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnVuYmluZEZyb21SZWRyYXcoJ19tb3ZlTGVmdCcpOwogICAgICAgICAgICB9LCAna2V5dXAnKTsKICAgICAgICAgICAgdGhpcy5rZXljaGFybS5iaW5kKCdyaWdodCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIudW5iaW5kRnJvbVJlZHJhdygnX21vdmVSaWdodCcpOwogICAgICAgICAgICB9LCAna2V5dXAnKTsKICAgICAgICAgICAgdGhpcy5rZXljaGFybS5iaW5kKCc9JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMi51bmJpbmRGcm9tUmVkcmF3KCdfem9vbUluJyk7CiAgICAgICAgICAgIH0sICdrZXl1cCcpOwogICAgICAgICAgICB0aGlzLmtleWNoYXJtLmJpbmQoJ251bSsnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnVuYmluZEZyb21SZWRyYXcoJ196b29tSW4nKTsKICAgICAgICAgICAgfSwgJ2tleXVwJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgnbnVtLScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIudW5iaW5kRnJvbVJlZHJhdygnX3pvb21PdXQnKTsKICAgICAgICAgICAgfSwgJ2tleXVwJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgnLScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIudW5iaW5kRnJvbVJlZHJhdygnX3pvb21PdXQnKTsKICAgICAgICAgICAgfSwgJ2tleXVwJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgnWycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIudW5iaW5kRnJvbVJlZHJhdygnX3pvb21PdXQnKTsKICAgICAgICAgICAgfSwgJ2tleXVwJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgnXScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIudW5iaW5kRnJvbVJlZHJhdygnX3pvb21JbicpOwogICAgICAgICAgICB9LCAna2V5dXAnKTsKICAgICAgICAgICAgdGhpcy5rZXljaGFybS5iaW5kKCdwYWdldXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnVuYmluZEZyb21SZWRyYXcoJ196b29tSW4nKTsKICAgICAgICAgICAgfSwgJ2tleXVwJyk7CiAgICAgICAgICAgIHRoaXMua2V5Y2hhcm0uYmluZCgncGFnZWRvd24nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnVuYmluZEZyb21SZWRyYXcoJ196b29tT3V0Jyk7CiAgICAgICAgICAgIH0sICdrZXl1cCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBOYXZpZ2F0aW9uSGFuZGxlcjsKICB9KSgpOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBOYXZpZ2F0aW9uSGFuZGxlcjsKICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCi8qKiovIH0sCi8qIDEwNCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLyoqCiAgICogUG9wdXAgaXMgYSBjbGFzcyB0byBjcmVhdGUgYSBwb3B1cCB3aW5kb3cgd2l0aCBzb21lIHRleHQKICAgKiBAcGFyYW0ge0VsZW1lbnR9ICBjb250YWluZXIgICAgIFRoZSBjb250YWluZXIgb2JqZWN0LgogICAqIEBwYXJhbSB7TnVtYmVyfSBbeF0KICAgKiBAcGFyYW0ge051bWJlcn0gW3ldCiAgICogQHBhcmFtIHtTdHJpbmd9IFt0ZXh0XQogICAqIEBwYXJhbSB7T2JqZWN0fSBbc3R5bGVdICAgICBBbiBvYmplY3QgY29udGFpbmluZyBib3JkZXJDb2xvciwKICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yLCBldGMuCiAgICovCiAgJ3VzZSBzdHJpY3QnOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICB2YWx1ZTogdHJ1ZQogIH0pOwoKICB2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpOwoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH0KCiAgdmFyIFBvcHVwID0gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFBvcHVwKGNvbnRhaW5lcikgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wdXApOwoKICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7CgogICAgICB0aGlzLnggPSAwOwogICAgICB0aGlzLnkgPSAwOwogICAgICB0aGlzLnBhZGRpbmcgPSA1OwogICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlOwoKICAgICAgLy8gY3JlYXRlIHRoZSBmcmFtZQogICAgICB0aGlzLmZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIHRoaXMuZnJhbWUuY2xhc3NOYW1lID0gJ3Zpcy1uZXR3b3JrLXRvb2x0aXAnOwogICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoUG9wdXAsIFt7CiAgICAgIGtleTogJ3NldFBvc2l0aW9uJywKCiAgICAgIC8qKgogICAgICAgKiBAcGFyYW0ge251bWJlcn0geCAgIEhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIHBvcHVwIHdpbmRvdwogICAgICAgKiBAcGFyYW0ge251bWJlcn0geSAgIFZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBwb3B1cCB3aW5kb3cKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQb3NpdGlvbih4LCB5KSB7CiAgICAgICAgdGhpcy54ID0gcGFyc2VJbnQoeCk7CiAgICAgICAgdGhpcy55ID0gcGFyc2VJbnQoeSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2V0VGV4dCcsCgogICAgICAvKioKICAgICAgICogU2V0IHRoZSBjb250ZW50IGZvciB0aGUgcG9wdXAgd2luZG93LiBUaGlzIGNhbiBiZSBIVE1MIGNvZGUgb3IgdGV4dC4KICAgICAgICogQHBhcmFtIHtzdHJpbmcgfCBFbGVtZW50fSBjb250ZW50CiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGV4dChjb250ZW50KSB7CiAgICAgICAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7CiAgICAgICAgICB0aGlzLmZyYW1lLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZChjb250ZW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mcmFtZS5pbm5lckhUTUwgPSBjb250ZW50OyAvLyBzdHJpbmcgY29udGFpbmluZyB0ZXh0IG9yIEhUTUwKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2hvdycsCgogICAgICAvKioKICAgICAgICogU2hvdyB0aGUgcG9wdXAgd2luZG93CiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvU2hvd10gICAgU2hvdyBvciBoaWRlIHRoZSB3aW5kb3cKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGRvU2hvdykgewogICAgICAgIGlmIChkb1Nob3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZG9TaG93ID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChkb1Nob3cgPT09IHRydWUpIHsKICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmZyYW1lLmNsaWVudEhlaWdodDsKICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZnJhbWUuY2xpZW50V2lkdGg7CiAgICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gdGhpcy5mcmFtZS5wYXJlbnROb2RlLmNsaWVudEhlaWdodDsKICAgICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuZnJhbWUucGFyZW50Tm9kZS5jbGllbnRXaWR0aDsKCiAgICAgICAgICB2YXIgdG9wID0gdGhpcy55IC0gaGVpZ2h0OwogICAgICAgICAgaWYgKHRvcCArIGhlaWdodCArIHRoaXMucGFkZGluZyA+IG1heEhlaWdodCkgewogICAgICAgICAgICB0b3AgPSBtYXhIZWlnaHQgLSBoZWlnaHQgLSB0aGlzLnBhZGRpbmc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodG9wIDwgdGhpcy5wYWRkaW5nKSB7CiAgICAgICAgICAgIHRvcCA9IHRoaXMucGFkZGluZzsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMueDsKICAgICAgICAgIGlmIChsZWZ0ICsgd2lkdGggKyB0aGlzLnBhZGRpbmcgPiBtYXhXaWR0aCkgewogICAgICAgICAgICBsZWZ0ID0gbWF4V2lkdGggLSB3aWR0aCAtIHRoaXMucGFkZGluZzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChsZWZ0IDwgdGhpcy5wYWRkaW5nKSB7CiAgICAgICAgICAgIGxlZnQgPSB0aGlzLnBhZGRpbmc7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7CiAgICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLnRvcCA9IHRvcCArICdweCc7CiAgICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7CiAgICAgICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmhpZGUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnaGlkZScsCgogICAgICAvKioKICAgICAgICogSGlkZSB0aGUgcG9wdXAgd2luZG93CiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgICB0aGlzLmhpZGRlbiA9IHRydWU7CiAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gUG9wdXA7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gUG9wdXA7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiAxMDUgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICJ1c2Ugc3RyaWN0IjsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgogIHZhciBOb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7CiAgdmFyIEVkZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTsKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogIHZhciBTZWxlY3Rpb25IYW5kbGVyID0gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFNlbGVjdGlvbkhhbmRsZXIoYm9keSwgY2FudmFzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0aW9uSGFuZGxlcik7CgogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhczsKICAgICAgdGhpcy5zZWxlY3Rpb25PYmogPSB7IG5vZGVzOiBbXSwgZWRnZXM6IFtdIH07CiAgICAgIHRoaXMuaG92ZXJPYmogPSB7IG5vZGVzOiB7fSwgZWRnZXM6IHt9IH07CgogICAgICB0aGlzLm9wdGlvbnMgPSB7fTsKICAgICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHsKICAgICAgICBtdWx0aXNlbGVjdDogZmFsc2UsCiAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSwKICAgICAgICBzZWxlY3RDb25uZWN0ZWRFZGdlczogdHJ1ZSwKICAgICAgICBob3ZlckNvbm5lY3RlZEVkZ2VzOiB0cnVlCiAgICAgIH07CiAgICAgIHV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucywgdGhpcy5kZWZhdWx0T3B0aW9ucyk7CgogICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbigiX2RhdGFDaGFuZ2VkIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnVwZGF0ZVNlbGVjdGlvbigpOwogICAgICB9KTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoU2VsZWN0aW9uSGFuZGxlciwgW3sKICAgICAga2V5OiAic2V0T3B0aW9ucyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgZmllbGRzID0gWyJtdWx0aXNlbGVjdCIsICJob3ZlckNvbm5lY3RlZEVkZ2VzIiwgInNlbGVjdGFibGUiLCAic2VsZWN0Q29ubmVjdGVkRWRnZXMiXTsKICAgICAgICAgIHV0aWwuc2VsZWN0aXZlRGVlcEV4dGVuZChmaWVsZHMsIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInNlbGVjdE9uUG9pbnQiLAoKICAgICAgLyoqCiAgICAgICAqIGhhbmRsZXMgdGhlIHNlbGVjdGlvbiBwYXJ0IG9mIHRoZSB0YXA7CiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0T25Qb2ludChwb2ludGVyKSB7CiAgICAgICAgdmFyIHNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3RhYmxlID09PSB0cnVlKSB7CiAgICAgICAgICB2YXIgb2JqID0gdGhpcy5nZXROb2RlQXQocG9pbnRlcikgfHwgdGhpcy5nZXRFZGdlQXQocG9pbnRlcik7CgogICAgICAgICAgLy8gdW5zZWxlY3QgYWZ0ZXIgZ2V0dGluZyB0aGUgb2JqZWN0cyBpbiBvcmRlciB0byByZXN0b3JlIHdpZHRoIGFuZCBoZWlnaHQuCiAgICAgICAgICB0aGlzLnVuc2VsZWN0QWxsKCk7CgogICAgICAgICAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RPYmplY3Qob2JqKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoIl9yZXF1ZXN0UmVkcmF3Iik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZWxlY3RlZDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJzZWxlY3RBZGRpdGlvbmFsT25Qb2ludCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RBZGRpdGlvbmFsT25Qb2ludChwb2ludGVyKSB7CiAgICAgICAgdmFyIHNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlbGVjdGFibGUgPT09IHRydWUpIHsKICAgICAgICAgIHZhciBvYmogPSB0aGlzLmdldE5vZGVBdChwb2ludGVyKSB8fCB0aGlzLmdldEVkZ2VBdChwb2ludGVyKTsKCiAgICAgICAgICBpZiAob2JqICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgIGlmIChvYmouaXNTZWxlY3RlZCgpID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgdGhpcy5kZXNlbGVjdE9iamVjdChvYmopOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuc2VsZWN0T2JqZWN0KG9iaik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoIl9yZXF1ZXN0UmVkcmF3Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZWxlY3Rpb25DaGFuZ2VkOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9nZW5lcmF0ZUNsaWNrRXZlbnQiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2dlbmVyYXRlQ2xpY2tFdmVudChldmVudFR5cGUsIGV2ZW50LCBwb2ludGVyLCBvbGRTZWxlY3Rpb24pIHsKICAgICAgICB2YXIgZW1wdHlTZWxlY3Rpb24gPSBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzRdOwoKICAgICAgICB2YXIgcHJvcGVydGllcyA9IHVuZGVmaW5lZDsKICAgICAgICBpZiAoZW1wdHlTZWxlY3Rpb24gPT09IHRydWUpIHsKICAgICAgICAgIHByb3BlcnRpZXMgPSB7IG5vZGVzOiBbXSwgZWRnZXM6IFtdIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHByb3BlcnRpZXMgPSB0aGlzLmdldFNlbGVjdGlvbigpOwogICAgICAgIH0KICAgICAgICBwcm9wZXJ0aWVzWyJwb2ludGVyIl0gPSB7CiAgICAgICAgICBET006IHsgeDogcG9pbnRlci54LCB5OiBwb2ludGVyLnkgfSwKICAgICAgICAgIGNhbnZhczogdGhpcy5jYW52YXMuRE9NdG9DYW52YXMocG9pbnRlcikKICAgICAgICB9OwogICAgICAgIHByb3BlcnRpZXNbImV2ZW50Il0gPSBldmVudDsKCiAgICAgICAgaWYgKG9sZFNlbGVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBwcm9wZXJ0aWVzWyJwcmV2aW91c1NlbGVjdGlvbiJdID0gb2xkU2VsZWN0aW9uOwogICAgICAgIH0KICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KGV2ZW50VHlwZSwgcHJvcGVydGllcyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic2VsZWN0T2JqZWN0IiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdE9iamVjdChvYmopIHsKICAgICAgICB2YXIgaGlnaGxpZ2h0RWRnZXMgPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5zZWxlY3RDb25uZWN0ZWRFZGdlcyA6IGFyZ3VtZW50c1sxXTsKCiAgICAgICAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTm9kZSkgewogICAgICAgICAgICBpZiAoaGlnaGxpZ2h0RWRnZXMgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RDb25uZWN0ZWRFZGdlcyhvYmopOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBvYmouc2VsZWN0KCk7CiAgICAgICAgICB0aGlzLl9hZGRUb1NlbGVjdGlvbihvYmopOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJkZXNlbGVjdE9iamVjdCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXNlbGVjdE9iamVjdChvYmopIHsKICAgICAgICBpZiAob2JqLmlzU2VsZWN0ZWQoKSA9PT0gdHJ1ZSkgewogICAgICAgICAgb2JqLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLl9yZW1vdmVGcm9tU2VsZWN0aW9uKG9iaik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9nZXRBbGxOb2Rlc092ZXJsYXBwaW5nV2l0aCIsCgogICAgICAvKioKICAgICAgICogcmV0cmlldmUgYWxsIG5vZGVzIG92ZXJsYXBwaW5nIHdpdGggZ2l2ZW4gb2JqZWN0CiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlcnMgbGVmdCwgdG9wLCByaWdodCwgYm90dG9tCiAgICAgICAqIEByZXR1cm4ge051bWJlcltdfSAgIEFuIGFycmF5IHdpdGggaWQncyBvZiB0aGUgb3ZlcmxhcHBpbmcgbm9kZXMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0QWxsTm9kZXNPdmVybGFwcGluZ1dpdGgob2JqZWN0KSB7CiAgICAgICAgdmFyIG92ZXJsYXBwaW5nTm9kZXMgPSBbXTsKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmJvZHkubm9kZXM7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBub2RlSWQgPSB0aGlzLmJvZHkubm9kZUluZGljZXNbaV07CiAgICAgICAgICBpZiAobm9kZXNbbm9kZUlkXS5pc092ZXJsYXBwaW5nV2l0aChvYmplY3QpKSB7CiAgICAgICAgICAgIG92ZXJsYXBwaW5nTm9kZXMucHVzaChub2RlSWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gb3ZlcmxhcHBpbmdOb2RlczsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfcG9pbnRlclRvUG9zaXRpb25PYmplY3QiLAoKICAgICAgLyoqCiAgICAgICAqIFJldHVybiBhIHBvc2l0aW9uIG9iamVjdCBpbiBjYW52YXNzcGFjZSBmcm9tIGEgc2luZ2xlIHBvaW50IGluIHNjcmVlbnNwYWNlCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBwb2ludGVyCiAgICAgICAqIEByZXR1cm5zIHt7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXJ9fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdChwb2ludGVyKSB7CiAgICAgICAgdmFyIGNhbnZhc1BvcyA9IHRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHBvaW50ZXIpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsZWZ0OiBjYW52YXNQb3MueCAtIDEsCiAgICAgICAgICB0b3A6IGNhbnZhc1Bvcy55ICsgMSwKICAgICAgICAgIHJpZ2h0OiBjYW52YXNQb3MueCArIDEsCiAgICAgICAgICBib3R0b206IGNhbnZhc1Bvcy55IC0gMQogICAgICAgIH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZ2V0Tm9kZUF0IiwKCiAgICAgIC8qKgogICAgICAgKiBHZXQgdGhlIHRvcCBub2RlIGF0IHRoZSBhIHNwZWNpZmljIHBvaW50IChsaWtlIGEgY2xpY2spCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7e3g6IE51bWJlciwgeTogTnVtYmVyfX0gcG9pbnRlcgogICAgICAgKiBAcmV0dXJuIHtOb2RlIHwgdW5kZWZpbmVkfSBub2RlCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Tm9kZUF0KHBvaW50ZXIpIHsKICAgICAgICB2YXIgcmV0dXJuTm9kZSA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTsKCiAgICAgICAgLy8gd2UgZmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBuYXZpZ2F0aW9uIGNvbnRyb2xzIGVsZW1lbnQKICAgICAgICB2YXIgcG9zaXRpb25PYmplY3QgPSB0aGlzLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdChwb2ludGVyKTsKICAgICAgICB2YXIgb3ZlcmxhcHBpbmdOb2RlcyA9IHRoaXMuX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoKHBvc2l0aW9uT2JqZWN0KTsKICAgICAgICAvLyBpZiB0aGVyZSBhcmUgb3ZlcmxhcHBpbmcgbm9kZXMsIHNlbGVjdCB0aGUgbGFzdCBvbmUsIHRoaXMgaXMgdGhlCiAgICAgICAgLy8gb25lIHdoaWNoIGlzIGRyYXduIG9uIHRvcCBvZiB0aGUgb3RoZXJzCiAgICAgICAgaWYgKG92ZXJsYXBwaW5nTm9kZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgaWYgKHJldHVybk5vZGUgPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5ub2Rlc1tvdmVybGFwcGluZ05vZGVzW292ZXJsYXBwaW5nTm9kZXMubGVuZ3RoIC0gMV1dOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG92ZXJsYXBwaW5nTm9kZXNbb3ZlcmxhcHBpbmdOb2Rlcy5sZW5ndGggLSAxXTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX2dldEVkZ2VzT3ZlcmxhcHBpbmdXaXRoIiwKCiAgICAgIC8qKgogICAgICAgKiByZXRyaWV2ZSBhbGwgZWRnZXMgb3ZlcmxhcHBpbmcgd2l0aCBnaXZlbiBvYmplY3QsIHNlbGVjdG9yIGlzIGFyb3VuZCBjZW50ZXIKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAgQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVycyBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20KICAgICAgICogQHJldHVybiB7TnVtYmVyW119ICAgQW4gYXJyYXkgd2l0aCBpZCdzIG9mIHRoZSBvdmVybGFwcGluZyBub2RlcwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRFZGdlc092ZXJsYXBwaW5nV2l0aChvYmplY3QsIG92ZXJsYXBwaW5nRWRnZXMpIHsKICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmJvZHkuZWRnZXM7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvZHkuZWRnZUluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlZGdlSWQgPSB0aGlzLmJvZHkuZWRnZUluZGljZXNbaV07CiAgICAgICAgICBpZiAoZWRnZXNbZWRnZUlkXS5pc092ZXJsYXBwaW5nV2l0aChvYmplY3QpKSB7CiAgICAgICAgICAgIG92ZXJsYXBwaW5nRWRnZXMucHVzaChlZGdlSWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfZ2V0QWxsRWRnZXNPdmVybGFwcGluZ1dpdGgiLAoKICAgICAgLyoqCiAgICAgICAqIHJldHJpZXZlIGFsbCBub2RlcyBvdmVybGFwcGluZyB3aXRoIGdpdmVuIG9iamVjdAogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0ICBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXJzIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbQogICAgICAgKiBAcmV0dXJuIHtOdW1iZXJbXX0gICBBbiBhcnJheSB3aXRoIGlkJ3Mgb2YgdGhlIG92ZXJsYXBwaW5nIG5vZGVzCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEFsbEVkZ2VzT3ZlcmxhcHBpbmdXaXRoKG9iamVjdCkgewogICAgICAgIHZhciBvdmVybGFwcGluZ0VkZ2VzID0gW107CiAgICAgICAgdGhpcy5fZ2V0RWRnZXNPdmVybGFwcGluZ1dpdGgob2JqZWN0LCBvdmVybGFwcGluZ0VkZ2VzKTsKICAgICAgICByZXR1cm4gb3ZlcmxhcHBpbmdFZGdlczsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRFZGdlQXQiLAoKICAgICAgLyoqCiAgICAgICAqIFBsYWNlIGhvbGRlci4gVG8gaW1wbGVtZW50IGNoYW5nZSB0aGUgZ2V0Tm9kZUF0IHRvIGEgX2dldE9iamVjdEF0LiBIYXZlIHRoZSBfZ2V0T2JqZWN0QXQgY2FsbAogICAgICAgKiBnZXROb2RlQXQgYW5kIF9nZXRFZGdlc0F0LCB0aGVuIHByaW9ydGl6ZSB0aGUgc2VsZWN0aW9uIHRvIHVzZXIgcHJlZmVyZW5jZXMuCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBwb2ludGVyCiAgICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWRnZUF0KHBvaW50ZXIpIHsKICAgICAgICB2YXIgcmV0dXJuRWRnZSA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTsKCiAgICAgICAgdmFyIHBvc2l0aW9uT2JqZWN0ID0gdGhpcy5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QocG9pbnRlcik7CiAgICAgICAgdmFyIG92ZXJsYXBwaW5nRWRnZXMgPSB0aGlzLl9nZXRBbGxFZGdlc092ZXJsYXBwaW5nV2l0aChwb3NpdGlvbk9iamVjdCk7CgogICAgICAgIGlmIChvdmVybGFwcGluZ0VkZ2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGlmIChyZXR1cm5FZGdlID09PSB0cnVlKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmJvZHkuZWRnZXNbb3ZlcmxhcHBpbmdFZGdlc1tvdmVybGFwcGluZ0VkZ2VzLmxlbmd0aCAtIDFdXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBvdmVybGFwcGluZ0VkZ2VzW292ZXJsYXBwaW5nRWRnZXMubGVuZ3RoIC0gMV07CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9hZGRUb1NlbGVjdGlvbiIsCgogICAgICAvKioKICAgICAgICogQWRkIG9iamVjdCB0byB0aGUgc2VsZWN0aW9uIGFycmF5LgogICAgICAgKgogICAgICAgKiBAcGFyYW0gb2JqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZFRvU2VsZWN0aW9uKG9iaikgewogICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBOb2RlKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGlvbk9iai5ub2Rlc1tvYmouaWRdID0gb2JqOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGlvbk9iai5lZGdlc1tvYmouaWRdID0gb2JqOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfYWRkVG9Ib3ZlciIsCgogICAgICAvKioKICAgICAgICogQWRkIG9iamVjdCB0byB0aGUgc2VsZWN0aW9uIGFycmF5LgogICAgICAgKgogICAgICAgKiBAcGFyYW0gb2JqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZFRvSG92ZXIob2JqKSB7CiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE5vZGUpIHsKICAgICAgICAgIHRoaXMuaG92ZXJPYmoubm9kZXNbb2JqLmlkXSA9IG9iajsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ob3Zlck9iai5lZGdlc1tvYmouaWRdID0gb2JqOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfcmVtb3ZlRnJvbVNlbGVjdGlvbiIsCgogICAgICAvKioKICAgICAgICogUmVtb3ZlIGEgc2luZ2xlIG9wdGlvbiBmcm9tIHNlbGVjdGlvbi4KICAgICAgICoKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iagogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVGcm9tU2VsZWN0aW9uKG9iaikgewogICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBOb2RlKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5zZWxlY3Rpb25PYmoubm9kZXNbb2JqLmlkXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGVsZXRlIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzW29iai5pZF07CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInVuc2VsZWN0QWxsIiwKCiAgICAgIC8qKgogICAgICAgKiBVbnNlbGVjdCBhbGwuIFRoZSBzZWxlY3Rpb25PYmogaXMgdXNlZnVsIGZvciB0aGlzLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVuc2VsZWN0QWxsKCkgewogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2RlcykgewogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25PYmoubm9kZXNbbm9kZUlkXS51bnNlbGVjdCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk9iai5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzW2VkZ2VJZF0udW5zZWxlY3QoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuc2VsZWN0aW9uT2JqID0geyBub2Rlczoge30sIGVkZ2VzOiB7fSB9OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9nZXRTZWxlY3RlZE5vZGVDb3VudCIsCgogICAgICAvKioKICAgICAgICogcmV0dXJuIHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWQgbm9kZXMKICAgICAgICoKICAgICAgICogQHJldHVybnMge251bWJlcn0KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U2VsZWN0ZWROb2RlQ291bnQoKSB7CiAgICAgICAgdmFyIGNvdW50ID0gMDsKICAgICAgICBmb3IgKHZhciBub2RlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmoubm9kZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgIGNvdW50ICs9IDE7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3VudDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfZ2V0U2VsZWN0ZWROb2RlIiwKCiAgICAgIC8qKgogICAgICAgKiByZXR1cm4gdGhlIHNlbGVjdGVkIG5vZGUKICAgICAgICoKICAgICAgICogQHJldHVybnMge251bWJlcn0KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U2VsZWN0ZWROb2RlKCkgewogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2RlcykgewogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzW25vZGVJZF07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX2dldFNlbGVjdGVkRWRnZSIsCgogICAgICAvKioKICAgICAgICogcmV0dXJuIHRoZSBzZWxlY3RlZCBlZGdlCiAgICAgICAqCiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNlbGVjdGVkRWRnZSgpIHsKICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk9iai5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbk9iai5lZGdlc1tlZGdlSWRdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9nZXRTZWxlY3RlZEVkZ2VDb3VudCIsCgogICAgICAvKioKICAgICAgICogcmV0dXJuIHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWQgZWRnZXMKICAgICAgICoKICAgICAgICogQHJldHVybnMge251bWJlcn0KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U2VsZWN0ZWRFZGdlQ291bnQoKSB7CiAgICAgICAgdmFyIGNvdW50ID0gMDsKICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk9iai5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgIGNvdW50ICs9IDE7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3VudDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJfZ2V0U2VsZWN0ZWRPYmplY3RDb3VudCIsCgogICAgICAvKioKICAgICAgICogcmV0dXJuIHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWQgb2JqZWN0cy4KICAgICAgICoKICAgICAgICogQHJldHVybnMge251bWJlcn0KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U2VsZWN0ZWRPYmplY3RDb3VudCgpIHsKICAgICAgICB2YXIgY291bnQgPSAwOwogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2RlcykgewogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgY291bnQgKz0gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgZWRnZUlkIGluIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzKSB7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25PYmouZWRnZXMuaGFzT3duUHJvcGVydHkoZWRnZUlkKSkgewogICAgICAgICAgICBjb3VudCArPSAxOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gY291bnQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX3NlbGVjdGlvbklzRW1wdHkiLAoKICAgICAgLyoqCiAgICAgICAqIENoZWNrIGlmIGFueXRoaW5nIGlzIHNlbGVjdGVkCiAgICAgICAqCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWxlY3Rpb25Jc0VtcHR5KCkgewogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2RlcykgewogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk9iai5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX2NsdXN0ZXJJblNlbGVjdGlvbiIsCgogICAgICAvKioKICAgICAgICogY2hlY2sgaWYgb25lIG9mIHRoZSBzZWxlY3RlZCBub2RlcyBpcyBhIGNsdXN0ZXIuCiAgICAgICAqCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jbHVzdGVySW5TZWxlY3Rpb24oKSB7CiAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzKSB7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25PYmoubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25PYmoubm9kZXNbbm9kZUlkXS5jbHVzdGVyU2l6ZSA+IDEpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX3NlbGVjdENvbm5lY3RlZEVkZ2VzIiwKCiAgICAgIC8qKgogICAgICAgKiBzZWxlY3QgdGhlIGVkZ2VzIGNvbm5lY3RlZCB0byB0aGUgbm9kZSB0aGF0IGlzIGJlaW5nIHNlbGVjdGVkCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7Tm9kZX0gbm9kZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWxlY3RDb25uZWN0ZWRFZGdlcyhub2RlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZWRnZSA9IG5vZGUuZWRnZXNbaV07CiAgICAgICAgICBlZGdlLnNlbGVjdCgpOwogICAgICAgICAgdGhpcy5fYWRkVG9TZWxlY3Rpb24oZWRnZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogIl9ob3ZlckNvbm5lY3RlZEVkZ2VzIiwKCiAgICAgIC8qKgogICAgICAgKiBzZWxlY3QgdGhlIGVkZ2VzIGNvbm5lY3RlZCB0byB0aGUgbm9kZSB0aGF0IGlzIGJlaW5nIHNlbGVjdGVkCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB7Tm9kZX0gbm9kZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ob3ZlckNvbm5lY3RlZEVkZ2VzKG5vZGUpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuZWRnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlZGdlID0gbm9kZS5lZGdlc1tpXTsKICAgICAgICAgIGVkZ2UuaG92ZXIgPSB0cnVlOwogICAgICAgICAgdGhpcy5fYWRkVG9Ib3ZlcihlZGdlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiX3Vuc2VsZWN0Q29ubmVjdGVkRWRnZXMiLAoKICAgICAgLyoqCiAgICAgICAqIHVuc2VsZWN0IHRoZSBlZGdlcyBjb25uZWN0ZWQgdG8gdGhlIG5vZGUgdGhhdCBpcyBiZWluZyBzZWxlY3RlZAogICAgICAgKgogICAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5zZWxlY3RDb25uZWN0ZWRFZGdlcyhub2RlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZWRnZSA9IG5vZGUuZWRnZXNbaV07CiAgICAgICAgICBlZGdlLnVuc2VsZWN0KCk7CiAgICAgICAgICB0aGlzLl9yZW1vdmVGcm9tU2VsZWN0aW9uKGVkZ2UpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJibHVyT2JqZWN0IiwKCiAgICAgIC8qKgogICAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHNvbWVvbmUgY2xpY2tzIG9uIGEgbm9kZS4gZWl0aGVyIHNlbGVjdCBvciBkZXNlbGVjdCBpdC4KICAgICAgICogSWYgdGhlcmUgaXMgYW4gZXhpc3Rpbmcgc2VsZWN0aW9uIGFuZCB3ZSBkb24ndCB3YW50IHRvIGFwcGVuZCB0byBpdCwgY2xlYXIgdGhlIGV4aXN0aW5nIHNlbGVjdGlvbgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge05vZGUgfHwgRWRnZX0gb2JqZWN0CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gYmx1ck9iamVjdChvYmplY3QpIHsKICAgICAgICBpZiAob2JqZWN0LmhvdmVyID09PSB0cnVlKSB7CiAgICAgICAgICBvYmplY3QuaG92ZXIgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoImJsdXJOb2RlIiwgeyBub2RlOiBvYmplY3QuaWQgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImhvdmVyT2JqZWN0IiwKCiAgICAgIC8qKgogICAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHNvbWVvbmUgY2xpY2tzIG9uIGEgbm9kZS4gZWl0aGVyIHNlbGVjdCBvciBkZXNlbGVjdCBpdC4KICAgICAgICogSWYgdGhlcmUgaXMgYW4gZXhpc3Rpbmcgc2VsZWN0aW9uIGFuZCB3ZSBkb24ndCB3YW50IHRvIGFwcGVuZCB0byBpdCwgY2xlYXIgdGhlIGV4aXN0aW5nIHNlbGVjdGlvbgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge05vZGUgfHwgRWRnZX0gb2JqZWN0CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gaG92ZXJPYmplY3Qob2JqZWN0KSB7CiAgICAgICAgdmFyIGhvdmVyQ2hhbmdlZCA9IGZhbHNlOwogICAgICAgIC8vIHJlbW92ZSBhbGwgbm9kZSBob3ZlciBoaWdobGlnaHRzCiAgICAgICAgZm9yICh2YXIgbm9kZUlkIGluIHRoaXMuaG92ZXJPYmoubm9kZXMpIHsKICAgICAgICAgIGlmICh0aGlzLmhvdmVyT2JqLm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgaWYgKG9iamVjdCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdGhpcy5ibHVyT2JqZWN0KHRoaXMuaG92ZXJPYmoubm9kZXNbbm9kZUlkXSk7CiAgICAgICAgICAgICAgaG92ZXJDaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBOb2RlICYmIG9iamVjdC5pZCAhPSBub2RlSWQgfHwgb2JqZWN0IGluc3RhbmNlb2YgRWRnZSB8fCBvYmplY3QgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHRoaXMuYmx1ck9iamVjdCh0aGlzLmhvdmVyT2JqLm5vZGVzW25vZGVJZF0pOwogICAgICAgICAgICAgIGhvdmVyQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaG92ZXJPYmoubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gcmVtb3ZpbmcgYWxsIGVkZ2UgaG92ZXIgaGlnaGxpZ2h0cwogICAgICAgIGZvciAodmFyIGVkZ2VJZCBpbiB0aGlzLmhvdmVyT2JqLmVkZ2VzKSB7CiAgICAgICAgICBpZiAodGhpcy5ob3Zlck9iai5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgIHRoaXMuaG92ZXJPYmouZWRnZXNbZWRnZUlkXS5ob3ZlciA9IGZhbHNlOwogICAgICAgICAgICBkZWxldGUgdGhpcy5ob3Zlck9iai5lZGdlc1tlZGdlSWRdOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKG9iamVjdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAob2JqZWN0LmhvdmVyID09PSBmYWxzZSkgewogICAgICAgICAgICBvYmplY3QuaG92ZXIgPSB0cnVlOwogICAgICAgICAgICB0aGlzLl9hZGRUb0hvdmVyKG9iamVjdCk7CiAgICAgICAgICAgIGhvdmVyQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBOb2RlKSB7CiAgICAgICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgiaG92ZXJOb2RlIiwgeyBub2RlOiBvYmplY3QuaWQgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBOb2RlICYmIHRoaXMub3B0aW9ucy5ob3ZlckNvbm5lY3RlZEVkZ2VzID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuX2hvdmVyQ29ubmVjdGVkRWRnZXMob2JqZWN0KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChob3ZlckNoYW5nZWQgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoIl9yZXF1ZXN0UmVkcmF3Iik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImdldFNlbGVjdGlvbiIsCgogICAgICAvKioKICAgICAgICoKICAgICAgICogcmV0cmlldmUgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBvYmplY3RzCiAgICAgICAqIEByZXR1cm4ge3tub2RlczogQXJyYXkuPFN0cmluZz4sIGVkZ2VzOiBBcnJheS48U3RyaW5nPn19IHNlbGVjdGlvbgogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpIHsKICAgICAgICB2YXIgbm9kZUlkcyA9IHRoaXMuZ2V0U2VsZWN0ZWROb2RlcygpOwogICAgICAgIHZhciBlZGdlSWRzID0gdGhpcy5nZXRTZWxlY3RlZEVkZ2VzKCk7CiAgICAgICAgcmV0dXJuIHsgbm9kZXM6IG5vZGVJZHMsIGVkZ2VzOiBlZGdlSWRzIH07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZ2V0U2VsZWN0ZWROb2RlcyIsCgogICAgICAvKioKICAgICAgICoKICAgICAgICogcmV0cmlldmUgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBub2RlcwogICAgICAgKiBAcmV0dXJuIHtTdHJpbmdbXX0gc2VsZWN0aW9uICAgIEFuIGFycmF5IHdpdGggdGhlIGlkcyBvZiB0aGUKICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkIG5vZGVzLgogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkTm9kZXMoKSB7CiAgICAgICAgdmFyIGlkQXJyYXkgPSBbXTsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlbGVjdGFibGUgPT09IHRydWUpIHsKICAgICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2RlcykgewogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25PYmoubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICAgIGlkQXJyYXkucHVzaChub2RlSWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpZEFycmF5OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImdldFNlbGVjdGVkRWRnZXMiLAoKICAgICAgLyoqCiAgICAgICAqCiAgICAgICAqIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZWRnZXMKICAgICAgICogQHJldHVybiB7QXJyYXl9IHNlbGVjdGlvbiAgICBBbiBhcnJheSB3aXRoIHRoZSBpZHMgb2YgdGhlCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCBub2Rlcy4KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZEVkZ2VzKCkgewogICAgICAgIHZhciBpZEFycmF5ID0gW107CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3RhYmxlID09PSB0cnVlKSB7CiAgICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzLmhhc093blByb3BlcnR5KGVkZ2VJZCkpIHsKICAgICAgICAgICAgICBpZEFycmF5LnB1c2goZWRnZUlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gaWRBcnJheTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJzZWxlY3ROb2RlcyIsCgogICAgICAvKioKICAgICAgICogc2VsZWN0IHplcm8gb3IgbW9yZSBub2RlcyB3aXRoIHRoZSBvcHRpb24gdG8gaGlnaGxpZ2h0IGVkZ2VzCiAgICAgICAqIEBwYXJhbSB7TnVtYmVyW10gfCBTdHJpbmdbXX0gc2VsZWN0aW9uICAgICBBbiBhcnJheSB3aXRoIHRoZSBpZHMgb2YgdGhlCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCBub2Rlcy4KICAgICAgICogQHBhcmFtIHtib29sZWFufSBbaGlnaGxpZ2h0RWRnZXNdCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0Tm9kZXMoc2VsZWN0aW9uKSB7CiAgICAgICAgdmFyIGhpZ2hsaWdodEVkZ2VzID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzFdOwoKICAgICAgICB2YXIgaSA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgaWQgPSB1bmRlZmluZWQ7CgogICAgICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5sZW5ndGggPT09IHVuZGVmaW5lZCkgdGhyb3cgIlNlbGVjdGlvbiBtdXN0IGJlIGFuIGFycmF5IHdpdGggaWRzIjsKCiAgICAgICAgLy8gZmlyc3QgdW5zZWxlY3QgYW55IHNlbGVjdGVkIG5vZGUKICAgICAgICB0aGlzLnVuc2VsZWN0QWxsKCk7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBzZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlkID0gc2VsZWN0aW9uW2ldOwoKICAgICAgICAgIHZhciBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW2lkXTsKICAgICAgICAgIGlmICghbm9kZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiTm9kZSB3aXRoIGlkIFwiIiArIGlkICsgIlwiIG5vdCBmb3VuZCIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5zZWxlY3RPYmplY3Qobm9kZSwgaGlnaGxpZ2h0RWRnZXMpOwogICAgICAgIH0KICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCJfcmVxdWVzdFJlZHJhdyIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInNlbGVjdEVkZ2VzIiwKCiAgICAgIC8qKgogICAgICAgKiBzZWxlY3QgemVybyBvciBtb3JlIGVkZ2VzCiAgICAgICAqIEBwYXJhbSB7TnVtYmVyW10gfCBTdHJpbmdbXX0gc2VsZWN0aW9uICAgICBBbiBhcnJheSB3aXRoIHRoZSBpZHMgb2YgdGhlCiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCBub2Rlcy4KICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RFZGdlcyhzZWxlY3Rpb24pIHsKICAgICAgICB2YXIgaSA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgaWQgPSB1bmRlZmluZWQ7CgogICAgICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5sZW5ndGggPT09IHVuZGVmaW5lZCkgdGhyb3cgIlNlbGVjdGlvbiBtdXN0IGJlIGFuIGFycmF5IHdpdGggaWRzIjsKCiAgICAgICAgLy8gZmlyc3QgdW5zZWxlY3QgYW55IHNlbGVjdGVkIG9iamVjdHMKICAgICAgICB0aGlzLnVuc2VsZWN0QWxsKCk7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBzZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlkID0gc2VsZWN0aW9uW2ldOwoKICAgICAgICAgIHZhciBlZGdlID0gdGhpcy5ib2R5LmVkZ2VzW2lkXTsKICAgICAgICAgIGlmICghZWRnZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWRnZSB3aXRoIGlkIFwiIiArIGlkICsgIlwiIG5vdCBmb3VuZCIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5zZWxlY3RPYmplY3QoZWRnZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoIl9yZXF1ZXN0UmVkcmF3Iik7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAidXBkYXRlU2VsZWN0aW9uIiwKCiAgICAgIC8qKgogICAgICAgKiBWYWxpZGF0ZSB0aGUgc2VsZWN0aW9uOiByZW1vdmUgaWRzIG9mIG5vZGVzIHdoaWNoIG5vIGxvbmdlciBleGlzdAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbigpIHsKICAgICAgICBmb3IgKHZhciBub2RlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmoubm9kZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zZWxlY3Rpb25PYmoubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBlZGdlSWQgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk9iai5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlZGdlSWQpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5ib2R5LmVkZ2VzLmhhc093blByb3BlcnR5KGVkZ2VJZCkpIHsKICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zZWxlY3Rpb25PYmouZWRnZXNbZWRnZUlkXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBTZWxlY3Rpb25IYW5kbGVyOwogIH0pKCk7CgogIGV4cG9ydHNbImRlZmF1bHQiXSA9IFNlbGVjdGlvbkhhbmRsZXI7CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CgovKioqLyB9LAovKiAxMDYgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgogICd1c2Ugc3RyaWN0JzsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgdmFsdWU6IHRydWUKICB9KTsKCiAgdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9CgogIHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgdmFyIExheW91dEVuZ2luZSA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBMYXlvdXRFbmdpbmUoYm9keSkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGF5b3V0RW5naW5lKTsKCiAgICAgIHRoaXMuYm9keSA9IGJvZHk7CgogICAgICB0aGlzLmluaXRpYWxSYW5kb21TZWVkID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMDAwMCk7CiAgICAgIHRoaXMucmFuZG9tU2VlZCA9IHRoaXMuaW5pdGlhbFJhbmRvbVNlZWQ7CiAgICAgIHRoaXMub3B0aW9ucyA9IHt9OwogICAgICB0aGlzLm9wdGlvbnNCYWNrdXAgPSB7fTsKCiAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgICAgcmFuZG9tU2VlZDogdW5kZWZpbmVkLAogICAgICAgIGhpZXJhcmNoaWNhbDogewogICAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgICBsZXZlbFNlcGFyYXRpb246IDE1MCwKICAgICAgICAgIGRpcmVjdGlvbjogJ1VEJywgLy8gVUQsIERVLCBMUiwgUkwKICAgICAgICAgIHNvcnRNZXRob2Q6ICdodWJzaXplJyAvLyBodWJzaXplLCBkaXJlY3RlZAogICAgICAgIH0KICAgICAgfTsKICAgICAgdXRpbC5leHRlbmQodGhpcy5vcHRpb25zLCB0aGlzLmRlZmF1bHRPcHRpb25zKTsKCiAgICAgIHRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzID0ge307CgogICAgICB0aGlzLmJpbmRFdmVudExpc3RlbmVycygpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhMYXlvdXRFbmdpbmUsIFt7CiAgICAgIGtleTogJ2JpbmRFdmVudExpc3RlbmVycycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kRXZlbnRMaXN0ZW5lcnMoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ19kYXRhQ2hhbmdlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnNldHVwSGllcmFyY2hpY2FsTGF5b3V0KCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ19yZXNldEhpZXJhcmNoaWNhbExheW91dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnNldHVwSGllcmFyY2hpY2FsTGF5b3V0KCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMsIGFsbE9wdGlvbnMpIHsKICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgcHJldkhpZXJhcmNoaWNhbFN0YXRlID0gdGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5lbmFibGVkOwoKICAgICAgICAgIHV0aWwubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucywgb3B0aW9ucywgJ2hpZXJhcmNoaWNhbCcpOwogICAgICAgICAgaWYgKG9wdGlvbnMucmFuZG9tU2VlZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFJhbmRvbVNlZWQgPSBvcHRpb25zLnJhbmRvbVNlZWQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIGxldmVsIHNlcGVyYXRpb24gaXMgdGhlIHJpZ2h0IHdheSB1cAogICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb24gPT09ICdSTCcgfHwgdGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb24gPT09ICdEVScpIHsKICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24gPiAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmxldmVsU2VwYXJhdGlvbiAqPSAtMTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubGV2ZWxTZXBhcmF0aW9uIDwgMCkgewogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24gKj0gLTE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfcmVzZXRIaWVyYXJjaGljYWxMYXlvdXQnKTsKICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGUgaGllcmFyY2hpY2FsIHN5c3RlbSBuZWVkcyBpdCdzIG93biBwaHlzaWNzIGFuZCBzbW9vdGggY3VydmUgc2V0dGluZ3MsIHdlIGFkYXB0IHRoZSBvdGhlciBvcHRpb25zIGlmIG5lZWRlZC4KICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRBbGxPcHRpb25zKGFsbE9wdGlvbnMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHByZXZIaWVyYXJjaGljYWxTdGF0ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIC8vIHJlZnJlc2ggdGhlIG92ZXJyaWRkZW4gb3B0aW9ucyBmb3Igbm9kZXMgYW5kIGVkZ2VzLgogICAgICAgICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ3JlZnJlc2gnKTsKICAgICAgICAgICAgICByZXR1cm4gdXRpbC5kZWVwRXh0ZW5kKGFsbE9wdGlvbnMsIHRoaXMub3B0aW9uc0JhY2t1cCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFsbE9wdGlvbnM7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnYWRhcHRBbGxPcHRpb25zJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkYXB0QWxsT3B0aW9ucyhhbGxPcHRpb25zKSB7CiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgLy8gc2V0IHRoZSBwaHlzaWNzCiAgICAgICAgICBpZiAoYWxsT3B0aW9ucy5waHlzaWNzID09PSB1bmRlZmluZWQgfHwgYWxsT3B0aW9ucy5waHlzaWNzID09PSB0cnVlKSB7CiAgICAgICAgICAgIGFsbE9wdGlvbnMucGh5c2ljcyA9IHsgc29sdmVyOiAnaGllcmFyY2hpY2FsUmVwdWxzaW9uJyB9OwogICAgICAgICAgICB0aGlzLm9wdGlvbnNCYWNrdXAucGh5c2ljcyA9IHsgc29sdmVyOiAnYmFybmVzSHV0JyB9OwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWxsT3B0aW9ucy5waHlzaWNzID09PSAnb2JqZWN0JykgewogICAgICAgICAgICB0aGlzLm9wdGlvbnNCYWNrdXAucGh5c2ljcyA9IHsgc29sdmVyOiAnYmFybmVzSHV0JyB9OwogICAgICAgICAgICBpZiAoYWxsT3B0aW9ucy5waHlzaWNzLnNvbHZlciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zQmFja3VwLnBoeXNpY3MgPSB7IHNvbHZlcjogYWxsT3B0aW9ucy5waHlzaWNzLnNvbHZlciB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFsbE9wdGlvbnMucGh5c2ljc1snc29sdmVyJ10gPSAnaGllcmFyY2hpY2FsUmVwdWxzaW9uJzsKICAgICAgICAgIH0gZWxzZSBpZiAoYWxsT3B0aW9ucy5waHlzaWNzICE9PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLm9wdGlvbnNCYWNrdXAucGh5c2ljcyA9IHsgc29sdmVyOiAnYmFybmVzSHV0JyB9OwogICAgICAgICAgICBhbGxPcHRpb25zLnBoeXNpY3NbJ3NvbHZlciddID0gJ2hpZXJhcmNoaWNhbFJlcHVsc2lvbic7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZ2V0IHRoZSB0eXBlIG9mIHN0YXRpYyBzbW9vdGggY3VydmUgaW4gY2FzZSBpdCBpcyByZXF1aXJlZAogICAgICAgICAgdmFyIHR5cGUgPSAnaG9yaXpvbnRhbCc7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb24gPT09ICdSTCcgfHwgdGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb24gPT09ICdMUicpIHsKICAgICAgICAgICAgdHlwZSA9ICd2ZXJ0aWNhbCc7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGlzYWJsZSBzbW9vdGggY3VydmVzIGlmIG5vdGhpbmcgaXMgZGVmaW5lZC4gSWYgc21vb3RoIGN1cnZlcyBoYXZlIGJlZW4gdHVybmVkIG9uLCB0dXJuIHRoZW0gaW50byBzdGF0aWMgc21vb3RoIGN1cnZlcy4KICAgICAgICAgIGlmIChhbGxPcHRpb25zLmVkZ2VzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zQmFja3VwLmVkZ2VzID0geyBzbW9vdGg6IHsgZW5hYmxlZDogdHJ1ZSwgdHlwZTogJ2R5bmFtaWMnIH0gfTsKICAgICAgICAgICAgYWxsT3B0aW9ucy5lZGdlcyA9IHsgc21vb3RoOiBmYWxzZSB9OwogICAgICAgICAgfSBlbHNlIGlmIChhbGxPcHRpb25zLmVkZ2VzLnNtb290aCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMub3B0aW9uc0JhY2t1cC5lZGdlcyA9IHsgc21vb3RoOiB7IGVuYWJsZWQ6IHRydWUsIHR5cGU6ICdkeW5hbWljJyB9IH07CiAgICAgICAgICAgIGFsbE9wdGlvbnMuZWRnZXMuc21vb3RoID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodHlwZW9mIGFsbE9wdGlvbnMuZWRnZXMuc21vb3RoID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNCYWNrdXAuZWRnZXMgPSB7IHNtb290aDogYWxsT3B0aW9ucy5lZGdlcy5zbW9vdGggfTsKICAgICAgICAgICAgICBhbGxPcHRpb25zLmVkZ2VzLnNtb290aCA9IHsgZW5hYmxlZDogYWxsT3B0aW9ucy5lZGdlcy5zbW9vdGgsIHR5cGU6IHR5cGUgfTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gdHlwZXMgZXhjZXB0IGZvciBkeW5hbWljCiAgICAgICAgICAgICAgaWYgKGFsbE9wdGlvbnMuZWRnZXMuc21vb3RoLnR5cGUgIT09IHVuZGVmaW5lZCAmJiBhbGxPcHRpb25zLmVkZ2VzLnNtb290aC50eXBlICE9PSAnZHluYW1pYycpIHsKICAgICAgICAgICAgICAgIHR5cGUgPSBhbGxPcHRpb25zLmVkZ2VzLnNtb290aC50eXBlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zQmFja3VwLmVkZ2VzID0gewogICAgICAgICAgICAgICAgc21vb3RoOiBhbGxPcHRpb25zLmVkZ2VzLnNtb290aC5lbmFibGVkID09PSB1bmRlZmluZWQgPyB0cnVlIDogYWxsT3B0aW9ucy5lZGdlcy5zbW9vdGguZW5hYmxlZCwKICAgICAgICAgICAgICAgIHR5cGU6IGFsbE9wdGlvbnMuZWRnZXMuc21vb3RoLnR5cGUgPT09IHVuZGVmaW5lZCA/ICdkeW5hbWljJyA6IGFsbE9wdGlvbnMuZWRnZXMuc21vb3RoLnR5cGUsCiAgICAgICAgICAgICAgICByb3VuZG5lc3M6IGFsbE9wdGlvbnMuZWRnZXMuc21vb3RoLnJvdW5kbmVzcyA9PT0gdW5kZWZpbmVkID8gMC41IDogYWxsT3B0aW9ucy5lZGdlcy5zbW9vdGgucm91bmRuZXNzCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBhbGxPcHRpb25zLmVkZ2VzLnNtb290aCA9IHsKICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGFsbE9wdGlvbnMuZWRnZXMuc21vb3RoLmVuYWJsZWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhbGxPcHRpb25zLmVkZ2VzLnNtb290aC5lbmFibGVkLAogICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgIHJvdW5kbmVzczogYWxsT3B0aW9ucy5lZGdlcy5zbW9vdGgucm91bmRuZXNzID09PSB1bmRlZmluZWQgPyAwLjUgOiBhbGxPcHRpb25zLmVkZ2VzLnNtb290aC5yb3VuZG5lc3MKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZm9yY2UgYWxsIGVkZ2VzIGludG8gc3RhdGljIHNtb290aCBjdXJ2ZXMuIE9ubHkgYXBwbGllcyB0byBlZGdlcyB0aGF0IGRvIG5vdCB1c2UgdGhlIGdsb2JhbCBvcHRpb25zIGZvciBzbW9vdGguCiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfZm9yY2VEaXNhYmxlRHluYW1pY0N1cnZlcycsIHR5cGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYWxsT3B0aW9uczsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZWVkZWRSYW5kb20nLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2VlZGVkUmFuZG9tKCkgewogICAgICAgIHZhciB4ID0gTWF0aC5zaW4odGhpcy5yYW5kb21TZWVkKyspICogMTAwMDA7CiAgICAgICAgcmV0dXJuIHggLSBNYXRoLmZsb29yKHgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ3Bvc2l0aW9uSW5pdGlhbGx5JywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBvc2l0aW9uSW5pdGlhbGx5KG5vZGVzQXJyYXkpIHsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5lbmFibGVkICE9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnJhbmRvbVNlZWQgPSB0aGlzLmluaXRpYWxSYW5kb21TZWVkOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlc0FycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNBcnJheVtpXTsKICAgICAgICAgICAgaWYgKCFub2RlLmlzRml4ZWQoKSAmJiAobm9kZS54ID09PSB1bmRlZmluZWQgfHwgbm9kZS55ID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IDEwICogMC4xICogbm9kZXNBcnJheS5sZW5ndGggKyAxMDsKICAgICAgICAgICAgICB2YXIgYW5nbGUgPSAyICogTWF0aC5QSSAqIHRoaXMuc2VlZGVkUmFuZG9tKCk7CiAgICAgICAgICAgICAgaWYgKG5vZGUub3B0aW9ucy5maXhlZC54ID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgbm9kZS54ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAobm9kZS5vcHRpb25zLmZpeGVkLnggPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBub2RlLnkgPSByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2dldFNlZWQnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VlZCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsUmFuZG9tU2VlZDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdzZXR1cEhpZXJhcmNoaWNhbExheW91dCcsCgogICAgICAvKioKICAgICAgICogVGhpcyBpcyB0aGUgbWFpbiBmdW5jdGlvbiB0byBsYXlvdXQgdGhlIG5vZGVzIGluIGEgaGllcmFyY2hpY2FsIHdheS4KICAgICAgICogSXQgY2hlY2tzIGlmIHRoZSBub2RlIGRldGFpbHMgYXJlIHN1cHBsaWVkIGNvcnJlY3RseQogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwSGllcmFyY2hpY2FsTGF5b3V0KCkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmVuYWJsZWQgPT09IHRydWUgJiYgdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIC8vIGdldCB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2VzdCBodWJzIGFuZCBjaGVjayBpZiB0aGUgdXNlciBoYXMgZGVmaW5lZCBhIGxldmVsIGZvciBhIG5vZGUuCiAgICAgICAgICB2YXIgbm9kZSA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgICBub2RlSWQgPSB1bmRlZmluZWQ7CiAgICAgICAgICB2YXIgZGVmaW5lZExldmVsID0gZmFsc2U7CiAgICAgICAgICB2YXIgdW5kZWZpbmVkTGV2ZWwgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzID0ge307CiAgICAgICAgICB0aGlzLm5vZGVTcGFjaW5nID0gMTAwOwoKICAgICAgICAgIGZvciAobm9kZUlkIGluIHRoaXMuYm9keS5ub2RlcykgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgICBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW25vZGVJZF07CiAgICAgICAgICAgICAgaWYgKG5vZGUub3B0aW9ucy5sZXZlbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBkZWZpbmVkTGV2ZWwgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbbm9kZUlkXSA9IG5vZGUub3B0aW9ucy5sZXZlbDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdW5kZWZpbmVkTGV2ZWwgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIGlmIHRoZSB1c2VyIGRlZmluZWQgc29tZSBsZXZlbHMgYnV0IG5vdCBhbGwsIGFsZXJ0IGFuZCBydW4gd2l0aG91dCBoaWVyYXJjaGljYWwgbGF5b3V0CiAgICAgICAgICBpZiAodW5kZWZpbmVkTGV2ZWwgPT09IHRydWUgJiYgZGVmaW5lZExldmVsID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVG8gdXNlIHRoZSBoaWVyYXJjaGljYWwgbGF5b3V0LCBub2RlcyByZXF1aXJlIGVpdGhlciBubyBwcmVkZWZpbmVkIGxldmVscyBvciBsZXZlbHMgaGF2ZSB0byBiZSBkZWZpbmVkIGZvciBhbGwgbm9kZXMuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHNldHVwIHRoZSBzeXN0ZW0gdG8gdXNlIGhpZXJhcmNoaWNhbCBtZXRob2QuCiAgICAgICAgICAgIC8vdGhpcy5fY2hhbmdlQ29uc3RhbnRzKCk7CgogICAgICAgICAgICAvLyBkZWZpbmUgbGV2ZWxzIGlmIHVuZGVmaW5lZCBieSB0aGUgdXNlcnMuIEJhc2VkIG9uIGh1YnNpemUKICAgICAgICAgICAgaWYgKHVuZGVmaW5lZExldmVsID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuc29ydE1ldGhvZCA9PT0gJ2h1YnNpemUnKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9kZXRlcm1pbmVMZXZlbHNCeUh1YnNpemUoKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuc29ydE1ldGhvZCA9PT0gJ2RpcmVjdGVkJyB8fCAnZGlyZWN0aW9uJykgewogICAgICAgICAgICAgICAgdGhpcy5fZGV0ZXJtaW5lTGV2ZWxzRGlyZWN0ZWQoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGNoZWNrIHRoZSBkaXN0cmlidXRpb24gb2YgdGhlIG5vZGVzIHBlciBsZXZlbC4KICAgICAgICAgICAgdmFyIGRpc3RyaWJ1dGlvbiA9IHRoaXMuX2dldERpc3RyaWJ1dGlvbigpOwoKICAgICAgICAgICAgLy8gcGxhY2UgdGhlIG5vZGVzIG9uIHRoZSBjYW52YXMuCiAgICAgICAgICAgIHRoaXMuX3BsYWNlTm9kZXNCeUhpZXJhcmNoeShkaXN0cmlidXRpb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfcGxhY2VOb2Rlc0J5SGllcmFyY2h5JywKCiAgICAgIC8qKgogICAgICAgKiBUaGlzIGZ1bmN0aW9uIHBsYWNlcyB0aGUgbm9kZXMgb24gdGhlIGNhbnZhcyBiYXNlZCBvbiB0aGUgaGllcmFyY2hpYWwgZGlzdHJpYnV0aW9uLgogICAgICAgKgogICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGlzdHJpYnV0aW9uIHwgb2J0YWluZWQgYnkgdGhlIGZ1bmN0aW9uIHRoaXMuX2dldERpc3RyaWJ1dGlvbigpCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3BsYWNlTm9kZXNCeUhpZXJhcmNoeShkaXN0cmlidXRpb24pIHsKICAgICAgICB2YXIgbm9kZUlkID0gdW5kZWZpbmVkLAogICAgICAgICAgICBub2RlID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMucG9zaXRpb25lZE5vZGVzID0ge307CiAgICAgICAgLy8gc3RhcnQgcGxhY2luZyBhbGwgdGhlIGxldmVsIDAgbm9kZXMgZmlyc3QuIFRoZW4gcmVjdXJzaXZlbHkgcG9zaXRpb24gdGhlaXIgYnJhbmNoZXMuCiAgICAgICAgZm9yICh2YXIgbGV2ZWwgaW4gZGlzdHJpYnV0aW9uKSB7CiAgICAgICAgICBpZiAoZGlzdHJpYnV0aW9uLmhhc093blByb3BlcnR5KGxldmVsKSkgewogICAgICAgICAgICBmb3IgKG5vZGVJZCBpbiBkaXN0cmlidXRpb25bbGV2ZWxdLm5vZGVzKSB7CiAgICAgICAgICAgICAgaWYgKGRpc3RyaWJ1dGlvbltsZXZlbF0ubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewoKICAgICAgICAgICAgICAgIG5vZGUgPSBkaXN0cmlidXRpb25bbGV2ZWxdLm5vZGVzW25vZGVJZF07CgogICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uID09PSAnVUQnIHx8IHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uID09PSAnRFUnKSB7CiAgICAgICAgICAgICAgICAgIGlmIChub2RlLnggPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIG5vZGUueCA9IGRpc3RyaWJ1dGlvbltsZXZlbF0uZGlzdGFuY2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZGlzdHJpYnV0aW9uW2xldmVsXS5kaXN0YW5jZSA9IG5vZGUueCArIHRoaXMubm9kZVNwYWNpbmc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBpZiAobm9kZS55ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICBub2RlLnkgPSBkaXN0cmlidXRpb25bbGV2ZWxdLmRpc3RhbmNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGRpc3RyaWJ1dGlvbltsZXZlbF0uZGlzdGFuY2UgPSBub2RlLnkgKyB0aGlzLm5vZGVTcGFjaW5nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb25lZE5vZGVzW25vZGVJZF0gPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5fcGxhY2VCcmFuY2hOb2Rlcyhub2RlLmVkZ2VzLCBub2RlLmlkLCBkaXN0cmlidXRpb24sIGxldmVsKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2dldERpc3RyaWJ1dGlvbicsCgogICAgICAvKioKICAgICAgICogVGhpcyBmdW5jdGlvbiBnZXQgdGhlIGRpc3RyaWJ1dGlvbiBvZiBsZXZlbHMgYmFzZWQgb24gaHVic2l6ZQogICAgICAgKgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXREaXN0cmlidXRpb24oKSB7CiAgICAgICAgdmFyIGRpc3RyaWJ1dGlvbiA9IHt9OwogICAgICAgIHZhciBub2RlSWQgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIG5vZGUgPSB1bmRlZmluZWQ7CgogICAgICAgIC8vIHdlIGZpeCBZIGJlY2F1c2UgdGhlIGhpZXJhcmNoeSBpcyB2ZXJ0aWNhbCwgd2UgZml4IFggc28gd2UgZG8gbm90IGdpdmUgYSBub2RlIGFuIHggcG9zaXRpb24gZm9yIGEgc2Vjb25kIHRpbWUuCiAgICAgICAgLy8gdGhlIGZpeCBvZiBYIGlzIHJlbW92ZWQgYWZ0ZXIgdGhlIHggdmFsdWUgaGFzIGJlZW4gc2V0LgogICAgICAgIGZvciAobm9kZUlkIGluIHRoaXMuYm9keS5ub2RlcykgewogICAgICAgICAgaWYgKHRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgIG5vZGUgPSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgdmFyIGxldmVsID0gdGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbbm9kZUlkXSA9PT0gdW5kZWZpbmVkID8gMCA6IHRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzW25vZGVJZF07CiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmRpcmVjdGlvbiA9PT0gJ1VEJyB8fCB0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmRpcmVjdGlvbiA9PT0gJ0RVJykgewogICAgICAgICAgICAgIG5vZGUueSA9IHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubGV2ZWxTZXBhcmF0aW9uICogbGV2ZWw7CiAgICAgICAgICAgICAgbm9kZS5vcHRpb25zLmZpeGVkLnkgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5vZGUueCA9IHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubGV2ZWxTZXBhcmF0aW9uICogbGV2ZWw7CiAgICAgICAgICAgICAgbm9kZS5vcHRpb25zLmZpeGVkLnggPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkaXN0cmlidXRpb25bbGV2ZWxdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBkaXN0cmlidXRpb25bbGV2ZWxdID0geyBhbW91bnQ6IDAsIG5vZGVzOiB7fSwgZGlzdGFuY2U6IDAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkaXN0cmlidXRpb25bbGV2ZWxdLmFtb3VudCArPSAxOwogICAgICAgICAgICBkaXN0cmlidXRpb25bbGV2ZWxdLm5vZGVzW25vZGVJZF0gPSBub2RlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZGlzdHJpYnV0aW9uOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19nZXRIdWJTaXplJywKCiAgICAgIC8qKgogICAgICAgKiBHZXQgdGhlIGh1YnNpemUgZnJvbSBhbGwgcmVtYWluaW5nIHVubGV2ZWxsZWQgbm9kZXMuCiAgICAgICAqCiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEh1YlNpemUoKSB7CiAgICAgICAgdmFyIGh1YlNpemUgPSAwOwogICAgICAgIGZvciAodmFyIG5vZGVJZCBpbiB0aGlzLmJvZHkubm9kZXMpIHsKICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuYm9keS5ub2Rlc1tub2RlSWRdOwogICAgICAgICAgICBpZiAodGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbbm9kZUlkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgaHViU2l6ZSA9IG5vZGUuZWRnZXMubGVuZ3RoIDwgaHViU2l6ZSA/IGh1YlNpemUgOiBub2RlLmVkZ2VzLmxlbmd0aDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gaHViU2l6ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZGV0ZXJtaW5lTGV2ZWxzQnlIdWJzaXplJywKCiAgICAgIC8qKgogICAgICAgKiB0aGlzIGZ1bmN0aW9uIGFsbG9jYXRlcyBub2RlcyBpbiBsZXZlbHMgYmFzZWQgb24gdGhlIHJlY3Vyc2l2ZSBicmFuY2hpbmcgZnJvbSB0aGUgbGFyZ2VzdCBodWJzLgogICAgICAgKgogICAgICAgKiBAcGFyYW0gaHVic2l6ZQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZXRlcm1pbmVMZXZlbHNCeUh1YnNpemUoKSB7CiAgICAgICAgdmFyIG5vZGVJZCA9IHVuZGVmaW5lZCwKICAgICAgICAgICAgbm9kZSA9IHVuZGVmaW5lZDsKICAgICAgICB2YXIgaHViU2l6ZSA9IDE7CgogICAgICAgIHdoaWxlIChodWJTaXplID4gMCkgewogICAgICAgICAgLy8gZGV0ZXJtaW5lIGh1YnMKICAgICAgICAgIGh1YlNpemUgPSB0aGlzLl9nZXRIdWJTaXplKCk7CiAgICAgICAgICBpZiAoaHViU2l6ZSA9PT0gMCkgYnJlYWs7CgogICAgICAgICAgZm9yIChub2RlSWQgaW4gdGhpcy5ib2R5Lm5vZGVzKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICAgIG5vZGUgPSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgICBpZiAobm9kZS5lZGdlcy5sZW5ndGggPT09IGh1YlNpemUpIHsKICAgICAgICAgICAgICAgIHRoaXMuX3NldExldmVsQnlIdWJzaXplKDAsIG5vZGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfc2V0TGV2ZWxCeUh1YnNpemUnLAoKICAgICAgLyoqCiAgICAgICAqIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHJlY3Vyc2l2ZWx5IHRvIGVudW1lcmF0ZSB0aGUgYmFybmNoZXMgb2YgdGhlIGxhcmdlc3QgaHVicyBhbmQgZ2l2ZSBlYWNoIG5vZGUgYSBsZXZlbC4KICAgICAgICoKICAgICAgICogQHBhcmFtIGxldmVsCiAgICAgICAqIEBwYXJhbSBlZGdlcwogICAgICAgKiBAcGFyYW0gcGFyZW50SWQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0TGV2ZWxCeUh1YnNpemUobGV2ZWwsIG5vZGUpIHsKICAgICAgICBpZiAodGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbbm9kZS5pZF0gIT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgICAgICB2YXIgY2hpbGROb2RlID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzW25vZGUuaWRdID0gbGV2ZWw7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAobm9kZS5lZGdlc1tpXS50b0lkID09PSBub2RlLmlkKSB7CiAgICAgICAgICAgIGNoaWxkTm9kZSA9IG5vZGUuZWRnZXNbaV0uZnJvbTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNoaWxkTm9kZSA9IG5vZGUuZWRnZXNbaV0udG87CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLl9zZXRMZXZlbEJ5SHVic2l6ZShsZXZlbCArIDEsIGNoaWxkTm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19kZXRlcm1pbmVMZXZlbHNEaXJlY3RlZCcsCgogICAgICAvKioKICAgICAgICogdGhpcyBmdW5jdGlvbiBhbGxvY2F0ZXMgbm9kZXMgaW4gbGV2ZWxzIGJhc2VkIG9uIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGVkZ2VzCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBodWJzaXplCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2RldGVybWluZUxldmVsc0RpcmVjdGVkKCkgewogICAgICAgIHZhciBub2RlSWQgPSB1bmRlZmluZWQsCiAgICAgICAgICAgIG5vZGUgPSB1bmRlZmluZWQ7CiAgICAgICAgdmFyIG1pbkxldmVsID0gMTAwMDA7CgogICAgICAgIC8vIHNldCBmaXJzdCBub2RlIHRvIHNvdXJjZQogICAgICAgIGZvciAobm9kZUlkIGluIHRoaXMuYm9keS5ub2RlcykgewogICAgICAgICAgaWYgKHRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShub2RlSWQpKSB7CiAgICAgICAgICAgIG5vZGUgPSB0aGlzLmJvZHkubm9kZXNbbm9kZUlkXTsKICAgICAgICAgICAgdGhpcy5fc2V0TGV2ZWxEaXJlY3RlZChtaW5MZXZlbCwgbm9kZSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgdGhlIG1pbmltdW0gbGV2ZWwKICAgICAgICBmb3IgKG5vZGVJZCBpbiB0aGlzLmJvZHkubm9kZXMpIHsKICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkobm9kZUlkKSkgewogICAgICAgICAgICBtaW5MZXZlbCA9IHRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzW25vZGVJZF0gPCBtaW5MZXZlbCA/IHRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzW25vZGVJZF0gOiBtaW5MZXZlbDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIHN1YnRyYWN0IHRoZSBtaW5pbXVtIGZyb20gdGhlIHNldCBzbyB3ZSBoYXZlIGEgcmFuZ2Ugc3RhcnRpbmcgZnJvbSAwCiAgICAgICAgZm9yIChub2RlSWQgaW4gdGhpcy5ib2R5Lm5vZGVzKSB7CiAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KG5vZGVJZCkpIHsKICAgICAgICAgICAgdGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbbm9kZUlkXSAtPSBtaW5MZXZlbDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3NldExldmVsRGlyZWN0ZWQnLAoKICAgICAgLyoqCiAgICAgICAqIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHJlY3Vyc2l2ZWx5IHRvIGVudW1lcmF0ZSB0aGUgYnJhbmNoZWQgb2YgdGhlIGZpcnN0IG5vZGUgYW5kIGdpdmUgZWFjaCBub2RlIGEgbGV2ZWwgYmFzZWQgb24gZWRnZSBkaXJlY3Rpb24KICAgICAgICoKICAgICAgICogQHBhcmFtIGxldmVsCiAgICAgICAqIEBwYXJhbSBlZGdlcwogICAgICAgKiBAcGFyYW0gcGFyZW50SWQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0TGV2ZWxEaXJlY3RlZChsZXZlbCwgbm9kZSkgewogICAgICAgIGlmICh0aGlzLmhpZXJhcmNoaWNhbExldmVsc1tub2RlLmlkXSAhPT0gdW5kZWZpbmVkKSByZXR1cm47CgogICAgICAgIHZhciBjaGlsZE5vZGUgPSB1bmRlZmluZWQ7CiAgICAgICAgdGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbbm9kZS5pZF0gPSBsZXZlbDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmVkZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAobm9kZS5lZGdlc1tpXS50b0lkID09PSBub2RlLmlkKSB7CiAgICAgICAgICAgIGNoaWxkTm9kZSA9IG5vZGUuZWRnZXNbaV0uZnJvbTsKICAgICAgICAgICAgdGhpcy5fc2V0TGV2ZWxEaXJlY3RlZChsZXZlbCAtIDEsIGNoaWxkTm9kZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGlsZE5vZGUgPSBub2RlLmVkZ2VzW2ldLnRvOwogICAgICAgICAgICB0aGlzLl9zZXRMZXZlbERpcmVjdGVkKGxldmVsICsgMSwgY2hpbGROb2RlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3BsYWNlQnJhbmNoTm9kZXMnLAoKICAgICAgLyoqCiAgICAgICAqIFRoaXMgaXMgYSByZWN1cnNpdmVseSBjYWxsZWQgZnVuY3Rpb24gdG8gZW51bWVyYXRlIHRoZSBicmFuY2hlcyBmcm9tIHRoZSBsYXJnZXN0IGh1YnMgYW5kIHBsYWNlIHRoZSBub2RlcwogICAgICAgKiBvbiBhIFggcG9zaXRpb24gdGhhdCBlbnN1cmVzIHRoZXJlIHdpbGwgYmUgbm8gb3ZlcmxhcC4KICAgICAgICoKICAgICAgICogQHBhcmFtIGVkZ2VzCiAgICAgICAqIEBwYXJhbSBwYXJlbnRJZAogICAgICAgKiBAcGFyYW0gZGlzdHJpYnV0aW9uCiAgICAgICAqIEBwYXJhbSBwYXJlbnRMZXZlbAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wbGFjZUJyYW5jaE5vZGVzKGVkZ2VzLCBwYXJlbnRJZCwgZGlzdHJpYnV0aW9uLCBwYXJlbnRMZXZlbCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWRnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBjaGlsZE5vZGUgPSB1bmRlZmluZWQ7CiAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IHVuZGVmaW5lZDsKICAgICAgICAgIGlmIChlZGdlc1tpXS50b0lkID09PSBwYXJlbnRJZCkgewogICAgICAgICAgICBjaGlsZE5vZGUgPSBlZGdlc1tpXS5mcm9tOwogICAgICAgICAgICBwYXJlbnROb2RlID0gZWRnZXNbaV0udG87CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGlsZE5vZGUgPSBlZGdlc1tpXS50bzsKICAgICAgICAgICAgcGFyZW50Tm9kZSA9IGVkZ2VzW2ldLmZyb207CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgY2hpbGROb2RlTGV2ZWwgPSB0aGlzLmhpZXJhcmNoaWNhbExldmVsc1tjaGlsZE5vZGUuaWRdOwoKICAgICAgICAgIGlmICh0aGlzLnBvc2l0aW9uZWROb2Rlc1tjaGlsZE5vZGUuaWRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgLy8gaWYgYSBub2RlIGlzIGNvbm5lY2V0ZWQgdG8gYW5vdGhlciBub2RlIG9uIHRoZSBzYW1lIGxldmVsIChvciBoaWdoZXIgKG1lYW5zIGxvd2VyIGxldmVsKSkhLCB0aGlzIGlzIG5vdCBoYW5kbGVkIGhlcmUuCiAgICAgICAgICAgIGlmIChjaGlsZE5vZGVMZXZlbCA+IHBhcmVudExldmVsKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uID09PSAnVUQnIHx8IHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uID09PSAnRFUnKSB7CiAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlLnggPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBjaGlsZE5vZGUueCA9IE1hdGgubWF4KGRpc3RyaWJ1dGlvbltjaGlsZE5vZGVMZXZlbF0uZGlzdGFuY2UsIHBhcmVudE5vZGUueCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkaXN0cmlidXRpb25bY2hpbGROb2RlTGV2ZWxdLmRpc3RhbmNlID0gY2hpbGROb2RlLnggKyB0aGlzLm5vZGVTcGFjaW5nOwogICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbmVkTm9kZXNbY2hpbGROb2RlLmlkXSA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGUueSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZS55ID0gTWF0aC5tYXgoZGlzdHJpYnV0aW9uW2NoaWxkTm9kZUxldmVsXS5kaXN0YW5jZSwgcGFyZW50Tm9kZS55KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpc3RyaWJ1dGlvbltjaGlsZE5vZGVMZXZlbF0uZGlzdGFuY2UgPSBjaGlsZE5vZGUueSArIHRoaXMubm9kZVNwYWNpbmc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMucG9zaXRpb25lZE5vZGVzW2NoaWxkTm9kZS5pZF0gPSB0cnVlOwoKICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlLmVkZ2VzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMuX3BsYWNlQnJhbmNoTm9kZXMoY2hpbGROb2RlLmVkZ2VzLCBjaGlsZE5vZGUuaWQsIGRpc3RyaWJ1dGlvbiwgY2hpbGROb2RlTGV2ZWwpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBMYXlvdXRFbmdpbmU7CiAgfSkoKTsKCiAgZXhwb3J0c1snZGVmYXVsdCddID0gTGF5b3V0RW5naW5lOwogIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSwKLyogMTA3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CgogIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKICB2YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgdmFyIEhhbW1lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpOwogIHZhciBoYW1tZXJVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7CgogIC8qKgogICAqIGNsZWFycyB0aGUgdG9vbGJhciBkaXYgZWxlbWVudCBvZiBjaGlsZHJlbgogICAqCiAgICogQHByaXZhdGUKICAgKi8KCiAgdmFyIE1hbmlwdWxhdGlvblN5c3RlbSA9IChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBNYW5pcHVsYXRpb25TeXN0ZW0oYm9keSwgY2FudmFzLCBzZWxlY3Rpb25IYW5kbGVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFuaXB1bGF0aW9uU3lzdGVtKTsKCiAgICAgIHRoaXMuYm9keSA9IGJvZHk7CiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzOwogICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBzZWxlY3Rpb25IYW5kbGVyOwoKICAgICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlOwogICAgICB0aGlzLm1hbmlwdWxhdGlvbkRpdiA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5lZGl0TW9kZURpdiA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5jbG9zZURpdiA9IHVuZGVmaW5lZDsKCiAgICAgIHRoaXMubWFuaXB1bGF0aW9uSGFtbWVycyA9IFtdOwogICAgICB0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zID0ge307CiAgICAgIHRoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnMgPSBbXTsKCiAgICAgIHRoaXMudG91Y2hUaW1lID0gMDsKICAgICAgdGhpcy50ZW1wb3JhcnlJZHMgPSB7IG5vZGVzOiBbXSwgZWRnZXM6IFtdIH07CiAgICAgIHRoaXMuZ3VpRW5hYmxlZCA9IGZhbHNlOwogICAgICB0aGlzLmluTW9kZSA9IGZhbHNlOwogICAgICB0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUgPSB1bmRlZmluZWQ7CgogICAgICB0aGlzLm9wdGlvbnMgPSB7fTsKICAgICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHsKICAgICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgICBpbml0aWFsbHlBY3RpdmU6IGZhbHNlLAogICAgICAgIGFkZE5vZGU6IHRydWUsCiAgICAgICAgYWRkRWRnZTogdHJ1ZSwKICAgICAgICBlZGl0Tm9kZTogdW5kZWZpbmVkLAogICAgICAgIGVkaXRFZGdlOiB0cnVlLAogICAgICAgIGRlbGV0ZU5vZGU6IHRydWUsCiAgICAgICAgZGVsZXRlRWRnZTogdHJ1ZSwKICAgICAgICBjb250cm9sTm9kZVN0eWxlOiB7CiAgICAgICAgICBzaGFwZTogJ2RvdCcsCiAgICAgICAgICBzaXplOiA2LAogICAgICAgICAgY29sb3I6IHsgYmFja2dyb3VuZDogJyNmZjAwMDAnLCBib3JkZXI6ICcjM2MzYzNjJywgaGlnaGxpZ2h0OiB7IGJhY2tncm91bmQ6ICcjMDdmOTY4JywgYm9yZGVyOiAnIzNjM2MzYycgfSB9LAogICAgICAgICAgYm9yZGVyV2lkdGg6IDIsCiAgICAgICAgICBib3JkZXJXaWR0aFNlbGVjdGVkOiAyCiAgICAgICAgfQogICAgICB9OwogICAgICB1dGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsIHRoaXMuZGVmYXVsdE9wdGlvbnMpOwoKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuX2NsZWFuKCk7CiAgICAgIH0pOwogICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbignX2RhdGFDaGFuZ2VkJywgdGhpcy5fcmVzdG9yZS5iaW5kKHRoaXMpKTsKICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIub24oJ19yZXNldERhdGEnLCB0aGlzLl9yZXN0b3JlLmJpbmQodGhpcykpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhNYW5pcHVsYXRpb25TeXN0ZW0sIFt7CiAgICAgIGtleTogJ19yZXN0b3JlJywKCiAgICAgIC8qKgogICAgICAgKiBJZiBzb21ldGhpbmcgY2hhbmdlcyBpbiB0aGUgZGF0YSBkdXJpbmcgZWRpdGluZywgc3dpdGNoIGJhY2sgdG8gdGhlIGluaXRpYWwgZGF0YW1hbmlwdWxhdGlvbiBzdGF0ZSBhbmQgY2xvc2UgYWxsIGVkaXQgbW9kZXMuCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc3RvcmUoKSB7CiAgICAgICAgaWYgKHRoaXMuaW5Nb2RlICE9PSBmYWxzZSkgewogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbml0aWFsbHlBY3RpdmUgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5lbmFibGVFZGl0TW9kZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5kaXNhYmxlRWRpdE1vZGUoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2V0T3B0aW9ucycsCgogICAgICAvKioKICAgICAgICogU2V0IHRoZSBPcHRpb25zCiAgICAgICAqIEBwYXJhbSBvcHRpb25zCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zLCBhbGxPcHRpb25zLCBnbG9iYWxPcHRpb25zKSB7CiAgICAgICAgaWYgKGFsbE9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKGFsbE9wdGlvbnMubG9jYWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxvY2FsZSA9IGFsbE9wdGlvbnMubG9jYWxlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxvY2FsZSA9IGdsb2JhbE9wdGlvbnMubG9jYWxlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGFsbE9wdGlvbnMubG9jYWxlcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5sb2NhbGVzID0gYWxsT3B0aW9ucy5sb2NhbGVzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxvY2FsZXMgPSBnbG9iYWxPcHRpb25zLmxvY2FsZXM7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlZCA9IG9wdGlvbnM7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlZCA9IHRydWU7CiAgICAgICAgICAgIHV0aWwuZGVlcEV4dGVuZCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbml0aWFsbHlBY3RpdmUgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5lZGl0TW9kZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLl9zZXR1cCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICd0b2dnbGVFZGl0TW9kZScsCgogICAgICAvKioKICAgICAgICogRW5hYmxlIG9yIGRpc2FibGUgZWRpdC1tb2RlLiBEcmF3cyB0aGUgRE9NIHJlcXVpcmVkIGFuZCBjbGVhbnMgdXAgYWZ0ZXIgaXRzZWxmLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZUVkaXRNb2RlKCkgewogICAgICAgIGlmICh0aGlzLmVkaXRNb2RlID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmRpc2FibGVFZGl0TW9kZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVuYWJsZUVkaXRNb2RlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2VuYWJsZUVkaXRNb2RlJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZUVkaXRNb2RlKCkgewogICAgICAgIHRoaXMuZWRpdE1vZGUgPSB0cnVlOwoKICAgICAgICB0aGlzLl9jbGVhbigpOwogICAgICAgIGlmICh0aGlzLmd1aUVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgdGhpcy5jbG9zZURpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgIHRoaXMuZWRpdE1vZGVEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIHRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdkaXNhYmxlRWRpdE1vZGUnLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZUVkaXRNb2RlKCkgewogICAgICAgIHRoaXMuZWRpdE1vZGUgPSBmYWxzZTsKCiAgICAgICAgdGhpcy5fY2xlYW4oKTsKICAgICAgICBpZiAodGhpcy5ndWlFbmFibGVkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgdGhpcy5jbG9zZURpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgdGhpcy5lZGl0TW9kZURpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgIHRoaXMuX2NyZWF0ZUVkaXRCdXR0b24oKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnc2hvd01hbmlwdWxhdG9yVG9vbGJhcicsCgogICAgICAvKioKICAgICAgICogQ3JlYXRlcyB0aGUgbWFpbiB0b29sYmFyLiBSZW1vdmVzIGZ1bmN0aW9ucyBib3VuZCB0byB0aGUgc2VsZWN0IGV2ZW50LiBCaW5kcyBhbGwgdGhlIGJ1dHRvbnMgb2YgdGhlIHRvb2xiYXIuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpIHsKICAgICAgICAvLyByZXN0b3JlIHRoZSBzdGF0ZSBvZiBhbnkgYm91bmQgZnVuY3Rpb25zIG9yIGV2ZW50cywgcmVtb3ZlIGNvbnRyb2wgbm9kZXMsIHJlc3RvcmUgcGh5c2ljcwogICAgICAgIHRoaXMuX2NsZWFuKCk7CgogICAgICAgIC8vIHJlc2V0IGdsb2JhbCBsZXRpYWJsZXMKICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRPTSA9IHt9OwoKICAgICAgICAvLyBpZiB0aGUgZ3VpIGlzIGVuYWJsZWQsIGRyYXcgYWxsIGVsZW1lbnRzLgogICAgICAgIGlmICh0aGlzLmd1aUVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgIC8vIGEgX3Jlc3RvcmUgd2lsbCBoaWRlIHRoZXNlIG1lbnVzCiAgICAgICAgICB0aGlzLmVkaXRNb2RlID0gdHJ1ZTsKICAgICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgdGhpcy5jbG9zZURpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgICB2YXIgc2VsZWN0ZWROb2RlQ291bnQgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dldFNlbGVjdGVkTm9kZUNvdW50KCk7CiAgICAgICAgICB2YXIgc2VsZWN0ZWRFZGdlQ291bnQgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dldFNlbGVjdGVkRWRnZUNvdW50KCk7CiAgICAgICAgICB2YXIgc2VsZWN0ZWRUb3RhbENvdW50ID0gc2VsZWN0ZWROb2RlQ291bnQgKyBzZWxlY3RlZEVkZ2VDb3VudDsKICAgICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTsKICAgICAgICAgIHZhciBuZWVkU2VwZXJhdG9yID0gZmFsc2U7CgogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGROb2RlICE9PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLl9jcmVhdGVBZGROb2RlQnV0dG9uKGxvY2FsZSk7CiAgICAgICAgICAgIG5lZWRTZXBlcmF0b3IgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRFZGdlICE9PSBmYWxzZSkgewogICAgICAgICAgICBpZiAobmVlZFNlcGVyYXRvciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNlcGVyYXRvcigxKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuZWVkU2VwZXJhdG9yID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLl9jcmVhdGVBZGRFZGdlQnV0dG9uKGxvY2FsZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHNlbGVjdGVkTm9kZUNvdW50ID09PSAxICYmIHR5cGVvZiB0aGlzLm9wdGlvbnMuZWRpdE5vZGUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgaWYgKG5lZWRTZXBlcmF0b3IgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVTZXBlcmF0b3IoMik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmVlZFNlcGVyYXRvciA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5fY3JlYXRlRWRpdE5vZGVCdXR0b24obG9jYWxlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRFZGdlQ291bnQgPT09IDEgJiYgc2VsZWN0ZWROb2RlQ291bnQgPT09IDAgJiYgdGhpcy5vcHRpb25zLmVkaXRFZGdlICE9PSBmYWxzZSkgewogICAgICAgICAgICBpZiAobmVlZFNlcGVyYXRvciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNlcGVyYXRvcigzKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuZWVkU2VwZXJhdG9yID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLl9jcmVhdGVFZGl0RWRnZUJ1dHRvbihsb2NhbGUpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIHJlbW92ZSBidXR0b25zCiAgICAgICAgICBpZiAoc2VsZWN0ZWRUb3RhbENvdW50ICE9PSAwKSB7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZE5vZGVDb3VudCA9PT0gMSAmJiB0aGlzLm9wdGlvbnMuZGVsZXRlTm9kZSAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICBpZiAobmVlZFNlcGVyYXRvciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlU2VwZXJhdG9yKDQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVEZWxldGVCdXR0b24obG9jYWxlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZE5vZGVDb3VudCA9PT0gMCAmJiB0aGlzLm9wdGlvbnMuZGVsZXRlRWRnZSAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICBpZiAobmVlZFNlcGVyYXRvciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlU2VwZXJhdG9yKDQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVEZWxldGVCdXR0b24obG9jYWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIGJpbmQgdGhlIGNsb3NlIGJ1dHRvbgogICAgICAgICAgdGhpcy5fYmluZEhhbW1lclRvRGl2KHRoaXMuY2xvc2VEaXYsIHRoaXMudG9nZ2xlRWRpdE1vZGUuYmluZCh0aGlzKSk7CgogICAgICAgICAgLy8gcmVmcmVzaCB0aGlzIGJhciBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHNlbGVjdGVkCiAgICAgICAgICB0aGlzLl90ZW1wb3JhcnlCaW5kRXZlbnQoJ3NlbGVjdCcsIHRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhci5iaW5kKHRoaXMpKTsKICAgICAgICB9CgogICAgICAgIC8vIHJlZHJhdyB0byBzaG93IGFueSBwb3NzaWJsZSBjaGFuZ2VzCiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlZHJhdycpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2FkZE5vZGVNb2RlJywKCiAgICAgIC8qKgogICAgICAgKiBDcmVhdGUgdGhlIHRvb2xiYXIgZm9yIGFkZGluZyBOb2RlcwogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE5vZGVNb2RlKCkgewogICAgICAgIC8vIHdoZW4gdXNpbmcgdGhlIGd1aSwgZW5hYmxlIGVkaXQgbW9kZSBpZiBpdCB3YXNudCBhbHJlYWR5LgogICAgICAgIGlmICh0aGlzLmVkaXRNb2RlICE9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmVuYWJsZUVkaXRNb2RlKCk7CiAgICAgICAgfQoKICAgICAgICAvLyByZXN0b3JlIHRoZSBzdGF0ZSBvZiBhbnkgYm91bmQgZnVuY3Rpb25zIG9yIGV2ZW50cywgcmVtb3ZlIGNvbnRyb2wgbm9kZXMsIHJlc3RvcmUgcGh5c2ljcwogICAgICAgIHRoaXMuX2NsZWFuKCk7CgogICAgICAgIHRoaXMuaW5Nb2RlID0gJ2FkZE5vZGUnOwogICAgICAgIGlmICh0aGlzLmd1aUVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTsKICAgICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRE9NID0ge307CiAgICAgICAgICB0aGlzLl9jcmVhdGVCYWNrQnV0dG9uKGxvY2FsZSk7CiAgICAgICAgICB0aGlzLl9jcmVhdGVTZXBlcmF0b3IoKTsKICAgICAgICAgIHRoaXMuX2NyZWF0ZURlc2NyaXB0aW9uKGxvY2FsZVsnYWRkRGVzY3JpcHRpb24nXSB8fCB0aGlzLm9wdGlvbnMubG9jYWxlc1snZW4nXVsnYWRkRGVzY3JpcHRpb24nXSk7CgogICAgICAgICAgLy8gYmluZCB0aGUgY2xvc2UgYnV0dG9uCiAgICAgICAgICB0aGlzLl9iaW5kSGFtbWVyVG9EaXYodGhpcy5jbG9zZURpdiwgdGhpcy50b2dnbGVFZGl0TW9kZS5iaW5kKHRoaXMpKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuX3RlbXBvcmFyeUJpbmRFdmVudCgnY2xpY2snLCB0aGlzLl9wZXJmb3JtQWRkTm9kZS5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdlZGl0Tm9kZScsCgogICAgICAvKioKICAgICAgICogY2FsbCB0aGUgYm91bmQgZnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBlZGl0aW5nIG9mIHRoZSBub2RlLiBUaGUgbm9kZSBoYXMgdG8gYmUgc2VsZWN0ZWQuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZWRpdE5vZGUoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIC8vIHdoZW4gdXNpbmcgdGhlIGd1aSwgZW5hYmxlIGVkaXQgbW9kZSBpZiBpdCB3YXNudCBhbHJlYWR5LgogICAgICAgIGlmICh0aGlzLmVkaXRNb2RlICE9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmVuYWJsZUVkaXRNb2RlKCk7CiAgICAgICAgfQoKICAgICAgICAvLyByZXN0b3JlIHRoZSBzdGF0ZSBvZiBhbnkgYm91bmQgZnVuY3Rpb25zIG9yIGV2ZW50cywgcmVtb3ZlIGNvbnRyb2wgbm9kZXMsIHJlc3RvcmUgcGh5c2ljcwogICAgICAgIHRoaXMuX2NsZWFuKCk7CiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dldFNlbGVjdGVkTm9kZSgpOwogICAgICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuaW5Nb2RlID0gJ2VkaXROb2RlJzsKICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmVkaXROb2RlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIGlmIChub2RlLmlzQ2x1c3RlciAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgIHZhciBkYXRhID0gdXRpbC5kZWVwRXh0ZW5kKHt9LCBub2RlLm9wdGlvbnMsIHRydWUpOwogICAgICAgICAgICAgIGRhdGEueCA9IG5vZGUueDsKICAgICAgICAgICAgICBkYXRhLnkgPSBub2RlLnk7CgogICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRpdE5vZGUubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRpdE5vZGUoZGF0YSwgZnVuY3Rpb24gKGZpbmFsaXplZERhdGEpIHsKICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsaXplZERhdGEgIT09IG51bGwgJiYgZmluYWxpemVkRGF0YSAhPT0gdW5kZWZpbmVkICYmIF90aGlzMi5pbk1vZGUgPT09ICdlZGl0Tm9kZScpIHsKICAgICAgICAgICAgICAgICAgICAvLyBpZiBmb3Igd2hhdGV2ZXIgcmVhc29uIHRoZSBtb2RlIGhhcyBjaGFuZ2VzIChkdWUgdG8gZGF0YXNldCBjaGFuZ2UpIGRpc3JlZ2FyZCB0aGUgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuYm9keS5kYXRhLm5vZGVzLmdldERhdGFTZXQoKS51cGRhdGUoZmluYWxpemVkRGF0YSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmdW5jdGlvbiBmb3IgZWRpdCBkb2VzIG5vdCBzdXBwb3J0IHR3byBhcmd1bWVudHMgKGRhdGEsIGNhbGxiYWNrKScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXVsnZWRpdENsdXN0ZXJFcnJvciddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydlZGl0Q2x1c3RlckVycm9yJ10pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGZ1bmN0aW9uIGhhcyBiZWVuIGNvbmZpZ3VyZWQgdG8gaGFuZGxlIHRoZSBlZGl0aW5nIG9mIG5vZGVzLicpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnYWRkRWRnZU1vZGUnLAoKICAgICAgLyoqCiAgICAgICAqIGNyZWF0ZSB0aGUgdG9vbGJhciB0byBjb25uZWN0IG5vZGVzCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRWRnZU1vZGUoKSB7CiAgICAgICAgLy8gd2hlbiB1c2luZyB0aGUgZ3VpLCBlbmFibGUgZWRpdCBtb2RlIGlmIGl0IHdhc250IGFscmVhZHkuCiAgICAgICAgaWYgKHRoaXMuZWRpdE1vZGUgIT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuZW5hYmxlRWRpdE1vZGUoKTsKICAgICAgICB9CgogICAgICAgIC8vIHJlc3RvcmUgdGhlIHN0YXRlIG9mIGFueSBib3VuZCBmdW5jdGlvbnMgb3IgZXZlbnRzLCByZW1vdmUgY29udHJvbCBub2RlcywgcmVzdG9yZSBwaHlzaWNzCiAgICAgICAgdGhpcy5fY2xlYW4oKTsKCiAgICAgICAgdGhpcy5pbk1vZGUgPSAnYWRkRWRnZSc7CiAgICAgICAgaWYgKHRoaXMuZ3VpRW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdOwogICAgICAgICAgdGhpcy5tYW5pcHVsYXRpb25ET00gPSB7fTsKICAgICAgICAgIHRoaXMuX2NyZWF0ZUJhY2tCdXR0b24obG9jYWxlKTsKICAgICAgICAgIHRoaXMuX2NyZWF0ZVNlcGVyYXRvcigpOwogICAgICAgICAgdGhpcy5fY3JlYXRlRGVzY3JpcHRpb24obG9jYWxlWydlZGdlRGVzY3JpcHRpb24nXSB8fCB0aGlzLm9wdGlvbnMubG9jYWxlc1snZW4nXVsnZWRnZURlc2NyaXB0aW9uJ10pOwoKICAgICAgICAgIC8vIGJpbmQgdGhlIGNsb3NlIGJ1dHRvbgogICAgICAgICAgdGhpcy5fYmluZEhhbW1lclRvRGl2KHRoaXMuY2xvc2VEaXYsIHRoaXMudG9nZ2xlRWRpdE1vZGUuYmluZCh0aGlzKSk7CiAgICAgICAgfQoKICAgICAgICAvLyB0ZW1wb3JhcmlseSBvdmVybG9hZCBmdW5jdGlvbnMKICAgICAgICB0aGlzLl90ZW1wb3JhcnlCaW5kVUkoJ29uVG91Y2gnLCB0aGlzLl9oYW5kbGVDb25uZWN0LmJpbmQodGhpcykpOwogICAgICAgIHRoaXMuX3RlbXBvcmFyeUJpbmRVSSgnb25EcmFnRW5kJywgdGhpcy5fZmluaXNoQ29ubmVjdC5iaW5kKHRoaXMpKTsKICAgICAgICB0aGlzLl90ZW1wb3JhcnlCaW5kVUkoJ29uRHJhZycsIHRoaXMuX2RyYWdDb250cm9sTm9kZS5iaW5kKHRoaXMpKTsKICAgICAgICB0aGlzLl90ZW1wb3JhcnlCaW5kVUkoJ29uUmVsZWFzZScsIHRoaXMuX2ZpbmlzaENvbm5lY3QuYmluZCh0aGlzKSk7CgogICAgICAgIHRoaXMuX3RlbXBvcmFyeUJpbmRVSSgnb25EcmFnU3RhcnQnLCBmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgdGhpcy5fdGVtcG9yYXJ5QmluZFVJKCdvbkhvbGQnLCBmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnZWRpdEVkZ2VNb2RlJywKCiAgICAgIC8qKgogICAgICAgKiBjcmVhdGUgdGhlIHRvb2xiYXIgdG8gZWRpdCBlZGdlcwogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRFZGdlTW9kZSgpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgLy8gd2hlbiB1c2luZyB0aGUgZ3VpLCBlbmFibGUgZWRpdCBtb2RlIGlmIGl0IHdhc250IGFscmVhZHkuCiAgICAgICAgaWYgKHRoaXMuZWRpdE1vZGUgIT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuZW5hYmxlRWRpdE1vZGUoKTsKICAgICAgICB9CgogICAgICAgIC8vIHJlc3RvcmUgdGhlIHN0YXRlIG9mIGFueSBib3VuZCBmdW5jdGlvbnMgb3IgZXZlbnRzLCByZW1vdmUgY29udHJvbCBub2RlcywgcmVzdG9yZSBwaHlzaWNzCiAgICAgICAgdGhpcy5fY2xlYW4oKTsKCiAgICAgICAgdGhpcy5pbk1vZGUgPSAnZWRpdEVkZ2UnOwogICAgICAgIGlmICh0aGlzLmd1aUVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTsKICAgICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRE9NID0ge307CiAgICAgICAgICB0aGlzLl9jcmVhdGVCYWNrQnV0dG9uKGxvY2FsZSk7CiAgICAgICAgICB0aGlzLl9jcmVhdGVTZXBlcmF0b3IoKTsKICAgICAgICAgIHRoaXMuX2NyZWF0ZURlc2NyaXB0aW9uKGxvY2FsZVsnZWRpdEVkZ2VEZXNjcmlwdGlvbiddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydlZGl0RWRnZURlc2NyaXB0aW9uJ10pOwoKICAgICAgICAgIC8vIGJpbmQgdGhlIGNsb3NlIGJ1dHRvbgogICAgICAgICAgdGhpcy5fYmluZEhhbW1lclRvRGl2KHRoaXMuY2xvc2VEaXYsIHRoaXMudG9nZ2xlRWRpdE1vZGUuYmluZCh0aGlzKSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmVkZ2VCZWluZ0VkaXRlZElkID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkRWRnZXMoKVswXTsKICAgICAgICBpZiAodGhpcy5lZGdlQmVpbmdFZGl0ZWRJZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZWRnZSA9IF90aGlzMy5ib2R5LmVkZ2VzW190aGlzMy5lZGdlQmVpbmdFZGl0ZWRJZF07CgogICAgICAgICAgICAvLyBjcmVhdGUgY29udHJvbCBub2RlcwogICAgICAgICAgICB2YXIgY29udHJvbE5vZGVGcm9tID0gX3RoaXMzLl9nZXROZXdUYXJnZXROb2RlKGVkZ2UuZnJvbS54LCBlZGdlLmZyb20ueSk7CiAgICAgICAgICAgIHZhciBjb250cm9sTm9kZVRvID0gX3RoaXMzLl9nZXROZXdUYXJnZXROb2RlKGVkZ2UudG8ueCwgZWRnZS50by55KTsKCiAgICAgICAgICAgIF90aGlzMy50ZW1wb3JhcnlJZHMubm9kZXMucHVzaChjb250cm9sTm9kZUZyb20uaWQpOwogICAgICAgICAgICBfdGhpczMudGVtcG9yYXJ5SWRzLm5vZGVzLnB1c2goY29udHJvbE5vZGVUby5pZCk7CgogICAgICAgICAgICBfdGhpczMuYm9keS5ub2Rlc1tjb250cm9sTm9kZUZyb20uaWRdID0gY29udHJvbE5vZGVGcm9tOwogICAgICAgICAgICBfdGhpczMuYm9keS5ub2RlSW5kaWNlcy5wdXNoKGNvbnRyb2xOb2RlRnJvbS5pZCk7CiAgICAgICAgICAgIF90aGlzMy5ib2R5Lm5vZGVzW2NvbnRyb2xOb2RlVG8uaWRdID0gY29udHJvbE5vZGVUbzsKICAgICAgICAgICAgX3RoaXMzLmJvZHkubm9kZUluZGljZXMucHVzaChjb250cm9sTm9kZVRvLmlkKTsKCiAgICAgICAgICAgIC8vIHRlbXBvcmFyaWx5IG92ZXJsb2FkIFVJIGZ1bmN0aW9ucywgY2xlYW5lZCB1cCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugb2YgX3RlbXBvcmFyeUJpbmRVSQogICAgICAgICAgICBfdGhpczMuX3RlbXBvcmFyeUJpbmRVSSgnb25Ub3VjaCcsIF90aGlzMy5fY29udHJvbE5vZGVUb3VjaC5iaW5kKF90aGlzMykpOyAvLyB1c2VkIHRvIGdldCB0aGUgcG9zaXRpb24KICAgICAgICAgICAgX3RoaXMzLl90ZW1wb3JhcnlCaW5kVUkoJ29uVGFwJywgZnVuY3Rpb24gKCkge30pOyAvLyBkaXNhYmxlZAogICAgICAgICAgICBfdGhpczMuX3RlbXBvcmFyeUJpbmRVSSgnb25Ib2xkJywgZnVuY3Rpb24gKCkge30pOyAvLyBkaXNhYmxlZAogICAgICAgICAgICBfdGhpczMuX3RlbXBvcmFyeUJpbmRVSSgnb25EcmFnU3RhcnQnLCBfdGhpczMuX2NvbnRyb2xOb2RlRHJhZ1N0YXJ0LmJpbmQoX3RoaXMzKSk7IC8vIHVzZWQgdG8gc2VsZWN0IGNvbnRyb2wgbm9kZQogICAgICAgICAgICBfdGhpczMuX3RlbXBvcmFyeUJpbmRVSSgnb25EcmFnJywgX3RoaXMzLl9jb250cm9sTm9kZURyYWcuYmluZChfdGhpczMpKTsgLy8gdXNlZCB0byBkcmFnIGNvbnRyb2wgbm9kZQogICAgICAgICAgICBfdGhpczMuX3RlbXBvcmFyeUJpbmRVSSgnb25EcmFnRW5kJywgX3RoaXMzLl9jb250cm9sTm9kZURyYWdFbmQuYmluZChfdGhpczMpKTsgLy8gdXNlZCB0byBjb25uZWN0IG9yIHJldmVydCBjb250cm9sIG5vZGVzCiAgICAgICAgICAgIF90aGlzMy5fdGVtcG9yYXJ5QmluZFVJKCdvbk1vdXNlTW92ZScsIGZ1bmN0aW9uICgpIHt9KTsgLy8gZGlzYWJsZWQKCiAgICAgICAgICAgIC8vIGNyZWF0ZSBmdW5jdGlvbiB0byBwb3NpdGlvbiBjb250cm9sIG5vZGVzIGNvcnJlY3RseSBvbiBtb3ZlbWVudAogICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IGNsZWFuZWQgdXAgYmVjYXVzZSB3ZSB1c2UgdGhlIHRlbXBvcmFyeSBiaW5kCiAgICAgICAgICAgIF90aGlzMy5fdGVtcG9yYXJ5QmluZEV2ZW50KCdiZWZvcmVEcmF3aW5nJywgZnVuY3Rpb24gKGN0eCkgewogICAgICAgICAgICAgIHZhciBwb3NpdGlvbnMgPSBlZGdlLmVkZ2VUeXBlLmZpbmRCb3JkZXJQb3NpdGlvbnMoY3R4KTsKICAgICAgICAgICAgICBpZiAoY29udHJvbE5vZGVGcm9tLnNlbGVjdGVkID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgY29udHJvbE5vZGVGcm9tLnggPSBwb3NpdGlvbnMuZnJvbS54OwogICAgICAgICAgICAgICAgY29udHJvbE5vZGVGcm9tLnkgPSBwb3NpdGlvbnMuZnJvbS55OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoY29udHJvbE5vZGVUby5zZWxlY3RlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIGNvbnRyb2xOb2RlVG8ueCA9IHBvc2l0aW9ucy50by54OwogICAgICAgICAgICAgICAgY29udHJvbE5vZGVUby55ID0gcG9zaXRpb25zLnRvLnk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlZHJhdycpOwogICAgICAgICAgfSkoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ2RlbGV0ZVNlbGVjdGVkJywKCiAgICAgIC8qKgogICAgICAgKiBkZWxldGUgZXZlcnl0aGluZyBpbiB0aGUgc2VsZWN0aW9uCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlU2VsZWN0ZWQoKSB7CiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAgIC8vIHdoZW4gdXNpbmcgdGhlIGd1aSwgZW5hYmxlIGVkaXQgbW9kZSBpZiBpdCB3YXNudCBhbHJlYWR5LgogICAgICAgIGlmICh0aGlzLmVkaXRNb2RlICE9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmVuYWJsZUVkaXRNb2RlKCk7CiAgICAgICAgfQoKICAgICAgICAvLyByZXN0b3JlIHRoZSBzdGF0ZSBvZiBhbnkgYm91bmQgZnVuY3Rpb25zIG9yIGV2ZW50cywgcmVtb3ZlIGNvbnRyb2wgbm9kZXMsIHJlc3RvcmUgcGh5c2ljcwogICAgICAgIHRoaXMuX2NsZWFuKCk7CgogICAgICAgIHRoaXMuaW5Nb2RlID0gJ2RlbGV0ZSc7CiAgICAgICAgdmFyIHNlbGVjdGVkTm9kZXMgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWROb2RlcygpOwogICAgICAgIHZhciBzZWxlY3RlZEVkZ2VzID0gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkRWRnZXMoKTsKICAgICAgICB2YXIgZGVsZXRlRnVuY3Rpb24gPSB1bmRlZmluZWQ7CiAgICAgICAgaWYgKHNlbGVjdGVkTm9kZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmJvZHkubm9kZXNbc2VsZWN0ZWROb2Rlc1tpXV0uaXNDbHVzdGVyID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgYWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV1bJ2RlbGV0ZUNsdXN0ZXJFcnJvciddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydkZWxldGVDbHVzdGVyRXJyb3InXSk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuZGVsZXRlTm9kZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICBkZWxldGVGdW5jdGlvbiA9IHRoaXMub3B0aW9ucy5kZWxldGVOb2RlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRFZGdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5kZWxldGVFZGdlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIGRlbGV0ZUZ1bmN0aW9uID0gdGhpcy5vcHRpb25zLmRlbGV0ZUVkZ2U7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodHlwZW9mIGRlbGV0ZUZ1bmN0aW9uID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IHsgbm9kZXM6IHNlbGVjdGVkTm9kZXMsIGVkZ2VzOiBzZWxlY3RlZEVkZ2VzIH07CiAgICAgICAgICBpZiAoZGVsZXRlRnVuY3Rpb24ubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgIGRlbGV0ZUZ1bmN0aW9uKGRhdGEsIGZ1bmN0aW9uIChmaW5hbGl6ZWREYXRhKSB7CiAgICAgICAgICAgICAgaWYgKGZpbmFsaXplZERhdGEgIT09IG51bGwgJiYgZmluYWxpemVkRGF0YSAhPT0gdW5kZWZpbmVkICYmIF90aGlzNC5pbk1vZGUgPT09ICdkZWxldGUnKSB7CiAgICAgICAgICAgICAgICAvLyBpZiBmb3Igd2hhdGV2ZXIgcmVhc29uIHRoZSBtb2RlIGhhcyBjaGFuZ2VzIChkdWUgdG8gZGF0YXNldCBjaGFuZ2UpIGRpc3JlZ2FyZCB0aGUgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgIF90aGlzNC5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLnJlbW92ZShmaW5hbGl6ZWREYXRhLmVkZ2VzKTsKICAgICAgICAgICAgICAgIF90aGlzNC5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLnJlbW92ZShmaW5hbGl6ZWREYXRhLm5vZGVzKTsKICAgICAgICAgICAgICAgIF90aGlzNC5ib2R5LmVtaXR0ZXIuZW1pdCgnc3RhcnRTaW11bGF0aW9uJyk7CiAgICAgICAgICAgICAgICBfdGhpczQuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmdW5jdGlvbiBmb3IgZGVsZXRlIGRvZXMgbm90IHN1cHBvcnQgdHdvIGFyZ3VtZW50cyAoZGF0YSwgY2FsbGJhY2spJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldERhdGFTZXQoKS5yZW1vdmUoc2VsZWN0ZWRFZGdlcyk7CiAgICAgICAgICB0aGlzLmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCkucmVtb3ZlKHNlbGVjdGVkTm9kZXMpOwogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnc3RhcnRTaW11bGF0aW9uJyk7CiAgICAgICAgICB0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3NldHVwJywKCiAgICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBQUklWQVRFICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8vCgogICAgICAvKioKICAgICAgICogZHJhdyBvciByZW1vdmUgdGhlIERPTQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cCgpIHsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZWQgPT09IHRydWUpIHsKICAgICAgICAgIC8vIEVuYWJsZSB0aGUgR1VJCiAgICAgICAgICB0aGlzLmd1aUVuYWJsZWQgPSB0cnVlOwoKICAgICAgICAgIHRoaXMuX2NyZWF0ZVdyYXBwZXJzKCk7CiAgICAgICAgICBpZiAodGhpcy5lZGl0TW9kZSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhpcy5fY3JlYXRlRWRpdEJ1dHRvbigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuX3JlbW92ZU1hbmlwdWxhdGlvbkRPTSgpOwoKICAgICAgICAgIC8vIGRpc2FibGUgdGhlIGd1aQogICAgICAgICAgdGhpcy5ndWlFbmFibGVkID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jcmVhdGVXcmFwcGVycycsCgogICAgICAvKioKICAgICAgICogY3JlYXRlIHRoZSBkaXYgb3ZlcmxheXMgdGhhdCBjb250YWluIHRoZSBET00KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlV3JhcHBlcnMoKSB7CiAgICAgICAgLy8gbG9hZCB0aGUgbWFuaXB1bGF0b3IgSFRNTCBlbGVtZW50cy4gQWxsIHN0eWxpbmcgZG9uZSBpbiBjc3MuCiAgICAgICAgaWYgKHRoaXMubWFuaXB1bGF0aW9uRGl2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRpdi5jbGFzc05hbWUgPSAndmlzLW1hbmlwdWxhdGlvbic7CiAgICAgICAgICBpZiAodGhpcy5lZGl0TW9kZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmNhbnZhcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLm1hbmlwdWxhdGlvbkRpdik7CiAgICAgICAgfQoKICAgICAgICAvLyBjb250YWluZXIgZm9yIHRoZSBlZGl0IGJ1dHRvbi4KICAgICAgICBpZiAodGhpcy5lZGl0TW9kZURpdiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLmVkaXRNb2RlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICB0aGlzLmVkaXRNb2RlRGl2LmNsYXNzTmFtZSA9ICd2aXMtZWRpdC1tb2RlJzsKICAgICAgICAgIGlmICh0aGlzLmVkaXRNb2RlID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdE1vZGVEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZWRpdE1vZGVEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmNhbnZhcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmVkaXRNb2RlRGl2KTsKICAgICAgICB9CgogICAgICAgIC8vIGNvbnRhaW5lciBmb3IgdGhlIGNsb3NlIGRpdiBidXR0b24KICAgICAgICBpZiAodGhpcy5jbG9zZURpdiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLmNsb3NlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICB0aGlzLmNsb3NlRGl2LmNsYXNzTmFtZSA9ICd2aXMtY2xvc2UnOwogICAgICAgICAgdGhpcy5jbG9zZURpdi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5tYW5pcHVsYXRpb25EaXYuc3R5bGUuZGlzcGxheTsKICAgICAgICAgIHRoaXMuY2FudmFzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2xvc2VEaXYpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZ2V0TmV3VGFyZ2V0Tm9kZScsCgogICAgICAvKioKICAgICAgICogZ2VuZXJhdGUgYSBuZXcgdGFyZ2V0IG5vZGUuIFVzZWQgZm9yIGNyZWF0aW5nIG5ldyBlZGdlcyBhbmQgZWRpdGluZyBlZGdlcwogICAgICAgKiBAcGFyYW0geAogICAgICAgKiBAcGFyYW0geQogICAgICAgKiBAcmV0dXJucyB7Kn0KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TmV3VGFyZ2V0Tm9kZSh4LCB5KSB7CiAgICAgICAgdmFyIGNvbnRyb2xOb2RlU3R5bGUgPSB1dGlsLmRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucy5jb250cm9sTm9kZVN0eWxlKTsKCiAgICAgICAgY29udHJvbE5vZGVTdHlsZS5pZCA9ICd0YXJnZXROb2RlJyArIHV0aWwucmFuZG9tVVVJRCgpOwogICAgICAgIGNvbnRyb2xOb2RlU3R5bGUuaGlkZGVuID0gZmFsc2U7CiAgICAgICAgY29udHJvbE5vZGVTdHlsZS5waHlzaWNzID0gZmFsc2U7CiAgICAgICAgY29udHJvbE5vZGVTdHlsZS54ID0geDsKICAgICAgICBjb250cm9sTm9kZVN0eWxlLnkgPSB5OwoKICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlKGNvbnRyb2xOb2RlU3R5bGUpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jcmVhdGVFZGl0QnV0dG9uJywKCiAgICAgIC8qKgogICAgICAgKiBDcmVhdGUgdGhlIGVkaXQgYnV0dG9uCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUVkaXRCdXR0b24oKSB7CiAgICAgICAgLy8gcmVzdG9yZSBldmVyeXRoaW5nIHRvIGl0J3Mgb3JpZ2luYWwgc3RhdGUgKGlmIGFwcGxpY2FibGUpCiAgICAgICAgdGhpcy5fY2xlYW4oKTsKCiAgICAgICAgLy8gcmVzZXQgdGhlIG1hbmlwdWxhdGlvbkRPTQogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRE9NID0ge307CgogICAgICAgIC8vIGVtcHR5IHRoZSBlZGl0TW9kZURpdgogICAgICAgIHV0aWwucmVjdXJzaXZlRE9NRGVsZXRlKHRoaXMuZWRpdE1vZGVEaXYpOwoKICAgICAgICAvLyBjcmVhdGUgdGhlIGNvbnRlbnRzIGZvciB0aGUgZWRpdE1vZGUgYnV0dG9uCiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdOwogICAgICAgIHZhciBidXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ2VkaXRNb2RlJywgJ3Zpcy1idXR0b24gdmlzLWVkaXQgdmlzLWVkaXQtbW9kZScsIGxvY2FsZVsnZWRpdCddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydlZGl0J10pOwogICAgICAgIHRoaXMuZWRpdE1vZGVEaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTsKCiAgICAgICAgLy8gYmluZCBhIGhhbW1lciBsaXN0ZW5lciB0byB0aGUgYnV0dG9uLCBjYWxsaW5nIHRoZSBmdW5jdGlvbiB0b2dnbGVFZGl0TW9kZS4KICAgICAgICB0aGlzLl9iaW5kSGFtbWVyVG9EaXYoYnV0dG9uLCB0aGlzLnRvZ2dsZUVkaXRNb2RlLmJpbmQodGhpcykpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jbGVhbicsCgogICAgICAvKioKICAgICAgICogdGhpcyBmdW5jdGlvbiBjbGVhbnMgdXAgYWZ0ZXIgZXZlcnl0aGluZyB0aGlzIG1vZHVsZSBkb2VzLiBUZW1wb3JhcnkgZWxlbWVudHMsIGZ1bmN0aW9ucyBhbmQgZXZlbnRzIGFyZSByZW1vdmVkLCBwaHlzaWNzIHJlc3RvcmVkLCBoYW1tZXJzIHJlbW92ZWQuCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NsZWFuKCkgewogICAgICAgIC8vIG5vdCBpbiBtb2RlCiAgICAgICAgdGhpcy5pbk1vZGUgPSBmYWxzZTsKCiAgICAgICAgLy8gX2NsZWFuIHRoZSBkaXZzCiAgICAgICAgaWYgKHRoaXMuZ3VpRW5hYmxlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgdXRpbC5yZWN1cnNpdmVET01EZWxldGUodGhpcy5lZGl0TW9kZURpdik7CiAgICAgICAgICB1dGlsLnJlY3Vyc2l2ZURPTURlbGV0ZSh0aGlzLm1hbmlwdWxhdGlvbkRpdik7CgogICAgICAgICAgLy8gcmVtb3ZlcyBhbGwgdGhlIGJpbmRpbmdzIGFuZCBvdmVybG9hZHMKICAgICAgICAgIHRoaXMuX2NsZWFuTWFuaXB1bGF0b3JIYW1tZXJzKCk7CiAgICAgICAgfQoKICAgICAgICAvLyByZW1vdmUgdGVtcG9yYXJ5IG5vZGVzIGFuZCBlZGdlcwogICAgICAgIHRoaXMuX2NsZWFudXBUZW1wb3JhcnlOb2Rlc0FuZEVkZ2VzKCk7CgogICAgICAgIC8vIHJlc3RvcmUgb3ZlcmxvYWRlZCBVSSBmdW5jdGlvbnMKICAgICAgICB0aGlzLl91bmJpbmRUZW1wb3JhcnlVSXMoKTsKCiAgICAgICAgLy8gcmVtb3ZlIHRoZSB0ZW1wb3JhcnlFdmVudEZ1bmN0aW9ucwogICAgICAgIHRoaXMuX3VuYmluZFRlbXBvcmFyeUV2ZW50cygpOwoKICAgICAgICAvLyByZXN0b3JlIHRoZSBwaHlzaWNzIGlmIHJlcXVpcmVkCiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgncmVzdG9yZVBoeXNpY3MnKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY2xlYW5NYW5pcHVsYXRvckhhbW1lcnMnLAoKICAgICAgLyoqCiAgICAgICAqIEVhY2ggZG9tIGVsZW1lbnQgaGFzIGl0J3Mgb3duIGhhbW1lci4gVGhleSBhcmUgc3RvcmVkIGluIHRoaXMubWFuaXB1bGF0aW9uSGFtbWVycy4gVGhpcyBjbGVhbnMgdGhlbSB1cC4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2xlYW5NYW5pcHVsYXRvckhhbW1lcnMoKSB7CiAgICAgICAgLy8gX2NsZWFuIGhhbW1lciBiaW5kaW5ncwogICAgICAgIGlmICh0aGlzLm1hbmlwdWxhdGlvbkhhbW1lcnMubGVuZ3RoICE9IDApIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYW5pcHVsYXRpb25IYW1tZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMubWFuaXB1bGF0aW9uSGFtbWVyc1tpXS5kZXN0cm95KCk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkhhbW1lcnMgPSBbXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3JlbW92ZU1hbmlwdWxhdGlvbkRPTScsCgogICAgICAvKioKICAgICAgICogUmVtb3ZlIGFsbCBET00gZWxlbWVudHMgY3JlYXRlZCBieSB0aGlzIG1vZHVsZS4KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlTWFuaXB1bGF0aW9uRE9NKCkgewogICAgICAgIC8vIHJlbW92ZXMgYWxsIHRoZSBiaW5kaW5ncyBhbmQgb3ZlcmxvYWRzCiAgICAgICAgdGhpcy5fY2xlYW4oKTsKCiAgICAgICAgLy8gZW1wdHkgdGhlIG1hbmlwdWxhdGlvbiBkaXZzCiAgICAgICAgdXRpbC5yZWN1cnNpdmVET01EZWxldGUodGhpcy5tYW5pcHVsYXRpb25EaXYpOwogICAgICAgIHV0aWwucmVjdXJzaXZlRE9NRGVsZXRlKHRoaXMuZWRpdE1vZGVEaXYpOwogICAgICAgIHV0aWwucmVjdXJzaXZlRE9NRGVsZXRlKHRoaXMuY2xvc2VEaXYpOwoKICAgICAgICAvLyByZW1vdmUgdGhlIG1hbmlwdWxhdGlvbiBkaXZzCiAgICAgICAgaWYgKHRoaXMubWFuaXB1bGF0aW9uRGl2KSB7CiAgICAgICAgICB0aGlzLmNhbnZhcy5mcmFtZS5yZW1vdmVDaGlsZCh0aGlzLm1hbmlwdWxhdGlvbkRpdik7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmVkaXRNb2RlRGl2KSB7CiAgICAgICAgICB0aGlzLmNhbnZhcy5mcmFtZS5yZW1vdmVDaGlsZCh0aGlzLmVkaXRNb2RlRGl2KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuY2xvc2VEaXYpIHsKICAgICAgICAgIHRoaXMuY2FudmFzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMubWFuaXB1bGF0aW9uRGl2KTsKICAgICAgICB9CgogICAgICAgIC8vIHNldCB0aGUgcmVmZXJlbmNlcyB0byB1bmRlZmluZWQKICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRpdiA9IHVuZGVmaW5lZDsKICAgICAgICB0aGlzLmVkaXRNb2RlRGl2ID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuY2xvc2VEaXYgPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2NyZWF0ZVNlcGVyYXRvcicsCgogICAgICAvKioKICAgICAgICogY3JlYXRlIGEgc2VwZXJhdG9yIGxpbmUuIHRoZSBpbmRleCBpcyB0byBkaWZmZXJlbnRpYXRlIGluIHRoZSBtYW5pcHVsYXRpb24gZG9tCiAgICAgICAqIEBwYXJhbSBpbmRleAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVTZXBlcmF0b3IoKSB7CiAgICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzBdOwoKICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRPTVsnc2VwZXJhdG9yTGluZURpdicgKyBpbmRleF0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRPTVsnc2VwZXJhdG9yTGluZURpdicgKyBpbmRleF0uY2xhc3NOYW1lID0gJ3Zpcy1zZXBhcmF0b3ItbGluZSc7CiAgICAgICAgdGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25ET01bJ3NlcGVyYXRvckxpbmVEaXYnICsgaW5kZXhdKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY3JlYXRlQWRkTm9kZUJ1dHRvbicsCgogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgIERPTSBmdW5jdGlvbnMgZm9yIGJ1dHRvbnMgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVBZGROb2RlQnV0dG9uKGxvY2FsZSkgewogICAgICAgIHZhciBidXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ2FkZE5vZGUnLCAndmlzLWJ1dHRvbiB2aXMtYWRkJywgbG9jYWxlWydhZGROb2RlJ10gfHwgdGhpcy5vcHRpb25zLmxvY2FsZXNbJ2VuJ11bJ2FkZE5vZGUnXSk7CiAgICAgICAgdGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTsKICAgICAgICB0aGlzLl9iaW5kSGFtbWVyVG9EaXYoYnV0dG9uLCB0aGlzLmFkZE5vZGVNb2RlLmJpbmQodGhpcykpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jcmVhdGVBZGRFZGdlQnV0dG9uJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVBZGRFZGdlQnV0dG9uKGxvY2FsZSkgewogICAgICAgIHZhciBidXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ2FkZEVkZ2UnLCAndmlzLWJ1dHRvbiB2aXMtY29ubmVjdCcsIGxvY2FsZVsnYWRkRWRnZSddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydhZGRFZGdlJ10pOwogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7CiAgICAgICAgdGhpcy5fYmluZEhhbW1lclRvRGl2KGJ1dHRvbiwgdGhpcy5hZGRFZGdlTW9kZS5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY3JlYXRlRWRpdE5vZGVCdXR0b24nLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUVkaXROb2RlQnV0dG9uKGxvY2FsZSkgewogICAgICAgIHZhciBidXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ2VkaXROb2RlJywgJ3Zpcy1idXR0b24gdmlzLWVkaXQnLCBsb2NhbGVbJ2VkaXROb2RlJ10gfHwgdGhpcy5vcHRpb25zLmxvY2FsZXNbJ2VuJ11bJ2VkaXROb2RlJ10pOwogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7CiAgICAgICAgdGhpcy5fYmluZEhhbW1lclRvRGl2KGJ1dHRvbiwgdGhpcy5lZGl0Tm9kZS5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY3JlYXRlRWRpdEVkZ2VCdXR0b24nLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUVkaXRFZGdlQnV0dG9uKGxvY2FsZSkgewogICAgICAgIHZhciBidXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ2VkaXRFZGdlJywgJ3Zpcy1idXR0b24gdmlzLWVkaXQnLCBsb2NhbGVbJ2VkaXRFZGdlJ10gfHwgdGhpcy5vcHRpb25zLmxvY2FsZXNbJ2VuJ11bJ2VkaXRFZGdlJ10pOwogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7CiAgICAgICAgdGhpcy5fYmluZEhhbW1lclRvRGl2KGJ1dHRvbiwgdGhpcy5lZGl0RWRnZU1vZGUuYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2NyZWF0ZURlbGV0ZUJ1dHRvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlRGVsZXRlQnV0dG9uKGxvY2FsZSkgewogICAgICAgIHZhciBidXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ2RlbGV0ZScsICd2aXMtYnV0dG9uIHZpcy1kZWxldGUnLCBsb2NhbGVbJ2RlbCddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydkZWwnXSk7CiAgICAgICAgdGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTsKICAgICAgICB0aGlzLl9iaW5kSGFtbWVyVG9EaXYoYnV0dG9uLCB0aGlzLmRlbGV0ZVNlbGVjdGVkLmJpbmQodGhpcykpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jcmVhdGVCYWNrQnV0dG9uJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVCYWNrQnV0dG9uKGxvY2FsZSkgewogICAgICAgIHZhciBidXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ2JhY2snLCAndmlzLWJ1dHRvbiB2aXMtYmFjaycsIGxvY2FsZVsnYmFjayddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydiYWNrJ10pOwogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7CiAgICAgICAgdGhpcy5fYmluZEhhbW1lclRvRGl2KGJ1dHRvbiwgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyLmJpbmQodGhpcykpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jcmVhdGVCdXR0b24nLAogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUJ1dHRvbihpZCwgY2xhc3NOYW1lLCBsYWJlbCkgewogICAgICAgIHZhciBsYWJlbENsYXNzTmFtZSA9IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gJ3Zpcy1sYWJlbCcgOiBhcmd1bWVudHNbM107CgogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRE9NW2lkICsgJ0RpdiddID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdGhpcy5tYW5pcHVsYXRpb25ET01baWQgKyAnRGl2J10uY2xhc3NOYW1lID0gY2xhc3NOYW1lOwogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRE9NW2lkICsgJ0xhYmVsJ10gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRPTVtpZCArICdMYWJlbCddLmNsYXNzTmFtZSA9IGxhYmVsQ2xhc3NOYW1lOwogICAgICAgIHRoaXMubWFuaXB1bGF0aW9uRE9NW2lkICsgJ0xhYmVsJ10uaW5uZXJIVE1MID0gbGFiZWw7CiAgICAgICAgdGhpcy5tYW5pcHVsYXRpb25ET01baWQgKyAnRGl2J10uYXBwZW5kQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25ET01baWQgKyAnTGFiZWwnXSk7CiAgICAgICAgcmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uRE9NW2lkICsgJ0RpdiddOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jcmVhdGVEZXNjcmlwdGlvbicsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlRGVzY3JpcHRpb24obGFiZWwpIHsKICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVCdXR0b24oJ2Rlc2NyaXB0aW9uJywgJ3Zpcy1idXR0b24gdmlzLW5vbmUnLCBsYWJlbCkpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ190ZW1wb3JhcnlCaW5kRXZlbnQnLAoKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRW5kIG9mIERPTSBmdW5jdGlvbnMgZm9yIGJ1dHRvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCiAgICAgIC8qKgogICAgICAgKiB0aGlzIGJpbmRzIGFuIGV2ZW50IHVudGlsIGNsZWFudXAgYnkgdGhlIGNsZWFuIGZ1bmN0aW9ucy4KICAgICAgICogQHBhcmFtIGV2ZW50CiAgICAgICAqIEBwYXJhbSBuZXdGdW5jdGlvbgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF90ZW1wb3JhcnlCaW5kRXZlbnQoZXZlbnQsIG5ld0Z1bmN0aW9uKSB7CiAgICAgICAgdGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9ucy5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBib3VuZEZ1bmN0aW9uOiBuZXdGdW5jdGlvbiB9KTsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vbihldmVudCwgbmV3RnVuY3Rpb24pOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ190ZW1wb3JhcnlCaW5kVUknLAoKICAgICAgLyoqCiAgICAgICAqIHRoaXMgb3ZlcnJpZGVzIGFuIFVJIGZ1bmN0aW9uIHVudGlsIGNsZWFudXAgYnkgdGhlIGNsZWFuIGZ1bmN0aW9uCiAgICAgICAqIEBwYXJhbSBVSWZ1bmN0aW9uTmFtZQogICAgICAgKiBAcGFyYW0gbmV3RnVuY3Rpb24KICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdGVtcG9yYXJ5QmluZFVJKFVJZnVuY3Rpb25OYW1lLCBuZXdGdW5jdGlvbikgewogICAgICAgIGlmICh0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnNbVUlmdW5jdGlvbk5hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMudGVtcG9yYXJ5VUlGdW5jdGlvbnNbVUlmdW5jdGlvbk5hbWVdID0gdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzW1VJZnVuY3Rpb25OYW1lXTsKICAgICAgICAgIHRoaXMuYm9keS5ldmVudExpc3RlbmVyc1tVSWZ1bmN0aW9uTmFtZV0gPSBuZXdGdW5jdGlvbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIFVJIGZ1bmN0aW9uIGRvZXMgbm90IGV4aXN0LiBUeXBvPyBZb3UgdHJpZWQ6ICcgKyBVSWZ1bmN0aW9uTmFtZSArICcgcG9zc2libGUgYXJlOiAnICsgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXModGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzKSkpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfdW5iaW5kVGVtcG9yYXJ5VUlzJywKCiAgICAgIC8qKgogICAgICAgKiBSZXN0b3JlIHRoZSBvdmVycmlkZGVuIFVJIGZ1bmN0aW9ucyB0byB0aGVpciBvcmlnaW5hbCBzdGF0ZS4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5iaW5kVGVtcG9yYXJ5VUlzKCkgewogICAgICAgIGZvciAodmFyIGZ1bmN0aW9uTmFtZSBpbiB0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zKSB7CiAgICAgICAgICBpZiAodGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9ucy5oYXNPd25Qcm9wZXJ0eShmdW5jdGlvbk5hbWUpKSB7CiAgICAgICAgICAgIHRoaXMuYm9keS5ldmVudExpc3RlbmVyc1tmdW5jdGlvbk5hbWVdID0gdGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9uc1tmdW5jdGlvbk5hbWVdOwogICAgICAgICAgICBkZWxldGUgdGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9uc1tmdW5jdGlvbk5hbWVdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zID0ge307CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3VuYmluZFRlbXBvcmFyeUV2ZW50cycsCgogICAgICAvKioKICAgICAgICogVW5iaW5kIHRoZSBldmVudHMgY3JlYXRlZCBieSBfdGVtcG9yYXJ5QmluZEV2ZW50CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3VuYmluZFRlbXBvcmFyeUV2ZW50cygpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBldmVudE5hbWUgPSB0aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zW2ldLmV2ZW50OwogICAgICAgICAgdmFyIGJvdW5kRnVuY3Rpb24gPSB0aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zW2ldLmJvdW5kRnVuY3Rpb247CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5vZmYoZXZlbnROYW1lLCBib3VuZEZ1bmN0aW9uKTsKICAgICAgICB9CiAgICAgICAgdGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9ucyA9IFtdOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19iaW5kSGFtbWVyVG9EaXYnLAoKICAgICAgLyoqCiAgICAgICAqIEJpbmQgYW4gaGFtbWVyIGluc3RhbmNlIHRvIGEgRE9NIGVsZW1lbnQuCiAgICAgICAqIEBwYXJhbSBkb21FbGVtZW50CiAgICAgICAqIEBwYXJhbSBmdW5jdAogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kSGFtbWVyVG9EaXYoZG9tRWxlbWVudCwgYm91bmRGdW5jdGlvbikgewogICAgICAgIHZhciBoYW1tZXIgPSBuZXcgSGFtbWVyKGRvbUVsZW1lbnQsIHt9KTsKICAgICAgICBoYW1tZXJVdGlsLm9uVG91Y2goaGFtbWVyLCBib3VuZEZ1bmN0aW9uKTsKICAgICAgICB0aGlzLm1hbmlwdWxhdGlvbkhhbW1lcnMucHVzaChoYW1tZXIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jbGVhbnVwVGVtcG9yYXJ5Tm9kZXNBbmRFZGdlcycsCgogICAgICAvKioKICAgICAgICogTmVhdGx5IGNsZWFuIHVwIHRlbXBvcmFyeSBlZGdlcyBhbmQgbm9kZXMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2xlYW51cFRlbXBvcmFyeU5vZGVzQW5kRWRnZXMoKSB7CiAgICAgICAgLy8gX2NsZWFuIHRlbXBvcmFyeSBlZGdlcwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wb3JhcnlJZHMuZWRnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuYm9keS5lZGdlc1t0aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1tpXV0uZGlzY29ubmVjdCgpOwogICAgICAgICAgZGVsZXRlIHRoaXMuYm9keS5lZGdlc1t0aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1tpXV07CiAgICAgICAgICB2YXIgaW5kZXhUZW1wRWRnZSA9IHRoaXMuYm9keS5lZGdlSW5kaWNlcy5pbmRleE9mKHRoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzW2ldKTsKICAgICAgICAgIGlmIChpbmRleFRlbXBFZGdlICE9PSAtMSkgewogICAgICAgICAgICB0aGlzLmJvZHkuZWRnZUluZGljZXMuc3BsaWNlKGluZGV4VGVtcEVkZ2UsIDEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gX2NsZWFuIHRlbXBvcmFyeSBub2RlcwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wb3JhcnlJZHMubm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLmJvZHkubm9kZXNbdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbaV1dOwogICAgICAgICAgdmFyIGluZGV4VGVtcE5vZGUgPSB0aGlzLmJvZHkubm9kZUluZGljZXMuaW5kZXhPZih0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1tpXSk7CiAgICAgICAgICBpZiAoaW5kZXhUZW1wTm9kZSAhPT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLnNwbGljZShpbmRleFRlbXBOb2RlLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMudGVtcG9yYXJ5SWRzID0geyBub2RlczogW10sIGVkZ2VzOiBbXSB9OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jb250cm9sTm9kZVRvdWNoJywKCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFRElUIEVER0UgRlVOQ1RJT05TIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCiAgICAgIC8qKgogICAgICAgKiB0aGUgdG91Y2ggaXMgdXNlZCB0byBnZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBpbml0aWFsIGNsaWNrCiAgICAgICAqIEBwYXJhbSBldmVudAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jb250cm9sTm9kZVRvdWNoKGV2ZW50KSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCk7CiAgICAgICAgdGhpcy5sYXN0VG91Y2ggPSB0aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKTsKICAgICAgICB0aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbiA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbik7IC8vIGNvcHkgdGhlIG9iamVjdAogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jb250cm9sTm9kZURyYWdTdGFydCcsCgogICAgICAvKioKICAgICAgICogdGhlIGRyYWcgc3RhcnQgaXMgdXNlZCB0byBtYXJrIG9uZSBvZiB0aGUgY29udHJvbCBub2RlcyBhcyBzZWxlY3RlZC4KICAgICAgICogQHBhcmFtIGV2ZW50CiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX2NvbnRyb2xOb2RlRHJhZ1N0YXJ0KGV2ZW50KSB7CiAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmxhc3RUb3VjaDsKICAgICAgICB2YXIgcG9pbnRlck9iaiA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QocG9pbnRlcik7CiAgICAgICAgdmFyIGZyb20gPSB0aGlzLmJvZHkubm9kZXNbdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbMF1dOwogICAgICAgIHZhciB0byA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1sxXV07CiAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmJvZHkuZWRnZXNbdGhpcy5lZGdlQmVpbmdFZGl0ZWRJZF07CiAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlID0gdW5kZWZpbmVkOwoKICAgICAgICB2YXIgZnJvbVNlbGVjdCA9IGZyb20uaXNPdmVybGFwcGluZ1dpdGgocG9pbnRlck9iaik7CiAgICAgICAgdmFyIHRvU2VsZWN0ID0gdG8uaXNPdmVybGFwcGluZ1dpdGgocG9pbnRlck9iaik7CgogICAgICAgIGlmIChmcm9tU2VsZWN0ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUgPSBmcm9tOwogICAgICAgICAgZWRnZS5lZGdlVHlwZS5mcm9tID0gZnJvbTsKICAgICAgICB9IGVsc2UgaWYgKHRvU2VsZWN0ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUgPSB0bzsKICAgICAgICAgIGVkZ2UuZWRnZVR5cGUudG8gPSB0bzsKICAgICAgICB9CgogICAgICAgIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoJ19yZWRyYXcnKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfY29udHJvbE5vZGVEcmFnJywKCiAgICAgIC8qKgogICAgICAgKiBkcmFnZ2luZyB0aGUgY29udHJvbCBub2RlcyBvciB0aGUgY2FudmFzCiAgICAgICAqIEBwYXJhbSBldmVudAogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jb250cm9sTm9kZURyYWcoZXZlbnQpIHsKICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdkaXNhYmxlUGh5c2ljcycpOwogICAgICAgIHZhciBwb2ludGVyID0gdGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKGV2ZW50LmNlbnRlcik7CiAgICAgICAgdmFyIHBvcyA9IHRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHBvaW50ZXIpOwoKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS54ID0gcG9zLng7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUueSA9IHBvcy55OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBpZiB0aGUgZHJhZyB3YXMgbm90IHN0YXJ0ZWQgcHJvcGVybHkgYmVjYXVzZSB0aGUgY2xpY2sgc3RhcnRlZCBvdXRzaWRlIHRoZSBuZXR3b3JrIGRpdiwgc3RhcnQgaXQgbm93LgogICAgICAgICAgdmFyIGRpZmZYID0gcG9pbnRlci54IC0gdGhpcy5sYXN0VG91Y2gueDsKICAgICAgICAgIHZhciBkaWZmWSA9IHBvaW50ZXIueSAtIHRoaXMubGFzdFRvdWNoLnk7CiAgICAgICAgICB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiA9IHsgeDogdGhpcy5sYXN0VG91Y2gudHJhbnNsYXRpb24ueCArIGRpZmZYLCB5OiB0aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbi55ICsgZGlmZlkgfTsKICAgICAgICB9CiAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlZHJhdycpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19jb250cm9sTm9kZURyYWdFbmQnLAoKICAgICAgLyoqCiAgICAgICAqIGNvbm5lY3Rpbmcgb3IgcmVzdG9yaW5nIHRoZSBjb250cm9sIG5vZGVzLgogICAgICAgKiBAcGFyYW0gZXZlbnQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY29udHJvbE5vZGVEcmFnRW5kKGV2ZW50KSB7CiAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIoZXZlbnQuY2VudGVyKTsKICAgICAgICB2YXIgcG9pbnRlck9iaiA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QocG9pbnRlcik7CiAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmJvZHkuZWRnZXNbdGhpcy5lZGdlQmVpbmdFZGl0ZWRJZF07CgogICAgICAgIHZhciBvdmVybGFwcGluZ05vZGVJZHMgPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoKHBvaW50ZXJPYmopOwogICAgICAgIHZhciBub2RlID0gdW5kZWZpbmVkOwogICAgICAgIGZvciAodmFyIGkgPSBvdmVybGFwcGluZ05vZGVJZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgIGlmIChvdmVybGFwcGluZ05vZGVJZHNbaV0gIT09IHRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS5pZCkgewogICAgICAgICAgICBub2RlID0gdGhpcy5ib2R5Lm5vZGVzW292ZXJsYXBwaW5nTm9kZUlkc1tpXV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gcGVyZm9ybSB0aGUgY29ubmVjdGlvbgogICAgICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmIChub2RlLmlzQ2x1c3RlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICBhbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXVsnY3JlYXRlRWRnZUVycm9yJ10gfHwgdGhpcy5vcHRpb25zLmxvY2FsZXNbJ2VuJ11bJ2NyZWF0ZUVkZ2VFcnJvciddKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBmcm9tID0gdGhpcy5ib2R5Lm5vZGVzW3RoaXMudGVtcG9yYXJ5SWRzLm5vZGVzWzBdXTsKICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS5pZCA9PT0gZnJvbS5pZCkgewogICAgICAgICAgICAgIHRoaXMuX3BlcmZvcm1FZGl0RWRnZShub2RlLmlkLCBlZGdlLnRvLmlkKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLl9wZXJmb3JtRWRpdEVkZ2UoZWRnZS5mcm9tLmlkLCBub2RlLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlZGdlLnVwZGF0ZUVkZ2VUeXBlKCk7CiAgICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdyZXN0b3JlUGh5c2ljcycpOwogICAgICAgIH0KICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfcmVkcmF3Jyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX2hhbmRsZUNvbm5lY3QnLAoKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCBPRiBFRElUIEVER0UgRlVOQ1RJT05TIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQUREIEVER0UgRlVOQ1RJT05TIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KICAgICAgLyoqCiAgICAgICAqIHRoZSBmdW5jdGlvbiBib3VuZCB0byB0aGUgc2VsZWN0aW9uIGV2ZW50LiBJdCBjaGVja3MgaWYgeW91IHdhbnQgdG8gY29ubmVjdCBhIGNsdXN0ZXIgYW5kIGNoYW5nZXMgdGhlIGRlc2NyaXB0aW9uCiAgICAgICAqIHRvIHdhbGsgdGhlIHVzZXIgdGhyb3VnaCB0aGUgcHJvY2Vzcy4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ29ubmVjdChldmVudCkgewogICAgICAgIC8vIGNoZWNrIHRvIGF2b2lkIGRvdWJsZSBmaXJlaW5nIG9mIHRoaXMgZnVuY3Rpb24uCiAgICAgICAgaWYgKG5ldyBEYXRlKCkudmFsdWVPZigpIC0gdGhpcy50b3VjaFRpbWUgPiAxMDApIHsKICAgICAgICAgIHRoaXMubGFzdFRvdWNoID0gdGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKGV2ZW50LmNlbnRlcik7CiAgICAgICAgICB0aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbiA9IHV0aWwuZXh0ZW5kKHt9LCB0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbik7IC8vIGNvcHkgdGhlIG9iamVjdAoKICAgICAgICAgIHZhciBwb2ludGVyID0gdGhpcy5sYXN0VG91Y2g7CiAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQocG9pbnRlcik7CgogICAgICAgICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBpZiAobm9kZS5pc0NsdXN0ZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXVsnY3JlYXRlRWRnZUVycm9yJ10gfHwgdGhpcy5vcHRpb25zLmxvY2FsZXNbJ2VuJ11bJ2NyZWF0ZUVkZ2VFcnJvciddKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBub2RlIHRoZSB0ZW1wb3JhcnkgbGluZSBjYW4gbG9vayBhdAogICAgICAgICAgICAgIHZhciB0YXJnZXROb2RlID0gdGhpcy5fZ2V0TmV3VGFyZ2V0Tm9kZShub2RlLngsIG5vZGUueSk7CiAgICAgICAgICAgICAgdGhpcy5ib2R5Lm5vZGVzW3RhcmdldE5vZGUuaWRdID0gdGFyZ2V0Tm9kZTsKICAgICAgICAgICAgICB0aGlzLmJvZHkubm9kZUluZGljZXMucHVzaCh0YXJnZXROb2RlLmlkKTsKCiAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgdGVtcG9yYXJ5IGVkZ2UKICAgICAgICAgICAgICB2YXIgY29ubmVjdGlvbkVkZ2UgPSB0aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZUVkZ2UoewogICAgICAgICAgICAgICAgaWQ6ICdjb25uZWN0aW9uRWRnZScgKyB1dGlsLnJhbmRvbVVVSUQoKSwKICAgICAgICAgICAgICAgIGZyb206IG5vZGUuaWQsCiAgICAgICAgICAgICAgICB0bzogdGFyZ2V0Tm9kZS5pZCwKICAgICAgICAgICAgICAgIHBoeXNpY3M6IGZhbHNlLAogICAgICAgICAgICAgICAgc21vb3RoOiB7CiAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51b3VzJywKICAgICAgICAgICAgICAgICAgcm91bmRuZXNzOiAwLjUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmJvZHkuZWRnZXNbY29ubmVjdGlvbkVkZ2UuaWRdID0gY29ubmVjdGlvbkVkZ2U7CiAgICAgICAgICAgICAgdGhpcy5ib2R5LmVkZ2VJbmRpY2VzLnB1c2goY29ubmVjdGlvbkVkZ2UuaWQpOwoKICAgICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlcy5wdXNoKHRhcmdldE5vZGUuaWQpOwogICAgICAgICAgICAgIHRoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzLnB1c2goY29ubmVjdGlvbkVkZ2UuaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnRvdWNoVGltZSA9IG5ldyBEYXRlKCkudmFsdWVPZigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZHJhZ0NvbnRyb2xOb2RlJywKICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmFnQ29udHJvbE5vZGUoZXZlbnQpIHsKICAgICAgICB2YXIgcG9pbnRlciA9IHRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcihldmVudC5jZW50ZXIpOwogICAgICAgIGlmICh0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1swXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRoaXMuYm9keS5ub2Rlc1t0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1swXV07IC8vIHRoZXJlIGlzIG9ubHkgb25lIHRlbXAgbm9kZSBpbiB0aGUgYWRkIGVkZ2UgbW9kZS4KICAgICAgICAgIHRhcmdldE5vZGUueCA9IHRoaXMuY2FudmFzLl9YY29udmVydERPTXRvQ2FudmFzKHBvaW50ZXIueCk7CiAgICAgICAgICB0YXJnZXROb2RlLnkgPSB0aGlzLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyhwb2ludGVyLnkpOwogICAgICAgICAgdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCgnX3JlZHJhdycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGlmZlggPSBwb2ludGVyLnggLSB0aGlzLmxhc3RUb3VjaC54OwogICAgICAgICAgdmFyIGRpZmZZID0gcG9pbnRlci55IC0gdGhpcy5sYXN0VG91Y2gueTsKICAgICAgICAgIHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uID0geyB4OiB0aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbi54ICsgZGlmZlgsIHk6IHRoaXMubGFzdFRvdWNoLnRyYW5zbGF0aW9uLnkgKyBkaWZmWSB9OwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICdfZmluaXNoQ29ubmVjdCcsCgogICAgICAvKioKICAgICAgICogQ29ubmVjdCB0aGUgbmV3IGVkZ2UgdG8gdGhlIHRhcmdldCBpZiBvbmUgZXhpc3RzLCBvdGhlcndpc2UgcmVtb3ZlIHRlbXAgbGluZQogICAgICAgKiBAcGFyYW0gZXZlbnQKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluaXNoQ29ubmVjdChldmVudCkgewogICAgICAgIHZhciBwb2ludGVyID0gdGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKGV2ZW50LmNlbnRlcik7CiAgICAgICAgdmFyIHBvaW50ZXJPYmogPSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0KHBvaW50ZXIpOwoKICAgICAgICAvLyByZW1lbWJlciB0aGUgZWRnZSBpZAogICAgICAgIHZhciBjb25uZWN0RnJvbUlkID0gdW5kZWZpbmVkOwogICAgICAgIGlmICh0aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1swXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjb25uZWN0RnJvbUlkID0gdGhpcy5ib2R5LmVkZ2VzW3RoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzWzBdXS5mcm9tSWQ7CiAgICAgICAgfQoKICAgICAgICAvLyBnZXQgdGhlIG92ZXJsYXBwaW5nIG5vZGUgYnV0IE5PVCB0aGUgdGVtcG9yYXJ5IG5vZGU7CiAgICAgICAgdmFyIG92ZXJsYXBwaW5nTm9kZUlkcyA9IHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0QWxsTm9kZXNPdmVybGFwcGluZ1dpdGgocG9pbnRlck9iaik7CiAgICAgICAgdmFyIG5vZGUgPSB1bmRlZmluZWQ7CiAgICAgICAgZm9yICh2YXIgaSA9IG92ZXJsYXBwaW5nTm9kZUlkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgLy8gaWYgdGhlIG5vZGUgaWQgaXMgTk9UIGEgdGVtcG9yYXJ5IG5vZGUsIGFjY2VwdCB0aGUgbm9kZS4KICAgICAgICAgIGlmICh0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlcy5pbmRleE9mKG92ZXJsYXBwaW5nTm9kZUlkc1tpXSkgPT09IC0xKSB7CiAgICAgICAgICAgIG5vZGUgPSB0aGlzLmJvZHkubm9kZXNbb3ZlcmxhcHBpbmdOb2RlSWRzW2ldXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBjbGVhbiB0ZW1wb3Jhcnkgbm9kZXMgYW5kIGVkZ2VzLgogICAgICAgIHRoaXMuX2NsZWFudXBUZW1wb3JhcnlOb2Rlc0FuZEVkZ2VzKCk7CgogICAgICAgIC8vIHBlcmZvcm0gdGhlIGNvbm5lY3Rpb24KICAgICAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAobm9kZS5pc0NsdXN0ZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgYWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV1bJ2NyZWF0ZUVkZ2VFcnJvciddIHx8IHRoaXMub3B0aW9ucy5sb2NhbGVzWydlbiddWydjcmVhdGVFZGdlRXJyb3InXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodGhpcy5ib2R5Lm5vZGVzW2Nvbm5lY3RGcm9tSWRdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5ib2R5Lm5vZGVzW25vZGUuaWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0aGlzLl9wZXJmb3JtQWRkRWRnZShjb25uZWN0RnJvbUlkLCBub2RlLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KCdfcmVkcmF3Jyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3BlcmZvcm1BZGROb2RlJywKCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgQUREIEVER0UgRlVOQ1RJT05TIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBlcmZvcm1pbmcgYWxsIHRoZSBhY3R1YWwgZGF0YSBtYW5pcHVsYXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCiAgICAgIC8qKgogICAgICAgKiBBZGRzIGEgbm9kZSBvbiB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3BlcmZvcm1BZGROb2RlKGNsaWNrRGF0YSkgewogICAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgICB2YXIgZGVmYXVsdERhdGEgPSB7CiAgICAgICAgICBpZDogdXRpbC5yYW5kb21VVUlEKCksCiAgICAgICAgICB4OiBjbGlja0RhdGEucG9pbnRlci5jYW52YXMueCwKICAgICAgICAgIHk6IGNsaWNrRGF0YS5wb2ludGVyLmNhbnZhcy55LAogICAgICAgICAgbGFiZWw6ICduZXcnCiAgICAgICAgfTsKCiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuYWRkTm9kZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGROb2RlLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMuYWRkTm9kZShkZWZhdWx0RGF0YSwgZnVuY3Rpb24gKGZpbmFsaXplZERhdGEpIHsKICAgICAgICAgICAgICBpZiAoZmluYWxpemVkRGF0YSAhPT0gbnVsbCAmJiBmaW5hbGl6ZWREYXRhICE9PSB1bmRlZmluZWQgJiYgX3RoaXM1LmluTW9kZSA9PT0gJ2FkZE5vZGUnKSB7CiAgICAgICAgICAgICAgICAvLyBpZiBmb3Igd2hhdGV2ZXIgcmVhc29uIHRoZSBtb2RlIGhhcyBjaGFuZ2VzIChkdWUgdG8gZGF0YXNldCBjaGFuZ2UpIGRpc3JlZ2FyZCB0aGUgY2FsbGJhY2sKICAgICAgICAgICAgICAgIF90aGlzNS5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLmFkZChmaW5hbGl6ZWREYXRhKTsKICAgICAgICAgICAgICAgIF90aGlzNS5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZ1bmN0aW9uIGZvciBhZGQgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLGNhbGxiYWNrKScpOwogICAgICAgICAgICB0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLmFkZChkZWZhdWx0RGF0YSk7CiAgICAgICAgICB0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAnX3BlcmZvcm1BZGRFZGdlJywKCiAgICAgIC8qKgogICAgICAgKiBjb25uZWN0IHR3byBub2RlcyB3aXRoIGEgbmV3IGVkZ2UuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqLwogICAgICB2YWx1ZTogZnVuY3Rpb24gX3BlcmZvcm1BZGRFZGdlKHNvdXJjZU5vZGVJZCwgdGFyZ2V0Tm9kZUlkKSB7CiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHsgZnJvbTogc291cmNlTm9kZUlkLCB0bzogdGFyZ2V0Tm9kZUlkIH07CiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuYWRkRWRnZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hZGRFZGdlLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMuYWRkRWRnZShkZWZhdWx0RGF0YSwgZnVuY3Rpb24gKGZpbmFsaXplZERhdGEpIHsKICAgICAgICAgICAgICBpZiAoZmluYWxpemVkRGF0YSAhPT0gbnVsbCAmJiBmaW5hbGl6ZWREYXRhICE9PSB1bmRlZmluZWQgJiYgX3RoaXM2LmluTW9kZSA9PT0gJ2FkZEVkZ2UnKSB7CiAgICAgICAgICAgICAgICAvLyBpZiBmb3Igd2hhdGV2ZXIgcmVhc29uIHRoZSBtb2RlIGhhcyBjaGFuZ2VzIChkdWUgdG8gZGF0YXNldCBjaGFuZ2UpIGRpc3JlZ2FyZCB0aGUgY2FsbGJhY2sKICAgICAgICAgICAgICAgIF90aGlzNi5ib2R5LmRhdGEuZWRnZXMuYWRkKGZpbmFsaXplZERhdGEpOwogICAgICAgICAgICAgICAgX3RoaXM2LnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKTsKICAgICAgICAgICAgICAgIF90aGlzNi5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZ1bmN0aW9uIGZvciBjb25uZWN0IGRvZXMgbm90IHN1cHBvcnQgdHdvIGFyZ3VtZW50cyAoZGF0YSxjYWxsYmFjayknKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ib2R5LmRhdGEuZWRnZXMuYWRkKGRlZmF1bHREYXRhKTsKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpOwogICAgICAgICAgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogJ19wZXJmb3JtRWRpdEVkZ2UnLAoKICAgICAgLyoqCiAgICAgICAqIGNvbm5lY3QgdHdvIG5vZGVzIHdpdGggYSBuZXcgZWRnZS4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICovCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcGVyZm9ybUVkaXRFZGdlKHNvdXJjZU5vZGVJZCwgdGFyZ2V0Tm9kZUlkKSB7CiAgICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHsgaWQ6IHRoaXMuZWRnZUJlaW5nRWRpdGVkSWQsIGZyb206IHNvdXJjZU5vZGVJZCwgdG86IHRhcmdldE5vZGVJZCB9OwogICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmVkaXRFZGdlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkaXRFZGdlLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRpdEVkZ2UoZGVmYXVsdERhdGEsIGZ1bmN0aW9uIChmaW5hbGl6ZWREYXRhKSB7CiAgICAgICAgICAgICAgaWYgKGZpbmFsaXplZERhdGEgPT09IG51bGwgfHwgZmluYWxpemVkRGF0YSA9PT0gdW5kZWZpbmVkIHx8IF90aGlzNy5pbk1vZGUgIT09ICdlZGl0RWRnZScpIHsKICAgICAgICAgICAgICAgIC8vIGlmIGZvciB3aGF0ZXZlciByZWFzb24gdGhlIG1vZGUgaGFzIGNoYW5nZXMgKGR1ZSB0byBkYXRhc2V0IGNoYW5nZSkgZGlzcmVnYXJkIHRoZSBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgX3RoaXM3LmJvZHkuZWRnZXNbZGVmYXVsdERhdGEuaWRdLnVwZGF0ZUVkZ2VUeXBlKCk7CiAgICAgICAgICAgICAgICBfdGhpczcuYm9keS5lbWl0dGVyLmVtaXQoJ19yZWRyYXcnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM3LmJvZHkuZGF0YS5lZGdlcy51cGRhdGUoZmluYWxpemVkRGF0YSk7CiAgICAgICAgICAgICAgICBfdGhpczcuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpOwogICAgICAgICAgICAgICAgX3RoaXM3LnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZnVuY3Rpb24gZm9yIGVkaXQgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLCBjYWxsYmFjayknKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ib2R5LmRhdGEuZWRnZXMudXBkYXRlKGRlZmF1bHREYXRhKTsKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpOwogICAgICAgICAgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIE1hbmlwdWxhdGlvblN5c3RlbTsKICB9KSgpOwoKICBleHBvcnRzWydkZWZhdWx0J10gPSBNYW5pcHVsYXRpb25TeXN0ZW07CiAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9LAovKiAxMDggKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgogIC8qKgogICAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIGFsbCBwb3NzaWJsZSBvcHRpb25zLiBJdCB3aWxsIGNoZWNrIGlmIHRoZSB0eXBlcyBhcmUgY29ycmVjdCwgaWYgcmVxdWlyZWQgaWYgdGhlIG9wdGlvbiBpcyBvbmUKICAgKiBvZiB0aGUgYWxsb3dlZCB2YWx1ZXMuCiAgICoKICAgKiBfX2FueV9fIG1lYW5zIHRoYXQgdGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IGRvZXMgbm90IG1hdHRlci4KICAgKiBfX3R5cGVfXyBpcyBhIHJlcXVpcmVkIGZpZWxkIGZvciBhbGwgb2JqZWN0cyBhbmQgY29udGFpbnMgdGhlIGFsbG93ZWQgdHlwZXMgb2YgYWxsIG9iamVjdHMKICAgKi8KICAndXNlIHN0cmljdCc7CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgIHZhbHVlOiB0cnVlCiAgfSk7CiAgdmFyIHN0cmluZyA9ICdzdHJpbmcnOwogIHZhciBib29sZWFuID0gJ2Jvb2xlYW4nOwogIHZhciBudW1iZXIgPSAnbnVtYmVyJzsKICB2YXIgYXJyYXkgPSAnYXJyYXknOwogIHZhciBvYmplY3QgPSAnb2JqZWN0JzsgLy8gc2hvdWxkIG9ubHkgYmUgaW4gYSBfX3R5cGVfXyBwcm9wZXJ0eQogIHZhciBkb20gPSAnZG9tJzsKICB2YXIgYW55ID0gJ2FueSc7CgogIHZhciBhbGxPcHRpb25zID0gewogICAgY29uZmlndXJlOiB7CiAgICAgIGVuYWJsZWQ6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBmaWx0ZXI6IHsgYm9vbGVhbjogYm9vbGVhbiwgc3RyaW5nOiBzdHJpbmcsIGFycmF5OiBhcnJheSwgJ2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJyB9LAogICAgICBjb250YWluZXI6IHsgZG9tOiBkb20gfSwKICAgICAgc2hvd0J1dHRvbjogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBib29sZWFuOiBib29sZWFuLCBzdHJpbmc6IHN0cmluZywgYXJyYXk6IGFycmF5LCAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nIH0KICAgIH0sCiAgICBlZGdlczogewogICAgICBhcnJvd3M6IHsKICAgICAgICB0bzogeyBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwgc2NhbGVGYWN0b3I6IHsgbnVtYmVyOiBudW1iZXIgfSwgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIGJvb2xlYW46IGJvb2xlYW4gfSB9LAogICAgICAgIG1pZGRsZTogeyBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwgc2NhbGVGYWN0b3I6IHsgbnVtYmVyOiBudW1iZXIgfSwgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIGJvb2xlYW46IGJvb2xlYW4gfSB9LAogICAgICAgIGZyb206IHsgZW5hYmxlZDogeyBib29sZWFuOiBib29sZWFuIH0sIHNjYWxlRmFjdG9yOiB7IG51bWJlcjogbnVtYmVyIH0sIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBib29sZWFuOiBib29sZWFuIH0gfSwKICAgICAgICBfX3R5cGVfXzogeyBzdHJpbmc6IFsnZnJvbScsICd0bycsICdtaWRkbGUnXSwgb2JqZWN0OiBvYmplY3QgfQogICAgICB9LAogICAgICBjb2xvcjogewogICAgICAgIGNvbG9yOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICAgICAgaGlnaGxpZ2h0OiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICAgICAgaG92ZXI6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgICAgICBpbmhlcml0OiB7IHN0cmluZzogWydmcm9tJywgJ3RvJywgJ2JvdGgnXSwgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICAgIG9wYWNpdHk6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgc3RyaW5nOiBzdHJpbmcgfQogICAgICB9LAogICAgICBkYXNoZXM6IHsgYm9vbGVhbjogYm9vbGVhbiwgYXJyYXk6IGFycmF5IH0sCiAgICAgIGZvbnQ6IHsKICAgICAgICBjb2xvcjogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgICAgIHNpemU6IHsgbnVtYmVyOiBudW1iZXIgfSwgLy8gcHgKICAgICAgICBmYWNlOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICAgICAgYmFja2dyb3VuZDogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgICAgIHN0cm9rZVdpZHRoOiB7IG51bWJlcjogbnVtYmVyIH0sIC8vIHB4CiAgICAgICAgc3Ryb2tlQ29sb3I6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgICAgICBhbGlnbjogeyBzdHJpbmc6IFsnaG9yaXpvbnRhbCcsICd0b3AnLCAnbWlkZGxlJywgJ2JvdHRvbSddIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIHN0cmluZzogc3RyaW5nIH0KICAgICAgfSwKICAgICAgaGlkZGVuOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgaG92ZXJXaWR0aDogeyAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nLCBudW1iZXI6IG51bWJlciB9LAogICAgICBsYWJlbDogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIGxlbmd0aDogeyBudW1iZXI6IG51bWJlciwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIHBoeXNpY3M6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBzY2FsaW5nOiB7CiAgICAgICAgbWluOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgbWF4OiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgbGFiZWw6IHsKICAgICAgICAgIGVuYWJsZWQ6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICAgICAgbWluOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgICBtYXg6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICAgIG1heFZpc2libGU6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICAgIGRyYXdUaHJlc2hvbGQ6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBib29sZWFuOiBib29sZWFuIH0KICAgICAgICB9LAogICAgICAgIGN1c3RvbVNjYWxpbmdGdW5jdGlvbjogeyAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgICB9LAogICAgICBzZWxlY3Rpb25XaWR0aDogeyAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nLCBudW1iZXI6IG51bWJlciB9LAogICAgICBzZWxmUmVmZXJlbmNlU2l6ZTogeyBudW1iZXI6IG51bWJlciB9LAogICAgICBzaGFkb3c6IHsKICAgICAgICBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgICBzaXplOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgeDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIHk6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgYm9vbGVhbjogYm9vbGVhbiB9CiAgICAgIH0sCiAgICAgIHNtb290aDogewogICAgICAgIGVuYWJsZWQ6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICAgIHR5cGU6IHsgc3RyaW5nOiBbJ2R5bmFtaWMnLCAnY29udGludW91cycsICdkaXNjcmV0ZScsICdkaWFnb25hbENyb3NzJywgJ3N0cmFpZ2h0Q3Jvc3MnLCAnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCcsICdjdXJ2ZWRDVycsICdjdXJ2ZWRDQ1cnXSB9LAogICAgICAgIHJvdW5kbmVzczogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBib29sZWFuOiBib29sZWFuIH0KICAgICAgfSwKICAgICAgdGl0bGU6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICB3aWR0aDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICB2YWx1ZTogeyBudW1iZXI6IG51bWJlciwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICBncm91cHM6IHsKICAgICAgdXNlRGVmYXVsdEdyb3VwczogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIF9fYW55X186ICdnZXQgZnJvbSBub2Rlcywgd2lsbCBiZSBvdmVyd3JpdHRlbiBiZWxvdycsCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgIH0sCiAgICBpbnRlcmFjdGlvbjogewogICAgICBkcmFnTm9kZXM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBkcmFnVmlldzogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIGhpZGVFZGdlc09uRHJhZzogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIGhpZGVOb2Rlc09uRHJhZzogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIGhvdmVyOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAga2V5Ym9hcmQ6IHsKICAgICAgICBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgICBzcGVlZDogeyB4OiB7IG51bWJlcjogbnVtYmVyIH0sIHk6IHsgbnVtYmVyOiBudW1iZXIgfSwgem9vbTogeyBudW1iZXI6IG51bWJlciB9LCBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9IH0sCiAgICAgICAgYmluZFRvV2luZG93OiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgYm9vbGVhbjogYm9vbGVhbiB9CiAgICAgIH0sCiAgICAgIG11bHRpc2VsZWN0OiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgbmF2aWdhdGlvbkJ1dHRvbnM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBzZWxlY3RhYmxlOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgc2VsZWN0Q29ubmVjdGVkRWRnZXM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBob3ZlckNvbm5lY3RlZEVkZ2VzOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgdG9vbHRpcERlbGF5OiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgIHpvb21WaWV3OiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgfSwKICAgIGxheW91dDogewogICAgICByYW5kb21TZWVkOiB7ICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJywgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgaGllcmFyY2hpY2FsOiB7CiAgICAgICAgZW5hYmxlZDogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgICAgbGV2ZWxTZXBhcmF0aW9uOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgZGlyZWN0aW9uOiB7IHN0cmluZzogWydVRCcsICdEVScsICdMUicsICdSTCddIH0sIC8vIFVELCBEVSwgTFIsIFJMCiAgICAgICAgc29ydE1ldGhvZDogeyBzdHJpbmc6IFsnaHVic2l6ZScsICdkaXJlY3RlZCddIH0sIC8vIGh1YnNpemUsIGRpcmVjdGVkCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIGJvb2xlYW46IGJvb2xlYW4gfQogICAgICB9LAogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICB9LAogICAgbWFuaXB1bGF0aW9uOiB7CiAgICAgIGVuYWJsZWQ6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBpbml0aWFsbHlBY3RpdmU6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICBhZGROb2RlOiB7IGJvb2xlYW46IGJvb2xlYW4sICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgICAgYWRkRWRnZTogeyBib29sZWFuOiBib29sZWFuLCAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nIH0sCiAgICAgIGVkaXROb2RlOiB7ICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgICAgZWRpdEVkZ2U6IHsgYm9vbGVhbjogYm9vbGVhbiwgJ2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJyB9LAogICAgICBkZWxldGVOb2RlOiB7IGJvb2xlYW46IGJvb2xlYW4sICdmdW5jdGlvbic6ICdmdW5jdGlvbicgfSwKICAgICAgZGVsZXRlRWRnZTogeyBib29sZWFuOiBib29sZWFuLCAnZnVuY3Rpb24nOiAnZnVuY3Rpb24nIH0sCiAgICAgIGNvbnRyb2xOb2RlU3R5bGU6ICdnZXQgZnJvbSBub2Rlcywgd2lsbCBiZSBvdmVyd3JpdHRlbiBiZWxvdycsCiAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBib29sZWFuOiBib29sZWFuIH0KICAgIH0sCiAgICBub2RlczogewogICAgICBib3JkZXJXaWR0aDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICBib3JkZXJXaWR0aFNlbGVjdGVkOiB7IG51bWJlcjogbnVtYmVyLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgYnJva2VuSW1hZ2U6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICBjb2xvcjogewogICAgICAgIGJvcmRlcjogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgICAgIGJhY2tncm91bmQ6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgICAgICBoaWdobGlnaHQ6IHsKICAgICAgICAgIGJvcmRlcjogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgICAgICAgYmFja2dyb3VuZDogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIHN0cmluZzogc3RyaW5nIH0KICAgICAgICB9LAogICAgICAgIGhvdmVyOiB7CiAgICAgICAgICBib3JkZXI6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgICAgICAgIGJhY2tncm91bmQ6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBzdHJpbmc6IHN0cmluZyB9CiAgICAgICAgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgc3RyaW5nOiBzdHJpbmcgfQogICAgICB9LAogICAgICBmaXhlZDogewogICAgICAgIHg6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICAgIHk6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBib29sZWFuOiBib29sZWFuIH0KICAgICAgfSwKICAgICAgZm9udDogewogICAgICAgIGNvbG9yOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICAgICAgc2l6ZTogeyBudW1iZXI6IG51bWJlciB9LCAvLyBweAogICAgICAgIGZhY2U6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgICAgICBiYWNrZ3JvdW5kOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICAgICAgc3Ryb2tlV2lkdGg6IHsgbnVtYmVyOiBudW1iZXIgfSwgLy8gcHgKICAgICAgICBzdHJva2VDb2xvcjogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0LCBzdHJpbmc6IHN0cmluZyB9CiAgICAgIH0sCiAgICAgIGdyb3VwOiB7IHN0cmluZzogc3RyaW5nLCBudW1iZXI6IG51bWJlciwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIGhpZGRlbjogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgIGljb246IHsKICAgICAgICBmYWNlOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICAgICAgY29kZTogeyBzdHJpbmc6IHN0cmluZyB9LCAvLydcdWYwMDcnLAogICAgICAgIHNpemU6IHsgbnVtYmVyOiBudW1iZXIgfSwgLy81MCwKICAgICAgICBjb2xvcjogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgICAgfSwKICAgICAgaWQ6IHsgc3RyaW5nOiBzdHJpbmcsIG51bWJlcjogbnVtYmVyIH0sCiAgICAgIGltYWdlOiB7IHN0cmluZzogc3RyaW5nLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwgLy8gLS0+IFVSTAogICAgICBsYWJlbDogeyBzdHJpbmc6IHN0cmluZywgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIGxldmVsOiB7IG51bWJlcjogbnVtYmVyLCAndW5kZWZpbmVkJzogJ3VuZGVmaW5lZCcgfSwKICAgICAgbWFzczogeyBudW1iZXI6IG51bWJlciB9LAogICAgICBwaHlzaWNzOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgc2NhbGluZzogewogICAgICAgIG1pbjogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIG1heDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIGxhYmVsOiB7CiAgICAgICAgICBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgICAgIG1pbjogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgICAgbWF4OiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgICBtYXhWaXNpYmxlOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgICBkcmF3VGhyZXNob2xkOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgYm9vbGVhbjogYm9vbGVhbiB9CiAgICAgICAgfSwKICAgICAgICBjdXN0b21TY2FsaW5nRnVuY3Rpb246IHsgJ2Z1bmN0aW9uJzogJ2Z1bmN0aW9uJyB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgICAgfSwKICAgICAgc2hhZG93OiB7CiAgICAgICAgZW5hYmxlZDogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgICAgc2l6ZTogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIHg6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICB5OiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIGJvb2xlYW46IGJvb2xlYW4gfQogICAgICB9LAogICAgICBzaGFwZTogeyBzdHJpbmc6IFsnZWxsaXBzZScsICdjaXJjbGUnLCAnZGF0YWJhc2UnLCAnYm94JywgJ3RleHQnLCAnaW1hZ2UnLCAnY2lyY3VsYXJJbWFnZScsICdkaWFtb25kJywgJ2RvdCcsICdzdGFyJywgJ3RyaWFuZ2xlJywgJ3RyaWFuZ2xlRG93bicsICdzcXVhcmUnLCAnaWNvbiddIH0sCiAgICAgIHNpemU6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgdGl0bGU6IHsgc3RyaW5nOiBzdHJpbmcsICd1bmRlZmluZWQnOiAndW5kZWZpbmVkJyB9LAogICAgICB2YWx1ZTogeyBudW1iZXI6IG51bWJlciwgJ3VuZGVmaW5lZCc6ICd1bmRlZmluZWQnIH0sCiAgICAgIHg6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgeTogeyBudW1iZXI6IG51bWJlciB9LAogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICB9LAogICAgcGh5c2ljczogewogICAgICBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgYmFybmVzSHV0OiB7CiAgICAgICAgZ3Jhdml0YXRpb25hbENvbnN0YW50OiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgY2VudHJhbEdyYXZpdHk6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBzcHJpbmdMZW5ndGg6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBzcHJpbmdDb25zdGFudDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIGRhbXBpbmc6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBhdm9pZE92ZXJsYXA6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICAgIH0sCiAgICAgIGZvcmNlQXRsYXMyQmFzZWQ6IHsKICAgICAgICBncmF2aXRhdGlvbmFsQ29uc3RhbnQ6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBjZW50cmFsR3Jhdml0eTogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIHNwcmluZ0xlbmd0aDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIHNwcmluZ0NvbnN0YW50OiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgZGFtcGluZzogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIGF2b2lkT3ZlcmxhcDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICAgICAgfSwKICAgICAgcmVwdWxzaW9uOiB7CiAgICAgICAgY2VudHJhbEdyYXZpdHk6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBzcHJpbmdMZW5ndGg6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBzcHJpbmdDb25zdGFudDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIG5vZGVEaXN0YW5jZTogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIGRhbXBpbmc6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCB9CiAgICAgIH0sCiAgICAgIGhpZXJhcmNoaWNhbFJlcHVsc2lvbjogewogICAgICAgIGNlbnRyYWxHcmF2aXR5OiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgc3ByaW5nTGVuZ3RoOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgc3ByaW5nQ29uc3RhbnQ6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBub2RlRGlzdGFuY2U6IHsgbnVtYmVyOiBudW1iZXIgfSwKICAgICAgICBkYW1waW5nOiB7IG51bWJlcjogbnVtYmVyIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgICB9LAogICAgICBtYXhWZWxvY2l0eTogeyBudW1iZXI6IG51bWJlciB9LAogICAgICBtaW5WZWxvY2l0eTogeyBudW1iZXI6IG51bWJlciB9LCAvLyBweC9zCiAgICAgIHNvbHZlcjogeyBzdHJpbmc6IFsnYmFybmVzSHV0JywgJ3JlcHVsc2lvbicsICdoaWVyYXJjaGljYWxSZXB1bHNpb24nLCAnZm9yY2VBdGxhczJCYXNlZCddIH0sCiAgICAgIHN0YWJpbGl6YXRpb246IHsKICAgICAgICBlbmFibGVkOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgICAgICBpdGVyYXRpb25zOiB7IG51bWJlcjogbnVtYmVyIH0sIC8vIG1heGltdW0gbnVtYmVyIG9mIGl0ZXJhdGlvbiB0byBzdGFiaWxpemUKICAgICAgICB1cGRhdGVJbnRlcnZhbDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICAgIG9ubHlEeW5hbWljRWRnZXM6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgICAgIGZpdDogeyBib29sZWFuOiBib29sZWFuIH0sCiAgICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QsIGJvb2xlYW46IGJvb2xlYW4gfQogICAgICB9LAogICAgICB0aW1lc3RlcDogeyBudW1iZXI6IG51bWJlciB9LAogICAgICBfX3R5cGVfXzogeyBvYmplY3Q6IG9iamVjdCwgYm9vbGVhbjogYm9vbGVhbiB9CiAgICB9LAoKICAgIC8vZ2xvYmFscyA6CiAgICBhdXRvUmVzaXplOiB7IGJvb2xlYW46IGJvb2xlYW4gfSwKICAgIGNsaWNrVG9Vc2U6IHsgYm9vbGVhbjogYm9vbGVhbiB9LAogICAgbG9jYWxlOiB7IHN0cmluZzogc3RyaW5nIH0sCiAgICBsb2NhbGVzOiB7CiAgICAgIF9fYW55X186IHsgYW55OiBhbnkgfSwKICAgICAgX190eXBlX186IHsgb2JqZWN0OiBvYmplY3QgfQogICAgfSwKICAgIGhlaWdodDogeyBzdHJpbmc6IHN0cmluZyB9LAogICAgd2lkdGg6IHsgc3RyaW5nOiBzdHJpbmcgfSwKICAgIF9fdHlwZV9fOiB7IG9iamVjdDogb2JqZWN0IH0KICB9OwoKICBhbGxPcHRpb25zLmdyb3Vwcy5fX2FueV9fID0gYWxsT3B0aW9ucy5ub2RlczsKICBhbGxPcHRpb25zLm1hbmlwdWxhdGlvbi5jb250cm9sTm9kZVN0eWxlID0gYWxsT3B0aW9ucy5ub2RlczsKCiAgdmFyIGNvbmZpZ3VyZU9wdGlvbnMgPSB7CiAgICBub2RlczogewogICAgICBib3JkZXJXaWR0aDogWzEsIDAsIDEwLCAxXSwKICAgICAgYm9yZGVyV2lkdGhTZWxlY3RlZDogWzIsIDAsIDEwLCAxXSwKICAgICAgY29sb3I6IHsKICAgICAgICBib3JkZXI6IFsnY29sb3InLCAnIzJCN0NFOSddLAogICAgICAgIGJhY2tncm91bmQ6IFsnY29sb3InLCAnIzk3QzJGQyddLAogICAgICAgIGhpZ2hsaWdodDogewogICAgICAgICAgYm9yZGVyOiBbJ2NvbG9yJywgJyMyQjdDRTknXSwKICAgICAgICAgIGJhY2tncm91bmQ6IFsnY29sb3InLCAnI0QyRTVGRiddCiAgICAgICAgfSwKICAgICAgICBob3ZlcjogewogICAgICAgICAgYm9yZGVyOiBbJ2NvbG9yJywgJyMyQjdDRTknXSwKICAgICAgICAgIGJhY2tncm91bmQ6IFsnY29sb3InLCAnI0QyRTVGRiddCiAgICAgICAgfQogICAgICB9LAogICAgICBmaXhlZDogewogICAgICAgIHg6IGZhbHNlLAogICAgICAgIHk6IGZhbHNlCiAgICAgIH0sCiAgICAgIGZvbnQ6IHsKICAgICAgICBjb2xvcjogWydjb2xvcicsICcjMzQzNDM0J10sCiAgICAgICAgc2l6ZTogWzE0LCAwLCAxMDAsIDFdLCAvLyBweAogICAgICAgIGZhY2U6IFsnYXJpYWwnLCAndmVyZGFuYScsICd0YWhvbWEnXSwKICAgICAgICBiYWNrZ3JvdW5kOiBbJ2NvbG9yJywgJ25vbmUnXSwKICAgICAgICBzdHJva2VXaWR0aDogWzAsIDAsIDUwLCAxXSwgLy8gcHgKICAgICAgICBzdHJva2VDb2xvcjogWydjb2xvcicsICcjZmZmZmZmJ10KICAgICAgfSwKICAgICAgLy9ncm91cDogJ3N0cmluZycsCiAgICAgIGhpZGRlbjogZmFsc2UsCiAgICAgIC8vaWNvbjogewogICAgICAvLyAgZmFjZTogJ3N0cmluZycsICAvLydGb250QXdlc29tZScsCiAgICAgIC8vICBjb2RlOiAnc3RyaW5nJywgIC8vJ1x1ZjAwNycsCiAgICAgIC8vICBzaXplOiBbNTAsIDAsIDIwMCwgMV0sICAvLzUwLAogICAgICAvLyAgY29sb3I6IFsnY29sb3InLCcjMkI3Q0U5J10gICAvLycjYWEwMGZmJwogICAgICAvL30sCiAgICAgIC8vaW1hZ2U6ICdzdHJpbmcnLCAvLyAtLT4gVVJMCiAgICAgIHBoeXNpY3M6IHRydWUsCiAgICAgIHNjYWxpbmc6IHsKICAgICAgICBtaW46IFsxMCwgMCwgMjAwLCAxXSwKICAgICAgICBtYXg6IFszMCwgMCwgMjAwLCAxXSwKICAgICAgICBsYWJlbDogewogICAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgICBtaW46IFsxNCwgMCwgMjAwLCAxXSwKICAgICAgICAgIG1heDogWzMwLCAwLCAyMDAsIDFdLAogICAgICAgICAgbWF4VmlzaWJsZTogWzMwLCAwLCAyMDAsIDFdLAogICAgICAgICAgZHJhd1RocmVzaG9sZDogWzUsIDAsIDIwLCAxXQogICAgICAgIH0KICAgICAgfSwKICAgICAgc2hhZG93OiB7CiAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgc2l6ZTogWzEwLCAwLCAyMCwgMV0sCiAgICAgICAgeDogWzUsIC0zMCwgMzAsIDFdLAogICAgICAgIHk6IFs1LCAtMzAsIDMwLCAxXQogICAgICB9LAogICAgICBzaGFwZTogWydlbGxpcHNlJywgJ2JveCcsICdjaXJjbGUnLCAnZGF0YWJhc2UnLCAnZGlhbW9uZCcsICdkb3QnLCAnc3F1YXJlJywgJ3N0YXInLCAndGV4dCcsICd0cmlhbmdsZScsICd0cmlhbmdsZURvd24nXSwKICAgICAgc2l6ZTogWzI1LCAwLCAyMDAsIDFdCiAgICB9LAogICAgZWRnZXM6IHsKICAgICAgYXJyb3dzOiB7CiAgICAgICAgdG86IHsgZW5hYmxlZDogZmFsc2UsIHNjYWxlRmFjdG9yOiBbMSwgMCwgMywgMC4wNV0gfSwgLy8gYm9vbGVhbiAvIHthcnJvd1NjYWxlRmFjdG9yOjF9IC8ge2VuYWJsZWQ6IGZhbHNlLCBhcnJvd1NjYWxlRmFjdG9yOjF9CiAgICAgICAgbWlkZGxlOiB7IGVuYWJsZWQ6IGZhbHNlLCBzY2FsZUZhY3RvcjogWzEsIDAsIDMsIDAuMDVdIH0sCiAgICAgICAgZnJvbTogeyBlbmFibGVkOiBmYWxzZSwgc2NhbGVGYWN0b3I6IFsxLCAwLCAzLCAwLjA1XSB9CiAgICAgIH0sCiAgICAgIGNvbG9yOiB7CiAgICAgICAgY29sb3I6IFsnY29sb3InLCAnIzg0ODQ4NCddLAogICAgICAgIGhpZ2hsaWdodDogWydjb2xvcicsICcjODQ4NDg0J10sCiAgICAgICAgaG92ZXI6IFsnY29sb3InLCAnIzg0ODQ4NCddLAogICAgICAgIGluaGVyaXQ6IFsnZnJvbScsICd0bycsICdib3RoJywgdHJ1ZSwgZmFsc2VdLAogICAgICAgIG9wYWNpdHk6IFsxLCAwLCAxLCAwLjA1XQogICAgICB9LAogICAgICBkYXNoZXM6IGZhbHNlLAogICAgICBmb250OiB7CiAgICAgICAgY29sb3I6IFsnY29sb3InLCAnIzM0MzQzNCddLAogICAgICAgIHNpemU6IFsxNCwgMCwgMTAwLCAxXSwgLy8gcHgKICAgICAgICBmYWNlOiBbJ2FyaWFsJywgJ3ZlcmRhbmEnLCAndGFob21hJ10sCiAgICAgICAgYmFja2dyb3VuZDogWydjb2xvcicsICdub25lJ10sCiAgICAgICAgc3Ryb2tlV2lkdGg6IFsyLCAwLCA1MCwgMV0sIC8vIHB4CiAgICAgICAgc3Ryb2tlQ29sb3I6IFsnY29sb3InLCAnI2ZmZmZmZiddLAogICAgICAgIGFsaWduOiBbJ2hvcml6b250YWwnLCAndG9wJywgJ21pZGRsZScsICdib3R0b20nXQogICAgICB9LAogICAgICBoaWRkZW46IGZhbHNlLAogICAgICBob3ZlcldpZHRoOiBbMS41LCAwLCA1LCAwLjFdLAogICAgICBwaHlzaWNzOiB0cnVlLAogICAgICBzY2FsaW5nOiB7CiAgICAgICAgbWluOiBbMSwgMCwgMTAwLCAxXSwKICAgICAgICBtYXg6IFsxNSwgMCwgMTAwLCAxXSwKICAgICAgICBsYWJlbDogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgIG1pbjogWzE0LCAwLCAyMDAsIDFdLAogICAgICAgICAgbWF4OiBbMzAsIDAsIDIwMCwgMV0sCiAgICAgICAgICBtYXhWaXNpYmxlOiBbMzAsIDAsIDIwMCwgMV0sCiAgICAgICAgICBkcmF3VGhyZXNob2xkOiBbNSwgMCwgMjAsIDFdCiAgICAgICAgfQogICAgICB9LAogICAgICBzZWxlY3Rpb25XaWR0aDogWzEuNSwgMCwgNSwgMC4xXSwKICAgICAgc2VsZlJlZmVyZW5jZVNpemU6IFsyMCwgMCwgMjAwLCAxXSwKICAgICAgc2hhZG93OiB7CiAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgc2l6ZTogWzEwLCAwLCAyMCwgMV0sCiAgICAgICAgeDogWzUsIC0zMCwgMzAsIDFdLAogICAgICAgIHk6IFs1LCAtMzAsIDMwLCAxXQogICAgICB9LAogICAgICBzbW9vdGg6IHsKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIHR5cGU6IFsnZHluYW1pYycsICdjb250aW51b3VzJywgJ2Rpc2NyZXRlJywgJ2RpYWdvbmFsQ3Jvc3MnLCAnc3RyYWlnaHRDcm9zcycsICdob3Jpem9udGFsJywgJ3ZlcnRpY2FsJywgJ2N1cnZlZENXJywgJ2N1cnZlZENDVyddLAogICAgICAgIHJvdW5kbmVzczogWzAuNSwgMCwgMSwgMC4wNV0KICAgICAgfSwKICAgICAgd2lkdGg6IFsxLCAwLCAzMCwgMV0KICAgIH0sCiAgICBsYXlvdXQ6IHsKICAgICAgLy9yYW5kb21TZWVkOiBbMCwgMCwgNTAwLCAxXSwKICAgICAgaGllcmFyY2hpY2FsOiB7CiAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgbGV2ZWxTZXBhcmF0aW9uOiBbMTUwLCAyMCwgNTAwLCA1XSwKICAgICAgICBkaXJlY3Rpb246IFsnVUQnLCAnRFUnLCAnTFInLCAnUkwnXSwgLy8gVUQsIERVLCBMUiwgUkwKICAgICAgICBzb3J0TWV0aG9kOiBbJ2h1YnNpemUnLCAnZGlyZWN0ZWQnXSAvLyBodWJzaXplLCBkaXJlY3RlZAogICAgICB9CiAgICB9LAogICAgaW50ZXJhY3Rpb246IHsKICAgICAgZHJhZ05vZGVzOiB0cnVlLAogICAgICBkcmFnVmlldzogdHJ1ZSwKICAgICAgaGlkZUVkZ2VzT25EcmFnOiBmYWxzZSwKICAgICAgaGlkZU5vZGVzT25EcmFnOiBmYWxzZSwKICAgICAgaG92ZXI6IGZhbHNlLAogICAgICBrZXlib2FyZDogewogICAgICAgIGVuYWJsZWQ6IGZhbHNlLAogICAgICAgIHNwZWVkOiB7IHg6IFsxMCwgMCwgNDAsIDFdLCB5OiBbMTAsIDAsIDQwLCAxXSwgem9vbTogWzAuMDIsIDAsIDAuMSwgMC4wMDVdIH0sCiAgICAgICAgYmluZFRvV2luZG93OiB0cnVlCiAgICAgIH0sCiAgICAgIG11bHRpc2VsZWN0OiBmYWxzZSwKICAgICAgbmF2aWdhdGlvbkJ1dHRvbnM6IGZhbHNlLAogICAgICBzZWxlY3RhYmxlOiB0cnVlLAogICAgICBzZWxlY3RDb25uZWN0ZWRFZGdlczogdHJ1ZSwKICAgICAgaG92ZXJDb25uZWN0ZWRFZGdlczogdHJ1ZSwKICAgICAgdG9vbHRpcERlbGF5OiBbMzAwLCAwLCAxMDAwLCAyNV0sCiAgICAgIHpvb21WaWV3OiB0cnVlCiAgICB9LAogICAgbWFuaXB1bGF0aW9uOiB7CiAgICAgIGVuYWJsZWQ6IGZhbHNlLAogICAgICBpbml0aWFsbHlBY3RpdmU6IGZhbHNlCiAgICB9LAogICAgcGh5c2ljczogewogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBiYXJuZXNIdXQ6IHsKICAgICAgICAvL3RoZXRhOiBbMC41LCAwLjEsIDEsIDAuMDVdLAogICAgICAgIGdyYXZpdGF0aW9uYWxDb25zdGFudDogWy0yMDAwLCAtMzAwMDAsIDAsIDUwXSwKICAgICAgICBjZW50cmFsR3Jhdml0eTogWzAuMywgMCwgMTAsIDAuMDVdLAogICAgICAgIHNwcmluZ0xlbmd0aDogWzk1LCAwLCA1MDAsIDVdLAogICAgICAgIHNwcmluZ0NvbnN0YW50OiBbMC4wNCwgMCwgMS4yLCAwLjAwNV0sCiAgICAgICAgZGFtcGluZzogWzAuMDksIDAsIDEsIDAuMDFdLAogICAgICAgIGF2b2lkT3ZlcmxhcDogWzAsIDAsIDEsIDAuMDFdCiAgICAgIH0sCiAgICAgIGZvcmNlQXRsYXMyQmFzZWQ6IHsKICAgICAgICAvL3RoZXRhOiBbMC41LCAwLjEsIDEsIDAuMDVdLAogICAgICAgIGdyYXZpdGF0aW9uYWxDb25zdGFudDogWy01MCwgLTUwMCwgMCwgMV0sCiAgICAgICAgY2VudHJhbEdyYXZpdHk6IFswLjAxLCAwLCAxLCAwLjAwNV0sCiAgICAgICAgc3ByaW5nTGVuZ3RoOiBbOTUsIDAsIDUwMCwgNV0sCiAgICAgICAgc3ByaW5nQ29uc3RhbnQ6IFswLjA4LCAwLCAxLjIsIDAuMDA1XSwKICAgICAgICBkYW1waW5nOiBbMC40LCAwLCAxLCAwLjAxXSwKICAgICAgICBhdm9pZE92ZXJsYXA6IFswLCAwLCAxLCAwLjAxXQogICAgICB9LAogICAgICByZXB1bHNpb246IHsKICAgICAgICBjZW50cmFsR3Jhdml0eTogWzAuMiwgMCwgMTAsIDAuMDVdLAogICAgICAgIHNwcmluZ0xlbmd0aDogWzIwMCwgMCwgNTAwLCA1XSwKICAgICAgICBzcHJpbmdDb25zdGFudDogWzAuMDUsIDAsIDEuMiwgMC4wMDVdLAogICAgICAgIG5vZGVEaXN0YW5jZTogWzEwMCwgMCwgNTAwLCA1XSwKICAgICAgICBkYW1waW5nOiBbMC4wOSwgMCwgMSwgMC4wMV0KICAgICAgfSwKICAgICAgaGllcmFyY2hpY2FsUmVwdWxzaW9uOiB7CiAgICAgICAgY2VudHJhbEdyYXZpdHk6IFswLjIsIDAsIDEwLCAwLjA1XSwKICAgICAgICBzcHJpbmdMZW5ndGg6IFsxMDAsIDAsIDUwMCwgNV0sCiAgICAgICAgc3ByaW5nQ29uc3RhbnQ6IFswLjAxLCAwLCAxLjIsIDAuMDA1XSwKICAgICAgICBub2RlRGlzdGFuY2U6IFsxMjAsIDAsIDUwMCwgNV0sCiAgICAgICAgZGFtcGluZzogWzAuMDksIDAsIDEsIDAuMDFdCiAgICAgIH0sCiAgICAgIG1heFZlbG9jaXR5OiBbNTAsIDAsIDE1MCwgMV0sCiAgICAgIG1pblZlbG9jaXR5OiBbMC4xLCAwLjAxLCAwLjUsIDAuMDFdLAogICAgICBzb2x2ZXI6IFsnYmFybmVzSHV0JywgJ2ZvcmNlQXRsYXMyQmFzZWQnLCAncmVwdWxzaW9uJywgJ2hpZXJhcmNoaWNhbFJlcHVsc2lvbiddLAogICAgICB0aW1lc3RlcDogWzAuNSwgMC4wMSwgMSwgMC4wMV0KICAgIH0sCiAgICBnbG9iYWw6IHsKICAgICAgbG9jYWxlOiBbJ2VuJywgJ25sJ10KICAgIH0KICB9OwoKICBleHBvcnRzLmFsbE9wdGlvbnMgPSBhbGxPcHRpb25zOwogIGV4cG9ydHMuY29uZmlndXJlT3B0aW9ucyA9IGNvbmZpZ3VyZU9wdGlvbnM7CgovKioqLyB9LAovKiAxMDkgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgogIC8qKgogICAqIENhbnZhcyBzaGFwZXMgdXNlZCBieSBOZXR3b3JrCiAgICovCiAgJ3VzZSBzdHJpY3QnOwoKICBpZiAodHlwZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCAhPT0gJ3VuZGVmaW5lZCcpIHsKCiAgICAvKioKICAgICAqIERyYXcgYSBjaXJjbGUgc2hhcGUKICAgICAqLwogICAgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5jaXJjbGUgPSBmdW5jdGlvbiAoeCwgeSwgcikgewogICAgICB0aGlzLmJlZ2luUGF0aCgpOwogICAgICB0aGlzLmFyYyh4LCB5LCByLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpOwogICAgICB0aGlzLmNsb3NlUGF0aCgpOwogICAgfTsKCiAgICAvKioKICAgICAqIERyYXcgYSBzcXVhcmUgc2hhcGUKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IGhvcml6b250YWwgY2VudGVyCiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB2ZXJ0aWNhbCBjZW50ZXIKICAgICAqIEBwYXJhbSB7TnVtYmVyfSByICAgc2l6ZSwgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgc3F1YXJlCiAgICAgKi8KICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuc3F1YXJlID0gZnVuY3Rpb24gKHgsIHksIHIpIHsKICAgICAgdGhpcy5iZWdpblBhdGgoKTsKICAgICAgdGhpcy5yZWN0KHggLSByLCB5IC0gciwgciAqIDIsIHIgKiAyKTsKICAgICAgdGhpcy5jbG9zZVBhdGgoKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBEcmF3IGEgdHJpYW5nbGUgc2hhcGUKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IGhvcml6b250YWwgY2VudGVyCiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB2ZXJ0aWNhbCBjZW50ZXIKICAgICAqIEBwYXJhbSB7TnVtYmVyfSByICAgcmFkaXVzLCBoYWxmIHRoZSBsZW5ndGggb2YgdGhlIHNpZGVzIG9mIHRoZSB0cmlhbmdsZQogICAgICovCiAgICBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLnRyaWFuZ2xlID0gZnVuY3Rpb24gKHgsIHksIHIpIHsKICAgICAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FcXVpbGF0ZXJhbF90cmlhbmdsZQogICAgICB0aGlzLmJlZ2luUGF0aCgpOwoKICAgICAgLy8gdGhlIGNoYW5nZSBpbiByYWRpdXMgYW5kIHRoZSBvZmZzZXQgaXMgaGVyZSB0byBjZW50ZXIgdGhlIHNoYXBlCiAgICAgIHIgKj0gMS4xNTsKICAgICAgeSArPSAwLjI3NSAqIHI7CgogICAgICB2YXIgcyA9IHIgKiAyOwogICAgICB2YXIgczIgPSBzIC8gMjsKICAgICAgdmFyIGlyID0gTWF0aC5zcXJ0KDMpIC8gNiAqIHM7IC8vIHJhZGl1cyBvZiBpbm5lciBjaXJjbGUKICAgICAgdmFyIGggPSBNYXRoLnNxcnQocyAqIHMgLSBzMiAqIHMyKTsgLy8gaGVpZ2h0CgogICAgICB0aGlzLm1vdmVUbyh4LCB5IC0gKGggLSBpcikpOwogICAgICB0aGlzLmxpbmVUbyh4ICsgczIsIHkgKyBpcik7CiAgICAgIHRoaXMubGluZVRvKHggLSBzMiwgeSArIGlyKTsKICAgICAgdGhpcy5saW5lVG8oeCwgeSAtIChoIC0gaXIpKTsKICAgICAgdGhpcy5jbG9zZVBhdGgoKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBEcmF3IGEgdHJpYW5nbGUgc2hhcGUgaW4gZG93bndhcmQgb3JpZW50YXRpb24KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IGhvcml6b250YWwgY2VudGVyCiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB2ZXJ0aWNhbCBjZW50ZXIKICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIHJhZGl1cwogICAgICovCiAgICBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLnRyaWFuZ2xlRG93biA9IGZ1bmN0aW9uICh4LCB5LCByKSB7CiAgICAgIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXF1aWxhdGVyYWxfdHJpYW5nbGUKICAgICAgdGhpcy5iZWdpblBhdGgoKTsKCiAgICAgIC8vIHRoZSBjaGFuZ2UgaW4gcmFkaXVzIGFuZCB0aGUgb2Zmc2V0IGlzIGhlcmUgdG8gY2VudGVyIHRoZSBzaGFwZQogICAgICByICo9IDEuMTU7CiAgICAgIHkgLT0gMC4yNzUgKiByOwoKICAgICAgdmFyIHMgPSByICogMjsKICAgICAgdmFyIHMyID0gcyAvIDI7CiAgICAgIHZhciBpciA9IE1hdGguc3FydCgzKSAvIDYgKiBzOyAvLyByYWRpdXMgb2YgaW5uZXIgY2lyY2xlCiAgICAgIHZhciBoID0gTWF0aC5zcXJ0KHMgKiBzIC0gczIgKiBzMik7IC8vIGhlaWdodAoKICAgICAgdGhpcy5tb3ZlVG8oeCwgeSArIChoIC0gaXIpKTsKICAgICAgdGhpcy5saW5lVG8oeCArIHMyLCB5IC0gaXIpOwogICAgICB0aGlzLmxpbmVUbyh4IC0gczIsIHkgLSBpcik7CiAgICAgIHRoaXMubGluZVRvKHgsIHkgKyAoaCAtIGlyKSk7CiAgICAgIHRoaXMuY2xvc2VQYXRoKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogRHJhdyBhIHN0YXIgc2hhcGUsIGEgc3RhciB3aXRoIDUgcG9pbnRzCiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBob3Jpem9udGFsIGNlbnRlcgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgdmVydGljYWwgY2VudGVyCiAgICAgKiBAcGFyYW0ge051bWJlcn0gciAgIHJhZGl1cywgaGFsZiB0aGUgbGVuZ3RoIG9mIHRoZSBzaWRlcyBvZiB0aGUgdHJpYW5nbGUKICAgICAqLwogICAgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5zdGFyID0gZnVuY3Rpb24gKHgsIHksIHIpIHsKICAgICAgLy8gaHR0cDovL3d3dy5odG1sNWNhbnZhc3R1dG9yaWFscy5jb20vbGFicy9odG1sNS1jYW52YXMtc3Rhci1zcGlubmVyLwogICAgICB0aGlzLmJlZ2luUGF0aCgpOwoKICAgICAgLy8gdGhlIGNoYW5nZSBpbiByYWRpdXMgYW5kIHRoZSBvZmZzZXQgaXMgaGVyZSB0byBjZW50ZXIgdGhlIHNoYXBlCiAgICAgIHIgKj0gMC44MjsKICAgICAgeSArPSAwLjEgKiByOwoKICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCAxMDsgbisrKSB7CiAgICAgICAgdmFyIHJhZGl1cyA9IG4gJSAyID09PSAwID8gciAqIDEuMyA6IHIgKiAwLjU7CiAgICAgICAgdGhpcy5saW5lVG8oeCArIHJhZGl1cyAqIE1hdGguc2luKG4gKiAyICogTWF0aC5QSSAvIDEwKSwgeSAtIHJhZGl1cyAqIE1hdGguY29zKG4gKiAyICogTWF0aC5QSSAvIDEwKSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xvc2VQYXRoKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogRHJhdyBhIERpYW1vbmQgc2hhcGUKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IGhvcml6b250YWwgY2VudGVyCiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB2ZXJ0aWNhbCBjZW50ZXIKICAgICAqIEBwYXJhbSB7TnVtYmVyfSByICAgcmFkaXVzLCBoYWxmIHRoZSBsZW5ndGggb2YgdGhlIHNpZGVzIG9mIHRoZSB0cmlhbmdsZQogICAgICovCiAgICBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLmRpYW1vbmQgPSBmdW5jdGlvbiAoeCwgeSwgcikgewogICAgICAvLyBodHRwOi8vd3d3Lmh0bWw1Y2FudmFzdHV0b3JpYWxzLmNvbS9sYWJzL2h0bWw1LWNhbnZhcy1zdGFyLXNwaW5uZXIvCiAgICAgIHRoaXMuYmVnaW5QYXRoKCk7CgogICAgICB0aGlzLmxpbmVUbyh4LCB5ICsgcik7CiAgICAgIHRoaXMubGluZVRvKHggKyByLCB5KTsKICAgICAgdGhpcy5saW5lVG8oeCwgeSAtIHIpOwogICAgICB0aGlzLmxpbmVUbyh4IC0gciwgeSk7CgogICAgICB0aGlzLmNsb3NlUGF0aCgpOwogICAgfTsKCiAgICAvKioKICAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTI1NTUxMi9ob3ctdG8tZHJhdy1hLXJvdW5kZWQtcmVjdGFuZ2xlLW9uLWh0bWwtY2FudmFzCiAgICAgKi8KICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUucm91bmRSZWN0ID0gZnVuY3Rpb24gKHgsIHksIHcsIGgsIHIpIHsKICAgICAgdmFyIHIyZCA9IE1hdGguUEkgLyAxODA7CiAgICAgIGlmICh3IC0gMiAqIHIgPCAwKSB7CiAgICAgICAgciA9IHcgLyAyOwogICAgICB9IC8vZW5zdXJlIHRoYXQgdGhlIHJhZGl1cyBpc24ndCB0b28gbGFyZ2UgZm9yIHgKICAgICAgaWYgKGggLSAyICogciA8IDApIHsKICAgICAgICByID0gaCAvIDI7CiAgICAgIH0gLy9lbnN1cmUgdGhhdCB0aGUgcmFkaXVzIGlzbid0IHRvbyBsYXJnZSBmb3IgeQogICAgICB0aGlzLmJlZ2luUGF0aCgpOwogICAgICB0aGlzLm1vdmVUbyh4ICsgciwgeSk7CiAgICAgIHRoaXMubGluZVRvKHggKyB3IC0gciwgeSk7CiAgICAgIHRoaXMuYXJjKHggKyB3IC0gciwgeSArIHIsIHIsIHIyZCAqIDI3MCwgcjJkICogMzYwLCBmYWxzZSk7CiAgICAgIHRoaXMubGluZVRvKHggKyB3LCB5ICsgaCAtIHIpOwogICAgICB0aGlzLmFyYyh4ICsgdyAtIHIsIHkgKyBoIC0gciwgciwgMCwgcjJkICogOTAsIGZhbHNlKTsKICAgICAgdGhpcy5saW5lVG8oeCArIHIsIHkgKyBoKTsKICAgICAgdGhpcy5hcmMoeCArIHIsIHkgKyBoIC0gciwgciwgcjJkICogOTAsIHIyZCAqIDE4MCwgZmFsc2UpOwogICAgICB0aGlzLmxpbmVUbyh4LCB5ICsgcik7CiAgICAgIHRoaXMuYXJjKHggKyByLCB5ICsgciwgciwgcjJkICogMTgwLCByMmQgKiAyNzAsIGZhbHNlKTsKICAgICAgdGhpcy5jbG9zZVBhdGgoKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIxNzI3OTgvaG93LXRvLWRyYXctYW4tb3ZhbC1pbi1odG1sNS1jYW52YXMKICAgICAqLwogICAgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5lbGxpcHNlID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHsKICAgICAgdmFyIGthcHBhID0gMC41NTIyODQ4LAogICAgICAgICAgb3ggPSB3IC8gMiAqIGthcHBhLAogICAgICAgICAgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbAogICAgICBveSA9IGggLyAyICoga2FwcGEsCiAgICAgICAgICAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbAogICAgICB4ZSA9IHggKyB3LAogICAgICAgICAgLy8geC1lbmQKICAgICAgeWUgPSB5ICsgaCwKICAgICAgICAgIC8vIHktZW5kCiAgICAgIHhtID0geCArIHcgLyAyLAogICAgICAgICAgLy8geC1taWRkbGUKICAgICAgeW0gPSB5ICsgaCAvIDI7IC8vIHktbWlkZGxlCgogICAgICB0aGlzLmJlZ2luUGF0aCgpOwogICAgICB0aGlzLm1vdmVUbyh4LCB5bSk7CiAgICAgIHRoaXMuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7CiAgICAgIHRoaXMuYmV6aWVyQ3VydmVUbyh4bSArIG94LCB5LCB4ZSwgeW0gLSBveSwgeGUsIHltKTsKICAgICAgdGhpcy5iZXppZXJDdXJ2ZVRvKHhlLCB5bSArIG95LCB4bSArIG94LCB5ZSwgeG0sIHllKTsKICAgICAgdGhpcy5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7CiAgICAgIHRoaXMuY2xvc2VQYXRoKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzCiAgICAgKi8KICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZGF0YWJhc2UgPSBmdW5jdGlvbiAoeCwgeSwgdywgaCkgewogICAgICB2YXIgZiA9IDEgLyAzOwogICAgICB2YXIgd0VsbGlwc2UgPSB3OwogICAgICB2YXIgaEVsbGlwc2UgPSBoICogZjsKCiAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0OCwKICAgICAgICAgIG94ID0gd0VsbGlwc2UgLyAyICoga2FwcGEsCiAgICAgICAgICAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsCiAgICAgIG95ID0gaEVsbGlwc2UgLyAyICoga2FwcGEsCiAgICAgICAgICAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbAogICAgICB4ZSA9IHggKyB3RWxsaXBzZSwKICAgICAgICAgIC8vIHgtZW5kCiAgICAgIHllID0geSArIGhFbGxpcHNlLAogICAgICAgICAgLy8geS1lbmQKICAgICAgeG0gPSB4ICsgd0VsbGlwc2UgLyAyLAogICAgICAgICAgLy8geC1taWRkbGUKICAgICAgeW0gPSB5ICsgaEVsbGlwc2UgLyAyLAogICAgICAgICAgLy8geS1taWRkbGUKICAgICAgeW1iID0geSArIChoIC0gaEVsbGlwc2UgLyAyKSwKICAgICAgICAgIC8vIHktbWlkbGxlLCBib3R0b20gZWxsaXBzZQogICAgICB5ZWIgPSB5ICsgaDsgLy8geS1lbmQsIGJvdHRvbSBlbGxpcHNlCgogICAgICB0aGlzLmJlZ2luUGF0aCgpOwogICAgICB0aGlzLm1vdmVUbyh4ZSwgeW0pOwoKICAgICAgdGhpcy5iZXppZXJDdXJ2ZVRvKHhlLCB5bSArIG95LCB4bSArIG94LCB5ZSwgeG0sIHllKTsKICAgICAgdGhpcy5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7CgogICAgICB0aGlzLmJlemllckN1cnZlVG8oeCwgeW0gLSBveSwgeG0gLSBveCwgeSwgeG0sIHkpOwogICAgICB0aGlzLmJlemllckN1cnZlVG8oeG0gKyBveCwgeSwgeGUsIHltIC0gb3ksIHhlLCB5bSk7CgogICAgICB0aGlzLmxpbmVUbyh4ZSwgeW1iKTsKCiAgICAgIHRoaXMuYmV6aWVyQ3VydmVUbyh4ZSwgeW1iICsgb3ksIHhtICsgb3gsIHllYiwgeG0sIHllYik7CiAgICAgIHRoaXMuYmV6aWVyQ3VydmVUbyh4bSAtIG94LCB5ZWIsIHgsIHltYiArIG95LCB4LCB5bWIpOwoKICAgICAgdGhpcy5saW5lVG8oeCwgeW0pOwogICAgfTsKCiAgICAvKioKICAgICAqIERyYXcgYW4gYXJyb3cgcG9pbnQgKG5vIGxpbmUpCiAgICAgKi8KICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoeCwgeSwgYW5nbGUsIGxlbmd0aCkgewogICAgICAvLyB0YWlsCiAgICAgIHZhciB4dCA9IHggLSBsZW5ndGggKiBNYXRoLmNvcyhhbmdsZSk7CiAgICAgIHZhciB5dCA9IHkgLSBsZW5ndGggKiBNYXRoLnNpbihhbmdsZSk7CgogICAgICAvLyBpbm5lciB0YWlsCiAgICAgIHZhciB4aSA9IHggLSBsZW5ndGggKiAwLjkgKiBNYXRoLmNvcyhhbmdsZSk7CiAgICAgIHZhciB5aSA9IHkgLSBsZW5ndGggKiAwLjkgKiBNYXRoLnNpbihhbmdsZSk7CgogICAgICAvLyBsZWZ0CiAgICAgIHZhciB4bCA9IHh0ICsgbGVuZ3RoIC8gMyAqIE1hdGguY29zKGFuZ2xlICsgMC41ICogTWF0aC5QSSk7CiAgICAgIHZhciB5bCA9IHl0ICsgbGVuZ3RoIC8gMyAqIE1hdGguc2luKGFuZ2xlICsgMC41ICogTWF0aC5QSSk7CgogICAgICAvLyByaWdodAogICAgICB2YXIgeHIgPSB4dCArIGxlbmd0aCAvIDMgKiBNYXRoLmNvcyhhbmdsZSAtIDAuNSAqIE1hdGguUEkpOwogICAgICB2YXIgeXIgPSB5dCArIGxlbmd0aCAvIDMgKiBNYXRoLnNpbihhbmdsZSAtIDAuNSAqIE1hdGguUEkpOwoKICAgICAgdGhpcy5iZWdpblBhdGgoKTsKICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7CiAgICAgIHRoaXMubGluZVRvKHhsLCB5bCk7CiAgICAgIHRoaXMubGluZVRvKHhpLCB5aSk7CiAgICAgIHRoaXMubGluZVRvKHhyLCB5cik7CiAgICAgIHRoaXMuY2xvc2VQYXRoKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB1cCB0aGUgZGFzaGVkTGluZSBmdW5jdGlvbmFsaXR5IGZvciBkcmF3aW5nCiAgICAgKiBPcmlnaW5hbCBjb2RlIGNhbWUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ1NzY3MjQvZG90dGVkLXN0cm9rZS1pbi1jYW52YXMKICAgICAqIEBhdXRob3IgRGF2aWQgSm9yZGFuCiAgICAgKiBAZGF0ZSAyMDEyLTA4LTA4CiAgICAgKi8KICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZGFzaGVkTGluZSA9IGZ1bmN0aW9uICh4LCB5LCB4MiwgeTIsIHBhdHRlcm4pIHsKICAgICAgdGhpcy5iZWdpblBhdGgoKTsKICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7CgogICAgICB2YXIgcGF0dGVybkxlbmd0aCA9IHBhdHRlcm4ubGVuZ3RoOwogICAgICB2YXIgZHggPSB4MiAtIHg7CiAgICAgIHZhciBkeSA9IHkyIC0geTsKICAgICAgdmFyIHNsb3BlID0gZHkgLyBkeDsKICAgICAgdmFyIGRpc3RSZW1haW5pbmcgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpOwogICAgICB2YXIgcGF0dGVybkluZGV4ID0gMDsKICAgICAgdmFyIGRyYXcgPSB0cnVlOwogICAgICB2YXIgeFN0ZXAgPSAwOwogICAgICB2YXIgZGFzaExlbmd0aCA9IHBhdHRlcm5bMF07CgogICAgICB3aGlsZSAoZGlzdFJlbWFpbmluZyA+PSAwLjEpIHsKICAgICAgICBkYXNoTGVuZ3RoID0gcGF0dGVybltwYXR0ZXJuSW5kZXgrKyAlIHBhdHRlcm5MZW5ndGhdOwogICAgICAgIGlmIChkYXNoTGVuZ3RoID4gZGlzdFJlbWFpbmluZykgewogICAgICAgICAgZGFzaExlbmd0aCA9IGRpc3RSZW1haW5pbmc7CiAgICAgICAgfQoKICAgICAgICB4U3RlcCA9IE1hdGguc3FydChkYXNoTGVuZ3RoICogZGFzaExlbmd0aCAvICgxICsgc2xvcGUgKiBzbG9wZSkpOwogICAgICAgIHhTdGVwID0gZHggPCAwID8gLXhTdGVwIDogeFN0ZXA7CiAgICAgICAgeCArPSB4U3RlcDsKICAgICAgICB5ICs9IHNsb3BlICogeFN0ZXA7CgogICAgICAgIGlmIChkcmF3ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7CiAgICAgICAgfQoKICAgICAgICBkaXN0UmVtYWluaW5nIC09IGRhc2hMZW5ndGg7CiAgICAgICAgZHJhdyA9ICFkcmF3OwogICAgICB9CiAgICB9OwogIH0KCi8qKiovIH0sCi8qIDExMCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLyoqCiAgICogUGFyc2UgYSB0ZXh0IHNvdXJjZSBjb250YWluaW5nIGRhdGEgaW4gRE9UIGxhbmd1YWdlIGludG8gYSBKU09OIG9iamVjdC4KICAgKiBUaGUgb2JqZWN0IGNvbnRhaW5zIHR3byBsaXN0czogb25lIHdpdGggbm9kZXMgYW5kIG9uZSB3aXRoIGVkZ2VzLgogICAqCiAgICogRE9UIGxhbmd1YWdlIHJlZmVyZW5jZTogaHR0cDovL3d3dy5ncmFwaHZpei5vcmcvZG9jL2luZm8vbGFuZy5odG1sCiAgICoKICAgKiBET1QgbGFuZ3VhZ2UgYXR0cmlidXRlczogaHR0cDovL2dyYXBodml6Lm9yZy9jb250ZW50L2F0dHJzCiAgICoKICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSAgICAgVGV4dCBjb250YWluaW5nIGEgZ3JhcGggaW4gRE9ULW5vdGF0aW9uCiAgICogQHJldHVybiB7T2JqZWN0fSBncmFwaCAgIEFuIG9iamVjdCBjb250YWluaW5nIHR3byBwYXJhbWV0ZXJzOgogICAqICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0W119IG5vZGVzCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3RbXX0gZWRnZXMKICAgKi8KICAndXNlIHN0cmljdCc7CgogIGZ1bmN0aW9uIHBhcnNlRE9UKGRhdGEpIHsKICAgIGRvdCA9IGRhdGE7CiAgICByZXR1cm4gcGFyc2VHcmFwaCgpOwogIH0KCiAgLy8gbWFwcGluZyBvZiBhdHRyaWJ1dGVzIGZyb20gRE9UICh0aGUga2V5cykgdG8gdmlzLmpzICh0aGUgdmFsdWVzKQogIHZhciBOT0RFX0FUVFJfTUFQUElORyA9IHsKICAgICdmb250c2l6ZSc6ICdmb250LnNpemUnLAogICAgJ2ZvbnRjb2xvcic6ICdmb250LmNvbG9yJywKICAgICdsYWJlbGZvbnRjb2xvcic6ICdmb250LmNvbG9yJywKICAgICdmb250bmFtZSc6ICdmb250LmZhY2UnLAogICAgJ2NvbG9yJzogWydjb2xvci5ib3JkZXInLCAnY29sb3IuYmFja2dyb3VuZCddLAogICAgJ2ZpbGxjb2xvcic6ICdjb2xvci5iYWNrZ3JvdW5kJywKICAgICd0b29sdGlwJzogJ3RpdGxlJywKICAgICdsYWJlbHRvb2x0aXAnOiAndGl0bGUnCiAgfTsKICB2YXIgRURHRV9BVFRSX01BUFBJTkcgPSBPYmplY3QuY3JlYXRlKE5PREVfQVRUUl9NQVBQSU5HKTsKICBFREdFX0FUVFJfTUFQUElORy5jb2xvciA9ICdjb2xvci5jb2xvcic7CgogIC8vIHRva2VuIHR5cGVzIGVudW1lcmF0aW9uCiAgdmFyIFRPS0VOVFlQRSA9IHsKICAgIE5VTEw6IDAsCiAgICBERUxJTUlURVI6IDEsCiAgICBJREVOVElGSUVSOiAyLAogICAgVU5LTk9XTjogMwogIH07CgogIC8vIG1hcCB3aXRoIGFsbCBkZWxpbWl0ZXJzCiAgdmFyIERFTElNSVRFUlMgPSB7CiAgICAneyc6IHRydWUsCiAgICAnfSc6IHRydWUsCiAgICAnWyc6IHRydWUsCiAgICAnXSc6IHRydWUsCiAgICAnOyc6IHRydWUsCiAgICAnPSc6IHRydWUsCiAgICAnLCc6IHRydWUsCgogICAgJy0+JzogdHJ1ZSwKICAgICctLSc6IHRydWUKICB9OwoKICB2YXIgZG90ID0gJyc7IC8vIGN1cnJlbnQgZG90IGZpbGUKICB2YXIgaW5kZXggPSAwOyAvLyBjdXJyZW50IGluZGV4IGluIGRvdCBmaWxlCiAgdmFyIGMgPSAnJzsgLy8gY3VycmVudCB0b2tlbiBjaGFyYWN0ZXIgaW4gZXhwcgogIHZhciB0b2tlbiA9ICcnOyAvLyBjdXJyZW50IHRva2VuCiAgdmFyIHRva2VuVHlwZSA9IFRPS0VOVFlQRS5OVUxMOyAvLyB0eXBlIG9mIHRoZSB0b2tlbgoKICAvKioKICAgKiBHZXQgdGhlIGZpcnN0IGNoYXJhY3RlciBmcm9tIHRoZSBkb3QgZmlsZS4KICAgKiBUaGUgY2hhcmFjdGVyIGlzIHN0b3JlZCBpbnRvIHRoZSBjaGFyIGMuIElmIHRoZSBlbmQgb2YgdGhlIGRvdCBmaWxlIGlzCiAgICogcmVhY2hlZCwgdGhlIGZ1bmN0aW9uIHB1dHMgYW4gZW1wdHkgc3RyaW5nIGluIGMuCiAgICovCiAgZnVuY3Rpb24gZmlyc3QoKSB7CiAgICBpbmRleCA9IDA7CiAgICBjID0gZG90LmNoYXJBdCgwKTsKICB9CgogIC8qKgogICAqIEdldCB0aGUgbmV4dCBjaGFyYWN0ZXIgZnJvbSB0aGUgZG90IGZpbGUuCiAgICogVGhlIGNoYXJhY3RlciBpcyBzdG9yZWQgaW50byB0aGUgY2hhciBjLiBJZiB0aGUgZW5kIG9mIHRoZSBkb3QgZmlsZSBpcwogICAqIHJlYWNoZWQsIHRoZSBmdW5jdGlvbiBwdXRzIGFuIGVtcHR5IHN0cmluZyBpbiBjLgogICAqLwogIGZ1bmN0aW9uIG5leHQoKSB7CiAgICBpbmRleCsrOwogICAgYyA9IGRvdC5jaGFyQXQoaW5kZXgpOwogIH0KCiAgLyoqCiAgICogUHJldmlldyB0aGUgbmV4dCBjaGFyYWN0ZXIgZnJvbSB0aGUgZG90IGZpbGUuCiAgICogQHJldHVybiB7U3RyaW5nfSBjTmV4dAogICAqLwogIGZ1bmN0aW9uIG5leHRQcmV2aWV3KCkgewogICAgcmV0dXJuIGRvdC5jaGFyQXQoaW5kZXggKyAxKTsKICB9CgogIC8qKgogICAqIFRlc3Qgd2hldGhlciBnaXZlbiBjaGFyYWN0ZXIgaXMgYWxwaGFiZXRpYyBvciBudW1lcmljCiAgICogQHBhcmFtIHtTdHJpbmd9IGMKICAgKiBAcmV0dXJuIHtCb29sZWFufSBpc0FscGhhTnVtZXJpYwogICAqLwogIHZhciByZWdleEFscGhhTnVtZXJpYyA9IC9bYS16QS1aXzAtOS46I10vOwogIGZ1bmN0aW9uIGlzQWxwaGFOdW1lcmljKGMpIHsKICAgIHJldHVybiByZWdleEFscGhhTnVtZXJpYy50ZXN0KGMpOwogIH0KCiAgLyoqCiAgICogTWVyZ2UgYWxsIG9wdGlvbnMgb2Ygb2JqZWN0IGIgaW50byBvYmplY3QgYgogICAqIEBwYXJhbSB7T2JqZWN0fSBhCiAgICogQHBhcmFtIHtPYmplY3R9IGIKICAgKiBAcmV0dXJuIHtPYmplY3R9IGEKICAgKi8KICBmdW5jdGlvbiBtZXJnZShhLCBiKSB7CiAgICBpZiAoIWEpIHsKICAgICAgYSA9IHt9OwogICAgfQoKICAgIGlmIChiKSB7CiAgICAgIGZvciAodmFyIG5hbWUgaW4gYikgewogICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICBhW25hbWVdID0gYltuYW1lXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBhOwogIH0KCiAgLyoqCiAgICogU2V0IGEgdmFsdWUgaW4gYW4gb2JqZWN0LCB3aGVyZSB0aGUgcHJvdmlkZWQgcGFyYW1ldGVyIG5hbWUgY2FuIGJlIGEKICAgKiBwYXRoIHdpdGggbmVzdGVkIHBhcmFtZXRlcnMuIEZvciBleGFtcGxlOgogICAqCiAgICogICAgIHZhciBvYmogPSB7YTogMn07CiAgICogICAgIHNldFZhbHVlKG9iaiwgJ2IuYycsIDMpOyAgICAgLy8gb2JqID0ge2E6IDIsIGI6IHtjOiAzfX0KICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoKICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCAgQSBwYXJhbWV0ZXIgbmFtZSBvciBkb3Qtc2VwYXJhdGVkIHBhcmFtZXRlciBwYXRoLAogICAqICAgICAgICAgICAgICAgICAgICAgIGxpa2UgImNvbG9yLmhpZ2hsaWdodC5ib3JkZXIiLgogICAqIEBwYXJhbSB7Kn0gdmFsdWUKICAgKi8KICBmdW5jdGlvbiBzZXRWYWx1ZShvYmosIHBhdGgsIHZhbHVlKSB7CiAgICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTsKICAgIHZhciBvID0gb2JqOwogICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7CiAgICAgIHZhciBrZXkgPSBrZXlzLnNoaWZ0KCk7CiAgICAgIGlmIChrZXlzLmxlbmd0aCkgewogICAgICAgIC8vIHRoaXMgaXNuJ3QgdGhlIGVuZCBwb2ludAogICAgICAgIGlmICghb1trZXldKSB7CiAgICAgICAgICBvW2tleV0gPSB7fTsKICAgICAgICB9CiAgICAgICAgbyA9IG9ba2V5XTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0aGlzIGlzIHRoZSBlbmQgcG9pbnQKICAgICAgICBvW2tleV0gPSB2YWx1ZTsKICAgICAgfQogICAgfQogIH0KCiAgLyoqCiAgICogQWRkIGEgbm9kZSB0byBhIGdyYXBoIG9iamVjdC4gSWYgdGhlcmUgaXMgYWxyZWFkeSBhIG5vZGUgd2l0aAogICAqIHRoZSBzYW1lIGlkLCB0aGVpciBhdHRyaWJ1dGVzIHdpbGwgYmUgbWVyZ2VkLgogICAqIEBwYXJhbSB7T2JqZWN0fSBncmFwaAogICAqIEBwYXJhbSB7T2JqZWN0fSBub2RlCiAgICovCiAgZnVuY3Rpb24gYWRkTm9kZShncmFwaCwgbm9kZSkgewogICAgdmFyIGksIGxlbjsKICAgIHZhciBjdXJyZW50ID0gbnVsbDsKCiAgICAvLyBmaW5kIHJvb3QgZ3JhcGggKGluIGNhc2Ugb2Ygc3ViZ3JhcGgpCiAgICB2YXIgZ3JhcGhzID0gW2dyYXBoXTsgLy8gbGlzdCB3aXRoIGFsbCBncmFwaHMgZnJvbSBjdXJyZW50IGdyYXBoIHRvIHJvb3QgZ3JhcGgKICAgIHZhciByb290ID0gZ3JhcGg7CiAgICB3aGlsZSAocm9vdC5wYXJlbnQpIHsKICAgICAgZ3JhcGhzLnB1c2gocm9vdC5wYXJlbnQpOwogICAgICByb290ID0gcm9vdC5wYXJlbnQ7CiAgICB9CgogICAgLy8gZmluZCBleGlzdGluZyBub2RlIChhdCByb290IGxldmVsKSBieSBpdHMgaWQKICAgIGlmIChyb290Lm5vZGVzKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJvb3Qubm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBpZiAobm9kZS5pZCA9PT0gcm9vdC5ub2Rlc1tpXS5pZCkgewogICAgICAgICAgY3VycmVudCA9IHJvb3Qubm9kZXNbaV07CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIWN1cnJlbnQpIHsKICAgICAgLy8gdGhpcyBpcyBhIG5ldyBub2RlCiAgICAgIGN1cnJlbnQgPSB7CiAgICAgICAgaWQ6IG5vZGUuaWQKICAgICAgfTsKICAgICAgaWYgKGdyYXBoLm5vZGUpIHsKICAgICAgICAvLyBjbG9uZSBkZWZhdWx0IGF0dHJpYnV0ZXMKICAgICAgICBjdXJyZW50LmF0dHIgPSBtZXJnZShjdXJyZW50LmF0dHIsIGdyYXBoLm5vZGUpOwogICAgICB9CiAgICB9CgogICAgLy8gYWRkIG5vZGUgdG8gdGhpcyAoc3ViKWdyYXBoIGFuZCBhbGwgaXRzIHBhcmVudCBncmFwaHMKICAgIGZvciAoaSA9IGdyYXBocy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICB2YXIgZyA9IGdyYXBoc1tpXTsKCiAgICAgIGlmICghZy5ub2RlcykgewogICAgICAgIGcubm9kZXMgPSBbXTsKICAgICAgfQogICAgICBpZiAoZy5ub2Rlcy5pbmRleE9mKGN1cnJlbnQpID09PSAtMSkgewogICAgICAgIGcubm9kZXMucHVzaChjdXJyZW50KTsKICAgICAgfQogICAgfQoKICAgIC8vIG1lcmdlIGF0dHJpYnV0ZXMKICAgIGlmIChub2RlLmF0dHIpIHsKICAgICAgY3VycmVudC5hdHRyID0gbWVyZ2UoY3VycmVudC5hdHRyLCBub2RlLmF0dHIpOwogICAgfQogIH0KCiAgLyoqCiAgICogQWRkIGFuIGVkZ2UgdG8gYSBncmFwaCBvYmplY3QKICAgKiBAcGFyYW0ge09iamVjdH0gZ3JhcGgKICAgKiBAcGFyYW0ge09iamVjdH0gZWRnZQogICAqLwogIGZ1bmN0aW9uIGFkZEVkZ2UoZ3JhcGgsIGVkZ2UpIHsKICAgIGlmICghZ3JhcGguZWRnZXMpIHsKICAgICAgZ3JhcGguZWRnZXMgPSBbXTsKICAgIH0KICAgIGdyYXBoLmVkZ2VzLnB1c2goZWRnZSk7CiAgICBpZiAoZ3JhcGguZWRnZSkgewogICAgICB2YXIgYXR0ciA9IG1lcmdlKHt9LCBncmFwaC5lZGdlKTsgLy8gY2xvbmUgZGVmYXVsdCBhdHRyaWJ1dGVzCiAgICAgIGVkZ2UuYXR0ciA9IG1lcmdlKGF0dHIsIGVkZ2UuYXR0cik7IC8vIG1lcmdlIGF0dHJpYnV0ZXMKICAgIH0KICB9CgogIC8qKgogICAqIENyZWF0ZSBhbiBlZGdlIHRvIGEgZ3JhcGggb2JqZWN0CiAgICogQHBhcmFtIHtPYmplY3R9IGdyYXBoCiAgICogQHBhcmFtIHtTdHJpbmcgfCBOdW1iZXIgfCBPYmplY3R9IGZyb20KICAgKiBAcGFyYW0ge1N0cmluZyB8IE51bWJlciB8IE9iamVjdH0gdG8KICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZQogICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gYXR0cgogICAqIEByZXR1cm4ge09iamVjdH0gZWRnZQogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZUVkZ2UoZ3JhcGgsIGZyb20sIHRvLCB0eXBlLCBhdHRyKSB7CiAgICB2YXIgZWRnZSA9IHsKICAgICAgZnJvbTogZnJvbSwKICAgICAgdG86IHRvLAogICAgICB0eXBlOiB0eXBlCiAgICB9OwoKICAgIGlmIChncmFwaC5lZGdlKSB7CiAgICAgIGVkZ2UuYXR0ciA9IG1lcmdlKHt9LCBncmFwaC5lZGdlKTsgLy8gY2xvbmUgZGVmYXVsdCBhdHRyaWJ1dGVzCiAgICB9CiAgICBlZGdlLmF0dHIgPSBtZXJnZShlZGdlLmF0dHIgfHwge30sIGF0dHIpOyAvLyBtZXJnZSBhdHRyaWJ1dGVzCgogICAgcmV0dXJuIGVkZ2U7CiAgfQoKICAvKioKICAgKiBHZXQgbmV4dCB0b2tlbiBpbiB0aGUgY3VycmVudCBkb3QgZmlsZS4KICAgKiBUaGUgdG9rZW4gYW5kIHRva2VuIHR5cGUgYXJlIGF2YWlsYWJsZSBhcyB0b2tlbiBhbmQgdG9rZW5UeXBlCiAgICovCiAgZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICB0b2tlblR5cGUgPSBUT0tFTlRZUEUuTlVMTDsKICAgIHRva2VuID0gJyc7CgogICAgLy8gc2tpcCBvdmVyIHdoaXRlc3BhY2VzCiAgICB3aGlsZSAoYyA9PT0gJyAnIHx8IGMgPT09ICdcdCcgfHwgYyA9PT0gJ1xuJyB8fCBjID09PSAnXHInKSB7CiAgICAgIC8vIHNwYWNlLCB0YWIsIGVudGVyCiAgICAgIG5leHQoKTsKICAgIH0KCiAgICBkbyB7CiAgICAgIHZhciBpc0NvbW1lbnQgPSBmYWxzZTsKCiAgICAgIC8vIHNraXAgY29tbWVudAogICAgICBpZiAoYyA9PT0gJyMnKSB7CiAgICAgICAgLy8gZmluZCB0aGUgcHJldmlvdXMgbm9uLXNwYWNlIGNoYXJhY3RlcgogICAgICAgIHZhciBpID0gaW5kZXggLSAxOwogICAgICAgIHdoaWxlIChkb3QuY2hhckF0KGkpID09PSAnICcgfHwgZG90LmNoYXJBdChpKSA9PT0gJ1x0JykgewogICAgICAgICAgaS0tOwogICAgICAgIH0KICAgICAgICBpZiAoZG90LmNoYXJBdChpKSA9PT0gJ1xuJyB8fCBkb3QuY2hhckF0KGkpID09PSAnJykgewogICAgICAgICAgLy8gdGhlICMgaXMgYXQgdGhlIHN0YXJ0IG9mIGEgbGluZSwgdGhpcyBpcyBpbmRlZWQgYSBsaW5lIGNvbW1lbnQKICAgICAgICAgIHdoaWxlIChjICE9ICcnICYmIGMgIT0gJ1xuJykgewogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICB9CiAgICAgICAgICBpc0NvbW1lbnQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoYyA9PT0gJy8nICYmIG5leHRQcmV2aWV3KCkgPT09ICcvJykgewogICAgICAgIC8vIHNraXAgbGluZSBjb21tZW50CiAgICAgICAgd2hpbGUgKGMgIT0gJycgJiYgYyAhPSAnXG4nKSB7CiAgICAgICAgICBuZXh0KCk7CiAgICAgICAgfQogICAgICAgIGlzQ29tbWVudCA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKGMgPT09ICcvJyAmJiBuZXh0UHJldmlldygpID09PSAnKicpIHsKICAgICAgICAvLyBza2lwIGJsb2NrIGNvbW1lbnQKICAgICAgICB3aGlsZSAoYyAhPSAnJykgewogICAgICAgICAgaWYgKGMgPT09ICcqJyAmJiBuZXh0UHJldmlldygpID09PSAnLycpIHsKICAgICAgICAgICAgLy8gZW5kIG9mIGJsb2NrIGNvbW1lbnQgZm91bmQuIHNraXAgdGhlc2UgbGFzdCB0d28gY2hhcmFjdGVycwogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlzQ29tbWVudCA9IHRydWU7CiAgICAgIH0KCiAgICAgIC8vIHNraXAgb3ZlciB3aGl0ZXNwYWNlcwogICAgICB3aGlsZSAoYyA9PT0gJyAnIHx8IGMgPT09ICdcdCcgfHwgYyA9PT0gJ1xuJyB8fCBjID09PSAnXHInKSB7CiAgICAgICAgLy8gc3BhY2UsIHRhYiwgZW50ZXIKICAgICAgICBuZXh0KCk7CiAgICAgIH0KICAgIH0gd2hpbGUgKGlzQ29tbWVudCk7CgogICAgLy8gY2hlY2sgZm9yIGVuZCBvZiBkb3QgZmlsZQogICAgaWYgKGMgPT09ICcnKSB7CiAgICAgIC8vIHRva2VuIGlzIHN0aWxsIGVtcHR5CiAgICAgIHRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBjaGVjayBmb3IgZGVsaW1pdGVycyBjb25zaXN0aW5nIG9mIDIgY2hhcmFjdGVycwogICAgdmFyIGMyID0gYyArIG5leHRQcmV2aWV3KCk7CiAgICBpZiAoREVMSU1JVEVSU1tjMl0pIHsKICAgICAgdG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjsKICAgICAgdG9rZW4gPSBjMjsKICAgICAgbmV4dCgpOwogICAgICBuZXh0KCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBjaGVjayBmb3IgZGVsaW1pdGVycyBjb25zaXN0aW5nIG9mIDEgY2hhcmFjdGVyCiAgICBpZiAoREVMSU1JVEVSU1tjXSkgewogICAgICB0b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSOwogICAgICB0b2tlbiA9IGM7CiAgICAgIG5leHQoKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIGNoZWNrIGZvciBhbiBpZGVudGlmaWVyIChudW1iZXIgb3Igc3RyaW5nKQogICAgLy8gVE9ETzogbW9yZSBwcmVjaXNlIHBhcnNpbmcgb2YgbnVtYmVycy9zdHJpbmdzIChhbmQgdGhlIHBvcnQgc2VwYXJhdG9yICc6JykKICAgIGlmIChpc0FscGhhTnVtZXJpYyhjKSB8fCBjID09PSAnLScpIHsKICAgICAgdG9rZW4gKz0gYzsKICAgICAgbmV4dCgpOwoKICAgICAgd2hpbGUgKGlzQWxwaGFOdW1lcmljKGMpKSB7CiAgICAgICAgdG9rZW4gKz0gYzsKICAgICAgICBuZXh0KCk7CiAgICAgIH0KICAgICAgaWYgKHRva2VuID09PSAnZmFsc2UnKSB7CiAgICAgICAgdG9rZW4gPSBmYWxzZTsgLy8gY29udmVydCB0byBib29sZWFuCiAgICAgIH0gZWxzZSBpZiAodG9rZW4gPT09ICd0cnVlJykgewogICAgICAgIHRva2VuID0gdHJ1ZTsgLy8gY29udmVydCB0byBib29sZWFuCiAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKE51bWJlcih0b2tlbikpKSB7CiAgICAgICAgdG9rZW4gPSBOdW1iZXIodG9rZW4pOyAvLyBjb252ZXJ0IHRvIG51bWJlcgogICAgICB9CiAgICAgIHRva2VuVHlwZSA9IFRPS0VOVFlQRS5JREVOVElGSUVSOwogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gY2hlY2sgZm9yIGEgc3RyaW5nIGVuY2xvc2VkIGJ5IGRvdWJsZSBxdW90ZXMKICAgIGlmIChjID09PSAnIicpIHsKICAgICAgbmV4dCgpOwogICAgICB3aGlsZSAoYyAhPSAnJyAmJiAoYyAhPSAnIicgfHwgYyA9PT0gJyInICYmIG5leHRQcmV2aWV3KCkgPT09ICciJykpIHsKICAgICAgICB0b2tlbiArPSBjOwogICAgICAgIGlmIChjID09PSAnIicpIHsKICAgICAgICAgIC8vIHNraXAgdGhlIGVzY2FwZSBjaGFyYWN0ZXIKICAgICAgICAgIG5leHQoKTsKICAgICAgICB9CiAgICAgICAgbmV4dCgpOwogICAgICB9CiAgICAgIGlmIChjICE9ICciJykgewogICAgICAgIHRocm93IG5ld1N5bnRheEVycm9yKCdFbmQgb2Ygc3RyaW5nICIgZXhwZWN0ZWQnKTsKICAgICAgfQogICAgICBuZXh0KCk7CiAgICAgIHRva2VuVHlwZSA9IFRPS0VOVFlQRS5JREVOVElGSUVSOwogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gc29tZXRoaW5nIHVua25vd24gaXMgZm91bmQsIHdyb25nIGNoYXJhY3RlcnMsIGEgc3ludGF4IGVycm9yCiAgICB0b2tlblR5cGUgPSBUT0tFTlRZUEUuVU5LTk9XTjsKICAgIHdoaWxlIChjICE9ICcnKSB7CiAgICAgIHRva2VuICs9IGM7CiAgICAgIG5leHQoKTsKICAgIH0KICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignU3ludGF4IGVycm9yIGluIHBhcnQgIicgKyBjaG9wKHRva2VuLCAzMCkgKyAnIicpOwogIH0KCiAgLyoqCiAgICogUGFyc2UgYSBncmFwaC4KICAgKiBAcmV0dXJucyB7T2JqZWN0fSBncmFwaAogICAqLwogIGZ1bmN0aW9uIHBhcnNlR3JhcGgoKSB7CiAgICB2YXIgZ3JhcGggPSB7fTsKCiAgICBmaXJzdCgpOwogICAgZ2V0VG9rZW4oKTsKCiAgICAvLyBvcHRpb25hbCBzdHJpY3Qga2V5d29yZAogICAgaWYgKHRva2VuID09PSAnc3RyaWN0JykgewogICAgICBncmFwaC5zdHJpY3QgPSB0cnVlOwogICAgICBnZXRUb2tlbigpOwogICAgfQoKICAgIC8vIGdyYXBoIG9yIGRpZ3JhcGgga2V5d29yZAogICAgaWYgKHRva2VuID09PSAnZ3JhcGgnIHx8IHRva2VuID09PSAnZGlncmFwaCcpIHsKICAgICAgZ3JhcGgudHlwZSA9IHRva2VuOwogICAgICBnZXRUb2tlbigpOwogICAgfQoKICAgIC8vIG9wdGlvbmFsIGdyYXBoIGlkCiAgICBpZiAodG9rZW5UeXBlID09PSBUT0tFTlRZUEUuSURFTlRJRklFUikgewogICAgICBncmFwaC5pZCA9IHRva2VuOwogICAgICBnZXRUb2tlbigpOwogICAgfQoKICAgIC8vIG9wZW4gYW5nbGUgYnJhY2tldAogICAgaWYgKHRva2VuICE9ICd7JykgewogICAgICB0aHJvdyBuZXdTeW50YXhFcnJvcignQW5nbGUgYnJhY2tldCB7IGV4cGVjdGVkJyk7CiAgICB9CiAgICBnZXRUb2tlbigpOwoKICAgIC8vIHN0YXRlbWVudHMKICAgIHBhcnNlU3RhdGVtZW50cyhncmFwaCk7CgogICAgLy8gY2xvc2UgYW5nbGUgYnJhY2tldAogICAgaWYgKHRva2VuICE9ICd9JykgewogICAgICB0aHJvdyBuZXdTeW50YXhFcnJvcignQW5nbGUgYnJhY2tldCB9IGV4cGVjdGVkJyk7CiAgICB9CiAgICBnZXRUb2tlbigpOwoKICAgIC8vIGVuZCBvZiBmaWxlCiAgICBpZiAodG9rZW4gIT09ICcnKSB7CiAgICAgIHRocm93IG5ld1N5bnRheEVycm9yKCdFbmQgb2YgZmlsZSBleHBlY3RlZCcpOwogICAgfQogICAgZ2V0VG9rZW4oKTsKCiAgICAvLyByZW1vdmUgdGVtcG9yYXJ5IGRlZmF1bHQgb3B0aW9ucwogICAgZGVsZXRlIGdyYXBoLm5vZGU7CiAgICBkZWxldGUgZ3JhcGguZWRnZTsKICAgIGRlbGV0ZSBncmFwaC5ncmFwaDsKCiAgICByZXR1cm4gZ3JhcGg7CiAgfQoKICAvKioKICAgKiBQYXJzZSBhIGxpc3Qgd2l0aCBzdGF0ZW1lbnRzLgogICAqIEBwYXJhbSB7T2JqZWN0fSBncmFwaAogICAqLwogIGZ1bmN0aW9uIHBhcnNlU3RhdGVtZW50cyhncmFwaCkgewogICAgd2hpbGUgKHRva2VuICE9PSAnJyAmJiB0b2tlbiAhPSAnfScpIHsKICAgICAgcGFyc2VTdGF0ZW1lbnQoZ3JhcGgpOwogICAgICBpZiAodG9rZW4gPT09ICc7JykgewogICAgICAgIGdldFRva2VuKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8qKgogICAqIFBhcnNlIGEgc2luZ2xlIHN0YXRlbWVudC4gQ2FuIGJlIGEgYW4gYXR0cmlidXRlIHN0YXRlbWVudCwgbm9kZQogICAqIHN0YXRlbWVudCwgYSBzZXJpZXMgb2Ygbm9kZSBzdGF0ZW1lbnRzIGFuZCBlZGdlIHN0YXRlbWVudHMsIG9yIGEKICAgKiBwYXJhbWV0ZXIuCiAgICogQHBhcmFtIHtPYmplY3R9IGdyYXBoCiAgICovCiAgZnVuY3Rpb24gcGFyc2VTdGF0ZW1lbnQoZ3JhcGgpIHsKICAgIC8vIHBhcnNlIHN1YmdyYXBoCiAgICB2YXIgc3ViZ3JhcGggPSBwYXJzZVN1YmdyYXBoKGdyYXBoKTsKICAgIGlmIChzdWJncmFwaCkgewogICAgICAvLyBlZGdlIHN0YXRlbWVudHMKICAgICAgcGFyc2VFZGdlKGdyYXBoLCBzdWJncmFwaCk7CgogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gcGFyc2UgYW4gYXR0cmlidXRlIHN0YXRlbWVudAogICAgdmFyIGF0dHIgPSBwYXJzZUF0dHJpYnV0ZVN0YXRlbWVudChncmFwaCk7CiAgICBpZiAoYXR0cikgewogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gcGFyc2Ugbm9kZQogICAgaWYgKHRva2VuVHlwZSAhPSBUT0tFTlRZUEUuSURFTlRJRklFUikgewogICAgICB0aHJvdyBuZXdTeW50YXhFcnJvcignSWRlbnRpZmllciBleHBlY3RlZCcpOwogICAgfQogICAgdmFyIGlkID0gdG9rZW47IC8vIGlkIGNhbiBiZSBhIHN0cmluZyBvciBhIG51bWJlcgogICAgZ2V0VG9rZW4oKTsKCiAgICBpZiAodG9rZW4gPT09ICc9JykgewogICAgICAvLyBpZCBzdGF0ZW1lbnQKICAgICAgZ2V0VG9rZW4oKTsKICAgICAgaWYgKHRva2VuVHlwZSAhPSBUT0tFTlRZUEUuSURFTlRJRklFUikgewogICAgICAgIHRocm93IG5ld1N5bnRheEVycm9yKCdJZGVudGlmaWVyIGV4cGVjdGVkJyk7CiAgICAgIH0KICAgICAgZ3JhcGhbaWRdID0gdG9rZW47CiAgICAgIGdldFRva2VuKCk7CiAgICAgIC8vIFRPRE86IGltcGxlbWVudCBjb21tYSBzZXBhcmF0ZWQgbGlzdCB3aXRoICJhX2xpc3Q6IElEPUlEIFsnLCddIFthX2xpc3RdICIKICAgIH0gZWxzZSB7CiAgICAgIHBhcnNlTm9kZVN0YXRlbWVudChncmFwaCwgaWQpOwogICAgfQogIH0KCiAgLyoqCiAgICogUGFyc2UgYSBzdWJncmFwaAogICAqIEBwYXJhbSB7T2JqZWN0fSBncmFwaCAgICBwYXJlbnQgZ3JhcGggb2JqZWN0CiAgICogQHJldHVybiB7T2JqZWN0IHwgbnVsbH0gc3ViZ3JhcGgKICAgKi8KICBmdW5jdGlvbiBwYXJzZVN1YmdyYXBoKGdyYXBoKSB7CiAgICB2YXIgc3ViZ3JhcGggPSBudWxsOwoKICAgIC8vIG9wdGlvbmFsIHN1YmdyYXBoIGtleXdvcmQKICAgIGlmICh0b2tlbiA9PT0gJ3N1YmdyYXBoJykgewogICAgICBzdWJncmFwaCA9IHt9OwogICAgICBzdWJncmFwaC50eXBlID0gJ3N1YmdyYXBoJzsKICAgICAgZ2V0VG9rZW4oKTsKCiAgICAgIC8vIG9wdGlvbmFsIGdyYXBoIGlkCiAgICAgIGlmICh0b2tlblR5cGUgPT09IFRPS0VOVFlQRS5JREVOVElGSUVSKSB7CiAgICAgICAgc3ViZ3JhcGguaWQgPSB0b2tlbjsKICAgICAgICBnZXRUb2tlbigpOwogICAgICB9CiAgICB9CgogICAgLy8gb3BlbiBhbmdsZSBicmFja2V0CiAgICBpZiAodG9rZW4gPT09ICd7JykgewogICAgICBnZXRUb2tlbigpOwoKICAgICAgaWYgKCFzdWJncmFwaCkgewogICAgICAgIHN1YmdyYXBoID0ge307CiAgICAgIH0KICAgICAgc3ViZ3JhcGgucGFyZW50ID0gZ3JhcGg7CiAgICAgIHN1YmdyYXBoLm5vZGUgPSBncmFwaC5ub2RlOwogICAgICBzdWJncmFwaC5lZGdlID0gZ3JhcGguZWRnZTsKICAgICAgc3ViZ3JhcGguZ3JhcGggPSBncmFwaC5ncmFwaDsKCiAgICAgIC8vIHN0YXRlbWVudHMKICAgICAgcGFyc2VTdGF0ZW1lbnRzKHN1YmdyYXBoKTsKCiAgICAgIC8vIGNsb3NlIGFuZ2xlIGJyYWNrZXQKICAgICAgaWYgKHRva2VuICE9ICd9JykgewogICAgICAgIHRocm93IG5ld1N5bnRheEVycm9yKCdBbmdsZSBicmFja2V0IH0gZXhwZWN0ZWQnKTsKICAgICAgfQogICAgICBnZXRUb2tlbigpOwoKICAgICAgLy8gcmVtb3ZlIHRlbXBvcmFyeSBkZWZhdWx0IG9wdGlvbnMKICAgICAgZGVsZXRlIHN1YmdyYXBoLm5vZGU7CiAgICAgIGRlbGV0ZSBzdWJncmFwaC5lZGdlOwogICAgICBkZWxldGUgc3ViZ3JhcGguZ3JhcGg7CiAgICAgIGRlbGV0ZSBzdWJncmFwaC5wYXJlbnQ7CgogICAgICAvLyByZWdpc3RlciBhdCB0aGUgcGFyZW50IGdyYXBoCiAgICAgIGlmICghZ3JhcGguc3ViZ3JhcGhzKSB7CiAgICAgICAgZ3JhcGguc3ViZ3JhcGhzID0gW107CiAgICAgIH0KICAgICAgZ3JhcGguc3ViZ3JhcGhzLnB1c2goc3ViZ3JhcGgpOwogICAgfQoKICAgIHJldHVybiBzdWJncmFwaDsKICB9CgogIC8qKgogICAqIHBhcnNlIGFuIGF0dHJpYnV0ZSBzdGF0ZW1lbnQgbGlrZSAibm9kZSBbc2hhcGU9Y2lyY2xlIGZvbnRTaXplPTE2XSIuCiAgICogQXZhaWxhYmxlIGtleXdvcmRzIGFyZSAnbm9kZScsICdlZGdlJywgJ2dyYXBoJy4KICAgKiBUaGUgcHJldmlvdXMgbGlzdCB3aXRoIGRlZmF1bHQgYXR0cmlidXRlcyB3aWxsIGJlIHJlcGxhY2VkCiAgICogQHBhcmFtIHtPYmplY3R9IGdyYXBoCiAgICogQHJldHVybnMge1N0cmluZyB8IG51bGx9IGtleXdvcmQgUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgcGFyc2VkIGF0dHJpYnV0ZQogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChub2RlLCBlZGdlLCBncmFwaCksIG9yIG51bGwgaWYgbm90aGluZwogICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIHBhcnNlZC4KICAgKi8KICBmdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZVN0YXRlbWVudChncmFwaCkgewogICAgLy8gYXR0cmlidXRlIHN0YXRlbWVudHMKICAgIGlmICh0b2tlbiA9PT0gJ25vZGUnKSB7CiAgICAgIGdldFRva2VuKCk7CgogICAgICAvLyBub2RlIGF0dHJpYnV0ZXMKICAgICAgZ3JhcGgubm9kZSA9IHBhcnNlQXR0cmlidXRlTGlzdCgpOwogICAgICByZXR1cm4gJ25vZGUnOwogICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJ2VkZ2UnKSB7CiAgICAgIGdldFRva2VuKCk7CgogICAgICAvLyBlZGdlIGF0dHJpYnV0ZXMKICAgICAgZ3JhcGguZWRnZSA9IHBhcnNlQXR0cmlidXRlTGlzdCgpOwogICAgICByZXR1cm4gJ2VkZ2UnOwogICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJ2dyYXBoJykgewogICAgICBnZXRUb2tlbigpOwoKICAgICAgLy8gZ3JhcGggYXR0cmlidXRlcwogICAgICBncmFwaC5ncmFwaCA9IHBhcnNlQXR0cmlidXRlTGlzdCgpOwogICAgICByZXR1cm4gJ2dyYXBoJzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9CgogIC8qKgogICAqIHBhcnNlIGEgbm9kZSBzdGF0ZW1lbnQKICAgKiBAcGFyYW0ge09iamVjdH0gZ3JhcGgKICAgKiBAcGFyYW0ge1N0cmluZyB8IE51bWJlcn0gaWQKICAgKi8KICBmdW5jdGlvbiBwYXJzZU5vZGVTdGF0ZW1lbnQoZ3JhcGgsIGlkKSB7CiAgICAvLyBub2RlIHN0YXRlbWVudAogICAgdmFyIG5vZGUgPSB7CiAgICAgIGlkOiBpZAogICAgfTsKICAgIHZhciBhdHRyID0gcGFyc2VBdHRyaWJ1dGVMaXN0KCk7CiAgICBpZiAoYXR0cikgewogICAgICBub2RlLmF0dHIgPSBhdHRyOwogICAgfQogICAgYWRkTm9kZShncmFwaCwgbm9kZSk7CgogICAgLy8gZWRnZSBzdGF0ZW1lbnRzCiAgICBwYXJzZUVkZ2UoZ3JhcGgsIGlkKTsKICB9CgogIC8qKgogICAqIFBhcnNlIGFuIGVkZ2Ugb3IgYSBzZXJpZXMgb2YgZWRnZXMKICAgKiBAcGFyYW0ge09iamVjdH0gZ3JhcGgKICAgKiBAcGFyYW0ge1N0cmluZyB8IE51bWJlcn0gZnJvbSAgICAgICAgSWQgb2YgdGhlIGZyb20gbm9kZQogICAqLwogIGZ1bmN0aW9uIHBhcnNlRWRnZShncmFwaCwgZnJvbSkgewogICAgd2hpbGUgKHRva2VuID09PSAnLT4nIHx8IHRva2VuID09PSAnLS0nKSB7CiAgICAgIHZhciB0bzsKICAgICAgdmFyIHR5cGUgPSB0b2tlbjsKICAgICAgZ2V0VG9rZW4oKTsKCiAgICAgIHZhciBzdWJncmFwaCA9IHBhcnNlU3ViZ3JhcGgoZ3JhcGgpOwogICAgICBpZiAoc3ViZ3JhcGgpIHsKICAgICAgICB0byA9IHN1YmdyYXBoOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0b2tlblR5cGUgIT0gVE9LRU5UWVBFLklERU5USUZJRVIpIHsKICAgICAgICAgIHRocm93IG5ld1N5bnRheEVycm9yKCdJZGVudGlmaWVyIG9yIHN1YmdyYXBoIGV4cGVjdGVkJyk7CiAgICAgICAgfQogICAgICAgIHRvID0gdG9rZW47CiAgICAgICAgYWRkTm9kZShncmFwaCwgewogICAgICAgICAgaWQ6IHRvCiAgICAgICAgfSk7CiAgICAgICAgZ2V0VG9rZW4oKTsKICAgICAgfQoKICAgICAgLy8gcGFyc2UgZWRnZSBhdHRyaWJ1dGVzCiAgICAgIHZhciBhdHRyID0gcGFyc2VBdHRyaWJ1dGVMaXN0KCk7CgogICAgICAvLyBjcmVhdGUgZWRnZQogICAgICB2YXIgZWRnZSA9IGNyZWF0ZUVkZ2UoZ3JhcGgsIGZyb20sIHRvLCB0eXBlLCBhdHRyKTsKICAgICAgYWRkRWRnZShncmFwaCwgZWRnZSk7CgogICAgICBmcm9tID0gdG87CiAgICB9CiAgfQoKICAvKioKICAgKiBQYXJzZSBhIHNldCB3aXRoIGF0dHJpYnV0ZXMsCiAgICogZm9yIGV4YW1wbGUgW2xhYmVsPSIxLjAwMCIsIHNoYXBlPXNvbGlkXQogICAqIEByZXR1cm4ge09iamVjdCB8IG51bGx9IGF0dHIKICAgKi8KICBmdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZUxpc3QoKSB7CiAgICB2YXIgYXR0ciA9IG51bGw7CgogICAgd2hpbGUgKHRva2VuID09PSAnWycpIHsKICAgICAgZ2V0VG9rZW4oKTsKICAgICAgYXR0ciA9IHt9OwogICAgICB3aGlsZSAodG9rZW4gIT09ICcnICYmIHRva2VuICE9ICddJykgewogICAgICAgIGlmICh0b2tlblR5cGUgIT0gVE9LRU5UWVBFLklERU5USUZJRVIpIHsKICAgICAgICAgIHRocm93IG5ld1N5bnRheEVycm9yKCdBdHRyaWJ1dGUgbmFtZSBleHBlY3RlZCcpOwogICAgICAgIH0KICAgICAgICB2YXIgbmFtZSA9IHRva2VuOwoKICAgICAgICBnZXRUb2tlbigpOwogICAgICAgIGlmICh0b2tlbiAhPSAnPScpIHsKICAgICAgICAgIHRocm93IG5ld1N5bnRheEVycm9yKCdFcXVhbCBzaWduID0gZXhwZWN0ZWQnKTsKICAgICAgICB9CiAgICAgICAgZ2V0VG9rZW4oKTsKCiAgICAgICAgaWYgKHRva2VuVHlwZSAhPSBUT0tFTlRZUEUuSURFTlRJRklFUikgewogICAgICAgICAgdGhyb3cgbmV3U3ludGF4RXJyb3IoJ0F0dHJpYnV0ZSB2YWx1ZSBleHBlY3RlZCcpOwogICAgICAgIH0KICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbjsKICAgICAgICBzZXRWYWx1ZShhdHRyLCBuYW1lLCB2YWx1ZSk7IC8vIG5hbWUgY2FuIGJlIGEgcGF0aAoKICAgICAgICBnZXRUb2tlbigpOwogICAgICAgIGlmICh0b2tlbiA9PSAnLCcpIHsKICAgICAgICAgIGdldFRva2VuKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodG9rZW4gIT0gJ10nKSB7CiAgICAgICAgdGhyb3cgbmV3U3ludGF4RXJyb3IoJ0JyYWNrZXQgXSBleHBlY3RlZCcpOwogICAgICB9CiAgICAgIGdldFRva2VuKCk7CiAgICB9CgogICAgcmV0dXJuIGF0dHI7CiAgfQoKICAvKioKICAgKiBDcmVhdGUgYSBzeW50YXggZXJyb3Igd2l0aCBleHRyYSBpbmZvcm1hdGlvbiBvbiBjdXJyZW50IHRva2VuIGFuZCBpbmRleC4KICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZQogICAqIEByZXR1cm5zIHtTeW50YXhFcnJvcn0gZXJyCiAgICovCiAgZnVuY3Rpb24gbmV3U3ludGF4RXJyb3IobWVzc2FnZSkgewogICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihtZXNzYWdlICsgJywgZ290ICInICsgY2hvcCh0b2tlbiwgMzApICsgJyIgKGNoYXIgJyArIGluZGV4ICsgJyknKTsKICB9CgogIC8qKgogICAqIENob3Agb2ZmIHRleHQgYWZ0ZXIgYSBtYXhpbXVtIGxlbmd0aAogICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0CiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heExlbmd0aAogICAqIEByZXR1cm5zIHtTdHJpbmd9CiAgICovCiAgZnVuY3Rpb24gY2hvcCh0ZXh0LCBtYXhMZW5ndGgpIHsKICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA8PSBtYXhMZW5ndGggPyB0ZXh0IDogdGV4dC5zdWJzdHIoMCwgMjcpICsgJy4uLic7CiAgfQoKICAvKioKICAgKiBFeGVjdXRlIGEgZnVuY3Rpb24gZm4gZm9yIGVhY2ggcGFpciBvZiBlbGVtZW50cyBpbiB0d28gYXJyYXlzCiAgICogQHBhcmFtIHtBcnJheSB8ICp9IGFycmF5MQogICAqIEBwYXJhbSB7QXJyYXkgfCAqfSBhcnJheTIKICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbgogICAqLwogIGZ1bmN0aW9uIGZvckVhY2gyKGFycmF5MSwgYXJyYXkyLCBmbikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkxKSkgewogICAgICBhcnJheTEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbTEpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheTIpKSB7CiAgICAgICAgICBhcnJheTIuZm9yRWFjaChmdW5jdGlvbiAoZWxlbTIpIHsKICAgICAgICAgICAgZm4oZWxlbTEsIGVsZW0yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmbihlbGVtMSwgYXJyYXkyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkyKSkgewogICAgICAgIGFycmF5Mi5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtMikgewogICAgICAgICAgZm4oYXJyYXkxLCBlbGVtMik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm4oYXJyYXkxLCBhcnJheTIpOwogICAgICB9CiAgICB9CiAgfQoKICAvKioKICAgKiBTZXQgYSBuZXN0ZWQgcHJvcGVydHkgb24gYW4gb2JqZWN0CiAgICogV2hlbiBuZXN0ZWQgb2JqZWN0cyBhcmUgbWlzc2luZywgdGhleSB3aWxsIGJlIGNyZWF0ZWQuCiAgICogRm9yIGV4YW1wbGUgc2V0UHJvcCh7fSwgJ2ZvbnQuY29sb3InLCAncmVkJykgd2lsbCByZXR1cm4ge2ZvbnQ6IHtjb2xvcjogJ3JlZCd9fQogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QKICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAgIEEgZG90IHNlcGFyYXRlZCBzdHJpbmcgbGlrZSAnZm9udC5jb2xvcicKICAgKiBAcGFyYW0geyp9IHZhbHVlICAgICAgIFZhbHVlIGZvciB0aGUgcHJvcGVydHkKICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIG9yaWdpbmFsIG9iamVjdCwgYWxsb3dzIGZvciBjaGFpbmluZy4KICAgKi8KICBmdW5jdGlvbiBzZXRQcm9wKG9iamVjdCwgcGF0aCwgdmFsdWUpIHsKICAgIHZhciBuYW1lcyA9IHBhdGguc3BsaXQoJy4nKTsKICAgIHZhciBwcm9wID0gbmFtZXMucG9wKCk7CgogICAgLy8gdHJhdmVyc2Ugb3ZlciB0aGUgbmVzdGVkIG9iamVjdHMKICAgIHZhciBvYmogPSBvYmplY3Q7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBuYW1lID0gbmFtZXNbaV07CiAgICAgIGlmICghKG5hbWUgaW4gb2JqKSkgewogICAgICAgIG9ialtuYW1lXSA9IHt9OwogICAgICB9CiAgICAgIG9iaiA9IG9ialtuYW1lXTsKICAgIH0KCiAgICAvLyBzZXQgdGhlIHByb3BlcnR5IHZhbHVlCiAgICBvYmpbcHJvcF0gPSB2YWx1ZTsKCiAgICByZXR1cm4gb2JqZWN0OwogIH0KCiAgLyoqCiAgICogQ29udmVydCBhbiBvYmplY3Qgd2l0aCBET1QgYXR0cmlidXRlcyB0byB0aGVpciB2aXMuanMgZXF1aXZhbGVudHMuCiAgICogQHBhcmFtIHtPYmplY3R9IGF0dHIgICAgIE9iamVjdCB3aXRoIERPVCBhdHRyaWJ1dGVzCiAgICogQHBhcmFtIHtPYmplY3R9IG1hcHBpbmcKICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB2aXMuanMgYXR0cmlidXRlcwogICAqLwogIGZ1bmN0aW9uIGNvbnZlcnRBdHRyKGF0dHIsIG1hcHBpbmcpIHsKICAgIHZhciBjb252ZXJ0ZWQgPSB7fTsKCiAgICBmb3IgKHZhciBwcm9wIGluIGF0dHIpIHsKICAgICAgaWYgKGF0dHIuaGFzT3duUHJvcGVydHkocHJvcCkpIHsKICAgICAgICB2YXIgdmlzUHJvcCA9IG1hcHBpbmdbcHJvcF07CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmlzUHJvcCkpIHsKICAgICAgICAgIHZpc1Byb3AuZm9yRWFjaChmdW5jdGlvbiAodmlzUHJvcEkpIHsKICAgICAgICAgICAgc2V0UHJvcChjb252ZXJ0ZWQsIHZpc1Byb3BJLCBhdHRyW3Byb3BdKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZpc1Byb3AgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZXRQcm9wKGNvbnZlcnRlZCwgdmlzUHJvcCwgYXR0cltwcm9wXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNldFByb3AoY29udmVydGVkLCBwcm9wLCBhdHRyW3Byb3BdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gY29udmVydGVkOwogIH0KCiAgLyoqCiAgICogQ29udmVydCBhIHN0cmluZyBjb250YWluaW5nIGEgZ3JhcGggaW4gRE9UIGxhbmd1YWdlIGludG8gYSBtYXAgY29udGFpbmluZwogICAqIHdpdGggbm9kZXMgYW5kIGVkZ2VzIGluIHRoZSBmb3JtYXQgb2YgZ3JhcGguCiAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgICAgICAgICBUZXh0IGNvbnRhaW5pbmcgYSBncmFwaCBpbiBET1Qtbm90YXRpb24KICAgKiBAcmV0dXJuIHtPYmplY3R9IGdyYXBoRGF0YQogICAqLwogIGZ1bmN0aW9uIERPVFRvR3JhcGgoZGF0YSkgewogICAgLy8gcGFyc2UgdGhlIERPVCBmaWxlCiAgICB2YXIgZG90RGF0YSA9IHBhcnNlRE9UKGRhdGEpOwogICAgdmFyIGdyYXBoRGF0YSA9IHsKICAgICAgbm9kZXM6IFtdLAogICAgICBlZGdlczogW10sCiAgICAgIG9wdGlvbnM6IHt9CiAgICB9OwoKICAgIC8vIGNvcHkgdGhlIG5vZGVzCiAgICBpZiAoZG90RGF0YS5ub2RlcykgewogICAgICBkb3REYXRhLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGRvdE5vZGUpIHsKICAgICAgICB2YXIgZ3JhcGhOb2RlID0gewogICAgICAgICAgaWQ6IGRvdE5vZGUuaWQsCiAgICAgICAgICBsYWJlbDogU3RyaW5nKGRvdE5vZGUubGFiZWwgfHwgZG90Tm9kZS5pZCkKICAgICAgICB9OwogICAgICAgIG1lcmdlKGdyYXBoTm9kZSwgY29udmVydEF0dHIoZG90Tm9kZS5hdHRyLCBOT0RFX0FUVFJfTUFQUElORykpOwogICAgICAgIGlmIChncmFwaE5vZGUuaW1hZ2UpIHsKICAgICAgICAgIGdyYXBoTm9kZS5zaGFwZSA9ICdpbWFnZSc7CiAgICAgICAgfQogICAgICAgIGdyYXBoRGF0YS5ub2Rlcy5wdXNoKGdyYXBoTm9kZSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8vIGNvcHkgdGhlIGVkZ2VzCiAgICBpZiAoZG90RGF0YS5lZGdlcykgewogICAgICAvKioKICAgICAgICogQ29udmVydCBhbiBlZGdlIGluIERPVCBmb3JtYXQgdG8gYW4gZWRnZSB3aXRoIFZpc0dyYXBoIGZvcm1hdAogICAgICAgKiBAcGFyYW0ge09iamVjdH0gZG90RWRnZQogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBncmFwaEVkZ2UKICAgICAgICovCiAgICAgIHZhciBjb252ZXJ0RWRnZSA9IGZ1bmN0aW9uIGNvbnZlcnRFZGdlKGRvdEVkZ2UpIHsKICAgICAgICB2YXIgZ3JhcGhFZGdlID0gewogICAgICAgICAgZnJvbTogZG90RWRnZS5mcm9tLAogICAgICAgICAgdG86IGRvdEVkZ2UudG8KICAgICAgICB9OwogICAgICAgIG1lcmdlKGdyYXBoRWRnZSwgY29udmVydEF0dHIoZG90RWRnZS5hdHRyLCBFREdFX0FUVFJfTUFQUElORykpOwogICAgICAgIGdyYXBoRWRnZS5hcnJvd3MgPSBkb3RFZGdlLnR5cGUgPT09ICctPicgPyAndG8nIDogdW5kZWZpbmVkOwoKICAgICAgICByZXR1cm4gZ3JhcGhFZGdlOwogICAgICB9OwoKICAgICAgZG90RGF0YS5lZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChkb3RFZGdlKSB7CiAgICAgICAgdmFyIGZyb20sIHRvOwogICAgICAgIGlmIChkb3RFZGdlLmZyb20gaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgIGZyb20gPSBkb3RFZGdlLmZyb20ubm9kZXM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZyb20gPSB7CiAgICAgICAgICAgIGlkOiBkb3RFZGdlLmZyb20KICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICAvLyBUT0RPOiBzdXBwb3J0IG9mIHNvbGlkL2RvdHRlZC9kYXNoZWQgZWRnZXMgKGF0dHIgPSAnc3R5bGUnKQogICAgICAgIC8vIFRPRE86IHN1cHBvcnQgZm9yIGF0dHJpYnV0ZXMgJ2RpcicgYW5kICdhcnJvd2hlYWQnIChlZGdlIGFycm93cykKCiAgICAgICAgaWYgKGRvdEVkZ2UudG8gaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgIHRvID0gZG90RWRnZS50by5ub2RlczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdG8gPSB7CiAgICAgICAgICAgIGlkOiBkb3RFZGdlLnRvCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgaWYgKGRvdEVkZ2UuZnJvbSBpbnN0YW5jZW9mIE9iamVjdCAmJiBkb3RFZGdlLmZyb20uZWRnZXMpIHsKICAgICAgICAgIGRvdEVkZ2UuZnJvbS5lZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJFZGdlKSB7CiAgICAgICAgICAgIHZhciBncmFwaEVkZ2UgPSBjb252ZXJ0RWRnZShzdWJFZGdlKTsKICAgICAgICAgICAgZ3JhcGhEYXRhLmVkZ2VzLnB1c2goZ3JhcGhFZGdlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZm9yRWFjaDIoZnJvbSwgdG8sIGZ1bmN0aW9uIChmcm9tLCB0bykgewogICAgICAgICAgdmFyIHN1YkVkZ2UgPSBjcmVhdGVFZGdlKGdyYXBoRGF0YSwgZnJvbS5pZCwgdG8uaWQsIGRvdEVkZ2UudHlwZSwgZG90RWRnZS5hdHRyKTsKICAgICAgICAgIHZhciBncmFwaEVkZ2UgPSBjb252ZXJ0RWRnZShzdWJFZGdlKTsKICAgICAgICAgIGdyYXBoRGF0YS5lZGdlcy5wdXNoKGdyYXBoRWRnZSk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChkb3RFZGdlLnRvIGluc3RhbmNlb2YgT2JqZWN0ICYmIGRvdEVkZ2UudG8uZWRnZXMpIHsKICAgICAgICAgIGRvdEVkZ2UudG8uZWRnZXMuZm9yRWFjaChmdW5jdGlvbiAoc3ViRWRnZSkgewogICAgICAgICAgICB2YXIgZ3JhcGhFZGdlID0gY29udmVydEVkZ2Uoc3ViRWRnZSk7CiAgICAgICAgICAgIGdyYXBoRGF0YS5lZGdlcy5wdXNoKGdyYXBoRWRnZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8vIGNvcHkgdGhlIG9wdGlvbnMKICAgIGlmIChkb3REYXRhLmF0dHIpIHsKICAgICAgZ3JhcGhEYXRhLm9wdGlvbnMgPSBkb3REYXRhLmF0dHI7CiAgICB9CgogICAgcmV0dXJuIGdyYXBoRGF0YTsKICB9CgogIC8vIGV4cG9ydHMKICBleHBvcnRzLnBhcnNlRE9UID0gcGFyc2VET1Q7CiAgZXhwb3J0cy5ET1RUb0dyYXBoID0gRE9UVG9HcmFwaDsKCi8qKiovIH0sCi8qIDExMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgJ3VzZSBzdHJpY3QnOwoKICBmdW5jdGlvbiBwYXJzZUdlcGhpKGdlcGhpSlNPTiwgb3B0aW9uc09iaikgewogICAgdmFyIGVkZ2VzID0gW107CiAgICB2YXIgbm9kZXMgPSBbXTsKICAgIHZhciBvcHRpb25zID0gewogICAgICBlZGdlczogewogICAgICAgIGluaGVyaXRDb2xvcjogZmFsc2UKICAgICAgfSwKICAgICAgbm9kZXM6IHsKICAgICAgICBmaXhlZDogZmFsc2UsCiAgICAgICAgcGFyc2VDb2xvcjogZmFsc2UKICAgICAgfQogICAgfTsKCiAgICBpZiAob3B0aW9uc09iaiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChvcHRpb25zT2JqLmZpeGVkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBvcHRpb25zLm5vZGVzLmZpeGVkID0gb3B0aW9uc09iai5maXhlZDsKICAgICAgfQogICAgICBpZiAob3B0aW9uc09iai5wYXJzZUNvbG9yICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBvcHRpb25zLm5vZGVzLnBhcnNlQ29sb3IgPSBvcHRpb25zT2JqLnBhcnNlQ29sb3I7CiAgICAgIH0KICAgICAgaWYgKG9wdGlvbnNPYmouaW5oZXJpdENvbG9yICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBvcHRpb25zLmVkZ2VzLmluaGVyaXRDb2xvciA9IG9wdGlvbnNPYmouaW5oZXJpdENvbG9yOwogICAgICB9CiAgICB9CgogICAgdmFyIGdFZGdlcyA9IGdlcGhpSlNPTi5lZGdlczsKICAgIHZhciBnTm9kZXMgPSBnZXBoaUpTT04ubm9kZXM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdFZGdlcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZWRnZSA9IHt9OwogICAgICB2YXIgZ0VkZ2UgPSBnRWRnZXNbaV07CiAgICAgIGVkZ2VbJ2lkJ10gPSBnRWRnZS5pZDsKICAgICAgZWRnZVsnZnJvbSddID0gZ0VkZ2Uuc291cmNlOwogICAgICBlZGdlWyd0byddID0gZ0VkZ2UudGFyZ2V0OwogICAgICBlZGdlWydhdHRyaWJ1dGVzJ10gPSBnRWRnZS5hdHRyaWJ1dGVzOwogICAgICAvLyAgICBlZGdlWyd2YWx1ZSddID0gZ0VkZ2UuYXR0cmlidXRlcyAhPT0gdW5kZWZpbmVkID8gZ0VkZ2UuYXR0cmlidXRlcy5XZWlnaHQgOiB1bmRlZmluZWQ7CiAgICAgIC8vICAgIGVkZ2VbJ3dpZHRoJ10gPSBlZGdlWyd2YWx1ZSddICE9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBlZGdlZ0VkZ2Uuc2l6ZTsKICAgICAgaWYgKGdFZGdlLmNvbG9yICYmIG9wdGlvbnMuaW5oZXJpdENvbG9yID09PSBmYWxzZSkgewogICAgICAgIGVkZ2VbJ2NvbG9yJ10gPSBnRWRnZS5jb2xvcjsKICAgICAgfQogICAgICBlZGdlcy5wdXNoKGVkZ2UpOwogICAgfQoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ05vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBub2RlID0ge307CiAgICAgIHZhciBnTm9kZSA9IGdOb2Rlc1tpXTsKICAgICAgbm9kZVsnaWQnXSA9IGdOb2RlLmlkOwogICAgICBub2RlWydhdHRyaWJ1dGVzJ10gPSBnTm9kZS5hdHRyaWJ1dGVzOwogICAgICBub2RlWyd0aXRsZSddID0gZ05vZGUudGl0bGU7CiAgICAgIG5vZGVbJ3gnXSA9IGdOb2RlLng7CiAgICAgIG5vZGVbJ3knXSA9IGdOb2RlLnk7CiAgICAgIG5vZGVbJ2xhYmVsJ10gPSBnTm9kZS5sYWJlbDsKICAgICAgaWYgKG9wdGlvbnMubm9kZXMucGFyc2VDb2xvciA9PT0gdHJ1ZSkgewogICAgICAgIG5vZGVbJ2NvbG9yJ10gPSBnTm9kZS5jb2xvcjsKICAgICAgfSBlbHNlIHsKICAgICAgICBub2RlWydjb2xvciddID0gZ05vZGUuY29sb3IgIT09IHVuZGVmaW5lZCA/IHsgYmFja2dyb3VuZDogZ05vZGUuY29sb3IsIGJvcmRlcjogZ05vZGUuY29sb3IsIGhpZ2hsaWdodDogeyBiYWNrZ3JvdW5kOiBnTm9kZS5jb2xvciwgYm9yZGVyOiBnTm9kZS5jb2xvciB9LCBob3ZlcjogeyBiYWNrZ3JvdW5kOiBnTm9kZS5jb2xvciwgYm9yZGVyOiBnTm9kZS5jb2xvciB9IH0gOiB1bmRlZmluZWQ7CiAgICAgIH0KICAgICAgbm9kZVsnc2l6ZSddID0gZ05vZGUuc2l6ZTsKICAgICAgbm9kZVsnZml4ZWQnXSA9IG9wdGlvbnMubm9kZXMuZml4ZWQgJiYgZ05vZGUueCAhPT0gdW5kZWZpbmVkICYmIGdOb2RlLnkgIT09IHVuZGVmaW5lZDsKICAgICAgbm9kZXMucHVzaChub2RlKTsKICAgIH0KCiAgICByZXR1cm4geyBub2Rlczogbm9kZXMsIGVkZ2VzOiBlZGdlcyB9OwogIH0KCiAgZXhwb3J0cy5wYXJzZUdlcGhpID0gcGFyc2VHZXBoaTsKCi8qKiovIH0sCi8qIDExMiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCiAgLyoqCiAgICogQGNsYXNzIEltYWdlcwogICAqIFRoaXMgY2xhc3MgbG9hZHMgaW1hZ2VzIGFuZCBrZWVwcyB0aGVtIHN0b3JlZC4KICAgKi8KICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIEltYWdlcyhjYWxsYmFjaykgewogICAgdGhpcy5pbWFnZXMgPSB7fTsKICAgIHRoaXMuaW1hZ2VCcm9rZW4gPSB7fTsKICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjazsKICB9CgogIC8qKgogICAqCiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAgICAgICAgICBVcmwgb2YgdGhlIGltYWdlCiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAgICAgICAgICBVcmwgb2YgYW4gaW1hZ2UgdG8gdXNlIGlmIHRoZSB1cmwgaW1hZ2UgaXMgbm90IGZvdW5kCiAgICogQHJldHVybiB7SW1hZ2V9IGltZyAgICAgICAgICBUaGUgaW1hZ2Ugb2JqZWN0CiAgICovCiAgSW1hZ2VzLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKHVybCwgYnJva2VuVXJsLCBpZCkgewogICAgdmFyIGltZyA9IHRoaXMuaW1hZ2VzW3VybF07IC8vIG1ha2UgYSBwb2ludGVyCiAgICBpZiAoaW1nID09PSB1bmRlZmluZWQpIHsKICAgICAgLy8gY3JlYXRlIHRoZSBpbWFnZQogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBJRTExIGZpeCAtLSB0aGFua3MgZHBvbmNoIQogICAgICAgIGlmICh0aGlzLndpZHRoID09PSAwKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMpOwogICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMub2Zmc2V0V2lkdGg7CiAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzKTsKICAgICAgICB9CgogICAgICAgIGlmIChtZS5jYWxsYmFjaykgewogICAgICAgICAgbWUuaW1hZ2VzW3VybF0gPSBpbWc7CiAgICAgICAgICBtZS5jYWxsYmFjayh0aGlzKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoYnJva2VuVXJsID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkNvdWxkIG5vdCBsb2FkIGltYWdlOiIsIHVybCk7CiAgICAgICAgICBkZWxldGUgdGhpcy5zcmM7CiAgICAgICAgICBpZiAobWUuY2FsbGJhY2spIHsKICAgICAgICAgICAgbWUuY2FsbGJhY2sodGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChtZS5pbWFnZUJyb2tlbltpZF0gJiYgbWUuaW1hZ2VCcm9rZW5baWRdW3VybF0gPT09IHRydWUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiQ291bGQgbm90IGxvYWQgYnJva2VuSW1hZ2U6IiwgYnJva2VuVXJsKTsKICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3JjOwogICAgICAgICAgICBpZiAobWUuY2FsbGJhY2spIHsKICAgICAgICAgICAgICBtZS5jYWxsYmFjayh0aGlzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiQ291bGQgbm90IGxvYWQgaW1hZ2U6IiwgdXJsKTsKICAgICAgICAgICAgdGhpcy5zcmMgPSBicm9rZW5Vcmw7CiAgICAgICAgICAgIGlmIChtZS5pbWFnZUJyb2tlbltpZF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIG1lLmltYWdlQnJva2VuW2lkXSA9IHt9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1lLmltYWdlQnJva2VuW2lkXVt1cmxdID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBpbWcuc3JjID0gdXJsOwogICAgfQoKICAgIHJldHVybiBpbWc7CiAgfTsKCiAgbW9kdWxlLmV4cG9ydHMgPSBJbWFnZXM7CgovKioqLyB9LAovKiAxMTMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgogIC8vIEVuZ2xpc2gKICAndXNlIHN0cmljdCc7CgogIGV4cG9ydHNbJ2VuJ10gPSB7CiAgICBlZGl0OiAnRWRpdCcsCiAgICBkZWw6ICdEZWxldGUgc2VsZWN0ZWQnLAogICAgYmFjazogJ0JhY2snLAogICAgYWRkTm9kZTogJ0FkZCBOb2RlJywKICAgIGFkZEVkZ2U6ICdBZGQgRWRnZScsCiAgICBlZGl0Tm9kZTogJ0VkaXQgTm9kZScsCiAgICBlZGl0RWRnZTogJ0VkaXQgRWRnZScsCiAgICBhZGREZXNjcmlwdGlvbjogJ0NsaWNrIGluIGFuIGVtcHR5IHNwYWNlIHRvIHBsYWNlIGEgbmV3IG5vZGUuJywKICAgIGVkZ2VEZXNjcmlwdGlvbjogJ0NsaWNrIG9uIGEgbm9kZSBhbmQgZHJhZyB0aGUgZWRnZSB0byBhbm90aGVyIG5vZGUgdG8gY29ubmVjdCB0aGVtLicsCiAgICBlZGl0RWRnZURlc2NyaXB0aW9uOiAnQ2xpY2sgb24gdGhlIGNvbnRyb2wgcG9pbnRzIGFuZCBkcmFnIHRoZW0gdG8gYSBub2RlIHRvIGNvbm5lY3QgdG8gaXQuJywKICAgIGNyZWF0ZUVkZ2VFcnJvcjogJ0Nhbm5vdCBsaW5rIGVkZ2VzIHRvIGEgY2x1c3Rlci4nLAogICAgZGVsZXRlQ2x1c3RlckVycm9yOiAnQ2x1c3RlcnMgY2Fubm90IGJlIGRlbGV0ZWQuJywKICAgIGVkaXRDbHVzdGVyRXJyb3I6ICdDbHVzdGVycyBjYW5ub3QgYmUgZWRpdGVkLicKICB9OwogIGV4cG9ydHNbJ2VuX0VOJ10gPSBleHBvcnRzWydlbiddOwogIGV4cG9ydHNbJ2VuX1VTJ10gPSBleHBvcnRzWydlbiddOwoKICAvLyBEdXRjaAogIGV4cG9ydHNbJ25sJ10gPSB7CiAgICBlZGl0OiAnV2lqemlnZW4nLAogICAgZGVsOiAnU2VsZWN0aWUgdmVyd2lqZGVyZW4nLAogICAgYmFjazogJ1RlcnVnJywKICAgIGFkZE5vZGU6ICdOb2RlIHRvZXZvZWdlbicsCiAgICBhZGRFZGdlOiAnTGluayB0b2V2b2VnZW4nLAogICAgZWRpdE5vZGU6ICdOb2RlIHdpanppZ2VuJywKICAgIGVkaXRFZGdlOiAnTGluayB3aWp6aWdlbicsCiAgICBhZGREZXNjcmlwdGlvbjogJ0tsaWsgb3AgZWVuIGxlZWcgZ2ViaWVkIG9tIGVlbiBuaWV1d2Ugbm9kZSB0ZSBtYWtlbi4nLAogICAgZWRnZURlc2NyaXB0aW9uOiAnS2xpayBvcCBlZW4gbm9kZSBlbiBzbGVlcCBkZSBsaW5rIG5hYXIgZWVuIGFuZGVyZSBub2RlIG9tIHplIHRlIHZlcmJpbmRlbi4nLAogICAgZWRpdEVkZ2VEZXNjcmlwdGlvbjogJ0tsaWsgb3AgZGUgdmVyYmluZGluZ3NwdW50ZW4gZW4gc2xlZXAgemUgbmFhciBlZW4gbm9kZSBvbSBkYWFybWVlIHRlIHZlcmJpbmRlbi4nLAogICAgY3JlYXRlRWRnZUVycm9yOiAnS2FuIGdlZW4gbGluayBtYWtlbiBuYWFyIGVlbiBjbHVzdGVyLicsCiAgICBkZWxldGVDbHVzdGVyRXJyb3I6ICdDbHVzdGVycyBrdW5uZW4gbmlldCB3b3JkZW4gdmVyd2lqZGVyZC4nLAogICAgZWRpdENsdXN0ZXJFcnJvcjogJ0NsdXN0ZXJzIGt1bm5lbiBuaWV0IHdvcmRlbiBhYW5nZXBhc3QuJwogIH07CiAgZXhwb3J0c1snbmxfTkwnXSA9IGV4cG9ydHNbJ25sJ107CiAgZXhwb3J0c1snbmxfQkUnXSA9IGV4cG9ydHNbJ25sJ107CgovKioqLyB9Ci8qKioqKiovIF0pCn0pOwo7</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
          <TcpPackets>
            <PacketInfo time="102707671" offset="0" length="5840" />
            <PacketInfo time="102707671" offset="5840" length="16384" />
            <PacketInfo time="102707671" offset="22224" length="16384" />
            <PacketInfo time="102707671" offset="38608" length="16384" />
            <PacketInfo time="102707687" offset="54992" length="11278" />
            <PacketInfo time="102707718" offset="66270" length="8760" />
            <PacketInfo time="102707718" offset="75030" length="16384" />
            <PacketInfo time="102707718" offset="91414" length="16384" />
            <PacketInfo time="102707718" offset="107798" length="16384" />
            <PacketInfo time="102707718" offset="124182" length="8173" />
            <PacketInfo time="102707750" offset="132355" length="16060" />
            <PacketInfo time="102707750" offset="148415" length="16384" />
            <PacketInfo time="102707750" offset="164799" length="16384" />
            <PacketInfo time="102707765" offset="181183" length="16384" />
            <PacketInfo time="102707765" offset="197567" length="981" />
            <PacketInfo time="102707796" offset="198548" length="2920" />
            <PacketInfo time="102707812" offset="201468" length="16384" />
            <PacketInfo time="102707812" offset="217852" length="16384" />
            <PacketInfo time="102707812" offset="234236" length="16384" />
            <PacketInfo time="102707812" offset="250620" length="13593" />
            <PacketInfo time="102707843" offset="264213" length="2920" />
            <PacketInfo time="102707843" offset="267133" length="16384" />
            <PacketInfo time="102707843" offset="283517" length="16384" />
            <PacketInfo time="102707859" offset="299901" length="16384" />
            <PacketInfo time="102707859" offset="316285" length="14509" />
            <PacketInfo time="102707890" offset="330794" length="4380" />
            <PacketInfo time="102707890" offset="335174" length="16384" />
            <PacketInfo time="102707906" offset="351558" length="16384" />
            <PacketInfo time="102707906" offset="367942" length="13546" />
          </TcpPackets>
        </HTTPResponse>
      </HTTPTask>
    </HTTPTask>
  </HTTPTask>
  <HTTPTask id="232" hostname="omniconv" path="/OMNIStatic/images/menu-top/bubble-bg-2-line.gif" url="http://omniconv/OMNIStatic/images/menu-top/bubble-bg-2-line.gif" ip="10.37.149.132" port="80" connectionId="8" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:12.878-07:00" startTime="102708156" endTime="102708156">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWI2aWFseXRSRjc4RlpqajNhSk94ZUVudWgxYmk4UHc5YmdnTE1GM0RJb2VOb3I1U0s1OWljSU1oR2o2cXU2RStRL0J1SUhWTFBFUjBCbHEvbWRTdmlXRUx3MTJhcktiTlZIVFA1VVVxN1BsNGJnMEJZUHUyN1o4M3FHclpiakdUUkhWYzNUQVVuOWFnK3dJUVdhS2crbE1zWFQvRHNKUXZjWHJJa1VlNVl2Ky9HZ2tzS0s2WVBobEMrT3QxMlJjN3YzNDNMK2tzZ0oyTjk0YUxla3ByVW5tWDdULzJYVUlMNVR2ai9vTlVKZEVuV2Z0TkZpNk91MjVMa2JHeEpnUzZERFh5S09jYzdLK1ZFNFFEaGtndUQ2Y1ZZbjVkcDZCdGlMSmlDYk9na3ZXRUdvMmdrdHR6S3h2ZHhrTEV6dW4rSkJRVUZqa2IxQXZPVnZXZ01jVm8wdEhhaUZFUWcrclZyOHB0YS9vZHNORlhYWDlNTHJxakRyOXJxQk1McHgwYlI0dHNnSytpdFdBcHM2QW1zYzVJakkrTWIvbnJ4cHFMeVF4aWFvSmdRWFhQdEJCOEFLZUJ3RnVUMERtdmhHTG1JYlNDMVpIRDdOWTkrRFh5Q2x5ZXpnNjlsRTBMdVFHMWZlTDhGek5EdW5RcDJTeHZCVGJxZkJXc1RlVjVESXFuYWRVM2hDZUdxWjdWbXFJSU51NS93STVSS1phNDB2UGNxUjFwemluOE8zUVl1MXlxeERIZz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LXRvcC9idWJibGUtYmctMi1saW5lLmdpZiBIVFRQLzEuMQ0KQWNjZXB0OiBpbWFnZS9wbmcsIGltYWdlL3N2Zyt4bWwsIGltYWdlL2p4ciwgaW1hZ2UvKjtxPTAuOCwgKi8qO3E9MC41DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTAgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDJkOWI2Y2RhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFiNmlhbHl0UkY3OEZaamozYUpPeGVFbnVoMWJpOFB3OWJnZ0xNRjNESW9lTm9yNVNLNTlpY0lNaEdqNnF1NkUrUS9CdUlIVkxQRVIwQmxxL21kU3ZpV0VMdzEyYXJLYk5WSFRQNVVVcTdQbDRiZzBCWVB1MjdaODNxR3JaYmpHVFJIVmMzVEFVbjlhZyt3SVFXYUtnK2xNc1hUL0RzSlF2Y1hySWtVZTVZdisvR2drc0tLNllQaGxDK090MTJSYzd2MzQzTCtrc2dKMk45NGFMZWtwclVubVg3VC8yWFVJTDVUdmovb05VSmRFbldmdE5GaTZPdTI1TGtiR3hKZ1M2RERYeUtPY2M3SytWRTRRRGhrZ3VENmNWWW41ZHA2QnRpTEppQ2JPZ2t2V0VHbzJna3R0ekt4dmR4a0xFenVuK0pCUVVGamtiMUF2T1Z2V2dNY1ZvMHRIYWlGRVFnK3JWcjhwdGEvb2RzTkZYWFg5TUxycWpEcjlycUJNTHB4MGJSNHRzZ0sraXRXQXBzNkFtc2M1SWpJK01iL25yeHBxTHlReGlhb0pnUVhYUHRCQjhBS2VCd0Z1VDBEbXZoR0xtSWJTQzFaSEQ3Tlk5K0RYeUNseWV6ZzY5bEUwTHVRRzFmZUw4RnpORHVuUXAyU3h2QlRicWZCV3NUZVY1RElxbmFkVTNoQ2VHcVo3Vm1xSUlOdTUvd0k1UktaYTQwdlBjcVIxcHppbjhPM1FZdTF5cXhESGc9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVUeWJkWjFwQmU0eVlmMHpYTFQ0UWlLV3UzMXZyTDZ4Rjc2eG9WSHJQVGFzb0dsN3NQOVVXRVNwUTUrTXh0bHdmNWdNK2s4c1hKdTFOUWhKNEZtQVFkd3lLazcxeU14V2ZpMlBwb1BBK0UwcVZvZkVmRUVVQVFhWFFZU2N2aE1FZ3FrRGVrNW9kRU83azdQUjhRMUU9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVUeWJkWjFwQmU0eVlmMHpYTFQ0UWlLV3UzMXZyTDZ4Rjc2eG9WSHJQVGFzb0dsN3NQOVVXRVNwUTUrTXh0bHdmNWdNK2s4c1hKdTFOUWhKNEZtQVFkd3lLazcxeU14V2ZpMlBwb1BBK0UwcVZvZkVmRUVVQVFhWFFZU2N2aE1FZ3FrRGVrNW9kRU83azdQUjhRMUU9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708156" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="238" hostname="omniconv" path="/OMNIStatic/images/menu-top/bubble-bg-3-line.gif" url="http://omniconv/OMNIStatic/images/menu-top/bubble-bg-3-line.gif" ip="10.37.149.132" port="80" connectionId="8" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:12.941-07:00" startTime="102708171" endTime="102708171">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWE4cUp2ajh3SCs3NHN0dTJNUXdGOTZLNkZUUGo4YlNHNVlKSjhyYnN2NEdTQjRtMHQvMnpEMjFRZUlSbHFQaEppT2Z3Z2hrTzZvUU1GdVErSjRNMis2R3FVR2dVc0gvNnVNUW9NV2ZUM29veTNKMzRIaTdjandRME9jbzAzVzhpREZPZXozMmhya2RmMU12THJRZnJQZm5zV1UxWjdKWEUydUNBc3o0bzdRUHZEZDZ0SXl4VWZyVytscmhKTzdNSWFuTkk1a2ZDOW13RU82R0thY3Y4aFpyd1JabXJDUXl5SHliNlA2azZmalNTNzd3bkZ3eWd4eWx1NlQrSXRMVjZSUEVDZXlPMVNhcWdXUFIveUh5TVRMejNkUG5sZHNjVHpEd202M2x6cWJjK3F1NTNpcXRtOUZ3OEUwNkNKUjV5cWE2eGhTdjBLZXdHYUVQbDFZYTdLV3k5OXlDL0t6ZUZzUlFBam4xWGpYSEtEUTNEeGNLbHRCM1pBandSRm0vQ3lNazArY09seEdyRUYxbHRSSlZ0a0cyTi9nZkxQa1pkVEFTaG1kY25SV2ZNZEhxRmFSZDZtWTQrR05PSG9pSGJZZ0pOdFJ4SVc2MjdIM0NPcEQ0bmQvTlU3bVphQUt6R2d2T0k1UDJ1cHBMWklyM3NOZk12TjRJN25PUHRTRmptb1ZrRk9BU0ZnU0Y4TzczMUJwbWtqRC9SOEVaKzU0Vmtzcmc5SG1yN3Z0dDcwK0wvWjBXQT09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LXRvcC9idWJibGUtYmctMy1saW5lLmdpZiBIVFRQLzEuMQ0KQWNjZXB0OiBpbWFnZS9wbmcsIGltYWdlL3N2Zyt4bWwsIGltYWdlL2p4ciwgaW1hZ2UvKjtxPTAuOCwgKi8qO3E9MC41DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTAgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDJkOWI2Y2RhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFhOHFKdmo4d0grNzRzdHUyTVF3Rjk2SzZGVFBqOGJTRzVZSko4cmJzdjRHU0I0bTB0LzJ6RDIxUWVJUmxxUGhKaU9md2doa082b1FNRnVRK0o0TTIrNkdxVUdnVXNILzZ1TVFvTVdmVDNvb3kzSjM0SGk3Y2p3UTBPY28wM1c4aURGT2V6MzJocmtkZjFNdkxyUWZyUGZuc1dVMVo3SlhFMnVDQXN6NG83UVB2RGQ2dEl5eFVmclcrbHJoSk83TUlhbk5JNWtmQzltd0VPNkdLYWN2OGhacndSWm1yQ1F5eUh5YjZQNms2ZmpTUzc3d25Gd3lneHlsdTZUK0l0TFY2UlBFQ2V5TzFTYXFnV1BSL3lIeU1UTHozZFBubGRzY1R6RHdtNjNsenFiYytxdTUzaXF0bTlGdzhFMDZDSlI1eXFhNnhoU3YwS2V3R2FFUGwxWWE3S1d5OTl5Qy9LemVGc1JRQWpuMVhqWEhLRFEzRHhjS2x0QjNaQWp3UkZtL0N5TWswK2NPbHhHckVGMWx0UkpWdGtHMk4vZ2ZMUGtaZFRBU2htZGNuUldmTWRIcUZhUmQ2bVk0K0dOT0hvaUhiWWdKTnRSeElXNjI3SDNDT3BENG5kL05VN21aYUFLekdndk9JNVAydXBwTFpJcjNzTmZNdk40STduT1B0U0ZqbW9Wa0ZPQVNGZ1NGOE83MzFCcG1rakQvUjhFWis1NFZrc3JnOUhtcjd2dHQ3MCtML1owV0E9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVLek1ZWGRxclczclRDWmZRc0FscmtFeEpwYnh3VXBKVjdIbVR0UmhZNEc1U2FEL3hVa2VsYjRxQnh4N2hMbTd5clJmWU5MQ2ZKcnRYdWptdmpEYUZtemRWNU16TmFjeEdFUlBKbEtFVm9qV3dqaGY1d3JEOCt6cHlFKzN3QUFLbUVDWkU0NW5mU0ZQU1NpME9BYWc9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVLek1ZWGRxclczclRDWmZRc0FscmtFeEpwYnh3VXBKVjdIbVR0UmhZNEc1U2FEL3hVa2VsYjRxQnh4N2hMbTd5clJmWU5MQ2ZKcnRYdWptdmpEYUZtemRWNU16TmFjeEdFUlBKbEtFVm9qV3dqaGY1d3JEOCt6cHlFKzN3QUFLbUVDWkU0NW5mU0ZQU1NpME9BYWc9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708171" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="241" hostname="omniconv" path="/OMNIStatic/images/menu-top/bubble-bg-1-line.gif" url="http://omniconv/OMNIStatic/images/menu-top/bubble-bg-1-line.gif" ip="10.37.149.132" port="80" connectionId="1" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:12.956-07:00" startTime="102708171" endTime="102708171">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVp2WXdtTEJmNDhVa2hXNkMrYmwrem03dnRMcWltOU1LRURTQ3VieUVBZ1NqTjV3UnpXYUdaRElsTm0rOUVRQXV3OTl6SzZ3eUdwNkIyZ1Q3WHBNbm5PMFU4TkF1QkcxM3pzWHVPSTRuQXQvcnNHTStNaUFYK29JaGs4K0NNcW1taUZNZERES3N6dk9pcFN4eWhaUTJ4NW0wUmRnWlNuNTdrT1VHZXpsU0RjRU81M2lqQTAwV1BTNHZ5TkNiM3NXRWJEWHdvTFo1V3VKbXVlMStYUFlJM093NlZrSUp2ODhYWmw3Z2FZSVh4ZklNdGhScllncFFNaDN1dFE2Q2toYk1ubVlpL3Y2UDFrUUtvNUdPNnU5TFkxZ2ZadExiZ0lJMU5VdkdnM1NzcDkrSWhUVFA2Y2RZYzUyZ2dmY1BPRFk0NDBpQ0VMTjFtbEIxOEsrYzh0bllYWS9aaXpMcUpKVm9VSUQ4emM3M0Q1VVI2U0YvMXY5ME1JLzFHK3RhN2NYWkpzdlVzTXMxQnV2alBRU05IOHl4WElMTUI3ajNZMDVLMkRFMWJlQ1EzeGYrWDhlQUpDREZLS3c3NjROdVViYndpdHJENU5kL3Zvamdnb3o1blRxZG5JYnJGcFFnM21hK2FXTzFWWDk0Z3VxZHd2VEpVZStyZThFdXNwQmlJK1NBc0tZT2xnWVlQUlQ4Sy9Xc3lMRzJ3b1pJWXRqOWJuZ0VSOHFza2RNV0ZIYUZDTC9ESTg0Zz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LXRvcC9idWJibGUtYmctMS1saW5lLmdpZiBIVFRQLzEuMQ0KQWNjZXB0OiBpbWFnZS9wbmcsIGltYWdlL3N2Zyt4bWwsIGltYWdlL2p4ciwgaW1hZ2UvKjtxPTAuOCwgKi8qO3E9MC41DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTAgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDJkOWI2Y2RhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFadll3bUxCZjQ4VWtoVzZDK2JsK3ptN3Z0THFpbTlNS0VEU0N1YnlFQWdTak41d1J6V2FHWkRJbE5tKzlFUUF1dzk5eks2d3lHcDZCMmdUN1hwTW5uTzBVOE5BdUJHMTN6c1h1T0k0bkF0L3JzR00rTWlBWCtvSWhrOCtDTXFtbWlGTWREREtzenZPaXBTeHloWlEyeDVtMFJkZ1pTbjU3a09VR2V6bFNEY0VPNTNpakEwMFdQUzR2eU5DYjNzV0ViRFh3b0xaNVd1Sm11ZTErWFBZSTNPdzZWa0lKdjg4WFpsN2dhWUlYeGZJTXRoUnJZZ3BRTWgzdXRRNkNraGJNbm1ZaS92NlAxa1FLbzVHTzZ1OUxZMWdmWnRMYmdJSTFOVXZHZzNTc3A5K0loVFRQNmNkWWM1MmdnZmNQT0RZNDQwaUNFTE4xbWxCMThLK2M4dG5ZWFkvWml6THFKSlZvVUlEOHpjNzNENVVSNlNGLzF2OTBNSS8xRyt0YTdjWFpKc3ZVc01zMUJ1dmpQUVNOSDh5eFhJTE1CN2ozWTA1SzJERTFiZUNRM3hmK1g4ZUFKQ0RGS0t3NzY0TnVVYmJ3aXRyRDVOZC92b2pnZ296NW5UcWRuSWJyRnBRZzNtYSthV08xVlg5NGd1cWR3dlRKVWUrcmU4RXVzcEJpSStTQXNLWU9sZ1lZUFJUOEsvV3N5TEcyd29aSVl0ajlibmdFUjhxc2tkTVdGSGFGQ0wvREk4NGc9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVPN2VjVFBhaVFzLzNvYnZTRDk0cjQ2TEFabjhlejdRQXVJVmdlVjAxSC9WWHNQWFozVkQyUXJFdWtmbkxNVlRzaUE2Wi9idFAyaGFONnRnT3lDeDNyeE5BK29iT1ExaWg5UnlwTHZlR0R2TFRnM0hGQTRxalFmN1EwTXc3Tk1WL1M0VURLeFBZYXR2b2NDYXVrNWM9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVPN2VjVFBhaVFzLzNvYnZTRDk0cjQ2TEFabjhlejdRQXVJVmdlVjAxSC9WWHNQWFozVkQyUXJFdWtmbkxNVlRzaUE2Wi9idFAyaGFONnRnT3lDeDNyeE5BK29iT1ExaWg5UnlwTHZlR0R2TFRnM0hGQTRxalFmN1EwTXc3Tk1WL1M0VURLeFBZYXR2b2NDYXVrNWM9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708171" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="243" hostname="omniconv" path="/OMNIStatic/images/menu-top/logged-in-bg.jpg" url="http://omniconv/OMNIStatic/images/menu-top/logged-in-bg.jpg" ip="10.37.149.132" port="80" connectionId="1" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:12.956-07:00" startTime="102708187" endTime="102708187">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJvYXVYNzRHM2FQTnQreFNEWWtod3NObzU5MG9oaGU3NVBwK3BzTnlmQkJhTE4zOGVyRlZtNzVMWDZlZ0FMdDV0UXBkdk0xMmd5cnoxNFpCNWxSUFVtWnZkQzM4bTAyUVlkam51L0x2ZHZ6K2U5VndVNnExTndqY2dyaDBzazA2UHAyTWgxZ2o2bjdzN2VXbkE3ZzV5ZzlmeEtrbVlxalhmYmZIa0llZ3duT1RsQnRpaStkQ1NXSlZUeWJOVFZLbWRUY1laWmhWKzEwSTBLUUpISzcxT1kvZ25jV1dJY2NhVk9GRWRkYzhoSnM2Y0hiTkc3bjdwMUgzQkdNeGM3cXkzMFVxWTAyeVB1Q1k0WStsbEQ4YkI1b04zRWN1WTNsbTBNdXNxZ3VDUFN0dG1nMWloWU9KVXdQZTNXLytLQXJST2lzRUZRWFFUY2pGV1hhWjc2Vk1kR3JzRTE5UmUvWkJTMFVlaTFDbmZ6OUx3ZmhnUllQRTUrMEZQeHBCQlFkOVF2dmF6RWtISXlBN3Z3NDlZMitvYkZ1WGt2VzVJZmNxWkJ3VTVMVjNqWGZ0Nkhkem9IeHkzVEx3ZVhWL0liWFROQWpkTVRhUEJmUnE0N1hoYkowYWUwRjFCYmlRUzV3MXFEUFpPcDZ0YzFHYVNmRTl6MDNvUEFPWHpzMlc2bDVJMWJzd08vbjBBakptQlpONmN6MlpXaDFFNXppcjl5WC84bEZFY3VSdDdMY3pnWk1TRjlaUT09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LXRvcC9sb2dnZWQtaW4tYmcuanBnIEhUVFAvMS4xDQpBY2NlcHQ6IGltYWdlL3BuZywgaW1hZ2Uvc3ZnK3htbCwgaW1hZ2UvanhyLCBpbWFnZS8qO3E9MC44LCAqLyo7cT0wLjUNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwMmQ5YjZjZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJvYXVYNzRHM2FQTnQreFNEWWtod3NObzU5MG9oaGU3NVBwK3BzTnlmQkJhTE4zOGVyRlZtNzVMWDZlZ0FMdDV0UXBkdk0xMmd5cnoxNFpCNWxSUFVtWnZkQzM4bTAyUVlkam51L0x2ZHZ6K2U5VndVNnExTndqY2dyaDBzazA2UHAyTWgxZ2o2bjdzN2VXbkE3ZzV5ZzlmeEtrbVlxalhmYmZIa0llZ3duT1RsQnRpaStkQ1NXSlZUeWJOVFZLbWRUY1laWmhWKzEwSTBLUUpISzcxT1kvZ25jV1dJY2NhVk9GRWRkYzhoSnM2Y0hiTkc3bjdwMUgzQkdNeGM3cXkzMFVxWTAyeVB1Q1k0WStsbEQ4YkI1b04zRWN1WTNsbTBNdXNxZ3VDUFN0dG1nMWloWU9KVXdQZTNXLytLQXJST2lzRUZRWFFUY2pGV1hhWjc2Vk1kR3JzRTE5UmUvWkJTMFVlaTFDbmZ6OUx3ZmhnUllQRTUrMEZQeHBCQlFkOVF2dmF6RWtISXlBN3Z3NDlZMitvYkZ1WGt2VzVJZmNxWkJ3VTVMVjNqWGZ0Nkhkem9IeHkzVEx3ZVhWL0liWFROQWpkTVRhUEJmUnE0N1hoYkowYWUwRjFCYmlRUzV3MXFEUFpPcDZ0YzFHYVNmRTl6MDNvUEFPWHpzMlc2bDVJMWJzd08vbjBBakptQlpONmN6MlpXaDFFNXppcjl5WC84bEZFY3VSdDdMY3pnWk1TRjlaUT09DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU5OGlMNVZnV2dRSTNkMURZMEowZ1FHRmVjQjJ1VGpiY1RwK25kaWh0OHRNUDdVU21UekR1RDFEdURkNEp0TE8wSEJaeDJ4MzhvUUJhaHQ0bjVWSUh0MFpxR2V2S1NOeVlBdC8rN1B4OXlNNUxNVGlJQUZ2T0lWa1R5WE42bHE0MUwvSno1RWNERkk4M0xhT3Q1TXM9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU5OGlMNVZnV2dRSTNkMURZMEowZ1FHRmVjQjJ1VGpiY1RwK25kaWh0OHRNUDdVU21UekR1RDFEdURkNEp0TE8wSEJaeDJ4MzhvUUJhaHQ0bjVWSUh0MFpxR2V2S1NOeVlBdC8rN1B4OXlNNUxNVGlJQUZ2T0lWa1R5WE42bHE0MUwvSno1RWNERkk4M0xhT3Q1TXM9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708187" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="245" hostname="omniconv" path="/OMNIStatic/images/menu-top/bubble-bg-5-line.gif" url="http://omniconv/OMNIStatic/images/menu-top/bubble-bg-5-line.gif" ip="10.37.149.132" port="80" connectionId="9" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:12.956-07:00" startTime="102708187" endTime="102708187">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlJaGVNUVdOdWg0ekNhLzRmUm1vOXRiYUtyMEVoaUVGSi94QUFDdmFENm8wWVpxTm1QVE42MXo2WDRSekQ4UHFrWVR4OGRCME1ENksrbE9TaXZJQXNOZVN6dDkyZXVJK1hwcm1lSkF4NXBweEIwcG5ZQXcxYjRFeXdmTEJXekl6YVVuVXgzWXlQaUVCYzloMTZzOUpCbGlzNWRXNFhncVp5OW9TaXhjSjBveUl6cnVWaEtScVR1Mzh6YVdyeUpzMUJBYkdoRVUwR0RjZUVyMmQrQzBwQjczSWs0aU45TXdhTDBvZnZld2Zhc2owL1lPcXYyNlVXWERvaFhudUNkK1d1cEVNKy8xa2xvRnFWTUZ0K2x1dzVPZE4zZ1RxeTBhZU9kVkNLN2dxYVhsZjRwSDFtV0FlVnRLZXZhcCtoZ3A1cDJJdnY5bXdvMTVuWTNmallHbHJFZWlnVDVtNFU1QW9TS2g3SlhSQlhVSHVHRjR0QklSUXRXUVVqcElNL3NHNUNJSElZN1ErVnc1bnF5YkRRRFdFdkl0Q1BwdlRLWTEvWGhWdHhYY0FTUjVXcjd4amY1aVhCSVNlWVRoSG9YZElZejRzREhNajF4Y3V5NERZcDNEWlFpVmFFSGd5MERCVDV6dy9FNU5lTXk0dlduaG80UHMvcmhoZlZZbGswcmkvOXo4ZTk0aFZ0VFJNeFBFSHVRWGd3WW1BdTBlS0l3VFV1czZFMGFSQzVQSEdlUnJOSnpkZz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LXRvcC9idWJibGUtYmctNS1saW5lLmdpZiBIVFRQLzEuMQ0KQWNjZXB0OiBpbWFnZS9wbmcsIGltYWdlL3N2Zyt4bWwsIGltYWdlL2p4ciwgaW1hZ2UvKjtxPTAuOCwgKi8qO3E9MC41DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTAgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDJkOWI2Y2RhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFZSWhlTVFXTnVoNHpDYS80ZlJtbzl0YmFLcjBFaGlFRkoveEFBQ3ZhRDZvMFlacU5tUFRONjF6Nlg0UnpEOFBxa1lUeDhkQjBNRDZLK2xPU2l2SUFzTmVTenQ5MmV1SStYcHJtZUpBeDVwcHhCMHBuWUF3MWI0RXl3ZkxCV3pJemFVblV4M1l5UGlFQmM5aDE2czlKQmxpczVkVzRYZ3FaeTlvU2l4Y0owb3lJenJ1VmhLUnFUdTM4emFXcnlKczFCQWJHaEVVMEdEY2VFcjJkK0MwcEI3M0lrNGlOOU13YUwwb2Z2ZXdmYXNqMC9ZT3F2MjZVV1hEb2hYbnVDZCtXdXBFTSsvMWtsb0ZxVk1GdCtsdXc1T2ROM2dUcXkwYWVPZFZDSzdncWFYbGY0cEgxbVdBZVZ0S2V2YXAraGdwNXAySXZ2OW13bzE1blkzZmpZR2xyRWVpZ1Q1bTRVNUFvU0toN0pYUkJYVUh1R0Y0dEJJUlF0V1FVanBJTS9zRzVDSUhJWTdRK1Z3NW5xeWJEUURXRXZJdENQcHZUS1kxL1hoVnR4WGNBU1I1V3I3eGpmNWlYQklTZVlUaEhvWGRJWXo0c0RITWoxeGN1eTREWXAzRFpRaVZhRUhneTBEQlQ1encvRTVOZU15NHZXbmhvNFBzL3JoaGZWWWxrMHJpLzl6OGU5NGhWdFRSTXhQRUh1UVhnd1ltQXUwZUtJd1RVdXM2RTBhUkM1UEhHZVJyTkp6ZGc9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV5NGJpUGV3QU54SGZuQ0lVU3VWbHNONmxORW5IWU83d3VLdFlHY1F4M3ByOE9TSUNYVXUxOW90cmNJQmd0WXJIdzVXbHQ0dlBDNG1CcGhjNHN5QVhWOWcrSEErRjB2aHc4bkVzS3ZoemFzeDBBeE10REFkTHFWSHhsdjk1SFZBenNUKzVXbERVWWhwWUFybkJTT2s9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnV5NGJpUGV3QU54SGZuQ0lVU3VWbHNONmxORW5IWU83d3VLdFlHY1F4M3ByOE9TSUNYVXUxOW90cmNJQmd0WXJIdzVXbHQ0dlBDNG1CcGhjNHN5QVhWOWcrSEErRjB2aHc4bkVzS3ZoemFzeDBBeE10REFkTHFWSHhsdjk1SFZBenNUKzVXbERVWWhwWUFybkJTT2s9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708187" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="250" hostname="omniconv" path="/OMNIStatic/images/menu-left/img-noarrow.gif" url="http://omniconv/OMNIStatic/images/menu-left/img-noarrow.gif" ip="10.37.149.132" port="80" connectionId="8" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:13.003-07:00" startTime="102708187" endTime="102708203">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFLM3NVNWR6Nk9YYlhxU0d2ZDdqQ3JUMnppQ2krNTZwckhxRHEzS2JMNWZJakVybmJEMXZMUVU5WGJHa0FQMllJN1lJSzU4dWFVZitCVCtNVzVtbXovL3hXdyt1c3U5YkJCWGdNYXl2Sk5WYlh1M1NkU0JGRjVKUStkcG84cTY2UzhWTEN4QTVWdjA2MlU5L2NtYXByUHcrNFg0eVVGcEtkRkRQK2VjbWpXTTYzN1lPbXJ0WnZuQi94d1FTY0RCemJiRnVBZ1BsRDM2YVpRVXBaS1k2UytlaWJRejcvb2FIcDhLVjNDVkF5c21QaHQwNWptS2swQVFBZGlPQkFwMUNWTmlWTURkR0luZStvOWNRbTVmaDJxWEpITGtvdHhMdVFkUnBaSmZQcjdBUHFJbkhMYmdnZjJFak1xc0c2WlNEY1VYazlVenNYdll6bWxhVnZlditVODFVUUtyOWU5b3MyYzJtN3cvSzRuWFFOUmE1T3lCR2Zsa1VVb3VneW5RYytYZFJHNm8zNVdReVBxaFZvUnlRQURKaW9jblZzWWZVa2VNMk43RWlUa20vUjZNd1Y3R3g3U0JoelkvMTh6Y0dETk83bjRUUWhmOVpVM0hVV2JXVmVuMnZETk5OK0ZmcnM3YjVnOEJJTlNSVWFDaHIvaURwSERsRWMzOFcyeWRLM1lVWU5nem9ZemVNZEg5ck9VT1hqVHFGVHZSNVdvSG5iVEtzNHJjTmIxOC9XWHk5UGdGUT09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LWxlZnQvaW1nLW5vYXJyb3cuZ2lmIEhUVFAvMS4xDQpBY2NlcHQ6IGltYWdlL3BuZywgaW1hZ2Uvc3ZnK3htbCwgaW1hZ2UvanhyLCBpbWFnZS8qO3E9MC44LCAqLyo7cT0wLjUNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwMmQ5YjZjZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWFLM3NVNWR6Nk9YYlhxU0d2ZDdqQ3JUMnppQ2krNTZwckhxRHEzS2JMNWZJakVybmJEMXZMUVU5WGJHa0FQMllJN1lJSzU4dWFVZitCVCtNVzVtbXovL3hXdyt1c3U5YkJCWGdNYXl2Sk5WYlh1M1NkU0JGRjVKUStkcG84cTY2UzhWTEN4QTVWdjA2MlU5L2NtYXByUHcrNFg0eVVGcEtkRkRQK2VjbWpXTTYzN1lPbXJ0WnZuQi94d1FTY0RCemJiRnVBZ1BsRDM2YVpRVXBaS1k2UytlaWJRejcvb2FIcDhLVjNDVkF5c21QaHQwNWptS2swQVFBZGlPQkFwMUNWTmlWTURkR0luZStvOWNRbTVmaDJxWEpITGtvdHhMdVFkUnBaSmZQcjdBUHFJbkhMYmdnZjJFak1xc0c2WlNEY1VYazlVenNYdll6bWxhVnZlditVODFVUUtyOWU5b3MyYzJtN3cvSzRuWFFOUmE1T3lCR2Zsa1VVb3VneW5RYytYZFJHNm8zNVdReVBxaFZvUnlRQURKaW9jblZzWWZVa2VNMk43RWlUa20vUjZNd1Y3R3g3U0JoelkvMTh6Y0dETk83bjRUUWhmOVpVM0hVV2JXVmVuMnZETk5OK0ZmcnM3YjVnOEJJTlNSVWFDaHIvaURwSERsRWMzOFcyeWRLM1lVWU5nem9ZemVNZEg5ck9VT1hqVHFGVHZSNVdvSG5iVEtzNHJjTmIxOC9XWHk5UGdGUT09DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVmaDhOZFFzMnhJR3FkZ3I3NDlYS3ZTSURlOGZKTzROektDb2grWFRZYUk1YmVxNjBjc1BhbXRRRC9hdXR5U2VFL0ZmKzNDS1VRcmo4UHF1ZmJJV1duSkNSRUNlS0pCMlpZaWxzMFM5REo3Y1pCL2lqMTR1eDZyU0dwUVpWT252b2E0cndDWThMSHZMcUZPYzh1K3M9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVmaDhOZFFzMnhJR3FkZ3I3NDlYS3ZTSURlOGZKTzROektDb2grWFRZYUk1YmVxNjBjc1BhbXRRRC9hdXR5U2VFL0ZmKzNDS1VRcmo4UHF1ZmJJV1duSkNSRUNlS0pCMlpZaWxzMFM5REo3Y1pCL2lqMTR1eDZyU0dwUVpWT252b2E0cndDWThMSHZMcUZPYzh1K3M9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708203" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="252" hostname="omniconv" path="/OMNIStatic/images/menu-top/css-bg-off.jpg" url="http://omniconv/OMNIStatic/images/menu-top/css-bg-off.jpg" ip="10.37.149.132" port="80" connectionId="1" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:13.003-07:00" startTime="102708203" endTime="102708203">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJaVU94Y0hzQy9wWXNXekJaNmdrL1lNaEhMWXkxK0lIVnpjRFV4VlJJYlZwNjlJV3cxRUg0ZWM2dVVGQjkyb2phOFRTZWhhNWJjbys4eGpxdFpsZjcxWjJ0SzVNVGhyYkp5MlQ4LzZtNHp0Y1Zvc0tHMVY2TjBhSy9PemI0a0l1ZVNRTWFvZmQ5dDRtTzJtaUZkNFVWeDRHaFMzZmRaNHIzZjVPVFA5aXlLN2xVRk9rbVpoS2Y4eHZRMGJIcFgrUTZXQ0RTNUpVbWx2L0llZHNlRE9OdTRkODRLcmM1TDZpbXhYdmtLenVLcVhDRVJ6YUZtdEJjZDBMRktzTWNqeGVkRXVmWFhZSlRDSHN3RzZ6WU8rUDJXZVVJY1RWdFFRQnFlY1VGV1gySCtPQ2gxQ3dRdWpUWGpXZDVsOVE3S1VLT2FPL3AxTnVVUTB5cXRqOUhCWVNnbjZaMGIwMlBvY2pmRDNjQUhGNGhXc09hVDlqVHlJOWRpR0ovbHI3bmNMU2xGaW95TTMrdE5ST0NJamk4bit3WVF1anZYTnA1VlhJVmFiWHM2QVg3TTduZWZLdTR3czBGdEM0TzBySjV2K3dFQ2lkMys1ZGxXdnJCc1pzNFg3OUh4QzJ4RkhDcWN6Ykk1SE9BUENBdk5FOU1JNHRLZ084S3hQRjVWZDB6b0ZmWUhZS0pGTmVNdE9CbndIZlNmN2lOR3JNblVTeG9yVU9UdnpYWDdJMFduUHZBaXVtSXl4QT09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LXRvcC9jc3MtYmctb2ZmLmpwZyBIVFRQLzEuMQ0KQWNjZXB0OiBpbWFnZS9wbmcsIGltYWdlL3N2Zyt4bWwsIGltYWdlL2p4ciwgaW1hZ2UvKjtxPTAuOCwgKi8qO3E9MC41DQpSZWZlcmVyOiBodHRwOi8vb21uaWNvbnYvb21uaS9hZHZjb3IvY3NQbG4vb2ZmZW5kZXJDYXNlUGxhbi5odG0NCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBvbW5pY29udg0KSWYtTW9kaWZpZWQtU2luY2U6IFR1ZSwgMTYgSmFuIDIwMTggMTQ6NTg6MTAgR01UDQpJZi1Ob25lLU1hdGNoOiAiMDJkOWI2Y2RhOGVkMzE6MCINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFiWlVPeGNIc0MvcFlzV3pCWjZnay9ZTWhITFl5MStJSFZ6Y0RVeFZSSWJWcDY5SVd3MUVINGVjNnVVRkI5Mm9qYThUU2VoYTViY28rOHhqcXRabGY3MVoydEs1TVRocmJKeTJUOC82bTR6dGNWb3NLRzFWNk4wYUsvT3piNGtJdWVTUU1hb2ZkOXQ0bU8ybWlGZDRVVng0R2hTM2ZkWjRyM2Y1T1RQOWl5SzdsVUZPa21aaEtmOHh2UTBiSHBYK1E2V0NEUzVKVW1sdi9JZWRzZURPTnU0ZDg0S3JjNUw2aW14WHZrS3p1S3FYQ0VSemFGbXRCY2QwTEZLc01janhlZEV1ZlhYWUpUQ0hzd0c2ellPK1AyV2VVSWNUVnRRUUJxZWNVRldYMkgrT0NoMUN3UXVqVFhqV2Q1bDlRN0tVS09hTy9wMU51VVEweXF0ajlIQllTZ242WjBiMDJQb2NqZkQzY0FIRjRoV3NPYVQ5alR5STlkaUdKL2xyN25jTFNsRmlveU0zK3ROUk9DSWppOG4rd1lRdWp2WE5wNVZYSVZhYlhzNkFYN003bmVmS3U0d3MwRnRDNE8wcko1dit3RUNpZDMrNWRsV3ZyQnNaczRYNzlIeEMyeEZIQ3FjemJJNUhPQVBDQXZORTlNSTR0S2dPOEt4UEY1VmQwem9GZllIWUtKRk5lTXRPQm53SGZTZjdpTkdyTW5VU3hvclVPVHZ6WFg3STBXblB2QWl1bUl5eEE9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU4S0MzK2J4WjAxalhUMU1nK3hmUVJVWW1ldTZZUnR5M2pNWHVTbmN1ZStJNWV2WWVGbTFwWWdkemJpSjcvNGFsN3ZVUmtFOWRKcE1zRmorR1NGNEpDdEM0MUxSRWhzakNHQUpmVmhQUmlUR3VmYXVFUUFxUlVFSDYvbWZpKzM1NUVSZ0ROZ2JndXJmN3EyKzB2YjQ9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnU4S0MzK2J4WjAxalhUMU1nK3hmUVJVWW1ldTZZUnR5M2pNWHVTbmN1ZStJNWV2WWVGbTFwWWdkemJpSjcvNGFsN3ZVUmtFOWRKcE1zRmorR1NGNEpDdEM0MUxSRWhzakNHQUpmVmhQUmlUR3VmYXVFUUFxUlVFSDYvbWZpKzM1NUVSZ0ROZ2JndXJmN3EyKzB2YjQ9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708203" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="254" hostname="omniconv" path="/OMNIStatic/images/icons/red-flag.gif" url="http://omniconv/OMNIStatic/images/icons/red-flag.gif" ip="10.37.149.132" port="80" connectionId="1" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:13.003-07:00" startTime="102708218" endTime="102708218">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlkUnNKWno3WnY1L1pIYjhKd04vdXl3Mnc4ZnNYZUUzYXp5Y1RINHVKY2w4WStmbzRKVGs0WE9uSytORUVpaVBDaHJpR0JuUnRXN0EzMTdnZDJLSHhiZFhBSlQwckdUMG1BWHNRcURUVThvNktkTFFlVDF6bG9HUnhKdEorZ1d4VlZNQ2R0ZnV2OXV3NVFOZkhDUDd6SGNVclk2amxPaC8wMmR1TzhDS2VKei9SeFUyNVUvTFhaVHVmbWRHM09KbFowMGt4c0I2R0hlVitwdmMwbXd3Zi9HTlp6d01lS3ZmSmNDbVJpLzJpNFpmai8zc3NId1NvZ1A0UEE4RUxhM3QvWE0wSzRib0NldVpBL3VTeGxSVTFiYnJBeUo0bE95NURwV1dZWnJsT0pidXFVNC8vUW1OQVB5QTV4YjJocUtVTXAvS1NTeWpPK3VDNnp4S0dabVhpZWVWMlRzWGFyTXJaQTVMVmlIYnpaQUlUTmlvS1loQXJKYXZQN0FrSExnNjJsZjdoQ1haVHRpdXZmUE5WNmF1alhLUzQzQ1BmNmxSbU5VZFl3VEphZG5BMzhzMGUralFFQi9VTHdmVkMvUXphcHIzRUYrdTJGNStTU0tPbVdGSWJyaXpSTFhZOUpEdUZQYVhIWHdVakJYbDdXYTBBNEhycEYrVjNpYnZMOGNMMWZ5TzhUL09YRlYrRER2Vk4ySjhHZi9rY215dFlpYWtzVjVMd0VkSERrckpBZmhBekRMdz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9pY29ucy9yZWQtZmxhZy5naWYgSFRUUC8xLjENCkFjY2VwdDogaW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ0KUmVmZXJlcjogaHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRtDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NDsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogb21uaWNvbnYNCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogSlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTENCkF1dGhvcml6YXRpb246IE5lZ290aWF0ZSBZSUlMVWdZR0t3WUJCUVVDb0lJTFJqQ0NDMEtnTURBdUJna3Foa2lDOXhJQkFnSUdDU3FHU0liM0VnRUNBZ1lLS3dZQkJBR0NOd0lDSGdZS0t3WUJCQUdDTndJQ0NxS0NDd3dFZ2dzSVlJSUxCQVlKS29aSWh2Y1NBUUlDQVFCdWdncnpNSUlLNzZBREFnRUZvUU1DQVE2aUJ3TUZBQ0FBQUFDamdna2RZWUlKR1RDQ0NSV2dBd0lCQmFFTkd3dEVUME14TGxkQkxreERUS0lyTUNtZ0F3SUJBcUVpTUNBYkJFaFVWRkFiR0dSdll6RjNZblIxYlRFM01TNWtiMk14TG5kaExteGpiS09DQ05Bd2dnak1vQU1DQVJLaEF3SUJVNktDQ0w0RWdnaTZJYytlR2wzVmRYSWtGS1hOdTNiZTBXdnA5SmFYTFdBMFhHSXk5NEJjc3RONXR6L3g3QTdXdENNdEdaQ0pON3ZWemEvdEdScU50MTA0dVdKaXVjTmVIT3BnN3d2aHJTNHBmdk5leGRCV0hrN1dCZkU3Zk4zanhhWkNKeVRYVlByRzhpYm5JT2FTdVQwQTdFQm9Zd0RWdVlpOWhMc1BLYmUxemZRUWxjbmtLSGZjUGVPRzNSb1hEYm1OU2tlSWI3amYxOGV2eURZdWtjYmlpbG9kb056VDV5TjlHSlUzb1ZadE1WV2d0bEcxZUNtTm1Bc1hPREdpRHRzc3ZPcENrV2dYVkhNTXorSUNRbFhMUTgxaVdHclRLalBVTUVRWFRxV0puUDROTTFuT0RTV3FISW13Y0RCL01RLzNWU2ZqT3VQZlVHeWZKQUhmWXJ5dG8wK0xNamZtVjl2RXZqT1BvM2ZMaGIwOCtoOUtHK3AxbmhJd3ZVTkJlZHh1OSt3NlZNNloyc1hsLzR0ZUkvaUdVY2ZOOGVvaHJ5ZGpXU2xYOC9pUlBoTnNMVWxxZ0V4ZE5xbDR1dkNUUHFOZzNxM3cvODdGNCtoZ29oTndiZjRnZ1hRT1ZGTVhjbmwvSzlTSkJFT3VMekhzbUp2ZXM3MUJYYmpwWS93YTdKaGdlSE5ZOHg0QUtFU1hiZktvekdXYXBNZ0dMQXNqVEFKSU1vQ0pLRjNaRHNoTHEzTFZUWnE2Q3lYdVgrcE9tK1dxVlUzUTJ5elY5TUwwaDgzd21iT1RrSGVYTWpOS2lBbjVOODZ5RU4rY3F2c0xGOUJ0U0ZQYk5qTXlET3pTb3ZlRCtXdVptZmVOSEQxSVozNjhQekp3MUgwSTI5b2Z1UXVNZ2JmdVhoaERoeG9XWklLVGVRN2c2dDhVU1F1eHZCei9WbjMybWlRM0thMzMwSVdEYTV5R1J6VzR0Zjgxdk5yOVRmZHF3aDBWRm01eWx6QUt4L3NqVHQwcjdXcyt6S0tNcDh1T3JGbFE2ZzFMaDA3Mit1UnB4SzF0OC9OT0JwSVhpWWFPMXo5cXNZVWRwcUIzVXprdGxQb2R0ZlhETlJiRGFVckVNRlYyeTBRQTMyajJKQ3YzTXNlSTRGQ3lrcnBNRVhXSFdqd1JjenU5UDlxV0cyYWI4TFVROVlzMHl2U1U4aG5NNFpQMTIxQXluaTZ6OTFKdmtlSXJkQlJleTFyRlI2cjBlTU1LSDVvVnV3aGxseHp1SGFmcWxhYTJDS3E5ZDZuak5IdmZiOVlrTUoyYWRmRHA3RkI1OENDRGRoSUlrU1lwcEl1Qmc5dXVtOS9RdjNiU25MalQwOGZIek9nVlMrcVY3Q3RkcVB4K2RxS08xRElGL3FiNjl6ekNBc2Q0RWsyb1hLOVRyNGFiMHlERG1rK3FuTEtuR1ErM0tOL2Q4UGFsVElzc0NjUndIVUlaUkVqV05tSEwxMGl1ZkZTU055WjdRTkV2WjY3WGc3MjlnTDZXVVM2SDdldnFGdDIzRmM0WEdrQWZkREgvaWc1OXRFejV2S2laS3dRdjRqMTgxcXlZQ0RNYW9mVHZuNGVOVUdxNE1JRmtDNjVzVENIaDhRdnVxTVZsd0ZiQ3RubzVDV2dkVWgrdVNIMWttU1VlSVYzeVlxUFV6ZFlpNjVFcU41QU5sVm9KSnQxVGdVU3pWOHkyT2YyNFN1VDA1V0dhSFdsUVJjaVF4VHlxTDdXVkFHV2hyanpyQXYvTy9XNm5xdENIZ0dQNVFubE84MUoxOGlxazVZTnFzaElyZHZMMlJJdFlxMVpwRnY4OVVUcEhyb1N4MVZydXl3MTdRNUpKTlFWaTlJMFhFeW04bnc4MXVwTm9VMVloSGtZZ1IyOVlKYVI2Wm52aytEYVVIampaM285bG1wMWR4SnBVb0dqUTJueUFOWmEzZlYvSHVxT1VYV056YUNEaE5rVDdqc0psU2NuOVgzdWpDNlVZTk9kSHJBcWJvQmZIZ25TSTA5WWt4TEY4bm1HWjM4dWJXMkl5VTlRRTNNcXpWSitZL2p0MkV3RXp2azY5S243cllLTmpoN1UrSndQeEZtemlNUDVLQWt5VWVaK3BOUHh6YVE1WGtlN1BGejB1cXBST1YrazNHcXZtVHZUY2RmcUtyZUFLdGNJQlhBaWF3bnBnOEFKNytycDVPbmExamFhZFdWWU1CV1I4bUNPbW8rSmtPN2Q5Y01jK3djRHZQbVAzTmxqWjdPQnpFdlVBblVvbllIUHlNbWVpa3BaWEtnL1RGOUpCWnRmOHJ1WkttenNYaGxWRzJwbE1Ma3JDd0dyZ0pPWjFGanhkdmNjV3BkOFBrMnNVWWNqcjdTcnc0VkhWSUQycUJJQTZaZzVJT1lFYVd0cUQ0bnlLeFNyZkUxR3RUcmRXUHJxR3NaK1d6YW9DY3prcE1DMUxJdTVFTVNDU01DM2JGZTlkaS8wOXVrMEpuSGljVzR0SUdTUkRNbmY5eDAyL1MrQ1o0OHliUGFCVnF2V2xPd1E2ZWh2a1YzWVpnTk96ZjJILzArcFVYM2MxZUl3Y2xwMys5RE51N0xsKyt0YkNhYWtnYjFjN3RveDZTV3piQmlSd3NTSmMvL2I4NUhJcFJ6MmJYU3BQbWJkUURpcFNBclBxMTl3UzUxNUtGYnNzZFoxMXZQMTBzNmtmaUxWKzBxQXZRNHVPN3dobzYzNmNqcDU5N3VoVmVWV2NTNnUwdlN3YytCM29YYkROQ1UrdTh6dDE1a25mSVNjZ3FzNUZudVZLU1N0ci9lTCsyWEQ5QjNiUnZvOTV4REw2Y2wxRzJWYnpiSWkydTFKMnpybUl1TkdzYTRxRExCZVo3djVqU1JyQTIxTlRLNDFZbHNVUkluRVJJR0grVFMyWHJPUjBGQlpQaklxZmNRcGZOWU9ZUG8wSTZtU3Q1MzZxYnBsOEZhNE5nMng5SSt5ZjFVSnhFek1jK0tiNFJHQzdnUEJIMmRnNURVOERWVDhMQ3BIREV5OGI5cHFkZ2Ywako5U29FY1ZDZFl6M2hSV1F3SHJSeUhWaHdVcys2UnVRR0tZVmN2c09UV1I3R0lCdHh5aHRwd3RETTFvcXZMemdLNjBna0pKVEhlVmJCc2lJYzRPNWsrYmZ6Ym8wYlREaE52SXg2MnRRRnZDRXd3eGVCL1IvUlVrMXVxbnJabzArRStBamM5SnBXaytFV1RMYlZmSy81WG53RlhsZkc5b1ZwSUk1dFN5UDJmMmRTejl2aXFpMXN5bG5tMFJPb0MzVVIvVnlZZHBLR0ZHSGVLZU5iNEszdHF6bkkvMnlBcktWMndlMXVFM2JldFFZMXNub1M3QzQvN3lkOVowQ1BiK2tsNVoyaG1tNlhySHBNSzNjZzJwNEJDQURLbCtlaTFDa2diZmNReHd1VkRpZ1A0M0RJcGZoc1ZYSlZ6V2VmbCs1WEdaU2JrQUdiV2pZbHNLUkJvc1RkelkzYTIxWkY3TEhHV2YrTmNKN2g1VDZyeE8vY09IWmt0M1dSaDFOcS9waUlGbVZvNTdxamxLQ3JmcENNNkVRV3JneGFLUWI3QVM0djdCY0MxcktLRWVlYTFjODRXT0ozbzA1MWpzcmtIWmdVWk1lZnV6VVlzZEpHM3RrRGZSNi9mdWJVZGpZTEI4UERtS25FSmlTQ1NhNzNZUml6eXIwZVVjQWxyRmdyczYvME9yYWNSVVZOTGZPU0hsRGVYWHlEaklHUDF2NFQyQ3dzQlQ3cUZzbUpoNDJqc083ZU13VlFwTThvMDhFYTRuKytsVDRkZE5obUE3ZUZkRVlqUHhTUzRIYVVlTDM3VitSMi9lUVN6NUdlL3hWTlltNFpjZ2p4bnp0azhlUzVEcEdVVm13Nmx3RUhyWDE4WFF0Qjh1citaRi9ZNmhtclVRbzJ1Q2t6KyszMW5pRDlrL0ZIVEIzbWp5ZU9aUkF2MytrZ2dHM01JSUJzNkFEQWdFU29vSUJxZ1NDQWFZZFJzSlp6N1p2NS9aSGI4SndOL3V5dzJ3OGZzWGVFM2F6eWNUSDR1SmNsOFkrZm80SlRrNFhPbksrTkVFaWlQQ2hyaUdCblJ0VzdBMzE3Z2QyS0h4YmRYQUpUMHJHVDBtQVhzUXFEVFU4bzZLZExRZVQxemxvR1J4SnRKK2dXeFZWTUNkdGZ1djl1dzVRTmZIQ1A3ekhjVXJZNmpsT2gvMDJkdU84Q0tlSnovUnhVMjVVL0xYWlR1Zm1kRzNPSmxaMDBreHNCNkdIZVYrcHZjMG13d2YvR05aendNZUt2ZkpjQ21SaS8yaTRaZmovM3NzSHdTb2dQNFBBOEVMYTN0L1hNMEs0Ym9DZXVaQS91U3hsUlUxYmJyQXlKNGxPeTVEcFdXWVpybE9KYnVxVTQvL1FtTkFQeUE1eGIyaHFLVU1wL0tTU3lqTyt1QzZ6eEtHWm1YaWVlVjJUc1hhck1yWkE1TFZpSGJ6WkFJVE5pb0tZaEFySmF2UDdBa0hMZzYybGY3aENYWlR0aXV2ZlBOVjZhdWpYS1M0M0NQZjZsUm1OVWRZd1RKYWRuQTM4czBlK2pRRUIvVUx3ZlZDL1F6YXByM0VGK3UyRjUrU1NLT21XRklicml6UkxYWTlKRHVGUGFYSFh3VWpCWGw3V2EwQTRIcnBGK1YzaWJ2TDhjTDFmeU84VC9PWEZWK0REdlZOMko4R2Yva2NteXRZaWFrc1Y1THdFZEhEa3JKQWZoQXpETHc9PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvZ2lm</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVWZVc0NWFaQjlzc29WNDNIa2ZEby9BUnNCbEhXdHdaWmxuUEJITlo4MUdlb2ZYdFcwWFRNOWIrZGNKZElNMHNaWFlKMVRpdTYwYVJrT3BwOGdpT1RSUDM4QXd1amhyMkk1NmlmREk2VmdWMThEeDBHKytndVBHc3VyOXlsNUorUGdzWjhZbEJtVHlmbW5iZWdKeG89</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ODUy</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGltYWdlL2dpZg0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVWZVc0NWFaQjlzc29WNDNIa2ZEby9BUnNCbEhXdHdaWmxuUEJITlo4MUdlb2ZYdFcwWFRNOWIrZGNKZElNMHNaWFlKMVRpdTYwYVJrT3BwOGdpT1RSUDM4QXd1amhyMkk1NmlmREk2VmdWMThEeDBHKytndVBHc3VyOXlsNUorUGdzWjhZbEJtVHlmbW5iZWdKeG89DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KQ29udGVudC1MZW5ndGg6IDg1Mg0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>R0lGODlhDAAMAPcAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAgxAP8JHEhwIAAAAg8W/AcgwMEADg8iTAixokOCDS1OxAhR4cKGGxcyFImRZEmTKFEGBAA7</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="102708218" offset="0" length="1376" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="256" hostname="omniconv" path="/OMNIStatic/images/menu-top/css-bg-on.jpg" url="http://omniconv/OMNIStatic/images/menu-top/css-bg-on.jpg" ip="10.37.149.132" port="80" connectionId="9" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:13.019-07:00" startTime="102708203" endTime="102708218">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-Modified-Since" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="If-None-Match" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlGMjFncUVYVWk3L2pvUk9PQkhPUSs1QnZCaU05YkZuWkg5dnJMRWN3bXhkMnl3QXNvcDZHTU04cS91dlFtYlBRWFN2c09RenArbmttNFkwMktidHhyUlVDNUdFQzkvK0YrS3JEdzllY08yK2ZnK1EvRWpjRlFWZ1BwNUNsbVQ4eDZnd0F3OW40NTliQXV4OTFESmZxWlpoUEFmbC9WbEF1UU9UV0ZWb2pXZ243ZDRqSis4c3NLNUZab3VnYnUxQ0t2YlJ5T0ZmWjMxbWt4SWZ3ZmxsQm10Tm1NUVdKakpDU0Eyam1SVytGaEY2WXdtNmpyNDFuV29kOWJseWNReE5tSDZsM2J4TEJLZnNGV1FDa3VsblVtQW5LdTZiYW42NHc0S1E1T2czMEtnUTl1dVhRUUhxOW9PK1NOemtCTm5seDc0QUVjMjZucGdtUVRhWHFGNlpqQzhJaGt2Z2FKelNMUVZqME1Tanh0RzRpZS9jNWZPZGt4amZwcVp0RkV5eEpTR0szQlFTaEdvdzA3aWFmTDgyMzFjR3pWSklUMTBFVnhSY3hkeE0zV1NPbWVOUlFUd0RrSDgyWnY1RCs1TEdDK2xkRjh5d01kaGprUTgzUk1aWTFySzlZNWJnV0JDU1k1VGR3QWFNRVdkdjBmbS9mV0w4SXptOTJzcENkOHBVeS84M2NGTGI2Y2RydDJubTVDajVQZk1yVnBUWTJkT3VvUWJLMXMrWlBRSXBmcWRkaHFmZz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9tZW51LXRvcC9jc3MtYmctb24uanBnIEhUVFAvMS4xDQpBY2NlcHQ6IGltYWdlL3BuZywgaW1hZ2Uvc3ZnK3htbCwgaW1hZ2UvanhyLCBpbWFnZS8qO3E9MC44LCAqLyo7cT0wLjUNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpJZi1Nb2RpZmllZC1TaW5jZTogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCklmLU5vbmUtTWF0Y2g6ICIwMmQ5YjZjZGE4ZWQzMTowIg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBKU0VTU0lPTklEPTAwMDBSQjVuOHhiejRTTTc4VmxZNEFnQWM5bDotMQ0KQXV0aG9yaXphdGlvbjogTmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYVlGMjFncUVYVWk3L2pvUk9PQkhPUSs1QnZCaU05YkZuWkg5dnJMRWN3bXhkMnl3QXNvcDZHTU04cS91dlFtYlBRWFN2c09RenArbmttNFkwMktidHhyUlVDNUdFQzkvK0YrS3JEdzllY08yK2ZnK1EvRWpjRlFWZ1BwNUNsbVQ4eDZnd0F3OW40NTliQXV4OTFESmZxWlpoUEFmbC9WbEF1UU9UV0ZWb2pXZ243ZDRqSis4c3NLNUZab3VnYnUxQ0t2YlJ5T0ZmWjMxbWt4SWZ3ZmxsQm10Tm1NUVdKakpDU0Eyam1SVytGaEY2WXdtNmpyNDFuV29kOWJseWNReE5tSDZsM2J4TEJLZnNGV1FDa3VsblVtQW5LdTZiYW42NHc0S1E1T2czMEtnUTl1dVhRUUhxOW9PK1NOemtCTm5seDc0QUVjMjZucGdtUVRhWHFGNlpqQzhJaGt2Z2FKelNMUVZqME1Tanh0RzRpZS9jNWZPZGt4amZwcVp0RkV5eEpTR0szQlFTaEdvdzA3aWFmTDgyMzFjR3pWSklUMTBFVnhSY3hkeE0zV1NPbWVOUlFUd0RrSDgyWnY1RCs1TEdDK2xkRjh5d01kaGprUTgzUk1aWTFySzlZNWJnV0JDU1k1VGR3QWFNRVdkdjBmbS9mV0w4SXptOTJzcENkOHBVeS84M2NGTGI2Y2RydDJubTVDajVQZk1yVnBUWTJkT3VvUWJLMXMrWlBRSXBmcWRkaHFmZz09DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Last-Modified" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVBenFIUzBPWEE2V3hKV3hYVnJrL25HMHZZTmNKRHJhY2NDWHEzWjRPclBtS2ptb0svSlFZeVg2RWV3VTdzd3FaTWkxcW5zQnFWU0U3WkkrMjltaVEzWE5aMDhJVlAvNnR4VlhvVGJUTVI2ZXB0YWpQSGNXeHhWYzhudk93YWJmMVpNVzlYdCtKT0VCbmc4VU5rRGc9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzA0IE5vdCBNb2RpZmllZA0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVBenFIUzBPWEE2V3hKV3hYVnJrL25HMHZZTmNKRHJhY2NDWHEzWjRPclBtS2ptb0svSlFZeVg2RWV3VTdzd3FaTWkxcW5zQnFWU0U3WkkrMjltaVEzWE5aMDhJVlAvNnR4VlhvVGJUTVI2ZXB0YWpQSGNXeHhWYzhudk93YWJmMVpNVzlYdCtKT0VCbmc4VU5rRGc9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <TcpPackets>
        <PacketInfo time="102708218" offset="0" length="488" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="258" hostname="omniconv" path="/OMNIStatic/images/buttons/button-plus-gray.gif" url="http://omniconv/OMNIStatic/images/buttons/button-plus-gray.gif" ip="10.37.149.132" port="80" connectionId="8" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:13.019-07:00" startTime="102708218" endTime="102708234">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJ0Q2NWMTd1SHlLd3ZnQ1dMU056V2cvdERGaXJNR2hnNmdxZkVzVzZaL0IvMURTZ3ZzUnJzdmM1ekgvdllock5IMUhxUjB5RU8wWVM4Sm1mWVpNYlowMmtaS1R5a0dPR29mMVYycFRxUUNsdGxqalFwWi81YXhsak1iaVNRZXZRWUdsejBOdkcrOUZ4QXhJTVorNWZqS0YzQjB0N0Z3dEJNRUU2RkNOYzRoeXowWCtNU25YRHZJNVBwcFpCQTRMTXc0enVPSXkrbnR6QzFzWmtXcUsrYlltMXRnRWYxUGpkcko2T3lkUEpVRjgvbEhydFZKdnIwSkZOSlhDdlBuT204LzlpaXpieXR6WjZueDQwSGVuZjlaUW5UUkNDWmczSmRrVDZnNXlGQW9NU1FtcGplaCt0YllOcUNHVlFrWUdEZ3p1dFQxRGZtL1RNZmUwQTV6L0hnc1BnaFUzejhYcFA0MU5uOVpXbHFESWtMOHJ5RUNEK3VGY3hyZTRjR2tXUXllMTI4Zjk2cTlwZW00NlY1NGFmbkVzUW5TZDJCa0kvS1piNm02QzRSN3JLeVg1djB5UWI4S0k5NFFXcXlXQVVJSi9FUEFKL3N5YnhycDRMOWdsYitUMEcrSWtYc0pLRVdWRVgwRVRMRktQUGdNTnJGM2VNUjlRenBsSGxCbHNYRFNoK0NiSnorckMwZ1RSL3UyOXpXN0FSUVpGQk5FWnM0SEJWclBDTE0vRDJEZ2U2dzBiZz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9idXR0b25zL2J1dHRvbi1wbHVzLWdyYXkuZ2lmIEhUVFAvMS4xDQpBY2NlcHQ6IGltYWdlL3BuZywgaW1hZ2Uvc3ZnK3htbCwgaW1hZ2UvanhyLCBpbWFnZS8qO3E9MC44LCAqLyo7cT0wLjUNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYnRDY1YxN3VIeUt3dmdDV0xTTnpXZy90REZpck1HaGc2Z3FmRXNXNlovQi8xRFNndnNScnN2YzV6SC92WWhyTkgxSHFSMHlFTzBZUzhKbWZZWk1iWjAya1pLVHlrR09Hb2YxVjJwVHFRQ2x0bGpqUXBaLzVheGxqTWJpU1FldlFZR2x6ME52Rys5RnhBeElNWis1ZmpLRjNCMHQ3Rnd0Qk1FRTZGQ05jNGh5ejBYK01TblhEdkk1UHBwWkJBNExNdzR6dU9JeStudHpDMXNaa1dxSytiWW0xdGdFZjFQamRySjZPeWRQSlVGOC9sSHJ0Vkp2cjBKRk5KWEN2UG5PbTgvOWlpemJ5dHpaNm54NDBIZW5mOVpRblRSQ0NaZzNKZGtUNmc1eUZBb01TUW1wamVoK3RiWU5xQ0dWUWtZR0RnenV0VDFEZm0vVE1mZTBBNXovSGdzUGdoVTN6OFhwUDQxTm45WldscURJa0w4cnlFQ0QrdUZjeHJlNGNHa1dReWUxMjhmOTZxOXBlbTQ2VjU0YWZuRXNRblNkMkJrSS9LWmI2bTZDNFI3ckt5WDV2MHlRYjhLSTk0UVdxeVdBVUlKL0VQQUovc3lieHJwNEw5Z2xiK1QwRytJa1hzSktFV1ZFWDBFVExGS1BQZ01OckYzZU1SOVF6cGxIbEJsc1hEU2grQ2JKeityQzBnVFIvdTI5elc3QVJRWkZCTkVaczRIQlZyUENMTS9EMkRnZTZ3MGJnPT0NCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvZ2lm</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVyRmszWFVLM0plRTVibko5ZG1kL2lPQ3UvZ0pxaUtRN01Nc1c1Wm1kaitCMGpWdm52Sm1FUEdkQXNKTUZyRlpCTk4vZEVKa1BhY3FRUHArWDlsN0N4Sy9LNHdVS1dJeFJkQmpzT0twYnJDS3M3Rm5hblQ2NEs5SmVZWmJJbFNTdGkrd3Yra1ROQUVkdmJBY2NYZGM9</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>OTUz</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGltYWdlL2dpZg0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVyRmszWFVLM0plRTVibko5ZG1kL2lPQ3UvZ0pxaUtRN01Nc1c1Wm1kaitCMGpWdm52Sm1FUEdkQXNKTUZyRlpCTk4vZEVKa1BhY3FRUHArWDlsN0N4Sy9LNHdVS1dJeFJkQmpzT0twYnJDS3M3Rm5hblQ2NEs5SmVZWmJJbFNTdGkrd3Yra1ROQUVkdmJBY2NYZGM9DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KQ29udGVudC1MZW5ndGg6IDk1Mw0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>R0lGODlhDwAPAOcAAAAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmNjY2RkZGVlZWZmZmdnZ2hoaGlpaWpqamtra2xsbG1tbW5ubm9vb3BwcHFxcXJycnNzc3R0dHV1dXZ2dnd3d3h4eHl5eXp6ent7e3x8fH19fX5+fn9/f4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb6+vr+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3t/f3+Dg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f7+/v///yH5BAEKAP8ALAAAAAAPAA8AAAiWAP+xITNQDRmDCMmE+RcmWbVkyCAimzhxF64wYao9fJisY0dkFjFqrBbxDhmKyHCpEkly4hMfFHepIsWS4suYqi5hhHip0iUfNXxWIkVUZKUaSJMivUNKZ0ZkPUn58FGpKqmZIlHenIiraU2XNSh2dYoS18CUKi8ZwghSlduZTS+pXRtGZk65lxbJNcR3YRiFGAMLXhgQADs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="102708218" offset="0" length="1477" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="260" hostname="omniconv" path="/OMNIStatic/images/buttons/button-plus-15pt.gif" url="http://omniconv/OMNIStatic/images/buttons/button-plus-15pt.gif" ip="10.37.149.132" port="80" connectionId="10" origin="ExtraRes" frame="1" startDateTime="2018-08-14T12:16:13.019-07:00" startTime="102708218" endTime="102708234">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvcG5nLCBpbWFnZS9zdmcreG1sLCBpbWFnZS9qeHIsIGltYWdlLyo7cT0wLjgsICovKjtxPTAuNQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL29tbmljb252L29tbmkvYWR2Y29yL2NzUGxuL29mZmVuZGVyQ2FzZVBsYW4uaHRt</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>b21uaWNvbnY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD0wMDAwUkI1bjh4Yno0U003OFZsWTRBZ0FjOWw6LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Authorization" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIFlJSUxVZ1lHS3dZQkJRVUNvSUlMUmpDQ0MwS2dNREF1QmdrcWhraUM5eElCQWdJR0NTcUdTSWIzRWdFQ0FnWUtLd1lCQkFHQ053SUNIZ1lLS3dZQkJBR0NOd0lDQ3FLQ0N3d0VnZ3NJWUlJTEJBWUpLb1pJaHZjU0FRSUNBUUJ1Z2dyek1JSUs3NkFEQWdFRm9RTUNBUTZpQndNRkFDQUFBQUNqZ2drZFlZSUpHVENDQ1JXZ0F3SUJCYUVOR3d0RVQwTXhMbGRCTGt4RFRLSXJNQ21nQXdJQkFxRWlNQ0FiQkVoVVZGQWJHR1J2WXpGM1luUjFiVEUzTVM1a2IyTXhMbmRoTG14amJLT0NDTkF3Z2dqTW9BTUNBUktoQXdJQlU2S0NDTDRFZ2dpNkljK2VHbDNWZFhJa0ZLWE51M2JlMFd2cDlKYVhMV0EwWEdJeTk0QmNzdE41dHoveDdBN1d0Q010R1pDSk43dlZ6YS90R1JxTnQxMDR1V0ppdWNOZUhPcGc3d3ZoclM0cGZ2TmV4ZEJXSGs3V0JmRTdmTjNqeGFaQ0p5VFhWUHJHOGlibklPYVN1VDBBN0VCb1l3RFZ1WWk5aExzUEtiZTF6ZlFRbGNua0tIZmNQZU9HM1JvWERibU5Ta2VJYjdqZjE4ZXZ5RFl1a2NiaWlsb2RvTnpUNXlOOUdKVTNvVlp0TVZXZ3RsRzFlQ21ObUFzWE9ER2lEdHNzdk9wQ2tXZ1hWSE1NeitJQ1FsWExRODFpV0dyVEtqUFVNRVFYVHFXSm5QNE5NMW5PRFNXcUhJbXdjREIvTVEvM1ZTZmpPdVBmVUd5ZkpBSGZZcnl0bzArTE1qZm1WOXZFdmpPUG8zZkxoYjA4K2g5S0crcDFuaEl3dlVOQmVkeHU5K3c2Vk02WjJzWGwvNHRlSS9pR1VjZk44ZW9ocnlkaldTbFg4L2lSUGhOc0xVbHFnRXhkTnFsNHV2Q1RQcU5nM3Ezdy84N0Y0K2hnb2hOd2JmNGdnWFFPVkZNWGNubC9LOVNKQkVPdUx6SHNtSnZlczcxQlhianBZL3dhN0poZ2VITlk4eDRBS0VTWGJmS296R1dhcE1nR0xBc2pUQUpJTW9DSktGM1pEc2hMcTNMVlRacTZDeVh1WCtwT20rV3FWVTNRMnl6VjlNTDBoODN3bWJPVGtIZVhNak5LaUFuNU44NnlFTitjcXZzTEY5QnRTRlBiTmpNeURPelNvdmVEK1d1Wm1mZU5IRDFJWjM2OFB6SncxSDBJMjlvZnVRdU1nYmZ1WGhoRGh4b1daSUtUZVE3ZzZ0OFVTUXV4dkJ6L1ZuMzJtaVEzS2EzMzBJV0RhNXlHUnpXNHRmODF2TnI5VGZkcXdoMFZGbTV5bHpBS3gvc2pUdDByN1dzK3pLS01wOHVPckZsUTZnMUxoMDcyK3VScHhLMXQ4L05PQnBJWGlZYU8xejlxc1lVZHBxQjNVemt0bFBvZHRmWEROUmJEYVVyRU1GVjJ5MFFBMzJqMkpDdjNNc2VJNEZDeWtycE1FWFdIV2p3UmN6dTlQOXFXRzJhYjhMVVE5WXMweXZTVThobk00WlAxMjFBeW5pNno5MUp2a2VJcmRCUmV5MXJGUjZyMGVNTUtINW9WdXdobGx4enVIYWZxbGFhMkNLcTlkNm5qTkh2ZmI5WWtNSjJhZGZEcDdGQjU4Q0NEZGhJSWtTWXBwSXVCZzl1dW05L1F2M2JTbkxqVDA4Zkh6T2dWUytxVjdDdGRxUHgrZHFLTzFESUYvcWI2OXp6Q0FzZDRFazJvWEs5VHI0YWIweUREbWsrcW5MS25HUSszS04vZDhQYWxUSXNzQ2NSd0hVSVpSRWpXTm1ITDEwaXVmRlNTTnlaN1FORXZaNjdYZzcyOWdMNldVUzZIN2V2cUZ0MjNGYzRYR2tBZmRESC9pZzU5dEV6NXZLaVpLd1F2NGoxODFxeVlDRE1hb2ZUdm40ZU5VR3E0TUlGa0M2NXNUQ0hoOFF2dXFNVmx3RmJDdG5vNUNXZ2RVaCt1U0gxa21TVWVJVjN5WXFQVXpkWWk2NUVxTjVBTmxWb0pKdDFUZ1VTelY4eTJPZjI0U3VUMDVXR2FIV2xRUmNpUXhUeXFMN1dWQUdXaHJqenJBdi9PL1c2bnF0Q0hnR1A1UW5sTzgxSjE4aXFrNVlOcXNoSXJkdkwyUkl0WXExWnBGdjg5VVRwSHJvU3gxVnJ1eXcxN1E1SkpOUVZpOUkwWEV5bThudzgxdXBOb1UxWWhIa1lnUjI5WUphUjZabnZrK0RhVUhqalozbzlsbXAxZHhKcFVvR2pRMm55QU5aYTNmVi9IdXFPVVhXTnphQ0RoTmtUN2pzSmxTY245WDN1akM2VVlOT2RIckFxYm9CZkhnblNJMDlZa3hMRjhubUdaMzh1YlcySXlVOVFFM01xelZKK1kvanQyRXdFenZrNjlLbjdyWUtOamg3VStKd1B4Rm16aU1QNUtBa3lVZVorcE5QeHphUTVYa2U3UEZ6MHVxcFJPVitrM0dxdm1UdlRjZGZxS3JlQUt0Y0lCWEFpYXducGc4QUo3K3JwNU9uYTFqYWFkV1ZZTUJXUjhtQ09tbytKa083ZDljTWMrd2NEdlBtUDNObGpaN09CekV2VUFuVW9uWUhQeU1tZWlrcFpYS2cvVEY5SkJadGY4cnVaS216c1hobFZHMnBsTUxrckN3R3JnSk9aMUZqeGR2Y2NXcGQ4UGsyc1VZY2pyN1NydzRWSFZJRDJxQklBNlpnNUlPWUVhV3RxRDRueUt4U3JmRTFHdFRyZFdQcnFHc1orV3phb0NjemtwTUMxTEl1NUVNU0NTTUMzYkZlOWRpLzA5dWswSm5IaWNXNHRJR1NSRE1uZjl4MDIvUytDWjQ4eWJQYUJWcXZXbE93UTZlaHZrVjNZWmdOT3pmMkgvMCtwVVgzYzFlSXdjbHAzKzlETnU3TGwrK3RiQ2Fha2diMWM3dG94NlNXemJCaVJ3c1NKYy8vYjg1SElwUnoyYlhTcFBtYmRRRGlwU0FyUHExOXdTNTE1S0Zic3NkWjExdlAxMHM2a2ZpTFYrMHFBdlE0dU83d2hvNjM2Y2pwNTk3dWhWZVZXY1M2dTB2U3djK0Izb1hiRE5DVSt1OHp0MTVrbmZJU2NncXM1Rm51VktTU3RyL2VMKzJYRDlCM2JSdm85NXhETDZjbDFHMlZiemJJaTJ1MUoyenJtSXVOR3NhNHFETEJlWjd2NWpTUnJBMjFOVEs0MVlsc1VSSW5FUklHSCtUUzJYck9SMEZCWlBqSXFmY1FwZk5ZT1lQbzBJNm1TdDUzNnFicGw4RmE0TmcyeDlJK3lmMVVKeEV6TWMrS2I0UkdDN2dQQkgyZGc1RFU4RFZUOExDcEhERXk4YjlwcWRnZjBqSjlTb0VjVkNkWXozaFJXUXdIclJ5SFZod1VzKzZSdVFHS1lWY3ZzT1RXUjdHSUJ0eHlodHB3dERNMW9xdkx6Z0s2MGdrSkpUSGVWYkJzaUljNE81aytiZnpibzBiVERoTnZJeDYydFFGdkNFd3d4ZUIvUi9SVWsxdXFuclpvMCtFK0FqYzlKcFdrK0VXVExiVmZLLzVYbndGWGxmRzlvVnBJSTV0U3lQMmYyZFN6OXZpcWkxc3lsbm0wUk9vQzNVUi9WeVlkcEtHRkdIZUtlTmI0SzN0cXpuSS8yeUFyS1Yyd2UxdUUzYmV0UVkxc25vUzdDNC83eWQ5WjBDUGIra2w1WjJobW02WHJIcE1LM2NnMnA0QkNBREtsK2VpMUNrZ2JmY1F4d3VWRGlnUDQzRElwZmhzVlhKVnpXZWZsKzVYR1pTYmtBR2JXallsc0tSQm9zVGR6WTNhMjFaRjdMSEdXZitOY0o3aDVUNnJ4Ty9jT0haa3QzV1JoMU5xL3BpSUZtVm81N3FqbEtDcmZwQ002RVFXcmd4YUtRYjdBUzR2N0JjQzFyS0tFZWVhMWM4NFdPSjNvMDUxanNya0haZ1VaTWVmdXpVWXNkSkczdGtEZlI2L2Z1YlVkallMQjhQRG1LbkVKaVNDU2E3M1lSaXp5cjBlVWNBbHJGZ3JzNi8wT3JhY1JVVk5MZk9TSGxEZVhYeURqSUdQMXY0VDJDd3NCVDdxRnNtSmg0MmpzTzdlTXdWUXBNOG8wOEVhNG4rK2xUNGRkTmhtQTdlRmRFWWpQeFNTNEhhVWVMMzdWK1IyL2VRU3o1R2UveFZOWW00WmNnanhuenRrOGVTNURwR1VWbXc2bHdFSHJYMThYUXRCOHVyK1pGL1k2aG1yVVFvMnVDa3orKzMxbmlEOWsvRkhUQjNtanllT1pSQXYzK2tnZ0czTUlJQnM2QURBZ0VTb29JQnFnU0NBYWJrZ05TMWVZLzlxVjZja0lnL1pBQXFrTGh1dVlickgycjJPVlFtMk9qTTdiN3Q2QzYvanRjcG5zcXJOeXVTYXRHWEpGam9hODNJVzIzeUwydmtyU245anhJMVBZSTdhK3NPeXExN0drUStlL2tRbGxlR3RPZHZmTkhPMXNpamtDQjRoZUZLVEYzMXQ2ZWw1K04yMWMyZDRubXZGaDF1Vklqemd1OE9OWExlWENPNktvYUpBdVpGWk91WnczdnI1VkJQdCtDcEhKSVVBaENPcGpDVy9rRHl1aGlaT3VPamFiZnZta1Q1UE5ESlhNeElHekxhTUNJVnhVWUlEbnNNRWp1aXlaVENrL3h4bDRPLzlsMTJFQkd3WWUvQng4ZGx5UTZqNW1pYWdqc3BLaG9HdVdsOFp1bHdmVmRsa3RIczhWRnQ0QWlNWXFBZ1FLVjBmL1pBOHNMOEZYWFdZYXVQditMcm1Fc0ptSjBmQ2ttK3VtZStNL1dVdHFkSVZHaWxPa1dKYTF6bDJCV21xcVBvR0xEV1RKclNqZTg4ay9XWlNHR095UXJUcUZHcU0yTEdtcDlqUUxVQ1NRVmpIWVpneVNHdW9JcjV0aWkyZWJ1V0xPN2gvL25kcUdXa2pTbzlTVjVLUjdOeGduWG95cHdyQS92aWxPOElrL25LV0lBRVRsMktoTnk0V1dkbFlVeEpoUHdsTWJzajlqenM0WWU1cUx5cFg4U20xd1pxd3F1dGRjb3g0QT09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9PTU5JU3RhdGljL2ltYWdlcy9idXR0b25zL2J1dHRvbi1wbHVzLTE1cHQuZ2lmIEhUVFAvMS4xDQpBY2NlcHQ6IGltYWdlL3BuZywgaW1hZ2Uvc3ZnK3htbCwgaW1hZ2UvanhyLCBpbWFnZS8qO3E9MC44LCAqLyo7cT0wLjUNClJlZmVyZXI6IGh0dHA6Ly9vbW5pY29udi9vbW5pL2FkdmNvci9jc1Bsbi9vZmZlbmRlckNhc2VQbGFuLmh0bQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG9tbmljb252DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IEpTRVNTSU9OSUQ9MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0xDQpBdXRob3JpemF0aW9uOiBOZWdvdGlhdGUgWUlJTFVnWUdLd1lCQlFVQ29JSUxSakNDQzBLZ01EQXVCZ2txaGtpQzl4SUJBZ0lHQ1NxR1NJYjNFZ0VDQWdZS0t3WUJCQUdDTndJQ0hnWUtLd1lCQkFHQ053SUNDcUtDQ3d3RWdnc0lZSUlMQkFZSktvWklodmNTQVFJQ0FRQnVnZ3J6TUlJSzc2QURBZ0VGb1FNQ0FRNmlCd01GQUNBQUFBQ2pnZ2tkWVlJSkdUQ0NDUldnQXdJQkJhRU5Hd3RFVDBNeExsZEJMa3hEVEtJck1DbWdBd0lCQXFFaU1DQWJCRWhVVkZBYkdHUnZZekYzWW5SMWJURTNNUzVrYjJNeExuZGhMbXhqYktPQ0NOQXdnZ2pNb0FNQ0FSS2hBd0lCVTZLQ0NMNEVnZ2k2SWMrZUdsM1ZkWElrRktYTnUzYmUwV3ZwOUphWExXQTBYR0l5OTRCY3N0TjV0ei94N0E3V3RDTXRHWkNKTjd2VnphL3RHUnFOdDEwNHVXSml1Y05lSE9wZzd3dmhyUzRwZnZOZXhkQldIazdXQmZFN2ZOM2p4YVpDSnlUWFZQckc4aWJuSU9hU3VUMEE3RUJvWXdEVnVZaTloTHNQS2JlMXpmUVFsY25rS0hmY1BlT0czUm9YRGJtTlNrZUliN2pmMThldnlEWXVrY2JpaWxvZG9OelQ1eU45R0pVM29WWnRNVldndGxHMWVDbU5tQXNYT0RHaUR0c3N2T3BDa1dnWFZITU16K0lDUWxYTFE4MWlXR3JUS2pQVU1FUVhUcVdKblA0Tk0xbk9EU1dxSEltd2NEQi9NUS8zVlNmak91UGZVR3lmSkFIZllyeXRvMCtMTWpmbVY5dkV2ak9QbzNmTGhiMDgraDlLRytwMW5oSXd2VU5CZWR4dTkrdzZWTTZaMnNYbC80dGVJL2lHVWNmTjhlb2hyeWRqV1NsWDgvaVJQaE5zTFVscWdFeGROcWw0dXZDVFBxTmczcTN3Lzg3RjQraGdvaE53YmY0Z2dYUU9WRk1YY25sL0s5U0pCRU91THpIc21KdmVzNzFCWGJqcFkvd2E3SmhnZUhOWTh4NEFLRVNYYmZLb3pHV2FwTWdHTEFzalRBSklNb0NKS0YzWkRzaExxM0xWVFpxNkN5WHVYK3BPbStXcVZVM1EyeXpWOU1MMGg4M3dtYk9Ua0hlWE1qTktpQW41Tjg2eUVOK2NxdnNMRjlCdFNGUGJOak15RE96U292ZUQrV3VabWZlTkhEMUlaMzY4UHpKdzFIMEkyOW9mdVF1TWdiZnVYaGhEaHhvV1pJS1RlUTdnNnQ4VVNRdXh2QnovVm4zMm1pUTNLYTMzMElXRGE1eUdSelc0dGY4MXZOcjlUZmRxd2gwVkZtNXlsekFLeC9zalR0MHI3V3MrektLTXA4dU9yRmxRNmcxTGgwNzIrdVJweEsxdDgvTk9CcElYaVlhTzF6OXFzWVVkcHFCM1V6a3RsUG9kdGZYRE5SYkRhVXJFTUZWMnkwUUEzMmoySkN2M01zZUk0RkN5a3JwTUVYV0hXandSY3p1OVA5cVdHMmFiOExVUTlZczB5dlNVOGhuTTRaUDEyMUF5bmk2ejkxSnZrZUlyZEJSZXkxckZSNnIwZU1NS0g1b1Z1d2hsbHh6dUhhZnFsYWEyQ0txOWQ2bmpOSHZmYjlZa01KMmFkZkRwN0ZCNThDQ0RkaElJa1NZcHBJdUJnOXV1bTkvUXYzYlNuTGpUMDhmSHpPZ1ZTK3FWN0N0ZHFQeCtkcUtPMURJRi9xYjY5enpDQXNkNEVrMm9YSzlUcjRhYjB5RERtaytxbkxLbkdRKzNLTi9kOFBhbFRJc3NDY1J3SFVJWlJFaldObUhMMTBpdWZGU1NOeVo3UU5Fdlo2N1hnNzI5Z0w2V1VTNkg3ZXZxRnQyM0ZjNFhHa0FmZERIL2lnNTl0RXo1dktpWkt3UXY0ajE4MXF5WUNETWFvZlR2bjRlTlVHcTRNSUZrQzY1c1RDSGg4UXZ1cU1WbHdGYkN0bm81Q1dnZFVoK3VTSDFrbVNVZUlWM3lZcVBVemRZaTY1RXFONUFObFZvSkp0MVRnVVN6Vjh5Mk9mMjRTdVQwNVdHYUhXbFFSY2lReFR5cUw3V1ZBR1docmp6ckF2L08vVzZucXRDSGdHUDVRbmxPODFKMThpcWs1WU5xc2hJcmR2TDJSSXRZcTFacEZ2ODlVVHBIcm9TeDFWcnV5dzE3UTVKSk5RVmk5STBYRXltOG53ODF1cE5vVTFZaEhrWWdSMjlZSmFSNlpudmsrRGFVSGpqWjNvOWxtcDFkeEpwVW9HalEybnlBTlphM2ZWL0h1cU9VWFdOemFDRGhOa1Q3anNKbFNjbjlYM3VqQzZVWU5PZEhyQXFib0JmSGduU0kwOVlreExGOG5tR1ozOHViVzJJeVU5UUUzTXF6VkorWS9qdDJFd0V6dms2OUtuN3JZS05qaDdVK0p3UHhGbXppTVA1S0FreVVlWitwTlB4emFRNVhrZTdQRnowdXFwUk9WK2szR3F2bVR2VGNkZnFLcmVBS3RjSUJYQWlhd25wZzhBSjcrcnA1T25hMWphYWRXVllNQldSOG1DT21vK0prTzdkOWNNYyt3Y0R2UG1QM05salo3T0J6RXZVQW5Vb25ZSFB5TW1laWtwWlhLZy9URjlKQlp0ZjhydVpLbXpzWGhsVkcycGxNTGtyQ3dHcmdKT1oxRmp4ZHZjY1dwZDhQazJzVVljanI3U3J3NFZIVklEMnFCSUE2Wmc1SU9ZRWFXdHFENG55S3hTcmZFMUd0VHJkV1BycUdzWitXemFvQ2N6a3BNQzFMSXU1RU1TQ1NNQzNiRmU5ZGkvMDl1azBKbkhpY1c0dElHU1JETW5mOXgwMi9TK0NaNDh5YlBhQlZxdldsT3dRNmVodmtWM1laZ05PemYySC8wK3BVWDNjMWVJd2NscDMrOUROdTdMbCsrdGJDYWFrZ2IxYzd0b3g2U1d6YkJpUndzU0pjLy9iODVISXBSejJiWFNwUG1iZFFEaXBTQXJQcTE5d1M1MTVLRmJzc2RaMTF2UDEwczZrZmlMViswcUF2UTR1Tzd3aG82MzZjanA1OTd1aFZlVldjUzZ1MHZTd2MrQjNvWGJETkNVK3U4enQxNWtuZklTY2dxczVGbnVWS1NTdHIvZUwrMlhEOUIzYlJ2bzk1eERMNmNsMUcyVmJ6YklpMnUxSjJ6cm1JdU5Hc2E0cURMQmVaN3Y1alNSckEyMU5USzQxWWxzVVJJbkVSSUdIK1RTMlhyT1IwRkJaUGpJcWZjUXBmTllPWVBvMEk2bVN0NTM2cWJwbDhGYTROZzJ4OUkreWYxVUp4RXpNYytLYjRSR0M3Z1BCSDJkZzVEVThEVlQ4TENwSERFeThiOXBxZGdmMGpKOVNvRWNWQ2RZejNoUldRd0hyUnlIVmh3VXMrNlJ1UUdLWVZjdnNPVFdSN0dJQnR4eWh0cHd0RE0xb3F2THpnSzYwZ2tKSlRIZVZiQnNpSWM0TzVrK2JmemJvMGJURGhOdkl4NjJ0UUZ2Q0V3d3hlQi9SL1JVazF1cW5yWm8wK0UrQWpjOUpwV2srRVdUTGJWZksvNVhud0ZYbGZHOW9WcElJNXRTeVAyZjJkU3o5dmlxaTFzeWxubTBST29DM1VSL1Z5WWRwS0dGR0hlS2VOYjRLM3Rxem5JLzJ5QXJLVjJ3ZTF1RTNiZXRRWTFzbm9TN0M0Lzd5ZDlaMENQYitrbDVaMmhtbTZYckhwTUszY2cycDRCQ0FES2wrZWkxQ2tnYmZjUXh3dVZEaWdQNDNESXBmaHNWWEpWeldlZmwrNVhHWlNia0FHYldqWWxzS1JCb3NUZHpZM2EyMVpGN0xIR1dmK05jSjdoNVQ2cnhPL2NPSFprdDNXUmgxTnEvcGlJRm1WbzU3cWpsS0NyZnBDTTZFUVdyZ3hhS1FiN0FTNHY3QmNDMXJLS0VlZWExYzg0V09KM28wNTFqc3JrSFpnVVpNZWZ1elVZc2RKRzN0a0RmUjYvZnViVWRqWUxCOFBEbUtuRUppU0NTYTczWVJpenlyMGVVY0FsckZncnM2LzBPcmFjUlVWTkxmT1NIbERlWFh5RGpJR1AxdjRUMkN3c0JUN3FGc21KaDQyanNPN2VNd1ZRcE04bzA4RWE0bisrbFQ0ZGROaG1BN2VGZEVZalB4U1M0SGFVZUwzN1YrUjIvZVFTejVHZS94Vk5ZbTRaY2dqeG56dGs4ZVM1RHBHVVZtdzZsd0VIclgxOFhRdEI4dXIrWkYvWTZobXJVUW8ydUNreisrMzFuaUQ5ay9GSFRCM21qeWVPWlJBdjMra2dnRzNNSUlCczZBREFnRVNvb0lCcWdTQ0FhYmtnTlMxZVkvOXFWNmNrSWcvWkFBcWtMaHV1WWJySDJyMk9WUW0yT2pNN2I3dDZDNi9qdGNwbnNxck55dVNhdEdYSkZqb2E4M0lXMjN5TDJ2a3JTbjlqeEkxUFlJN2Erc095cTE3R2tRK2Uva1FsbGVHdE9kdmZOSE8xc2lqa0NCNGhlRktURjMxdDZlbDUrTjIxYzJkNG5tdkZoMXVWSWp6Z3U4T05YTGVYQ082S29hSkF1WkZaT3VadzN2cjVWQlB0K0NwSEpJVUFoQ09wakNXL2tEeXVoaVpPdU9qYWJmdm1rVDVQTkRKWE14SUd6TGFNQ0lWeFVZSURuc01FanVpeVpUQ2sveHhsNE8vOWwxMkVCR3dZZS9CeDhkbHlRNmo1bWlhZ2pzcEtob0d1V2w4WnVsd2ZWZGxrdEhzOFZGdDRBaU1ZcUFnUUtWMGYvWkE4c0w4RlhYV1lhdVB2K0xybUVzSm1KMGZDa20rdW1lK00vV1V0cWRJVkdpbE9rV0phMXpsMkJXbXFxUG9HTERXVEpyU2plODhrL1daU0dHT3lRclRxRkdxTTJMR21wOWpRTFVDU1FWakhZWmd5U0d1b0lyNXRpaTJlYnVXTE83aC8vbmRxR1dralNvOVNWNUtSN054Z25Yb3lwd3JBL3ZpbE84SWsvbktXSUFFVGwyS2hOeTRXV2RsWVV4SmhQd2xNYnNqOWp6czRZZTVxTHlwWDhTbTF3WnF3cXV0ZGNveDRBPT0NCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDAwMFJCNW44eGJ6NFNNNzhWbFk0QWdBYzlsOi0x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvZ2lm</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjAyZDliNmNkYThlZDMxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="WWW-Authenticate" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVDeWJzaEFVeUtBeUtZTGdHWU1lZU9iUkdqdFNTNk04Z0tEYk5NanNCaFNXT2oxcndYZ1VpazF4TWR5ajFseXJjeU1rMklQYmJZZzVJZjJ6SzIzQTkybXQrSHlFblErRXc4dmVpYWFEWWNIR3V3SkxSTUJGWS9UVmZoWnZ2VjVBOXFRYUluVmIyNUZXNE80YytJY289</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAxNCBBdWcgMjAxOCAxOToxNTo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NTU2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGltYWdlL2dpZg0KTGFzdC1Nb2RpZmllZDogVHVlLCAxNiBKYW4gMjAxOCAxNDo1ODoxMCBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiMDJkOWI2Y2RhOGVkMzE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KV1dXLUF1dGhlbnRpY2F0ZTogTmVnb3RpYXRlIG9ZRzJNSUd6b0FNS0FRQ2hDd1lKS29aSWd2Y1NBUUlDb29HZUJJR2JZSUdZQmdrcWhraUc5eElCQWdJQ0FHK0JpRENCaGFBREFnRUZvUU1DQVEraWVUQjNvQU1DQVJLaWNBUnVDeWJzaEFVeUtBeUtZTGdHWU1lZU9iUkdqdFNTNk04Z0tEYk5NanNCaFNXT2oxcndYZ1VpazF4TWR5ajFseXJjeU1rMklQYmJZZzVJZjJ6SzIzQTkybXQrSHlFblErRXc4dmVpYWFEWWNIR3V3SkxSTUJGWS9UVmZoWnZ2VjVBOXFRYUluVmIyNUZXNE80YytJY289DQpEYXRlOiBUdWUsIDE0IEF1ZyAyMDE4IDE5OjE1OjQ3IEdNVA0KQ29udGVudC1MZW5ndGg6IDU1Ng0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>R0lGODlhDwAPAHAAACH5BAEAAHcALAAAAAAPAA8AhmZmOW5uQm9vQ25uQW1tQGxsP2xsPmJiOWpqPcrKpszMqcjIosfHoMbGncXFncTEmby8kLe3imdnOmtrPtjYtNfXstTUrNLSqc/Pps7Opc3Nn8LCk7e3iWdnOdjYr9bWrdLSqNDQpnx8Wm9vTs3NncjImbm5jK6ug2ZmONbWrNPTqs7OoMzMm1FRMkBAI8zMmcTEk62tgqWlfGVlOGtrPdTUqNDQocvLmb+/kKqqgKOjesLCmJ2ddZqab0hIKz09IZiYbqene6iofqCgeJ2ddzc3HHp6VtLSp8nJl729jtPTp9HRps3NnsvLmMjIlru7jJubdGRkN2pqPM3NocvLnsfHlsfHlcHBkXFxTmZmRL+/j7q6jK+vg5qadJOTb2lpO7Ozh6mpf6Ske5+fd5WVcIiIZouLaGNjNmhoO76+kbKyhqamfZycdZmZc5aWcY6Oa4SEY4+PbG1tP2lpPGRkOGZmOmFhNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJgHcCWYNyWYaIWVF3UQoeCi+QL5OTaU9RURSPjwqdnS+WmJoekUZZlC9PMZgepJMtLpRpMUGsri+wsjFdmJBdQF0uRcBAQcasQEXKy8pGQbxRpL9BLi5A10G0rKi5k0/PtpQtRZTf0KhPg6mqXWWYoDHxtM9d7e5Rs7v1XW/1Zf+LoijCRLDgokAAOw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="102708234" offset="0" length="1080" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>